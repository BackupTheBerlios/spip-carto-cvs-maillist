From stef at berlios.de  Sun Feb  6 14:53:43 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 6 Feb 2005 14:53:43 +0100
Subject: [Spip-carto-cvs] spip-carto/dist - New directory
Message-ID: <200502061353.j16Drh8Y014050@sheep.berlios.de>

Update of /cvsroot/spip-carto/spip-carto/dist
In directory sheep:/tmp/cvs-serv14040/dist

Log Message:
Directory /cvsroot/spip-carto/spip-carto/dist added to the repository




From stef at berlios.de  Sun Feb  6 14:53:54 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 6 Feb 2005 14:53:54 +0100
Subject: [Spip-carto-cvs] spip-carto/dist ical.html,NONE,1.1 resume.html,NONE,1.1 site.html,NONE,1.1 login.html,NONE,1.1 breve.html,NONE,1.1 sommaire.html,NONE,1.1 404.html,NONE,1.1 sommaire_texte.html,NONE,1.1 nouveautes.html,NONE,1.1 404.php3,NONE,1.1 rubrique.html,NONE,1.1 distrib.html,NONE,1.1 forum.html,NONE,1.1 recherche.html,NONE,1.1 auteur.html,NONE,1.1 article.html,NONE,1.1 mot.html,NONE,1.1 plan.html,NONE,1.1 backend-breves.html,NONE,1.1 backend.html,NONE,1.1
Message-ID: <200502061353.j16Drs8Y014065@sheep.berlios.de>

Update of /cvsroot/spip-carto/spip-carto/dist
In directory sheep:/tmp/cvs-serv14059/dist

Added Files:
	ical.html resume.html site.html login.html breve.html 
	sommaire.html 404.html sommaire_texte.html nouveautes.html 
	404.php3 rubrique.html distrib.html forum.html recherche.html 
	auteur.html article.html mot.html plan.html 
	backend-breves.html backend.html 
Log Message:
spip1.8b6

--- NEW FILE: ical.html ---
BEGIN:VCALENDAR
CALSCALE:GREGORIAN
X-WR-CALNAME;VALUE=TEXT:[(#NOM_SITE_SPIP|filtrer_ical)]
X-WR-RELCALID:[(#URL_SITE_SPIP|filtrer_ical)]
<BOUCLE_articles(ARTICLES){par date}{inverse}{0,100}>
BEGIN:VEVENT
SUMMARY:[(#TITRE|filtrer_ical)] [[(#NOM_SITE_SPIP|filtrer_ical)]]
UID:article#ID_ARTICLE @ [(#URL_SITE_SPIP|filtrer_ical)]
DTSTAMP:[(#DATE|date_ical)]
DTSTART:[(#DATE|date_ical)]
DTEND:[(#DATE|date_ical{60})]
CATEGORIES:<:articles|filtrer_ical:>
URL:#URL_SITE_SPIP/#URL_ARTICLE
STATUS:CONFIRMED
END:VEVENT
</BOUCLE_articles>
<BOUCLE_breves(BREVES){par date}{inverse}{0,100}>
BEGIN:VEVENT
SUMMARY:[(#TITRE|filtrer_ical)] [[(#NOM_SITE_SPIP|filtrer_ical)]]
UID:breve#ID_BREVE @ [(#URL_SITE_SPIP|filtrer_ical)]
DTSTAMP:[(#DATE|date_ical)]
DTSTART:[(#DATE|date_ical)]
DTEND:[(#DATE|date_ical{60})]
CATEGORIES:<:breves|filtrer_ical:>
URL:#URL_SITE_SPIP/#URL_BREVE
STATUS:CONFIRMED
END:VEVENT
</BOUCLE_breves>
END:VCALENDAR

--- NEW FILE: resume.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[#NOM_SITE_SPIP] </title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]

<!-- Liens des forums -->
<B_forums_liens>
<div class="menu" title="<:derniers_messages_forum:>">
	<h1 class="structure"><:messages_recents:></h1>
	<div class="forums">
	<div class="menu-titre">
	<:derniers_commentaires:>
	</div>
	<ul>
<BOUCLE_forums_liens(FORUMS){plat}{par date}{inverse}{0,15}>
        <li class="menu-item">[<i>(#DATE|affdate_court)</i>:]
        <a href="#URL_FORUM">#TITRE</a>
        </li>
</BOUCLE_forums_liens>
	</ul>
	</div>
</div>
</B_forums_liens>


</div>

<!-- Une : articles les plus populaires -->

<div id="principal" class="contenu">

<h1 class="structure"><:articles_populaires:></h1>

<BOUCLE_article_un(ARTICLES) {par popularite} {inverse} {0,2}>
	[(#LOGO_ARTICLE_RUBRIQUE|right|#URL_ARTICLE)]
	[<div class="surtitre">(#SURTITRE)</div>]
	<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
	[<div class="surtitre">(#SOUSTITRE)</div>]
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
	[<br><:popularite:>&nbsp;: <span class="important">(#POPULARITE)</span> %]
	</div>
	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
	<br>
</BOUCLE_article_un>


	<div class="encart">

	<!-- <:sur_web:> -->

	<h1 class="structure"><:nouveautes_web:></h1>

	<B_syndic>
	<div class="menu">
	<div class="divers">
		<div class="menu-titre">
		<:sur_web:>
		</div>
		<ul>
	<BOUCLE_syndic(SYNDIC_ARTICLES) {par date} {inverse} {0,15}>
		<li class="menu-item">
		[<i>(#DATE|affdate_court)</i>:]
		<a href="#URL_ARTICLE">[(#TITRE*)]</a>
		</li>
	</BOUCLE_syndic>
		</ul>
	</div>
	</div>
	</B_syndic>

	</div>


<h1 class="structure"><:articles_populaires:> (<:suite:>)</h1>

<!-- Articles les plus populaires (suite) -->

<BOUCLE_articles_populaires(ARTICLES) {par popularite} {inverse} {2,8}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents><br>
	<:popularite:>&nbsp;: <span class="important">#POPULARITE</span> %
	</div>
	<br>
</BOUCLE_articles_populaires>


</div>

</body>
</html>



--- NEW FILE: site.html ---
<BOUCLE_site(SITES){id_syndic}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">


<html lang="#LANG">
<head>
<title>[(#NOM_SITE|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


</div>

<!-- Une : affichage du site -->

<div class="contenu" id="principal">

<div class="cartouche">
[(#LOGO_SITE|left)]
<h1 class="titre-texte"><a href="#URL_SITE">#NOM_SITE</a></h1>

[<div class="chapo">(#DESCRIPTIF)</div>]
[<div class="notes">(#NOTES)</div>]
</div>


<!-- Articles du site -->

<h1 class="structure"><:articles:></h1>

<div class="liste-articles">

<BOUCLE_articles(SYNDIC_ARTICLES) {id_syndic} {par date}{inverse}{0,10}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	</div>
	<br>
</BOUCLE_articles>

</div>

</div>

</body>
</html>


</BOUCLE_site>

--- NEW FILE: login.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
	<title><:login_acces_prive:></title>
	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
	<link rel="stylesheet" href="spip_style.css" type="text/css">
</head>
<body dir="#LANG_DIR" bgcolor="#ffffff" text="#000000" link="#e86519" vlink="#6e003a" alink="#ff9900">

<br><br><br><center><table width="400"><tr><td width="400">
<div align="center">
<h3 class="spip">#NOM_SITE_SPIP<br>
<small><:login_acces_prive:></small></h3>
<div align="#LANG_RIGHT">#MENU_LANG_ECRIRE</div>
</div>

#LOGIN_PRIVE

<div align='center' style='font-family: Verdana,arial,helvetica,sans-serif; font-size: 12px;'>
[&#91;<a
	href='(#ENV{inscription})?mode=redac&amp;focus=nom_inscription'
	target="spip_pass"
	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=500'); return false;"><:login_sinscrire:></a>&#93;]

&#91;<a
	href="spip_pass.php3"
	target="spip_pass" 
	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=280'); return false;"><:login_motpasseoublie:></a>&#93;

&#91;<a href='#URL_SITE_SPIP'><:login_retoursitepublic:></a>&#93

</div>

</td></tr></table></center>

</body>
</html>

--- NEW FILE: breve.html ---
<BOUCLE_breve_principal(BREVES) {id_breve}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>#TITRE</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white" dir="#LANG_DIR">


<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>

<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]

<!-- Menu de navigation rubriques -->

<div class="menu">
<ul class="rubriques">
<BOUCLE_rubrique(RUBRIQUES) {id_rubrique}>
<li>
<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
</li>
<BOUCLE_autres_rubriques(RUBRIQUES) {racine} {exclus} {par titre}>
	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_autres_rubriques>
</BOUCLE_rubrique>
</ul>
</div>


<!-- Menu de navigation mots-cles -->

<B_mots>
<div class="menu">
<ul class="divers" title="<:mots_clefs:>">
<BOUCLE_mots(MOTS) {id_article} {par titre}>
<li>
<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_breves_mots>
	<ul class="menu-liste">
<BOUCLE_breves_mots(BREVES) {id_mot} {par hasard} {0,4}>
	<li class="menu-item"><a href="#URL_BREVE">#TITRE</a></li>
</BOUCLE_breves_mots>
	</ul>
</B_breves_mots>
</li>
</BOUCLE_mots>
</ul>
</div>
</B_mots>


<!-- Articles dans le meme secteur -->

<B_articles_secteur>

<div class="menu">
<div class="breves" title="<:derniers_articles:>">
	<div class="menu-titre">
	<:derniers_articles:>
	</div>
	<ul>
<BOUCLE_articles_secteur(ARTICLES) {id_secteur} {par date} {inverse} {0,5}>
	<li class="menu-item">
	<a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a>
	</li>
</BOUCLE_articles_secteur>
	</ul>
</div>
</div>

</B_articles_secteur>


</div>

<!-- Contenu : corps de la breve -->

<div class="contenu" id="principal">

<div id="cartouche">
[(#LOGO_BREVE|left)]
<h1 class="titre-texte">#TITRE</h1>
[(#DATE|nom_jour)] [(#DATE|affdate).]
</div>

	<div class="encart">

	<!-- Breves dans la meme rubrique -->

	<B_breves_rubrique>

	<div class="menu">
	<div class="breves" title="<:meme_rubrique:>">
		<h1 class="structure"><:meme_rubrique:></h1>
		<div class="menu-titre">
		<:autres_breves:>
		</div>
		<ul>
	<BOUCLE_breves_rubrique(BREVES) {id_rubrique} {exclus} {par date} {inverse} {0,8}>
		<li class="menu-item">
		<i>[(#DATE|affdate_court)]</i>:
		<a href="#URL_BREVE">#TITRE</a>
		</li>
	</BOUCLE_breves_rubrique>
		</ul>
	</div>
	</div>

	</B_breves_rubrique>

	</div>


[<div class="texte">(#TEXTE)</div>]
[<div class="chapo"><:voir_en_ligne:>: <a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a>.</div>]
[<div class="notes">(#NOTES)</div>]

<br>


<!-- Forums -->

[<div class="forum-repondre"><B><A  HREF="forum.php3?(#PARAMETRES_FORUM)"><:repondre_breve:></A></B></div>]
<br>

<h1 class="structure"><:forum:></h1>

<B_forums>
<ul class="forum-total">

<BOUCLE_forums(FORUMS){id_breve}{par date}{inverse}>

<li>
<div class="forum-fil">
<div class="forum">
<a name="forum#ID_FORUM"></a>
<div class="forum-chapo">
<div class="forum-titre">#TITRE</div>
[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
</div>
<div class="forum-item">
#TEXTE
[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
</div>
</div>

<B_forums_fils>
	<ul>
	<BOUCLE_forums_fils(FORUMS){id_parent}{par date}>

	<li>
	<div class="forum">
	<a name="forum#ID_FORUM"></a>
	<div class="forum-chapo">
	<div class="forum-titre">#TITRE</div>
	[(#DATE|affdate)][, par <A HREF="mailto:#EMAIL">(#NOM)</A>]
	</div>
	<div class="forum-item">
	#TEXTE
	[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
	[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
	</div>

	</div>

	<BOUCLE_Forums_Boucle(boucle_forums_fils)></BOUCLE_Forums_Boucle>
	</li>

	</BOUCLE_forums_fils>
	</ul>
</B_forums_fils>

</div>
</li>
</BOUCLE_forums>

</ul>
</B_forums>

</div>

</body></html>
</BOUCLE_breve_principal>

--- NEW FILE: sommaire.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[#NOM_SITE_SPIP] </title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">

<!-- Lien vers le backend pour navigateurs eclaires -->
<link rel="alternate" type="application/rss+xml" title="<:syndiquer_site:>" href="backend.php3">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>

<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]

<!-- Menu de navigation rubriques -->

<B_rubriques>
<div class="menu">
<ul class="rubriques">
<BOUCLE_rubriques(RUBRIQUES) {racine} {par titre}>
<li>
<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_sous_rubriques>
	<ul class="menu-liste">
<BOUCLE_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_sous_rubriques>
	</ul>
</B_sous_rubriques>
</li>
</BOUCLE_rubriques>
</ul>
</div>
</B_rubriques>

<!-- Logo SPIP -->

<a href="http://www.spip.net"><img src="IMG/logo_spip.jpg" width="105" height="92" border="0" alt="<:site_realise_avec_spip:>"></a>

</div>


<div id="principal" class="contenu">

	<!-- Une : derniers articles publies -->
	
	<h1 class="structure"><:derniers_articles:></h1>
	
	<BOUCLE_article_un(ARTICLES) {par date} {inverse} {0,2}>
		[(#LOGO_ARTICLE_RUBRIQUE|right)]
		[<div class="surtitre">(#SURTITRE)</div>]
		<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
		[<div class="surtitre">(#SOUSTITRE)</div>]
		<div class="detail">
		[(#DATE|nom_jour)] [(#DATE|affdate)]
		<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
		</div>
		[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
		<br>
	</BOUCLE_article_un>


	<div class="encart">

	<!-- Breves -->

	<h1 class="structure"><:dernieres_breves:></h1>

	<B_breves>
	<div class="menu">
	<div class="breves">
		<div class="menu-titre">
		<:breves:>
		</div>
		<ul>
	<BOUCLE_breves(BREVES) {par date} {inverse} {0,8}>
		<li class="menu-item">
		<i>[(#DATE|affdate_court)]</i>:
		<a href="#URL_BREVE">#TITRE</a>
		</li>
	</BOUCLE_breves>
		</ul>
	</div>
	</div>
	</B_breves>

	<!-- Sur le Web -->

	<h1 class="structure"><:nouveautes_web:></h1>

	<B_syndic>
	<div class="menu">
	<div class="divers">
		<div class="menu-titre">
		<:sur_web:>
		</div>
		<ul>
	<BOUCLE_syndic(SYNDIC_ARTICLES) {par date} {inverse} {0,8}>
		<li class="menu-item">
		<a href="#URL_ARTICLE">[(#TITRE*)]</a>
		</li>
	</BOUCLE_syndic>
		</ul>
	</div>
	</div>
	</B_syndic>

	[<!-- Inscription au site -->

		<div class="formulaire"><:participer_site:>
			<br /><br />(#FORMULAIRE_INSCRIPTION)
		</div>]

	</div>


<h1 class="structure"><:articles_recents:></h1>

<!-- Articles recents -->

<BOUCLE_articles_recents(ARTICLES) {par date} {inverse} {2,8}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents>
	</div>
	<br>
</BOUCLE_articles_recents>


</div>

#SPIP_CRON
</body>
</html>

--- NEW FILE: 404.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
	<title>[#NOM_SITE_SPIP - <:pass_erreur:> 404]</title>
	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

	<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
	<link rel="stylesheet" href="spip_style.css" type="text/css">

	<!-- Les feuilles de style specifiques aux presents squelettes -->
	<link rel="stylesheet" href="typographie.css" type="text/css">

	<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
	<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">

</head>
<body bgcolor="white" dir="#LANG_DIR">



<div id="navigation">

	<h1 class="structure"><:navigation:></h1>
	
	<!-- Menu de navigation general -->
	<div class="menu">
	<ul class="general">
		<li class="menu-titre"><a href="#URL_SITE_SPIP" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a></li>
		<li class="menu-item"><a href="plan.php3"><:plan_site:></a></li>
		<li class="menu-item"><a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a></li>
		<li class="menu-item"><a href="ecrire/"><:espace_prive:></a></li>
	</ul>
	</div>
	
	<!-- Formulaire de recherche -->
	#FORMULAIRE_RECHERCHE

</div>

<div id="principal" class="contenu">

<h1 class="titre-texte"><:pass_erreur:> 404</h1>
	<p>#ERREUR_AUCUN</p>
</div>


#SPIP_CRON

</body>
</html>
--- NEW FILE: sommaire_texte.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<!--
// ACCESSIBILITE
// la page /oo offre une lecture en mode "texte seul"
// des 3 articles les plus recents.
-->
<head>
	<title>
		#NOM_SITE_SPIP
	</title>
	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
	<meta http-equiv="AUTHOR" content="#NOM_SITE_SPIP">
	<meta http-equiv="DESCRIPTION" content="Edition en mode texte de #NOM_SITE_SPIP">
</head>
<body dir="#LANG_DIR">
	<hr />
	<:edition_mode_texte:> <a href="#URL_SITE_SPIP">{#NOM_SITE_SPIP}</a>
	<hr />
	<b><u>Sommaire de la page :</u></b>

	<B_sarticles>
	<h2>Articles</h2>
	<ul>
		<BOUCLE_sarticles(ARTICLES){0,3}{par date}{inverse}>
			<li><a href="#ar#ID_ARTICLE">#TITRE</a>
		</BOUCLE_sarticles>
	</ul>
	</B_sarticles>

	<B_sbreves>
	<h2>Br&egrave;ves</h2>
	<ul>
		<BOUCLE_sbreves(BREVES){0,5}{par date}{inverse}>
			<li><a href="#br#ID_BREVE">#TITRE</a>
		</BOUCLE_sbreves>
	</ul>
	</B_sbreves>


	<B_articles>
	<h1>Articles r&eacute;cents</h1>

	<BOUCLE_articles(ARTICLES){0,3}{par date}{inverse}>
		<a name="ar#ID_ARTICLE"></a>
		<BOUCLE_RUB_AR(RUBRIQUES){ID_RUBRIQUE}>
			Rubrique : <a href="#URL_RUBRIQUE">{#TITRE}</a>
		</BOUCLE_RUB_AR>

		[<h2>(#SURTITRE|majuscules)</h2>]
		<h2>#TITRE</h2>
		<h3>#SOUSTITRE</h3>
		[Le (#DATE|nom_jour) ] [(#DATE|affdate)]
		[par (#LESAUTEURS)]
		<p>
		[(#CHAPO)]
		<p>
		[(#TEXTE)]

		
		<p><a href="#URL_ARTICLE">{Consulter}</a> l'article avec son forum. 

		
		<hr />
	</BOUCLE_articles>

	<B_breves>
	<h1>Derni&egrave;res br&egrave;ves</h1>

	<BOUCLE_breves(BREVES){0,5}{par date}{inverse}>
		<a name="br#ID_BREVE">
		<BOUCLE_RUB_BR(RUBRIQUES){ID_RUBRIQUE}>
			Rubrique : <a href="#URL_RUBRIQUE">{#TITRE}</a>
		</BOUCLE_RUB_BR>
		<h2>#TITRE</h2>
		[Le (#DATE|nom_jour) ] [(#DATE|affdate)]
		<p>
		[(#TEXTE)]
		[<p>Voir en ligne : <a href="(#URL_SITE)">#NOM_SITE</a>]
		<p><a href="#URL_BREVE">{Consulter}</a> la br&egrave;ve avec son forum. 
	<hr />
	</BOUCLE_breves>
	[<h1>NOTES :</h1>
	<p class="spip_note">(#NOTES)]
	
	<hr />
	<a name="about"></a>
	
	[<p>Rechercher sur ce site : (#FORMULAIRE_RECHERCHE|recherche.php3)</p>]
	<table><tr>
		<td><A href="http://www.uzine.net/spip">{Site r&eacute;alis&eacute; avec le logiciel SPIP}</td>
		[<td><A href="#URL_SITE_SPIP">{(#NOM_SITE_SPIP|majuscules)}</a></td>]
		<td><a href="#URL_SITE_SPIP/plan.php3">{<:plan_site:>}</a></td>
	</tr></table>

</body>
</html>

--- NEW FILE: nouveautes.html ---
[[(#NOM_SITE_SPIP|textebrut|texte_script)]] <:nouveautes|texte_script:>

<B0>
<:bonjour|texte_script:>

<:texte_lettre_information|texte_script:> "[(#NOM_SITE_SPIP|textebrut|texte_script)]" (#URL_SITE_SPIP).
<:texte_lettre_information_2|texte_script:> [(#ENV{jours_neuf})] <:jours|texte_script:>.

<BOUCLE0(AUTEURS){0,1}><B_nv1>
          <:nouveaux_articles|texte_script:>
          --------------------------

<BOUCLE_nv1(ARTICLES){age_relatif<=0}{par date}{inverse}{0,30}>
[** (#TITRE|textebrut|texte_script) **]
[par (#LESAUTEURS|textebrut|texte_script)]
[le (#DATE|affdate|texte_script)]

[(#INTRODUCTION|textebrut|texte_script)]

-> #URL_SITE_SPIP/#URL_ARTICLE

</BOUCLE_nv1><B_nv2>
          
          <:nouvelles_breves|texte_script:>
          --------------------------

<BOUCLE_nv2(BREVES){age_relatif<=0}{par date}{inverse}{0,30}>
[* (#TITRE|textebrut|texte_script) *]
[ - (#DATE|affdate|texte_script)]

[(#INTRODUCTION|textebrut|texte_script)]

-> #URL_SITE_SPIP/#URL_BREVE

</BOUCLE_nv2></BOUCLE0>
--- NEW FILE: 404.php3 ---
<?php

	$fond='404';
	$delais = 12 * 3600;
	include ('inc-public.php3');

?>
--- NEW FILE: rubrique.html ---
<BOUCLE_rubrique_principal(RUBRIQUES) {id_rubrique}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[(#TITRE|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">

<!-- Lien vers le backend pour navigateurs eclaires -->
<link rel="alternate" type="application/rss+xml" title="<:syndiquer_rubrique:>" href="backend.php3?id_rubrique=#ID_RUBRIQUE">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


<!-- Menu de navigation rubriques -->

<div class="menu">
<ol class="rubriques" title="<:hierarchie_site:>">
<BOUCLE_hierarchie(HIERARCHIE) {id_rubrique} {tout}>
<li>
<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_rubriques_soeurs>
	<ul class="menu-liste">
<BOUCLE_rubriques_soeurs(RUBRIQUES) {meme_parent} {exclus} {par titre}>
	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_rubriques_soeurs>
	</ul>
</B_rubriques_soeurs>
</li>
</BOUCLE_hierarchie>
</ol>
</div>


<!-- Breves dans la rubrique -->

<B_breves_rubrique>

<div class="menu">
<div class="breves" title="<:dernieres_breves:>">
	<div class="menu-titre">
	<:breves:>
	</div>
	<ul>
<BOUCLE_breves_rubrique(BREVES) {id_secteur} {par date} {inverse} {0,5}>
	<li class="menu-item">
	<i>[(#DATE|affdate_court)]</i>:
	<a href="#URL_BREVE">#TITRE</a>
	</li>
</BOUCLE_breves_rubrique>
	</ul>
</div>
</div>

</B_breves_rubrique>


</div>


<!-- Une : contenu de la rubrique -->

<div class="contenu" id="principal">

<div class="cartouche">
[(#LOGO_RUBRIQUE|left)]
<h1 class="titre-texte">#TITRE</h1>
[<:dernier_ajout:> : (#DATE|nom_jour)] [(#DATE|affdate).]
</div>

	<div class="encart">

	<!-- Menu de navigation mots-cles -->

	<B_mots>
	<h2 class="structure"><:mots_clefs:></h2>

	<div class="menu">
	<ul class="divers" title="<:mots_clefs:>">
	<BOUCLE_mots(MOTS) {id_rubrique} {par titre}>
	<li>
	<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
	<B_rubriques_mots>
		<ul class="menu-liste">
	<BOUCLE_rubriques_mots(RUBRIQUES) {id_mot} {par hasard} {0,4}>
		<li class="menu-item"><a href="#URL_RUBRIQUE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
	</BOUCLE_rubriques_mots>
		</ul>
	</B_rubriques_mots>
	</li>
	</BOUCLE_mots>
	</ul>
	</div>
	</B_mots>

	<!-- Sous-rubriques -->

	<B_sous_rubriques>
	<h2 class="structure"><:sous_rubriques:></h2>

	<div class="menu">
	<ul class="rubriques" title="<:sous_rubriques:>">
	<BOUCLE_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
	<li>
	<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
	<B_sous_sous_rubriques>
		<ul class="menu-liste">
	<BOUCLE_sous_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
		<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
	</BOUCLE_sous_sous_rubriques>
		</ul>
	</B_sous_sous_rubriques>
	</li>
	</BOUCLE_sous_rubriques>
	</ul>
	</div>
	</B_sous_rubriques>
	
	<!-- Sites syndiques -->
	
	<B_sites>
	<div class="menu">
	<div class="divers">
		<div class="menu-titre">
		<:sur_web:>
		</div>
		<ul>
	<BOUCLE_sites(SITES) {id_rubrique} {par nom_site}>
		<li class="menu-item">
		<a href="#URL_SITE">#NOM_SITE</a>
		<B_syndic>
		<ul class="menu-liste">
		<BOUCLE_syndic(SYNDIC_ARTICLES) {id_syndic} {par date} {inverse} {0,3}>
			<li class="menu-item"><small><a href="#URL_ARTICLE">#TITRE</a></small></li>
		</BOUCLE_syndic>
		</ul>
		</B_syndic>
		</li>
	</BOUCLE_sites>
		</ul>
	</div>
	</div>
	</B_sites>
	[
<div class="menu">
    <div class="divers">
      <div class="menu-titre"><:proposer_site:>
	<div class='reponse_formulaire'>(#FORMULAIRE_SITE)</div>
      </div>
    </div>
</div>
]
	</div>

[<div class="chapo">(#TEXTE)</div>]
[<div class="notes">(#NOTES)</div>]

<BOUCLE_documents_joints(DOCUMENTS) {id_rubrique} {mode=document} {doublons} {"<br>"}>
[(#LOGO_DOCUMENT|#URL_DOCUMENT)][<br>(#TITRE)][ - (#DESCRIPTIF)]
</BOUCLE_documents_joints>
<br>

<!-- Articles de la rubrique -->

<h1 class="structure"><:articles_rubrique:></h1>

<div class="liste-articles">

<BOUCLE_articles_recents(ARTICLES) {id_rubrique} {par titre}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents>
	</div>
	<br>
</BOUCLE_articles_recents>


</div>


</div>

</body>
</html>
</BOUCLE_rubrique_principal>

--- NEW FILE: distrib.html ---
document.write('<table border="0" bgcolor="#000000" cellspacing="0" cellpadding="0"><tr><td>');
document.write('<table border="0" bgcolor="#ffffff" cellspacing="1" cellpadding="2"><tr><td bgcolor="#d0d0d0" align="center">');
document.write('<a href="#URL_SITE_SPIP/"><b>[(#NOM_SITE_SPIP|addslashes)]</b></a>&nbsp;</td></tr><tr><td><ul><small>');
<BOUCLE_articles(articles){tout}{par date}{inverse}{0,10}>
document.write('<li><a href="#URL_SITE_SPIP/#URL_ARTICLE"><font color="#000000">[(#TITRE|addslashes)]</font></a></li>\n');
</BOUCLE_articles>
document.write('</small></ul></td></tr></table></td></tr></table>');

--- NEW FILE: forum.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[#NOM_SITE_SPIP] <:poster_message:></title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
</head>

<body bgcolor="white" dir="#LANG_DIR">


<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>

</div>


<!-- Contenu : poster un message dans le forum -->

<div id="principal" class="contenu">

<h1 class="structure"><:poster_message:></h1>

<BOUCLE_article(ARTICLES) {id_article}>
	<:en_reponse:>
	[(#LOGO_ARTICLE|right)]
	[<div class="surtitre">(#SURTITRE)</div>]
	<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
	[<div class="surtitre">(#SOUSTITRE)</div>]
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
	</div>
	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
	<br>
</BOUCLE_article>

<BOUCLE_breve(BREVES) {id_breve}>
	<:en_reponse:>
	[(#LOGO_BREVE|right)]
	<h2 class="titre-extrait"><a href="#URL_BREVE">#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	</div>
	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
	<br>
</BOUCLE_breve>

<BOUCLE_rubrique(RUBRIQUES) {id_rubrique}>
	<:en_reponse:>
	<h2 class="titre-extrait"><a href="#URL_RUBRIQUE">#TITRE</a></h2>
	[<div class="texte"><div class="extrait">(#TEXTE)</div></div>]
	<br>
</BOUCLE_rubrique>

<BOUCLE_syndic(SITES) {id_syndic}>
	<:en_reponse:>
	<h2 class="titre-extrait"><a href="#URL_SYNDIC">#TITRE</a></h2>
	<br>
</BOUCLE_syndic>

<BOUCLE_forum_parent(FORUMS) {id_forum}>
	<:en_reponse:>
	<h2 class="titre-extrait"><a href="#URL_FORUM">#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	</div>
	[<div class="texte"><div class="extrait">(#TEXTE)</div></div>]
	<br>
</BOUCLE_forum_parent>


#FORMULAIRE_FORUM


</div>

</body>
</html>

--- NEW FILE: recherche.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html lang="#LANG">
<head>
<title><:resultats_recherche:></title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


<!-- Rubriques trouvees -->

<B_rubriques>
<div class="menu">
<ul class="rubriques" title="<:rubriques:>">
<li class="menu-titre"><:rubriques:></li>
<BOUCLE_rubriques(RUBRIQUES) {recherche} {par points} {inverse} {0,8}>
<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_rubriques>
</ul>
</div>
</B_rubriques>


<!-- Mots-cles trouves et articles associes-->

<B_mots>
<div class="menu">
<ul class="divers" title="<:mots_clefs:>">
<BOUCLE_mots(MOTS) {recherche} {par points} {inverse} {0,5}>
<li>
<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_articles_mots>
	<ul class="menu-liste">
<BOUCLE_articles_mots(ARTICLES) {id_mot} {par hasard} {0,8}>
	<li class="menu-item"><a href="#URL_ARTICLE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
</BOUCLE_articles_mots>
	</ul>
</B_articles_mots>
</li>
</BOUCLE_mots>
</ul>
</div>
</B_mots>

</div>

<!-- Une : articles trouves -->

<div class="contenu" id="principal">

<div class="cartouche">
<h1 class="surtitre"><:resultats_recherche:></h1>
[<h2 class="titre-texte">(#RECHERCHE)</h2>]
</div>

	<div class="encart">

	<!-- Breves trouvees -->

	<B_breves>

	<div class="menu">
	<div class="breves" title="Br&egrave;ves trouv&eacute;es">
		<div class="menu-titre">
		<:breves:>
		</div>
		<ul>
	<BOUCLE_breves(BREVES) {recherche} {par points} {inverse} {0,8}>
		<li class="menu-item">
		<i>[(#DATE|affdate_court)]</i>:
		<a href="#URL_BREVE">#TITRE</a>
		</li>
	</BOUCLE_breves>
		</ul>
	</div>
	</div>

	</B_breves>

	<!-- Sites Web trouves -->

	<B_sites>
	<div class="menu">
	<div class="divers" title="Sites Web trouv&eacute;s">
		<div class="menu-titre">
		<:sites_web:>
		</div>
		<ul>
	<BOUCLE_sites(SITES) {recherche} {par points} {inverse} {0,8}>
		<li class="menu-item">
		<a href="#URL_SITE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#NOM_SITE</a>
		</li>
	</BOUCLE_sites>
		</ul>
	</div>
	</div>
	</B_sites>

	<!-- Messages trouves -->

	<B_messages>
	<div class="menu">
	<div class="divers" title="<:messages_forum:>">
		<div class="menu-titre">
		<:messages_forum:>
		</div>
		<ul>
	<BOUCLE_messages(FORUMS) {recherche} {par points} {inverse} {0,8}>
		<li class="menu-item">
		<a href="#URL_FORUM">#TITRE</a>
		</li>
	</BOUCLE_messages>
		</ul>
	</div>
	</div>
	</B_messages>

	</div>


<div class="liste-articles">

<BOUCLE_articles(ARTICLES) {recherche} {par points} {inverse} {0,10}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_articles><:par_auteur:> <BOUCLE_auteurs_articles(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_articles>
	</div>
	<br>
</BOUCLE_articles>

</div>

</div>

</body>
</html>


--- NEW FILE: auteur.html ---
<BOUCLE_auteur_principal(AUTEURS) {id_auteur}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[(#NOM|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


</div>


<!-- Une : affichage de l'auteur -->

<div class="contenu" id="principal">

<div class="cartouche">
[(#LOGO_AUTEUR|left)]
<h1 class="titre-texte">#NOM</h1>

[<div class="chapo">(#BIO)</div>]
[<br>#NOM_SITE : <a href="(#URL_SITE)">#URL_SITE</a><br>]
[<div class="notes">(#NOTES)</div>]
</div>

[<p><b><:envoyer_message:></b></p>
<div class='spip_encadrer'><b>(#FORMULAIRE_ECRIRE_AUTEUR)</b></div>]

<!-- Articles de l'auteur -->

<h1 class="structure"><:articles_auteur:></h1>

<div class="liste-articles">

<BOUCLE_articles(ARTICLES) {id_auteur} {par titre}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs><:par_auteur:> <BOUCLE_auteurs(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs>
	</div>
	<br>
</BOUCLE_articles>

</div>

</div>

</body>
</html>
</BOUCLE_auteur_principal>


--- NEW FILE: article.html ---
<BOUCLE_article_principal(ARTICLES) {id_article}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[(#TITRE|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white" dir="#LANG_DIR">
<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>

<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


<!-- Menu de navigation rubriques -->

<B_rubriques>
<div class="menu">
<ol class="rubriques">
<BOUCLE_rubriques(HIERARCHIE) {id_article}>
<li>
<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_sous_rubriques>
	<ul class="menu-liste">
<BOUCLE_sous_rubriques(RUBRIQUES) {meme_parent} {exclus} {par date} {inverse} {0,3}>
	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_sous_rubriques>
	</ul>
</B_sous_rubriques>
</li>
</BOUCLE_rubriques>
</ol>
</div>
</B_rubriques>


<!-- Menu de navigation mots-cles -->

<B_mots>
<div class="menu">

<h1 class="structure"><:mots_clefs:></h1>

<ul class="divers" title="<:mots_clefs:>">
<BOUCLE_mots(MOTS) {id_article} {par titre}>
<li>
<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_articles_mots>
	<ul class="menu-liste">
<BOUCLE_articles_mots(ARTICLES) {id_mot} {par hasard} {0,4}>
	<li class="menu-item"><a href="#URL_ARTICLE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
</BOUCLE_articles_mots>
	</ul>
</B_articles_mots>
</li>
</BOUCLE_mots>
</ul>
</div>
</B_mots>


<!-- Liens des forums -->
<BOUCLE_forums_decompte(FORUMS){id_article}{plat}></BOUCLE_forums_decompte>
[<div class="menu" title="<:derniers_commentaires:>">

<h1 class="structure"><:derniers_commentaires:></h1>

<ul class="forums">

<li class="menu-titre"><:messages_forum:>: (#TOTAL_BOUCLE)</li>]
<//B_forums_decompte>
<BOUCLE_forums_liens(FORUMS){id_article}{par date}{inverse}{0,5}>
    <li class="menu-item">[<i>(#DATE|affdate_court)</i>:]
    <a href="#forum#ID_FORUM">#TITRE</a>
    </li>
</BOUCLE_forums_liens>
</ul>
</div>
</B_forums_liens>


</div>


<!-- Une : derniers articles publies -->

<div class="contenu" id="principal">

<div class="cartouche">
#DEBUT_SURLIGNE[
(#LOGO_ARTICLE|left)][
<div class="surtitre">(#SURTITRE)</div>
]<h1 class="titre-texte">#TITRE</h1>[
<div class="surtitre">(#SOUSTITRE)</div>
]#FIN_SURLIGNE
[(#DATE|nom_jour)] [(#DATE|affdate).]
</div>
<div style="line-height: 0em">&nbsp;</div><!-- Bug Mozilla http://bugzilla.mozilla.org/show_bug.cgi?id=200510 -->

	<div class="encart">

	<!-- Auteurs de l'article -->

	<B_auteurs>

	<div class="menu">
	<h2 class="structure"><:memes_auteurs:></h2>
	<ul class="divers">
	<BOUCLE_auteurs(AUTEURS) {id_article} {par nom}>
		<li>
		<div class="menu-titre"><a href="#URL_AUTEUR">#NOM</a></div>
		<ul>
		[<li class="menu-item" style="text-align: center"><a href="(#URL_SITE)">#NOM_SITE</a></li>]
		[<li class="menu-item" style="text-align: center">(#BIO)</li>]
	<B_articles_auteur>
	<BOUCLE_articles_auteur(ARTICLES) {id_auteur} {par popularite} {inverse} {0,5}>
		<li class="menu-item"><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
	</BOUCLE_articles_auteur>
		</ul>
		</li>
	</BOUCLE_auteurs>
	</ul>
	</div>

	</B_auteurs>

	<!-- Articles dans la meme rubrique -->

	<B_articles_rubrique>

	<div class="menu">
	<div class="breves">
		<h2 class="structure"><:meme_rubrique:></h2>
		<div class="menu-titre">
		<:meme_rubrique:>
		</div>
		<ul>
	<BOUCLE_articles_rubrique(ARTICLES) {id_rubrique} {par hasard} {exclus} {0,8}>
		<li class="menu-item">
		<a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a>
		</li>
	</BOUCLE_articles_rubrique>
		</ul>
	</div>
	</div>

	</B_articles_rubrique>
  [<div class='reponse_formulaire'>
	<a name='sp#ID_ARTICLE' id='sp#ID_ARTICLE'></a>
    (#FORMULAIRE_SIGNATURE)
  </div>]
	</div>

#DEBUT_SURLIGNE[
<div class="chapo">(#CHAPO)</div>
][<div class="texte">(#TEXTE)</div>
][<div class="ps">(#PS)</div>][
<div class="notes">(#NOTES)</div>
]#FIN_SURLIGNE

<BOUCLE_documents_joints(DOCUMENTS) {id_article} {mode=document} {doublons} {"<br>"}>
[(#LOGO_DOCUMENT|#URL_DOCUMENT)][<br>(#TITRE)][ - (#DESCRIPTIF)]
</BOUCLE_documents_joints>
<br>


<!-- Signatures petition -->

<BOUCLE_signatures_decompte(SIGNATURES) {id_article}></BOUCLE_signatures_decompte>
[<div class="signatures-titre"><:signatures_petition:>: (#TOTAL_BOUCLE)</div>

<table class="signatures">
<thead class="structure">
<tr>
	<td><:date:></td>
	<td><:nom:></td>
	<td><:message:></td>
</tr>
</thead>
<tbody>]
<//B_signatures_decompte>
<BOUCLE_signatures(SIGNATURES) {id_article} {par date} {inverse} {debut_signatures,30}>
<tr>
	<td class="signature-date">[(#DATE|affdate_court)]</td>
	<td class="signature-nom">#NOM[<br><a href="#URL_SITE">(#NOM_SITE)</a>]</td>
	[<td class="signature-message">(#MESSAGE)</td>]
</tr>
</BOUCLE_signatures>
</tbody>
</table>
</B_signatures>


<!-- Forums -->

[<div class="forum-repondre"><B><A  HREF="forum.php3?(#PARAMETRES_FORUM)"><:repondre_article:></A></B></div>]
<br>

<h1 class="structure"><:Forum:></h1>

<B_forums>
<ul class="forum-total">

<BOUCLE_forums(FORUMS){id_article}{par date}{inverse}>

<li>
<div class="forum-fil">

<div class="forum">
<div class="forum-chapo">
<div class="forum-titre"><a name="forum#ID_FORUM"></a>#TITRE</div>
[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
</div>
<div class="forum-item">
#TEXTE
[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
</div>
</div>

<B_forums_fils>
	<ul>
	<BOUCLE_forums_fils(FORUMS){id_parent}{par date}>

	<li>
	<div class="forum">
	<div class="forum-chapo">
	<div class="forum-titre"><a name="forum#ID_FORUM"></a>#TITRE</div>
	[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
	</div>
	<div class="forum-item">
	#TEXTE
	[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
	[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
	</div>

	</div>

	<BOUCLE_Forums_Boucle(boucle_forums_fils)></BOUCLE_Forums_Boucle>
	</li>

	</BOUCLE_forums_fils>
	</ul>
</B_forums_fils>

</div>
</li>
</BOUCLE_forums>

</ul>
</B_forums>

</div>

</body>
</html>
</BOUCLE_article_principal>
--- NEW FILE: mot.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<BOUCLE_mot_principal(MOTS) {id_mot} {doublons}>

<html lang="#LANG">
<head>
<title>[(#TITRE|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


<!-- Menu de navigation mots-cles : les autres mots cles du meme groupe-->

<B_mots_freres>
<h2 class="structure"><:mots_clefs_meme_groupe:></h2>

<div class="menu">
<div class="divers">
<div class="menu-titre"><BOUCLE_groupe(GROUPES_MOTS) {id_groupe} {doublons}>#TITRE</BOUCLE_groupe></div>
	<ul class="menu-liste">
<BOUCLE_mots_freres(MOTS) {type} {doublons} {par titre}>
	<li class="menu-item"><a href="#URL_MOT" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
</BOUCLE_mots_freres>
	</ul>
</div>
</div>
</B_mots_freres>


<!-- Menu de navigation mots-cles : les autres groupes avec un lien sur le premier mot du groupe -->

<B_groupes_freres>
<h2 class="structure"><:autres_groupes_mots_clefs:></h2>

<div class="menu">
<div class="divers">
<div class="menu-titre"><:autres_groupes_mots_clefs:></div>
	<ul class="menu-liste">
<BOUCLE_groupes_freres(GROUPES_MOTS) {par titre} {doublons}>
<BOUCLE_mot_cousin(MOTS) {id_groupe} {par titre} {0,1}>
	<li class="menu-item"><a href="#URL_MOT">#TYPE</a></li>
</BOUCLE_mot_cousin>
</BOUCLE_groupes_freres>
	</ul>
</div>
</div>
</B_groupes_freres>


</div>

<!-- Une : contenu du mot-cle -->

<div class="contenu" id="principal">

<div class="cartouche">
[(#LOGO_MOT|left)]
<h1 class="titre-texte">#TITRE</h1>
</div>

	<div class="encart">

	<!-- Rubriques liees au mot-cle -->

	<B_rubriques>
	<h2 class="structure"><:rubriques:></h2>

	<div class="menu">
	<div class="rubriques">
	<div class="menu-titre"><:rubriques:></div>
		<ul class="menu-liste">
	<BOUCLE_rubriques(RUBRIQUES) {id_mot} {par titre}>
		<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
	</BOUCLE_rubriques>
		</ul>
	</div>
	</div>
	</B_rubriques>

	<!-- Breves liees au mot-cle -->

	<B_breves>
	<h2 class="structure"><:breves:></h2>

	<div class="menu">
	<div class="breves">
	<div class="menu-titre"><:breves:></div>
		<ul class="menu-liste">
	<BOUCLE_breves(BREVES) {id_mot} {par titre}>
		<li class="menu-item"><a href="#URL_BREVE">#TITRE</a></li>
	</BOUCLE_breves>
		</ul>
	</div>
	</div>
	</B_breves>

	<!-- Sites Web lies au mot-cle -->

	<B_sites>
	<h2 class="structure"><:sites_web:></h2>

	<div class="menu">
	<div class="breves">
	<div class="menu-titre"><:sites_web:></div>
		<ul class="menu-liste">
	<BOUCLE_sites(SITES) {id_mot} {par nom_site}>
		<li class="menu-item"><a href="#URL_SITE">#TITRE</a></li>
	</BOUCLE_sites>
		</ul>
	</div>
	</div>
	</B_sites>

	</div>

[<div class="chapo">(#TEXTE)</div>]
[<div class="notes">(#NOTES)</div>]


<!-- Articles lies au mot-cle -->

<h1 class="structure"><:articles:></h1>

<div class="liste-articles">

<BOUCLE_articles(ARTICLES) {id_mot} {par titre}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs><:par_auteur:> <BOUCLE_auteurs(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs>
	</div>
	<br>
</BOUCLE_articles>

</div>
</div>

</body>
</html>
</BOUCLE_mot_principal>
<//B_mot_principal>

--- NEW FILE: plan.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[#NOM_SITE_SPIP] </title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
</head>

<body bgcolor="white" dir="#LANG_DIR">


<!-- Plan du site -->

<div id="plan" class="contenu">

<BOUCLE_secteurs(RUBRIQUES) {racine} {par titre}>

<div class="plan-secteur">

	[(#LOGO_RUBRIQUE|left)]<h1><a href="#URL_RUBRIQUE">#TITRE</a></h1>

	<div class="encart">

	<!-- Breves -->

	<h2 class="structure"><:breves:></h2>

	<B_breves>
	<div class="menu">
	<div class="breves">
		<div class="menu-titre">
		<:breves:>
		</div>
		<ul>
	<BOUCLE_breves(BREVES) {id_secteur} {par date} {inverse} {0,15}>
		<li class="menu-item">
		<i>[(#DATE|affdate_court)]</i>:
		<a href="#URL_BREVE">#TITRE</a>
		</li>
	</BOUCLE_breves>
		</ul>
	</div>
	</div>
	</B_breves>

	<!-- Sur le Web -->

	<h2 class="structure"><:sites_web:></h2>

	<B_sites>
	<div class="menu">
	<div class="divers">
		<div class="menu-titre">
		<:sur_web:>
		</div>
		<ul>
	<BOUCLE_sites(SITES) {id_secteur} {par nom_site}>
		<li class="menu-item">
		<a href="#URL_SITE">#NOM_SITE</a>
		</li>
	</BOUCLE_sites>
		</ul>
	</div>
	</div>
	</B_sites>

	</div>

<!-- Articles et sous-rubriques -->

<h2 class="structure"><:articles:></h2>

<B_articles_racine>
<ul class="plan-articles">

<BOUCLE_articles_racine(ARTICLES) {id_rubrique} {par titre}>
<li class="plan-article"><a href="#URL_ARTICLE">#TITRE</a></li>
</BOUCLE_articles_racine>

</ul>
</B_articles_racine>

<B_rubriques>

<ul class="plan-rubriques">

<BOUCLE_rubriques(RUBRIQUES) {id_parent} {par titre}>
<li>
<div class="plan-rubrique"><a href="#URL_RUBRIQUE">#TITRE</a></div>

	<B_articles>
	<ul class="plan-articles">
	<BOUCLE_articles(ARTICLES) {id_rubrique} {par titre}>
	<li class="plan-article"><a href="#URL_ARTICLE">#TITRE</a></li>
	</BOUCLE_articles>
	</ul>
	</B_articles>

	<BOUCLE_sous_rubriques(BOUCLE_rubriques)></BOUCLE_sous_rubriques>

</li>
</BOUCLE_rubriques>

</ul>
</B_rubriques>


</div>

</BOUCLE_secteurs>

</div>

</body>
</html>

--- NEW FILE: backend-breves.html ---
<?php echo '<'.'?xml version="1.0" encoding="#CHARSET"?'.">\n"; ?>
<rss version="0.91" xmlns:dc="http://purl.org/dc/elements/1.1/">

<channel>

	<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
	<link>#URL_SITE_SPIP/</link>
	<description></description>
	<language>#LANG</language>

	<image>
		<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
		<url>#URL_SITE_SPIP[/(#LOGO_SITE_SPIP||extraire_attribut{src})]</url>
		<link>#URL_SITE_SPIP/</link>
		<description></description>
	</image>

	<BOUCLE_breves(BREVES){id_rubrique ?}{lang ?}{par date}{inverse}{0,10}>
	<item>
		<title>[(#TITRE|texte_backend)]</title>
		<link>#URL_SITE_SPIP/#URL_BREVE</link>
		<date>#DATE</date>
		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_BREVE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#TEXTE|texte_backend)]</description>
		<dc:date>[(#DATE|date_iso)]</dc:date>
		<dc:format>text/html</dc:format>
		<dc:language>#LANG</dc:language>
	</item>
	</BOUCLE_breves>

</channel>

</rss>

--- NEW FILE: backend.html ---
<?php echo '<'.'?xml version="1.0" encoding="#CHARSET"?'.">\n"; ?>
<rss version="0.91" xmlns:dc="http://purl.org/dc/elements/1.1/">

<channel>
	<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
	<link>#URL_SITE_SPIP/</link>
	<description></description>
	<language>#LANG</language>

	<image>
		<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
		<url>#URL_SITE_SPIP[/(#LOGO_SITE_SPIP||extraire_attribut{src})]</url>
		<link>#URL_SITE_SPIP/</link>
		<description></description>
	</image>

	<BOUCLE_10recents(ARTICLES){lang ?}{branche ?}{par date}{inverse}{0,10}{unique}>
		<item>
		<title>[(#TITRE|texte_backend)]</title>
		<link>#URL_SITE_SPIP/#URL_ARTICLE</link>
		<date>#DATE</date>
		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_ARTICLE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#INTRODUCTION|texte_backend)]</description>
		<author><BOUCLE_auteurs(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteurs></author>
		<dc:date>[(#DATE|date_iso)]</dc:date>
		<dc:format>text/html</dc:format>
		<dc:language>#LANG</dc:language>
		<dc:creator><BOUCLE_auteursb(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteursb></dc:creator>
		</item>
	</BOUCLE_10recents>
	<BOUCLE_tres_recents(ARTICLES){lang ?}{branche ?}{par date}{inverse}{age<3}{unique}>
		<item>
		<title>[(#TITRE|texte_backend)]</title>
		<link>#URL_SITE_SPIP/#URL_ARTICLE</link>
		<date>#DATE</date>
		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_ARTICLE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#INTRODUCTION|texte_backend)]</description>
		<author><BOUCLE_auteurs_t(AUTEURS){id_article}{","}>[(#NOM|texte_backend)]</BOUCLE_auteurs_t></author>
		<dc:date>[(#DATE|date_iso)]</dc:date>
		<dc:format>text/html</dc:format>
		<dc:language>#LANG</dc:language>
		<dc:creator><BOUCLE_auteurs_tb(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteurs_tb></dc:creator>
		</item>
	</BOUCLE_tres_recents>

</channel>

</rss>



From stef at berlios.de  Sun Feb  6 14:59:34 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 6 Feb 2005 14:59:34 +0100
Subject: [Spip-carto-cvs] spip-carto inc-chercher-squelette.php3,NONE,1.1 inc-calcul.php3,1.1,1.2 forum.php3,1.1,1.2 inc-public.php3,1.1,1.2 inc-balises.php3,1.1,1.2 htaccess-propres.txt,1.1,1.2 spip_background.php3,1.1,1.2 inc-admin.php3,1.1,1.2 inc-compilo.php3,1.1,1.2 inc-html-squel.php3,1.1,1.2 spip_image.php3,1.1,1.2 spip_redirect.php3,1.1,1.2 inc-compilo-api.php3,1.1,1.2 inc-compilo-index.php3,1.1,1.2 htaccess-html.txt,1.1,1.2 spip_acces_doc.php3,1.1,1.2 inc-calcul-outils.php3,1.1,1.2 spip_inscription.php3,1.2,1.3 inc-messforum.php3,1.1,1.2 inc-cache.php3,1.1,1.2 inc-criteres.php3,1.1,1.2 spip_image_reduite.php3,1.1,1.2 inc-public-global.php3,1.1,1.2 inc-urls-propres.php3,1.1,1.2 spip_cookie.php3,1.1,1.2 inc-boucles.php3,1.1,1.2
Message-ID: <200502061359.j16DxY8Y014269@sheep.berlios.de>

Update of /cvsroot/spip-carto/spip-carto
In directory sheep:/tmp/cvs-serv14238

Modified Files:
	inc-calcul.php3 forum.php3 inc-public.php3 inc-balises.php3 
	htaccess-propres.txt spip_background.php3 inc-admin.php3 
	inc-compilo.php3 inc-html-squel.php3 spip_image.php3 
	spip_redirect.php3 inc-compilo-api.php3 inc-compilo-index.php3 
	htaccess-html.txt spip_acces_doc.php3 inc-calcul-outils.php3 
	spip_inscription.php3 inc-messforum.php3 inc-cache.php3 
	inc-criteres.php3 spip_image_reduite.php3 
	inc-public-global.php3 inc-urls-propres.php3 spip_cookie.php3 
	inc-boucles.php3 
Added Files:
	inc-chercher-squelette.php3 
Log Message:
spip1.8b6

--- NEW FILE: inc-chercher-squelette.php3 ---
<?php

// Ce fichier ne sera execute qu'une fois
if (defined("_INC_CHERCHER")) return;
define("_INC_CHERCHER", "1");

// Ce fichier doit imperativement contenir la fonction chercher-squelette
// (cf commentaires dans inc-calcul)

function chercher_squelette($fond, $id_rubrique, $lang) {
	$ext = $GLOBALS['extension_squelette'];

	// Accrocher un squelette de base dans le chemin
	if (!$base = find_in_path("$fond.$ext")) {
		// erreur webmaster : $fond ne correspond a rien
		erreur_squelette(_T('zbug_info_erreur_squelette2',
			 array('fichier'=>$fond)),
			 $dossier);
		return '';
	}

	// supprimer le ".html" pour pouvoir affiner par id_rubrique ou par langue
	$squelette = substr($base, 0, - strlen(".$ext"));

	// On selectionne, dans l'ordre :
	// fond=10
	$f = "$squelette=$id_rubrique";
	if (($id_rubrique > 0) AND (@file_exists("$f.$ext")))
		$squelette = $f;
	else {
		// fond-10 fond-<rubriques parentes>
		while ($id_rubrique > 0) {
			$f = "$squelette-$id_rubrique";
			if (@file_exists("$f.$ext")) {
				$squelette = $f;
				break;
			}
			else
				$id_rubrique = sql_parent($id_rubrique);
		}
	}

	// Affiner par lang
	if ($lang) {
		lang_select($lang);
		$f = "$squelette.$lang";
		if (@file_exists("$f.$ext"))
			$squelette = $f;
	}

	return $squelette;
}

?>

Index: inc-calcul.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-calcul.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-calcul.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-calcul.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -23,8 +23,8 @@
 // Ce fichier peut contenir une affectation de $dossier_squelettes  indiquant
 // le repertoire du source des squelettes (les pseudo-html avec BOUCLE...)
 
-if (@file_exists("mes_fonctions.php3")) 
-    include_local ("mes_fonctions.php3");
+if ($f = find_in_path("mes_fonctions.php3"))
+	include_local ($f);
 
 
 // Gestionnaire d'URLs
@@ -120,26 +120,26 @@
 # (typiquement dans mes_fonctions.php3)
 
 function cherche_page ($cache, $contexte, $fond)  {
-	global $dossier_squelettes, $delais;
+	global $delais;
 
 	if (!function_exists('chercher_squelette'))
-		include_local("inc-chercher.php3"); # a renommer ?
+		include_local("inc-chercher-squelette.php3");
 
 	// Choisir entre $fond-dist.html, $fond=7.html, etc?
 	$id_rubrique_fond = 0;
-	// Si inc-urls veut fixer la langue, on la recupere ici
-	$lang = $contexte['lang'];
 	// Chercher le fond qui va servir de squelette
-	if ($r = sql_rubrique_fond($contexte,
-	$lang ? $lang : lire_meta('langue_site')))
+	if ($r = sql_rubrique_fond($contexte))
 		list($id_rubrique_fond, $lang) = $r;
+	if (!$lang)
+		$lang = lire_meta('langue_site');
+	// Si inc-urls ou un appel dynamique veut fixer la langue, la recuperer
+	$lang = $contexte['lang'];
 
 	if (!$GLOBALS['forcer_lang'])
 		lang_select($lang);
 
 	$skel = chercher_squelette($fond,
 			$id_rubrique_fond,
-			$dossier_squelettes ? "$dossier_squelettes/" :'',
 			$GLOBALS['spip_lang']);
 
 	// Charger le squelette et recuperer sa fonction principale
@@ -179,17 +179,17 @@
 
 //
 // Contexte : lors du calcul d'une page spip etablit le contexte a partir
-// des variables $HTTP_GET_VARS et $HTTP_POST_VARS, et leur ajoute la date
+// des variables $_GET et $_POST, et leur ajoute la date
 // Note : pour hacker le contexte depuis le fichier d'appel (article.php3),
-// il est recommande de modifier $HTTP_GET_VARS['toto'] (meme si la page est
+// il est recommande de modifier $_GET['toto'] (meme si la page est
 // appelee avec la methode POST).
 //
 function calculer_contexte() {
-	foreach($GLOBALS['HTTP_GET_VARS'] as $var => $val) {
+	foreach($GLOBALS['_GET'] as $var => $val) {
 		if (strpos($var, 'var_') !== 0)
 			$contexte[$var] = $val;
 	}
-	foreach($GLOBALS['HTTP_POST_VARS'] as $var => $val) {
+	foreach($GLOBALS['_POST'] as $var => $val) {
 		if (strpos($var, 'var_') !== 0)
 			$contexte[$var] = $val;
 	}
@@ -235,7 +235,7 @@
 }
 
 
-// Cf ramener_page +cherche_page_incluante+ cherche_page_incluse chez ESJ
+
 function calculer_page($chemin_cache, $elements, $delais, $inclusion=false) {
 
 	// Inclusion
@@ -276,7 +276,7 @@
 
 	// Enregistrer le fichier cache
 	if ($delais > 0 AND $GLOBALS['var_mode'] != 'debug'
-	AND empty($GLOBALS['HTTP_POST_VARS']))
+	AND empty($GLOBALS['_POST']))
 		ecrire_fichier($chemin_cache, $signal.$page['texte']);
 
 	return $page;

Index: forum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/forum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- forum.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ forum.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -1,6 +1,19 @@
 <?php
+
 $fond = "forum";
 $delais = 3600;
+
+// Exemples de personnalisation :
+// @ http://www.spip.net/fr_article1825.html
+//
+// 1. seuls les mots-cles du groupe de mots numero 1 doivent s'afficher
+// $afficher_groupe = array(1);
+//
+// 2. faire des forums uniquement pour affecter des mots-cles
+// $afficher_texte = "non";
+
+// En ca de forums sur abonnement, on a un panneau de login
+$flag_dynamique = true;
 
 include ("inc-public.php3");
 

Index: inc-public.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-public.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-public.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-public.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -1,9 +1,8 @@
 <?php
 
-// Page inclue ?
+// Distinguer une inclusion d'un appel initial
 if (defined("_INC_PUBLIC")) {
-	$page = inclure_page($fond, $delais, $contexte_inclus, $fichier_inclus);
-
+	$page = inclure_page($fond, $delais, $contexte_inclus);
 	if ($page['process_ins'] == 'html')
 		echo $page['texte'];
 	else
@@ -11,117 +10,49 @@
 
 	if ($page['lang_select'])
 		lang_dselect();
-}
-// Premier appel inc-public
-else {
-	define("_INC_PUBLIC", "1");
-	include ("ecrire/inc_version.php3");
 
-	//
-	// Initialisations
-	//
-
-	// Regler le $delais par defaut
-	if ($INSECURE['fond'] || $INSECURE['delais'])
-		exit;
-	if (!isset($delais))
-		$delais = 1 * 3600;
-	if ($recherche)
-		$delais = 0;
-
-	// authentification du visiteur
-	if ($HTTP_COOKIE_VARS['spip_session'] OR
-	($PHP_AUTH_USER AND !$ignore_auth_http)) {
-		include_ecrire ("inc_session.php3");
-		verifier_visiteur();
-	}
-	// multilinguisme
-	if ($forcer_lang AND ($forcer_lang!=='non') AND empty($HTTP_POST_VARS)) {
-		include_ecrire('inc_lang.php3');
-		verifier_lang_url();
-	}
-	if ($HTTP_GET_VARS['lang']) {
-		include_ecrire('inc_lang.php3');
-		lang_select($HTTP_GET_VARS['lang']);
-	}
-	// Ajout_forum (pour les forums) et $val_confirm signalent des modifications
-	// a faire avant d'afficher la page
-	if ($ajout_forum) {
-		$redirect = '';
-		include('inc-messforum.php3');
-		if ($redirect) redirige_par_entete($redirect);
-	}
-	if ($val_confirm) {
-		include_local('inc-formulaire_signature.php3');
-		reponse_confirmation($id_article, $val_confirm);
-	}
-
-	include_local ('inc-public-global.php3');
-
-	//  refus du debug si pas dans les options generales ni admin connecte
-	if ($var_mode=='debug') {
-		if (($code_activation_debug == 'oui')
-		OR $auteur_session['statut'] == '0minirezo')
-			spip_log('debug !');
-		else
-			$var_mode = false; 
-	}
-
-	// est-on admin ?
-	if ($affiche_boutons_admin = (!$flag_preserver
-	AND ($HTTP_COOKIE_VARS['spip_admin']
-	OR $HTTP_COOKIE_VARS['spip_debug'])))
-		include_local('inc-formulaire_admin.php3');
-
-	$tableau_des_erreurs = array();
-	$page = afficher_page_globale ($fond, $delais, $use_cache);
+} else {
+	define ("_INC_PUBLIC", 1);
+	include ("ecrire/inc_version.php3");
+	include_local('inc-public-global.php3');
 
-	if (!$flag_preserver) {
-	// Interdire au client de cacher un login, un admin ou un recalcul
-		if ($flag_dynamique OR $var_mode
-		OR $HTTP_COOKIE_VARS['spip_admin']) {
-			@header("Cache-Control: no-cache,must-revalidate");
-			@header("Pragma: no-cache");
-	// Pour les autres donner l'heure de modif
-		} else if ($lastmodified)
-			@Header ("Last-Modified: ".http_gmoddate($lastmodified)." GMT");
+	// Calculer la page sans evaluer le php qu'elle contient
+	$page = calcule_header_et_page ($fond, $delais);
 
-	// si le squelette est nul se rabattre sur l'entete standard
-		if ($page['texte']) 
-			@header("Content-Type: text/html; charset=".lire_meta('charset'));
-		else
-			echo debut_entete($fond);
-	}
-	define('spip_active_ob', $flag_ob AND
-		($var_mode == 'debug' OR $var_recherche OR $affiche_boutons_admin));
+	// Execution de la page calculee
 
-	// Cas d'une page contenant uniquement du HTML :
+	// 1. Cas d'une page contenant uniquement du HTML :
 	if ($page['process_ins'] == 'html') {
-		if (!spip_active_ob) {
-			echo $page['texte'];
-			$contenu = '';
-		} else
-			$contenu = $page['texte'];
+		$page = $page['texte'];
 	}
 
-	// Cas d'une page contenant du PHP :
+	// 2. Cas d'une page contenant du PHP :
+	// Attention cette partie eval() doit imperativement
+	// etre declenchee dans l'espace des globales (donc pas
+	// dans une fonction).
 	else {
-		// Evaluer la page
-		if (!spip_active_ob) {
+	
+		// Une page "normale" va s'afficher ici
+		if (!($flag_ob AND ($var_mode == 'debug'
+		OR $var_recherche OR $affiche_boutons_admin))) {
 			eval('?' . '>' . $page['texte']);
-			$contenu = '';
-		} else {
+			$page = '';
+		}
+
+		// Certains cas demandent un ob_start() de plus
+		else {
 			ob_start(); 
 			$res = eval('?' . '>' . $page['texte']);
-			$contenu = ob_get_contents(); 
+			$page = ob_get_contents(); 
 			ob_end_clean();
 
-			// en cas d'erreur lors du eval, afficher un message
-			// et forcer les boutons de debug
+			// en cas d'erreur lors du eval,
+			// la memoriser dans le tableau des erreurs
+			// On ne revient pas ici si le nb d'erreurs > 4
 			if ($res === false AND $affiche_boutons_admin
 			AND $auteur_session['statut'] == '0minirezo') {
 				include_ecrire('inc_debug_sql.php3');
-				erreur_squelette(_L('erreur d\'execution de la page'));
+				erreur_squelette(_T('zbug_erreur_execution_page'));
 			}
 		}
 	}
@@ -130,33 +61,27 @@
 	if ($var_mode == 'debug') {
 		include_ecrire("inc_debug_sql.php3");
 		debug_dumpfile('',$var_mode_objet,$var_mode_affiche);
-		exit;
-	} else if (count($tableau_des_erreurs) > 0
-	AND $affiche_boutons_admin)
-		affiche_erreurs_page ($tableau_des_erreurs);
+	} 
+	if (count($tableau_des_erreurs) > 0 AND $affiche_boutons_admin)
+	  $page = affiche_erreurs_page($tableau_des_erreurs) . $page;
 
 	// Traiter var_recherche pour surligner les mots
 	if ($var_recherche) {
 		include_ecrire("inc_surligne.php3");
-		$contenu = surligner_mots($contenu, $var_recherche);
+		$page = surligner_mots($page, $var_recherche);
 	}
 
-	// Ajouter au besoin la CSS des boutons admins
+	// Inserer au besoin les boutons admins
 	if ($affiche_boutons_admin) {
 		include_local("inc-admin.php3");
-		$contenu = perso_admin($contenu);
+		$page = affiche_boutons_admin($page);
 	}
 
-	// Afficher le resultat final
-	echo $contenu;
-
-	// Ajouter les boutons admins (les normaux) si absents
-	// (ce sera apres la balise /html mais tant pis)
-	if ($affiche_boutons_admin)
-		inclure_balise_dynamique(balise_formulaire_admin_dyn($id_article, $id_breve, $id_rubrique, $id_mot, $id_auteur));
+	// Affichage final s'il en reste
+	echo $page;
 
-	// Taches de fin
+	// Taches de fond ?
 	terminer_public_global();
- }
+}
 
 ?>

Index: inc-balises.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-balises.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-balises.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-balises.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -47,7 +47,7 @@
 		'URL_SITE_SPIP' => 'htmlspecialchars(vider_url(%s))',
 		'URL_SITE' => 'htmlspecialchars(vider_url(%s))',
 		'URL_SYNDIC' => 'htmlspecialchars(vider_url(%s))',
-		'HTTP_VARS' => 'htmlspecialchars(%s)'
+		'ENV' => 'entites_html(%s)'
 	);
 	$ps = $traitements[$p->nom_champ];
 	if (!$ps) return $p->code;
@@ -76,7 +76,7 @@
 function balise_distante_interdite($p) {
 	$nom = $p->id_boucle;
 	if ($p->boucles[$nom]->sql_serveur) {
-		erreur_squelette($p->nom_champ ._L(" distant interdit"), $nom);
+		erreur_squelette($p->nom_champ .' '._T('zbug_distant_interdit'), $nom);
 	}
 }
 
@@ -259,6 +259,13 @@
 	return $p;
 }
 
+// Qu'afficher en cas d'erreur 404 ?
+function balise_ERREUR_AUCUN_dist($p) {
+	$p->code = '$Pile[0]["erreur_aucun"]';
+	$p->statut = 'php';
+	return $p;
+}
+
 function balise_RECHERCHE_dist($p) {
 	$p->code = 'htmlspecialchars($GLOBALS["recherche"])';
 	$p->statut = 'php';
@@ -267,7 +274,10 @@
 
 function balise_COMPTEUR_BOUCLE_dist($p) {
 	if ($p->id_mere === '') {
-		erreur_squelette(_L("Champ #COMPTEUR_BOUCLE hors boucle"), $p->id_boucle);
+		erreur_squelette(
+			_T('zbug_champ_hors_boucle',
+				array('champ' => '#COMPTEUR_BOUCLE')
+			), $p->id_boucle);
 		$p->code = "''";
 	} else {
 		$p->code = '$compteur_boucle';
@@ -279,7 +289,10 @@
 function balise_TOTAL_BOUCLE_dist($p) {
 	$b = $p->nom_boucle ? $p->nom_boucle : $p->id_mere;
 	if ($b === '') {
-		erreur_squelette(_L("Champ #TOTAL_BOUCLE hors boucle"), $p->id_boucle);
+		erreur_squelette(
+			_T('zbug_champ_hors_boucle',
+				array('champ' => '#TOTAL_BOUCLE')
+			), $p->id_boucle);
 		$p->code = "''";
 	} else {
 		$p->code = "\$Numrows['$b']";
@@ -318,7 +331,10 @@
 	$type_boucle = $p->type_requete;
 	$primary_key = $table_primary[$type_boucle];
 	if (!$primary_key) {
-		erreur_squelette(_L("Champ #EXPOSER hors boucle"), $p->id_boucle);
+		erreur_squelette(_T('zbug_champ_hors_boucle',
+				array('champ' => '#EXPOSER')
+			), $p->id_boucle);
+
 	}
 	$on = 'on';
 	$off= '';
@@ -377,6 +393,21 @@
 	return $p;
 }
 
+
+// #SPIP_CRON
+// a documenter
+// insere un <div> avec un lien background-image vers les taches de fond.
+// Si cette balise est presente sur la page de sommaire, le site ne devrait
+// quasiment jamais se trouver ralenti par des taches de fond un peu lentes
+function balise_SPIP_CRON_dist ($p) {
+	$p->code = "'<div style=\\'position: absolute; background-image: url(\"spip_background.php3\"); height: 1px; width: 1px;\\'></div>'";
+	$p->statut='php';
+	return $p;
+}
+
+
+// #INTRODUCTION
+// http://www.spip.net/@introduction
 function balise_INTRODUCTION_dist ($p) {
 	$_type = $p->type_requete;
 	$_texte = champ_sql('texte', $p);
@@ -604,14 +635,15 @@
 //
 
 function balise_PARAMETRES_FORUM_dist($p) {
-	include_local('inc-formulaire_forum.php3');
-	$_accepter_forum = champ_sql('accepter_forum', $p);
+	include_local(find_in_path('inc-formulaire_forum.php3'));
+	$_id_article = champ_sql('id_article', $p);
 	$p->code = '
-	// refus des forums ?
-	('.$_accepter_forum.'=="non" OR
-	(lire_meta("forums_publics") == "non" AND !ereg("^(pos|pri|abo)", '.$_accepter_forum.')))
-	? "" : // sinon:
-	';
+		// refus des forums ?
+		(sql_accepter_forum('.$_id_article.')=="non" OR
+		(lire_meta("forums_publics") == "non"
+		AND sql_accepter_forum('.$_id_article.') == ""))
+		? "" : // sinon:
+		';
 
 	switch ($p->type_requete) {
 		case 'articles':
@@ -638,7 +670,7 @@
 	}
 
 	$c .= '.
-	"&retour=".rawurlencode($lien=$GLOBALS["HTTP_GET_VARS"]["retour"] ? $lien : nettoyer_uri())';
+	"&retour=".rawurlencode($lien=$GLOBALS["_GET"]["retour"] ? $lien : nettoyer_uri())';
 
 	$p->code .= code_invalideur_forums($p, "(".$c.")");
 
@@ -669,17 +701,32 @@
 	return $p;
 }
 
-// reference aux parametres GET & POST
 
-function balise_HTTP_VARS_dist($p) {
+//
+// #ENV
+// l'"environnement", id est le $contexte (ou $contexte_inclus)
+//
+// en standard on applique |entites_html, mais attention si
+// vous utilisez [(#ENV*{toto})] il *faut* vous assurer vous-memes
+// de la securite anti-php et anti-javascript
+//
+// La syntaxe #ENV{toto, rempl} renverra 'rempl' si $toto est vide
+//
+function balise_ENV_dist($p) {
 	$nom = param_balise($p);
-	if (!$nom)
-		erreur_squelette(_L("Champ #HTTP_VARS argument manquant"),
-				$p->id_boucle);
-	else {
-		$p->code = '$Pile[0]["' . addslashes($nom) . '"]';
+	if (!$nom) {
+		// cas de #ENV sans argument : on retourne le serialize() du tableau
+		// une belle fonction [(#ENV|affiche_env)] serait pratique
+		$p->code = 'serialize($Pile[0])';
+		$p->statut = 'html';
+	} else {
+		// admet deux arguments : nom de variable, valeur par defaut si vide
+		$nom = split(',', $nom, 2);
+		$p->code = 'sinon($Pile[0]["' . addslashes($nom[0]) . '"],
+			\''. texte_script($nom[1]) .'\')';
 		$p->statut = 'php';
 	}
 	return $p;
 }
+
 ?>

Index: htaccess-propres.txt
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/htaccess-propres.txt,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- htaccess-propres.txt	20 Jan 2005 10:25:17 -0000	1.1
+++ htaccess-propres.txt	6 Feb 2005 13:59:32 -0000	1.2
@@ -1,7 +1,7 @@
 ###########################################################
 # Fichier .htaccess pour les URLs propres ; a installer   #
-# si vous reglez $type_urls='propre'                      #
-# dans ecrire/mes_options.php3 ou dans mes_fonctions.php3 #
+# si vous reglez $type_urls='propres'                     #
+# dans ecrire/mes_options.php3                            #
 # (fichier associe : inc-urls-propres.php3)               #
 ###########################################################
 

Index: spip_background.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/spip_background.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_background.php3	13 Jan 2005 15:57:38 -0000	1.1
+++ spip_background.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -17,7 +17,6 @@
 
 include('ecrire/inc_version.php3');
 
-cron(1);	// toutes les 1 seconde (gourmand)
-
+cron(1); // acces gourmand (on veut bosser, nous, pas comme inc-public.php3 !)
 
 ?>

Index: inc-admin.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-admin.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-admin.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-admin.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -1,17 +1,50 @@
 <?php
 
 // Inserer la feuille de style selon les normes, dans le <head>
+// puis les boutons
 // Feuilles de style admin : d'abord la CSS officielle, puis la perso,
-function perso_admin($texte) {
+
+function affiche_boutons_admin($contenu) {
 	$css = "<link rel='stylesheet' href='spip_admin.css' type='text/css' />\n";
-	if (@file_exists('spip_admin_perso.css'))
-		$css2 = "<link rel='stylesheet' href='spip_admin_perso.css' type='text/css' />\n";
+	if ($f = find_in_path('spip_admin_perso.css'))
+		$css2 = "<link rel='stylesheet' href='$f' type='text/css' />\n";
 
-	if (eregi('<(/head|body)', $texte, $regs)) {
-		$texte = explode($regs[0], $texte, 2);
-		return $texte[0] . $css. $css2 . $regs[0] . $texte[1];
+	if (preg_match('@<(/head|body)@i', $contenu, $regs)) {
+		$contenu = explode($regs[0], $contenu, 2);
+		$contenu = $contenu[0] . $css. $css2 . $regs[0] . $contenu[1];
 	} else
-		return $css . $css2 . $texte;
+		$contenu = $css . $css2 . $contenu;
+
+	if (preg_match('@<(/body|/html)@i', $contenu, $regs)) {
+		$split = explode($regs[0], $contenu, 2);
+		$contenu = $split[0];
+		$suite = $regs[0].$split[1];
+	}
+
+	echo $contenu;
+
+	//
+	// Regler les boutons dans la langue de l'admin (sinon tant pis)
+	//
+	include_local(_FILE_CONNECT);
+	include_ecrire ("inc_lang.php3");
+	$login = addslashes(ereg_replace('^@','',$GLOBALS['spip_admin']));
+	if ($row = spip_fetch_array(spip_query("SELECT lang FROM spip_auteurs WHERE login='$login'"))) {
+		$lang = $row['lang'];
+	}
+	lang_select($lang);
+
+	// Afficher la balise #FORMULAIRE_ADMIN mais en float
+	inclure_balise_dynamique(
+		balise_formulaire_admin_dyn(
+		$GLOBALS['id_article'], $GLOBALS['id_breve'],
+		$GLOBALS['id_rubrique'], $GLOBALS['id_mot'],
+		$GLOBALS['id_auteur'], 'div'
+	));
+
+	lang_dselect();
+
+	return $suite;
 }
 
 ?>

Index: inc-compilo.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-compilo.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-compilo.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-compilo.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -51,7 +51,7 @@
 			}
 			else {
 			// Cas de la langue : passer $spip_lang
-			  // et non table.lang (car depend de {lang_select})
+			// et non table.lang (car depend de {lang_select})
 				if ($var =='lang')
 					$l[] = "\'lang\' => \''.\$GLOBALS[\"spip_lang\"].'\'";
 				else
@@ -59,18 +59,21 @@
 				}
 			}
 	}
+
+	if ($path = find_in_path($fichier))
+		$path = "\\'$path\\'";
+	else {
+		spip_log("ERREUR: <INCLURE($fichier)> impossible");
+		erreur_squelette(_T('zbug_info_erreur_squelette'),
+			"&lt;INCLURE($fichier)&gt;");
+		return "'&lt;INCLURE(".texte_script($fichier).")&gt;'";
+	}
+
 	return "\n'<".
 		"?php\n\t\$contexte_inclus = array(" .
 		join(", ",$l) .
-		");\n\t\$fichier_inclus = \'$fichier\';\n" .
-		(($dossier_squelettes) ?
-		("
-			if (@file_exists(\'$dossier_squelettes/$fichier\')){
-				include(\'$dossier_squelettes/$fichier\');
-			} else {
-				include(\'$fichier\');
-			} " ) :
-		("\tinclude(\'$fichier\');")) .
+		");" .
+		"\n\tinclude($path);" .
 		"\n?'." . "'>'";
 }
 
@@ -81,8 +84,21 @@
 // en une EXPRESSION php (qui peut etre l'argument d'un Return ou la
 // partie droite d'une affectation). Ici sont analyses les elements
 // multilingues des squelettes : <:xxx:> et <multi>[fr]coucou</multi>
+// ainsi que les liens vers des fichiers appelant un chemin (./fichier#)
 //
 function calculer_texte($texte, $id_boucle, &$boucles, $id_mere) {
+	//
+	// Facile : les liens fichiers (./xxxxx.css# -> chemin/xxxxx.css)
+	//
+	if (preg_match_all('@[.]/([^[[:space:]#<>"$\']+)[#]@',
+	$texte, $matches, PREG_SET_ORDER))
+		foreach ($matches as $r)
+			if ($fichier = find_in_path($r[1]))
+				$texte = str_replace ($r[0], $fichier, $texte);
+
+	//
+	// Plus difficile : les elements multilingues
+	//
 	$code = "'".ereg_replace("([\\\\'])", "\\\\1", $texte)."'";
 
 	// bloc multi
@@ -269,14 +285,15 @@
 
 	// hack critere recherche : ignorer la requete en cas de hash vide
 	// Recherche : recuperer les hash a partir de la chaine de recherche
-	if ($boucle->hash) {
+	if ($boucle->hash)
 		$init =  '
 	// RECHERCHE
 	list($rech_select, $rech_where) = prepare_recherche($GLOBALS["recherche"], "'.$boucle->primary.'", "'.$boucle->id_table.'");
 	if ($rech_select) ';
-	}
 
-	else $init = '';
+	if (!$order = $boucle->order
+	AND !$order = $boucle->default_order)
+		$order = "''";
 
 	$init .= "\n\n	// REQUETE
 	\$result = spip_abstract_select(\n\t\tarray(\"". 
@@ -295,7 +312,7 @@
 		"', $boucle->where) . '"')) .
 		"), # WHERE
 		'".addslashes($boucle->group)."', # GROUP
-		" . ($boucle->order ? $boucle->order : "''") .", # ORDER
+		" . $order .", # ORDER
 		" . (strpos($boucle->limit, 'intval') === false ?
 			"'".$boucle->limit."'" :
 			$boucle->limit). ", # LIMIT
@@ -479,7 +496,7 @@
 		    if (($res != $t) || ($altern != "''"))
 		      $code = "(($t = $code) ?\n\t$tab($res) :\n\t$tab($altern))";
 		  }
-		// if ($code) # c'est toujours etre ainsi
+
 		  $codes[]= (!$commentaire ? $code : 
 			     ("/"."* $commentaire *"."/ " . $code));
 	} // foreach
@@ -536,9 +553,9 @@
 			if ($boucle->type_requete == 'boucle') {
 				$rec = &$boucles[$boucle->param];
 				if (!$rec) {
-					return array(_T('info_erreur_squelette'),
+					return array(_T('zbug_info_erreur_squelette'),
 						($boucle->param
-						. _L(' boucle recursive non definie')));
+						. ' '. _T('zbug_boucle_recursive_undef')));
 				} else {
 					$rec->externe = $id;
 					$descr['id_mere'] = $id;
@@ -676,7 +693,6 @@
 
 	if ($GLOBALS['var_mode'] == 'debug')
 		squelette_debug_compile($nom, $sourcefile, $squelette_compile);
-
 	return $squelette_compile;
 
 }

Index: inc-html-squel.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-html-squel.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-html-squel.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-html-squel.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -52,7 +52,9 @@
 				$p = $m[5];
 			}
 			
-			if ($p)	erreur_squelette(_L("Param&egrave;tres d'inclusion incorrects"), $s);
+			if ($p)
+				erreur_squelette(_T('zbug_parametres_inclus_incorrects'),
+				$s);
 		}
 		$result[] = $champ;
 	}
@@ -95,9 +97,9 @@
 }
 
 // Gestion des imbrications:
-// on cherches les [..] les plus internes et on les remplace par une  chaine
-// %###N@ o? N indexe un tableau comportant le r?sultat de leur phras?
-// on recommence tant qu'il y a des [...] en substituant ? l'appel suivant
+// on cherche les [..] les plus internes et on les remplace par une chaine
+// %###N@ ou N indexe un tableau comportant le resultat de leur phrase
+// on recommence tant qu'il y a des [...] en substituant a l'appel suivant
 
 function parser_champs_etendus($texte, $result) {
 	if (!$texte) return $result;
@@ -239,7 +241,7 @@
 		$milieu = substr($texte, $p);
 
 		if (!ereg(BALISE_DE_BOUCLE, $milieu, $match)) {
-			erreur_squelette((_T('erreur_boucle_syntaxe')), $milieu);
+			erreur_squelette((_T('zbug_erreur_boucle_syntaxe')), $milieu);
 		}
 		$id_boucle = $match[1];
 
@@ -278,9 +280,9 @@
 		}
 		$milieu = substr($milieu, strlen($match[0]));
 		if (strpos($milieu, $s)) {
-			erreur_squelette(_T('erreur_boucle_syntaxe'),
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
 				$id_boucle . 
-				_L('&nbsp;: balise B en aval'));
+				_T('zbug_balise_b_aval'));
 		}
 
 		//
@@ -289,8 +291,8 @@
 		$s = "</BOUCLE$id_boucle>";
 		$p = strpos($milieu, $s);
 		if ($p === false) {
-			erreur_squelette(_T('erreur_boucle_syntaxe'),
-					 _T('erreur_boucle_fermant',
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
+					 _T('zbug_erreur_boucle_fermant',
 						array('id'=>$id_boucle)));
 		}
 		$texte = substr($milieu, $p + strlen($s));
@@ -324,8 +326,8 @@
 		$all_res = parser_champs_etendus($debut, $all_res);
 		$all_res[] = $result;
 		if ($boucles[$id_boucle]) {
-			erreur_squelette(_T('erreur_boucle_syntaxe'),
-					 _T('erreur_boucle_double',
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
+					 _T('zbug_erreur_boucle_double',
 					 	array('id'=>$id_boucle)));
 		} else
 			$boucles[$id_boucle] = $result;

Index: spip_image.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/spip_image.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_image.php3	13 Jan 2005 15:57:38 -0000	1.1
+++ spip_image.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -1,443 +1,247 @@
 <?php
 
+// Uploader un document, une image ou un logo,
+// supprimer cet element, creer les vignettes, etc.
+
 include ("ecrire/inc_version.php3");
-include_ecrire("inc_charsets.php3");
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_admin.php3");
-include_ecrire("inc_abstract_sql.php3");
+include_ecrire('inc_presentation.php3');	# regler la langue en cas d'erreur
+include_ecrire('inc_getdocument.php3');		# diverses fonctions de ce fichier
+include_ecrire("inc_charsets.php3");		# pour le nom de fichier
+include_ecrire("inc_meta.php3");			# ne pas faire confiance au cache
+											# (alea_ephemere a peut-etre change)
+include_ecrire("inc_admin.php3");			# verifier_action_auteur
+include_ecrire("inc_abstract_sql.php3");	# spip_insert
+include_ecrire('inc_documents.php3');		# fichiers_upload()
 
-function effacer_image($nom) {
-	global $hash_id_auteur, $hash;
 
-	if ((!strstr($nom, "..")) AND
-	    verifier_action_auteur("supp_image $nom", $hash, $hash_id_auteur))
-		@unlink(_DIR_IMG . $nom);
+// Recuperer les variables d'upload
+if (!$_FILES)
+	$_FILES = &$HTTP_POST_FILES;
+if (!is_array($_FILES))
+	$_FILES = array();
+foreach ($_FILES as $id => $file) {
+	if ($file['error'] == 4 /* UPLOAD_ERR_NO_FILE */)
+		unset ($_FILES[$id]);
 }
 
-function tester_vignette ($test_vignette) {
-	global $djpeg_command, $cjpeg_command, $pnmscale_command;
-	// verifier les formats acceptes par GD
-	if ($test_vignette == "gd1") {
-		$gd_formats = Array();
-		if (function_exists('ImageCreateFromJPEG')) {
-			$srcImage = @ImageCreateFromJPEG(_DIR_IMG . "test.jpg");
-			if ($srcImage) {
-				$gd_formats[] = "jpg";
-				ImageDestroy( $srcImage );
-			}
-		}
-		if (function_exists('ImageCreateFromGIF')) {
-			$srcImage = @ImageCreateFromGIF(_DIR_IMG . "test.gif");
-			if ($srcImage) {
-				$gd_formats[] = "gif";
-				ImageDestroy( $srcImage );
-			}
-		}
-		if (function_exists('ImageCreateFromPNG')) {
-			$srcImage = @ImageCreateFromPNG(_DIR_IMG . "test.png");
-			if ($srcImage) {
-				$gd_formats[] = "png";
-				ImageDestroy( $srcImage );
-			}
-		}
-
-		if ($gd_formats) $gd_formats = join(",", $gd_formats);
-		ecrire_meta("gd_formats", $gd_formats);
-		ecrire_metas();
-	}
-	// verifier les formats netpbm
-	else if ($test_vignette == "netpbm") {
-		$netpbm_formats= Array();
-
-		$jpegtopnm_command = ereg_replace("pnmscale", "jpegtopnm", $pnmscale_command);
-		$pnmtojpeg_command = ereg_replace("pnmscale", "pnmtojpeg", $pnmscale_command);
-
-		$vignette = _DIR_IMG . "test.jpg";
-		$dest = _DIR_IMG . "test-jpg.jpg";
-		exec("$jpegtopnm_command $vignette | $pnmscale_command -width 10 | $pnmtojpeg_command > $dest");
-		if ($taille = @getimagesize($dest)) {
-			if ($taille[1] == 10) $netpbm_formats[] = "jpg";
-		}	
-		
-		$giftopnm_command = ereg_replace("pnmscale", "giftopnm", $pnmscale_command);
-		$pnmtojpeg_command = ereg_replace("pnmscale", "pnmtojpeg", $pnmscale_command);
-		$vignette = _DIR_IMG . "test.gif";
-		$dest = _DIR_IMG . "test-gif.jpg";
-		exec("$giftopnm_command $vignette | $pnmscale_command -width 10 | $pnmtojpeg_command > $dest");
-		if ($taille = @getimagesize($dest)) {
-			if ($taille[1] == 10) $netpbm_formats[] = "gif";
-		}
-
-		$pngtopnm_command = ereg_replace("pnmscale", "pngtopnm", $pnmscale_command);
-		$vignette = _DIR_IMG . "test.png";
-		$dest = _DIR_IMG . "test-gif.jpg";
-		exec("$pngtopnm_command $vignette | $pnmscale_command -width 10 | $cjpeg_command -outfile $dest");
-		if ($taille = @getimagesize($dest)) {
-			if ($taille[1] == 10) $netpbm_formats[] = "png";
-		}
-		
-
-		if ($netpbm_formats) $netpbm_formats = join(",", $netpbm_formats);
-		ecrire_meta("netpbm_formats", $netpbm_formats);
-		ecrire_metas();
-	}
-
-	// et maintenant envoyer la vignette de tests
-	if (ereg("^(gd1|gd2|imagick|convert|netpbm)$", $test_vignette)) {
-		include_ecrire('inc_logos.php3');
-		//$taille_preview = lire_meta("taille_preview");
-		if ($taille_preview < 10) $taille_preview = 120;
-		if ($preview = creer_vignette(_DIR_IMG . 'test_image.jpg', $taille_preview, $taille_preview, 'jpg', '', "test_$test_vignette", $test_vignette, true))
 
-			return ($preview['fichier']);
-	}
-	return '';
-}
+// Si on est en mode 'document', les images doivent etre installees
+// comme documents dans le portfolio
+if ($forcer_document) $mode = 'document';
 
 
 //
-// Deplacer un fichier
+// Le switch principal : quelle est l'action demandee
 //
 
-function deplacer_fichier_upload($source, $dest) {
-	// Securite
-	if (strstr($dest, "..")) {
-		exit;
-	}
-
-	$ok = @copy($source, $dest);
-	if (!$ok) $ok = @move_uploaded_file($source, $dest);
-	if ($ok)
-		@chmod($dest, 0666);
-	else {
-		$f = @fopen($dest,'w');
-		if ($f)
-			fclose ($f);
-		else {
-			redirige_par_entete("spip_test_dirs.php3?test_dir=".
-					    dirname($dest));
-		}
-		@unlink($dest);
 
-		if (($GLOBALS['_FILES']['size'] == 0) AND !$GLOBALS['action_zip']) {
-			include_ecrire('inc_presentation.php3');
-			install_debut_html(_T('forum_titre_erreur'));
-			echo "<p>"._T('upload_limit',
-				array('max' => ini_get('upload_max_filesize')));
-			install_fin_html();
-			exit;
-		}
-	}
+// appel de config-fonction
+if ($test_vignette)
+	$retour_image = tester_vignette($test_vignette);
 
-	return $ok;
+// Creation de vignette depuis le portfolio (ou autre)
+else if ($vignette) {
+	if ($creer_vignette == 'oui' AND
+	verifier_action_auteur("vign $vignette",
+	$hash, $hash_id_auteur))
+		creer_fichier_vignette($vignette);
+	else
+		$retour_image = creer_fichier_vignette($vignette, true); # obsolete
 }
 
 
 //
-// Convertit le type numerique retourne par getimagesize() en extension fichier
+// Ajout d'un document ou d'une image
 //
+else if ($ajout_doc == 'oui') {
 
-function decoder_type_image($type, $strict = false) {
-	switch ($type) {
-	case 1:
-		return "gif";
-	case 2:
-		return "jpg";
-	case 3:
-		return "png";
-	case 4:
-		return $strict ? "" : "swf";
-	case 5:
-		return "psd";
-	case 6:
-		return "bmp";
-	case 7:
-	case 8:
-		return "tif";
-	default:
-		return "";
-	}
-}
-
+	// Autorisation ?
+	if (!verifier_action_auteur("ajout_doc", $hash, $hash_id_auteur))
+		die ('Interdit');
 
-//
-// Corrige l'extension du fichier dans quelques cas particuliers
-//
+	//
+	// Cas d'un fichier ou d'un repertoire installe dans ecrire/upload/
+	//
+	if ($_POST['image2']
+	AND !strstr($_POST['image2'], '..')
+	AND $_POST['ok_ftp']
+	) {
+		$upload = _DIR_TRANSFERT.$_POST['image2'];
 
-function corriger_extension($ext) {
-	switch ($ext) {
-	case 'htm':
-		return 'html';
-	case 'jpeg':
-		return 'jpg';
-	case 'tiff':
-		return 'tif';
-	default:
-		return $ext;
-	}
-}
+		// lire le repertoire upload et remplir $_FILES
+		if (is_dir($upload)) {
+			$fichiers = fichiers_upload($upload);
 
+			$_FILES = array();
+			foreach ($fichiers as $fichier) {
+				$_FILES[] = array (
+					'name' => basename($fichier),
+					'tmp_name' => $fichier
+				);
+			}
+		}
 
-//
-// Ajouter une image (logo)
-//
+		// seul un fichier est demande
+		else
+			$_FILES = array(
+				array ('name' => basename($upload),
+				'tmp_name' => $upload)
+			);
+	}
 
-function ajout_image($source, $dest) {
-	global $redirect_url, $hash_id_auteur, $hash, $num_img, $dossier_squelettes;
+	//
+	// Upload d'un ZIP
+	//
 
-	// Securite
-	if (!(verifier_action_auteur("ajout_image $dest", $hash, $hash_id_auteur)
-	      AND _DIR_DOC != $dossier_squelettes)) {
-	  spip_log("interdiction ajout_image($source, $dest)");
-	  return;
+	// traiter la reponse de l'utilisateur
+	if (preg_match('@^IMG/zip/[^. ]+\.zip$@i', $_POST['source_zip'])) {
+		$_FILES = array(
+			array('name' => basename($_POST['source_zip']),
+				'tmp_name' => $_POST['source_zip'])
+		);
 	}
 
-	// analyse le type de l'image (on ne fait pas confiance au nom de
-	// fichier envoye par le browser : pour les Macs c'est plus sur)
+	// traiter le zip si c'en est un tout seul
+	if (count($_FILES) == 1
+	AND $action_zip!='telquel') {
+		$desc = array_pop($_FILES); # recuperer la description
+		$_FILES = array($desc);
 
-	$f =_DIR_DOC . $dest . '.tmp';
-	deplacer_fichier_upload($source, $f);
-	$size = @getimagesize($f);
-	$type = decoder_type_image($size[2], true);
-	if ($type)
-		@rename ($f, _DIR_DOC . $dest . ".$type");
-	else
-		@unlink ($f);
-}
+		if (preg_match('/\.zip$/i', $desc['name'])
+		OR ($desc['type'] == 'application/zip')) {
 
-//
-// Faire tourner une image
-//
+			// on pose le fichier dans le repertoire zip et on met
+			// a jour $_FILES (nota : copier_document n'ecrase pas
+			// un fichier avec lui-meme : ca autorise a boucler)
+			$zip = copier_document("zip",
+				$desc['name'],
+				$desc['tmp_name']
+			);
+			if (!$zip) die ('Erreur upload zip'); # pathologique
+			$desc['tmp_name'] = $zip;	# nouvel emplacement du fichier
+			$_FILES = array($desc);
 
-//$imagePath - path to your image; function will save rotated image overwriting the old one
-//$rtt - should be 90 or -90 - cw/ccw
-function gdRotate($imagePath,$rtt){
-	if(preg_match("/\.(png)/i", $imagePath)) $src_img=ImageCreateFromPNG($imagePath);
-	elseif(preg_match("/\.(jpg)/i", $imagePath)) $src_img=ImageCreateFromJPEG($imagePath);
-	elseif(preg_match("/\.(bmp)/i", $imagePath)) $src_img=ImageCreateFromWBMP($imagePath);
-	$size=@getimagesize($imagePath);
-	//note: to make it work on GD 2.xx properly change ImageCreate to ImageCreateTrueColor
+			// Est-ce qu'on sait le lire ?
+			require_once(_DIR_RESTREINT . 'pclzip.lib.php');
+			$archive = new PclZip($zip);
+			$contenu = verifier_compactes($archive);
 
-	$process = lire_meta('image_process');
-	if ($process == "gd2") $dst_img=ImageCreateTrueColor($size[1],$size[0]);
-	else  $dst_img=ImageCreate($size[1],$size[0]);
-	if($rtt==90){
-		$t=0;
-		$b=$size[1]-1;
-		while($t<=$b){
-			$l=0;
-			$r=$size[0]-1;
-			while($l<=$r){
-				imagecopy($dst_img,$src_img,$t,$r,$r,$b,1,1);
-				imagecopy($dst_img,$src_img,$t,$l,$l,$b,1,1);
-				imagecopy($dst_img,$src_img,$b,$r,$r,$t,1,1);
-				imagecopy($dst_img,$src_img,$b,$l,$l,$t,1,1);
-				$l++;
-				$r--;
-			}
-			$t++;
-			$b--;
-		}
-	}
-	elseif($rtt==-90){
-		$t=0;
-		$b=$size[1]-1;
-		while($t<=$b){
-			$l=0;
-			$r=$size[0]-1;
-			while($l<=$r){
-				imagecopy($dst_img,$src_img,$t,$l,$r,$t,1,1);
-				imagecopy($dst_img,$src_img,$t,$r,$l,$t,1,1);
-				imagecopy($dst_img,$src_img,$b,$l,$r,$b,1,1);
-				imagecopy($dst_img,$src_img,$b,$r,$l,$b,1,1);
-				$l++;
-				$r--;
+			// si non, on le force comme document
+			if (!$contenu) {
+				$forcer_document = 'oui';
 			}
-			$t++;
-			$b--;
-		}
-	}
-	ImageDestroy($src_img);
-	ImageInterlace($dst_img,0);
-	ImageJPEG($dst_img,$imagePath);
-}
 
-//
-// Creation automatique de vignette new style
-// Normalement le test est v?rifi? donc on ne rend rien sinon
-
-function creer_fichier_vignette($vignette) {
-	if ($vignette && lire_meta("creer_preview") == 'oui') {
-		eregi('\.([a-z0-9]+)$', $vignette, $regs);
-		$ext = $regs[1];
-		$taille_preview = lire_meta("taille_preview");
-		if ($taille_preview < 10) $taille_preview = 120;
-		include_ecrire('inc_logos.php3');
+			// si le deballage est demande
+			else if ($action_zip == 'decompacter') {
+				// 1. on deballe
+				define('_tmp_dir', creer_repertoire_documents($hash));
+				$archive->extract(PCLZIP_OPT_PATH,
+					_tmp_dir,
+					PCLZIP_OPT_REMOVE_ALL_PATH);
+				// 2. on supprime le fichier temporaire
+				$contenu = verifier_compactes($archive);
+				@unlink($zip);
 
-		if ($preview = creer_vignette($vignette, $taille_preview, $taille_preview, $ext, 'vignettes', basename($vignette).'-s'))
-		{
-			inserer_vignette_base($vignette, $preview['fichier']);
-			return $preview['fichier'];
-		}
-		include_ecrire('inc_documents.php3');
-		return vignette_par_defaut($ext ? $ext : 'txt', false);
-	}
-}
+				$_FILES = array();
+				foreach ($contenu as $fichier) {
+					$_FILES[] = array(
+						'name' => basename($fichier),
+						'tmp_name' => _tmp_dir.$fichier);
+				}
+			}
 
-function supprime_document_et_vignette($doc_supp) {
-	global $hash_id_auteur, $hash;
-	// Securite
-	if (verifier_action_auteur("supp_doc $doc_supp", $hash, $hash_id_auteur)) {
-		$query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$doc_supp";
-		$result = spip_query($query);
-		if ($row = spip_fetch_array($result)) {
-			$fichier = $row['fichier'];
-			$id_vignette = $row['id_vignette'];
-			spip_query("DELETE FROM spip_documents WHERE id_document=$doc_supp");
-			spip_query("UPDATE spip_documents SET id_vignette=0 WHERE id_vignette=$doc_supp");
-			spip_query("DELETE FROM spip_documents_articles WHERE id_document=$doc_supp");
-			spip_query("DELETE FROM spip_documents_rubriques WHERE id_document=$doc_supp");
-			spip_query("DELETE FROM spip_documents_breves WHERE id_document=$doc_supp");
-			@unlink($fichier);
-			
-			if ($id_vignette > 0) {
-			  $query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$id_vignette";
-			  $result = spip_query($query);
-			  if ($row = spip_fetch_array($result)) {
-			    $fichier = $row['fichier'];
-			    @unlink($fichier);
-			  }
-			  spip_query("DELETE FROM spip_documents WHERE id_document=$id_vignette");
-			  spip_query("DELETE FROM spip_documents_articles WHERE id_document=$id_vignette");
-			  spip_query("DELETE FROM spip_documents_rubriques WHERE id_document=$id_vignette");
-			  spip_query("DELETE FROM spip_documents_breves WHERE id_document=$id_vignette");
+			// sinon on demande une reponse
+			else {
+				$link = new Link('spip_image.php3');
+				$link->addVar('ajout_doc', 'oui');
+				$link->addVar('redirect', $redirect);
+				$link->addVar('id_article', $id_article);
+				$link->addVar('mode', $mode);
+				$link->addVar('type', $type);
+				$link->addVar('hash', $hash);
+				$link->addVar('hash_id_auteur', $hash_id_auteur);
+				$link->addVar('source_zip', $zip);
+				afficher_compactes($desc, $contenu, $link);
+				exit;
 			}
 		}
 	}
-}
+	// Fin du bloc ZIP
 
-function tourner_document($var_rot, $doc_rotate, $convert_command) {
-	global $hash_id_auteur, $hash;
-	// Securite
-	if (!verifier_action_auteur("rotate $doc_rotate", $hash, $hash_id_auteur)) {
-		return '';
-	}
-	
-	if (!$var_rot) $var_rot = 0;
 
-	$query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$doc_rotate";
-	$result = spip_query($query);
-	if ($row = spip_fetch_array($result)) {
-		$id_vignette = $row['id_vignette'];
-		$image = $row['fichier'];
+	//
+	// Traiter la liste des fichiers
+	//
+	$documents_actifs = array();
 
-		$process = lire_meta('image_process');
+	foreach ($_FILES as $file) {
 
-		 // imagick (php4-imagemagick)
-		 if ($process == 'imagick') {
-			$handle = imagick_readimage($image);
-			imagick_rotate($handle, $var_rot);
-			imagick_write($handle, $image);
-			if (!@file_exists($image)) return;	// echec imagick
-		}
-		else if ($process == "gd2") { // theoriquement compatible gd1, mais trop forte degradation d'image
-			if ($var_rot == 180) { // 180 = 90+90
-				gdRotate ($image, 90);
-				gdRotate ($image, 90);
-			} else {
-				gdRotate ($image, $var_rot);
-			}
-		}
-		else if ($process = "convert") {
-			$commande = "$convert_command -rotate $var_rot ./"
-				. escapeshellcmd($image).' ./'.escapeshellcmd($image);
-#			spip_log($commande);
-			exec($commande);
-		}
+		// afficher l'erreur 'fichier trop gros' ou autre
+		check_upload_error($file['error']);
 
-		$size_image = @getimagesize($image);
-		$largeur = $size_image[0];
-		$hauteur = $size_image[1];
+		spip_log ("ajout du document ".$file['name'].", $mode ($type $id_article)");
+		ajouter_un_document (
+			$file['tmp_name'],	# le fichier sur le serveur (/var/tmp/xyz34)
+			$file['name'],		# son nom chez le client (portequoi.pdf)
+			$type,				# lie a un article, une breve ou une rubrique ?
+			$id_article,		# identifiant de l'article (ou rubrique) lie
+			$mode,				# 'vignette' => vignette personnalisee
+			$id_document,		# pour une vignette, l'id_document de maman
+			$documents_actifs	# tableau des id_document "actifs" (par ref)
+		);
+	}	// foreach $_FILES
 
-		if ($id_vignette > 0) {
-			creer_fichier_vignette($image);
-/*			$query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$id_vignette";
-			$result = spip_query($query);
-			if ($row = spip_fetch_array($result)) {
-				$fichier = $row['fichier'];
-				@unlink($fichier);
-			}
-			spip_query("DELETE FROM spip_documents WHERE id_document=$id_vignette");
-			spip_query("DELETE FROM spip_documents_articles WHERE id_document=$id_vignette");
-			spip_query("DELETE FROM spip_documents_rubriques WHERE id_document=$id_vignette");
-			spip_query("DELETE FROM spip_documents_breves WHERE id_document=$id_vignette");
-*/		}
+	// Nettoyer le repertoire temporaire d'extraction des fichiers
+	if (defined('_tmp_dir'))
+		effacer_repertoire_temporaire(_tmp_dir);
+}
 
+// Ajout d'un logo
+else if ($ajout_logo == "oui" and $logo) {
+	if ($desc = array_pop($_FILES)
+	AND verifier_action_auteur("ajout_logo $logo",
+	$hash, $hash_id_auteur))
+		ajout_logo($desc, $logo);
+}
 
-		spip_query("UPDATE spip_documents SET largeur=$largeur, hauteur=$hauteur WHERE id_document=$doc_rotate");
+// Suppression d'un logo
+else if ($image_supp) {
+	if (verifier_action_auteur("supp_logo $image_supp",
+	$hash, $hash_id_auteur))
+		effacer_logo($image_supp);
+}
 
-	}
+// Suppression d'un document et de sa vignette
+else if ($doc_supp) {
+	if (verifier_action_auteur("supp_doc $doc_supp",
+	$hash, $hash_id_auteur))
+		supprime_document_et_vignette($doc_supp);
 }
 
-if ($test_vignette) // appel de config-fonction
-	$redirect = tester_vignette($test_vignette);
-elseif ($vignette) // appels de inc_logo
-	$redirect = creer_fichier_vignette($vignette);
-else {
-   $retour = $redirect;
-   $redirect = '';
-   if ($ajout_doc == 'oui') {
-	include_ecrire('inc_getdocument.php3');
-	if (!$image_name AND $image2) {
-		$image = _DIR_TRANSFERT . $image2;
-		$image_name = $image;
-	} 
-	if (!eregi("\.zip$",$image_name))
-	  ajout_doc_s($image, $image_name, $mode, $forcer_document, $id_document, $hash);
-	else {
-	  // bizarre: clean_link ne recupere pas les variables
-	  $link = new Link('spip_image.php3');
-	  $link->addVar("ajout_doc", "oui");
-	  $link->addVar("redirect", $retour);
-	  $link->addVar('id_document', $id_document);
-	  $link->addVar('id_article', $id_article);
-	  $link->addVar('mode', $mode);
-	  $link->addVar('type', $type);
-	  $link->addVar('hash', $hash);
-	  $link->addVar('hash_id_auteur', $hash_id_auteur);
-	  ajout_doc_zip($image, $image_name, $mode, $forcer_document, $action_zip, $id_document, $hash, $link);
-	}
-   }
-   elseif ($ajout_logo == "oui")
-	ajout_image($image, $logo);
-   elseif ($image_supp)
-	effacer_image($image_supp);
-   elseif ($doc_supp) // appels de inc_document
-	supprime_document_et_vignette($doc_supp);
-   elseif ($doc_rotate)
-	tourner_document($var_rot, $doc_rotate, $convert_command);
- }
+// Rotation d'une image
+else if ($doc_rotate) {
+	if (verifier_action_auteur("rotate $doc_rotate",
+	$hash, $hash_id_auteur))
+		tourner_document($var_rot, $doc_rotate, $convert_command);
+}
 
-if (!($redirect)) {
-	if ($HTTP_POST_VARS) $vars = $HTTP_POST_VARS;
-	else $vars = $HTTP_GET_VARS;
-	$redirect = $vars["redirect"];
+
+//
+// Retour a l'envoyeur
+//
+
+// si nous sommes diriges vers une vignette
+if ($retour_image) {
+	redirige_par_entete($retour_image);
+
+} else {
 	$link = new Link(_DIR_RESTREINT_ABS . $redirect);
-	reset($vars);
-	while (list ($key, $val) = each ($vars)) {
-	  if (!ereg("^(redirect|image.*|hash.*|ajout.*|doc.*|transformer.*|modifier_.*|ok|type|forcer_.*|var_rot|action_zip)$", $key)) {
-	    $link->addVar($key, $val);
-	  }
+	if ($documents_actifs) {
+		$show_docs = join('-',$documents_actifs);
+		$link->addVar('show_docs',$show_docs);
 	}
-	if ($id_document)
-	  $link->addVar('id_document',$id_document);
-	if ($type == 'rubrique')
-	  $link->delVar('id_article');
-	
-	$redirect = $link->getUrl();
- }
 
-
-redirige_par_entete($redirect);
+	redirige_par_entete($link->getUrl($ancre));
+}
 
 ?>

Index: spip_redirect.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/spip_redirect.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_redirect.php3	13 Jan 2005 15:57:38 -0000	1.1
+++ spip_redirect.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -38,7 +38,7 @@
 	$super='?';
 }
 if ($recalcul) $url .= $super."var_mode=recalcul";
-else if ($preview) $url .= $super."var_preview=oui";
+else if ($preview) $url .= $super."var_mode=preview";
 @header("Location: $url");
 
 ?>

Index: inc-compilo-api.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-compilo-api.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-compilo-api.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-compilo-api.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -43,6 +43,7 @@
 	var $limit;
 	var $group = '';
 	var $order = '';
+	var $default_order = '';
 	var $date = 'date' ;
 	var $hash = false ;
 	var $lien = false;
@@ -101,6 +102,12 @@
 		'syndication' => "id_syndic",
 		'syndic_articles' => "id_syndic_article",
 		'types_documents' => "id_type"
+		////////////////////////////
+		//MODIFICATION
+		///////////////////////////
+		,'carto_objets' => "id_carto_objet"
+		,'carto_cartes' => "id_carto_carte"
+		///////////////////////////
 	);
 	
 	# cf. fonction table_objet dans inc_version
@@ -118,6 +125,12 @@
 		'syndication' => 'syndic',
 		'syndic_articles' => 'syndic_articles',
 		'hierarchie' => 'rubriques'
+		////////////////////////////
+		//MODIFICATION
+		///////////////////////////
+		,'carto_objets' => "carto_objets"
+		,'carto_cartes' => "carto_cartes"
+		///////////////////////////
 	);
 	
 	$exceptions_des_tables = array(
@@ -190,6 +203,11 @@
 		'id_article' => 'documents_articles',
 		'id_rubrique' => 'documents_rubriques',
 		'id_breve' => 'documents_breves'
+		////////////////////////////
+		//MODIFICATION
+		///////////////////////////
+		,'id_carto_carte' => 'documents_carto_cartes'
+		///////////////////////////
 		),
 
 	'forums' => array (
@@ -202,6 +220,17 @@
 		'id_forum' => 'mots_forum',
 		'id_rubrique' => 'mots_rubriques',
 		'id_syndic' => 'mots_syndic'
+		////////////////////////////
+		//MODIFICATION
+		///////////////////////////
+		,'id_carto_objet' => 'mots_carto_objets'
+		),
+	'carto_objets' => array (
+		'id_mot' => 'mots_carto_objets',
+		),
+	'carto_cartes' => array (
+		'id_document' => 'mots_carto_cartes',
+		///////////////////////////
 		),
 
 	'groupes_mots' => array (

Index: inc-compilo-index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-compilo-index.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-compilo-index.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-compilo-index.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -41,12 +41,15 @@
     // indirection (pour les rares cas ou le nom de la table!=type)
 		    $t = $table_des_tables[$r];
 		  }
-		if (!$t) $t = $r; // pour les tables non Spip
-		// $t est le nom PHP de cette table 
-#		spip_log("Go: idb='$idb' r='$r' c='$c' nom='$nom_champ' s=$s");
-		$desc = $tables_des_serveurs_sql[$s][$t];
+		// pour les tables non Spip
+		if (!$t) {$nom_table = $t = $r; }
+		else $nom_table = 'spip_' . $t;
+
+		#spip_log("Go: idb='$idb' r='$r' c='$c' nom='$nom_champ' s=$s t=$t");
+		$desc = $tables_des_serveurs_sql[$s][$nom_table];
 		if (!$desc) {
-			erreur_squelette(_L("Table SQL \"$r\" inconnue"), "'$idb'");
+			erreur_squelette(_T('zbug_table_inconnue', array('table' => $r)),
+				"'$idb'");
 			# continuer pour chercher l'erreur suivante
 			return  "'#" . $r . ':' . $nom_champ . "'";
 		}
@@ -135,7 +138,7 @@
 	// regarder s'il existe un fichier d'inclusion au nom de la balise
 	// et contenant un tableau balise_NOM_collecte
 	$file = 'inc-' . strtolower($nom) . _EXTENSION_PHP;
-	if (@file_exists($file)) {
+	if ($file = find_in_path($file)) {
 		include_local($file);
 		$f = $GLOBALS['balise_' . $nom . '_collecte'];
 		if (is_array($f))
@@ -171,7 +174,7 @@
 // Ca donne les arguments a chercher dans la pile,on compile leur localisation
 // Ensuite on delegue a une fonction generale definie dans inc-calcul-outils
 // qui recevra a l'execution la valeurs des arguments, 
-// ainsi que les filtres (qui ne sont donc pas traites ? la compil)
+// ainsi que les filtres (qui ne sont donc pas traites a la compil)
 
 function calculer_balise_dynamique($p, $nom, $l) {
 	balise_distante_interdite($p);
@@ -181,14 +184,18 @@
 	  . filtres_arglist($param, $p, ',')
 	  . "),\n\tarray("
 	  . (!$p->fonctions ? '' : ("'" . join("','", $p->fonctions) . "'"))
-	  . "))";
+	  . "), \$GLOBALS['spip_lang'])";
 	$p->statut = 'php';
 	$p->fonctions = '';
+
+	// Cas particulier de #FORMULAIRE_FORUM : inserer l'invalideur
+	if ($nom == 'FORMULAIRE_FORUM')
+		$p->code = code_invalideur_forums($p, $p->code);
+
 	return $p;
 }
 
-function param_balise(&$p) 
-{
+function param_balise(&$p) {
 	$a = $p->fonctions;
 	if ($a) list(,$nom) = each($a) ; else $nom = '';
 	if (!ereg(' *\{ *([^}]+) *\} *',$nom, $m))
@@ -211,6 +218,7 @@
 
 // Genere l'application d'une liste de filtres
 function applique_filtres($p) {
+
 	$statut = $p->statut;
 	$fonctions = $p->fonctions;
 	$p->fonctions = ''; # pour r?utiliser la structure si r?cursion
@@ -234,9 +242,11 @@
 	if ($fonctions) {
 		foreach($fonctions as $fonc) {
 			if ($fonc) {
+
 				$arglist = '';
-				if (ereg('([^\{\}]*)\{(.+)\}$', $fonc, $regs)) {
+				if (ereg('([^\{\}]+)\{(.+)\}$', $fonc, $regs)) {
 					$fonc = $regs[1];
+
 				        $arglist = filtres_arglist($regs[2],$p, ($fonc == '?' ? ':' : ','));
 				}
 				if (function_exists($fonc))
@@ -248,7 +258,7 @@
 				else 
 				  $code = "erreur_squelette('".
 					  texte_script(
-						_T('erreur_filtre', array('filtre' => $fonc))
+						_T('zbug_erreur_filtre', array('filtre' => $fonc))
 					)."','" . $p->id_boucle . "')";
 			}
 		}
@@ -269,14 +279,17 @@
 	while (ereg('([^,]+),?(.*)$', $args, $regs)) {
 		$arg = trim($regs[1]);
 		if ($arg) {
-			if (ereg("^" . NOM_DE_CHAMP ."(.*)$", $arg, $regs2)) {
-				$p->nom_boucle = $regs2[2];
-				$p->nom_champ = $regs2[3];
-				# faudrait verifier !trim(regs2[5])
-				$arg = calculer_champ($p);
-				
-			} else if ($arg[0] =='$')
+			if ($arg[0] =='$')
 				$arg = '$Pile[0][\'' . substr($arg,1) . "']";
+			elseif ($arg[0] =='<')
+			  $arg = calculer_texte($arg, $p->id_boucle, $p->boucles, $p->id_mere);
+			elseif (ereg("^" . NOM_DE_CHAMP ."(.*)$", $arg, $r2)) {
+				$p->nom_boucle = $r2[2];
+				$p->nom_champ = $r2[3];
+				# faudrait verifier !trim(r2[5])
+				$arg = calculer_champ($p);
+			} 
+
 			$arglist .= $sep . $arg;
 		}
 		$args=$regs[2];
@@ -319,7 +332,10 @@
 	$b = $p->boucles[$b]->id_parent;
 	}
 	if (!$p->code) {
-	  erreur_squelette(_L("Champ #" . strtoupper($champ) . " hors d'une boucle de motif $motif"), $p->id_boucle);
+		erreur_squelette(_T('zbug_champ_hors_motif',
+			array('champ' => '#' . strtoupper($champ),
+				'motif' => $motif)
+		), $p->id_boucle);
 	}
 	$p->statut = 'php';
 	return $p;

Index: htaccess-html.txt
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/htaccess-html.txt,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- htaccess-html.txt	20 Jan 2005 10:25:17 -0000	1.1
+++ htaccess-html.txt	6 Feb 2005 13:59:32 -0000	1.2
@@ -1,7 +1,7 @@
 ###########################################################
 # Fichier .htaccess pour les URLs 'html' ; a installer    #
 # si vous reglez $type_urls='html'                        #
-# dans ecrire/mes_options.php3 ou dans mes_fonctions.php3 #
+# dans ecrire/mes_options.php3                            #
 # (fichier associe : inc-urls-html.php3)                  #
 ###########################################################
 

Index: spip_acces_doc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/spip_acces_doc.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_acces_doc.php3	13 Jan 2005 15:57:38 -0000	1.1
+++ spip_acces_doc.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -19,7 +19,7 @@
     include_ecrire("inc_session.php3");
 
     global $auteur_session;
-    if ($cookie_session = $HTTP_COOKIE_VARS['spip_session']) 
+    if ($cookie_session = $_COOKIE['spip_session']) 
       {
 	if (verifier_session($cookie_session)) 
 	  {

Index: inc-calcul-outils.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-calcul-outils.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-calcul-outils.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-calcul-outils.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -125,31 +125,15 @@
 	}
 }
 
-function executer_balise_dynamique($nom, $args, $filtres) {
-	$file = 'inc-' . strtolower($nom) . _EXTENSION_PHP;
-	include_local($file);
+function executer_balise_dynamique($nom, $args, $filtres, $lang) {
+	if ($file = find_in_path('inc-' . strtolower($nom) . _EXTENSION_PHP))
+		include_local($file);
+	else
+		die ("pas de balise dynamique pour #". strtolower($nom)." !");
 
 	$f = 'balise_' . $nom . '_stat';
 	$r = $f($args, $filtres);
-	if (!is_array($r))
-		return $r;
-	else { 
-		return
-		('<'.'?php 
-include_ecrire(\'inc_lang.php3\');
-lang_select($GLOBALS["spip_lang"]);
-include_local("'
-		. $file
-		. '");
-inclure_balise_dynamique(balise_'
-		. $nom
-		. '_dyn(\''
-		. join("', '", array_map("addslashes", $r))
-		. '\'));
-	lang_dselect();
-?'
-		.">");
-	}
+	return (!is_array($r)) ? $r : synthetiser_balise_dynamique($nom, $r, $file, $lang);
 }
 
 //
@@ -205,7 +189,7 @@
 function calcul_generation ($generation) {
 	$lesfils = array();
 	$result = spip_abstract_select(array('id_rubrique'),
-				array('rubriques AS rubriques'),
+				array('spip_rubriques AS rubriques'),
 				array(calcul_mysql_in('id_parent', 
 					$generation,
 					'')),
@@ -231,13 +215,13 @@
 	if (!$id_document) return '';
 	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
 
-	if (!($row = spip_abstract_select(array('id_type', 'id_vignette', 'fichier', 'mode'), array('documents AS documents'), array("id_document = $id_document"))))
+	if (!($row = spip_abstract_select(array('id_type', 'id_vignette', 'fichier', 'mode'), array('spip_documents AS documents'), array("id_document = $id_document"))))
 // pas de document. Ne devrait pas arriver
 		return ''; 
 
 	list($id_type, $id_vignette, $fichier, $mode) = spip_abstract_fetch($row);
 	if ($id_vignette) {
-		if ($res = spip_abstract_select(array('fichier'), array('documents AS documents'), array("id_document = $id_vignette"))) {
+		if ($res = spip_abstract_select(array('fichier'), array('spip_documents AS documents'), array("id_document = $id_vignette"))) {
 			list($vignette) = spip_abstract_fetch($res);
 			if (@file_exists($vignette))
 				return generer_url_document($id_vignette);
@@ -247,26 +231,17 @@
 		return generer_url_document($id_document);
 		# return $fichier; # en std g_u_d fait ca
 
-// calcul de l'extension par tous les moyens
+	// calcul de l'extension par tous les moyens
 	if ($id_type) {
-		list($ext) = spip_abstract_fetch(spip_abstract_select(array('extension'), array('types_documents AS documents'), array("id_type = " . intval($id_type))));
+		list($ext) = spip_abstract_fetch(spip_abstract_select(array('extension'), array('spip_types_documents AS documents'), array("id_type = " . intval($id_type))));
 	} else {
 		eregi('\.([a-z0-9]+)$', $fichier, $regs);
 		$ext = $regs[1];
 	}
-// Pas de vignette mais une extension:
-// prendre la vignette de celle-ci dans IMG/icones sauf si on peut faire mieux
-	$formats = ','.lire_meta('formats_graphiques').',';
-	if ((strpos($formats, ",$ext,") === false) OR
-	!$fichier OR (lire_meta("creer_preview") != 'oui')) {
-		return vignette_par_defaut($ext ? $ext : 'txt', false);
-	}
-// on peut faire mieux dans le cas des images: une previsualisation
-// on devrait verifier que le fichier existe dans IMG/vignette
-// et sinon lancer creer_vignette (qui fera un UPDATE sur spip_documents)
-// mais on risque de d?passer le temps alloue au processus
-	return 'spip_image.php3?vignette='.rawurlencode(
-		str_replace('../', '', $fichier));
+
+	// Pas de vignette mais une extension :
+	// envoyer une vignette par defaut
+	return vignette_par_defaut($ext ? $ext : 'txt', false);
 }
 
 
@@ -299,14 +274,14 @@
 
 function sql_parent($id_rubrique) {
 	$row = spip_abstract_fetsel(array(id_parent), 
-			array('rubriques'), 
+			array('spip_rubriques'), 
 			array("id_rubrique=" . intval($id_rubrique)));
 	return $row['id_parent'];
 }
 
 function sql_rubrique($id_article) {
 	$row = spip_abstract_fetsel(array('id_rubrique'),
-			array('articles'),
+			array('spip_articles'),
 			array("id_article=" . intval($id_article)));
 	return $row['id_rubrique'];
 }
@@ -315,8 +290,8 @@
 	$auteurs = "";
 	if ($id_article) {
 		$result_auteurs = spip_abstract_select(array('auteurs.nom', 'auteurs.email'),
-			array('auteurs AS auteurs',
-				'auteurs_articles AS lien'), 
+			array('spip_auteurs AS auteurs',
+				'spip_auteurs_articles AS lien'), 
 			array("lien.id_article=$id_article",
 				"auteurs.id_auteur=lien.id_auteur"),
 			'','','','',1, 
@@ -338,7 +313,7 @@
 function sql_petitions($id_article, $table, $id_boucle, $serveur, &$Cache) {
 	$retour = spip_abstract_fetsel(
 			array('texte'),
-			array('petitions'),
+			array('spip_petitions'),
 			array("id_article=".intval($id_article)),
 			'','','','',1, 
 			$table, $id_boucle, $serveur);
@@ -353,20 +328,38 @@
 # retourne le chapeau d'un article, et seulement s'il est publie
 
 function sql_chapo($id_article) {
+	if ($id_article)
 	return spip_abstract_fetsel(array('chapo'),
-		array('articles'),
+		array('spip_articles'),
 		array("id_article=".intval($id_article),
 		"statut='publie'"));
 }
 
+# retourne le champ 'accepter_forum' d'un article
+function sql_accepter_forum($id_article) {
+	static $cache = array();
+
+	if (!$id_article) return;
+
+	if (!isset($cache[$id_article])) {
+		$row = spip_abstract_fetsel(array('accepter_forum'),
+			array('spip_articles'),
+			array("id_article=".intval($id_article)));
+		$cache[$id_article] = $row['accepter_forum'];
+	}
+
+	return $cache[$id_article];
+}
+
+
 // Calcul de la rubrique associee a la requete
 // (selection de squelette specifique par id_rubrique & lang)
 
-function sql_rubrique_fond($contexte, $lang) {
+function sql_rubrique_fond($contexte) {
 
 	if ($id = intval($contexte['id_rubrique'])) {
 		$row = spip_abstract_fetsel(array('lang'),
-					    array('rubriques'),
+					    array('spip_rubriques'),
 					    array("id_rubrique=$id"));
 		if ($row['lang'])
 			$lang = $row['lang'];
@@ -375,7 +368,7 @@
 
 	if ($id  = intval($contexte['id_breve'])) {
 		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
-			array('breves'), 
+			array('spip_breves'), 
 			array("id_breve=$id"));
 		$id_rubrique_fond = $row['id_rubrique'];
 		if ($row['lang'])
@@ -385,11 +378,11 @@
 
 	if ($id = intval($contexte['id_syndic'])) {
 		$row = spip_abstract_fetsel(array('id_rubrique'),
-			array('syndic'),
+			array('spip_syndic'),
 			array("id_syndic=$id"));
 		$id_rubrique_fond = $row['id_rubrique'];
 		$row = spip_abstract_fetsel(array('lang'),
-			array('rubriques'),
+			array('spip_rubriques'),
 			array("id_rubrique='$id_rubrique_fond'"));
 		if ($row['lang'])
 			$lang = $row['lang'];
@@ -398,7 +391,7 @@
 
 	if ($id = intval($contexte['id_article'])) {
 		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
-			array('articles'),
+			array('spip_articles'),
 			array("id_article=$id"));
 		$id_rubrique_fond = $row['id_rubrique'];
 		if ($row['lang'])

Index: spip_inscription.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/spip_inscription.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_inscription.php3	20 Jan 2005 10:25:49 -0000	1.2
+++ spip_inscription.php3	6 Feb 2005 13:59:32 -0000	1.3
@@ -1,7 +1,7 @@
 <?php
 include ("ecrire/inc_version.php3");
 include_ecrire("inc_presentation.php3");
-include_local("inc-formulaire_inscription.php3");
+include_local(find_in_path("inc-formulaire_inscription.php3"));
 include_local("inc-public-global.php3"); 
 include_local ("inc-cache.php3");
 

Index: inc-messforum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-messforum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-messforum.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-messforum.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -2,12 +2,13 @@
 
 include_ecrire('inc_meta.php3');
 include_ecrire('inc_forum.php3');
+include_ecrire("inc_abstract_sql.php3");
+include_local(_FILE_CONNECT);
 
 // Ce fichier inclus par inc-public a un comportement special
 // Voir commentaires dans celui-ci et dans inc-formulaire_forum
 
-function prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre)
-{
+function prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre) {
 	include_ecrire('inc_texte.php3');
 	include_ecrire('inc_filtres.php3');
 	include_ecrire('inc_mail.php3');
@@ -43,139 +44,158 @@
 		if (strlen($email) < 3) continue;
 		envoyer_mail($email, $sujet, $courr);
 	}
-}	
+}
 
-$retour_forum = rawurldecode($retour);
-$forum_id_article = intval($id_article);
-$forum_id_rubrique = intval($id_rubrique);
-$forum_id_forum = intval($id_forum);
-$forum_id_breve = intval($id_breve);
-$forum_id_syndic = intval($id_syndic);
-$slash_texte = addslashes($texte);
-$slash_titre = addslashes($titre);
-$slash_nom_site_forum = addslashes($nom_site_forum);
-$slash_url_site = addslashes($url_site);
-$id_message = intval($id_message);
 
-if (!$id_auteur)
-	$id_auteur = intval($auteur_session['id_auteur']);
+function controler_forum($id_article, $retour) {
+	global $auteur_session;
 
-if ($forum_id_article) {
-	$r = spip_query("SELECT accepter_forum FROM spip_articles WHERE id_article=$forum_id_article");
-	$r = spip_fetch_array($r);
-	if ($r)
-		$forums_publics = $r['accepter_forum'];
-	else
-		$forums_publics = lire_meta("forums_publics");
-} else {
-	$forums_publics = substr(lire_meta("forums_publics"),0,3);
-}
+	// Reglage forums d'article
+	if ($id_article) {
+		$q = spip_query("SELECT accepter_forum FROM spip_articles
+			WHERE id_article=$id_article");
+		if ($r = spip_fetch_array($q))
+			$forums_publics = $r['accepter_forum'];
+	}
 
-if ($forums_publics == "abo") {
-	if ($auteur_session) {
-		$statut = $auteur_session['statut'];
-		if (!$statut OR $statut == '5poubelle') {
-			ask_php_auth(_T('forum_acces_refuse'),
+	// Valeur par defaut
+	if (!$forums_publics)
+		$forums_publics = substr(lire_meta("forums_publics"),0,3);
+
+	if ($forums_publics == "abo") {
+		if ($auteur_session) {
+			$statut = $auteur_session['statut'];
+			if (!$statut OR $statut == '5poubelle') {
+				ask_php_auth(_T('forum_acces_refuse'),
+					     _T('forum_cliquer_retour',
+						array('retour_forum' => $retour)));
+				exit;
+			}
+		} else {
+			ask_php_auth(_T('forum_non_inscrit'),
 				     _T('forum_cliquer_retour',
-					array('retour_forum' => $retour_forum)));
-			exit;		  
+					array('retour_forum' => $retour)));
+			exit;
 		}
 	}
-	else {
-		ask_php_auth(_T('forum_non_inscrit'),
+
+	return $forums_publics;
+}
+
+function mots_du_forum($ajouter_mot, $id_message)
+{
+	foreach ($ajouter_mot as $id_mot)
+		if ($id_mot = intval($id_mot))
+			spip_query("INSERT INTO spip_mots_forum (id_mot, id_forum)
+				VALUES ($id_mot, $id_message)");
+}
+
+function enregistre_forum() {
+	global $REMOTE_ADDR, $auteur_session,
+	  $afficher_texte, $ajouter_mot, $alea, $hash,
+	  $auteur, $confirmer_forum, $email_auteur,
+	  $id_article, $id_auteur, $id_breve, $id_forum, $id_rubrique, $id_syndic,
+	  $nom_site_forum, $retour_forum, $texte, $titre, $url_site;
+
+	$retour_forum = rawurldecode($retour_forum);
+	$id_article = intval($id_article);
+	$id_rubrique = intval($id_rubrique);
+	$id_forum = intval($id_forum);
+	$id_breve = intval($id_breve);
+	$id_syndic = intval($id_syndic);
+
+// initialisation de l'eventuel visiteur connecte
+	if (!$id_auteur)
+	$id_auteur = intval($auteur_session['id_auteur']);
+
+	$statut = controler_forum($id_article, $retour_forum);
+
+// Ne pas autoriser de changement de nom si forum sur abonnement
+
+	if ($statut == 'abo') {
+		$auteur = $auteur_session['nom'];
+		$email_auteur = $auteur_session['email'];
+	}
+
+// trop court ?
+	if ((strlen($texte) + strlen($titre) + strlen($nom_site_forum) + strlen($url_site) + strlen($auteur) + strlen($email_auteur)) > 20 * 1024) {
+		ask_php_auth(_T('forum_message_trop_long'),
 			     _T('forum_cliquer_retour',
 				array('retour_forum' => $retour_forum)));
-		exit;		  
+		exit;
 	}
 
-	// Ne pas autoriser de changement de nom si forum sur abonnement
-	$auteur = $auteur_session['nom'];
-	$email_auteur = $auteur_session['email'];
- } 
-
-$slash_auteur = addslashes($auteur);
-$slash_email_auteur = addslashes($email_auteur);
+	// Verifier hash securite
+	include_ecrire("inc_admin.php3");
+	if (!verifier_action_auteur("ajout_forum $id_rubrique".
+	" $id_forum $id_article $id_breve".
+	" $id_syndic $alea", $hash))
+		exit; 	# echec silencieux du POST
 
-if ((strlen($slash_texte) + strlen($slash_titre) + strlen($slash_nom_site_forum) + strlen($slash_url_site) + strlen($slash_auteur) + strlen($slash_email_auteur)) > 20 * 1024) {
-	ask_php_auth(_T('forum_message_trop_long'),
-		     _T('forum_cliquer_retour',
-			array('retour_forum' => $retour_forum)));
-			exit;		  
-}
+	// verifier fichier lock
+	$alea = preg_replace('/[^0-9]/', '', $alea);
+	if (!file_exists($hash = _DIR_SESSIONS."forum_$alea.lck"))
+		exit; # echec silencieux du POST
+	unlink($hash);
 
-spip_query("DELETE FROM spip_mots_forum WHERE id_forum='$id_message'");
-if ($ajouter_mot) {
-	for (reset($ajouter_mot);$key=key($ajouter_mot);next($ajouter_mot))
-		$les_mots .= ",".join($ajouter_mot[$key],",");
-	$les_mots = explode(",", $les_mots);
-	for ($index = 0; $index < count($les_mots); $index++){
-		$le_mot = $les_mots[$index];
-		if ($le_mot > 0)
-		spip_query("INSERT INTO spip_mots_forum (id_mot, id_forum)
-		VALUES ('$le_mot', '$id_message')");
-	}
-}
+	// Entrer le message dans la base
+	$id_message = spip_abstract_insert('spip_forum', '(date_heure)', '(NOW())');
 
-$validation_finale = (strlen($confirmer) > 0 OR
-	($afficher_texte=='non' AND $ajouter_mot));
-$statut = ((!$validation_finale) ? 'redac' : 
-	(($forums_publics == 'non') ? 'off' :
-	(($forums_publics == 'pri') ? 'prop' : 'publie')));
+	if ($id_forum)
+		list($id_thread) = spip_fetch_array(spip_query(
+		"SELECT id_thread FROM spip_forum WHERE id_forum = $id_forum"));
+	else
+		$id_thread = $id_message; # id_thread oblige INSERT puis UPDATE.
 
-if ($forum_id_forum > 0) $id_thread = $forum_id_forum;
-else $id_thread = $id_message;
+	$statut = ($statut == 'non') ? 'off' : (($statut == 'pri') ? 'prop' :
+						'publie');
 
-spip_query("UPDATE spip_forum SET id_parent = $forum_id_forum,
-	id_rubrique =$forum_id_rubrique,
-	id_article = $forum_id_article,
-	id_breve = $forum_id_breve,
-	id_syndic = $forum_id_syndic,
+	spip_query("UPDATE spip_forum SET id_parent = $id_forum,
+	id_rubrique = $id_rubrique,
+	id_article = $id_article,
+	id_breve = $id_breve,
+	id_syndic = $id_syndic,
 	id_auteur = $id_auteur,
 	id_thread = $id_thread,
 	date_heure = NOW(),
-	titre = \"$slash_titre\",
-	texte = \"$slash_texte\",
-	nom_site = \"$slash_nom_site_forum\",
-	url_site = \"$slash_url_site\",
-	auteur = \"$slash_auteur\",
-	email_auteur = \"$slash_email_auteur\",
-	ip = \"$REMOTE_ADDR\",
-	statut = \"$statut\"
-	WHERE id_forum = '$id_message'
-");
+	titre = '".addslashes($titre)."',
+	texte = '".addslashes($texte)."',
+	nom_site = '".addslashes($nom_site_forum)."',
+	url_site = '".addslashes($url_site)."',
+	auteur = '".addslashes($auteur)."',
+	email_auteur = '".addslashes($email_auteur)."',
+	ip = '$REMOTE_ADDR',
+	statut = '$statut'
+	WHERE id_forum = $id_message
+	");
 
-//calculer_threads();
+	// calculer_threads();
 
-if ($validation_finale) {
-	include_ecrire("inc_admin.php3");
-	if (!(verifier_action_auteur("ajout_forum $forum_id_rubrique".
-	" $forum_id_forum $forum_id_article $forum_id_breve".
-	" $forum_id_syndic $alea", $hash))) {
-		header("Status: 404");
-		exit;
-	} else {
-	  if (lire_meta("prevenir_auteurs") == "oui" AND ($afficher_texte != "non") AND ($id_article = $forum_id_article)) {
-			prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre);
+	// Entrer les mots-cles associes
+	if (is_array($ajouter_mot)) mots_du_forum($ajouter_mot, $id_message);
 
-		}
-		// Poser un cookie pour ne pas retaper le nom / email
-		$cookie_user = array('nom' => $auteur, 'email' => $email_auteur);
-		spip_setcookie('spip_forum_user', serialize($cookie_user));
+	// Prevenir les auteurs de l'article
+	if (lire_meta("prevenir_auteurs") == "oui" AND ($afficher_texte != "non"))
+		prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre);
 
-		//
-		// INVALIDATION DES CACHES LIES AUX FORUMS
-		//
-		include_ecrire('inc_invalideur.php3');
-		if ($statut == 'publie') {
-			suivre_invalideur ("id='id_forum/" .
-				calcul_index_forum($forum_id_article,
-					$forum_id_breve,
-					$forum_id_rubrique,
-					$forum_id_syndic) . "'");
-		}
+	// Poser un cookie pour ne pas retaper le nom / email
 
-		$redirect = $retour_forum;
+	spip_setcookie('spip_forum_user',
+		       serialize(array('nom' => $auteur, 'email' => $email_auteur)));
+
+	if ($statut == 'publie') {
+	//
+	// INVALIDATION DES CACHES LIES AUX FORUMS
+	//
+		include_ecrire('inc_invalideur.php3');
+		suivre_invalideur ("id='id_forum/" .
+			calcul_index_forum($id_article,
+				$id_breve,
+				$id_rubrique,
+				$id_syndic) . "'");
 	}
+
+	return $retour_forum;
 }
 
 ?>

Index: inc-cache.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-cache.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-cache.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-cache.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -75,7 +75,7 @@
 
 // Securite : est sur que c'est un cache
 function retire_cache($cache) {
-	if ($GLOBALS['flag_ecrire']) return;
+	if (!_DIR_RESTREINT) return;
 	if (preg_match('|^' . _DIR_CACHE .
 		"([0-9a-f]/)?([0-9]+/)?[^.][\-_\%0-9a-z]+\.[0-9a-f]+(\.gz)?$|i",
 		       $cache)) {
@@ -87,7 +87,7 @@
 
 // Supprimer les caches marques "x"
 function retire_caches() {
-	if ($GLOBALS['flag_ecrire']) return;
+	if (!_DIR_RESTREINT) return;
 
 	// signaler
 	effacer_meta('invalider');
@@ -104,7 +104,7 @@
 		foreach ($suppr as $cache => $ignore)
 			retire_cache($cache);
 		spip_query("DELETE FROM spip_caches WHERE "
-		.calcul_mysql_in('fichier', "'".join("','",$suppr)."'") );
+		.calcul_mysql_in('fichier', "'".join("','",array_keys($suppr))."'") );
 	}
 }
 
@@ -112,16 +112,16 @@
 // Retourne 0 s'il faut calculer le cache, 1 si on peut l'utiliser
 //
 function utiliser_cache($chemin_cache, $delais) {
-	global $HTTP_SERVER_VARS;
+	global $_SERVER;
 
 	// ne jamais calculer pour les moteurs de recherche, proxies...
-	if ($HTTP_SERVER_VARS['REQUEST_METHOD'] == 'HEAD')
+	if ($_SERVER['REQUEST_METHOD'] == 'HEAD')
 		return 1;
 
 	//  calcul par forcage
 	if ($GLOBALS['var_mode'] &&
-		($GLOBALS['HTTP_COOKIE_VARS']['spip_session']
-		|| $GLOBALS['HTTP_COOKIE_VARS']['spip_admin']
+		($GLOBALS['_COOKIE']['spip_session']
+		|| $GLOBALS['_COOKIE']['spip_admin']
 		|| @file_exists(_ACCESS_FILE_NAME))) # insuffisant...
 		return 0;
 
@@ -170,7 +170,7 @@
 function determiner_cache($delais, &$use_cache, &$chemin_cache) {
 
 	// Le fichier cache est-il valide ?
-	if ($delais == 0 OR !empty($GLOBALS['HTTP_POST_VARS'])) {
+	if ($delais == 0 OR !empty($GLOBALS['_POST'])) {
 		$use_cache = 0;
 		$chemin_cache = '';
 	} else {

Index: inc-criteres.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-criteres.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-criteres.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-criteres.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -15,7 +15,7 @@
 	$boucle = &$boucles[$idb];
 
 	if ($param != 'racine' OR $not)
-		erreur_squelette(_T('info_erreur_squelette'), $param);
+		erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 
 	$boucle->where[] = $boucle->id_table.".id_parent='0'";
 
@@ -28,7 +28,7 @@
 	$id = $boucle->primary;
 
 	if ($param != 'exclus' OR $not OR !$id)
-		erreur_squelette(_T('info_erreur_squelette'), $param);
+		erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 
 	$arg = calculer_argument_precedent($idb,$id, $boucles);
 	$boucle->where[] = $boucle->id_table . '.' . $id."!='\"." . $arg . ".\"'";
@@ -42,7 +42,7 @@
 
 	if (!preg_match("/(doublons|unique)[[:space:]]*([a-z_0-9]*)/i",
 	$param, $match))
-		erreur_squelette(_T('info_erreur_squelette'), $param);
+		erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 
 	$boucle->doublons = $boucle->type_requete . $match[2];
 	$boucle->where[] = '" .' .
@@ -61,7 +61,7 @@
 			$lang_select = ($lang_select=='oui')?'non':'oui';
 		$boucle->lang_select = $lang_select;
 	}
-	else erreur_squelette(_T('info_erreur_squelette'), $param);
+	else erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 }
 
 // {debut_xxx}
@@ -73,7 +73,7 @@
 		$boucle->limit =
 			'intval($GLOBALS["'.$debut_lim.'"]).",'.$match[2] .'"' ;
 	}
-	else erreur_squelette(_T('info_erreur_squelette'), $param);
+	else erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 }
 
 // {recherche}
@@ -104,10 +104,10 @@
 		if ($boucle->order)
 			$boucle->order .= ".' DESC'";
 		else 
-			erreur_squelette(_L("inversion d'un ordre inexistant"), 
+			erreur_squelette(_T('zbug_inversion_ordre_inexistant'), 
 			"BOUCLE" . $idb);
 	} else
-		erreur_squelette(_T('info_erreur_squelette'), "{$param} BOUCLE$idb");
+		erreur_squelette(_T('zbug_info_erreur_squelette'), "{$param} BOUCLE$idb");
 }
 
 // {traduction}
@@ -128,7 +128,7 @@
 				$boucles)
 			. ".\"'))";
 	} else
-		erreur_squelette(_T('info_erreur_squelette'), $param);
+		erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 }
 
 // {origine_traduction}
@@ -139,7 +139,7 @@
 		$boucle->where[] = $boucle->id_table.".id_trad = "
 		. $boucle->id_table . '.' . $boucle->primary;
 	else
-		erreur_squelette(_T('info_erreur_squelette'), $param);
+		erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 }
 
 
@@ -148,7 +148,7 @@
 function critere_meme_parent_dist($idb, &$boucles, $param, $not) {
 	$boucle = &$boucles[$idb];
 	if ($param != 'meme_parent')
-		erreur_squelette(_T('info_erreur_squelette'), $param);
+		erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 	else {
 		if ($boucle->type_requete == 'rubriques') {
 			$boucle->where[] = $boucle->id_table.".id_parent='\"."
@@ -163,7 +163,7 @@
 			$boucle->where[] = $boucle->id_table.".id_parent > 0";
 			$boucle->plat = true;
 		} else
-			erreur_squelette(_L("{meme_parent} ne s'applique qu'aux boucles (FORUMS) ou (RUBRIQUES)"), "BOUCLE" . $idb);
+			erreur_squelette(_T('zbug_erreur_meme_parent'), "BOUCLE" . $idb);
 	}
 }
 
@@ -187,7 +187,7 @@
 		else
 			$boucle->where[] = $where;
 	} else
-		erreur_squelette(_T('info_erreur_squelette'), $param);
+		erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 }
 
 // Tri : {par xxxx}
@@ -195,12 +195,12 @@
 function critere_par_dist($idb, &$boucles, $param, $not) {
 	$boucle = &$boucles[$idb];
 	if ($not)
-		erreur_squelette(_T('info_erreur_squelette'), $param);
+		erreur_squelette(_T('zbug_info_erreur_squelette'), $param);
 
 	$param = substr($param,3);
 
 	while ($param) {
-	  spip_log($param);
+
 		preg_match('/[[:space:]]*([^,]*)[[:space:]]*,?(.*)/ims',
 			   $param, $regs);
 		$param = $regs[2];
@@ -245,7 +245,8 @@
 			$s = $boucles[$idb]->sql_serveur;
 			if (!$s) $s = 'localhost';
 			$t = $table_des_tables[$r];
-			if (!$t) $t = $r; // pour les tables non Spip
+			// pour les tables non Spip
+			if (!$t) $t = $r; else $t = "spip_$t";
 			$desc = $tables_des_serveurs_sql[$s][$t];
 			if ($desc['field'][$tri])
 				$order = "'".$boucle->id_table.".".$tri."'";
@@ -264,7 +265,6 @@
 		if ($order) {
 		  if ($boucle->order) $boucle->order .= '.",".';
 		  $boucle->order .= $order;
-
 		}
 	}
 }
@@ -272,7 +272,8 @@
 
 
 function calculer_critere_parties($idb, &$boucles, $param, $not, $match) {
-  global $tables_relations, $table_des_tables, $table_date, $tables_des_serveurs_sql;
+  global $tables_relations, $table_date, $tables_des_serveurs_sql;
+
 	$boucle = &$boucles[$idb];
 	list(,$a1,$op,$a2) = $match;
 	list($a11,$a12) = calculer_critere_parties_aux($idb, $boucles, $a1);
@@ -331,7 +332,7 @@
 # Criteres numeriques et de comparaison
 
 function calculer_critere_DEFAUT($idb, &$boucles, $param, $not) {
-	global $table_des_tables, $table_date, $tables_des_serveurs_sql;
+	global $table_date, $tables_des_serveurs_sql;
 
 	$boucle = &$boucles[$idb];
 	$type = $boucle->type_requete;
@@ -345,6 +346,7 @@
 		// Restriction de valeurs (implicite ou explicite)
 	else if (eregi('^([a-z_]+\(?[a-z_]*\)?) *(\??)((!?)(<=?|>=?|==?|IN) *"?([^<>=!"]*))?"?$', $param, $match)) {
 	  		$op = $match[5] ? $match[5] : '=';
+
 			// Variable comparee
 			$col = $match[1];
 			// fonction SQL
@@ -404,8 +406,8 @@
 					$col_lien = "syndic";
 				else
 					$col_lien = $type;
-				$boucle->from[] = "mots_$col_lien AS lien_mot";
-				$boucle->from[] = 'mots AS mots';
+				$boucle->from[] = "spip_mots_$col_lien AS lien_mot";
+				$boucle->from[] = 'spip_mots AS mots';
 				$boucle->where[] = "$id_field=lien_mot." . $primary;
 				$boucle->where[] = 'lien_mot.id_mot=mots.id_mot';
 				$boucle->group = $id_field;
@@ -514,11 +516,9 @@
 				if ($match[4] == '!') {
 					$where = "NOT ($where)";
 				} else {
-					if (!$boucle->order) {
-						$boucle->order = 'rang';
-						$boucle->select[] =
+					$boucle->default_order = 'rang';
+					$boucle->select[] =
 						"FIND_IN_SET($col, \\\"$val\\\") AS rang";
-					}
 				}
 			} else {
 				if ($op == '==') $op = 'REGEXP';
@@ -537,7 +537,8 @@
 			}
 			$boucle->where[] = $where;
 	} // fin du if sur les restrictions de valeurs
-	else erreur_squelette(_L("critere inconnu $param"));
+	else
+	erreur_squelette(_T('zbug_critere_inconnu', array('critere' => $param)));
 }
 
 // traitement des relations externes par une jointure.
@@ -552,7 +553,7 @@
 		if (!$boucle->where || (!in_array($externe, $boucle->where))) {
 
 			$boucle->lien = true;
-			$boucle->from[] = "$col_table AS $col_table";
+			$boucle->from[] = "spip_$col_table AS $col_table";
 			$boucle->where[] = $externe;
 			$boucle->group = $id_field;
 		// postgres exige que le champ pour GROUP soit dans le SELECT
@@ -608,7 +609,7 @@
 	} else {
 	  if ($val[0]== '%') {
 	    spip_log($val .
-		     " est obsolete; utiliser HTTP_VARS{" .  substr($val,1) . "}");
+		     " est obsolete; utiliser ENV{" .  substr($val,1) . "}");
 		  return '" . addslashes($Pile[0][\''. substr($val,1)  ."']) . \"";
 	  }
 		else

Index: spip_image_reduite.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/spip_image_reduite.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_image_reduite.php3	13 Jan 2005 15:57:38 -0000	1.1
+++ spip_image_reduite.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -1,17 +1,18 @@
 <?php
 
-$img = $_GET['img'];
-$logo = $img;
 include ("ecrire/inc_version.php3");
 include_ecrire("inc_admin.php3");
 include_ecrire("inc_logos.php3");
 
+$img = $_GET['img'];
+$logo = $img;
+
 if (!$taille_y)
 	$taille_y = $taille_x;
 	
 if (eregi("(.*)\.(jpg|gif|png)$", $logo, $regs)) {
 	if ($i = cherche_image_nommee($regs[1], array($regs[2]))
-	    AND verifier_action_auteur("reduire $taille_x $taille_y", $hash, $hash_id_auteur))
+		AND verifier_action_auteur("reduire $taille_x $taille_y", $hash, $hash_id_auteur))
 	{
 		list($dir,$nom,$format) = $i;
 		$logo = $dir . $nom . '.' . $format;
@@ -23,20 +24,14 @@
 			$vignette = $preview['fichier'];
 			$width = $preview['width'];
 			$height = $preview['height'];
-			//echo "<img src='$vignette' name='$name' border='0' align='$align' alt='' hspace='$espace' vspace='$espace' width='$width' height='$height' class='spip_logos' />";
 			$retour = $vignette;
 		}
 		else if ($taille_origine = @getimagesize($logo)) {
-			//list ($destWidth,$destHeight) = image_ratio($taille_origine[0], $taille_origine[1], $taille_x, $taille_y);
 			$retour = $logo;
-		}	
-
-	// Afficher l'image resultante, meme grande...
-//	header("Content-type: image/$format");
-//	echo implode ('', file ($retour));
+		}
 
-	redirige_par_entete($retour);
+		redirige_par_entete($retour);
 	}
- }
+}
 
 ?>

Index: inc-public-global.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-public-global.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-public-global.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-public-global.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -4,6 +4,105 @@
 if (defined("_INC_PUBLIC_GLOBAL")) return;
 define("_INC_PUBLIC_GLOBAL", "1");
 
+// fonction principale declenchant tout le service
+function calcule_header_et_page ($fond, $delais) {
+	  global $affiche_boutons_admin, $auteur_session, $flag_dynamique,
+	  $flag_ob, $flag_preserver, $forcer_lang, $ignore_auth_http,
+	  $lastmodified, $recherche, $use_cache, $val_confirm, $var_mode,
+	  $var_recherche, $tableau_des_erreurs;
+
+	// Regler le $delais par defaut
+	if (!isset($delais))
+		$delais = 1 * 3600;
+	if ($recherche)
+		$delais = 0;
+
+	// authentification du visiteur
+	if ($GLOBALS['_COOKIE']['spip_session'] OR
+	($GLOBALS['_SERVER']['PHP_AUTH_USER']  AND !$ignore_auth_http)) {
+		include_ecrire ("inc_session.php3");
+		verifier_visiteur();
+	}
+	// multilinguisme
+	if ($forcer_lang AND ($forcer_lang!=='non') AND empty($GLOBALS['_POST'])) {
+		include_ecrire('inc_lang.php3');
+		verifier_lang_url();
+	}
+	if ($GLOBALS['_GET']['lang']) {
+		include_ecrire('inc_lang.php3');
+		lang_select($GLOBALS['_GET']['lang']);
+	}
+
+	// Si envoi pour un forum, enregistrer puis rediriger
+
+	if (strlen($GLOBALS['_POST']['confirmer_forum']) > 0
+	OR ($GLOBALS['_POST']['afficher_texte']=='non'
+		AND $GLOBALS['_POST']['ajouter_mot'])) {
+		include('inc-messforum.php3');
+		redirige_par_entete(enregistre_forum());
+	}
+
+	// si signature de petition, l'enregistrer avant d'afficher la page
+	// afin que celle-ci contienne la signature
+
+	if ($GLOBALS['_GET']['val_confirm']) {
+		include_local(find_in_path('inc-formulaire_signature.php3'));
+		reponse_confirmation($GLOBALS['_GET']['id_article'], $val_confirm);
+	}
+
+	//  refus du debug si pas dans les options generales ni admin connecte
+	if ($var_mode=='debug') {
+		if (($GLOBALS['code_activation_debug'] == 'oui')
+		OR $auteur_session['statut'] == '0minirezo')
+			spip_log('debug !');
+		else
+			$var_mode = false; 
+	}
+
+	// est-on admin ?
+	if ($affiche_boutons_admin = (!$flag_preserver
+	AND ($GLOBALS['_COOKIE']['spip_admin']
+	OR $GLOBALS['_COOKIE']['spip_debug'])))
+		include_local(find_in_path('inc-formulaire_admin.php3'));
+
+	$tableau_des_erreurs = array();
+	$page = afficher_page_globale ($fond, $delais, $use_cache);
+
+
+	//
+	// Envoyer les entetes appropries
+	// a condition d'etre sur de pouvoir le faire
+	//
+	if (!$flag_preserver
+	AND $flag_ob AND !strlen(@ob_get_contents())) {
+
+		// Si la page est vide, gerer l'erreur 404
+		if (preg_match('/^[[:space:]]*$/', $page['texte'])
+		AND $var_mode != 'debug') {
+			header("HTTP/1.0 404");
+			header("Content-Type: text/html; charset=".lire_meta('charset'));
+			$contexte_inclus = array(
+				'erreur_aucun' => message_erreur_404()
+			);
+			include(find_in_path('404.php3'));
+		}
+		// Interdire au client de cacher un login, un admin ou un recalcul
+		else if ($flag_dynamique OR $var_mode
+		OR $GLOBALS['_COOKIE']['spip_admin']) {
+			header("Cache-Control: no-cache,must-revalidate");
+			header("Pragma: no-cache");
+		}
+		// Pour les autres donner l'heure de modif
+		else if ($lastmodified) {
+			header("Last-Modified: ".http_gmoddate($lastmodified)." GMT");
+			header("Content-Type: text/html; charset=".lire_meta('charset'));
+		}
+	}
+
+	return $page;
+}
+
+
 //
 // Aller chercher la page dans le cache ou pas
 //
@@ -28,7 +127,7 @@
 
 		// log
 		if (!$log = $chemin_cache) $log = "($fond, delais=$delais, "
-		. $GLOBALS['HTTP_SERVER_VARS']['REQUEST_METHOD'].")";
+		. $GLOBALS['_SERVER']['REQUEST_METHOD'].")";
 		spip_log (($inclusion ? 'calcul inclus':'calcul').' ('
 		.spip_timer('calculer_page')."): $log");
 
@@ -86,7 +185,7 @@
 	// demande de previsualisation ?
 	// -> inc-calcul.php3 n'enregistrera pas les fichiers caches
 	// -> inc-reqsql-squel.php3 acceptera les objets non 'publie'
-	if ($var_preview == 'oui') {
+	if ($var_mode == 'preview') {
 		// Verifier qu'on a le droit de previsualisation
 		$statut = $GLOBALS['auteur_session']['statut'];
 		if ($statut=='0minirezo' OR
@@ -95,7 +194,8 @@
 			$delais = 0;
 			$var_preview = true;
 			spip_log('preview !');
-		}
+		} else
+			$var_preview = false;
 	}
 
 	// Faut-il effacer des pages invalidees ?
@@ -121,7 +221,7 @@
 		$lastmodified = @filemtime($chemin_cache);
 		$headers_only = http_last_modified($lastmodified);
 	}
-	$headers_only |= ($GLOBALS['HTTP_SERVER_VARS']['REQUEST_METHOD'] == 'HEAD');
+	$headers_only |= ($GLOBALS['_SERVER']['REQUEST_METHOD'] == 'HEAD');
 
 	if ($headers_only) {
 		if ($chemin_cache)
@@ -137,6 +237,7 @@
 		// Obtenir la page
 		$page = obtenir_page ('', $chemin_cache, $delais, $use_cache,
 		$fond, false);
+
 		if (!$flag_preserver) {
 		// Entete content-type: xml ou html ; charset
 			if ($xhtml) {
@@ -163,10 +264,8 @@
 	if ($chemin_cache) $page['cache'] = $chemin_cache;
 
 	if ($var_preview AND !$flag_preserver) {
-		$url = $GLOBALS['clean_link'];
-		$url->delvar('var_preview');
-		$url = $url->geturl();
 		include_ecrire('inc_lang.php3');
+		include_ecrire('inc_filtres.php3');
 		lang_select($GLOBALS['auteur_session']['lang']);
 		$page['texte'] .= '<div style="
 		display: block;
@@ -179,8 +278,9 @@
 		top: 0px;
 		left: 0px;
 		position: absolute;
-		"><a href="'.$url.'"><img src="' . _DIR_IMG_PACK . 'naviguer-site.png" align="left" border="0" /></a>
-&nbsp; '.majuscules(_T('previsualisation')).'</div>';
+		"><img src="' . _DIR_IMG_PACK
+		. 'naviguer-site.png" align="left" border="0" />&nbsp; '
+		. majuscules(_T('previsualisation')).'</div>';
 	}
 
 	return $page;
@@ -189,14 +289,7 @@
 
 function terminer_public_global() {
 
-	// Mise a jour des fichiers langues de l'espace public
-	if ($GLOBALS['cache_lang_modifs']) {
-		include_ecrire('inc_lang.php3');
-		ecrire_caches_langues();
-	}
-
 	// Gestion des statistiques du site public
-
 	if (lire_meta("activer_statistiques") != "non") {
 		include_local ("inc-stats.php3");
 		ecrire_stats();
@@ -206,13 +299,6 @@
 	cron();
 }
 
-// Cette fonction sert au dernier ob_start() de inc-public : elle
-// va absorber les eventuels messages d'erreur de inc_cron(), permettant
-// de ne pas planter le content-length qu'on a annonce ; decommenter la ligne
-// pour afficher les bugs
-function masquer_les_bugs ($bugs) {
-	# return $bugs;
-}
 
 function inclure_page($fond, $delais_inclus, $contexte_inclus, $cache_incluant='') {
 
@@ -232,6 +318,13 @@
 		lang_select($lang);
 		$lang_select = true; // pour lang_dselect en sortie
 	}
+	
+	// Si on est inclus en POST, il faut ajouter les variables _POST dans
+	// le contexte inclus, sinon les formulaires ne marchent pas...
+	if ($_SERVER['REQUEST_METHOD'] == 'POST') {
+		include_local('inc-calcul.php3');
+		$contexte_inclus = array_merge(calculer_contexte(), $contexte_inclus);
+	}
 
 	$page = obtenir_page ($contexte_inclus, $chemin_cache, $delais_inclus,
 	$use_cache, $fond, true);
@@ -242,7 +335,32 @@
 	return $page;
 }
 
+// equivalente a texte_script dans inc_filtre.
+
+function securise_script($texte) {
+	return str_replace('\'', '\\\'', str_replace('\\', '\\\\', $texte));
+}
+
 # les balises dynamiques sont traitees comme des inclusions
+
+function synthetiser_balise_dynamique($nom, $args, $file, $lang) {
+	return
+		('<'.'?php 
+include_ecrire(\'inc_lang.php3\');
+lang_select("'.$lang.'");
+include_local("'
+		. $file
+		. '");
+inclure_balise_dynamique(balise_'
+		. $nom
+		. '_dyn(\''
+		. join("', '", array_map("securise_script", $args))
+		. '\'));
+	lang_dselect();
+?'
+		.">");
+}
+
 # Attention, un appel explicite a cette fonction suppose certains include
 # (voir l'exemple de spip_inscription et spip_pass)
 
@@ -251,17 +369,41 @@
 		echo $r;
 	else {
 		list($fond, $delais, $contexte_inclus) = $r;
+
 		if ((!$contexte_inclus['lang']) AND
 		($GLOBALS['spip_lang'] != lire_meta('langue_site')))
-			$contexte_inclus['lang'] = $GLOBALS['spip_lang']; 
+			$contexte_inclus['lang'] = $GLOBALS['spip_lang'];
+
+
+		// Appeler la page
 		$page = inclure_page($fond, $delais, $contexte_inclus);
 		if ($page['process_ins'] == 'html')
 			echo $page['texte'];
 		else
 			eval('?' . '>' . $page['texte']);
-		
+
 		if ($page['lang_select'])
 			lang_dselect();
+
 	}
 }
+
+
+function message_erreur_404 () {
+	if ($GLOBALS['id_article'])
+		$erreur = 'aucun_article';
+	else if ($GLOBALS['id_rubrique'])
+		$erreur = 'aucune_rubrique';
+	else if ($GLOBALS['id_breve'])
+		$erreur = 'aucune_breve';
+	else if ($GLOBALS['id_auteur'])
+		$erreur = 'aucun_auteur';
+	else if ($GLOBALS['id_syndic'])
+		$erreur = 'aucun_site';
+	else
+		$erreur = '';
+
+	return _T("public:".$erreur);
+}
+
 ?>

Index: inc-urls-propres.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-urls-propres.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-urls-propres.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-urls-propres.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -9,7 +9,7 @@
 
 - Comment utiliser ce jeu d'URLs ?
 
-Il faut recopier le fichier htaccess-propre.txt sous le nom .htaccess
+Il faut recopier le fichier htaccess-propres.txt sous le nom .htaccess
 dans le repertoire de base du site SPIP (attention a ne pas ecraser
 d'autres reglages que vous pourriez avoir mis dans ce fichier)
 
@@ -29,7 +29,9 @@
 	// Sinon, creer l'URL
 	include_ecrire("inc_filtres.php3");
 	include_ecrire("inc_charsets.php3");
-	$url = translitteration(corriger_caracteres(supprimer_tags(supprimer_numero($row['titre']))));
+	$url = translitteration(corriger_caracteres(
+		supprimer_tags(supprimer_numero(extraire_multi($row['titre'])))
+		));
 	$url = @preg_replace(',[[:punct:][:space:]]+,u', ' ', $url);
 	// S'il reste des caracteres non latins, utiliser l'id a la place
 	if (preg_match(",[^a-zA-Z0-9 ],", $url)) {
@@ -54,7 +56,8 @@
 	// Verifier les eventuels doublons et mettre a jour
 	$lock = "url $type $id_objet";
 	spip_get_lock($lock, 10);
-	$query = "SELECT $col_id FROM $table WHERE url_propre='".addslashes($url)."'";
+	$query = "SELECT $col_id FROM $table
+		WHERE url_propre='".addslashes($url)."'";
 	if (spip_num_rows(spip_query($query)) > 0) {
 		$url = $url.','.$id_objet;
 	}
@@ -114,14 +117,15 @@
 	global $contexte;
 
 	// Migration depuis anciennes URLs ?
-	if ($GLOBALS['HTTP_SERVER_VARS']['REQUEST_METHOD'] != 'POST' &&
-		preg_match(',(^|/)(article|breve|rubrique|mot)\.php3?([\?&].*)?$,', $url, $regs)) {
-		$type = $regs[2];
+	if ($GLOBALS['_SERVER']['REQUEST_METHOD'] != 'POST' &&
+		preg_match(',(^|/)((article|breve|rubrique|mot)\.php3?([\?&].*)?)$,', $url, $regs)) {
+		$type = $regs[3];
 		$id_objet = intval($GLOBALS['id_'.$type]);
 		if ($id_objet) {
 			$func = "generer_url_$type";
 			$url_propre = $func($id_objet);
-			if ($url_propre) {
+			if ($url_propre
+			AND ($url_propre<>$regs[2])) {
 				http_status(301);
 				Header("Location: $url_propre");
 				exit;
@@ -130,7 +134,7 @@
 		return;
 	}
 
-	$url_propre = $GLOBALS['HTTP_SERVER_VARS']['REDIRECT_url_propre'];
+	$url_propre = $GLOBALS['_SERVER']['REDIRECT_url_propre'];
 	if (!$url_propre) $url_propre = $GLOBALS['HTTP_ENV_VARS']['url_propre'];
 	if (!$url_propre) $url_propre = substr($url, strrpos($url, '/') + 1);
 	if (!$url_propre) return;
@@ -154,7 +158,8 @@
 
 	$table = "spip_".$type."s";
 	$col_id = "id_".$type;
-	$query = "SELECT $col_id FROM $table WHERE url_propre='".addslashes($url_propre)."'";
+	$query = "SELECT $col_id FROM $table
+		WHERE url_propre='".addslashes($url_propre)."'";
 	$result = spip_query($query);
 	if (spip_num_rows($result) == 1) {
 		$row = spip_fetch_array($result);

Index: spip_cookie.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/spip_cookie.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_cookie.php3	13 Jan 2005 15:57:38 -0000	1.1
+++ spip_cookie.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -3,20 +3,27 @@
 include ("ecrire/inc_version.php3");
 include_ecrire ("inc_session.php3");
 
+
 // gerer l'auth http
 function auth_http($url, $essai_auth_http) {
+	global $_SERVER;
 	if ($essai_auth_http == 'oui') {
-		if (!verifier_php_auth()) {
-		  $url = quote_amp(urlencode($url));
-		  ask_php_auth(_T('login_connexion_refusee'),_T('login_login_pass_incorrect'),_T('login_retour_site'), "url=$url",_T('login_nouvelle_tentative'), (ereg(_DIR_RESTREINT_ABS, $url)));
-		  exit;
-		}
-		else
+		if (verifier_php_auth())
 			redirige_par_entete($url);
+		else {
+			$url = quote_amp(urlencode($url));
+			ask_php_auth(_T('login_connexion_refusee'),
+			_T('login_login_pass_incorrect'), _T('login_retour_site'),
+			"url=$url", _T('login_nouvelle_tentative'),
+			(ereg(_DIR_RESTREINT_ABS, $url)));
+			exit;
+		}
 	}
 	// si demande logout auth_http
 	else if ($essai_auth_http == 'logout') {
-		ask_php_auth(_T('login_deconnexion_ok'),_T('login_verifiez_navigateur'),_T('login_retour_public'),"redirect=ecrire",_T('login_test_navigateur'), true);
+		ask_php_auth(_T('login_deconnexion_ok'),
+		_T('login_verifiez_navigateur'), _T('login_retour_public'),
+		"redirect="._DIR_RESTREINT_ABS, _T('login_test_navigateur'), true);
 		exit;
 	}
 }
@@ -42,7 +49,6 @@
 		exit;
 	}
 }
-#spip_log("cookie: $url");
 
 if ($url)  $url = urldecode($url);
 
@@ -67,13 +73,19 @@
 			zap_sessions($auteur_session['id_auteur'], true);
 			spip_setcookie('spip_session', $spip_session, time() - 3600 * 24);
 		}
-		if ($PHP_AUTH_USER AND !$ignore_auth_http) {
+		
+		if ($_SERVER['PHP_AUTH_USER']
+		AND !$ignore_auth_http
+		AND verifier_php_auth()) {
 			auth_http(($url ? $url : _DIR_RESTREINT_ABS), 'logout');
 		}
 		unset ($auteur_session);
 	}
 
-	redirige_par_entete($url ? $url : "spip_login.php3");
+	redirige_par_entete($url ? $url :
+			    ("spip_login.php3?url=$url&inscription=" .
+			     ((lire_meta("accepter_inscriptions") == "oui")?
+			      'spip_inscription.php3' : '')));
 }
 
 // en cas de login sur bonjour=oui, on tente de poser un cookie
@@ -82,7 +94,10 @@
 if ($test_echec_cookie == 'oui') {
 	spip_setcookie('spip_session', 'test_echec_cookie');
 	redirige_par_entete("spip_login.php3?var_echec_cookie=oui&url=" .
-			    ($url ? $url : _DIR_RESTREINT_ABS));
+			    ($url ? $url : _DIR_RESTREINT_ABS) .
+			    "&inscription=" .
+			     ((lire_meta("accepter_inscriptions") == "oui")?
+			      'spip_inscription.php3' : ''));
 }
 
 // Tentative de login
@@ -132,7 +147,9 @@
 	}
 	else {
 		if (ereg(_DIR_RESTREINT_ABS, $redirect)) {
-			$redirect = "spip_login.php3";
+			$redirect = "spip_login.php3?inscription=" .
+			     ((lire_meta("accepter_inscriptions") == "oui")?
+			      'spip_inscription.php3' : '');
 		}
 		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=$login";
 		if ($session_password || $session_password_md5)
@@ -143,8 +160,13 @@
 
 // cookie d'admin ?
 if ($cookie_admin == "non") {
+	if (!$retour)
+	  $retour = 'spip_login.php3?var_url='.urlencode($url) .
+	     "&inscription="  .
+	    ((lire_meta("accepter_inscriptions") == "oui")? 'spip_inscription.php3' : '');
+
 	spip_setcookie('spip_admin', $spip_admin, time() - 3600 * 24);
-	$redirect = ereg_replace("[?&]var_login=[^&]*", '', $redirect);
+	$redirect = ereg_replace("[?&]var_login=[^&]*", '', $retour);
 	$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=-1";
 }
 else if ($cookie_admin AND $spip_admin != $cookie_admin) {

Index: inc-boucles.php3
===================================================================
RCS file: /cvsroot/spip-carto/spip-carto/inc-boucles.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-boucles.php3	20 Jan 2005 10:25:17 -0000	1.1
+++ inc-boucles.php3	6 Feb 2005 13:59:32 -0000	1.2
@@ -33,7 +33,7 @@
 function boucle_ARTICLES_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "articles AS $id_table";
+	$boucle->from[] =  "spip_articles AS $id_table";
 	if (!$GLOBALS['var_preview']) {
 		$boucle->where[] = "$id_table.statut='publie'";
 		if (lire_meta("post_dates") == 'non')
@@ -49,13 +49,13 @@
 function boucle_AUTEURS_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "auteurs AS $id_table";
+	$boucle->from[] =  "spip_auteurs AS $id_table";
 	// Si pas de lien avec un article, selectionner
 	// uniquement les auteurs d'un article publie
 	if (!$GLOBALS['var_preview'])
 	if (!$boucle->lien AND !$boucle->tout) {
-		$boucle->from[] =  "auteurs_articles AS lien";
-		$boucle->from[] =  "articles AS articles";
+		$boucle->from[] =  "spip_auteurs_articles AS lien";
+		$boucle->from[] =  "spip_articles AS articles";
 		$boucle->where[] = "lien.id_auteur=$id_table.id_auteur";
 		$boucle->where[] = 'lien.id_article=articles.id_article';
 		$boucle->where[] = "articles.statut='publie'";
@@ -72,7 +72,7 @@
 function boucle_BREVES_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "breves AS $id_table";
+	$boucle->from[] =  "spip_breves AS $id_table";
 	if (!$GLOBALS['var_preview'])
 		$boucle->where[] = "$id_table.statut='publie'";
 	else
@@ -87,7 +87,7 @@
 function boucle_FORUMS_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "forum AS $id_table";
+	$boucle->from[] =  "spip_forum AS $id_table";
 	// Par defaut, selectionner uniquement les forums sans pere
 	if (!$boucle->tout AND !$boucle->plat) 
 		{
@@ -104,9 +104,9 @@
 function boucle_SIGNATURES_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "signatures AS $id_table";
-	$boucle->from[] =  "petitions AS petitions";
-	$boucle->from[] =  "articles articles";
+	$boucle->from[] =  "spip_signatures AS $id_table";
+	$boucle->from[] =  "spip_petitions AS petitions";
+	$boucle->from[] =  "spip_articles articles";
 	$boucle->where[] = "petitions.id_article=articles.id_article";
 	$boucle->where[] = "petitions.id_article=$id_table.id_article";
 	$boucle->where[] = "$id_table.statut='publie'";
@@ -121,8 +121,8 @@
 function boucle_DOCUMENTS_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "documents AS $id_table";
-	$boucle->from[] =  "types_documents AS types_documents";
+	$boucle->from[] =  "spip_documents AS $id_table";
+	$boucle->from[] =  "spip_types_documents AS types_documents";
 	$boucle->where[] = "$id_table.id_type=types_documents.id_type";
 	$boucle->where[] = "$id_table.taille > 0";
 	return calculer_boucle($id_boucle, $boucles); 
@@ -135,7 +135,7 @@
 function boucle_TYPES_DOCUMENTS_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "types_documents AS $id_table";
+	$boucle->from[] =  "spip_types_documents AS $id_table";
 	return calculer_boucle($id_boucle, $boucles); 
 }
 
@@ -146,7 +146,7 @@
 function boucle_GROUPES_MOTS_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "groupes_mots AS $id_table";
+	$boucle->from[] =  "spip_groupes_mots AS $id_table";
 	return calculer_boucle($id_boucle, $boucles); 
 }
 
@@ -157,7 +157,7 @@
 function boucle_MOTS_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "mots AS $id_table";
+	$boucle->from[] =  "spip_mots AS $id_table";
 	return calculer_boucle($id_boucle, $boucles); 
 }
 
@@ -168,7 +168,7 @@
 function boucle_RUBRIQUES_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "rubriques AS $id_table";
+	$boucle->from[] =  "spip_rubriques AS $id_table";
 	if (!$GLOBALS['var_preview'])
 		if (!$boucle->tout) $boucle->where[] = "$id_table.statut='publie'";
 	return calculer_boucle($id_boucle, $boucles); 
@@ -181,7 +181,7 @@
 function boucle_HIERARCHIE_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "rubriques AS $id_table";
+	$boucle->from[] =  "spip_rubriques AS $id_table";
 
 	// Si la boucle mere est une boucle RUBRIQUES il faut ignorer la feuille
 	// sauf si le critere {tout} est present (cf. inc-html-squel)
@@ -190,7 +190,7 @@
 	// $hierarchie sera calculee par une fonction de inc-calcul-outils
 	$boucle->where[] = 'id_rubrique IN ($hierarchie)';
 	$boucle->select[] = 'FIND_IN_SET(id_rubrique, \'$hierarchie\')-1 AS rang';
-	$boucle->order = 'rang';
+	$boucle->default_order = 'rang';
 	$boucle->hierarchie = '$hierarchie = calculer_hierarchie('
 	. calculer_argument_precedent($boucle->id_boucle, 'id_rubrique', $boucles)
 	. ', '
@@ -206,7 +206,7 @@
 function boucle_SYNDICATION_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "syndic AS $id_table";
+	$boucle->from[] =  "spip_syndic AS $id_table";
 	$boucle->where[] = "$id_table.statut='publie'";
 	return calculer_boucle($id_boucle, $boucles); 
 }
@@ -218,8 +218,8 @@
 function boucle_SYNDIC_ARTICLES_dist($id_boucle, &$boucles) {
 	$boucle = &$boucles[$id_boucle];
 	$id_table = $boucle->id_table;
-	$boucle->from[] =  "syndic_articles  AS $id_table";
-	$boucle->from[] =  "syndic AS syndic";
+	$boucle->from[] =  "spip_syndic_articles  AS $id_table";
+	$boucle->from[] =  "spip_syndic AS syndic";
 	$boucle->where[] = "$id_table.id_syndic=syndic.id_syndic";
 	$boucle->where[] = "$id_table.statut='publie'";
 	$boucle->where[] = "syndic.statut='publie'";



From stef at berlios.de  Sun Feb  6 15:00:41 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 6 Feb 2005 15:00:41 +0100
Subject: [Spip-carto-cvs] spip-carto carto_lien.php3,NONE,1.1
Message-ID: <200502061400.j16E0f8Y014414@sheep.berlios.de>

Update of /cvsroot/spip-carto/spip-carto
In directory sheep:/tmp/cvs-serv14406

Added Files:
	carto_lien.php3 
Log Message:
proto1.3

--- NEW FILE: carto_lien.php3 ---
<?php

$fond = "carto_lien";
$delais = 24*3600;

include ("inc-public.php3");

?>



From stef at berlios.de  Sun Feb  6 15:01:00 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 6 Feb 2005 15:01:00 +0100
Subject: [Spip-carto-cvs] spip-carto carto_logo.php3,NONE,1.1
Message-ID: <200502061401.j16E108Y014477@sheep.berlios.de>

Update of /cvsroot/spip-carto/spip-carto
In directory sheep:/tmp/cvs-serv14471

Added Files:
	carto_logo.php3 
Log Message:
proto1.3

--- NEW FILE: carto_logo.php3 ---
<?php

$fond = "carto_logo";
$delais = 24*3600;

include ("inc-public.php3");

?>



From stef at berlios.de  Sun Feb  6 15:01:33 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 6 Feb 2005 15:01:33 +0100
Subject: [Spip-carto-cvs] spip-carto carto-proto1.1.sql,NONE,1.1
Message-ID: <200502061401.j16E1X8Y014497@sheep.berlios.de>

Update of /cvsroot/spip-carto/spip-carto
In directory sheep:/tmp/cvs-serv14489

Added Files:
	carto-proto1.1.sql 
Log Message:
proto1.3

--- NEW FILE: carto-proto1.1.sql ---
#
# Table structure for table 'spip_carto_cartes'
#

CREATE TABLE `spip_carto_cartes` (
  `id_carto_carte` smallint(5) unsigned NOT NULL auto_increment,
  `url_carte` varchar(255) NOT NULL default '',
  `titre` varchar(255) NOT NULL default '',
  `texte` text NOT NULL,
  `callage` text NOT NULL,
  `id_srs` smallint(5) unsigned default NULL,
  `idx` enum('','1','non','oui','idx') NOT NULL default '',
  PRIMARY KEY  (`id_carto_carte`),
  KEY `titre` (`titre`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_carto_cartes_articles'
#

CREATE TABLE `spip_carto_cartes_articles` (
  `id_carto_carte` smallint(5) unsigned NOT NULL default '0',
  `id_article` smallint(5) unsigned NOT NULL default '0',
  PRIMARY KEY  (`id_carto_carte`,`id_article`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_carto_objets'
#

CREATE TABLE `spip_carto_objets` (
  `id_carto_objet` smallint(5) unsigned NOT NULL auto_increment,
  `id_carto_carte` smallint(5) unsigned NOT NULL default '0',
  `titre` varchar(255) NOT NULL default '',
  `texte` text NOT NULL,
  `url_objet` text,
  `url_logo` text,
  `geometrie` text,
  `idx` enum('','1','non','oui','idx') NOT NULL default '',
  PRIMARY KEY  (`id_carto_objet`),
  KEY `id_carte` (`id_carto_carte`),
  KEY `titre` (`titre`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_carto_srs'
#

CREATE TABLE `spip_carto_srs` (
  `id_carto_srs` smallint(5) unsigned NOT NULL auto_increment,
  `label` varchar(30) NOT NULL default '',
  `code` smallint(6) NOT NULL default '0',
  PRIMARY KEY  (`id_carto_srs`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_documents_carto_cartes'
#

CREATE TABLE `spip_documents_carto_cartes` (
  `id_carto_carte` smallint(5) unsigned NOT NULL default '0',
  `id_document` smallint(5) unsigned NOT NULL default '0',
  `callage` text,
  PRIMARY KEY  (`id_carto_carte`,`id_document`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_mots_carto_objets'
#

CREATE TABLE `spip_mots_carto_objets` (
  `id_carto_objet` smallint(5) unsigned NOT NULL default '0',
  `id_mot` smallint(5) unsigned NOT NULL default '0',
  `ordre` tinyint(3) unsigned NOT NULL default '0',
  PRIMARY KEY  (`id_carto_objet`,`id_mot`),
  KEY `ordre` (`ordre`)
) TYPE=MyISAM;


ALTER TABLE `spip_groupes_mots` ADD `carto_objets` CHAR( 3 ) NOT NULL AFTER `syndic` ;

ALTER TABLE `spip_groupes_mots` ADD INDEX ( `carto_objets` ) ;


INSERT INTO spip_meta(nom, valeur, maj) VALUES ('activer_carto','oui',now());
INSERT INTO spip_meta(nom, valeur, maj) VALUES ('carto_mots','oui',now());


From stef at berlios.de  Sun Feb  6 15:03:18 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 6 Feb 2005 15:03:18 +0100
Subject: [Spip-carto-cvs] spip-carto carto_logox.php3,NONE,1.1
Message-ID: <200502061403.j16E3I8Y014559@sheep.berlios.de>

Update of /cvsroot/spip-carto/spip-carto
In directory sheep:/tmp/cvs-serv14543

Added Files:
	carto_logox.php3 
Log Message:
proto1.3

--- NEW FILE: carto_logox.php3 ---
<?php

$fond = "carto_logox";
$delais = 24*3600;

include ("inc-public.php3");

?>



From mose at berlios.de  Tue Feb  8 15:49:26 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 15:49:26 +0100
Subject: [Spip-carto-cvs] spipcarto/formulaires - New directory
Message-ID: <200502081449.j18EnQ8Y004452@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/formulaires
In directory sheep:/tmp/cvs-serv4434/formulaires

Log Message:
Directory /cvsroot/spip-carto/spipcarto/formulaires added to the repository




From mose at berlios.de  Tue Feb  8 15:52:33 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 15:52:33 +0100
Subject: [Spip-carto-cvs] spipcarto/squelettes - New directory
Message-ID: <200502081452.j18EqX8Y004731@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/squelettes
In directory sheep:/tmp/cvs-serv4715/squelettes

Log Message:
Directory /cvsroot/spip-carto/spipcarto/squelettes added to the repository




From mose at berlios.de  Tue Feb  8 15:57:14 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 15:57:14 +0100
Subject: [Spip-carto-cvs] spipcarto/dist - New directory
Message-ID: <200502081457.j18EvE8Y004997@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/dist
In directory sheep:/tmp/cvs-serv4983/dist

Log Message:
Directory /cvsroot/spip-carto/spipcarto/dist added to the repository




From mose at berlios.de  Tue Feb  8 16:10:14 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 16:10:14 +0100
Subject: [Spip-carto-cvs] spipcarto/CACHE .cvsignore,NONE,1.1
Message-ID: <200502081510.j18FAE8Y005826@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/CACHE
In directory sheep:/tmp/cvs-serv5765/CACHE

Added Files:
	.cvsignore 
Log Message:
update a partir de spipcarto_proto1.3.zip

--- NEW FILE: .cvsignore ---
*



From mose at berlios.de  Tue Feb  8 16:10:14 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 16:10:14 +0100
Subject: [Spip-carto-cvs] spipcarto/dist 404.html,NONE,1.1 404.php3,NONE,1.1 article.html,NONE,1.1 auteur.html,NONE,1.1 backend-breves.html,NONE,1.1 backend.html,NONE,1.1 breve.html,NONE,1.1 distrib.html,NONE,1.1 forum.html,NONE,1.1 ical.html,NONE,1.1 login.html,NONE,1.1 mot.html,NONE,1.1 nouveautes.html,NONE,1.1 plan.html,NONE,1.1 recherche.html,NONE,1.1 resume.html,NONE,1.1 rubrique.html,NONE,1.1 site.html,NONE,1.1 sommaire.html,NONE,1.1 sommaire_texte.html,NONE,1.1
Message-ID: <200502081510.j18FAE8Y005842@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/dist
In directory sheep:/tmp/cvs-serv5765/dist

Added Files:
	404.html 404.php3 article.html auteur.html backend-breves.html 
	backend.html breve.html distrib.html forum.html ical.html 
	login.html mot.html nouveautes.html plan.html recherche.html 
	resume.html rubrique.html site.html sommaire.html 
	sommaire_texte.html 
Log Message:
update a partir de spipcarto_proto1.3.zip

--- NEW FILE: 404.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
	<title>[#NOM_SITE_SPIP - <:pass_erreur:> 404]</title>
	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

	<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
	<link rel="stylesheet" href="spip_style.css" type="text/css">

	<!-- Les feuilles de style specifiques aux presents squelettes -->
	<link rel="stylesheet" href="typographie.css" type="text/css">

	<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
	<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">

</head>
<body bgcolor="white" dir="#LANG_DIR">



<div id="navigation">

	<h1 class="structure"><:navigation:></h1>
	
	<!-- Menu de navigation general -->
	<div class="menu">
	<ul class="general">
		<li class="menu-titre"><a href="#URL_SITE_SPIP" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a></li>
		<li class="menu-item"><a href="plan.php3"><:plan_site:></a></li>
		<li class="menu-item"><a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a></li>
		<li class="menu-item"><a href="ecrire/"><:espace_prive:></a></li>
	</ul>
	</div>
	
	<!-- Formulaire de recherche -->
	#FORMULAIRE_RECHERCHE

</div>

<div id="principal" class="contenu">

<h1 class="titre-texte"><:pass_erreur:> 404</h1>
	<p>#ERREUR_AUCUN</p>
</div>


#SPIP_CRON

</body>
</html>
--- NEW FILE: 404.php3 ---
<?php

	$fond='404';
	$delais = 12 * 3600;
	include ('inc-public.php3');

?>
--- NEW FILE: article.html ---
<BOUCLE_article_principal(ARTICLES) {id_article}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[(#TITRE|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white" dir="#LANG_DIR">
<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>

<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


<!-- Menu de navigation rubriques -->

<B_rubriques>
<div class="menu">
<ol class="rubriques">
<BOUCLE_rubriques(HIERARCHIE) {id_article}>
<li>
<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_sous_rubriques>
	<ul class="menu-liste">
<BOUCLE_sous_rubriques(RUBRIQUES) {meme_parent} {exclus} {par date} {inverse} {0,3}>
	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_sous_rubriques>
	</ul>
</B_sous_rubriques>
</li>
</BOUCLE_rubriques>
</ol>
</div>
</B_rubriques>


<!-- Menu de navigation mots-cles -->

<B_mots>
<div class="menu">

<h1 class="structure"><:mots_clefs:></h1>

<ul class="divers" title="<:mots_clefs:>">
<BOUCLE_mots(MOTS) {id_article} {par titre}>
<li>
<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_articles_mots>
	<ul class="menu-liste">
<BOUCLE_articles_mots(ARTICLES) {id_mot} {par hasard} {0,4}>
	<li class="menu-item"><a href="#URL_ARTICLE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
</BOUCLE_articles_mots>
	</ul>
</B_articles_mots>
</li>
</BOUCLE_mots>
</ul>
</div>
</B_mots>


<!-- Liens des forums -->
<BOUCLE_forums_decompte(FORUMS){id_article}{plat}></BOUCLE_forums_decompte>
[<div class="menu" title="<:derniers_commentaires:>">

<h1 class="structure"><:derniers_commentaires:></h1>

<ul class="forums">

<li class="menu-titre"><:messages_forum:>: (#TOTAL_BOUCLE)</li>]
<//B_forums_decompte>
<BOUCLE_forums_liens(FORUMS){id_article}{par date}{inverse}{0,5}>
    <li class="menu-item">[<i>(#DATE|affdate_court)</i>:]
    <a href="#forum#ID_FORUM">#TITRE</a>
    </li>
</BOUCLE_forums_liens>
</ul>
</div>
</B_forums_liens>


</div>


<!-- Une : derniers articles publies -->

<div class="contenu" id="principal">

<div class="cartouche">
#DEBUT_SURLIGNE[
(#LOGO_ARTICLE|left)][
<div class="surtitre">(#SURTITRE)</div>
]<h1 class="titre-texte">#TITRE</h1>[
<div class="surtitre">(#SOUSTITRE)</div>
]#FIN_SURLIGNE
[(#DATE|nom_jour)] [(#DATE|affdate).]
</div>
<div style="line-height: 0em">&nbsp;</div><!-- Bug Mozilla http://bugzilla.mozilla.org/show_bug.cgi?id=200510 -->

	<div class="encart">

	<!-- Auteurs de l'article -->

	<B_auteurs>

	<div class="menu">
	<h2 class="structure"><:memes_auteurs:></h2>
	<ul class="divers">
	<BOUCLE_auteurs(AUTEURS) {id_article} {par nom}>
		<li>
		<div class="menu-titre"><a href="#URL_AUTEUR">#NOM</a></div>
		<ul>
		[<li class="menu-item" style="text-align: center"><a href="(#URL_SITE)">#NOM_SITE</a></li>]
		[<li class="menu-item" style="text-align: center">(#BIO)</li>]
	<B_articles_auteur>
	<BOUCLE_articles_auteur(ARTICLES) {id_auteur} {par popularite} {inverse} {0,5}>
		<li class="menu-item"><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
	</BOUCLE_articles_auteur>
		</ul>
		</li>
	</BOUCLE_auteurs>
	</ul>
	</div>

	</B_auteurs>

	<!-- Articles dans la meme rubrique -->

	<B_articles_rubrique>

	<div class="menu">
	<div class="breves">
		<h2 class="structure"><:meme_rubrique:></h2>
		<div class="menu-titre">
		<:meme_rubrique:>
		</div>
		<ul>
	<BOUCLE_articles_rubrique(ARTICLES) {id_rubrique} {par hasard} {exclus} {0,8}>
		<li class="menu-item">
		<a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a>
		</li>
	</BOUCLE_articles_rubrique>
		</ul>
	</div>
	</div>

	</B_articles_rubrique>
  [<div class='reponse_formulaire'>
	<a name='sp#ID_ARTICLE' id='sp#ID_ARTICLE'></a>
    (#FORMULAIRE_SIGNATURE)
  </div>]
	</div>

#DEBUT_SURLIGNE[
<div class="chapo">(#CHAPO)</div>
][<div class="texte">(#TEXTE)</div>
][<div class="ps">(#PS)</div>][
<div class="notes">(#NOTES)</div>
]#FIN_SURLIGNE

<BOUCLE_documents_joints(DOCUMENTS) {id_article} {mode=document} {doublons} {"<br>"}>
[(#LOGO_DOCUMENT|#URL_DOCUMENT)][<br>(#TITRE)][ - (#DESCRIPTIF)]
</BOUCLE_documents_joints>
<br>


<!-- Signatures petition -->

<BOUCLE_signatures_decompte(SIGNATURES) {id_article}></BOUCLE_signatures_decompte>
[<div class="signatures-titre"><:signatures_petition:>: (#TOTAL_BOUCLE)</div>

<table class="signatures">
<thead class="structure">
<tr>
	<td><:date:></td>
	<td><:nom:></td>
	<td><:message:></td>
</tr>
</thead>
<tbody>]
<//B_signatures_decompte>
<BOUCLE_signatures(SIGNATURES) {id_article} {par date} {inverse} {debut_signatures,30}>
<tr>
	<td class="signature-date">[(#DATE|affdate_court)]</td>
	<td class="signature-nom">#NOM[<br><a href="#URL_SITE">(#NOM_SITE)</a>]</td>
	[<td class="signature-message">(#MESSAGE)</td>]
</tr>
</BOUCLE_signatures>
</tbody>
</table>
</B_signatures>


<!-- Forums -->

[<div class="forum-repondre"><B><A  HREF="forum.php3?(#PARAMETRES_FORUM)"><:repondre_article:></A></B></div>]
<br>

<h1 class="structure"><:Forum:></h1>

<B_forums>
<ul class="forum-total">

<BOUCLE_forums(FORUMS){id_article}{par date}{inverse}>

<li>
<div class="forum-fil">

<div class="forum">
<div class="forum-chapo">
<div class="forum-titre"><a name="forum#ID_FORUM"></a>#TITRE</div>
[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
</div>
<div class="forum-item">
#TEXTE
[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
</div>
</div>

<B_forums_fils>
	<ul>
	<BOUCLE_forums_fils(FORUMS){id_parent}{par date}>

	<li>
	<div class="forum">
	<div class="forum-chapo">
	<div class="forum-titre"><a name="forum#ID_FORUM"></a>#TITRE</div>
	[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
	</div>
	<div class="forum-item">
	#TEXTE
	[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
	[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
	</div>

	</div>

	<BOUCLE_Forums_Boucle(boucle_forums_fils)></BOUCLE_Forums_Boucle>
	</li>

	</BOUCLE_forums_fils>
	</ul>
</B_forums_fils>

</div>
</li>
</BOUCLE_forums>

</ul>
</B_forums>

</div>

</body>
</html>
</BOUCLE_article_principal>
--- NEW FILE: auteur.html ---
<BOUCLE_auteur_principal(AUTEURS) {id_auteur}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[(#NOM|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


</div>


<!-- Une : affichage de l'auteur -->

<div class="contenu" id="principal">

<div class="cartouche">
[(#LOGO_AUTEUR|left)]
<h1 class="titre-texte">#NOM</h1>

[<div class="chapo">(#BIO)</div>]
[<br>#NOM_SITE : <a href="(#URL_SITE)">#URL_SITE</a><br>]
[<div class="notes">(#NOTES)</div>]
</div>

[<p><b><:envoyer_message:></b></p>
<div class='spip_encadrer'><b>(#FORMULAIRE_ECRIRE_AUTEUR)</b></div>]

<!-- Articles de l'auteur -->

<h1 class="structure"><:articles_auteur:></h1>

<div class="liste-articles">

<BOUCLE_articles(ARTICLES) {id_auteur} {par titre}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs><:par_auteur:> <BOUCLE_auteurs(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs>
	</div>
	<br>
</BOUCLE_articles>

</div>

</div>

</body>
</html>
</BOUCLE_auteur_principal>


--- NEW FILE: backend-breves.html ---
<?php echo '<'.'?xml version="1.0" encoding="#CHARSET"?'.">\n"; ?>
<rss version="0.91" xmlns:dc="http://purl.org/dc/elements/1.1/">

<channel>

	<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
	<link>#URL_SITE_SPIP/</link>
	<description></description>
	<language>#LANG</language>

	<image>
		<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
		<url>#URL_SITE_SPIP[/(#LOGO_SITE_SPIP||extraire_attribut{src})]</url>
		<link>#URL_SITE_SPIP/</link>
		<description></description>
	</image>

	<BOUCLE_breves(BREVES){id_rubrique ?}{lang ?}{par date}{inverse}{0,10}>
	<item>
		<title>[(#TITRE|texte_backend)]</title>
		<link>#URL_SITE_SPIP/#URL_BREVE</link>
		<date>#DATE</date>
		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_BREVE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#TEXTE|texte_backend)]</description>
		<dc:date>[(#DATE|date_iso)]</dc:date>
		<dc:format>text/html</dc:format>
		<dc:language>#LANG</dc:language>
	</item>
	</BOUCLE_breves>

</channel>

</rss>

--- NEW FILE: backend.html ---
<?php echo '<'.'?xml version="1.0" encoding="#CHARSET"?'.">\n"; ?>
<rss version="0.91" xmlns:dc="http://purl.org/dc/elements/1.1/">

<channel>
	<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
	<link>#URL_SITE_SPIP/</link>
	<description></description>
	<language>#LANG</language>

	<image>
		<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
		<url>#URL_SITE_SPIP[/(#LOGO_SITE_SPIP||extraire_attribut{src})]</url>
		<link>#URL_SITE_SPIP/</link>
		<description></description>
	</image>

	<BOUCLE_10recents(ARTICLES){lang ?}{branche ?}{par date}{inverse}{0,10}{unique}>
		<item>
		<title>[(#TITRE|texte_backend)]</title>
		<link>#URL_SITE_SPIP/#URL_ARTICLE</link>
		<date>#DATE</date>
		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_ARTICLE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#INTRODUCTION|texte_backend)]</description>
		<author><BOUCLE_auteurs(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteurs></author>
		<dc:date>[(#DATE|date_iso)]</dc:date>
		<dc:format>text/html</dc:format>
		<dc:language>#LANG</dc:language>
		<dc:creator><BOUCLE_auteursb(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteursb></dc:creator>
		</item>
	</BOUCLE_10recents>
	<BOUCLE_tres_recents(ARTICLES){lang ?}{branche ?}{par date}{inverse}{age<3}{unique}>
		<item>
		<title>[(#TITRE|texte_backend)]</title>
		<link>#URL_SITE_SPIP/#URL_ARTICLE</link>
		<date>#DATE</date>
		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_ARTICLE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#INTRODUCTION|texte_backend)]</description>
		<author><BOUCLE_auteurs_t(AUTEURS){id_article}{","}>[(#NOM|texte_backend)]</BOUCLE_auteurs_t></author>
		<dc:date>[(#DATE|date_iso)]</dc:date>
		<dc:format>text/html</dc:format>
		<dc:language>#LANG</dc:language>
		<dc:creator><BOUCLE_auteurs_tb(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteurs_tb></dc:creator>
		</item>
	</BOUCLE_tres_recents>

</channel>

</rss>

--- NEW FILE: breve.html ---
<BOUCLE_breve_principal(BREVES) {id_breve}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>#TITRE</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white" dir="#LANG_DIR">


<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>

<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]

<!-- Menu de navigation rubriques -->

<div class="menu">
<ul class="rubriques">
<BOUCLE_rubrique(RUBRIQUES) {id_rubrique}>
<li>
<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
</li>
<BOUCLE_autres_rubriques(RUBRIQUES) {racine} {exclus} {par titre}>
	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_autres_rubriques>
</BOUCLE_rubrique>
</ul>
</div>


<!-- Menu de navigation mots-cles -->

<B_mots>
<div class="menu">
<ul class="divers" title="<:mots_clefs:>">
<BOUCLE_mots(MOTS) {id_article} {par titre}>
<li>
<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_breves_mots>
	<ul class="menu-liste">
<BOUCLE_breves_mots(BREVES) {id_mot} {par hasard} {0,4}>
	<li class="menu-item"><a href="#URL_BREVE">#TITRE</a></li>
</BOUCLE_breves_mots>
	</ul>
</B_breves_mots>
</li>
</BOUCLE_mots>
</ul>
</div>
</B_mots>


<!-- Articles dans le meme secteur -->

<B_articles_secteur>

<div class="menu">
<div class="breves" title="<:derniers_articles:>">
	<div class="menu-titre">
	<:derniers_articles:>
	</div>
	<ul>
<BOUCLE_articles_secteur(ARTICLES) {id_secteur} {par date} {inverse} {0,5}>
	<li class="menu-item">
	<a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a>
	</li>
</BOUCLE_articles_secteur>
	</ul>
</div>
</div>

</B_articles_secteur>


</div>

<!-- Contenu : corps de la breve -->

<div class="contenu" id="principal">

<div id="cartouche">
[(#LOGO_BREVE|left)]
<h1 class="titre-texte">#TITRE</h1>
[(#DATE|nom_jour)] [(#DATE|affdate).]
</div>

	<div class="encart">

	<!-- Breves dans la meme rubrique -->

	<B_breves_rubrique>

	<div class="menu">
	<div class="breves" title="<:meme_rubrique:>">
		<h1 class="structure"><:meme_rubrique:></h1>
		<div class="menu-titre">
		<:autres_breves:>
		</div>
		<ul>
	<BOUCLE_breves_rubrique(BREVES) {id_rubrique} {exclus} {par date} {inverse} {0,8}>
		<li class="menu-item">
		<i>[(#DATE|affdate_court)]</i>:
		<a href="#URL_BREVE">#TITRE</a>
		</li>
	</BOUCLE_breves_rubrique>
		</ul>
	</div>
	</div>

	</B_breves_rubrique>

	</div>


[<div class="texte">(#TEXTE)</div>]
[<div class="chapo"><:voir_en_ligne:>: <a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a>.</div>]
[<div class="notes">(#NOTES)</div>]

<br>


<!-- Forums -->

[<div class="forum-repondre"><B><A  HREF="forum.php3?(#PARAMETRES_FORUM)"><:repondre_breve:></A></B></div>]
<br>

<h1 class="structure"><:forum:></h1>

<B_forums>
<ul class="forum-total">

<BOUCLE_forums(FORUMS){id_breve}{par date}{inverse}>

<li>
<div class="forum-fil">
<div class="forum">
<a name="forum#ID_FORUM"></a>
<div class="forum-chapo">
<div class="forum-titre">#TITRE</div>
[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
</div>
<div class="forum-item">
#TEXTE
[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
</div>
</div>

<B_forums_fils>
	<ul>
	<BOUCLE_forums_fils(FORUMS){id_parent}{par date}>

	<li>
	<div class="forum">
	<a name="forum#ID_FORUM"></a>
	<div class="forum-chapo">
	<div class="forum-titre">#TITRE</div>
	[(#DATE|affdate)][, par <A HREF="mailto:#EMAIL">(#NOM)</A>]
	</div>
	<div class="forum-item">
	#TEXTE
	[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
	[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
	</div>

	</div>

	<BOUCLE_Forums_Boucle(boucle_forums_fils)></BOUCLE_Forums_Boucle>
	</li>

	</BOUCLE_forums_fils>
	</ul>
</B_forums_fils>

</div>
</li>
</BOUCLE_forums>

</ul>
</B_forums>

</div>

</body></html>
</BOUCLE_breve_principal>

--- NEW FILE: distrib.html ---
document.write('<table border="0" bgcolor="#000000" cellspacing="0" cellpadding="0"><tr><td>');
document.write('<table border="0" bgcolor="#ffffff" cellspacing="1" cellpadding="2"><tr><td bgcolor="#d0d0d0" align="center">');
document.write('<a href="#URL_SITE_SPIP/"><b>[(#NOM_SITE_SPIP|addslashes)]</b></a>&nbsp;</td></tr><tr><td><ul><small>');
<BOUCLE_articles(articles){tout}{par date}{inverse}{0,10}>
document.write('<li><a href="#URL_SITE_SPIP/#URL_ARTICLE"><font color="#000000">[(#TITRE|addslashes)]</font></a></li>\n');
</BOUCLE_articles>
document.write('</small></ul></td></tr></table></td></tr></table>');

--- NEW FILE: forum.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[#NOM_SITE_SPIP] <:poster_message:></title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
</head>

<body bgcolor="white" dir="#LANG_DIR">


<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>

</div>


<!-- Contenu : poster un message dans le forum -->

<div id="principal" class="contenu">

<h1 class="structure"><:poster_message:></h1>

<BOUCLE_article(ARTICLES) {id_article}>
	<:en_reponse:>
	[(#LOGO_ARTICLE|right)]
	[<div class="surtitre">(#SURTITRE)</div>]
	<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
	[<div class="surtitre">(#SOUSTITRE)</div>]
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
	</div>
	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
	<br>
</BOUCLE_article>

<BOUCLE_breve(BREVES) {id_breve}>
	<:en_reponse:>
	[(#LOGO_BREVE|right)]
	<h2 class="titre-extrait"><a href="#URL_BREVE">#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	</div>
	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
	<br>
</BOUCLE_breve>

<BOUCLE_rubrique(RUBRIQUES) {id_rubrique}>
	<:en_reponse:>
	<h2 class="titre-extrait"><a href="#URL_RUBRIQUE">#TITRE</a></h2>
	[<div class="texte"><div class="extrait">(#TEXTE)</div></div>]
	<br>
</BOUCLE_rubrique>

<BOUCLE_syndic(SITES) {id_syndic}>
	<:en_reponse:>
	<h2 class="titre-extrait"><a href="#URL_SYNDIC">#TITRE</a></h2>
	<br>
</BOUCLE_syndic>

<BOUCLE_forum_parent(FORUMS) {id_forum}>
	<:en_reponse:>
	<h2 class="titre-extrait"><a href="#URL_FORUM">#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	</div>
	[<div class="texte"><div class="extrait">(#TEXTE)</div></div>]
	<br>
</BOUCLE_forum_parent>


#FORMULAIRE_FORUM


</div>

</body>
</html>

--- NEW FILE: ical.html ---
BEGIN:VCALENDAR
CALSCALE:GREGORIAN
X-WR-CALNAME;VALUE=TEXT:[(#NOM_SITE_SPIP|filtrer_ical)]
X-WR-RELCALID:[(#URL_SITE_SPIP|filtrer_ical)]
<BOUCLE_articles(ARTICLES){par date}{inverse}{0,100}>
BEGIN:VEVENT
SUMMARY:[(#TITRE|filtrer_ical)] [[(#NOM_SITE_SPIP|filtrer_ical)]]
UID:article#ID_ARTICLE @ [(#URL_SITE_SPIP|filtrer_ical)]
DTSTAMP:[(#DATE|date_ical)]
DTSTART:[(#DATE|date_ical)]
DTEND:[(#DATE|date_ical{60})]
CATEGORIES:<:articles|filtrer_ical:>
URL:#URL_SITE_SPIP/#URL_ARTICLE
STATUS:CONFIRMED
END:VEVENT
</BOUCLE_articles>
<BOUCLE_breves(BREVES){par date}{inverse}{0,100}>
BEGIN:VEVENT
SUMMARY:[(#TITRE|filtrer_ical)] [[(#NOM_SITE_SPIP|filtrer_ical)]]
UID:breve#ID_BREVE @ [(#URL_SITE_SPIP|filtrer_ical)]
DTSTAMP:[(#DATE|date_ical)]
DTSTART:[(#DATE|date_ical)]
DTEND:[(#DATE|date_ical{60})]
CATEGORIES:<:breves|filtrer_ical:>
URL:#URL_SITE_SPIP/#URL_BREVE
STATUS:CONFIRMED
END:VEVENT
</BOUCLE_breves>
END:VCALENDAR

--- NEW FILE: login.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
	<title><:login_acces_prive:></title>
	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
	<link rel="stylesheet" href="spip_style.css" type="text/css">
</head>
<body dir="#LANG_DIR" bgcolor="#ffffff" text="#000000" link="#e86519" vlink="#6e003a" alink="#ff9900">

<br><br><br><center><table width="400"><tr><td width="400">
<div align="center">
<h3 class="spip">#NOM_SITE_SPIP<br>
<small><:login_acces_prive:></small></h3>
<div align="#LANG_RIGHT">#MENU_LANG_ECRIRE</div>
</div>

#LOGIN_PRIVE

<div align='center' style='font-family: Verdana,arial,helvetica,sans-serif; font-size: 12px;'>
[&#91;<a
	href='(#ENV{inscription})?mode=redac&amp;focus=nom_inscription'
	target="spip_pass"
	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=500'); return false;"><:login_sinscrire:></a>&#93;]

&#91;<a
	href="spip_pass.php3"
	target="spip_pass" 
	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=280'); return false;"><:login_motpasseoublie:></a>&#93;

&#91;<a href='#URL_SITE_SPIP'><:login_retoursitepublic:></a>&#93

</div>

</td></tr></table></center>

</body>
</html>

--- NEW FILE: mot.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<BOUCLE_mot_principal(MOTS) {id_mot} {doublons}>

<html lang="#LANG">
<head>
<title>[(#TITRE|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


<!-- Menu de navigation mots-cles : les autres mots cles du meme groupe-->

<B_mots_freres>
<h2 class="structure"><:mots_clefs_meme_groupe:></h2>

<div class="menu">
<div class="divers">
<div class="menu-titre"><BOUCLE_groupe(GROUPES_MOTS) {id_groupe} {doublons}>#TITRE</BOUCLE_groupe></div>
	<ul class="menu-liste">
<BOUCLE_mots_freres(MOTS) {type} {doublons} {par titre}>
	<li class="menu-item"><a href="#URL_MOT" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
</BOUCLE_mots_freres>
	</ul>
</div>
</div>
</B_mots_freres>


<!-- Menu de navigation mots-cles : les autres groupes avec un lien sur le premier mot du groupe -->

<B_groupes_freres>
<h2 class="structure"><:autres_groupes_mots_clefs:></h2>

<div class="menu">
<div class="divers">
<div class="menu-titre"><:autres_groupes_mots_clefs:></div>
	<ul class="menu-liste">
<BOUCLE_groupes_freres(GROUPES_MOTS) {par titre} {doublons}>
<BOUCLE_mot_cousin(MOTS) {id_groupe} {par titre} {0,1}>
	<li class="menu-item"><a href="#URL_MOT">#TYPE</a></li>
</BOUCLE_mot_cousin>
</BOUCLE_groupes_freres>
	</ul>
</div>
</div>
</B_groupes_freres>


</div>

<!-- Une : contenu du mot-cle -->

<div class="contenu" id="principal">

<div class="cartouche">
[(#LOGO_MOT|left)]
<h1 class="titre-texte">#TITRE</h1>
</div>

	<div class="encart">

	<!-- Rubriques liees au mot-cle -->

	<B_rubriques>
	<h2 class="structure"><:rubriques:></h2>

	<div class="menu">
	<div class="rubriques">
	<div class="menu-titre"><:rubriques:></div>
		<ul class="menu-liste">
	<BOUCLE_rubriques(RUBRIQUES) {id_mot} {par titre}>
		<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
	</BOUCLE_rubriques>
		</ul>
	</div>
	</div>
	</B_rubriques>

	<!-- Breves liees au mot-cle -->

	<B_breves>
	<h2 class="structure"><:breves:></h2>

	<div class="menu">
	<div class="breves">
	<div class="menu-titre"><:breves:></div>
		<ul class="menu-liste">
	<BOUCLE_breves(BREVES) {id_mot} {par titre}>
		<li class="menu-item"><a href="#URL_BREVE">#TITRE</a></li>
	</BOUCLE_breves>
		</ul>
	</div>
	</div>
	</B_breves>

	<!-- Sites Web lies au mot-cle -->

	<B_sites>
	<h2 class="structure"><:sites_web:></h2>

	<div class="menu">
	<div class="breves">
	<div class="menu-titre"><:sites_web:></div>
		<ul class="menu-liste">
	<BOUCLE_sites(SITES) {id_mot} {par nom_site}>
		<li class="menu-item"><a href="#URL_SITE">#TITRE</a></li>
	</BOUCLE_sites>
		</ul>
	</div>
	</div>
	</B_sites>

	</div>

[<div class="chapo">(#TEXTE)</div>]
[<div class="notes">(#NOTES)</div>]


<!-- Articles lies au mot-cle -->

<h1 class="structure"><:articles:></h1>

<div class="liste-articles">

<BOUCLE_articles(ARTICLES) {id_mot} {par titre}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs><:par_auteur:> <BOUCLE_auteurs(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs>
	</div>
	<br>
</BOUCLE_articles>

</div>
</div>

</body>
</html>
</BOUCLE_mot_principal>
<//B_mot_principal>

--- NEW FILE: nouveautes.html ---
[[(#NOM_SITE_SPIP|textebrut|texte_script)]] <:nouveautes|texte_script:>

<B0>
<:bonjour|texte_script:>

<:texte_lettre_information|texte_script:> "[(#NOM_SITE_SPIP|textebrut|texte_script)]" (#URL_SITE_SPIP).
<:texte_lettre_information_2|texte_script:> [(#ENV{jours_neuf})] <:jours|texte_script:>.

<BOUCLE0(AUTEURS){0,1}><B_nv1>
          <:nouveaux_articles|texte_script:>
          --------------------------

<BOUCLE_nv1(ARTICLES){age_relatif<=0}{par date}{inverse}{0,30}>
[** (#TITRE|textebrut|texte_script) **]
[par (#LESAUTEURS|textebrut|texte_script)]
[le (#DATE|affdate|texte_script)]

[(#INTRODUCTION|textebrut|texte_script)]

-> #URL_SITE_SPIP/#URL_ARTICLE

</BOUCLE_nv1><B_nv2>
          
          <:nouvelles_breves|texte_script:>
          --------------------------

<BOUCLE_nv2(BREVES){age_relatif<=0}{par date}{inverse}{0,30}>
[* (#TITRE|textebrut|texte_script) *]
[ - (#DATE|affdate|texte_script)]

[(#INTRODUCTION|textebrut|texte_script)]

-> #URL_SITE_SPIP/#URL_BREVE

</BOUCLE_nv2></BOUCLE0>
--- NEW FILE: plan.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[#NOM_SITE_SPIP] </title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
</head>

<body bgcolor="white" dir="#LANG_DIR">


<!-- Plan du site -->

<div id="plan" class="contenu">

<BOUCLE_secteurs(RUBRIQUES) {racine} {par titre}>

<div class="plan-secteur">

	[(#LOGO_RUBRIQUE|left)]<h1><a href="#URL_RUBRIQUE">#TITRE</a></h1>

	<div class="encart">

	<!-- Breves -->

	<h2 class="structure"><:breves:></h2>

	<B_breves>
	<div class="menu">
	<div class="breves">
		<div class="menu-titre">
		<:breves:>
		</div>
		<ul>
	<BOUCLE_breves(BREVES) {id_secteur} {par date} {inverse} {0,15}>
		<li class="menu-item">
		<i>[(#DATE|affdate_court)]</i>:
		<a href="#URL_BREVE">#TITRE</a>
		</li>
	</BOUCLE_breves>
		</ul>
	</div>
	</div>
	</B_breves>

	<!-- Sur le Web -->

	<h2 class="structure"><:sites_web:></h2>

	<B_sites>
	<div class="menu">
	<div class="divers">
		<div class="menu-titre">
		<:sur_web:>
		</div>
		<ul>
	<BOUCLE_sites(SITES) {id_secteur} {par nom_site}>
		<li class="menu-item">
		<a href="#URL_SITE">#NOM_SITE</a>
		</li>
	</BOUCLE_sites>
		</ul>
	</div>
	</div>
	</B_sites>

	</div>

<!-- Articles et sous-rubriques -->

<h2 class="structure"><:articles:></h2>

<B_articles_racine>
<ul class="plan-articles">

<BOUCLE_articles_racine(ARTICLES) {id_rubrique} {par titre}>
<li class="plan-article"><a href="#URL_ARTICLE">#TITRE</a></li>
</BOUCLE_articles_racine>

</ul>
</B_articles_racine>

<B_rubriques>

<ul class="plan-rubriques">

<BOUCLE_rubriques(RUBRIQUES) {id_parent} {par titre}>
<li>
<div class="plan-rubrique"><a href="#URL_RUBRIQUE">#TITRE</a></div>

	<B_articles>
	<ul class="plan-articles">
	<BOUCLE_articles(ARTICLES) {id_rubrique} {par titre}>
	<li class="plan-article"><a href="#URL_ARTICLE">#TITRE</a></li>
	</BOUCLE_articles>
	</ul>
	</B_articles>

	<BOUCLE_sous_rubriques(BOUCLE_rubriques)></BOUCLE_sous_rubriques>

</li>
</BOUCLE_rubriques>

</ul>
</B_rubriques>


</div>

</BOUCLE_secteurs>

</div>

</body>
</html>

--- NEW FILE: recherche.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html lang="#LANG">
<head>
<title><:resultats_recherche:></title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


<!-- Rubriques trouvees -->

<B_rubriques>
<div class="menu">
<ul class="rubriques" title="<:rubriques:>">
<li class="menu-titre"><:rubriques:></li>
<BOUCLE_rubriques(RUBRIQUES) {recherche} {par points} {inverse} {0,8}>
<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_rubriques>
</ul>
</div>
</B_rubriques>


<!-- Mots-cles trouves et articles associes-->

<B_mots>
<div class="menu">
<ul class="divers" title="<:mots_clefs:>">
<BOUCLE_mots(MOTS) {recherche} {par points} {inverse} {0,5}>
<li>
<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_articles_mots>
	<ul class="menu-liste">
<BOUCLE_articles_mots(ARTICLES) {id_mot} {par hasard} {0,8}>
	<li class="menu-item"><a href="#URL_ARTICLE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
</BOUCLE_articles_mots>
	</ul>
</B_articles_mots>
</li>
</BOUCLE_mots>
</ul>
</div>
</B_mots>

</div>

<!-- Une : articles trouves -->

<div class="contenu" id="principal">

<div class="cartouche">
<h1 class="surtitre"><:resultats_recherche:></h1>
[<h2 class="titre-texte">(#RECHERCHE)</h2>]
</div>

	<div class="encart">

	<!-- Breves trouvees -->

	<B_breves>

	<div class="menu">
	<div class="breves" title="Br&egrave;ves trouv&eacute;es">
		<div class="menu-titre">
		<:breves:>
		</div>
		<ul>
	<BOUCLE_breves(BREVES) {recherche} {par points} {inverse} {0,8}>
		<li class="menu-item">
		<i>[(#DATE|affdate_court)]</i>:
		<a href="#URL_BREVE">#TITRE</a>
		</li>
	</BOUCLE_breves>
		</ul>
	</div>
	</div>

	</B_breves>

	<!-- Sites Web trouves -->

	<B_sites>
	<div class="menu">
	<div class="divers" title="Sites Web trouv&eacute;s">
		<div class="menu-titre">
		<:sites_web:>
		</div>
		<ul>
	<BOUCLE_sites(SITES) {recherche} {par points} {inverse} {0,8}>
		<li class="menu-item">
		<a href="#URL_SITE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#NOM_SITE</a>
		</li>
	</BOUCLE_sites>
		</ul>
	</div>
	</div>
	</B_sites>

	<!-- Messages trouves -->

	<B_messages>
	<div class="menu">
	<div class="divers" title="<:messages_forum:>">
		<div class="menu-titre">
		<:messages_forum:>
		</div>
		<ul>
	<BOUCLE_messages(FORUMS) {recherche} {par points} {inverse} {0,8}>
		<li class="menu-item">
		<a href="#URL_FORUM">#TITRE</a>
		</li>
	</BOUCLE_messages>
		</ul>
	</div>
	</div>
	</B_messages>

	</div>


<div class="liste-articles">

<BOUCLE_articles(ARTICLES) {recherche} {par points} {inverse} {0,10}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_articles><:par_auteur:> <BOUCLE_auteurs_articles(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_articles>
	</div>
	<br>
</BOUCLE_articles>

</div>

</div>

</body>
</html>


--- NEW FILE: resume.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[#NOM_SITE_SPIP] </title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]

<!-- Liens des forums -->
<B_forums_liens>
<div class="menu" title="<:derniers_messages_forum:>">
	<h1 class="structure"><:messages_recents:></h1>
	<div class="forums">
	<div class="menu-titre">
	<:derniers_commentaires:>
	</div>
	<ul>
<BOUCLE_forums_liens(FORUMS){plat}{par date}{inverse}{0,15}>
        <li class="menu-item">[<i>(#DATE|affdate_court)</i>:]
        <a href="#URL_FORUM">#TITRE</a>
        </li>
</BOUCLE_forums_liens>
	</ul>
	</div>
</div>
</B_forums_liens>


</div>

<!-- Une : articles les plus populaires -->

<div id="principal" class="contenu">

<h1 class="structure"><:articles_populaires:></h1>

<BOUCLE_article_un(ARTICLES) {par popularite} {inverse} {0,2}>
	[(#LOGO_ARTICLE_RUBRIQUE|right|#URL_ARTICLE)]
	[<div class="surtitre">(#SURTITRE)</div>]
	<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
	[<div class="surtitre">(#SOUSTITRE)</div>]
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
	[<br><:popularite:>&nbsp;: <span class="important">(#POPULARITE)</span> %]
	</div>
	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
	<br>
</BOUCLE_article_un>


	<div class="encart">

	<!-- <:sur_web:> -->

	<h1 class="structure"><:nouveautes_web:></h1>

	<B_syndic>
	<div class="menu">
	<div class="divers">
		<div class="menu-titre">
		<:sur_web:>
		</div>
		<ul>
	<BOUCLE_syndic(SYNDIC_ARTICLES) {par date} {inverse} {0,15}>
		<li class="menu-item">
		[<i>(#DATE|affdate_court)</i>:]
		<a href="#URL_ARTICLE">[(#TITRE*)]</a>
		</li>
	</BOUCLE_syndic>
		</ul>
	</div>
	</div>
	</B_syndic>

	</div>


<h1 class="structure"><:articles_populaires:> (<:suite:>)</h1>

<!-- Articles les plus populaires (suite) -->

<BOUCLE_articles_populaires(ARTICLES) {par popularite} {inverse} {2,8}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents><br>
	<:popularite:>&nbsp;: <span class="important">#POPULARITE</span> %
	</div>
	<br>
</BOUCLE_articles_populaires>


</div>

</body>
</html>



--- NEW FILE: rubrique.html ---
<BOUCLE_rubrique_principal(RUBRIQUES) {id_rubrique}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[(#TITRE|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">

<!-- Lien vers le backend pour navigateurs eclaires -->
<link rel="alternate" type="application/rss+xml" title="<:syndiquer_rubrique:>" href="backend.php3?id_rubrique=#ID_RUBRIQUE">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


<!-- Menu de navigation rubriques -->

<div class="menu">
<ol class="rubriques" title="<:hierarchie_site:>">
<BOUCLE_hierarchie(HIERARCHIE) {id_rubrique} {tout}>
<li>
<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_rubriques_soeurs>
	<ul class="menu-liste">
<BOUCLE_rubriques_soeurs(RUBRIQUES) {meme_parent} {exclus} {par titre}>
	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_rubriques_soeurs>
	</ul>
</B_rubriques_soeurs>
</li>
</BOUCLE_hierarchie>
</ol>
</div>


<!-- Breves dans la rubrique -->

<B_breves_rubrique>

<div class="menu">
<div class="breves" title="<:dernieres_breves:>">
	<div class="menu-titre">
	<:breves:>
	</div>
	<ul>
<BOUCLE_breves_rubrique(BREVES) {id_secteur} {par date} {inverse} {0,5}>
	<li class="menu-item">
	<i>[(#DATE|affdate_court)]</i>:
	<a href="#URL_BREVE">#TITRE</a>
	</li>
</BOUCLE_breves_rubrique>
	</ul>
</div>
</div>

</B_breves_rubrique>


</div>


<!-- Une : contenu de la rubrique -->

<div class="contenu" id="principal">

<div class="cartouche">
[(#LOGO_RUBRIQUE|left)]
<h1 class="titre-texte">#TITRE</h1>
[<:dernier_ajout:> : (#DATE|nom_jour)] [(#DATE|affdate).]
</div>

	<div class="encart">

	<!-- Menu de navigation mots-cles -->

	<B_mots>
	<h2 class="structure"><:mots_clefs:></h2>

	<div class="menu">
	<ul class="divers" title="<:mots_clefs:>">
	<BOUCLE_mots(MOTS) {id_rubrique} {par titre}>
	<li>
	<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
	<B_rubriques_mots>
		<ul class="menu-liste">
	<BOUCLE_rubriques_mots(RUBRIQUES) {id_mot} {par hasard} {0,4}>
		<li class="menu-item"><a href="#URL_RUBRIQUE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
	</BOUCLE_rubriques_mots>
		</ul>
	</B_rubriques_mots>
	</li>
	</BOUCLE_mots>
	</ul>
	</div>
	</B_mots>

	<!-- Sous-rubriques -->

	<B_sous_rubriques>
	<h2 class="structure"><:sous_rubriques:></h2>

	<div class="menu">
	<ul class="rubriques" title="<:sous_rubriques:>">
	<BOUCLE_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
	<li>
	<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
	<B_sous_sous_rubriques>
		<ul class="menu-liste">
	<BOUCLE_sous_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
		<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
	</BOUCLE_sous_sous_rubriques>
		</ul>
	</B_sous_sous_rubriques>
	</li>
	</BOUCLE_sous_rubriques>
	</ul>
	</div>
	</B_sous_rubriques>
	
	<!-- Sites syndiques -->
	
	<B_sites>
	<div class="menu">
	<div class="divers">
		<div class="menu-titre">
		<:sur_web:>
		</div>
		<ul>
	<BOUCLE_sites(SITES) {id_rubrique} {par nom_site}>
		<li class="menu-item">
		<a href="#URL_SITE">#NOM_SITE</a>
		<B_syndic>
		<ul class="menu-liste">
		<BOUCLE_syndic(SYNDIC_ARTICLES) {id_syndic} {par date} {inverse} {0,3}>
			<li class="menu-item"><small><a href="#URL_ARTICLE">#TITRE</a></small></li>
		</BOUCLE_syndic>
		</ul>
		</B_syndic>
		</li>
	</BOUCLE_sites>
		</ul>
	</div>
	</div>
	</B_sites>
	[
<div class="menu">
    <div class="divers">
      <div class="menu-titre"><:proposer_site:>
	<div class='reponse_formulaire'>(#FORMULAIRE_SITE)</div>
      </div>
    </div>
</div>
]
	</div>

[<div class="chapo">(#TEXTE)</div>]
[<div class="notes">(#NOTES)</div>]

<BOUCLE_documents_joints(DOCUMENTS) {id_rubrique} {mode=document} {doublons} {"<br>"}>
[(#LOGO_DOCUMENT|#URL_DOCUMENT)][<br>(#TITRE)][ - (#DESCRIPTIF)]
</BOUCLE_documents_joints>
<br>

<!-- Articles de la rubrique -->

<h1 class="structure"><:articles_rubrique:></h1>

<div class="liste-articles">

<BOUCLE_articles_recents(ARTICLES) {id_rubrique} {par titre}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents>
	</div>
	<br>
</BOUCLE_articles_recents>


</div>


</div>

</body>
</html>
</BOUCLE_rubrique_principal>

--- NEW FILE: site.html ---
<BOUCLE_site(SITES){id_syndic}
><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">


<html lang="#LANG">
<head>
<title>[(#NOM_SITE|textebrut)]</title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
<link rel="stylesheet" href="impression.css" type="text/css" media="print">
</head>

<body bgcolor="white">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>


<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]


</div>

<!-- Une : affichage du site -->

<div class="contenu" id="principal">

<div class="cartouche">
[(#LOGO_SITE|left)]
<h1 class="titre-texte"><a href="#URL_SITE">#NOM_SITE</a></h1>

[<div class="chapo">(#DESCRIPTIF)</div>]
[<div class="notes">(#NOTES)</div>]
</div>


<!-- Articles du site -->

<h1 class="structure"><:articles:></h1>

<div class="liste-articles">

<BOUCLE_articles(SYNDIC_ARTICLES) {id_syndic} {par date}{inverse}{0,10}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	</div>
	<br>
</BOUCLE_articles>

</div>

</div>

</body>
</html>


</BOUCLE_site>

--- NEW FILE: sommaire.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<head>
<title>[#NOM_SITE_SPIP] </title>
<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">

<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
<link rel="stylesheet" href="spip_style.css" type="text/css">

<!-- Les feuilles de style specifiques aux presents squelettes -->
<link rel="stylesheet" href="typographie.css" type="text/css">

<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">

<!-- Lien vers le backend pour navigateurs eclaires -->
<link rel="alternate" type="application/rss+xml" title="<:syndiquer_site:>" href="backend.php3">
</head>

<body bgcolor="white" dir="#LANG_DIR">

<div id="navigation">

<h1 class="structure"><:navigation:></h1>

<!-- Menu de navigation general -->

<div class="menu">
<ul class="general">
	<li class="menu-titre">
	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
	</li>
	<li class="menu-item">
	<a href="plan.php3"><:plan_site:></a>
	</li>
	<li class="menu-item">
	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
	</li>
	<li class="menu-item">
	<a href="ecrire/"><:espace_prive:></a>
	</li>
</ul>
</div>

<!-- Formulaire de recherche -->

[(#FORMULAIRE_RECHERCHE)]

<!-- Menu de navigation rubriques -->

<B_rubriques>
<div class="menu">
<ul class="rubriques">
<BOUCLE_rubriques(RUBRIQUES) {racine} {par titre}>
<li>
<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
<B_sous_rubriques>
	<ul class="menu-liste">
<BOUCLE_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
</BOUCLE_sous_rubriques>
	</ul>
</B_sous_rubriques>
</li>
</BOUCLE_rubriques>
</ul>
</div>
</B_rubriques>

<!-- Logo SPIP -->

<a href="http://www.spip.net"><img src="IMG/logo_spip.jpg" width="105" height="92" border="0" alt="<:site_realise_avec_spip:>"></a>

</div>


<div id="principal" class="contenu">

	<!-- Une : derniers articles publies -->
	
	<h1 class="structure"><:derniers_articles:></h1>
	
	<BOUCLE_article_un(ARTICLES) {par date} {inverse} {0,2}>
		[(#LOGO_ARTICLE_RUBRIQUE|right)]
		[<div class="surtitre">(#SURTITRE)</div>]
		<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
		[<div class="surtitre">(#SOUSTITRE)</div>]
		<div class="detail">
		[(#DATE|nom_jour)] [(#DATE|affdate)]
		<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
		</div>
		[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
		<br>
	</BOUCLE_article_un>


	<div class="encart">

	<!-- Breves -->

	<h1 class="structure"><:dernieres_breves:></h1>

	<B_breves>
	<div class="menu">
	<div class="breves">
		<div class="menu-titre">
		<:breves:>
		</div>
		<ul>
	<BOUCLE_breves(BREVES) {par date} {inverse} {0,8}>
		<li class="menu-item">
		<i>[(#DATE|affdate_court)]</i>:
		<a href="#URL_BREVE">#TITRE</a>
		</li>
	</BOUCLE_breves>
		</ul>
	</div>
	</div>
	</B_breves>

	<!-- Sur le Web -->

	<h1 class="structure"><:nouveautes_web:></h1>

	<B_syndic>
	<div class="menu">
	<div class="divers">
		<div class="menu-titre">
		<:sur_web:>
		</div>
		<ul>
	<BOUCLE_syndic(SYNDIC_ARTICLES) {par date} {inverse} {0,8}>
		<li class="menu-item">
		<a href="#URL_ARTICLE">[(#TITRE*)]</a>
		</li>
	</BOUCLE_syndic>
		</ul>
	</div>
	</div>
	</B_syndic>

	[<!-- Inscription au site -->

		<div class="formulaire"><:participer_site:>
			<br /><br />(#FORMULAIRE_INSCRIPTION)
		</div>]

	</div>


<h1 class="structure"><:articles_recents:></h1>

<!-- Articles recents -->

<BOUCLE_articles_recents(ARTICLES) {par date} {inverse} {2,8}>
	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
	<div class="detail">
	[(#DATE|nom_jour)] [(#DATE|affdate)]
	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents>
	</div>
	<br>
</BOUCLE_articles_recents>


</div>

#SPIP_CRON
</body>
</html>

--- NEW FILE: sommaire_texte.html ---
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="#LANG">
<!--
// ACCESSIBILITE
// la page /oo offre une lecture en mode "texte seul"
// des 3 articles les plus recents.
-->
<head>
	<title>
		#NOM_SITE_SPIP
	</title>
	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
	<meta http-equiv="AUTHOR" content="#NOM_SITE_SPIP">
	<meta http-equiv="DESCRIPTION" content="Edition en mode texte de #NOM_SITE_SPIP">
</head>
<body dir="#LANG_DIR">
	<hr />
	<:edition_mode_texte:> <a href="#URL_SITE_SPIP">{#NOM_SITE_SPIP}</a>
	<hr />
	<b><u>Sommaire de la page :</u></b>

	<B_sarticles>
	<h2>Articles</h2>
	<ul>
		<BOUCLE_sarticles(ARTICLES){0,3}{par date}{inverse}>
			<li><a href="#ar#ID_ARTICLE">#TITRE</a>
		</BOUCLE_sarticles>
	</ul>
	</B_sarticles>

	<B_sbreves>
	<h2>Br&egrave;ves</h2>
	<ul>
		<BOUCLE_sbreves(BREVES){0,5}{par date}{inverse}>
			<li><a href="#br#ID_BREVE">#TITRE</a>
		</BOUCLE_sbreves>
	</ul>
	</B_sbreves>


	<B_articles>
	<h1>Articles r&eacute;cents</h1>

	<BOUCLE_articles(ARTICLES){0,3}{par date}{inverse}>
		<a name="ar#ID_ARTICLE"></a>
		<BOUCLE_RUB_AR(RUBRIQUES){ID_RUBRIQUE}>
			Rubrique : <a href="#URL_RUBRIQUE">{#TITRE}</a>
		</BOUCLE_RUB_AR>

		[<h2>(#SURTITRE|majuscules)</h2>]
		<h2>#TITRE</h2>
		<h3>#SOUSTITRE</h3>
		[Le (#DATE|nom_jour) ] [(#DATE|affdate)]
		[par (#LESAUTEURS)]
		<p>
		[(#CHAPO)]
		<p>
		[(#TEXTE)]

		
		<p><a href="#URL_ARTICLE">{Consulter}</a> l'article avec son forum. 

		
		<hr />
	</BOUCLE_articles>

	<B_breves>
	<h1>Derni&egrave;res br&egrave;ves</h1>

	<BOUCLE_breves(BREVES){0,5}{par date}{inverse}>
		<a name="br#ID_BREVE">
		<BOUCLE_RUB_BR(RUBRIQUES){ID_RUBRIQUE}>
			Rubrique : <a href="#URL_RUBRIQUE">{#TITRE}</a>
		</BOUCLE_RUB_BR>
		<h2>#TITRE</h2>
		[Le (#DATE|nom_jour) ] [(#DATE|affdate)]
		<p>
		[(#TEXTE)]
		[<p>Voir en ligne : <a href="(#URL_SITE)">#NOM_SITE</a>]
		<p><a href="#URL_BREVE">{Consulter}</a> la br&egrave;ve avec son forum. 
	<hr />
	</BOUCLE_breves>
	[<h1>NOTES :</h1>
	<p class="spip_note">(#NOTES)]
	
	<hr />
	<a name="about"></a>
	
	[<p>Rechercher sur ce site : (#FORMULAIRE_RECHERCHE|recherche.php3)</p>]
	<table><tr>
		<td><A href="http://www.uzine.net/spip">{Site r&eacute;alis&eacute; avec le logiciel SPIP}</td>
		[<td><A href="#URL_SITE_SPIP">{(#NOM_SITE_SPIP|majuscules)}</a></td>]
		<td><a href="#URL_SITE_SPIP/plan.php3">{<:plan_site:>}</a></td>
	</tr></table>

</body>
</html>



From mose at berlios.de  Tue Feb  8 16:10:15 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 16:10:15 +0100
Subject: [Spip-carto-cvs] spipcarto/oo index.php,NONE,1.1 index.php3,NONE,1.1
Message-ID: <200502081510.j18FAF8Y005878@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/oo
In directory sheep:/tmp/cvs-serv5765/oo

Added Files:
	index.php index.php3 
Log Message:
update a partir de spipcarto_proto1.3.zip

--- NEW FILE: index.php ---
<?php

// ACCESSIBILITE
// la page /oo offre une lecture en mode "texte seul"
// des 3 articles les plus recents...

@header("Location: ../sommaire_texte.php3");

?>

--- NEW FILE: index.php3 ---
<?php

// ACCESSIBILITE
// la page /oo offre une lecture en mode "texte seul"
// des 3 articles les plus recents.

@header("Location: ../sommaire_texte.php3");

?>



From mose at berlios.de  Tue Feb  8 16:10:14 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 16:10:14 +0100
Subject: [Spip-carto-cvs] spipcarto/formulaires formulaire_admin.html,NONE,1.1 formulaire_ecrire_auteur.html,NONE,1.1 formulaire_forum.html,NONE,1.1 formulaire_inscription.html,NONE,1.1 formulaire_login.html,NONE,1.1 formulaire_menu_lang.html,NONE,1.1 formulaire_oubli.html,NONE,1.1 formulaire_recherche.html,NONE,1.1 formulaire_signature.html,NONE,1.1 formulaire_site.html,NONE,1.1 inc-formulaire_admin.php3,NONE,1.1 inc-formulaire_ecrire_auteur.php3,NONE,1.1 inc-formulaire_forum.php3,NONE,1.1 inc-formulaire_inscription.php3,NONE,1.1 inc-formulaire_recherche.php3,NONE,1.1 inc-formulaire_signature.php3,NONE,1.1 inc-formulaire_site.php3,NONE,1.1 inc-login_prive.php3,NONE,1.1 inc-login_public.php3,NONE,1.1 inc-menu_lang.php3,NONE,1.1 inc-menu_lang_ecrire.php3,NONE,1.1 inc-url_logout.php3,NONE,1.1
Message-ID: <200502081510.j18FAE8Y005865@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/formulaires
In directory sheep:/tmp/cvs-serv5765/formulaires

Added Files:
	formulaire_admin.html formulaire_ecrire_auteur.html 
	formulaire_forum.html formulaire_inscription.html 
	formulaire_login.html formulaire_menu_lang.html 
	formulaire_oubli.html formulaire_recherche.html 
	formulaire_signature.html formulaire_site.html 
	inc-formulaire_admin.php3 inc-formulaire_ecrire_auteur.php3 
	inc-formulaire_forum.php3 inc-formulaire_inscription.php3 
	inc-formulaire_recherche.php3 inc-formulaire_signature.php3 
	inc-formulaire_site.php3 inc-login_prive.php3 
	inc-login_public.php3 inc-menu_lang.php3 
	inc-menu_lang_ecrire.php3 inc-url_logout.php3 
Log Message:
update a partir de spipcarto_proto1.3.zip

--- NEW FILE: formulaire_admin.html ---
[<(#ENV{floatdiv}) class="spip-admin-float">]
<div class="spip-admin-bloc" dir='#LANG_DIR'>
<div class="spip-admin">
	<ul>[
	<li><a href='ecrire/articles.php3?id_article=(#ENV{id_article})' class='spip-admin-boutons'><:admin_modifier_article:> ([(#ENV{id_article})])</a></li>][
	<li><a href='ecrire/breves_voir.php3?id_breve=(#ENV{id_breve})' class='spip-admin-boutons'><:admin_modifier_breve:> ([(#ENV{id_breve})])</a></li>][
	<li><a href='ecrire/naviguer.php3?id_rubrique=(#ENV{id_rubrique})' class='spip-admin-boutons'><:admin_modifier_rubrique:> ([(#ENV{id_rubrique})])</a></li>][
	<li><a href='ecrire/mots_edit.php3?id_mot=(#ENV{id_mot})' class='spip-admin-boutons'><:admin_modifier_mot:> ([(#ENV{id_mot})])</a></li>][
	<li><a href='ecrire/auteurs_edit.php3?id_auteur=(#ENV{id_auteur})' class='spip-admin-boutons'><:admin_modifier_auteur:> ([(#ENV{id_auteur})])</a></li>]
	<li><a href='[(#ENV{action})]var_mode=recalcul' class='spip-admin-boutons'><:admin_recalculer:>[(#ENV{use_cache})]</a></li>[
	<li><a href='ecrire/(#ENV{statistiques})[id_article=(#ENV{id_article})]' class='spip-admin-boutons'>[<:info_visites:>&nbsp;(#ENV{visites})][;&nbsp;<:info_popularite_5:>&nbsp;(#ENV{popularite})]</a></li>][
	<li><a href='[(#ENV{action})]var_mode=(#ENV{debug})' class='spip-admin-boutons'><:admin_debug:></a></li>]
	</ul>
</div>
</div>
[</(#ENV{floatdiv})>]

--- NEW FILE: formulaire_ecrire_auteur.html ---
[<br />(#ENV*{sujetko})<:form_prop_indiquer_sujet:><br />&nbsp;][
<br />(#ENV*{mailko})<:form_prop_indiquer_email:><br /><br />
]<form action="[(#ENV{action})]" method='post'>
<p><label><:form_pet_votre_email:>
	<input type="text" class="forml" name="email_message_auteur"
		 value="[(#ENV{mail})]" size="30" />
</label></p>
<p><label><:form_prop_sujet:><br />
	<input type="text" class="forml" name="sujet_message_auteur"
		 value="[(#ENV{sujet})]" size="30" />
</label></p>
<p>
<textarea name='texte_message_auteur' rows='10' class='forml' cols='40'>[(#ENV{texte})]</textarea>
</p>
[<input type="hidden" name="id_auteur" value="(#ENV{id_auteur})" />]
<div align="right">
	<input type="submit"  class="spip_bouton" name="valide"
		 value="[(#ENV{valide})]" />
</div>
</form>

--- NEW FILE: formulaire_forum.html ---
<form action="[(#ENV{url})]" method="post" name="formulaire">[
<input type="hidden" name="alea" value="(#ENV{alea})" />][
<input type="hidden" name="hash" value="(#ENV{hash})" />][
<input type="hidden" name="retour_forum" value="(#ENV{retour_forum})" />
][<p>(#ENV*{modere})</p>
][(#ENV*{afficher_texte_hidden})
][(#ENV*{afficher_texte_input})
	[(#ENV*{previsu})
		<fieldset class="spip_encadrer">
		<legend><b><:forum_titre:></b></legend>
		<label><input type="text" name="titre" 
			[value="(#ENV{titre})" ]class="forml" size="40" />
		</label>
		</fieldset>
		<br />
		<fieldset class="spip_encadrer">
		<legend><b><:forum_texte:></b></legend>
		<p><:info_creation_paragraphe:></p>
		[(#ENV{texte}|barre_forum)]
		</fieldset>
		<br />
		[<p>(#ENV*{table})</p>]
		<fieldset class="spip_encadrer">
			<legend><:forum_lien_hyper:></legend>
			<p><:forum_page_url:></p>
			<p><label><:forum_titre:>
				<input type="text" name="nom_site_forum" class="forml" size="40"
					value="[(#ENV{nom_site_forum})]" />
			</label></p>
			<p><label><:forum_url:>
			<input type="text" name="url_site" class="forml" size="40"
				value="[(#ENV{url_site})]" />
			</label></p>
		</fieldset>
		<br />
		<fieldset class="spip_encadrer">
			<legend><:forum_qui_etes_vous:></legend>
			<p><label><:forum_votre_nom:>
				<input type="text" name="auteur" value="[(#ENV{auteur})]"
					class="forml" size="40" [(#ENV{disabled})] />
			</label></p>
			<p><label><:forum_votre_email:>
				<input type="text" name="email_auteur"
				value="[(#ENV{email_auteur})]"
				class="forml" size="40" [(#ENV{disabled})] />
			</label></p>
		</fieldset>
		<br />
		<div align="#LANG_RIGHT">
		<input type="submit" value="<:forum_voir_avant:>"
		class="spip_bouton" /></div>
	]
]</form>


--- NEW FILE: formulaire_inscription.html ---
[
(#ENV*{message})
][
(#ENV*{message}|?{'',' '})[
 (#ENV{mode}|=={forum}|?{' ',''})
	<:pass_forum_bla:><br /><br />
][
 (#ENV{mode}|=={redac}|?{' ',''})
	<:pass_espace_prive_bla:><br /><br />
]<:form_forum_indiquer_nom_email:>
 <form	id="inscription" method='post' action='#SELF'
	style='border: 0px; margin: 0px;'> 
      <fieldset style="border: none; font-weight: bold"><legend></legend>
	<label>
	  <:form_pet_votre_nom:>
	  <input type="text" class="forml" name="nom_inscription" value="" size="30" />
	</label>
	<label>
	  <:form_pet_votre_email:>
	  <input type="text" class="forml" name="mail_inscription" value="" size="30" />
	</label>
      </fieldset>
      <div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" />
	</div> 
 </form>[
<script type="text/javascript"><!--
document.inscription.(#ENV{focus}).focus()
--></script>
 ]
][<br />
<div align="right">
(#ENV{target}|?{' ',''})
<script type="text/javascript"><!--
document.write("<a href='")
document.write((window.opener) ? "javascript:close()" : "./")
document.write("'><:pass_quitter_fenetre:><" + "/a>");
//--></script>
<noscript>
        &#91;<a href='./'><:pass_retour_public:></a>&#93;
</noscript>
</div>
]

--- NEW FILE: formulaire_login.html ---
[(#ENV{echec_cookie})
	<h3 class="spip"><:erreur_probleme_cookie:></h3>
		<b><:login_cookie_oblige:></b>
		  <:login_cookie_accepte:><p />
][
(#ENV*{message})
	<br />
	 <:forum_vous_enregistrer:>
	[<a 
	href='(#ENV{inscription})?mode=forum&amp;focus=nom_inscription&amp;target=spip_pass'
	target="spip_pass"
	onclick="javascript:window.open(this.href, 'spip_inscription', 'scrollbars=yes, resizable=yes, width=480, height=450'); return false;"><:forum_vous_inscrire:></a>]&nbsp;&nbsp;&#91;<a
		href="spip_pass.php3"
		target="spip_pass" 
		onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=280'); return false;"><:login_motpasseoublie:></a>&#93;<br /><br />
]<div style="font-family: Verdana,arial,helvetica,sans-serif; font-size: 12px;">
	<script type="text/javascript" src="ecrire/md5.js"></script>
	<form	id="login[_(#ENV{login})]"
		action="[(#ENV{action2})]"
		method="post"[(#ENV{source}|=={spip}|?{' ',''})
		onSubmit='if (this.session_password.value) {
			this.session_password_md5.value = calcMD5("[(#ENV{alea_actuel})]" + this.session_password.value);
			this.next_session_password_md5.value = calcMD5("[(#ENV{alea_futur})]" + this.session_password.value);
			this.session_password.value = "";
			}']>
		<div class="spip_encadrer" style="[(#URL_SITE_SPIP|style_align)]">[
			<div class="reponse_formulaire">(#ENV*{erreur})<br /><br /></div>
][
			<label><b><:login_login2:></b><br /></label>(#ENV{login}|?{'',' '})
			<input type="text" id='var_login' name="var_login" class="forml" value="" size="40" />
][
<div>
			<input type="hidden" name="session_login_hidden" value="(#ENV{login})" />
<script type="text/javascript"><!--
document.write("<:login_login:>&nbsp;<b>[(#ENV{login})]<" + "/b><br />&#91;<a href='spip_cookie.php3?cookie_admin=non&amp;url=[(#ENV{url})][&amp;retour=(#SELF|urlencode)]'><font size='2'><:login_autre_identifiant:><" + "/font><" + "/a>&#93;")
//--></script>
<noscript>
	<font face="Georgia, Garamond, Times, serif" size="3">
		<:login_non_securise:>
		<a href="[(#ENV{action})]"><:login_recharger:></a>
	</font>
	<label><b><:login_login2:></b><br /></label>
	<input type='text' name='session_login' class='forml' [value="(#ENV{login})" ]size='40' />
</noscript>
[<img	src="(#ENV{id_auteur}|silogoauteur)"
	width="75"
	valign="top"
	align="right"
	alt="[(#ENV{login})]"><br /><br /><br />]
</div>
<p>
		<label><b><:login_pass2:></b></label>&nbsp;<input type="password" name="session_password"[ id="var_login_(#ENV{login})]" class="forml" value="" size="40" />
		<br />&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox"
			 name="session_remember"
			 id="session[_(#ENV{login})]"
			 value="oui"[(#ENV*{prefs}|filtre_rester_connecte)checked="checked"]/>
		<label for="session[_(#ENV{login})]"><:login_rester_identifie:></label>
</p>
		<input type="hidden" name="session_password_md5" value="" />
		<input type="hidden" name="next_session_password_md5" value="" />
		<input type="hidden" name="essai_login" value="oui" />
]		<input type="hidden" name="url" value="[(#ENV{url})]" />
		<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" /></div>
		</div>
	</form>
<script type="text/javascript"><!--
document.getElementById('var_login[_(#ENV{login})]').focus();
--></script>[
	<form action="(#ENV{auth_http})" method="get">
		<fieldset>
		<p>
		<:login_preferez_refuser:>
		<input type="hidden" name="essai_auth_http" value="oui"/>
		[<input type="hidden" name="url" value="(#ENV{url})"/>]
		<div align="right"><input type="submit" class="spip_bouton" value="<:login_sans_cookiie:>"/></div>
		</fieldset>
	</form>
]
</div>

--- NEW FILE: formulaire_menu_lang.html ---
<form	action='[(#ENV{url})]'
	method='post'
	style='margin:0px; padding:0px;'>[
	<input type='hidden' name='url' value='(#ENV{cible})' />
]	<select	name='[(#ENV{nom})]' 
		class='forml'
		style='vertical-align: top; max-height: 24px; margin-bottom: 5px; width: 120px;'
		onchange="document.location.href='[(#ENV{retour})]&amp;[(#ENV{nom})]='+this.options[this.selectedIndex].value">
		[(#ENV*{langues})]
      </select>
      <noscript>
	<input type='submit' value='&gt;&gt;' class='spip_bouton' />
      </noscript>
</form>

--- NEW FILE: formulaire_oubli.html ---
[
(#ENV*{message})
][
(#ENV*{message}|?{'',' '})
<form id="oubli_form" action='spip_pass.php3' method='post'>
	<fieldset style="border: none;"><legend></legend>[
	<:pass_nouveau_pass:>
	<input type='hidden' name="p" value="(#ENV{p})">
	<label>
	    <:pass_choix_pass:>
	    <input type="password" name="oubli">
	</label>][
	(#ENV{p}|?{'',' '})
	<label>
	  <:pass_indiquez_cidessous:>
	  <input type="texte" name="oubli">
	</label>]
	<input type=submit class="fondl" value="<:pass_ok:>">
      </fieldset>
</form>
]
<br />
<div align="right">
<script type="text/javascript"><!--
[
(#ENV*{message}|?{'',' '})
document.oubli_form.oubli.focus()
]
document.write("<a href='")
document.write((window.opener) ? "javascript:close()" : "./")
document.write("'><:pass_quitter_fenetre:><" + "/a>");
//--></script>
<noscript>
	&#91;<a href='./'><:pass_retour_public:></a>&#93;
</noscript>
</div>
<br />

--- NEW FILE: formulaire_recherche.html ---
<form action="[(#ENV{lien})]" method="get" class="formrecherche">
	<div>
		<input type="text"
			id="formulaire_recherche"
			class="formrecherche"
			name="recherche"
			value="[(#ENV*{recherche_securisee})]" />
	</div>
</form>

--- NEW FILE: formulaire_signature.html ---
<form method='post'
      action='#SELF#sp[(#ENV{id_article})]' >
      <input type="hidden" name="url_page" value="#URL_SITE_SPIP/#SELF">
      <div class='spip_encadrer' style='color: black; font-size: 80%; font-weight: normal;'>
	[(#ENV*{texte}|propre)]
	<fieldset style='font-size: 110%; font-weight: bold;'>
	  <legend></legend>
	  <label>
	    <:form_pet_votre_nom:>
	    <input type="text" class="forml" name="nom_email" value="" size="20" />
	  </label>
	  <label>
	    <:form_pet_votre_email:><br />
	    <input type="text" class="forml" name="adresse_email" value="" size="20" />
	  </label>
	</fieldset>
	<br />
	<p>[(#ENV{site_obli}|=={oui}|?{'',' '})<:form_pet_votre_site:><br />]
	<fieldset style='font-size: 110%; font-weight: bold;'>
	  <legend></legend>
	  <label>
	  <:form_pet_nom_site2:><br />
	  <input type="text" class="forml" name="signature_nom_site" value="" size="20" />
	  </label>
	  <label>
	    <:form_pet_adresse_site:><br />
	    <input type="text" class="forml" name="signature_url_site" value="http://" size="20" />
	  </label>
	</fieldset>[
	<br />
	<fieldset style='font-weight: bold'>
	  <legend></legend>
	(#ENV{message}|=={oui}|?{' ',''})
	  <label>
	  <:form_pet_message_commentaire:><br />
	    <textarea name="message" rows="3" class="forml" cols="20"></textarea>
	  </label>
	</fieldset>
	]
	<br />
	<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" /></div>
      </div>
</form>


--- NEW FILE: formulaire_site.html ---
<form action="#SELF" method="post">
      <br />
      <fieldset	class='spip_encadrer' style='color: black; font-size: 90%'>
	<legend></legend>
	<label>
	  <:form_prop_nom_site:>
	  <input type="text" class="forml" name="nom_site" value="" size="30">
	</label>
	<label>
	  <:form_prop_url_site:>
	  <input type="text" class="forml" name="url_site" value="" size="30">
	</label>
	<label><:form_prop_description:>
	  <textarea name='description_site' rows='5' class='forml' cols='40'></textarea>
	</label>
	<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>"></div>
      </fieldset>
</form>

--- NEW FILE: inc-formulaire_admin.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

global $balise_FORMULAIRE_ADMIN_collecte ;
$balise_FORMULAIRE_ADMIN_collecte = array('id_article', 'id_breve', 'id_rubrique', 'id_mot', 'id_auteur');

# on ne peut rien dire au moment de l'execution du squelette

function balise_FORMULAIRE_ADMIN_stat($args, $filtres) {
	return $args;
}

# les boutons admin sont mis d'autorite si absents
# donc une variable statique controle si FORMULAIRE_ADMIN a ete vu.
# Toutefois, si c'est le debuger qui appelle,
# il peut avoir recopie le code dans ses donnees et il faut le lui refounir.
# Pas question de recompiler: ca fait boucler !
# Le debuger transmet donc ses donnees, et cette balise y retrouve son petit.

function balise_FORMULAIRE_ADMIN_dyn($id_article, $id_breve, $id_rubrique, $id_mot, $id_auteur, $float='', $debug='') {
	global $var_preview, $use_cache, $forcer_debug;
	static $dejafait = false;

	if ($GLOBALS['flag_preserver'] || !$GLOBALS['spip_admin'])
		return '';

	if (!is_array($debug)) {
		if ($dejafait)
			return '';
	} else {
		if ($dejafait) {
			$res = '';
			foreach($debug['sourcefile'] as $k => $v) {
				if (strpos($v,'formulaire_admin.') !== false)
					return $debug['resultat'][$k . 'tout'];
			}
			return '';
		}
	}
	$dejafait = true;

	// repartir de zero pour les boutons car clean_link a pu etre utilisee
	$link = new Link();
	$link->delVar('var_mode');
	$link->delVar('var_mode_objet');
	$link->delVar('var_mode_affiche');
	$action = $link->getUrl();
	$action = ($action . ((strpos($action, '?') === false) ? '?' : '&'));

	// Ne pas afficher le bouton 'Modifier ce...' si l'objet n'existe pas
	foreach (array('article', 'breve', 'rubrique', 'mot', 'auteur') as $type) {
		$id_type = 'id_'.$type;
		if (!($$id_type = intval($$id_type)
		AND $s = spip_query(
		"SELECT $id_type FROM spip_${type}s WHERE $id_type=".$$id_type)
		AND spip_num_rows($s)))
			$$id_type=0;
	}

	// Bouton statistiques
	if (lire_meta("activer_statistiques") != "non" 
	AND $id_article
	AND !$var_preview
	AND ($GLOBALS['auteur_session']['statut'] == '0minirezo')) {
		if ($s = spip_query("SELECT id_article
		FROM spip_articles WHERE statut='publie'
		AND id_article = $id_article")
		AND spip_fetch_array($s)) {
			include_local ("inc-stats.php3");
			$r = afficher_raccourci_stats($id_article);
			$visites = $r['visites'];
			$popularite = $r['popularite'];
			$statistiques = 'statistiques_visites.php3?'; # lien si connecte
		}
	}

	// Bouton de debug
	$debug = (
		($forcer_debug
		OR $GLOBALS['bouton_admin_debug']
		OR ($GLOBALS['var_mode'] == 'debug'
			AND $GLOBALS['_COOKIE']['spip_debug']
		)) AND ($GLOBALS['code_activation_debug'] == 'oui'
			OR $GLOBALS['auteur_session']['statut'] == '0minirezo')
		AND !$var_preview
	) ? 'debug' : '';

	// hack - ne pas avoir la rubrique si un autre bouton est deja present
	if ($id_article OR $id_breve) unset ($id_rubrique);

	return array('formulaire_admin', 0,
			array(
				'id_article' => $id_article,
				'id_rubrique' => $id_rubrique,
				'id_auteur' => $id_auteur,
				'id_breve' => $id_breve,
				'id_mot' => $id_mot,
				'action' => $action,
				'debug' => $debug,
				'popularite' => ceil($popularite),
				'statistiques' => $statistiques,
				'visites' => intval($visites),
				'use_cache' => ($use_cache ? ' *' : ''),
				'floatdiv' => $float
			)
		);
}
?>

--- NEW FILE: inc-formulaire_ecrire_auteur.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

global $balise_FORMULAIRE_ECRIRE_AUTEUR_collecte ;
$balise_FORMULAIRE_ECRIRE_AUTEUR_collecte = array('id_auteur',
			     'email',
			     'sujet_message_auteur',
			     'texte_message_auteur',
			     'email_message_auteur'
);

function balise_FORMULAIRE_ECRIRE_AUTEUR_stat($args, $filtres) {
	list($id_auteur, $mail, $sujet, $texte, $adres) = $args;
	return (!email_valide($mail) ? '' :
		array($id_auteur, $mail,$sujet, $texte, $adres));
}

function balise_FORMULAIRE_ECRIRE_AUTEUR_dyn($id_auteur, $mail, $sujet, $texte, $adres) {
	include_ecrire('inc_texte.php3');
	$puce = $GLOBALS['puce'.$GLOBALS['spip_lang_rtl']];

	$mailko = $texte && !email_valide($adres);
	$validable = $texte && $sujet && (!$mailko);

	if ($validable && ($GLOBALS['valide'] == _T('form_prop_confirmer_envoi'))) { 
		$texte .= "\n\n-- "._T('envoi_via_le_site')." ".lire_meta('nom_site')." (".lire_meta('adresse_site')."/) --\n";
		include_ecrire("inc_mail.php3");
		envoyer_mail($mail, $sujet, $texte, $adres,
				"X-Originating-IP: ".$GLOBALS['REMOTE_ADDR']);
		return _T('form_prop_message_envoye');
	    }


	// repartir de zero pour les boutons car clean_link a pu etre utilisee

	$link = new Link;

	$link->delVar('sujet_message_auteur');
	$link->delVar('texte_message_auteur');
	$link->delVar('email_message_auteur');
	$link->delVar('id_auteur');
	return 
		array('formulaire_ecrire_auteur', 0,
			array(
			'action' => $link->getUrl(),
			'id_auteur' => $id_auteur,
			'mailko' => $mailko ? $puce : '',
			'mail' => $adres,
			'sujetko' => ($texte && !$sujet) ? $puce : '',
			'sujet' => $sujet,
			'texte' => $texte,
			'valide' => ($validable ?
				_T('form_prop_confirmer_envoi') :
				_T('form_prop_envoyer'))
			)
		);
}
?>

--- NEW FILE: inc-formulaire_forum.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

include_ecrire('inc_meta.php3');
include_ecrire('inc_admin.php3');
include_ecrire('inc_acces.php3');
include_ecrire('inc_texte.php3');
include_ecrire('inc_filtres.php3');
include_ecrire('inc_lang.php3');
include_ecrire('inc_mail.php3');
include_ecrire('inc_forum.php3');
include_ecrire("inc_abstract_sql.php3");
include_local(_FILE_CONNECT);

// Gestionnaire d'URLs
if (@file_exists("inc-urls.php3"))
	include_local("inc-urls.php3");
else
	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");

/*******************************/
/* GESTION DU FORMULAIRE FORUM */
/*******************************/
global $balise_FORMULAIRE_FORUM_collecte;
$balise_FORMULAIRE_FORUM_collecte = array('id_rubrique', 'id_forum', 'id_article', 'id_breve', 'id_syndic');

function balise_FORMULAIRE_FORUM_stat($args, $filtres) {
	list ($idr, $idf, $ida, $idb, $ids) = $args;

	// recuperer les donnees du forum auquel on repond, false = forum interdit
	if (!$r = sql_recherche_donnees_forum ($idr, $idf, $ida, $idb, $ids))
		return '';

	list($titre, $table, $forums_publics) = $r;
	return
		array($titre, $table, $forums_publics, $idr, $idf, $ida, $idb, $ids);
}

function balise_FORMULAIRE_FORUM_dyn($titre, $table, $forums_publics, $id_rubrique, $id_forum, $id_article, $id_breve, $id_syndic) {

	global $REMOTE_ADDR, $id_message, $afficher_texte, $spip_forum_user;

	// url de reference
	if (!$url = rawurldecode($GLOBALS['url'])) 
	    $url = $GLOBALS['REQUEST_URI'];
	else {
	// identifiants des parents
	  $args = '';  
	  if ($id_rubrique) $args .= "id_rubrique=$id_rubrique";
	  if ($id_forum) $args .= "id_forum=$id_forum";
	  if ($id_article) $args .= "id_article=$id_article";
	  if ($id_breve) $args .= "id_breve=$id_breve";
	  if ($id_syndic) $args .= "id_syndic=$id_syndic";
	  if ($args && strpos($url,$args)===false) $url .= (strpos($url,'?') ? '&' : '?') . $args;
	}

	$url = ereg_replace("[?&]var_erreur=[^&]*", '', $url);
	$url = ereg_replace("[?&]var_login=[^&]*", '', $url);
	$url = ereg_replace("[?&]url=[^&]*", '', $url);

	// verifier l'identite des posteurs pour les forums sur abo
	if (($forums_publics == "abo") && (!$GLOBALS["auteur_session"]))
	  {
	    include_local(find_in_path('inc-login_public.php3'));
	    return login_pour_tous($GLOBALS['var_login'], $url, true, $url, 'forum');
	  }

	$id_rubrique = intval($id_rubrique);
	$id_forum = intval($id_forum);
	$id_article = intval($id_article);
	$id_breve = intval($id_breve);
	$id_syndic = intval($id_syndic);

	// ne pas mettre '', sinon le squelette n'affichera rien.

	$previsu = ' ';

	// au premier appel (pas de Post-var nommee "retour_forum")
	// memoriser l'URL courante pour y revenir apres envoi du message
	// aux appels suivants, reconduire la valeur.
	// Initialiser aussi l'auteur

	if (!$retour_forum = rawurldecode($GLOBALS['_POST']['retour_forum'])) {
		if ($retour_forum = rawurldecode($GLOBALS['_GET']['retour']))
			$retour_forum = ereg_replace('&var_mode=recalcul','',$retour_forum);
		else $retour_forum = $url;

		if ($spip_forum_user &&
		is_array($cookie_user = unserialize($spip_forum_user))) {
			$auteur = $cookie_user['nom'];
			$email_auteur = $cookie_user['email'];
		} else {
			$auteur = $GLOBALS['auteur_session']['nom'];
			$email_auteur = $GLOBALS['auteur_session']['email'];
		}

	} else {

	// Recuperer le message a previsualiser
		$titre = $GLOBALS['_POST']['titre'];
		$texte = $GLOBALS['_POST']['texte'];
		$auteur = $GLOBALS['_POST']['auteur'];
		$email_auteur = $GLOBALS['_POST']['email_auteur'];
		$nom_site_forum = $GLOBALS['_POST']['nom_site_forum'];
		$url_site = $GLOBALS['_POST']['url_site'];
		$ajouter_mot = $GLOBALS['_POST']['ajouter_mot']; // array

		if ($afficher_texte != 'non') {
			$previsu = 
			  "<div style='font-size: 120%; font-weight: bold;'>"
			  . interdire_scripts(typo($titre))
			  . "</div><p /><b><a href=\"mailto:"
			  . interdire_scripts(typo($email_auteur)) . "\">"
			  . interdire_scripts(typo($auteur)) . "</a></b><p />"
			  . propre($texte) . "<p /><a href=\""
			  . interdire_scripts($url_site) . "\">"
			  . interdire_scripts(typo($nom_site_forum)) . "</a>";

			// Verifier mots associes au message
			if (is_array($ajouter_mot))
			$mots = preg_replace('/[^0-9,]/', '', join(',',$ajouter_mot));
			else $mots = '0';

			// affichage {par num type, type, num titre,titre}
			$result_mots = spip_query("SELECT id_mot, titre, type
				FROM spip_mots
				WHERE id_mot IN ($mots)
				ORDER BY 0+type,type,0+titre,titre");
			if (spip_num_rows($result_mots)>0) {
				$previsu .= "<p>"._T('forum_avez_selectionne')."</p><ul>";
				while ($row = spip_fetch_array($result_mots)) {
					$les_mots[$row['id_mot']] = "checked='checked'";
					$presence_mots = true;
					$previsu .= "<li style='font-size: 80%;'> "
					. typo($row['type']) . "&nbsp;: <b>"
					. typo($row['titre']) ."</b></li>";
				}
				$previsu .= '</ul>';
			}

			if (strlen($texte) < 10 AND !$presence_mots) {
				$previsu .= "<p align='right' style='color: red;'>"._T('forum_attention_dix_caracteres')."</p>\n";
			}
			else if (strlen($titre) < 3 AND $afficher_texte <> "non") {
				$previsu .= "<p align='right' style='color: red;'>"._T('forum_attention_trois_caracteres')."</p>";
			}
			else {
				$previsu .= "<div align='right'><input type='submit' name='confirmer_forum' class='spip_bouton' value='"._T('forum_message_definitif')."' /></div>";
			}
			$previsu = "<div class='spip_encadrer'>$previsu</div>\n<br />";
			// supprimer les <form> de la previsualisation
			// (sinon on ne peut pas faire <cadre>...</cadre> dans les forums)
			$previsu = preg_replace("@<(/?)f(orm[>[:space:]])@ism", "<\\1no-f\\2", $previsu);
		}

	// Une securite qui nous protege contre :
	// - les doubles validations de forums (derapages humains ou des brouteurs)
	// - les abus visant a mettre des forums malgre nous sur un article (??)
	// On installe un fichier temporaire dans _DIR_SESSIONS (et pas _DIR_CACHE
	// afin de ne pas bugguer quand on vide le cache)
	// Le lock est leve au moment de l'insertion en base (inc-messforum.php3)

		$alea = preg_replace('/[^0-9]/', '', $alea);
		if(!$alea OR !@file_exists(_DIR_SESSIONS."forum_$alea.lck")) {
			while (
				# astuce : mt_rand pour autoriser les hits simultanes
				$alea = time() + @mt_rand()
				AND @file_exists($f = _DIR_SESSIONS."forum_$alea.lck")) {};
			spip_touch ($f);
		}

		# et maintenant on purge les locks de forums ouverts depuis > 4 h
		if ($dh = @opendir(_DIR_SESSIONS))
			while (($file = @readdir($dh)) !== false)
				if (preg_match('/^forum_([0-9]+)\.lck$/', $file)
				AND (time()- at filemtime(_DIR_SESSIONS.$file) > 4*3600))
					@unlink(_DIR_SESSIONS.$file);

		$hash = calculer_action_auteur("ajout_forum $id_rubrique $id_forum $id_article $id_breve $id_syndic $alea");
	}

	// Faut-il ajouter des propositions de mots-cles
	if ((lire_meta("mots_cles_forums") == "oui") && ($table != 'forum'))
		$table = table_des_mots($table, $les_mots);
	else
		$table = '';

	return array('formulaire_forum', 0,
	array(
		'alea' => $alea,
		'auteur' => $auteur,
		'disabled' => ($forums_publics == "abo")? " disabled='disabled'" : '',
		'email_auteur' => $email_auteur,
		'hash' => $hash,
		'modere' => (($forums_publics != 'pri') ? '' : _T('forum_info_modere')),
		'nom_site_forum' => $nom_site_forum,
		'previsu' => $previsu,
		'retour_forum' => $retour_forum,
		'table' => $table,
		'texte' => $texte,
		'titre' => $titre,
		'url' =>  $url,
		'url_site' => ($url_site ? $url_site : "http://"),

		## gestion des la variable de personnalisation $afficher_texte
		# mode normal : afficher le texte en < input text >, cf. squelette
		'afficher_texte_input' => (($afficher_texte <> 'non') ? '&nbsp;' : ''),
		# mode 'non' : afficher les elements en < input hidden >
		'afficher_texte_hidden' => (($afficher_texte <> 'non') ? '' :
			(boutonne('hidden', 'titre', htmlspecialchars($titre)) .
				$table .
				"\n<br /><div align='right'>" .
				boutonne('submit', '', _T('forum_valider'),
				"class='spip_bouton'") .
				"</div>"))

		));
}


function barre_forum($texte)
{
	include_ecrire('inc_layer.php3');

	if (!$GLOBALS['browser_barre'])
		return "<textarea name='texte' rows='12' class='forml' cols='40'>$texte</textarea>";
	static $num_formulaire = 0;
	$num_formulaire++;
	include_ecrire('inc_barre.php3');
	return afficher_barre("document.getElementById('formulaire_$num_formulaire')", true) .
	  "
<textarea name='texte' rows='12' class='forml' cols='40'
id='formulaire_$num_formulaire'
onselect='storeCaret(this);'
onclick='storeCaret(this);'
onkeyup='storeCaret(this);'
ondbclick='storeCaret(this);'>$texte</textarea>";
}

// Mots-cles dans les forums :
// Si la variable de personnalisation $afficher_groupe[] est definie
// dans le fichier d'appel, et si la table de reference est OK, proposer
// la liste des mots-cles
function table_des_mots($table, $les_mots) {
	global $afficher_groupe;

	if ($afficher_groupe)
		$in_group = " AND id_groupe IN (" . join($afficher_groupe, ", ") .")";

	$result_groupe = spip_query("SELECT * FROM spip_groupes_mots
	WHERE 6forum = 'oui' AND $table = 'oui'". $in_group);

	$ret = '';
	while ($row_groupe = spip_fetch_array($result_groupe)) {
		$id_groupe = $row_groupe['id_groupe'];
		$titre_groupe = propre($row_groupe['titre']);
		$unseul = ($row_groupe['unseul']== 'oui') ? 'radio' : 'checkbox';
		$result =spip_query("SELECT * FROM spip_mots
		WHERE id_groupe='$id_groupe'");
		$total_rows = spip_num_rows($result);

		if ($total_rows > 0) {
			$ret .= "\n<p />"
			  . "<div class='spip_encadrer' style='font-size: 80%;'>"
			  . "<b>$titre_groupe&nbsp;:</b>"
			  . "<table cellpadding='0' cellspacing='0' border='0' width='100%'>\n"
			  ."<tr><td width='47%' valign='top'>";
			$i = 0;
      
		while ($row = spip_fetch_array($result)) {
			$id_mot = $row['id_mot'];
			$titre_mot = propre($row['titre']);
			$descriptif_mot = propre($row['descriptif']);

			if ($i >= ($total_rows/2) AND $i < $total_rows) {
				$i = $total_rows + 1;
				$ret .= "</td><td width='6%'>&nbsp;</td>
				<td width='47%' valign='top'>";
			}

			$ret .= boutonne($unseul, "ajouter_mot[]", $id_mot, "id='mot$id_mot' " . $les_mots[$id_mot]) .
			  afficher_petits_logos_mots($id_mot)
			. "<b><label for='mot$id_mot'>$titre_mot</label></b><br />";

			if ($descriptif_mot)
				$ret .= "$descriptif_mot<br />";
			$i++;
		}

		$ret .= "</td></tr></table>";
		$ret .= "</div>";
		}
	}

	return $ret;
}


function afficher_petits_logos_mots($id_mot) {
	include_ecrire('inc_logos.php3');
	$on = cherche_image_nommee("moton$id_mot");
	if ($on) {
	  $image = ("$on[0]$on[1].$on[2]");
		$taille = @getimagesize($image);
		$largeur = $taille[0];
		$hauteur = $taille[1];
		if ($largeur < 100 AND $hauteur < 100)
			return "<img src='$image' align='middle' width='$largeur'
			height='$hauteur' hspace='1' vspace='1' alt=' ' border='0'
			class='spip_image' /> ";
	}
}

/*******************************************************/
/* FONCTIONS DE CALCUL DES DONNEES DU FORMULAIRE FORUM */
/*******************************************************/

//
// Chercher le titre et la configuration du forum de l'element auquel on repond
//

function sql_recherche_donnees_forum ($idr, $idf, $ida, $idb, $ids) {

	// changer la table de reference s'il y a lieu (pour afficher_groupes[] !!)
	if ($idr) {
		$r = "SELECT titre FROM spip_rubriques WHERE id_rubrique = $idr";
		$table = "rubriques";
	} else if ($ida) {
		$r = "SELECT titre FROM spip_articles WHERE id_article = $ida";
		$table = "articles";
	} else if ($idb) {
		$r = "SELECT titre FROM spip_breves WHERE id_breve = $idb";
		$table = "breves";
	} else if ($ids) {
		$r = "SELECT nom_site AS titre FROM spip_syndic WHERE id_syndic = $ids";
		$table = "syndic";
	}

	if ($idf)
		$r = "SELECT titre FROM spip_forum WHERE id_forum = $idf";

	if ($r) {
		list($titre) = spip_fetch_array(spip_query($r));
		$titre = '> ' . supprimer_numero($titre);
	} else {
		$titre = _T('forum_titre_erreur');
		$table = '';
	}

	// quelle est la configuration du forum ?
	if ($ida)
		list($accepter_forum) = spip_fetch_array(spip_query(
		"SELECT accepter_forum FROM spip_articles WHERE id_article=$ida"));
	if (!$accepter_forum)
		$accepter_forum = substr(lire_meta("forums_publics"),0,3);
	// valeurs possibles : 'pos'teriori, 'pri'ori, 'abo'nnement
	if ($accepter_forum == "non")
		return false;

	return array ($titre, $table, $accepter_forum);
}

?>

--- NEW FILE: inc-formulaire_inscription.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

include_ecrire('inc_abstract_sql.php3');

global $balise_FORMULAIRE_INSCRIPTION_collecte ;
$balise_FORMULAIRE_INSCRIPTION_collecte = array('mail_inscription', 'nom_inscription');

// args 0 et 1 sont mail et nom ci-dessus,
// arg2 le parametre de la balise
// arg3 toujours vide au premier appel (fenetre cible)

function balise_FORMULAIRE_INSCRIPTION_stat($args, $filtres)
{
  return ((lire_meta('accepter_inscriptions') != 'oui') ? '' :
	  array('redac', $args[0], $args[1], 
		($args[2] == 'focus' ? 'nom_inscription' : ''),
		''));
}

function balise_FORMULAIRE_INSCRIPTION_dyn($mode, $mail_inscription, $nom_inscription, $focus, $target) {
	if (($mode == 'redac') AND (lire_meta("accepter_inscriptions") == "oui"))
		$statut = "nouveau";
	else if (($mode == 'forum') AND ((lire_meta('accepter_visiteurs') == 'oui') OR (lire_meta('forums_publics') == 'abo')))
		$statut = "6forum";
	else return _T('pass_rien_a_faire_ici');

	if (test_mail_ins($mode, $mail_inscription) && $nom_inscription) {
		include(_FILE_CONNECT);
		// envoyer les identifiants si l'abonne n'existe pas d?j?.
		if (!$row = spip_fetch_array(spip_query("SELECT statut, id_auteur, login, pass FROM spip_auteurs WHERE email='".addslashes($mail_inscription)."' LIMIT 1")))
		  {
			include_ecrire("inc_acces.php3");
			$pass = creer_pass_aleatoire(8, $mail_inscription);
			$login = test_login($mail_inscription);
			$mdpass = md5($pass);
			$htpass = generer_htpass($pass);
			$r = spip_abstract_insert('spip_auteurs', 
					 '(nom, email, login, pass, statut, htpass)',
					 "('".addslashes($nom_inscription)."',  '".addslashes($mail_inscription)."', '$login', '$mdpass', '$statut', '$htpass')");
			ecrire_acces();
			$message = envoyer_inscription($mail_inscription, $statut, $mode, $login, $pass);
		  }

		else {
		  // existant mais encore muet, renvoyer les infos
			if ($row['statut'] == 'nouveau') {
			  $message = (envoyer_inscription($mail_inscription, $row['statut'], $mode, $row['login'], $row['pass']));
			} else {
				if ($row['statut'] == '5poubelle')
		  // dead
				  $message = _T('form_forum_access_refuse');
				else  
		  // deja inscrit
				  $message = _T('form_forum_email_deja_enregistre');
			}
		}
	}
	// demande du formulaire
	else {
		if (!$nom_inscription) 
		    $message = '';
		else {
		  spip_log("Mail incorrect: '$mail_inscription'");
		  $message = _T('info_email_invalide');
		}
	}

	return array("formulaire_inscription",0,
		     array('focus' => $focus,
			   'target' => $target,
			   'message' => $message,
			   'mode' => $mode));
}

// fonction qu'on peut redefinir pour filtrer selon l'adresse mail
// cas general: controler juste que l'adresse n'est pas vide

function test_mail_ins($mode, $mail_inscription) {
  return trim($mail_inscription);
}

	// envoyer identifiants par mail
function envoyer_inscription($mail, $statut, $type, $login, $pass) {
	$nom_site_spip = lire_meta("nom_site");
	$adresse_site = lire_meta("adresse_site");
	
	$message = _T('form_forum_message_auto')."\n\n"._T('form_forum_bonjour')."\n\n";
	if ($type == 'forum') {
		$message .= _T('form_forum_voici1', array('nom_site_spip' => $nom_site_spip, 'adresse_site' => $adresse_site)) . "\n\n";
	} else {
		$message .= _T('form_forum_voici2', array('nom_site_spip' => $nom_site_spip, 'adresse_site' => $adresse_site)) . "\n\n";
	}
	$message .= "- "._T('form_forum_login')." $login\n";
	$message .= "- "._T('form_forum_pass')." $pass\n\n";

	include_ecrire("inc_mail.php3");
	if (envoyer_mail($mail, "[$nom_site_spip] "._T('form_forum_identifiants'), $message))
	  return _T('form_forum_identifiant_mail');
	else
	  return _T('form_forum_probleme_mail');
}

function test_login($mail) {
	if (strpos($mail, "@") > 0) $login_base = substr($mail, 0, strpos($mail, "@"));
	else $login_base = $mail;

	$login_base = strtolower($login_base);
	$login_base = ereg_replace("[^a-zA-Z0-9]", "", $login_base);
	if (!$login_base) $login_base = "user";
	$login = $login_base;

	for ($i = 1; ; $i++) {
		$query = "SELECT id_auteur FROM spip_auteurs WHERE login='$login' LIMIT 1";
		if (!spip_num_rows(spip_query($query))) return $login;
		$login = $login_base.$i;
	}


}

?>

--- NEW FILE: inc-formulaire_recherche.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

global $balise_FORMULAIRE_RECHERCHE_collecte;
$balise_FORMULAIRE_RECHERCHE_collecte = array();

function balise_FORMULAIRE_RECHERCHE_stat($args, $filtres)
{
  return (lire_meta("activer_moteur") != "oui") ? '' : array($filtres[0]);
}
 
function balise_FORMULAIRE_RECHERCHE_dyn($lien) {
	include_ecrire('inc_filtres.php3');
	if (!$recherche_securisee = entites_html($GLOBALS['recherche'])) {
		$recherche_securisee = _T('info_rechercher');
	}

	return array('formulaire_recherche', 3600, 
		array(
			'lien' => ($lien ? $lien : 'recherche.php3'),
			'recherche_securisee' => $recherche_securisee
		));
}

?>
--- NEW FILE: inc-formulaire_signature.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

//
// Formulaire de signature d'une petition
//

global $balise_FORMULAIRE_SIGNATURE_collecte;
$balise_FORMULAIRE_SIGNATURE_collecte = array('petition', 'id_article', 'nom_email', 'adresse_email', 'message', 'signature_nom_site', 'signature_url_site', 'url_page', 'val_confirm');

function balise_FORMULAIRE_SIGNATURE_stat($args, $filtres)
{
  return ($args[0] ? $args : '');
}

function balise_FORMULAIRE_SIGNATURE_dyn($texte, $id_article, $nom_email, $adresse_email, $message, $nom_site, $url_site, $url_page, $val_confirm) {

	include_local(_FILE_CONNECT);
	if ($val_confirm)
		return reponse_confirmation($id_article);
	else if ($nom_email AND $adresse_email)
		return  reponse_signature($id_article, $nom_email, $adresse_email, $message, $nom_site, $url_site, $url_page, $val_confirm);
	else {
		$row = spip_fetch_array(spip_query("SELECT * FROM spip_petitions WHERE id_article='$id_article'"));
		return !$row ? '': array('formulaire_signature', 0, $row);
	}
}


// Retour a l'ecran du lien de confirmation d'une signature de petition.
// Si val_confirm est non vide, c'est l'appel en debut de inc-public
// pour vider le cache au demarrage afin que la nouvelle signature apparaisse.
// Sinon, c'est l'execution du formulaire et on retourne le message 
// de confirmation ou d'erreur construit lors de l'appel par inc-public.

function reponse_confirmation($id_article, $val_confirm = '') {
	static $confirm = '';

	if (!$val_confirm) return $confirm;
	include_local(_FILE_CONNECT);
	if ($GLOBALS['db_ok']) {
		include_ecrire("inc_texte.php3");
		include_ecrire("inc_filtres.php3");

		// Eviter les doublons
		$lock = "petition $id_article $val_confirm";
		if (!spip_get_lock($lock, 5)) {
			$confirm= _T('form_pet_probleme_technique');
		}
		else {
			$query_sign = "SELECT * FROM spip_signatures WHERE statut='".addslashes($val_confirm)."'";
			$result_sign = spip_query($query_sign);
			if (spip_num_rows($result_sign) > 0) {
				while($row = spip_fetch_array($result_sign)) {
					$id_signature = $row['id_signature'];
					$id_article = $row['id_article'];
					$date_time = $row['date_time'];
					$nom_email = $row['nom_email'];
					$adresse_email = $row['ad_email'];
					$nom_site = $row['nom_site'];
					$url_site = $row['url_site'];
					$message = $row['message'];
					$statut = $row['statut'];
				}
	
				$query_petition = "SELECT * FROM spip_petitions WHERE id_article=$id_article";
				$result_petition = spip_query($query_petition);
	
				while ($row = spip_fetch_array($result_petition)) {
					$id_article = $row['id_article'];
					$email_unique = $row['email_unique'];
					$site_obli = $row['site_obli'];
					$site_unique = $row['site_unique'];
					$message_petition = $row['message'];
					$texte_petition = $row['texte'];
				}
	
				if ($email_unique == "oui") {
					$email = addslashes($adresse_email);
					$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND ad_email='$email' AND statut='publie'";
					$result = spip_query($query);
					if (spip_num_rows($result) > 0) {
						$confirm= (_T('form_pet_deja_signe'));
						$refus = "oui";
					}
				}
	
				if ($site_unique == "oui") {
					$site = addslashes($url_site);
					$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND url_site='$site' AND statut='publie'";
					$result = spip_query($query);
					if (spip_num_rows($result) > 0) {
						$confirm= (_T('form_pet_deja_enregistre'));
						$refus = "oui";
					}
				}
	
				if ($refus == "oui") {
					$confirm= (_T('form_deja_inscrit'));
				}
				else {
					$query = "UPDATE spip_signatures
					SET statut='publie', date_time=NOW()
					WHERE id_signature='$id_signature'";
					$result = spip_query($query);
					// invalider les pages ayant des boucles signatures
					include_ecrire('inc_invalideur.php3');
					include_ecrire('inc_meta.php3');
					suivre_invalideur("id='petition/petition'");
	
					$confirm= (_T('form_pet_signature_validee'));
				}
			}
			else {
				$confirm= (_T('form_pet_aucune_signature'));
			}
			spip_release_lock($lock);
		}
	}
	else {
		$confirm= _T('form_pet_probleme_technique');
	}
}

//
// Retour a l'ecran de la signature d'une petition
//

function reponse_signature($id_article, $nom_email, $adresse_email, $message, $nom_site, $url_site, $url_page, $val_confirm) {

	if ($GLOBALS['db_ok']) {
		include_ecrire("inc_texte.php3");
		include_ecrire("inc_filtres.php3");
		include_ecrire("inc_mail.php3");

		// Eviter les doublons
		$lock = "petition $id_article $adresse_email";
		if (!spip_get_lock($lock, 5)) {
			return _T('form_pet_probleme_technique');
		} else {
			$query_petition = "SELECT * FROM spip_petitions WHERE id_article=$id_article";
			$result_petition = spip_query($query_petition);
	
			while ($row = spip_fetch_array($result_petition)) {
				$id_article = $row['id_article'];
				$email_unique = $row['email_unique'];
				$site_obli = $row['site_obli'];
				$site_unique = $row['site_unique'];
				$message_petition = $row['message'];
				$texte_petition = $row['texte'];
			}
	
			if (strlen($nom_email) < 2) {
				return (_T('form_indiquer_nom'));
			}
	
			if ($adresse_email == _T('info_mail_fournisseur')) {
				return (_T('form_indiquer_email'));
			}
	
			if ($email_unique == "oui") {
				$email = addslashes($adresse_email);
				$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND ad_email='$email' AND statut='publie'";
				$result = spip_query($query);
				if (spip_num_rows($result) > 0) {
					return (_T('form_pet_deja_signe'));
				}
			}
	
			if (!email_valide($adresse_email)) {
				return (_T('form_email_non_valide'));
			}
	
			if ($site_obli == "oui") {
				if (!$nom_site) {
					return (_T('form_indiquer_nom_site'));
				}
				include_ecrire("inc_sites.php3");
	
				if (!recuperer_page($url_site)) {
					return (_T('form_pet_url_invalide'));
				}
			}
			if ($site_unique == "oui") {
				$site = addslashes($url_site);
				$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND url_site='$site' AND (statut='publie' OR statut='poubelle')";
				$result = spip_query($query);
				if (spip_num_rows($result) > 0) {
					return (_T('form_pet_site_deja_enregistre'));
				}
			}
	
			$passw = test_pass();
	
			if ($refus == "oui") {
				return _T('form_pet_signature_pasprise');
			}
			else {
				$query_site = "SELECT titre FROM spip_articles WHERE id_article=$id_article";
				$result_site = spip_query($query_site);
				while ($row = spip_fetch_array($result_site)) {
					$titre = $row['titre'];
				}

				$link = new Link($url_page);
				$link->addVar('val_confirm', $passw);
				$url = $link->getUrl("sp$id_article");
	
				$messagex = _T('form_pet_mail_confirmation', array('titre' => $titre, 'nom_email' => $nom_email, 'nom_site' => $nom_site, 'url_site' => $url_site, 'url' => $url));

				if (envoyer_mail($adresse_email, _T('form_pet_confirmation')." ".$titre, $messagex)) {

					$nom_email = addslashes($nom_email);
					$adresse_email = addslashes($adresse_email);
					$nom_site = addslashes($nom_site);
					$url_site = addslashes($url_site);
					$message = addslashes($message);
	
					spip_query("INSERT INTO spip_signatures (id_article, date_time, nom_email, ad_email, nom_site, url_site, message, statut) VALUES ($id_article, NOW(), '$nom_email', '$adresse_email', '$nom_site', '$url_site', '$message', '$passw')");
					return _T('form_pet_envoi_mail_confirmation');
				}
				else {
					return _T('form_pet_probleme_technique');
				}
			}
			spip_release_lock($lock);
		}
	}
	else {
		return _T('form_pet_probleme_technique');
	}

}


function test_pass() {
	include_ecrire("inc_acces.php3");
	for (;;) {
		$passw = creer_pass_aleatoire();
		$query = "SELECT statut FROM spip_signatures WHERE statut='$passw'";
		$result = spip_query($query);
		if (!spip_num_rows($result)) break;
	}
	return $passw;
}

?>

--- NEW FILE: inc-formulaire_site.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

global $balise_FORMULAIRE_SITE_collecte;
$balise_FORMULAIRE_SITE_collecte = array('id_rubrique', 'nom_site', 'url_site', 'description_site');

function balise_FORMULAIRE_SITE_stat($args, $filtres)
{
  return ((lire_meta("proposer_sites") != 2) ? '' : $args);
}

function balise_FORMULAIRE_SITE_dyn($id_rubrique, $nom_site, $url_site, $description_site) {

	if (!$nom_site) return array('formulaire_site', 0);

	// Tester le nom du site
	if (strlen ($nom_site) < 2){
		return _T('form_prop_indiquer_nom_site');
	}

	// Tester l'URL du site
	include_ecrire("inc_sites.php3");
	if (!recuperer_page($url_site)) {
		return _T('form_pet_url_invalide');
	}

	// Integrer a la base de donnees
		
	$nom_site = addslashes($nom_site);
	$url_site = addslashes($url_site);
	$description_site = addslashes($description_site);
			
	spip_query("INSERT INTO spip_syndic (nom_site, url_site, id_rubrique, descriptif, date, date_syndic, statut, syndication) VALUES ('$nom_site', '$url_site', $id_rubrique, '$description_site', NOW(), NOW(), 'prop', 'non')");
	return  _T('form_prop_enregistre');
}
?>

--- NEW FILE: inc-login_prive.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

include_local(find_in_path("inc-login_public.php3"));

global $balise_LOGIN_PRIVE_collecte;
$balise_LOGIN_PRIVE_collecte = array('url');

# retourner:
# 1. l'url collectee ci-dessus (args0) ou donnee en filtre (filtre0)
# 2. l'eventuel parametre de la balise (args1) fournie par
#    calculer_balise_dynamique, en l'occurence le #LOGIN courant si l'on
#    programme une <boucle(AUTEURS)>[(#LOGIN_PUBLIC{#LOGIN})]

function balise_LOGIN_PRIVE_stat ($args, $filtres) {

	if (!$cible = $filtres[0])
		$cible = $args[0];

	$login = $args[1];

	return array($cible, $login, $simple);
}

function balise_LOGIN_PRIVE_dyn($cible, $login) {
	return login_explicite($login, $cible, 'redac');
}

?>

--- NEW FILE: inc-login_public.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

include(_FILE_CONNECT);
include_ecrire("inc_meta.php3");
include_ecrire("inc_session.php3");
include_ecrire("inc_filtres.php3");

global $balise_LOGIN_PUBLIC_collecte;
$balise_LOGIN_PUBLIC_collecte = array('url');

# retourner:
# 1. l'url collectee ci-dessus (args0) ou donnee en filtre (filtre0)
# 2. l'eventuel parametre de la balise (args1) fournie par calculer_balise_dynamique

function balise_LOGIN_PUBLIC_stat ($args, $filtres)
{
	return array($filtres[0] ? $filtres[0] : $args[0], $args[1]);
}

function balise_LOGIN_PUBLIC_dyn($cible, $login)
{
	if (!$cible) {
		global $clean_link;
		$clean_link->delVar('var_erreur');
		$clean_link->delVar('var_login');
		$cible = $clean_link->getUrl();
	}
	return login_explicite($login, $cible, 'forum');
}

function login_explicite($login, $cible, $mode) {
	global $auteur_session, $clean_link;

	$clean_link->delVar('var_erreur');
	$clean_link->delVar('var_login');
	$action = $clean_link->getUrl();

	if ($cible) {
	  $cible = ereg_replace("[?&]var_erreur=[^&]*", '', $cible);
	  $cible = ereg_replace("[?&]var_login=[^&]*", '', $cible);
	} else {
	  if (ereg("[?&]url=([^&]*)", $action, $m))
	    $cible = urldecode($m[1]);
	  else
	    $cible = _DIR_RESTREINT ;
	}
	      
	include_ecrire("inc_session.php3");
	verifier_visiteur();

	if ($auteur_session AND 
	($auteur_session['statut']=='0minirezo' OR $auteur_session['statut']=='1comite')) {
		if (($cible != $action) &&  !headers_sent())
			redirige_par_entete($cible);
		return http_href($cible, _T('login_par_ici'));
	}
	return login_pour_tous($login ? $login : $GLOBALS['var_login'], $cible, '', $action, $mode);
}

// fonction aussi pour les forums sur abonnement

function login_pour_tous($login, $cible, $message, $action, $mode) {
	global $ignore_auth_http, $spip_admin, $php_module, $_SERVER;

	// en cas d'echec de cookie, inc_auth a renvoye vers spip_cookie qui
	// a tente de poser un cookie ; s'il n'est pas la, c'est echec cookie
	// s'il est la, c'est probablement un bookmark sur bonjour=oui,
	// et pas un echec cookie.
	if ($GLOBALS['var_echec_cookie'])
		$echec_cookie = ($GLOBALS['spip_session'] != 'test_echec_cookie');
	$auth_http = ($echec_cookie AND $php_module AND !$ignore_auth_http) ?
		'spip_cookie.php3' : '';
	// Attention dans le cas 'intranet' la proposition de se loger
	// par auth_http peut conduire a l'echec.
	if ($_SERVER['PHP_AUTH_USER'] AND $_SERVER['PHP_AUTH_PW'])
		$auth_http = '';

	// Le login est memorise dans le cookie d'admin eventuel
	if (!$login) {
		if (ereg("^@(.*)$", $spip_admin, $regs))
			$login = $regs[1];
	} else if ($login == '-1')
	  $login = '';

	$row = array();
	$erreur = '';
	if ($login) {
		$row = spip_query("SELECT * FROM spip_auteurs WHERE login='" .addslashes($login) ."'");
		$row =  spip_fetch_array($row);
		if ((!$row AND !$GLOBALS['ldap_present']) OR
		    ($row['statut'] == '5poubelle') OR 
		    (($row['source'] == 'spip') AND $row['pass'] == '')) {
			$erreur =  _T('login_identifiant_inconnu',
				array('login' => htmlspecialchars($login)));
 			$row = array();
			$login = '';
			@spip_setcookie("spip_admin", "", time() - 3600);
		} else {
		  // on laisse le menu decide de la langue
		  unset($row['lang']);
		}
	}

	// afficher "erreur de mot de passe" si &var_erreur=pass
	if ($GLOBALS['var_erreur'] == 'pass')
		$erreur = _T('login_erreur_pass');

	// url des inscriptions 
	$inscription = ((lire_meta("accepter_inscriptions") == "oui") OR
			(($mode == 'forum')
			 AND (lire_meta("accepter_visiteurs") == "oui"
			      OR lire_meta('forums_publics') == 'abo'))) ?
			'spip_inscription.php3' : '';

	return array('formulaire_login', 0, 
		     array_merge(array_map('addslashes', $row),
				 array(
				       'action2' => ($login ? 'spip_cookie.php3' : $action),
				       'erreur' => $erreur,
				       'action' => $action,
				       'url' => $cible,
				       'auth_http' => $auth_http,
				       'echec_cookie' => ($echec_cookie ? ' ' : ''),
				       'message' => ($message ? ' ' : ''),
				       'inscription'  => $inscription
				       )
				 )
		     );

}

// Bouton duree de connexion

function filtre_rester_connecte($prefs)
{
	$prefs = unserialize(stripslashes($prefs));
	return $prefs['cnx'] == 'perma' ? ' ' : '';
}

function silogoauteur($id_auteur)
{
  $f = _DIR_IMG . 'auton' . $id_auteur . '.jpg';
  return (@file_exists($f) ? $f : '');
}
?>

--- NEW FILE: inc-menu_lang.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

global $balise_MENU_LANG_collecte;
$balise_MENU_LANG_collecte = array('menu_lang');

// s'il n'y a qu'une langue eviter definitivement la balise ?php 

function balise_MENU_LANG_stat ($args, $filtres) {
  if (!strpos(lire_meta('langues_multilingue'),',')) return '';
  return $args;
}

// normalement $opt sera toujours non vide suite au test ci-dessus

function balise_MENU_LANG_dyn($default) {
	include_ecrire("inc_lang.php3");
	$opt = liste_options_langues('var_lang', $default);
	if (!$opt) return '';
	include_local(find_in_path("inc-menu_lang_ecrire.php3"));
	return menu_lang_pour_tous('var_lang', $opt);
}

?>

--- NEW FILE: inc-menu_lang_ecrire.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

global $balise_MENU_LANG_ECRIRE_collecte;
$balise_MENU_LANG_ECRIRE_collecte = array('menu_lang');

// s'il n'y a qu'une langue proposee eviter definitivement la balise ?php 

function balise_MENU_LANG_ECRIRE_stat ($args, $filtres)
{
  if (!strpos(lire_meta('langues_proposees'),',')) return '';
  return $args;
}

// normalement $opt sera toujours non vide suite au test ci-dessus

function balise_MENU_LANG_ECRIRE_dyn($default)
{
  include_ecrire("inc_lang.php3");
  $opt = liste_options_langues('var_lang_ecrire', $default);
  return (!$opt ? '' : menu_lang_pour_tous('var_lang_ecrire', $opt));
}

function menu_lang_pour_tous($nom, $opt)
{
  $site = lire_meta("adresse_site");
  $post = ($site ? $site : '..') . "/spip_cookie.php3";
  $cible = $GLOBALS['clean_link']->getUrl();
  $postcomplet = new Link($post);
  $postcomplet->addvar('url', $cible);

  return array('formulaire_menu_lang',
	       10, 
	       array('nom' => $nom,
		     'url' => $post,
		     'cible' => $cible,
		     'retour' => $postcomplet->getUrl(),
		     'langues' => $opt));
}
?>

--- NEW FILE: inc-url_logout.php3 ---
<?php

if (!defined("_ECRIRE_INC_VERSION")) return;	#securite

global $balise_URL_LOGOUT_collecte;
$balise_URL_LOGOUT_collecte = array();

function balise_URL_LOGOUT_stat ($args, $filtres)
{
  return array($filtres[0]);
}

function balise_URL_LOGOUT_dyn($cible)
{
	if (!$login = $GLOBALS['auteur_session']['login'])
	  return '';
	if (!$cible) $cible = $GLOBALS['clean_link']->getUrl();
	return 'spip_cookie.php3?logout_public=' . $login . '&amp;url=' . urlencode($cible);
}
?>



From mose at berlios.de  Tue Feb  8 16:10:15 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 16:10:15 +0100
Subject: [Spip-carto-cvs] spipcarto/squelettes carto.html,NONE,1.1 carto_lien.html,NONE,1.1 carto_logo.html,NONE,1.1 carto_logox.html,NONE,1.1 toto.html,NONE,1.1
Message-ID: <200502081510.j18FAF8Y005883@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/squelettes
In directory sheep:/tmp/cvs-serv5765/squelettes

Added Files:
	carto.html carto_lien.html carto_logo.html carto_logox.html 
	toto.html 
Log Message:
update a partir de spipcarto_proto1.3.zip

--- NEW FILE: carto.html ---
<BOUCLE_carte(CARTO_CARTES){id_carto_carte}><img alt="#TITRE" src="#URL_SITE_SPIP/spip_carto.php?fond_carte=[(#URL_CARTE)][&amp;scale=(#ENV{scale})][&amp;x=(#ENV{x})][&amp;y=(#ENV{y})]" usemap="#map#ID_CARTO_CARTE" border="0"/><B_objets><map name="map#ID_CARTO_CARTE"><BOUCLE_objets(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><area shape="[(#GEOMETRIE|wkt2shape)]" coords="[(#GEOMETRIE|wkt2coords)]" href="#URL_OBJET" alt="#TITRE"/></BOUCLE_objets></map></B_objets></BOUCLE_carte>
--- NEW FILE: carto_lien.html ---
<div style="float: left;visibility: visible; margin: 0px; padding: 0px;"><div style="position: absolute;"><BOUCLE_carte(CARTO_CARTES){id_carto_carte}><B_objets><map name="map#ID_CARTO_CARTE"><BOUCLE_objets(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><area shape="[(#GEOMETRIE|wkt2shape)]" coords="[(#GEOMETRIE|wkt2coords)]" href="#URL_OBJET" alt="#TITRE"/></BOUCLE_objets></map></B_objets><img alt="#TITRE" src="#URL_SITE_SPIP/spip_carto.php?fond_carte=[(#URL_CARTE)][&amp;scale=(#ENV{scale})][&amp;x=(#ENV{x})][&amp;y=(#ENV{y})]" usemap="#map#ID_CARTO_CARTE" border="1"/><BOUCLE_objets2(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><div style="position: absolute;margin: 0px; padding: 0px;[(#GEOMETRIE|wkt2style)]border: 0px;"><a href="#URL_OBJET" alt="#TEXTE"><BOUCLE_mot(MOTS){id_carto_objet}{par titre}{0,1}>[(#LOGO_MOT)]</BOUCLE_mot> #TITRE</a></div></BOUCLE_objets2></BOUCLE_carte></div></div>
--- NEW FILE: carto_logo.html ---
<div style="position: relative;visibility: visible; margin: 0px; padding: 0px;"><div style="position: absolute;"><BOUCLE_carte(CARTO_CARTES){id_carto_carte}><B_objets><map name="map#ID_CARTO_CARTE"><BOUCLE_objets(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><area shape="[(#GEOMETRIE|wkt2shape)]" coords="[(#GEOMETRIE|wkt2coords)]" href="#URL_OBJET" alt="#TITRE"/></BOUCLE_objets></map></B_objets><img alt="#TITRE" src="#URL_SITE_SPIP/spip_carto.php?fond_carte=[(#URL_CARTE)][&amp;scale=(#ENV{scale})][&amp;x=(#ENV{x})][&amp;y=(#ENV{y})]" usemap="#map#ID_CARTO_CARTE" border="1"/><BOUCLE_objets2(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><a href="#URL_OBJET"><img style="position: absolute;margin: 0px; padding: 0px;[(#GEOMETRIE|wkt2style)]border: 0px;" alt="#TEXTE" src="<BOUCLE_mot(MOTS){id_carto_objet=#ID_CARTO_OBJET}{par titre}{0,1}>IMG/moton[(#ID_MOT)].gif</BOUCLE_mot>" border="0"/></a></BOUCLE_objets2></BOUCLE_carte></div></div>
--- NEW FILE: carto_logox.html ---
<div style="float: left;visibility: visible; margin: 0px; padding: 0px;"><div style="position: absolute;"><BOUCLE_carte(CARTO_CARTES){id_carto_carte}><B_objets><map name="map#ID_CARTO_CARTE"><BOUCLE_objets(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><area shape="[(#GEOMETRIE|wkt2shape)]" coords="[(#GEOMETRIE|wkt2coords)]" href="#URL_OBJET" alt="#TITRE"/></BOUCLE_objets></map></B_objets><img alt="#TITRE" src="#URL_SITE_SPIP/spip_carto.php?fond_carte=[(#URL_CARTE)][&amp;scale=(#ENV{scale})][&amp;x=(#ENV{x})][&amp;y=(#ENV{y})]" usemap="#map#ID_CARTO_CARTE" border="1"/><BOUCLE_objets2(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><BOUCLE_mot(MOTS){id_carto_objet=#ID_CARTO_OBJET}{par titre}{0,1}>[<div style="position: absolute;margin: 0px; padding: 0px;[(#GEOMETRIE|wkt2style)]border: 0px;"><a href="#URL_OBJET">(#LOGO_MOT)</a></div>]</BOUCLE_mot></BOUCLE_objets2></BOUCLE_carte></div></div>
--- NEW FILE: toto.html ---
<BOUCLE_toto(SPIP_TOTO){id_toto}>#TITRE</BOUCLE_toto>


From mose at berlios.de  Tue Feb  8 16:38:30 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 16:38:30 +0100
Subject: [Spip-carto-cvs] CVSROOT modules,1.5,1.6
Message-ID: <200502081538.j18FcU8Y007346@sheep.berlios.de>

Update of /cvsroot/spip-carto/CVSROOT
In directory sheep:/tmp/cvs-serv7332

Modified Files:
	modules 
Log Message:
adjust module

Index: modules
===================================================================
RCS file: /cvsroot/spip-carto/CVSROOT/modules,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- modules	13 Jan 2005 17:51:23 -0000	1.5
+++ modules	8 Feb 2005 15:38:28 -0000	1.6
@@ -25,6 +25,6 @@
 # can be useful for creating a module that consists of many directories
 # spread out over the entire source repository.
 
-spipcarto  spip-carto
-spip-carto spip-carto
+spipcarto  spipcarto
+spip-carto spipcarto
 



From mose at berlios.de  Tue Feb  8 16:10:13 2005
From: mose at berlios.de (mose at berlios.de)
Date: Tue, 8 Feb 2005 16:10:13 +0100
Subject: [Spip-carto-cvs] spipcarto carto-proto1.1.sql,NONE,1.1 article.php3,1.1,1.2 auteur.php3,1.1,1.2 backend-breves.php3,1.1,1.2 backend.php3,1.1,1.2 breve.php3,1.1,1.2 carto.php3,1.1,1.2 distrib.php3,1.1,1.2 downloadfile.class.php,1.1,1.2 forum.php3,1.1,1.2 habillage.css,1.1,1.2 htaccess-html.txt,1.1,1.2 htaccess-propres.txt,1.1,1.2 ical.php3,1.1,1.2 impression.css,1.1,1.2 inc-admin.php3,1.1,1.2 inc-balises.php3,1.1,1.2 inc-boucles.php3,1.1,1.2 inc-cache.php3,1.1,1.2 inc-calcul-outils.php3,1.1,1.2 inc-calcul.php3,1.1,1.2 inc-compilo-api.php3,1.1,1.2 inc-compilo-index.php3,1.1,1.2 inc-compilo.php3,1.1,1.2 inc-criteres.php3,1.1,1.2 inc-html-squel.php3,1.1,1.2 inc-messforum.php3,1.1,1.2 inc-public-global.php3,1.1,1.2 inc-public.php3,1.1,1.2 inc-stats.php3,1.1,1.2 inc-urls-html.php3,1.1,1.2 inc-urls-propres.php3,1.1,1.2 inc-urls-standard.php3,1.1,1.2 index.php,1.1,1.2 index.php3,1.1,1.2 mes_fonctions.php3,1.1,1.2 mot.php3,1.1,1.2 plan.php3,1.1,1.2 recherche.php3,1.1,1.2 resume.php3,1.1,1.2 !
 rubrique.php3,1.1,1.2 site.php3,1.1,1.2 sommaire.php3,1.1,1.2 sommaire_texte.php3,1.1,1.2 spip_acces_doc.php3,1.1,1.2 spip_admin.css,1.1,1.2 spip_background.php3,1.1,1.2 spip_barre.js,1.1,1.2 spip_cache.php3,1.1,1.2 spip_cal.php3,1.1,1.2 spip_carto.php,1.1,1.2 spip_cookie.php3,1.1,1.2 spip_image.php3,1.1,1.2 spip_image_reduite.php3,1.1,1.2 spip_inscription.php3,1.1,1.2 spip_login.php3,1.1,1.2 spip_pass.php3,1.1,1.2 spip_redirect.php3,1.1,1.2 spip_style.css,1.1,1.2 spip_test_dirs.php3,1.1,1.2 typographie.css,1.1,1.2 .project,1.1,NONE article-dist.html,1.1,NONE auteur-dist.html,1.1,NONE backend-breves-dist.html,1.1,NONE backend-dist.html,1.1,NONE breve-dist.html,1.1,NONE carto-proto.sql,1.1,NONE carto.html,1.1,NONE distrib-dist.html,1.1,NONE formulaire_admin-dist.html,1.1,NONE formulaire_ecrire_auteur-dist.html,1.1,NONE formulaire_forum-dist.html,1.1,NONE formulaire_inscription-dist.html,1.1,NONE formulaire_login-dist.html,1.1,NONE formulaire_menu_lang-dist.html,1.1,NONE form!
 ulaire_oubli-dist.html,1.1,NONE formulaire_recherche-dist.html,1.1,NON
Message-ID: <200502081510.j18FAD8Y005808@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv5765

Modified Files:
	article.php3 auteur.php3 backend-breves.php3 backend.php3 
	breve.php3 carto.php3 distrib.php3 downloadfile.class.php 
	forum.php3 habillage.css htaccess-html.txt 
	htaccess-propres.txt ical.php3 impression.css inc-admin.php3 
	inc-balises.php3 inc-boucles.php3 inc-cache.php3 
	inc-calcul-outils.php3 inc-calcul.php3 inc-compilo-api.php3 
	inc-compilo-index.php3 inc-compilo.php3 inc-criteres.php3 
	inc-html-squel.php3 inc-messforum.php3 inc-public-global.php3 
	inc-public.php3 inc-stats.php3 inc-urls-html.php3 
	inc-urls-propres.php3 inc-urls-standard.php3 index.php 
	index.php3 mes_fonctions.php3 mot.php3 plan.php3 
	recherche.php3 resume.php3 rubrique.php3 site.php3 
	sommaire.php3 sommaire_texte.php3 spip_acces_doc.php3 
	spip_admin.css spip_background.php3 spip_barre.js 
	spip_cache.php3 spip_cal.php3 spip_carto.php spip_cookie.php3 
	spip_image.php3 spip_image_reduite.php3 spip_inscription.php3 
	spip_login.php3 spip_pass.php3 spip_redirect.php3 
	spip_style.css spip_test_dirs.php3 typographie.css 
Added Files:
	carto-proto1.1.sql 
Removed Files:
	.project article-dist.html auteur-dist.html 
	backend-breves-dist.html backend-dist.html breve-dist.html 
	carto-proto.sql carto.html distrib-dist.html 
	formulaire_admin-dist.html formulaire_ecrire_auteur-dist.html 
	formulaire_forum-dist.html formulaire_inscription-dist.html 
	formulaire_login-dist.html formulaire_menu_lang-dist.html 
	formulaire_oubli-dist.html formulaire_recherche-dist.html 
	formulaire_signature-dist.html formulaire_site-dist.html 
	forum-dist.html ical-dist.html inc-chercher.php3 
	inc-formulaire_admin.php3 inc-formulaire_ecrire_auteur.php3 
	inc-formulaire_forum.php3 inc-formulaire_inscription.php3 
	inc-formulaire_recherche.php3 inc-formulaire_signature.php3 
	inc-formulaire_site.php3 inc-login_prive.php3 
	inc-login_public.php3 inc-menu_lang.php3 
	inc-menu_lang_ecrire.php3 inc-url_logout.php3 login-dist.html 
	mot-dist.html nouveautes-dist.html plan-dist.html 
	project.index recherche-dist.html resume-dist.html 
	rubrique-dist.html site-dist.html sommaire-dist.html 
	sommaire_texte-dist.html spipcarto.zip 
Log Message:
update a partir de spipcarto_proto1.3.zip

--- NEW FILE: carto-proto1.1.sql ---
#
# Table structure for table 'spip_carto_cartes'
#

CREATE TABLE `spip_carto_cartes` (
  `id_carto_carte` smallint(5) unsigned NOT NULL auto_increment,
  `url_carte` varchar(255) NOT NULL default '',
  `titre` varchar(255) NOT NULL default '',
  `texte` text NOT NULL,
  `callage` text NOT NULL,
  `id_srs` smallint(5) unsigned default NULL,
  `idx` enum('','1','non','oui','idx') NOT NULL default '',
  PRIMARY KEY  (`id_carto_carte`),
  KEY `titre` (`titre`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_carto_cartes_articles'
#

CREATE TABLE `spip_carto_cartes_articles` (
  `id_carto_carte` smallint(5) unsigned NOT NULL default '0',
  `id_article` smallint(5) unsigned NOT NULL default '0',
  PRIMARY KEY  (`id_carto_carte`,`id_article`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_carto_objets'
#

CREATE TABLE `spip_carto_objets` (
  `id_carto_objet` smallint(5) unsigned NOT NULL auto_increment,
  `id_carto_carte` smallint(5) unsigned NOT NULL default '0',
  `titre` varchar(255) NOT NULL default '',
  `texte` text NOT NULL,
  `url_objet` text,
  `url_logo` text,
  `geometrie` text,
  `idx` enum('','1','non','oui','idx') NOT NULL default '',
  PRIMARY KEY  (`id_carto_objet`),
  KEY `id_carte` (`id_carto_carte`),
  KEY `titre` (`titre`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_carto_srs'
#

CREATE TABLE `spip_carto_srs` (
  `id_carto_srs` smallint(5) unsigned NOT NULL auto_increment,
  `label` varchar(30) NOT NULL default '',
  `code` smallint(6) NOT NULL default '0',
  PRIMARY KEY  (`id_carto_srs`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_documents_carto_cartes'
#

CREATE TABLE `spip_documents_carto_cartes` (
  `id_carto_carte` smallint(5) unsigned NOT NULL default '0',
  `id_document` smallint(5) unsigned NOT NULL default '0',
  `callage` text,
  PRIMARY KEY  (`id_carto_carte`,`id_document`)
) TYPE=MyISAM;



#
# Table structure for table 'spip_mots_carto_objets'
#

CREATE TABLE `spip_mots_carto_objets` (
  `id_carto_objet` smallint(5) unsigned NOT NULL default '0',
  `id_mot` smallint(5) unsigned NOT NULL default '0',
  `ordre` tinyint(3) unsigned NOT NULL default '0',
  PRIMARY KEY  (`id_carto_objet`,`id_mot`),
  KEY `ordre` (`ordre`)
) TYPE=MyISAM;


ALTER TABLE `spip_groupes_mots` ADD `carto_objets` CHAR( 3 ) NOT NULL AFTER `syndic` ;

ALTER TABLE `spip_groupes_mots` ADD INDEX ( `carto_objets` ) ;


INSERT INTO spip_meta(nom, valeur, maj) VALUES ('activer_carto','oui',now());
INSERT INTO spip_meta(nom, valeur, maj) VALUES ('carto_mots','oui',now());
Index: article.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/article.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- article.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ article.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,8 +1,8 @@
-<?php
-
-$fond = "article";
-$delais = 24 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+$fond = "article";
+$delais = 24 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: auteur.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/auteur.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- auteur.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ auteur.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,7 +1,7 @@
-<?php
-$fond = "auteur";
-$delais = 24 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "auteur";
+$delais = 24 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: backend-breves.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/backend-breves.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- backend-breves.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ backend-breves.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,12 +1,12 @@
-<?php
-$fond = "backend-breves";
-$delais = 3600;
-
-// cette ligne empeche l'affichage des boutons d'administration
-$flag_preserver = true;
-
- at header("Content-type: text/xml");
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "backend-breves";
+$delais = 3600;
+
+// cette ligne empeche l'affichage des boutons d'administration
+$flag_preserver = true;
+
+ at header("Content-type: text/xml");
+
+include ("inc-public.php3");
+
+?>

Index: backend.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/backend.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- backend.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ backend.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,14 +1,14 @@
-<?php
-$fond = "backend";
-$delais = 3600;
-
-// cette ligne empeche l'affichage des boutons d'administration
-// Et les headers !!!!
-
-$flag_preserver = true;
-
- at header("Content-type: text/xml");
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "backend";
+$delais = 3600;
+
+// cette ligne empeche l'affichage des boutons d'administration
+// Et les headers !!!!
+
+$flag_preserver = true;
+
+ at header("Content-type: text/xml");
+
+include ("inc-public.php3");
+
+?>

Index: breve.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/breve.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- breve.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ breve.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,8 +1,8 @@
-<?php
-$fond = "breve";
-$delais = 12 * 3600;
-
-include ("inc-public.php3");
-
-
-?>
+<?php
+$fond = "breve";
+$delais = 12 * 3600;
+
+include ("inc-public.php3");
+
+
+?>

Index: carto.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/carto.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- carto.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ carto.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,8 +1,8 @@
-<?php
-
-$fond = "carto";
-$delais = 24*3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+$fond = "carto";
+$delais = 24*3600;
+
+include ("inc-public.php3");
+
+?>

Index: distrib.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/distrib.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- distrib.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ distrib.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,10 +1,10 @@
-<?php
-$fond = "distrib";
-$delais = 3600;
-
-// cette ligne empeche l'affichage des boutons d'administration
-$flag_preserver = true;
-
-include ("inc-public.php3");
-
+<?php
+$fond = "distrib";
+$delais = 3600;
+
+// cette ligne empeche l'affichage des boutons d'administration
+$flag_preserver = true;
+
+include ("inc-public.php3");
+
 ?>

Index: downloadfile.class.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/downloadfile.class.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- downloadfile.class.php	13 Jan 2005 15:37:14 -0000	1.1
+++ downloadfile.class.php	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,72 +1,72 @@
-<?
-/*
- * Class has simple interface to download any file from a server
- * without displaying the location of the file
- *
- * Author: Viatcheslav Ivanov, E-Witness Inc., Canada;
- * mail: ivanov at e-witness.ca;
- * web: www.e-witness.ca; www.coolwater.ca; www.strongpost.net;
- * version: 1.1 /08.19.2002
- *
- */
-
-if ( !defined("DOWNLOADFILE_H") ) {
-
-	define("DOWNLOADFILE_H",1);
-
-	class DOWNLOADFILE {
-		var $df_path = "";
-		var $df_contenttype = "";
-		var $df_contentdisposition = "";
-		var $df_filename = "";
-
-		function DOWNLOADFILE($df_path, $df_contentdisposition = "attachment", $df_filename = "") {
-			$this->df_path = $df_path;
-			if (!function_exists ("mime_content_type")) {
- 					function mime_content_type ($file) {
-  					return exec ("file -bi " . escapeshellcmd($file));
- 				}
-			}
-			$df_contenttype=@mime_content_type($df_path);
-			if ($df_contenttype) $this->df_contenttype = $df_contenttype;
-			else $this->df_contenttype ="";// "application/octet-stream";
-			$this->df_contentdisposition = $df_contentdisposition;
-			$this->df_filename = ($df_filename)? $df_filename : basename($df_path);
-		}
-
-		// check is specified file exists?
-		function df_exists() {
-			if(@file_exists($this->df_path)) return true;
-			return false;
-		}
-
-		// get file size
-		function df_size() {
-			if($this->df_exists()) return filesize($this->df_path);
-			return false;
-		}
-
-		// return permission number for user 'other'
-		function df_permitother() {
-			return substr(decoct(fileperms($this->df_path)),-1);
-		}
-
-		// download file
-		function df_download() {
-			if($this->df_exists() && $this->df_permitother() >= 4) {
-				header("Content-type: ".$this->df_contenttype);
-				header("Content-Length: ".$this->df_size());
-				header("Content-Disposition: ".$this->df_contentdisposition."; filename=\"".$this->df_filename."\";");
-				header("Content-Transfer-Encoding: binary");
-				$fp = readfile($this->df_path, "r");
-				return $fp;
-				//echo "Content-type: ".$this->df_contenttype."Content-Length: ".$this->df_size()."Content-Disposition: ".$this->df_contentdisposition."; filename=\"".$this->df_filename."\";";
-			}
-			else return false;
-		}
-
-	}
-
-}
-
+<?
+/*
+ * Class has simple interface to download any file from a server
+ * without displaying the location of the file
+ *
+ * Author: Viatcheslav Ivanov, E-Witness Inc., Canada;
+ * mail: ivanov at e-witness.ca;
+ * web: www.e-witness.ca; www.coolwater.ca; www.strongpost.net;
+ * version: 1.1 /08.19.2002
+ *
+ */
+
+if ( !defined("DOWNLOADFILE_H") ) {
+
+	define("DOWNLOADFILE_H",1);
+
+	class DOWNLOADFILE {
+		var $df_path = "";
+		var $df_contenttype = "";
+		var $df_contentdisposition = "";
+		var $df_filename = "";
+
+		function DOWNLOADFILE($df_path, $df_contentdisposition = "attachment", $df_filename = "") {
+			$this->df_path = $df_path;
+			if (!function_exists ("mime_content_type")) {
+ 					function mime_content_type ($file) {
+  					return exec ("file -bi " . escapeshellcmd($file));
+ 				}
+			}
+			$df_contenttype=@mime_content_type($df_path);
+			if ($df_contenttype) $this->df_contenttype = $df_contenttype;
+			else $this->df_contenttype ="";// "application/octet-stream";
+			$this->df_contentdisposition = $df_contentdisposition;
+			$this->df_filename = ($df_filename)? $df_filename : basename($df_path);
+		}
+
+		// check is specified file exists?
+		function df_exists() {
+			if(@file_exists($this->df_path)) return true;
+			return false;
+		}
+
+		// get file size
+		function df_size() {
+			if($this->df_exists()) return filesize($this->df_path);
+			return false;
+		}
+
+		// return permission number for user 'other'
+		function df_permitother() {
+			return substr(decoct(fileperms($this->df_path)),-1);
+		}
+
+		// download file
+		function df_download() {
+			if($this->df_exists() && $this->df_permitother() >= 4) {
+				header("Content-type: ".$this->df_contenttype);
+				header("Content-Length: ".$this->df_size());
+				header("Content-Disposition: ".$this->df_contentdisposition."; filename=\"".$this->df_filename."\";");
+				header("Content-Transfer-Encoding: binary");
+				$fp = readfile($this->df_path, "r");
+				return $fp;
+				//echo "Content-type: ".$this->df_contenttype."Content-Length: ".$this->df_size()."Content-Disposition: ".$this->df_contentdisposition."; filename=\"".$this->df_filename."\";";
+			}
+			else return false;
+		}
+
+	}
+
+}
+
 ?>

Index: forum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/forum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- forum.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ forum.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,7 +1,20 @@
-<?php
-$fond = "forum";
-$delais = 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+$fond = "forum";
+$delais = 3600;
+
+// Exemples de personnalisation :
+// @ http://www.spip.net/fr_article1825.html
+//
+// 1. seuls les mots-cles du groupe de mots numero 1 doivent s'afficher
+// $afficher_groupe = array(1);
+//
+// 2. faire des forums uniquement pour affecter des mots-cles
+// $afficher_texte = "non";
+
+// En ca de forums sur abonnement, on a un panneau de login
+$flag_dynamique = true;
+
+include ("inc-public.php3");
+
+?>

Index: habillage.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/habillage.css,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- habillage.css	13 Jan 2005 15:37:14 -0000	1.1
+++ habillage.css	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,420 +1,420 @@
-
-
-/*
- * Mise en page des textes (bordures...)
- */
-
-.chapo {
-	line-height: 1.4em;
-	margin-top: 1em;
-}
-.texte {
-}
-.ps {
-	padding-top: 0.6em;
-	margin-top: 0.6em;
-	border-top: 1px dashed #404040;
-}
-.notes {
-	margin-top: 0.6em;
-	margin-bottom: 0.6em;
-	border-top: 1px solid #a0a0a0;
-	padding: 1.5em;
-}
-
-/*
- * Habillage des menus et de la navigation
- */
-
-.menu {
-	border: 1px solid #a0a0a0;
-	border-top: 0px;
-	padding: 0px;
-	margin: 0px;
-	margin-bottom: 16px;
-}
-.menu ul {
-	display: block;
-	margin: 0px;
-	padding: 0px;
-	padding-bottom: 4px;
-	list-style: none;
-}
-.menu ol {
-	display: block;
-	margin: 0px;
-	padding: 0px;
-	padding-bottom: 4px;
-	list-style: none;
-}
-.menu-titre {
-	border-top: 1px solid #a0a0a0;
-	border-bottom: 1px dashed #d0d0d0;
-	margin: 0px;
-	padding-left: 4px;
-	padding-right: 4px;
-	padding-top: 3px;
-	padding-bottom: 2px;
-	font-size: 90%;
-}
-.menu-item {
-	margin: 0px;
-	padding-left: 4px;
-	padding-right: 4px;
-	padding-top: 1px;
-	padding-bottom: 1px;
-	font-size: 80%;
-}
-
-/* Des couleurs specifiques selon les types de menus */
-
-.general		{ background-color: #f8f8e8; text-align:center; }
-.general .menu-titre 	{ background-color: #fcfcf0; }
-
-.rubriques 		{ background-color: #eaffea; text-align:center; }
-.rubriques .menu-titre	{ background-color: #f2fff2; }
-
-.breves 		{ background-color: #ffeaea; }
-.breves .menu-titre	{ background-color: #fff2f2; text-align:center; }
-
-.divers 		{ background-color: #eaeaff; }
-.divers .menu-titre	{ background-color: #f2f2ff; text-align:center; }
-
-.forums 		{ background-color: #e8f8f8; }
-.forums .menu-titre	{ background-color: #f0fcfc; text-align:center; }
-
-
-/*
- * Styles pour le contenu (c-a-d. la colonne principale)
- */
-
-.contenu {
-	margin: 15px;
-}
-.contenu h2.titre-extrait {
-}
-.contenu h2.titre-texte {
-}
-.contenu .surtitre {
-	margin-top: 0em;
-	margin-bottom: 0em;
-}
-.contenu .detail {
-	margin-left: 2em;
-}
-.contenu .detail .important {
-	color: #a02020;
-}
-.extrait {
-	margin: 0.1em;
-	margin-top: 0.5em;
-	margin-bottom: 0.5em;
-	margin-left: 2em;
-	margin-right: 0.1em;
-	line-height: 1.4em;
-}
-.liste-articles {
-	margin-top: 1em;
-	margin-bottom: 1em;
-	clear: left;
-}
-.contenu .forum-repondre {
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-	text-align: left;
-	font-size: 90%;
-	font-weight: bold;
-	margin-top: 0.6em;
-}
-
-
-/*
- * Disposition a l'ecran : colonnes, encarts, cartouches
- */
-
-#principal {
-	position: absolute;
-	left: 30%;
-	/*left: 18em;*/
-	top: 0px;
-	margin: 0px;
-	padding: 0px;
-	/*margin-right: 2em;*/
-	margin-right: 3%;
-	margin-top: 1.5em;
-}
-
-#plan {
-	position: absolute;
-	left: 2em;
-	top: 0px;
-	margin: 0px;
-	padding: 0px;
-	margin-right: 2em;
-	margin-top: 2em;
-}
-
-#navigation {
-	position: absolute;
-	left: 0px;
-	top: 0px;
-	width: 24%;
-	/*width: 14em;*/
-	padding: 0px;
-	margin: 0px;
-	/*margin-left: 1.8em;*/
-	margin-left: 3%;
-	margin-top: 1.5em;
-}
-
-.encart {
-	float: right;
-	/*width: 14em;*/
-	width: 34%;
-	margin-left: 4%;
-	/*margin-left: 2em;*/
-	margin-top: 1em;
-	margin-bottom: 0em;
-	margin-right: 0px;
-}
-
-.cartouche {
-	padding-top: 1em;
-	border-top: 2px solid #404040;
-	margin-bottom: 0em;
-}
-
-.cartouche .spip_logos {
-	margin-left: 0px;
-	padding-left: 0px;
-	margin-right: 0.8em;
-}
-
-
-/*
- * Habillage du plan du site
- */
-
-.plan-secteur {
-	margin-top: 0em;
-	margin-bottom: 3em;
-	clear: right;
-}
-
-.plan-secteur h1 {
-	display: block;
-	border: 1px solid #a0a0a0;
-	margin: 0px;
-	padding: 8px;
-	font-size: 150%;
-	font-weight: bold;
-	background-color: #e0ffe0;
-	text-align:center;
-}
-.plan-rubriques {
-	clear: left;
-	display: block;
-	list-style: none;
-}
-.plan-rubrique {
-	display: inline;
-	border: 1px solid #a0a0a0;
-	padding: 3px;
-	font-weight: bold;
-}
-.plan-articles {
-	clear: left;
-	margin-top: 0.5em;
-	margin-bottom: 1em;
-	list-style: square;
-}
-
-/* Eclaircissement progressif des rubriques en fonction de la profondeur */
-
-ul .plan-rubrique {
-	background-color: #e0ffe0;
-	border-color: #b8b8b8;
-}
-ul ul .plan-rubrique {
-	background-color: #eaffea;
-	border-color: #d0d0d0;
-}
-ul ul ul .plan-rubrique {
-	background-color: #f4fff4;
-	border-color: #e8e8e8;
-}
-
-
-/*
- * Habillage des forums
- */
-
-ul.forum-total {
-	display: block;
-	padding: 0px;
-	margin: 0px;
-	list-style: none;
-}
-.forum-fil {
-	margin-top: 3em;
-}
-.forum-fil ul {
-	display: block;
-	margin: 0px;
-	margin-left: 2em;
-	padding: 0px;
-	list-style: none;
-}
-.forum-titre {
-	font-weight: bold;
-	font-size: 120%;
-}
-.forum-item {
-	margin: 0px;
-	padding: 1em;
-	padding-top: 0.5em;
-	padding-bottom: 0em;
-	text-align: justify;
-	color: #303030;
-	font-size: 80%;
-}
-.forum-repondre-message {
-	text-align: right;
-}
-
-/* Boite d'un forum : eclaircissement progressif des bords */
-
-ul .forum {
-	border: 1px solid #909090;
-	padding: 0px;
-	margin: 0px;
-	margin-bottom: 1em;
-}
-ul ul .forum {
-	border: 1px solid #a4a4a4;
-}
-ul ul ul .forum {
-	border: 1px solid #b8b8b8;
-}
-ul ul ul ul .forum {
-	border: 1px solid #cccccc;
-}
-ul ul ul ul ul .forum {
-	border: 1px solid #e0e0e0;
-}
-ul ul ul ul ul ul .forum {
-	border: 1px dashed #e0e0e0;
-}
-
-/* Boite de titre d'un forum : mise en couleur selon la profondeur du forum */
-
-ul .forum-chapo {
-	border: 0px;
-	border-bottom: 1px dashed #b8b8b8;
-	margin: 0px;
-	padding-left: 6px;
-	padding-right: 6px;
-	padding-top: 3px;
-	padding-bottom: 2px;
-	font-size: 90%;
-	background: #c4e0e0;
-}
-ul ul .forum-chapo {
-	background: #d4e8e8;
-}
-ul ul ul .forum-chapo {
-	background: #e4f0f0;
-}
-ul ul ul ul .forum-chapo {
-	background: #f4f8f8;
-}
-ul ul ul ul ul .forum-chapo {
-	background: #ffffff;
-}
-
-
-/*
- * Habillage des petitions
- */
-
-.signatures {
-	margin-left: 0px;
-	margin-right: 0px;
-	margin-top: 1em;
-	margin-bottom: 1em;
-	width: 100%;
-}
-.signatures td {
-	-moz-border-radius: 0.4em;
-}
-.signatures-titre {
-	clear: right;
-	font-weight: bold;
-	font-size: 120%;
-	text-align: center;
-	padding: 0.5em;
-	margin: 0px;
-}
-.signature-date {
-	white-space: nowrap;
-	background: #e4f0f0;
-	padding: 0.5em;
-}
-.signature-nom {
-	font-weight: bold;
-	background: #ecf4f4;
-	padding: 0.2em;
-	text-align: center;
-}
-.signature-message {
-	font-size: 85%;
-	background: #f4f8f8;
-	padding: 0.4em;
-	text-align: justify;
-}
-
-
-/*
- * Formulaires
- */
-
-.formrecherche {
-	background-color: #f2f2f2;
-	color: #505030;
-	margin: 0px;
-	padding: 2px;
-	border: solid 1px #909090;
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-	font-size: 80%;
-	font-weight: normal;
-}
-
-.formulaire {
-	color: black;
-	margin: 0px;
-	margin-bottom: 16px;
-	padding: 4px;
-	border: 1px solid #a0a0a0;
-	background-color: #f6f6f6;
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-	font-size: 80%;
-	font-weight: normal;
-}
-.forml {
-	background-color: #ececec;
-	margin: 4px;
-	padding: 1px;
-	border: dashed 1px #909090;
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-	font-size: 90%;
-}
-.spip_bouton {
-	border: 2px solid #404040;
-	padding: 3px;
-	background: #d0d0d0;
-	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
-}
-
-.spip-admin {
-}
-
-
+
+
+/*
+ * Mise en page des textes (bordures...)
+ */
+
+.chapo {
+	line-height: 1.4em;
+	margin-top: 1em;
+}
+.texte {
+}
+.ps {
+	padding-top: 0.6em;
+	margin-top: 0.6em;
+	border-top: 1px dashed #404040;
+}
+.notes {
+	margin-top: 0.6em;
+	margin-bottom: 0.6em;
+	border-top: 1px solid #a0a0a0;
+	padding: 1.5em;
+}
+
+/*
+ * Habillage des menus et de la navigation
+ */
+
+.menu {
+	border: 1px solid #a0a0a0;
+	border-top: 0px;
+	padding: 0px;
+	margin: 0px;
+	margin-bottom: 16px;
+}
+.menu ul {
+	display: block;
+	margin: 0px;
+	padding: 0px;
+	padding-bottom: 4px;
+	list-style: none;
+}
+.menu ol {
+	display: block;
+	margin: 0px;
+	padding: 0px;
+	padding-bottom: 4px;
+	list-style: none;
+}
+.menu-titre {
+	border-top: 1px solid #a0a0a0;
+	border-bottom: 1px dashed #d0d0d0;
+	margin: 0px;
+	padding-left: 4px;
+	padding-right: 4px;
+	padding-top: 3px;
+	padding-bottom: 2px;
+	font-size: 90%;
+}
+.menu-item {
+	margin: 0px;
+	padding-left: 4px;
+	padding-right: 4px;
+	padding-top: 1px;
+	padding-bottom: 1px;
+	font-size: 80%;
+}
+
+/* Des couleurs specifiques selon les types de menus */
+
+.general		{ background-color: #f8f8e8; text-align:center; }
+.general .menu-titre 	{ background-color: #fcfcf0; }
+
+.rubriques 		{ background-color: #eaffea; text-align:center; }
+.rubriques .menu-titre	{ background-color: #f2fff2; }
+
+.breves 		{ background-color: #ffeaea; }
+.breves .menu-titre	{ background-color: #fff2f2; text-align:center; }
+
+.divers 		{ background-color: #eaeaff; }
+.divers .menu-titre	{ background-color: #f2f2ff; text-align:center; }
+
+.forums 		{ background-color: #e8f8f8; }
+.forums .menu-titre	{ background-color: #f0fcfc; text-align:center; }
+
+
+/*
+ * Styles pour le contenu (c-a-d. la colonne principale)
+ */
+
+.contenu {
+	margin: 15px;
+}
+.contenu h2.titre-extrait {
+}
+.contenu h2.titre-texte {
+}
+.contenu .surtitre {
+	margin-top: 0em;
+	margin-bottom: 0em;
+}
+.contenu .detail {
+	margin-left: 2em;
+}
+.contenu .detail .important {
+	color: #a02020;
+}
+.extrait {
+	margin: 0.1em;
+	margin-top: 0.5em;
+	margin-bottom: 0.5em;
+	margin-left: 2em;
+	margin-right: 0.1em;
+	line-height: 1.4em;
+}
+.liste-articles {
+	margin-top: 1em;
+	margin-bottom: 1em;
+	clear: left;
+}
+.contenu .forum-repondre {
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+	text-align: left;
+	font-size: 90%;
+	font-weight: bold;
+	margin-top: 0.6em;
+}
+
+
+/*
+ * Disposition a l'ecran : colonnes, encarts, cartouches
+ */
+
+#principal {
+	position: absolute;
+	left: 30%;
+	/*left: 18em;*/
+	top: 0px;
+	margin: 0px;
+	padding: 0px;
+	/*margin-right: 2em;*/
+	margin-right: 3%;
+	margin-top: 1.5em;
+}
+
+#plan {
+	position: absolute;
+	left: 2em;
+	top: 0px;
+	margin: 0px;
+	padding: 0px;
+	margin-right: 2em;
+	margin-top: 2em;
+}
+
+#navigation {
+	position: absolute;
+	left: 0px;
+	top: 0px;
+	width: 24%;
+	/*width: 14em;*/
+	padding: 0px;
+	margin: 0px;
+	/*margin-left: 1.8em;*/
+	margin-left: 3%;
+	margin-top: 1.5em;
+}
+
+.encart {
+	float: right;
+	/*width: 14em;*/
+	width: 34%;
+	margin-left: 4%;
+	/*margin-left: 2em;*/
+	margin-top: 1em;
+	margin-bottom: 0em;
+	margin-right: 0px;
+}
+
+.cartouche {
+	padding-top: 1em;
+	border-top: 2px solid #404040;
+	margin-bottom: 0em;
+}
+
+.cartouche .spip_logos {
+	margin-left: 0px;
+	padding-left: 0px;
+	margin-right: 0.8em;
+}
+
+
+/*
+ * Habillage du plan du site
+ */
+
+.plan-secteur {
+	margin-top: 0em;
+	margin-bottom: 3em;
+	clear: right;
+}
+
+.plan-secteur h1 {
+	display: block;
+	border: 1px solid #a0a0a0;
+	margin: 0px;
+	padding: 8px;
+	font-size: 150%;
+	font-weight: bold;
+	background-color: #e0ffe0;
+	text-align:center;
+}
+.plan-rubriques {
+	clear: left;
+	display: block;
+	list-style: none;
+}
+.plan-rubrique {
+	display: inline;
+	border: 1px solid #a0a0a0;
+	padding: 3px;
+	font-weight: bold;
+}
+.plan-articles {
+	clear: left;
+	margin-top: 0.5em;
+	margin-bottom: 1em;
+	list-style: square;
+}
+
+/* Eclaircissement progressif des rubriques en fonction de la profondeur */
+
+ul .plan-rubrique {
+	background-color: #e0ffe0;
+	border-color: #b8b8b8;
+}
+ul ul .plan-rubrique {
+	background-color: #eaffea;
+	border-color: #d0d0d0;
+}
+ul ul ul .plan-rubrique {
+	background-color: #f4fff4;
+	border-color: #e8e8e8;
+}
+
+
+/*
+ * Habillage des forums
+ */
+
+ul.forum-total {
+	display: block;
+	padding: 0px;
+	margin: 0px;
+	list-style: none;
+}
+.forum-fil {
+	margin-top: 3em;
+}
+.forum-fil ul {
+	display: block;
+	margin: 0px;
+	margin-left: 2em;
+	padding: 0px;
+	list-style: none;
+}
+.forum-titre {
+	font-weight: bold;
+	font-size: 120%;
+}
+.forum-item {
+	margin: 0px;
+	padding: 1em;
+	padding-top: 0.5em;
+	padding-bottom: 0em;
+	text-align: justify;
+	color: #303030;
+	font-size: 80%;
+}
+.forum-repondre-message {
+	text-align: right;
+}
+
+/* Boite d'un forum : eclaircissement progressif des bords */
+
+ul .forum {
+	border: 1px solid #909090;
+	padding: 0px;
+	margin: 0px;
+	margin-bottom: 1em;
+}
+ul ul .forum {
+	border: 1px solid #a4a4a4;
+}
+ul ul ul .forum {
+	border: 1px solid #b8b8b8;
+}
+ul ul ul ul .forum {
+	border: 1px solid #cccccc;
+}
+ul ul ul ul ul .forum {
+	border: 1px solid #e0e0e0;
+}
+ul ul ul ul ul ul .forum {
+	border: 1px dashed #e0e0e0;
+}
+
+/* Boite de titre d'un forum : mise en couleur selon la profondeur du forum */
+
+ul .forum-chapo {
+	border: 0px;
+	border-bottom: 1px dashed #b8b8b8;
+	margin: 0px;
+	padding-left: 6px;
+	padding-right: 6px;
+	padding-top: 3px;
+	padding-bottom: 2px;
+	font-size: 90%;
+	background: #c4e0e0;
+}
+ul ul .forum-chapo {
+	background: #d4e8e8;
+}
+ul ul ul .forum-chapo {
+	background: #e4f0f0;
+}
+ul ul ul ul .forum-chapo {
+	background: #f4f8f8;
+}
+ul ul ul ul ul .forum-chapo {
+	background: #ffffff;
+}
+
+
+/*
+ * Habillage des petitions
+ */
+
+.signatures {
+	margin-left: 0px;
+	margin-right: 0px;
+	margin-top: 1em;
+	margin-bottom: 1em;
+	width: 100%;
+}
+.signatures td {
+	-moz-border-radius: 0.4em;
+}
+.signatures-titre {
+	clear: right;
+	font-weight: bold;
+	font-size: 120%;
+	text-align: center;
+	padding: 0.5em;
+	margin: 0px;
+}
+.signature-date {
+	white-space: nowrap;
+	background: #e4f0f0;
+	padding: 0.5em;
+}
+.signature-nom {
+	font-weight: bold;
+	background: #ecf4f4;
+	padding: 0.2em;
+	text-align: center;
+}
+.signature-message {
+	font-size: 85%;
+	background: #f4f8f8;
+	padding: 0.4em;
+	text-align: justify;
+}
+
+
+/*
+ * Formulaires
+ */
+
+.formrecherche {
+	background-color: #f2f2f2;
+	color: #505030;
+	margin: 0px;
+	padding: 2px;
+	border: solid 1px #909090;
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+	font-size: 80%;
+	font-weight: normal;
+}
+
+.formulaire {
+	color: black;
+	margin: 0px;
+	margin-bottom: 16px;
+	padding: 4px;
+	border: 1px solid #a0a0a0;
+	background-color: #f6f6f6;
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+	font-size: 80%;
+	font-weight: normal;
+}
+.forml {
+	background-color: #ececec;
+	margin: 4px;
+	padding: 1px;
+	border: dashed 1px #909090;
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+	font-size: 90%;
+}
+.spip_bouton {
+	border: 2px solid #404040;
+	padding: 3px;
+	background: #d0d0d0;
+	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
+}
+
+.spip-admin {
+}
+
+

Index: htaccess-html.txt
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/htaccess-html.txt,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- htaccess-html.txt	13 Jan 2005 15:37:14 -0000	1.1
+++ htaccess-html.txt	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,17 +1,17 @@
-###########################################################
-# Fichier .htaccess pour les URLs 'html' ; a installer    #
-# si vous reglez $type_urls='html'                        #
-# dans ecrire/mes_options.php3 ou dans mes_fonctions.php3 #
-# (fichier associe : inc-urls-html.php3)                  #
-###########################################################
-
-RewriteEngine On
-
-### si votre site est en sous-domaine, preciser ci-dessous
-# RewriteBase /sous/domaine/
-
-RewriteRule ^rubrique([0-9]+)\.html$	rubrique.php3?id_rubrique=$1 [QSA,L]
-RewriteRule ^article([0-9]+)\.html$		article.php3?id_article=$1 [QSA,L]
-RewriteRule ^breve([0-9]+)\.html$		breve.php3?id_breve=$1 [QSA,L]
-RewriteRule ^mot([0-9]+)\.html$			mot.php3?id_mot=$1 [QSA,L]
-RewriteRule ^auteur([0-9]+)\.html$		auteur.php3?id_auteur=$1 [QSA,L]
+###########################################################
+# Fichier .htaccess pour les URLs 'html' ; a installer    #
+# si vous reglez $type_urls='html'                        #
+# dans ecrire/mes_options.php3                            #
+# (fichier associe : inc-urls-html.php3)                  #
+###########################################################
+
+RewriteEngine On
+
+### si votre site est en sous-domaine, preciser ci-dessous
+# RewriteBase /sous/domaine/
+
+RewriteRule ^rubrique([0-9]+)\.html$	rubrique.php3?id_rubrique=$1 [QSA,L]
+RewriteRule ^article([0-9]+)\.html$		article.php3?id_article=$1 [QSA,L]
+RewriteRule ^breve([0-9]+)\.html$		breve.php3?id_breve=$1 [QSA,L]
+RewriteRule ^mot([0-9]+)\.html$			mot.php3?id_mot=$1 [QSA,L]
+RewriteRule ^auteur([0-9]+)\.html$		auteur.php3?id_auteur=$1 [QSA,L]

Index: htaccess-propres.txt
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/htaccess-propres.txt,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- htaccess-propres.txt	13 Jan 2005 15:37:14 -0000	1.1
+++ htaccess-propres.txt	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,36 +1,36 @@
-###########################################################
-# Fichier .htaccess pour les URLs propres ; a installer   #
-# si vous reglez $type_urls='propre'                      #
-# dans ecrire/mes_options.php3 ou dans mes_fonctions.php3 #
-# (fichier associe : inc-urls-propres.php3)               #
-###########################################################
-
-RewriteEngine On
-
-### si votre site est en sous-domaine, preciser ci-dessous
-# RewriteBase /sous/domaine/
-
-# Rediriger les mots et breves sans le "+" final
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^(\+[^/\.\+]+)$ /$1+ [QSA,R]
-
-# Les mots-cles
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^\+-[^/\.]+-\+$ mot.php3 [QSA,E=url_propre:$0]
-
-# Les breves
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^\+[^/\.]+\+$ breve.php3 [QSA,E=url_propre:$0]
-
-# Les rubriques
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^-[^/\.]+-$ rubrique.php3 [QSA,E=url_propre:$0]
-
-# Les articles
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^[^/\.]+$ article.php3 [QSA,E=url_propre:$0]
+###########################################################
+# Fichier .htaccess pour les URLs propres ; a installer   #
+# si vous reglez $type_urls='propres'                     #
+# dans ecrire/mes_options.php3                            #
+# (fichier associe : inc-urls-propres.php3)               #
+###########################################################
+
+RewriteEngine On
+
+### si votre site est en sous-domaine, preciser ci-dessous
+# RewriteBase /sous/domaine/
+
+# Rediriger les mots et breves sans le "+" final
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^(\+[^/\.\+]+)$ /$1+ [QSA,R]
+
+# Les mots-cles
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^\+-[^/\.]+-\+$ mot.php3 [QSA,E=url_propre:$0]
+
+# Les breves
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^\+[^/\.]+\+$ breve.php3 [QSA,E=url_propre:$0]
+
+# Les rubriques
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^-[^/\.]+-$ rubrique.php3 [QSA,E=url_propre:$0]
+
+# Les articles
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^[^/\.]+$ article.php3 [QSA,E=url_propre:$0]

Index: ical.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ical.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ical.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ ical.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,12 +1,12 @@
-<?php
-
-$fond = "ical";
-$delais = 3600;
-
- at header ("content-type:text/calendar");
-
-$flag_preserver=true;
-include ("inc-public.php3");
-
-
-?>
+<?php
+
+$fond = "ical";
+$delais = 3600;
+
+ at header ("content-type:text/calendar");
+
+$flag_preserver=true;
+include ("inc-public.php3");
+
+
+?>

Index: impression.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/impression.css,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- impression.css	13 Jan 2005 15:37:14 -0000	1.1
+++ impression.css	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,114 +1,114 @@
-
-/*
- * Feuille de style specifique a l'impression
- */
- 
-/* Pour les liens, on desactive les couleurs
-   et on affiche l'URL cible a la suite du lien (!) */
-
-a { color: black; text-decoration: underline; }
-a:visited { color: black; text-decoration: underline; }
-a.spip_in { color: black; text-decoration: underline; }
-a.spip_out { color: black; text-decoration: underline; }
-a:after {
-	display: inline;
-	border: 1px solid dotted;
-	content: " [" attr(href) "]";
-}
-
-/*
- * Un peu de coquetterie
- */
-
-.chapo {
-	line-height: 1.4em;
-	margin-top: 1em;
-}
-.texte {
-}
-.ps {
-	padding-top: 0.6em;
-	margin-top: 0.6em;
-	border-top: 1px dashed #404040;
-}
-.notes {
-	margin-top: 0.6em;
-	margin-bottom: 0.6em;
-	border-top: 1px solid #707070;
-}
-.structure {
-	display: none;
-}
-.spip-admin {
-	display: none;
-}
-
-
-.contenu {
-	margin: 10px;
-}
-.contenu h1 {
-	margin-top: 0em;
-	margin-bottom: 0em;
-}
-.contenu h1.titre-extrait {
-}
-.contenu h1.titre-texte {
-}
-.contenu .surtitre {
-	margin-top: 0em;
-	margin-bottom: 0em;
-}
-.contenu .detail {
-	margin-left: 2em;
-}
-.extrait {
-	margin-top: 0.5em;
-	margin-bottom: 0.5em;
-	margin-left: 2em;
-	margin-right: 0em;
-	line-height: 1.4em;
-}
-
-
-/*
- * Disposition : on elimine les elements de navigation (display: none)
- * et on choisit un affichage de base pour le principal
- */
-
-#principal {
-	margin: 10px;
-}
-
-#navigation {
-	display: none;
-}
-
-.encart {
-	display: none;
-}
-
-.cartouche {
-	margin-top: 0.5em;
-	padding-top: 1em;
-	margin-bottom: 1em;
-}
-
-.cartouche .spip_logos {
-	margin-left: 0px;
-	padding-left: 0px;
-	margin-right: 0.8em;
-}
-
-
-/*
- * Forums
- */
-
-.forum-repondre {
-	display: none;
-}
-.forum-repondre-message {
-	display: none;
-}
-
+
+/*
+ * Feuille de style specifique a l'impression
+ */
+ 
+/* Pour les liens, on desactive les couleurs
+   et on affiche l'URL cible a la suite du lien (!) */
+
+a { color: black; text-decoration: underline; }
+a:visited { color: black; text-decoration: underline; }
+a.spip_in { color: black; text-decoration: underline; }
+a.spip_out { color: black; text-decoration: underline; }
+a:after {
+	display: inline;
+	border: 1px solid dotted;
+	content: " [" attr(href) "]";
+}
+
+/*
+ * Un peu de coquetterie
+ */
+
+.chapo {
+	line-height: 1.4em;
+	margin-top: 1em;
+}
+.texte {
+}
+.ps {
+	padding-top: 0.6em;
+	margin-top: 0.6em;
+	border-top: 1px dashed #404040;
+}
+.notes {
+	margin-top: 0.6em;
+	margin-bottom: 0.6em;
+	border-top: 1px solid #707070;
+}
+.structure {
+	display: none;
+}
+.spip-admin {
+	display: none;
+}
+
+
+.contenu {
+	margin: 10px;
+}
+.contenu h1 {
+	margin-top: 0em;
+	margin-bottom: 0em;
+}
+.contenu h1.titre-extrait {
+}
+.contenu h1.titre-texte {
+}
+.contenu .surtitre {
+	margin-top: 0em;
+	margin-bottom: 0em;
+}
+.contenu .detail {
+	margin-left: 2em;
+}
+.extrait {
+	margin-top: 0.5em;
+	margin-bottom: 0.5em;
+	margin-left: 2em;
+	margin-right: 0em;
+	line-height: 1.4em;
+}
+
+
+/*
+ * Disposition : on elimine les elements de navigation (display: none)
+ * et on choisit un affichage de base pour le principal
+ */
+
+#principal {
+	margin: 10px;
+}
+
+#navigation {
+	display: none;
+}
+
+.encart {
+	display: none;
+}
+
+.cartouche {
+	margin-top: 0.5em;
+	padding-top: 1em;
+	margin-bottom: 1em;
+}
+
+.cartouche .spip_logos {
+	margin-left: 0px;
+	padding-left: 0px;
+	margin-right: 0.8em;
+}
+
+
+/*
+ * Forums
+ */
+
+.forum-repondre {
+	display: none;
+}
+.forum-repondre-message {
+	display: none;
+}
+

Index: inc-admin.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-admin.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-admin.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-admin.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,17 +1,50 @@
-<?php
-
-// Inserer la feuille de style selon les normes, dans le <head>
-// Feuilles de style admin : d'abord la CSS officielle, puis la perso,
-function perso_admin($texte) {
-	$css = "<link rel='stylesheet' href='spip_admin.css' type='text/css' />\n";
-	if (@file_exists('spip_admin_perso.css'))
-		$css2 = "<link rel='stylesheet' href='spip_admin_perso.css' type='text/css' />\n";
-
-	if (eregi('<(/head|body)', $texte, $regs)) {
-		$texte = explode($regs[0], $texte, 2);
-		return $texte[0] . $css. $css2 . $regs[0] . $texte[1];
-	} else
-		return $css . $css2 . $texte;
-}
-
-?>
+<?php
+
+// Inserer la feuille de style selon les normes, dans le <head>
+// puis les boutons
+// Feuilles de style admin : d'abord la CSS officielle, puis la perso,
+
+function affiche_boutons_admin($contenu) {
+	$css = "<link rel='stylesheet' href='spip_admin.css' type='text/css' />\n";
+	if ($f = find_in_path('spip_admin_perso.css'))
+		$css2 = "<link rel='stylesheet' href='$f' type='text/css' />\n";
+
+	if (preg_match('@<(/head|body)@i', $contenu, $regs)) {
+		$contenu = explode($regs[0], $contenu, 2);
+		$contenu = $contenu[0] . $css. $css2 . $regs[0] . $contenu[1];
+	} else
+		$contenu = $css . $css2 . $contenu;
+
+	if (preg_match('@<(/body|/html)@i', $contenu, $regs)) {
+		$split = explode($regs[0], $contenu, 2);
+		$contenu = $split[0];
+		$suite = $regs[0].$split[1];
+	}
+
+	echo $contenu;
+
+	//
+	// Regler les boutons dans la langue de l'admin (sinon tant pis)
+	//
+	include_local(_FILE_CONNECT);
+	include_ecrire ("inc_lang.php3");
+	$login = addslashes(ereg_replace('^@','',$GLOBALS['spip_admin']));
+	if ($row = spip_fetch_array(spip_query("SELECT lang FROM spip_auteurs WHERE login='$login'"))) {
+		$lang = $row['lang'];
+	}
+	lang_select($lang);
+
+	// Afficher la balise #FORMULAIRE_ADMIN mais en float
+	inclure_balise_dynamique(
+		balise_formulaire_admin_dyn(
+		$GLOBALS['id_article'], $GLOBALS['id_breve'],
+		$GLOBALS['id_rubrique'], $GLOBALS['id_mot'],
+		$GLOBALS['id_auteur'], 'div'
+	));
+
+	lang_dselect();
+
+	return $suite;
+}
+
+?>

Index: inc-balises.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-balises.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-balises.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-balises.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,684 +1,732 @@
-<?php
-
-//
-// Ce fichier regroupe la quasi totalite des definitions de #BALISES de spip
-// Pour chaque balise, il est possible de surcharger, dans mes_fonctions.php3,
-// la fonction balise_TOTO_dist par une fonction balise_TOTO() respectant la
-// meme API : 
-// elle recoit en entree un objet de classe CHAMP, le modifie et le retourne.
-// Cette classe est definie dans inc-compilo-index.php3
-//
-
[...1385 lines suppressed...]
+// La syntaxe #ENV{toto, rempl} renverra 'rempl' si $toto est vide
+//
+function balise_ENV_dist($p) {
+	$nom = param_balise($p);
+	if (!$nom) {
+		// cas de #ENV sans argument : on retourne le serialize() du tableau
+		// une belle fonction [(#ENV|affiche_env)] serait pratique
+		$p->code = 'serialize($Pile[0])';
+		$p->statut = 'html';
+	} else {
+		// admet deux arguments : nom de variable, valeur par defaut si vide
+		$nom = split(',', $nom, 2);
+		$p->code = 'sinon($Pile[0]["' . addslashes($nom[0]) . '"],
+			\''. texte_script($nom[1]) .'\')';
+		$p->statut = 'php';
+	}
+	return $p;
+}
+
+?>

Index: inc-boucles.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-boucles.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-boucles.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-boucles.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,232 +1,232 @@
-<?php
-
-//
-// Ce fichier definit les boucles standard de SPIP
-//
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_BOUCLES")) return;
-define("_INC_BOUCLES", "1");
-
-
-//
-// Boucle sur une table hors SPIP
-//
-function boucle_DEFAUT($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$boucle->from[] =  $boucle->type_requete . " AS " . $boucle->type_requete;
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(BOUCLE)> boucle dite recursive
-//
-function boucle_BOUCLE_dist($id_boucle, &$boucles) {
-
-	    return "\n	\$t0 = " . $boucles[$id_boucle]->return . ";";
-}
-
-//
-// <BOUCLE(ARTICLES)>
-//
-function boucle_ARTICLES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "articles AS $id_table";
-	if (!$GLOBALS['var_preview']) {
-		$boucle->where[] = "$id_table.statut='publie'";
-		if (lire_meta("post_dates") == 'non')
-			$boucle->where[] = "$id_table.date < NOW()";
-	} else
-		$boucle->where[] = "$id_table.statut IN ('publie','prop')";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-//
-// <BOUCLE(AUTEURS)>
-//
-function boucle_AUTEURS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "auteurs AS $id_table";
-	// Si pas de lien avec un article, selectionner
-	// uniquement les auteurs d'un article publie
-	if (!$GLOBALS['var_preview'])
-	if (!$boucle->lien AND !$boucle->tout) {
-		$boucle->from[] =  "auteurs_articles AS lien";
-		$boucle->from[] =  "articles AS articles";
-		$boucle->where[] = "lien.id_auteur=$id_table.id_auteur";
-		$boucle->where[] = 'lien.id_article=articles.id_article';
-		$boucle->where[] = "articles.statut='publie'";
-		$boucle->group =  $boucle->id_table . '.' . $boucle->primary;
-	}
-	// pas d'auteurs poubellises
-	$boucle->where[] = "NOT($id_table.statut='5poubelle')";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-//
-// <BOUCLE(BREVES)>
-//
-function boucle_BREVES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "breves AS $id_table";
-	if (!$GLOBALS['var_preview'])
-		$boucle->where[] = "$id_table.statut='publie'";
-	else
-		$boucle->where[] = "$id_table.statut IN ('publie','prop')";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(FORUMS)>
-//
-function boucle_FORUMS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "forum AS $id_table";
-	// Par defaut, selectionner uniquement les forums sans pere
-	if (!$boucle->tout AND !$boucle->plat) 
-		{
-	$boucle->where[] = "$id_table.id_parent=0";
-		}
-	$boucle->where[] = "$id_table.statut='publie'";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(SIGNATURES)>
-//
-function boucle_SIGNATURES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "signatures AS $id_table";
-	$boucle->from[] =  "petitions AS petitions";
-	$boucle->from[] =  "articles articles";
-	$boucle->where[] = "petitions.id_article=articles.id_article";
-	$boucle->where[] = "petitions.id_article=$id_table.id_article";
-	$boucle->where[] = "$id_table.statut='publie'";
-	$boucle->group =  $boucle->id_table . '.' . $boucle->primary;
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(DOCUMENTS)>
-//
-function boucle_DOCUMENTS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "documents AS $id_table";
-	$boucle->from[] =  "types_documents AS types_documents";
-	$boucle->where[] = "$id_table.id_type=types_documents.id_type";
-	$boucle->where[] = "$id_table.taille > 0";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(TYPES_DOCUMENTS)>
-//
-function boucle_TYPES_DOCUMENTS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "types_documents AS $id_table";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(GROUPES_MOTS)>
-//
-function boucle_GROUPES_MOTS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "groupes_mots AS $id_table";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(MOTS)>
-//
-function boucle_MOTS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "mots AS $id_table";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(RUBRIQUES)>
-//
-function boucle_RUBRIQUES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "rubriques AS $id_table";
-	if (!$GLOBALS['var_preview'])
-		if (!$boucle->tout) $boucle->where[] = "$id_table.statut='publie'";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(HIERARCHIE)>
-//
-function boucle_HIERARCHIE_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "rubriques AS $id_table";
-
-	// Si la boucle mere est une boucle RUBRIQUES il faut ignorer la feuille
-	// sauf si le critere {tout} est present (cf. inc-html-squel)
-	$exclure_feuille = ($boucle->tout ? 'false' : 'true');
-
-	// $hierarchie sera calculee par une fonction de inc-calcul-outils
-	$boucle->where[] = 'id_rubrique IN ($hierarchie)';
-	$boucle->select[] = 'FIND_IN_SET(id_rubrique, \'$hierarchie\')-1 AS rang';
-	$boucle->order = 'rang';
-	$boucle->hierarchie = '$hierarchie = calculer_hierarchie('
-	. calculer_argument_precedent($boucle->id_boucle, 'id_rubrique', $boucles)
-	. ', '
-	. $exclure_feuille
-	. ');';
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(SYNDICATION)>
-//
-function boucle_SYNDICATION_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "syndic AS $id_table";
-	$boucle->where[] = "$id_table.statut='publie'";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(SYNDIC_ARTICLES)>
-//
-function boucle_SYNDIC_ARTICLES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "syndic_articles  AS $id_table";
-	$boucle->from[] =  "syndic AS syndic";
-	$boucle->where[] = "$id_table.id_syndic=syndic.id_syndic";
-	$boucle->where[] = "$id_table.statut='publie'";
-	$boucle->where[] = "syndic.statut='publie'";
-	$boucle->select[]='syndic.nom_site AS nom_site'; # derogation zarbi
-	$boucle->select[]='syndic.url_site AS url_site'; # idem
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-?>
+<?php
+
+//
+// Ce fichier definit les boucles standard de SPIP
+//
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_BOUCLES")) return;
+define("_INC_BOUCLES", "1");
+
+
+//
+// Boucle sur une table hors SPIP
+//
+function boucle_DEFAUT($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$boucle->from[] =  $boucle->type_requete . " AS " . $boucle->type_requete;
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(BOUCLE)> boucle dite recursive
+//
+function boucle_BOUCLE_dist($id_boucle, &$boucles) {
+
+	    return "\n	\$t0 = " . $boucles[$id_boucle]->return . ";";
+}
+
+//
+// <BOUCLE(ARTICLES)>
+//
+function boucle_ARTICLES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_articles AS $id_table";
+	if (!$GLOBALS['var_preview']) {
+		$boucle->where[] = "$id_table.statut='publie'";
+		if (lire_meta("post_dates") == 'non')
+			$boucle->where[] = "$id_table.date < NOW()";
+	} else
+		$boucle->where[] = "$id_table.statut IN ('publie','prop')";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+//
+// <BOUCLE(AUTEURS)>
+//
+function boucle_AUTEURS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_auteurs AS $id_table";
+	// Si pas de lien avec un article, selectionner
+	// uniquement les auteurs d'un article publie
+	if (!$GLOBALS['var_preview'])
+	if (!$boucle->lien AND !$boucle->tout) {
+		$boucle->from[] =  "spip_auteurs_articles AS lien";
+		$boucle->from[] =  "spip_articles AS articles";
+		$boucle->where[] = "lien.id_auteur=$id_table.id_auteur";
+		$boucle->where[] = 'lien.id_article=articles.id_article';
+		$boucle->where[] = "articles.statut='publie'";
+		$boucle->group =  $boucle->id_table . '.' . $boucle->primary;
+	}
+	// pas d'auteurs poubellises
+	$boucle->where[] = "NOT($id_table.statut='5poubelle')";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+//
+// <BOUCLE(BREVES)>
+//
+function boucle_BREVES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_breves AS $id_table";
+	if (!$GLOBALS['var_preview'])
+		$boucle->where[] = "$id_table.statut='publie'";
+	else
+		$boucle->where[] = "$id_table.statut IN ('publie','prop')";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(FORUMS)>
+//
+function boucle_FORUMS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_forum AS $id_table";
+	// Par defaut, selectionner uniquement les forums sans pere
+	if (!$boucle->tout AND !$boucle->plat) 
+		{
+	$boucle->where[] = "$id_table.id_parent=0";
+		}
+	$boucle->where[] = "$id_table.statut='publie'";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(SIGNATURES)>
+//
+function boucle_SIGNATURES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_signatures AS $id_table";
+	$boucle->from[] =  "spip_petitions AS petitions";
+	$boucle->from[] =  "spip_articles articles";
+	$boucle->where[] = "petitions.id_article=articles.id_article";
+	$boucle->where[] = "petitions.id_article=$id_table.id_article";
+	$boucle->where[] = "$id_table.statut='publie'";
+	$boucle->group =  $boucle->id_table . '.' . $boucle->primary;
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(DOCUMENTS)>
+//
+function boucle_DOCUMENTS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_documents AS $id_table";
+	$boucle->from[] =  "spip_types_documents AS types_documents";
+	$boucle->where[] = "$id_table.id_type=types_documents.id_type";
+	$boucle->where[] = "$id_table.taille > 0";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(TYPES_DOCUMENTS)>
+//
+function boucle_TYPES_DOCUMENTS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_types_documents AS $id_table";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(GROUPES_MOTS)>
+//
+function boucle_GROUPES_MOTS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_groupes_mots AS $id_table";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(MOTS)>
+//
+function boucle_MOTS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_mots AS $id_table";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(RUBRIQUES)>
+//
+function boucle_RUBRIQUES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_rubriques AS $id_table";
+	if (!$GLOBALS['var_preview'])
+		if (!$boucle->tout) $boucle->where[] = "$id_table.statut='publie'";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(HIERARCHIE)>
+//
+function boucle_HIERARCHIE_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_rubriques AS $id_table";
+
+	// Si la boucle mere est une boucle RUBRIQUES il faut ignorer la feuille
+	// sauf si le critere {tout} est present (cf. inc-html-squel)
+	$exclure_feuille = ($boucle->tout ? 'false' : 'true');
+
+	// $hierarchie sera calculee par une fonction de inc-calcul-outils
+	$boucle->where[] = 'id_rubrique IN ($hierarchie)';
+	$boucle->select[] = 'FIND_IN_SET(id_rubrique, \'$hierarchie\')-1 AS rang';
+	$boucle->default_order = 'rang';
+	$boucle->hierarchie = '$hierarchie = calculer_hierarchie('
+	. calculer_argument_precedent($boucle->id_boucle, 'id_rubrique', $boucles)
+	. ', '
+	. $exclure_feuille
+	. ');';
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(SYNDICATION)>
+//
+function boucle_SYNDICATION_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_syndic AS $id_table";
+	$boucle->where[] = "$id_table.statut='publie'";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(SYNDIC_ARTICLES)>
+//
+function boucle_SYNDIC_ARTICLES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_syndic_articles  AS $id_table";
+	$boucle->from[] =  "spip_syndic AS syndic";
+	$boucle->where[] = "$id_table.id_syndic=syndic.id_syndic";
+	$boucle->where[] = "$id_table.statut='publie'";
+	$boucle->where[] = "syndic.statut='publie'";
+	$boucle->select[]='syndic.nom_site AS nom_site'; # derogation zarbi
+	$boucle->select[]='syndic.url_site AS url_site'; # idem
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+?>

Index: inc-cache.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-cache.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-cache.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-cache.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,202 +1,202 @@
-<?php
-
-//
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_CACHE")) return;
-define("_INC_CACHE", "1");
-
-
-//
-// Calcul du nom du fichier cache
-//
-
-function nettoyer_uri() {
-	$fichier_requete = $GLOBALS['REQUEST_URI'];
-	$fichier_requete = eregi_replace
-		('[?&](PHPSESSID|(var_[^=&]*))=[^&]*',
-		'', $fichier_requete);
-	return $fichier_requete;
-}
-
-//
-// Le format souhaite : "CACHE/a/(8400/)bout-d-url.md5(.gz)"
-// Attention a modifier simultanement le sanity check de
-// la fonction retire_cache()
-//
-function generer_nom_fichier_cache($contexte='', $fond='') {
-	global $delais;
-	global $flag_gz, $compresser_cache;
-
-	if ($delais == 0) return '';
-
-	if (!$contexte) {
-		$fichier_requete = nettoyer_uri();
-	} else {
-		$fichier_requete = $fond;
-		foreach ($contexte as $var=>$val)
-			$fichier_requete .= "&$var=$val";
-	}
-
-	$md_cache = md5($fichier_requete);
-
-	$fichier_cache = ereg_replace('^/+', '', $fichier_requete);
-	$fichier_cache = ereg_replace('\.[a-zA-Z0-9]*', '', $fichier_cache);
-	$fichier_cache = ereg_replace('&[^&]+=([^&]+)', '&\1', $fichier_cache);
-	$fichier_cache = rawurlencode(strtr($fichier_cache, '/&-', '--_'));
-	if (strlen($fichier_cache) > 24)
-		$fichier_cache = substr(ereg_replace('([a-zA-Z]{1,3})[^-]*-',
-		'\1-', $fichier_cache), -22);
-
-	// Pour la page d'accueil
-	if (!$fichier_cache)
-		$fichier_cache = 'INDEX-';
-
-	// morceau de md5
-	$fichier_cache .= '.'.substr($md_cache, 1, 8);
-
-	// Sous-repertoires 0...9a..f/
-	$subdir = creer_repertoire(_DIR_CACHE, substr($md_cache, 0, 1));
-	// Sous-sous-repertoires delais/ (inutile avec l'invalidation par 't')
-	# $subdir2 = creer_repertoire("CACHE/$subdir", $delais);
-
-	include_ecrire('inc_acces.php3');
-	verifier_htaccess(_DIR_CACHE);
-
-	$gzip = $flag_gz && $compresser_cache ? '.gz' : '';
-
-	return _DIR_CACHE . $subdir.$subdir2.$fichier_cache.$gzip;
-}
-
-//
-// Destruction des fichiers caches invalides
-//
-// NE PAS appeler ces fonctions depuis l'espace prive 
-// car openbase_dir peut leur interdire l'acces au repertoire de cache
-
-// Securite : est sur que c'est un cache
-function retire_cache($cache) {
-	if ($GLOBALS['flag_ecrire']) return;
-	if (preg_match('|^' . _DIR_CACHE .
-		"([0-9a-f]/)?([0-9]+/)?[^.][\-_\%0-9a-z]+\.[0-9a-f]+(\.gz)?$|i",
-		       $cache)) {
-		// supprimer le fichier (de facon propre)
-		supprimer_fichier($cache);
-	} else
-		spip_log("Impossible de retirer $cache");
-}
-
-// Supprimer les caches marques "x"
-function retire_caches() {
-	if ($GLOBALS['flag_ecrire']) return;
-
-	// signaler
-	effacer_meta('invalider');
-	ecrire_metas();
-
-	// recuperer la liste des caches voues a la suppression
-	$suppr = array();
-	$q = spip_query("SELECT fichier FROM spip_caches WHERE type='x'");
-	while ($r = spip_fetch_array($q))
-		$suppr[$r['fichier']] = true;
-
-	if ($n = count($suppr)) {
-		spip_log ("Retire $n caches");
-		foreach ($suppr as $cache => $ignore)
-			retire_cache($cache);
-		spip_query("DELETE FROM spip_caches WHERE "
-		.calcul_mysql_in('fichier', "'".join("','",$suppr)."'") );
-	}
-}
-
-//
-// Retourne 0 s'il faut calculer le cache, 1 si on peut l'utiliser
-//
-function utiliser_cache($chemin_cache, $delais) {
-	global $HTTP_SERVER_VARS;
-
-	// ne jamais calculer pour les moteurs de recherche, proxies...
-	if ($HTTP_SERVER_VARS['REQUEST_METHOD'] == 'HEAD')
-		return 1;
-
-	//  calcul par forcage
-	if ($GLOBALS['var_mode'] &&
-		($GLOBALS['HTTP_COOKIE_VARS']['spip_session']
-		|| $GLOBALS['HTTP_COOKIE_VARS']['spip_admin']
-		|| @file_exists(_ACCESS_FILE_NAME))) # insuffisant...
-		return 0;
-
-	// calcul par absence
-	if (!@file_exists($chemin_cache)) return 0;
-
-	// calcul par obsolescence
-	return ((time() - @filemtime($chemin_cache)) > $delais) ? 0 : 1;
-}
-
-
-// Obsolete ?  Utilisee pour vider le cache depuis l'espace prive
-// (ou juste les squelettes si un changement de config le necessite)
-function purger_repertoire($dir, $age='ignore', $regexp = '') {
-	$handle = @opendir($dir);
-	if (!$handle) return;
-
-	while (($fichier = @readdir($handle)) != '') {
-		// Eviter ".", "..", ".htaccess", etc.
-		if ($fichier[0] == '.') continue;
-		if ($regexp AND !ereg($regexp, $fichier)) continue;
-		$chemin = "$dir/$fichier";
-		if (is_file($chemin))
-			@unlink($chemin);
-		else if (is_dir($chemin))
-			if ($fichier != 'CVS')
-				purger_repertoire($chemin);
-	}
-	closedir($handle);
-}
-
-function purger_cache() {
-	spip_log('vider le cache');
-	include_ecrire('inc_invalideur.php3');
-	supprime_invalideurs();
-	purger_repertoire(_DIR_CACHE, 0);
-}
-
-function purger_squelettes() {
-	spip_log('effacer les squelettes compiles');
-	purger_repertoire(_DIR_CACHE, 0, '^skel_');
-}
-
-
-// Determination du fichier cache (si besoin)
-function determiner_cache($delais, &$use_cache, &$chemin_cache) {
-
-	// Le fichier cache est-il valide ?
-	if ($delais == 0 OR !empty($GLOBALS['HTTP_POST_VARS'])) {
-		$use_cache = 0;
-		$chemin_cache = '';
-	} else {
-		$use_cache = utiliser_cache($chemin_cache, $delais);
-	}
-
-	// Sinon, tester qu'on a la connexion a la base
-	if (!$use_cache) {
-		include_local(_FILE_CONNECT);
-		if (!$GLOBALS['db_ok']) {
-			if ($chemin_cache AND @file_exists($chemin_cache)) {
-				$use_cache = 1;
-			}
-			else {
-				spip_log("Erreur base de donnees & "
-					. "impossible utiliser $chemin_cache");
-				if (!$GLOBALS['flag_preserver']) {
-					include_ecrire('inc_presentation.php3');
-					install_debut_html(_T('info_travaux_titre'));
-					echo _T('titre_probleme_technique');
-					install_fin_html();
-				}
-				exit;
-			}
-		}
-	}
-}
-
-?>
+<?php
+
+//
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_CACHE")) return;
+define("_INC_CACHE", "1");
+
+
+//
+// Calcul du nom du fichier cache
+//
+
+function nettoyer_uri() {
+	$fichier_requete = $GLOBALS['REQUEST_URI'];
+	$fichier_requete = eregi_replace
+		('[?&](PHPSESSID|(var_[^=&]*))=[^&]*',
+		'', $fichier_requete);
+	return $fichier_requete;
+}
+
+//
+// Le format souhaite : "CACHE/a/(8400/)bout-d-url.md5(.gz)"
+// Attention a modifier simultanement le sanity check de
+// la fonction retire_cache()
+//
+function generer_nom_fichier_cache($contexte='', $fond='') {
+	global $delais;
+	global $flag_gz, $compresser_cache;
+
+	if ($delais == 0) return '';
+
+	if (!$contexte) {
+		$fichier_requete = nettoyer_uri();
+	} else {
+		$fichier_requete = $fond;
+		foreach ($contexte as $var=>$val)
+			$fichier_requete .= "&$var=$val";
+	}
+
+	$md_cache = md5($fichier_requete);
+
+	$fichier_cache = ereg_replace('^/+', '', $fichier_requete);
+	$fichier_cache = ereg_replace('\.[a-zA-Z0-9]*', '', $fichier_cache);
+	$fichier_cache = ereg_replace('&[^&]+=([^&]+)', '&\1', $fichier_cache);
+	$fichier_cache = rawurlencode(strtr($fichier_cache, '/&-', '--_'));
+	if (strlen($fichier_cache) > 24)
+		$fichier_cache = substr(ereg_replace('([a-zA-Z]{1,3})[^-]*-',
+		'\1-', $fichier_cache), -22);
+
+	// Pour la page d'accueil
+	if (!$fichier_cache)
+		$fichier_cache = 'INDEX-';
+
+	// morceau de md5
+	$fichier_cache .= '.'.substr($md_cache, 1, 8);
+
+	// Sous-repertoires 0...9a..f/
+	$subdir = creer_repertoire(_DIR_CACHE, substr($md_cache, 0, 1));
+	// Sous-sous-repertoires delais/ (inutile avec l'invalidation par 't')
+	# $subdir2 = creer_repertoire("CACHE/$subdir", $delais);
+
+	include_ecrire('inc_acces.php3');
+	verifier_htaccess(_DIR_CACHE);
+
+	$gzip = $flag_gz && $compresser_cache ? '.gz' : '';
+
+	return _DIR_CACHE . $subdir.$subdir2.$fichier_cache.$gzip;
+}
+
+//
+// Destruction des fichiers caches invalides
+//
+// NE PAS appeler ces fonctions depuis l'espace prive 
+// car openbase_dir peut leur interdire l'acces au repertoire de cache
+
+// Securite : est sur que c'est un cache
+function retire_cache($cache) {
+	if (!_DIR_RESTREINT) return;
+	if (preg_match('|^' . _DIR_CACHE .
+		"([0-9a-f]/)?([0-9]+/)?[^.][\-_\%0-9a-z]+\.[0-9a-f]+(\.gz)?$|i",
+		       $cache)) {
+		// supprimer le fichier (de facon propre)
+		supprimer_fichier($cache);
+	} else
+		spip_log("Impossible de retirer $cache");
+}
+
+// Supprimer les caches marques "x"
+function retire_caches() {
+	if (!_DIR_RESTREINT) return;
+
+	// signaler
+	effacer_meta('invalider');
+	ecrire_metas();
+
+	// recuperer la liste des caches voues a la suppression
+	$suppr = array();
+	$q = spip_query("SELECT fichier FROM spip_caches WHERE type='x'");
+	while ($r = spip_fetch_array($q))
+		$suppr[$r['fichier']] = true;
+
+	if ($n = count($suppr)) {
+		spip_log ("Retire $n caches");
+		foreach ($suppr as $cache => $ignore)
+			retire_cache($cache);
+		spip_query("DELETE FROM spip_caches WHERE "
+		.calcul_mysql_in('fichier', "'".join("','",array_keys($suppr))."'") );
+	}
+}
+
+//
+// Retourne 0 s'il faut calculer le cache, 1 si on peut l'utiliser
+//
+function utiliser_cache($chemin_cache, $delais) {
+	global $_SERVER;
+
+	// ne jamais calculer pour les moteurs de recherche, proxies...
+	if ($_SERVER['REQUEST_METHOD'] == 'HEAD')
+		return 1;
+
+	//  calcul par forcage
+	if ($GLOBALS['var_mode'] &&
+		($GLOBALS['_COOKIE']['spip_session']
+		|| $GLOBALS['_COOKIE']['spip_admin']
+		|| @file_exists(_ACCESS_FILE_NAME))) # insuffisant...
+		return 0;
+
+	// calcul par absence
+	if (!@file_exists($chemin_cache)) return 0;
+
+	// calcul par obsolescence
+	return ((time() - @filemtime($chemin_cache)) > $delais) ? 0 : 1;
+}
+
+
+// Obsolete ?  Utilisee pour vider le cache depuis l'espace prive
+// (ou juste les squelettes si un changement de config le necessite)
+function purger_repertoire($dir, $age='ignore', $regexp = '') {
+	$handle = @opendir($dir);
+	if (!$handle) return;
+
+	while (($fichier = @readdir($handle)) != '') {
+		// Eviter ".", "..", ".htaccess", etc.
+		if ($fichier[0] == '.') continue;
+		if ($regexp AND !ereg($regexp, $fichier)) continue;
+		$chemin = "$dir/$fichier";
+		if (is_file($chemin))
+			@unlink($chemin);
+		else if (is_dir($chemin))
+			if ($fichier != 'CVS')
+				purger_repertoire($chemin);
+	}
+	closedir($handle);
+}
+
+function purger_cache() {
+	spip_log('vider le cache');
+	include_ecrire('inc_invalideur.php3');
+	supprime_invalideurs();
+	purger_repertoire(_DIR_CACHE, 0);
+}
+
+function purger_squelettes() {
+	spip_log('effacer les squelettes compiles');
+	purger_repertoire(_DIR_CACHE, 0, '^skel_');
+}
+
+
+// Determination du fichier cache (si besoin)
+function determiner_cache($delais, &$use_cache, &$chemin_cache) {
+
+	// Le fichier cache est-il valide ?
+	if ($delais == 0 OR !empty($GLOBALS['_POST'])) {
+		$use_cache = 0;
+		$chemin_cache = '';
+	} else {
+		$use_cache = utiliser_cache($chemin_cache, $delais);
+	}
+
+	// Sinon, tester qu'on a la connexion a la base
+	if (!$use_cache) {
+		include_local(_FILE_CONNECT);
+		if (!$GLOBALS['db_ok']) {
+			if ($chemin_cache AND @file_exists($chemin_cache)) {
+				$use_cache = 1;
+			}
+			else {
+				spip_log("Erreur base de donnees & "
+					. "impossible utiliser $chemin_cache");
+				if (!$GLOBALS['flag_preserver']) {
+					include_ecrire('inc_presentation.php3');
+					install_debut_html(_T('info_travaux_titre'));
+					echo _T('titre_probleme_technique');
+					install_fin_html();
+				}
+				exit;
+			}
+		}
+	}
+}
+
+?>

Index: inc-calcul-outils.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-calcul-outils.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-calcul-outils.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-calcul-outils.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,410 +1,403 @@
-<?php
-
-//
-// Des fonctions diverses utilisees lors du calcul d'une page ; ces fonctions
-// bien pratiques n'ont guere de logique organisationnelle ; elles sont
-// appelees par certaines balises au moment du calcul des pages. (Peut-on
-// trouver un modele de donnees qui les associe physiquement au fichier
-// definissant leur balise ???
-//
-
-// ON TROUVERA EN QUEUE DE FICHIER LES FONCTIONS FAISANT DES APPELS SQL
-
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_CALCUL_OUTILS")) return;
-define("_INC_CALCUL_OUTILS", "1");
-
-// Pour les documents comme pour les logos, le filtre |fichier donne
-// le chemin du fichier apres 'IMG/' ;  peut-etre pas d'une purete
-// remarquable, mais a conserver pour compatibilite ascendante.
-// -> http://www.spip.net/fr_article901.html
-function calcule_fichier_logo($on) {
-	$r = ereg_replace("^" . _DIR_IMG, "", $on);
-	return $r;
-}
-
-// Renvoie le code html pour afficher un logo, avec ou sans survol, lien, etc.
-// utilise la globale ci-dessous pour les attributs hspace & vspace
-
-tester_variable('espace_logos',3);
-
-function affiche_logos($logos, $lien, $align) {
-	static $num_survol=0;
-	global $espace_logos;
-	list ($arton, $artoff) = $logos;
-
-	if (!$arton) return $artoff;
-
-	$num_survol++;
-	$milieu = "<img src='$arton'"
-		. ($align ? " align='$align' " : '') 
-		. " name='image$num_survol' border='0' "
-		. "alt='image$num_survol'"
-		. " hspace='$espace_logos' vspace='$espace_logos' class='spip_logos' />";
-
-	if (!$artoff) return ($lien ? http_href($lien, $milieu) : $milieu);
-
-	$att =	"onmouseover=\"image$num_survol.src='$artoff'\" 
-		onmouseout=\"image$num_survol.src='$arton'\"";
-
-	return ($lien ? "<a href='$lien' $att>$milieu</a>" : "<div $att>$milieu</div>");
-
-}
-
-//
-// Retrouver le logo d'un objet (et son survol)
-//
-
-function calcule_logo($type, $onoff, $id, $id_rubrique, $ff) {
-	include_ecrire('inc_logos.php3');
-
-	$table_logos = array (
-	'ARTICLE' => 'art',
-	'AUTEUR' =>  'aut',
-	'BREVE' =>  'breve',
-	'MOT' => 'mot',
-	'RUBRIQUE' => 'rub',
-	'SITE' => 'site'
-	);
-	$type = $table_logos[$type];
-	$nom = strtolower($onoff);
-	# attention au cas $id = '0' pour LOGO_SITE_SPIP : utiliser intval()
-	while (1) {
-		$on = cherche_image_nommee($type . $nom . intval($id));
-		if ($on) {
-			if ($ff)
-			  return  (array('', "$on[1].$on[2]"));
-			else {
-				$off = ($onoff != 'ON') ? '' :
-					cherche_image_nommee($type . 'off' . $id);
-				return array ("$on[0]$on[1].$on[2]",
-					      ($off ? ("$off[0]$off[1].$off[2]") : ''));
-			}
-		}
-		else if ($id_rubrique) {
-			$type = 'rub';
-			$id = $id_rubrique;
-			$id_rubrique = 0;
-		} else if ($id AND $type == 'rub')
-			$id = sql_parent($id);
-		else return array('','');
-	}
-}
-
-//
-// fonction standard de calcul de la balise #INTRODUCTION
-// on peut la surcharger en definissant dans mes_fonctions.php3 :
-// function introduction($type,$texte,$chapo,$descriptif) {...}
-//
-function calcul_introduction ($type, $texte, $chapo='', $descriptif='') {
-	if (function_exists("introduction"))
-		return introduction ($type, $texte, $chapo, $descriptif);
-
-	switch ($type) {
-		case 'articles':
-			if ($descriptif)
-				return propre($descriptif);
-			else if (substr($chapo, 0, 1) == '=')	// article virtuel
-				return '';
-			else
-				return PtoBR(propre(supprimer_tags(couper_intro($chapo."\n\n\n".$texte, 500))));
-			break;
-		case 'breves':
-			return PtoBR(propre(supprimer_tags(couper_intro($texte, 300))));
-			break;
-		case 'forums':
-			return PtoBR(propre(supprimer_tags(couper_intro($texte, 600))));
-			break;
-		case 'rubriques':
-			if ($descriptif)
-				return propre($descriptif);
-			else
-				return PtoBR(propre(supprimer_tags(couper_intro($texte, 600))));
-			break;
-	}
-}
-
-function executer_balise_dynamique($nom, $args, $filtres) {
-	$file = 'inc-' . strtolower($nom) . _EXTENSION_PHP;
-	include_local($file);
-
-	$f = 'balise_' . $nom . '_stat';
-	$r = $f($args, $filtres);
-	if (!is_array($r))
-		return $r;
-	else { 
-		return
-		('<'.'?php 
-include_ecrire(\'inc_lang.php3\');
-lang_select($GLOBALS["spip_lang"]);
-include_local("'
-		. $file
-		. '");
-inclure_balise_dynamique(balise_'
-		. $nom
-		. '_dyn(\''
-		. join("', '", array_map("addslashes", $r))
-		. '\'));
-	lang_dselect();
-?'
-		.">");
-	}
-}
-
-//
-// FONCTIONS FAISANT DES APPELS SQL
-//
-
-# NB : a l'exception des fonctions pour les balises dynamiques
-
-function calcul_exposer ($id, $type, $reference) {
-	static $exposer;
-	static $ref_precedente;
-
-	// Que faut-il exposer ? Tous les elements de $reference
-	// ainsi que leur hierarchie ; on ne fait donc ce calcul
-	// qu'une fois (par squelette) et on conserve le resultat
-	// en static.
-	if ($reference<>$ref_precedente) {
-		$ref_precedente = $reference;
-
-		$exposer = array();
-		foreach ($reference as $element=>$id_element) {
-			if ($element == 'id_secteur') $element = 'id_rubrique';
-			if ($x = table_from_primary($element)) {
-				list($table,$hierarchie) = $x;
-				$exposer[$element][$id_element] = true;
-				if ($hierarchie) {
-					list ($id_rubrique) = spip_abstract_fetsel(
-array('id_rubrique'), 
-array($table),
-array("$element=$id_element"));
-				$hierarchie = substr(calculer_hierarchie($id_rubrique), 2);
-				foreach (split(',',$hierarchie) as $id_rubrique)
-					$exposer['id_rubrique'][$id_rubrique] = true;
-				}
-			}
-		}
-	}
-
-	// And the winner is...
-	return $exposer[$type][$id];
-}
-
-function table_from_primary($id) {
-	global $tables_principales;
-	include_ecrire('inc_serialbase.php3');
-	foreach ($tables_principales as $k => $v) {
-		if ($v['key']['PRIMARY KEY'] == $id)
-			return array($k, array_key_exists('id_rubrique', $v['field']));
-	}
-	return '';
-}
-
-function calcul_generation ($generation) {
-	$lesfils = array();
-	$result = spip_abstract_select(array('id_rubrique'),
-				array('rubriques AS rubriques'),
-				array(calcul_mysql_in('id_parent', 
-					$generation,
-					'')),
-				'','','','','','','');
-	while ($row = spip_abstract_fetch($result))
-		$lesfils[] = $row['id_rubrique'];
-	return join(",",$lesfils);
-}
-
-function calcul_branche ($generation) {
-	if (!$generation) 
-		return '0';
-	else {
-		$branche[] = $generation;
-		while ($generation = calcul_generation ($generation))
-			$branche[] = $generation;
-		return join(",",$branche);
-	}
-}
-
-// fonction appelee par la balise #LOGO_DOCUMENT
-function calcule_document($id_document, $doubdoc, &$doublons) {
-	if (!$id_document) return '';
-	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
-
-	if (!($row = spip_abstract_select(array('id_type', 'id_vignette', 'fichier', 'mode'), array('documents AS documents'), array("id_document = $id_document"))))
-// pas de document. Ne devrait pas arriver
-		return ''; 
-
-	list($id_type, $id_vignette, $fichier, $mode) = spip_abstract_fetch($row);
-	if ($id_vignette) {
-		if ($res = spip_abstract_select(array('fichier'), array('documents AS documents'), array("id_document = $id_vignette"))) {
-			list($vignette) = spip_abstract_fetch($res);
-			if (@file_exists($vignette))
-				return generer_url_document($id_vignette);
-				# return ($fichier); # en std g_u_d fait ca
-		}
-	} else if ($mode == 'vignette') 
-		return generer_url_document($id_document);
-		# return $fichier; # en std g_u_d fait ca
-
-// calcul de l'extension par tous les moyens
-	if ($id_type) {
-		list($ext) = spip_abstract_fetch(spip_abstract_select(array('extension'), array('types_documents AS documents'), array("id_type = " . intval($id_type))));
-	} else {
-		eregi('\.([a-z0-9]+)$', $fichier, $regs);
-		$ext = $regs[1];
-	}
-// Pas de vignette mais une extension:
-// prendre la vignette de celle-ci dans IMG/icones sauf si on peut faire mieux
-	$formats = ','.lire_meta('formats_graphiques').',';
-	if ((strpos($formats, ",$ext,") === false) OR
-	!$fichier OR (lire_meta("creer_preview") != 'oui')) {
-		return vignette_par_defaut($ext ? $ext : 'txt', false);
-	}
-// on peut faire mieux dans le cas des images: une previsualisation
-// on devrait verifier que le fichier existe dans IMG/vignette
-// et sinon lancer creer_vignette (qui fera un UPDATE sur spip_documents)
-// mais on risque de d?passer le temps alloue au processus
-	return 'spip_image.php3?vignette='.rawurlencode(
-		str_replace('../', '', $fichier));
-}
-
-
-// fonction appelee par la balise #EMBED
-function calcule_embed_document($id_document, $filtres, &$doublons, $doubdoc) {
-	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
-	return embed_document($id_document, $filtres, false);
-}
-
-// fonction appelee par la balise #NOTES
-function calculer_notes() {
-	$r = $GLOBALS["les_notes"];
-	$GLOBALS["les_notes"] = "";
-	$GLOBALS["compt_note"] = 0;
-	$GLOBALS["marqueur_notes"] ++;
-	return $r;
-}
-
-# retourne la profondeur d'une rubrique
-
-function sql_profondeur($id) {
-	$n = 0;
-	while ($id) {
-		$n++;
-		$id = sql_parent($id);
-	}
-	return $n;
-}
-
-
-function sql_parent($id_rubrique) {
-	$row = spip_abstract_fetsel(array(id_parent), 
-			array('rubriques'), 
-			array("id_rubrique=" . intval($id_rubrique)));
-	return $row['id_parent'];
-}
-
-function sql_rubrique($id_article) {
-	$row = spip_abstract_fetsel(array('id_rubrique'),
-			array('articles'),
-			array("id_article=" . intval($id_article)));
-	return $row['id_rubrique'];
-}
-
-function sql_auteurs($id_article, $table, $id_boucle, $serveur='') {
-	$auteurs = "";
-	if ($id_article) {
-		$result_auteurs = spip_abstract_select(array('auteurs.nom', 'auteurs.email'),
-			array('auteurs AS auteurs',
-				'auteurs_articles AS lien'), 
-			array("lien.id_article=$id_article",
-				"auteurs.id_auteur=lien.id_auteur"),
-			'','','','',1, 
-			$table, $id_boucle, $serveur);
-
-		while($row_auteur = spip_abstract_fetch($result_auteurs, $serveur)) {
-			$nom_auteur = typo($row_auteur["nom"]);
-			$email_auteur = $row_auteur["email"];
-			if ($email_auteur) {
-				$auteurs[] = "<a href=\"mailto:$email_auteur\">$nom_auteur</a>";
-			} else {
-				$auteurs[] = "$nom_auteur";
-			}
-		}
-	}
-	return (!$auteurs) ? "" : join($auteurs, ", ");
-}
-
-function sql_petitions($id_article, $table, $id_boucle, $serveur, &$Cache) {
-	$retour = spip_abstract_fetsel(
-			array('id_article'),
-			array('petitions'),
-			array("id_article=".intval($id_article)),
-			'','','','',1, 
-			$table, $id_boucle, $serveur);
-
-	# cette page est invalidee par toute petition
-	if ($retour AND $Cache)
-		$Cache['petition']['petition'] = 1;
-
-	return ($retour ? $id_article : '');
-}
-
-# retourne le chapeau d'un article, et seulement s'il est publie
-
-function sql_chapo($id_article) {
-	return spip_abstract_fetsel(array('chapo'),
-		array('articles'),
-		array("id_article=".intval($id_article),
-		"statut='publie'"));
-}
-
-// Calcul de la rubrique associee a la requete
-// (selection de squelette specifique par id_rubrique & lang)
-
-function sql_rubrique_fond($contexte, $lang) {
-
-	if ($id = intval($contexte['id_rubrique'])) {
-		$row = spip_abstract_fetsel(array('lang'),
-					    array('rubriques'),
-					    array("id_rubrique=$id"));
-		if ($row['lang'])
-			$lang = $row['lang'];
-		return array ($id, $lang);
-	}
-
-	if ($id  = intval($contexte['id_breve'])) {
-		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
-			array('breves'), 
-			array("id_breve=$id"));
-		$id_rubrique_fond = $row['id_rubrique'];
-		if ($row['lang'])
-			$lang = $row['lang'];
-		return array($id_rubrique_fond, $lang);
-	}
-
-	if ($id = intval($contexte['id_syndic'])) {
-		$row = spip_abstract_fetsel(array('id_rubrique'),
-			array('syndic'),
-			array("id_syndic=$id"));
-		$id_rubrique_fond = $row['id_rubrique'];
-		$row = spip_abstract_fetsel(array('lang'),
-			array('rubriques'),
-			array("id_rubrique='$id_rubrique_fond'"));
-		if ($row['lang'])
-			$lang = $row['lang'];
-		return array($id_rubrique_fond, $lang);
-	}
-
-	if ($id = intval($contexte['id_article'])) {
-		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
-			array('articles'),
-			array("id_article=$id"));
-		$id_rubrique_fond = $row['id_rubrique'];
-		if ($row['lang'])
-			$lang = $row['lang'];
-		return array($id_rubrique_fond, $lang);
-	}
-}
-
+<?php
+
+//
+// Des fonctions diverses utilisees lors du calcul d'une page ; ces fonctions
+// bien pratiques n'ont guere de logique organisationnelle ; elles sont
+// appelees par certaines balises au moment du calcul des pages. (Peut-on
+// trouver un modele de donnees qui les associe physiquement au fichier
+// definissant leur balise ???
+//
+
+// ON TROUVERA EN QUEUE DE FICHIER LES FONCTIONS FAISANT DES APPELS SQL
+
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_CALCUL_OUTILS")) return;
+define("_INC_CALCUL_OUTILS", "1");
+
+// Pour les documents comme pour les logos, le filtre |fichier donne
+// le chemin du fichier apres 'IMG/' ;  peut-etre pas d'une purete
+// remarquable, mais a conserver pour compatibilite ascendante.
+// -> http://www.spip.net/fr_article901.html
+function calcule_fichier_logo($on) {
+	$r = ereg_replace("^" . _DIR_IMG, "", $on);
+	return $r;
+}
+
+// Renvoie le code html pour afficher un logo, avec ou sans survol, lien, etc.
+// utilise la globale ci-dessous pour les attributs hspace & vspace
+
+tester_variable('espace_logos',3);
+
+function affiche_logos($logos, $lien, $align) {
+	static $num_survol=0;
+	global $espace_logos;
+	list ($arton, $artoff) = $logos;
+
+	if (!$arton) return $artoff;
+
+	$num_survol++;
+	$milieu = "<img src='$arton'"
+		. ($align ? " align='$align' " : '') 
+		. " name='image$num_survol' border='0' "
+		. "alt='image$num_survol'"
+		. " hspace='$espace_logos' vspace='$espace_logos' class='spip_logos' />";
+
+	if (!$artoff) return ($lien ? http_href($lien, $milieu) : $milieu);
+
+	$att =	"onmouseover=\"image$num_survol.src='$artoff'\" 
+		onmouseout=\"image$num_survol.src='$arton'\"";
+
+	return ($lien ? "<a href='$lien' $att>$milieu</a>" : "<div $att>$milieu</div>");
+
+}
+
+//
+// Retrouver le logo d'un objet (et son survol)
+//
+
+function calcule_logo($type, $onoff, $id, $id_rubrique, $ff) {
+	include_ecrire('inc_logos.php3');
+
+	$table_logos = array (
+	'ARTICLE' => 'art',
+	'AUTEUR' =>  'aut',
+	'BREVE' =>  'breve',
+	'MOT' => 'mot',
+	'RUBRIQUE' => 'rub',
+	'SITE' => 'site'
+	);
+	$type = $table_logos[$type];
+	$nom = strtolower($onoff);
+	# attention au cas $id = '0' pour LOGO_SITE_SPIP : utiliser intval()
+	while (1) {
+		$on = cherche_image_nommee($type . $nom . intval($id));
+		if ($on) {
+			if ($ff)
+			  return  (array('', "$on[1].$on[2]"));
+			else {
+				$off = ($onoff != 'ON') ? '' :
+					cherche_image_nommee($type . 'off' . $id);
+				return array ("$on[0]$on[1].$on[2]",
+					      ($off ? ("$off[0]$off[1].$off[2]") : ''));
+			}
+		}
+		else if ($id_rubrique) {
+			$type = 'rub';
+			$id = $id_rubrique;
+			$id_rubrique = 0;
+		} else if ($id AND $type == 'rub')
+			$id = sql_parent($id);
+		else return array('','');
+	}
+}
+
+//
+// fonction standard de calcul de la balise #INTRODUCTION
+// on peut la surcharger en definissant dans mes_fonctions.php3 :
+// function introduction($type,$texte,$chapo,$descriptif) {...}
+//
+function calcul_introduction ($type, $texte, $chapo='', $descriptif='') {
+	if (function_exists("introduction"))
+		return introduction ($type, $texte, $chapo, $descriptif);
+
+	switch ($type) {
+		case 'articles':
+			if ($descriptif)
+				return propre($descriptif);
+			else if (substr($chapo, 0, 1) == '=')	// article virtuel
+				return '';
+			else
+				return PtoBR(propre(supprimer_tags(couper_intro($chapo."\n\n\n".$texte, 500))));
+			break;
+		case 'breves':
+			return PtoBR(propre(supprimer_tags(couper_intro($texte, 300))));
+			break;
+		case 'forums':
+			return PtoBR(propre(supprimer_tags(couper_intro($texte, 600))));
+			break;
+		case 'rubriques':
+			if ($descriptif)
+				return propre($descriptif);
+			else
+				return PtoBR(propre(supprimer_tags(couper_intro($texte, 600))));
+			break;
+	}
+}
+
+function executer_balise_dynamique($nom, $args, $filtres, $lang) {
+	if ($file = find_in_path('inc-' . strtolower($nom) . _EXTENSION_PHP))
+		include_local($file);
+	else
+		die ("pas de balise dynamique pour #". strtolower($nom)." !");
+
+	$f = 'balise_' . $nom . '_stat';
+	$r = $f($args, $filtres);
+	return (!is_array($r)) ? $r : synthetiser_balise_dynamique($nom, $r, $file, $lang);
+}
+
+//
+// FONCTIONS FAISANT DES APPELS SQL
+//
+
+# NB : a l'exception des fonctions pour les balises dynamiques
+
+function calcul_exposer ($id, $type, $reference) {
+	static $exposer;
+	static $ref_precedente;
+
+	// Que faut-il exposer ? Tous les elements de $reference
+	// ainsi que leur hierarchie ; on ne fait donc ce calcul
+	// qu'une fois (par squelette) et on conserve le resultat
+	// en static.
+	if ($reference<>$ref_precedente) {
+		$ref_precedente = $reference;
+
+		$exposer = array();
+		foreach ($reference as $element=>$id_element) {
+			if ($element == 'id_secteur') $element = 'id_rubrique';
+			if ($x = table_from_primary($element)) {
+				list($table,$hierarchie) = $x;
+				$exposer[$element][$id_element] = true;
+				if ($hierarchie) {
+					list ($id_rubrique) = spip_abstract_fetsel(
+array('id_rubrique'), 
+array($table),
+array("$element=$id_element"));
+				$hierarchie = substr(calculer_hierarchie($id_rubrique), 2);
+				foreach (split(',',$hierarchie) as $id_rubrique)
+					$exposer['id_rubrique'][$id_rubrique] = true;
+				}
+			}
+		}
+	}
+
+	// And the winner is...
+	return $exposer[$type][$id];
+}
+
+function table_from_primary($id) {
+	global $tables_principales;
+	include_ecrire('inc_serialbase.php3');
+	foreach ($tables_principales as $k => $v) {
+		if ($v['key']['PRIMARY KEY'] == $id)
+			return array($k, array_key_exists('id_rubrique', $v['field']));
+	}
+	return '';
+}
+
+function calcul_generation ($generation) {
+	$lesfils = array();
+	$result = spip_abstract_select(array('id_rubrique'),
+				array('spip_rubriques AS rubriques'),
+				array(calcul_mysql_in('id_parent', 
+					$generation,
+					'')),
+				'','','','','','','');
+	while ($row = spip_abstract_fetch($result))
+		$lesfils[] = $row['id_rubrique'];
+	return join(",",$lesfils);
+}
+
+function calcul_branche ($generation) {
+	if (!$generation) 
+		return '0';
+	else {
+		$branche[] = $generation;
+		while ($generation = calcul_generation ($generation))
+			$branche[] = $generation;
+		return join(",",$branche);
+	}
+}
+
+// fonction appelee par la balise #LOGO_DOCUMENT
+function calcule_document($id_document, $doubdoc, &$doublons) {
+	if (!$id_document) return '';
+	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
+
+	if (!($row = spip_abstract_select(array('id_type', 'id_vignette', 'fichier', 'mode'), array('spip_documents AS documents'), array("id_document = $id_document"))))
+// pas de document. Ne devrait pas arriver
+		return ''; 
+
+	list($id_type, $id_vignette, $fichier, $mode) = spip_abstract_fetch($row);
+	if ($id_vignette) {
+		if ($res = spip_abstract_select(array('fichier'), array('spip_documents AS documents'), array("id_document = $id_vignette"))) {
+			list($vignette) = spip_abstract_fetch($res);
+			if (@file_exists($vignette))
+				return generer_url_document($id_vignette);
+				# return ($fichier); # en std g_u_d fait ca
+		}
+	} else if ($mode == 'vignette') 
+		return generer_url_document($id_document);
+		# return $fichier; # en std g_u_d fait ca
+
+	// calcul de l'extension par tous les moyens
+	if ($id_type) {
+		list($ext) = spip_abstract_fetch(spip_abstract_select(array('extension'), array('spip_types_documents AS documents'), array("id_type = " . intval($id_type))));
+	} else {
+		eregi('\.([a-z0-9]+)$', $fichier, $regs);
+		$ext = $regs[1];
+	}
+
+	// Pas de vignette mais une extension :
+	// envoyer une vignette par defaut
+	return vignette_par_defaut($ext ? $ext : 'txt', false);
+}
+
+
+// fonction appelee par la balise #EMBED
+function calcule_embed_document($id_document, $filtres, &$doublons, $doubdoc) {
+	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
+	return embed_document($id_document, $filtres, false);
+}
+
+// fonction appelee par la balise #NOTES
+function calculer_notes() {
+	$r = $GLOBALS["les_notes"];
+	$GLOBALS["les_notes"] = "";
+	$GLOBALS["compt_note"] = 0;
+	$GLOBALS["marqueur_notes"] ++;
+	return $r;
+}
+
+# retourne la profondeur d'une rubrique
+
+function sql_profondeur($id) {
+	$n = 0;
+	while ($id) {
+		$n++;
+		$id = sql_parent($id);
+	}
+	return $n;
+}
+
+
+function sql_parent($id_rubrique) {
+	$row = spip_abstract_fetsel(array(id_parent), 
+			array('spip_rubriques'), 
+			array("id_rubrique=" . intval($id_rubrique)));
+	return $row['id_parent'];
+}
+
+function sql_rubrique($id_article) {
+	$row = spip_abstract_fetsel(array('id_rubrique'),
+			array('spip_articles'),
+			array("id_article=" . intval($id_article)));
+	return $row['id_rubrique'];
+}
+
+function sql_auteurs($id_article, $table, $id_boucle, $serveur='') {
+	$auteurs = "";
+	if ($id_article) {
+		$result_auteurs = spip_abstract_select(array('auteurs.nom', 'auteurs.email'),
+			array('spip_auteurs AS auteurs',
+				'spip_auteurs_articles AS lien'), 
+			array("lien.id_article=$id_article",
+				"auteurs.id_auteur=lien.id_auteur"),
+			'','','','',1, 
+			$table, $id_boucle, $serveur);
+
+		while($row_auteur = spip_abstract_fetch($result_auteurs, $serveur)) {
+			$nom_auteur = typo($row_auteur["nom"]);
+			$email_auteur = $row_auteur["email"];
+			if ($email_auteur) {
+				$auteurs[] = "<a href=\"mailto:$email_auteur\">$nom_auteur</a>";
+			} else {
+				$auteurs[] = "$nom_auteur";
+			}
+		}
+	}
+	return (!$auteurs) ? "" : join($auteurs, ", ");
+}
+
+function sql_petitions($id_article, $table, $id_boucle, $serveur, &$Cache) {
+	$retour = spip_abstract_fetsel(
+			array('texte'),
+			array('spip_petitions'),
+			array("id_article=".intval($id_article)),
+			'','','','',1, 
+			$table, $id_boucle, $serveur);
+
+	if (!$retour) return '';
+	# cette page est invalidee par toute petition
+	if ($Cache) $Cache['petition']['petition'] = 1;
+	# ne pas retourner '' car le texte sert aussi de pr?sence
+	return ($retour['texte'] ? $retour['texte'] : ' ');
+}
+
+# retourne le chapeau d'un article, et seulement s'il est publie
+
+function sql_chapo($id_article) {
+	if ($id_article)
+	return spip_abstract_fetsel(array('chapo'),
+		array('spip_articles'),
+		array("id_article=".intval($id_article),
+		"statut='publie'"));
+}
+
+# retourne le champ 'accepter_forum' d'un article
+function sql_accepter_forum($id_article) {
+	static $cache = array();
+
+	if (!$id_article) return;
+
+	if (!isset($cache[$id_article])) {
+		$row = spip_abstract_fetsel(array('accepter_forum'),
+			array('spip_articles'),
+			array("id_article=".intval($id_article)));
+		$cache[$id_article] = $row['accepter_forum'];
+	}
+
+	return $cache[$id_article];
+}
+
+
+// Calcul de la rubrique associee a la requete
+// (selection de squelette specifique par id_rubrique & lang)
+
+function sql_rubrique_fond($contexte) {
+
+	if ($id = intval($contexte['id_rubrique'])) {
+		$row = spip_abstract_fetsel(array('lang'),
+					    array('spip_rubriques'),
+					    array("id_rubrique=$id"));
+		if ($row['lang'])
+			$lang = $row['lang'];
+		return array ($id, $lang);
+	}
+
+	if ($id  = intval($contexte['id_breve'])) {
+		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
+			array('spip_breves'), 
+			array("id_breve=$id"));
+		$id_rubrique_fond = $row['id_rubrique'];
+		if ($row['lang'])
+			$lang = $row['lang'];
+		return array($id_rubrique_fond, $lang);
+	}
+
+	if ($id = intval($contexte['id_syndic'])) {
+		$row = spip_abstract_fetsel(array('id_rubrique'),
+			array('spip_syndic'),
+			array("id_syndic=$id"));
+		$id_rubrique_fond = $row['id_rubrique'];
+		$row = spip_abstract_fetsel(array('lang'),
+			array('spip_rubriques'),
+			array("id_rubrique='$id_rubrique_fond'"));
+		if ($row['lang'])
+			$lang = $row['lang'];
+		return array($id_rubrique_fond, $lang);
+	}
+
+	if ($id = intval($contexte['id_article'])) {
+		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
+			array('spip_articles'),
+			array("id_article=$id"));
+		$id_rubrique_fond = $row['id_rubrique'];
+		if ($row['lang'])
+			$lang = $row['lang'];
+		return array($id_rubrique_fond, $lang);
+	}
+}
+
 ?>

Index: inc-calcul.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-calcul.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-calcul.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-calcul.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,284 +1,284 @@
-<?php
-
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_CALCUL")) return;
-define("_INC_CALCUL", "1");
-
-//
-// Ce fichier calcule une page en executant un squelette.
-//
-
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_index.php3");
-include_ecrire("inc_texte.php3");
-include_ecrire("inc_filtres.php3");
-include_ecrire("inc_lang.php3");
-include_ecrire("inc_documents.php3");
-include_ecrire("inc_abstract_sql.php3");
-include_ecrire("inc_forum.php3");
-include_ecrire("inc_debug_sql.php3");
-include_local("inc-calcul-outils.php3");
-
-// Ce fichier peut contenir une affectation de $dossier_squelettes  indiquant
-// le repertoire du source des squelettes (les pseudo-html avec BOUCLE...)
-
-if (@file_exists("mes_fonctions.php3")) 
-    include_local ("mes_fonctions.php3");
-
-
-// Gestionnaire d'URLs
-if (@file_exists("inc-urls.php3"))
-	include_local("inc-urls.php3");
-else
-	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
-
-
-// Le squelette compile est-il trop vieux ?
-function squelette_obsolete($skel, $squelette) {
-	return (
-		$GLOBALS['var_mode']
-		OR !@file_exists($skel)
-		OR (@filemtime($squelette) > ($date = @filemtime($skel)))
-		OR (@filemtime('mes_fonctions.php3') > $date)
-		OR (@filemtime(_FILE_OPTIONS) > $date)
-	);
-}
-
-
-# Charge un squelette (au besoin le compile) 
-# et retoune le nom de sa fonction principale, ou '' s'il est indefini
-# Charge egalement un fichier homonyme de celui du squelette
-# mais de suffixe '_fonctions.php3' pouvant contenir:
-# - des filtres
-# - des fonctions de traduction de balise, de critere et de boucle
-# - des declaration de tables SQL supplementaires
-
-function charger_squelette ($squelette) {
-	$ext = $GLOBALS['extension_squelette'];
-	$nom = $ext . '_' . md5($squelette);
-	$sourcefile = $squelette . ".$ext";
-
-	// le squelette est-il deja en memoire (INCLURE  a repetition)
-	if (function_exists($nom))
-		return $nom;
-
-	$phpfile = _DIR_CACHE . 'skel_' . $nom . '.php';
-
-	// le squelette est-il deja compile et perenne ?
-	if (!squelette_obsolete($phpfile, $sourcefile)
-	AND lire_fichier ($phpfile, $contenu,
-	array('critique' => 'oui', 'phpcheck' => 'oui'))) 
-		eval('?'.'>'.$contenu);
-
-	// sinon, charger le compilateur et verifier que le source est lisible
-	if (!function_exists($nom)) {
-		include_local("inc-compilo.php3");
-		lire_fichier ($sourcefile, $skel);
-	}
-
-	// Le fichier suivant peut contenir entre autres:
-	// 1. les filtres utilises par le squelette
-	// 2. des ajouts au compilateur
-	// Le point 1 exige qu'il soit lu dans tous les cas.
-	// Le point 2 exige qu'il soit lu apres inc-compilo
-	// (car celui-ci initialise $tables_principales) mais avant la compil
-	$f = $squelette . '_fonctions.php3';
-	if (@file_exists($f)) include($f);
-
-	if (function_exists($nom)) return $nom;
-
-	$skel_code = calculer_squelette($skel, $nom, $ext, $sourcefile);
-
-	// Tester si le compilateur renvoie une erreur
-	if (is_array($skel_code))
-		erreur_squelette($skel_code[0], $skel_code[1]);
-	else {
-		if ($GLOBALS['var_mode'] == 'debug') {
-			include_ecrire("inc_debug_sql.php3");
-			debug_dumpfile ($skel_code, $nom, 'code');
-		}
-		eval('?'.'>'.$skel_code);
-		if (function_exists($nom)) {
-			ecrire_fichier ($phpfile, $skel_code);
-			return $nom;
-		}
-	}
-}
-
-# Provoque la recherche du squelette $fond d'une $lang donnee,
-# et l'applique sur un $contexte pour un certain $cache.
-# Retourne un tableau de 3 elements:
-# 'texte' => la page calculee
-# 'process_ins' => 'html' ou 'php' si presence d'un '< ?php'
-# 'invalideurs' => les invalideurs (cf inc-calcul-squel)
-
-# En cas d'erreur process_ins est absent et texte est un tableau de 2 chaines
-
-# La recherche est assuree par la fonction chercher_squelette,
-# definie dans inc-chercher, fichier non charge si elle est deja definie
-# (typiquement dans mes_fonctions.php3)
-
-function cherche_page ($cache, $contexte, $fond)  {
-	global $dossier_squelettes, $delais;
-
-	if (!function_exists('chercher_squelette'))
-		include_local("inc-chercher.php3"); # a renommer ?
-
-	// Choisir entre $fond-dist.html, $fond=7.html, etc?
-	$id_rubrique_fond = 0;
-	// Si inc-urls veut fixer la langue, on la recupere ici
-	$lang = $contexte['lang'];
-	// Chercher le fond qui va servir de squelette
-	if ($r = sql_rubrique_fond($contexte,
-	$lang ? $lang : lire_meta('langue_site')))
-		list($id_rubrique_fond, $lang) = $r;
-
-	if (!$GLOBALS['forcer_lang'])
-		lang_select($lang);
-
-	$skel = chercher_squelette($fond,
-			$id_rubrique_fond,
-			$dossier_squelettes ? "$dossier_squelettes/" :'',
-			$GLOBALS['spip_lang']);
-
-	// Charger le squelette et recuperer sa fonction principale
-	// (compilation automatique au besoin) et calculer
-
-	$page = array();
-
-	if ($skel) {
-		if ($fonc = charger_squelette($skel))
-		  $page = $fonc(array('cache' => $cache), array($contexte));
-
-		// Passer la main au debuggueur)
-		if ($GLOBALS['var_mode'] == 'debug')
-		  {
-			include_ecrire("inc_debug_sql.php3");
-			debug_dumpfile ($page['texte'], $fonc, 'resultat');
-		  }
-	}
-
-	// Nettoyer le resultat si on est fou de XML
-	if ($GLOBALS['xhtml']) {
-		include_ecrire("inc_tidy.php");
-		$page['texte'] = xhtml($page['texte']);
-	}
-
-	// Entrer les invalideurs dans la base
-	if ($delais>0) {
-		include_ecrire('inc_invalideur.php3');
-		maj_invalideurs($cache, $page['invalideurs'], $delais);
-	}
-
-	// Retourner la structure de la page
-
-	return $page;
-}
-
-
-//
-// Contexte : lors du calcul d'une page spip etablit le contexte a partir
-// des variables $HTTP_GET_VARS et $HTTP_POST_VARS, et leur ajoute la date
-// Note : pour hacker le contexte depuis le fichier d'appel (article.php3),
-// il est recommande de modifier $HTTP_GET_VARS['toto'] (meme si la page est
-// appelee avec la methode POST).
-//
-function calculer_contexte() {
-	foreach($GLOBALS['HTTP_GET_VARS'] as $var => $val) {
-		if (strpos($var, 'var_') !== 0)
-			$contexte[$var] = $val;
-	}
-	foreach($GLOBALS['HTTP_POST_VARS'] as $var => $val) {
-		if (strpos($var, 'var_') !== 0)
-			$contexte[$var] = $val;
-	}
-
-	if ($GLOBALS['date'])
-		$contexte['date'] = $contexte['date_redac'] = normaliser_date($GLOBALS['date']);
-	else
-		$contexte['date'] = $contexte['date_redac'] = date("Y-m-d H:i:s");
-
-	return $contexte;
-}
-
-function calculer_page_globale($cache, $contexte_local, $fond) {
-
-	// Gestion des URLs personnalises - sale mais historique
-	if (function_exists("recuperer_parametres_url")) {
-		global $contexte;
-		$contexte = $contexte_local;
-		recuperer_parametres_url($fond, nettoyer_uri());
-
-		// remettre les globales pour le bouton "Modifier cet article"
-		if (is_array($contexte))
-			foreach ($contexte as $var=>$val)
-				if (substr($var,0,3) == 'id_')
-					$GLOBALS[$var] = $val;
-		$contexte_local = $contexte;
-	}
-
-	// Go to work !
-	$page = cherche_page($cache, $contexte_local, $fond);
-
-	$signal = array();
-	foreach(array('id_parent', 'id_rubrique', 'id_article', 'id_auteur',
-	'id_breve', 'id_forum', 'id_secteur', 'id_syndic', 'id_syndic_article',
-	'id_mot', 'id_groupe', 'id_document') as $val) {
-		if ($contexte_local[$val])
-			$signal['contexte'][$val] = intval($contexte_local[$val]);
-	}
-
-	$page['signal'] = $signal;
-
-	return $page;
-}
-
-
-// Cf ramener_page +cherche_page_incluante+ cherche_page_incluse chez ESJ
-function calculer_page($chemin_cache, $elements, $delais, $inclusion=false) {
-
-	// Inclusion
-	if ($inclusion) {
-		$contexte_inclus = $elements['contexte'];
-		$page = cherche_page($chemin_cache,
-			$contexte_inclus, $elements['fond']);
-	}
-	else {
-
-		// Page globale
-		// si le champ chapo commence par '=' c'est une redirection.
-		if ($id_article = intval($GLOBALS['id_article'])) {
-			if ($art = sql_chapo($id_article)) {
-				$chapo = $art['chapo'];
-				if (substr($chapo, 0, 1) == '=') {
-					include_ecrire('inc_texte.php3');
-					list(,$url) = extraire_lien(array('','','',
-					substr($chapo, 1)));
-					if ($url) { // sinon les navigateurs pataugent
-						$url = addslashes($url);
-						$page = array('texte' => "<".
-						"?php header(\"Location: $url\"); ?" . ">",
-						'process_ins' => 'php');
-					}
-				}
-			}
-		}
-		if (!$page)
-			$page = calculer_page_globale($chemin_cache,
-				$elements['contexte'],
-				$elements['fond']);
-	}
-
-	$page['signal']['process_ins'] = $page['process_ins'];
-	$signal = "<!-- ".str_replace("\n", " ",
-	serialize($page['signal']))." -->\n";
-
-	// Enregistrer le fichier cache
-	if ($delais > 0 AND $GLOBALS['var_mode'] != 'debug'
-	AND empty($GLOBALS['HTTP_POST_VARS']))
-		ecrire_fichier($chemin_cache, $signal.$page['texte']);
-
-	return $page;
-}
-?>
+<?php
+
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_CALCUL")) return;
+define("_INC_CALCUL", "1");
+
+//
+// Ce fichier calcule une page en executant un squelette.
+//
+
+include_ecrire("inc_meta.php3");
+include_ecrire("inc_index.php3");
+include_ecrire("inc_texte.php3");
+include_ecrire("inc_filtres.php3");
+include_ecrire("inc_lang.php3");
+include_ecrire("inc_documents.php3");
+include_ecrire("inc_abstract_sql.php3");
+include_ecrire("inc_forum.php3");
+include_ecrire("inc_debug_sql.php3");
+include_local("inc-calcul-outils.php3");
+
+// Ce fichier peut contenir une affectation de $dossier_squelettes  indiquant
+// le repertoire du source des squelettes (les pseudo-html avec BOUCLE...)
+
+if ($f = find_in_path("mes_fonctions.php3"))
+	include_local ($f);
+
+
+// Gestionnaire d'URLs
+if (@file_exists("inc-urls.php3"))
+	include_local("inc-urls.php3");
+else
+	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
+
+
+// Le squelette compile est-il trop vieux ?
+function squelette_obsolete($skel, $squelette) {
+	return (
+		$GLOBALS['var_mode']
+		OR !@file_exists($skel)
+		OR (@filemtime($squelette) > ($date = @filemtime($skel)))
+		OR (@filemtime('mes_fonctions.php3') > $date)
+		OR (@filemtime(_FILE_OPTIONS) > $date)
+	);
+}
+
+
+# Charge un squelette (au besoin le compile) 
+# et retoune le nom de sa fonction principale, ou '' s'il est indefini
+# Charge egalement un fichier homonyme de celui du squelette
+# mais de suffixe '_fonctions.php3' pouvant contenir:
+# - des filtres
+# - des fonctions de traduction de balise, de critere et de boucle
+# - des declaration de tables SQL supplementaires
+
+function charger_squelette ($squelette) {
+	$ext = $GLOBALS['extension_squelette'];
+	$nom = $ext . '_' . md5($squelette);
+	$sourcefile = $squelette . ".$ext";
+
+	// le squelette est-il deja en memoire (INCLURE  a repetition)
+	if (function_exists($nom))
+		return $nom;
+
+	$phpfile = _DIR_CACHE . 'skel_' . $nom . '.php';
+
+	// le squelette est-il deja compile et perenne ?
+	if (!squelette_obsolete($phpfile, $sourcefile)
+	AND lire_fichier ($phpfile, $contenu,
+	array('critique' => 'oui', 'phpcheck' => 'oui'))) 
+		eval('?'.'>'.$contenu);
+
+	// sinon, charger le compilateur et verifier que le source est lisible
+	if (!function_exists($nom)) {
+		include_local("inc-compilo.php3");
+		lire_fichier ($sourcefile, $skel);
+	}
+
+	// Le fichier suivant peut contenir entre autres:
+	// 1. les filtres utilises par le squelette
+	// 2. des ajouts au compilateur
+	// Le point 1 exige qu'il soit lu dans tous les cas.
+	// Le point 2 exige qu'il soit lu apres inc-compilo
+	// (car celui-ci initialise $tables_principales) mais avant la compil
+	$f = $squelette . '_fonctions.php3';
+	if (@file_exists($f)) include($f);
+
+	if (function_exists($nom)) return $nom;
+
+	$skel_code = calculer_squelette($skel, $nom, $ext, $sourcefile);
+
+	// Tester si le compilateur renvoie une erreur
+	if (is_array($skel_code))
+		erreur_squelette($skel_code[0], $skel_code[1]);
+	else {
+		if ($GLOBALS['var_mode'] == 'debug') {
+			include_ecrire("inc_debug_sql.php3");
+			debug_dumpfile ($skel_code, $nom, 'code');
+		}
+		eval('?'.'>'.$skel_code);
+		if (function_exists($nom)) {
+			ecrire_fichier ($phpfile, $skel_code);
+			return $nom;
+		}
+	}
+}
+
+# Provoque la recherche du squelette $fond d'une $lang donnee,
+# et l'applique sur un $contexte pour un certain $cache.
+# Retourne un tableau de 3 elements:
+# 'texte' => la page calculee
+# 'process_ins' => 'html' ou 'php' si presence d'un '< ?php'
+# 'invalideurs' => les invalideurs (cf inc-calcul-squel)
+
+# En cas d'erreur process_ins est absent et texte est un tableau de 2 chaines
+
+# La recherche est assuree par la fonction chercher_squelette,
+# definie dans inc-chercher, fichier non charge si elle est deja definie
+# (typiquement dans mes_fonctions.php3)
+
+function cherche_page ($cache, $contexte, $fond)  {
+	global $delais;
+
+	if (!function_exists('chercher_squelette'))
+		include_local("inc-chercher-squelette.php3");
+
+	// Choisir entre $fond-dist.html, $fond=7.html, etc?
+	$id_rubrique_fond = 0;
+	// Chercher le fond qui va servir de squelette
+	if ($r = sql_rubrique_fond($contexte))
+		list($id_rubrique_fond, $lang) = $r;
+	if (!$lang)
+		$lang = lire_meta('langue_site');
+	// Si inc-urls ou un appel dynamique veut fixer la langue, la recuperer
+	$lang = $contexte['lang'];
+
+	if (!$GLOBALS['forcer_lang'])
+		lang_select($lang);
+
+	$skel = chercher_squelette($fond,
+			$id_rubrique_fond,
+			$GLOBALS['spip_lang']);
+
+	// Charger le squelette et recuperer sa fonction principale
+	// (compilation automatique au besoin) et calculer
+
+	$page = array();
+
+	if ($skel) {
+		if ($fonc = charger_squelette($skel))
+		  $page = $fonc(array('cache' => $cache), array($contexte));
+
+		// Passer la main au debuggueur)
+		if ($GLOBALS['var_mode'] == 'debug')
+		  {
+			include_ecrire("inc_debug_sql.php3");
+			debug_dumpfile ($page['texte'], $fonc, 'resultat');
+		  }
+	}
+
+	// Nettoyer le resultat si on est fou de XML
+	if ($GLOBALS['xhtml']) {
+		include_ecrire("inc_tidy.php");
+		$page['texte'] = xhtml($page['texte']);
+	}
+
+	// Entrer les invalideurs dans la base
+	if ($delais>0) {
+		include_ecrire('inc_invalideur.php3');
+		maj_invalideurs($cache, $page['invalideurs'], $delais);
+	}
+
+	// Retourner la structure de la page
+
+	return $page;
+}
+
+
+//
+// Contexte : lors du calcul d'une page spip etablit le contexte a partir
+// des variables $_GET et $_POST, et leur ajoute la date
+// Note : pour hacker le contexte depuis le fichier d'appel (article.php3),
+// il est recommande de modifier $_GET['toto'] (meme si la page est
+// appelee avec la methode POST).
+//
+function calculer_contexte() {
+	foreach($GLOBALS['_GET'] as $var => $val) {
+		if (strpos($var, 'var_') !== 0)
+			$contexte[$var] = $val;
+	}
+	foreach($GLOBALS['_POST'] as $var => $val) {
+		if (strpos($var, 'var_') !== 0)
+			$contexte[$var] = $val;
+	}
+
+	if ($GLOBALS['date'])
+		$contexte['date'] = $contexte['date_redac'] = normaliser_date($GLOBALS['date']);
+	else
+		$contexte['date'] = $contexte['date_redac'] = date("Y-m-d H:i:s");
+
+	return $contexte;
+}
+
+function calculer_page_globale($cache, $contexte_local, $fond) {
+
+	// Gestion des URLs personnalises - sale mais historique
+	if (function_exists("recuperer_parametres_url")) {
+		global $contexte;
+		$contexte = $contexte_local;
+		recuperer_parametres_url($fond, nettoyer_uri());
+
+		// remettre les globales pour le bouton "Modifier cet article"
+		if (is_array($contexte))
+			foreach ($contexte as $var=>$val)
+				if (substr($var,0,3) == 'id_')
+					$GLOBALS[$var] = $val;
+		$contexte_local = $contexte;
+	}
+
+	// Go to work !
+	$page = cherche_page($cache, $contexte_local, $fond);
+
+	$signal = array();
+	foreach(array('id_parent', 'id_rubrique', 'id_article', 'id_auteur',
+	'id_breve', 'id_forum', 'id_secteur', 'id_syndic', 'id_syndic_article',
+	'id_mot', 'id_groupe', 'id_document') as $val) {
+		if ($contexte_local[$val])
+			$signal['contexte'][$val] = intval($contexte_local[$val]);
+	}
+
+	$page['signal'] = $signal;
+
+	return $page;
+}
+
+
+
+function calculer_page($chemin_cache, $elements, $delais, $inclusion=false) {
+
+	// Inclusion
+	if ($inclusion) {
+		$contexte_inclus = $elements['contexte'];
+		$page = cherche_page($chemin_cache,
+			$contexte_inclus, $elements['fond']);
+	}
+	else {
+
+		// Page globale
+		// si le champ chapo commence par '=' c'est une redirection.
+		if ($id_article = intval($GLOBALS['id_article'])) {
+			if ($art = sql_chapo($id_article)) {
+				$chapo = $art['chapo'];
+				if (substr($chapo, 0, 1) == '=') {
+					include_ecrire('inc_texte.php3');
+					list(,$url) = extraire_lien(array('','','',
+					substr($chapo, 1)));
+					if ($url) { // sinon les navigateurs pataugent
+						$url = addslashes($url);
+						$page = array('texte' => "<".
+						"?php header(\"Location: $url\"); ?" . ">",
+						'process_ins' => 'php');
+					}
+				}
+			}
+		}
+		if (!$page)
+			$page = calculer_page_globale($chemin_cache,
+				$elements['contexte'],
+				$elements['fond']);
+	}
+
+	$page['signal']['process_ins'] = $page['process_ins'];
+	$signal = "<!-- ".str_replace("\n", " ",
+	serialize($page['signal']))." -->\n";
+
+	// Enregistrer le fichier cache
+	if ($delais > 0 AND $GLOBALS['var_mode'] != 'debug'
+	AND empty($GLOBALS['_POST']))
+		ecrire_fichier($chemin_cache, $signal.$page['texte']);
+
+	return $page;
+}
+?>

Index: inc-compilo-api.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-compilo-api.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-compilo-api.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-compilo-api.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,220 +1,249 @@
-<?php
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_COMPILO_API")) return;
-define("_INC_COMPILO_API", "1");
-
-
-// Definition des classes Boucle, Texte, Inclure, Champ
-
-class Texte {
-	var $type = 'texte';
-	var $texte;
-}
-
-class Inclure {
-	var $type = 'include';
-	var $fichier;
-	var $params;
-}
-
-//
-// encodage d'une boucle SPIP en un objet PHP
-//
-class Boucle {
-	var $type = 'boucle';
-	var $id_boucle;
-	var $id_parent ='';
-	var $cond_avant, $milieu, $cond_apres, $cond_altern;
-	var $lang_select;
-	var $type_requete;
-	var $sql_serveur;
-	var $param = array();
-	var $separateur;
-	var $doublons;
-	var $partie, $total_parties,$mode_partie;
-	var $externe = ''; # appel a partir d'une autre boucle (recursion)
-	// champs pour la construction de la requete SQL
-	var $tout = false;
-	var $plat = false;
-	var $select;
-	var $from;
-	var $where;
-	var $limit;
-	var $group = '';
-	var $order = '';
-	var $date = 'date' ;
-	var $hash = false ;
-	var $lien = false;
-	var $sous_requete = false;
-	var $compte_requete = 1;
-	var $hierarchie = '';
-	// champs pour la construction du corps PHP
-	var $id_table;
-	var $primary;
-	var $return;
-	var $numrows = false; 
-}
-
-class Champ {
-	var $type = 'champ';
-	var $nom_champ;
-	var $nom_boucle= ''; // seulement si boucle explicite
-	var $cond_avant, $cond_apres; // tableaux d'objets
-	var $fonctions;  // filtre explicites
-	var $etoile;
-	// champs pour la production de code
-	var $id_boucle;
-	var $boucles;
-	var $type_requete;
-	var $code;	// code du calcul
-	var $statut;	// 'numerique, 'h'=texte (html) ou 'p'=script (php) ?
-			// -> definira les pre et post-traitements obligatoires
-	// champs pour la production de code dependant du contexte
-	var $id_mere;    // pour TOTAL_BOUCLE hors du corps
-	var $document;   // pour embed et img dans les textes
-}
-
-
-//
-// Globales de description de la base
-
-global $tables_des_serveurs_sql, $tables_principales; // (voir inc_serialbase)
-global $exceptions_des_tables, $table_des_tables;
-global $tables_relations,  $table_primary, $table_date;
-
-$tables_des_serveurs_sql = array('localhost' => &$tables_principales);
-	
-
-	// champ principal des tables SQL
-	$table_primary = array(
-		'articles' => "id_article",
-		'auteurs' => "id_auteur",
-		'breves' => "id_breve",
-		'documents' => "id_document",
-		'forums' => "id_forum",
-		'groupes_mots' => "id_groupe",
-		'hierarchie' => "id_rubrique",
-		'mots' => "id_mot",
-		'rubriques' => "id_rubrique",
-		'signatures' => "id_signature",
-		'syndication' => "id_syndic",
-		'syndic_articles' => "id_syndic_article",
-		'types_documents' => "id_type"
-	);
-	
-	# cf. fonction table_objet dans inc_version
-	$table_des_tables = array(
-		'articles' => 'articles',
-		'auteurs' => 'auteurs',
-		'breves' => 'breves',
-		'forums' => 'forum',
-		'signatures' => 'signatures',
-		'documents' => 'documents',
-		'types_documents' => 'types_documents',
-		'mots' => 'mots',
-		'groupes_mots' => 'groupes_mots',
-		'rubriques' => 'rubriques',
-		'syndication' => 'syndic',
-		'syndic_articles' => 'syndic_articles',
-		'hierarchie' => 'rubriques'
-	);
-	
-	$exceptions_des_tables = array(
-		'breves' => array(
-			'id_secteur' => 'id_rubrique',
-			'date' => 'date_heure',
-			'nom_site' => 'lien_titre',
-			'url_site' => 'lien_url'
-			),
-		'forums' => array(
-			'date' => 'date_heure',
-			'nom' => 'auteur',
-			'email' => 'email_auteur'
-			),
-		'signatures' => array(
-			'date' => 'date_time',
-			'nom' => 'nom_email',
-			'email' => 'ad_email'
-		),
-		'documents' => array(
-			'type_document' => array('types_documents', 'titre'),
-			'extension_document' => array('types_documents', 'extension')
-		),
-		'syndic_articles' => array(
-			'url_article' => 'url',		  # ne sert pas ? cf balise_URL_ARTICLE
-			'lesauteurs' => 'lesauteurs', # ne sert pas ? cf balise_LESAUTEURS
-			'url_site' => array('syndic', 'url_site'),
-			'nom_site' => array('syndic', 'nom_site')
-		)
-	);
-	
-	$table_date = array (
-		'articles' => 'date',
-		'auteurs' =>  'date',
-		'breves' =>  'date_heure',
-		'forums' =>  'date_heure',
-		'signatures' => 'date_time',
-		'documents' => 'date',
-		'types_documents' => 'date',
-		'groupes_mots' => 'date',
-		'mots' => 'date',
-		'rubriques' => 'date',
-		'syndication' => 'date',
-		'syndic_articles' => 'date'
-	);
-
-
-//
-// tableau des tables de relations,
-// Ex: gestion du critere {id_mot} dans la boucle(ARTICLES)
-//
-
-$tables_relations = array(
-	'articles' => array (
-		'id_mot' => 'mots_articles',
-		'id_auteur' => 'auteurs_articles',
-		'id_document' => 'documents_articles'
-		),
-
-	'auteurs' => array (
-		'id_article' => 'auteurs_articles'
-		),
-
-	'breves' => array (
-		'id_mot' => 'mots_breves',
-		'id_document' => 'documents_breves'
-		),
-
-	'documents' => array (
-		'id_article' => 'documents_articles',
-		'id_rubrique' => 'documents_rubriques',
-		'id_breve' => 'documents_breves'
-		),
-
-	'forums' => array (
-		'id_mot' => 'mots_forum',
-		),
-
-	'mots' => array (
-		'id_article' => 'mots_articles',
-		'id_breve' => 'mots_breves',
-		'id_forum' => 'mots_forum',
-		'id_rubrique' => 'mots_rubriques',
-		'id_syndic' => 'mots_syndic'
-		),
-
-	'groupes_mots' => array (
-		'id_groupe' => 'mots'
-		),
-
-	'rubriques' => array (
-		'id_mot' => 'mots_rubriques',
-		'id_document' => 'documents_rubriques'
-		),
-
-	'syndication' => array (
-		'id_mot' => 'mots_syndic'
-		)
-	);
-?>
+<?php
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_COMPILO_API")) return;
+define("_INC_COMPILO_API", "1");
+
+
+// Definition des classes Boucle, Texte, Inclure, Champ
+
+class Texte {
+	var $type = 'texte';
+	var $texte;
+}
+
+class Inclure {
+	var $type = 'include';
+	var $fichier;
+	var $params;
+}
+
+//
+// encodage d'une boucle SPIP en un objet PHP
+//
+class Boucle {
+	var $type = 'boucle';
+	var $id_boucle;
+	var $id_parent ='';
+	var $cond_avant, $milieu, $cond_apres, $cond_altern;
+	var $lang_select;
+	var $type_requete;
+	var $sql_serveur;
+	var $param = array();
+	var $separateur;
+	var $doublons;
+	var $partie, $total_parties,$mode_partie;
+	var $externe = ''; # appel a partir d'une autre boucle (recursion)
+	// champs pour la construction de la requete SQL
+	var $tout = false;
+	var $plat = false;
+	var $select;
+	var $from;
+	var $where;
+	var $limit;
+	var $group = '';
+	var $order = '';
+	var $default_order = '';
+	var $date = 'date' ;
+	var $hash = false ;
+	var $lien = false;
+	var $sous_requete = false;
+	var $compte_requete = 1;
+	var $hierarchie = '';
+	// champs pour la construction du corps PHP
+	var $id_table;
+	var $primary;
+	var $return;
+	var $numrows = false; 
+}
+
+class Champ {
+	var $type = 'champ';
+	var $nom_champ;
+	var $nom_boucle= ''; // seulement si boucle explicite
+	var $cond_avant, $cond_apres; // tableaux d'objets
+	var $fonctions;  // filtre explicites
+	var $etoile;
+	// champs pour la production de code
+	var $id_boucle;
+	var $boucles;
+	var $type_requete;
+	var $code;	// code du calcul
+	var $statut;	// 'numerique, 'h'=texte (html) ou 'p'=script (php) ?
+			// -> definira les pre et post-traitements obligatoires
+	// champs pour la production de code dependant du contexte
+	var $id_mere;    // pour TOTAL_BOUCLE hors du corps
+	var $document;   // pour embed et img dans les textes
+}
+
+
+//
+// Globales de description de la base
+
+global $tables_des_serveurs_sql, $tables_principales; // (voir inc_serialbase)
+global $exceptions_des_tables, $table_des_tables;
+global $tables_relations,  $table_primary, $table_date;
+
+$tables_des_serveurs_sql = array('localhost' => &$tables_principales);
+	
+
+	// champ principal des tables SQL
+	$table_primary = array(
+		'articles' => "id_article",
+		'auteurs' => "id_auteur",
+		'breves' => "id_breve",
+		'documents' => "id_document",
+		'forums' => "id_forum",
+		'groupes_mots' => "id_groupe",
+		'hierarchie' => "id_rubrique",
+		'mots' => "id_mot",
+		'rubriques' => "id_rubrique",
+		'signatures' => "id_signature",
+		'syndication' => "id_syndic",
+		'syndic_articles' => "id_syndic_article",
+		'types_documents' => "id_type"
+		////////////////////////////
+		//MODIFICATION
+		///////////////////////////
+		,'carto_objets' => "id_carto_objet"
+		,'carto_cartes' => "id_carto_carte"
+		///////////////////////////
+	);
+	
+	# cf. fonction table_objet dans inc_version
+	$table_des_tables = array(
+		'articles' => 'articles',
+		'auteurs' => 'auteurs',
+		'breves' => 'breves',
+		'forums' => 'forum',
+		'signatures' => 'signatures',
+		'documents' => 'documents',
+		'types_documents' => 'types_documents',
+		'mots' => 'mots',
+		'groupes_mots' => 'groupes_mots',
+		'rubriques' => 'rubriques',
+		'syndication' => 'syndic',
+		'syndic_articles' => 'syndic_articles',
+		'hierarchie' => 'rubriques'
+		////////////////////////////
+		//MODIFICATION
+		///////////////////////////
+		,'carto_objets' => "carto_objets"
+		,'carto_cartes' => "carto_cartes"
+		///////////////////////////
+	);
+	
+	$exceptions_des_tables = array(
+		'breves' => array(
+			'id_secteur' => 'id_rubrique',
+			'date' => 'date_heure',
+			'nom_site' => 'lien_titre',
+			'url_site' => 'lien_url'
+			),
+		'forums' => array(
+			'date' => 'date_heure',
+			'nom' => 'auteur',
+			'email' => 'email_auteur'
+			),
+		'signatures' => array(
+			'date' => 'date_time',
+			'nom' => 'nom_email',
+			'email' => 'ad_email'
+		),
+		'documents' => array(
+			'type_document' => array('types_documents', 'titre'),
+			'extension_document' => array('types_documents', 'extension')
+		),
+		'syndic_articles' => array(
+			'url_article' => 'url',		  # ne sert pas ? cf balise_URL_ARTICLE
+			'lesauteurs' => 'lesauteurs', # ne sert pas ? cf balise_LESAUTEURS
+			'url_site' => array('syndic', 'url_site'),
+			'nom_site' => array('syndic', 'nom_site')
+		)
+	);
+	
+	$table_date = array (
+		'articles' => 'date',
+		'auteurs' =>  'date',
+		'breves' =>  'date_heure',
+		'forums' =>  'date_heure',
+		'signatures' => 'date_time',
+		'documents' => 'date',
+		'types_documents' => 'date',
+		'groupes_mots' => 'date',
+		'mots' => 'date',
+		'rubriques' => 'date',
+		'syndication' => 'date',
+		'syndic_articles' => 'date'
+	);
+
+
+//
+// tableau des tables de relations,
+// Ex: gestion du critere {id_mot} dans la boucle(ARTICLES)
+//
+
+$tables_relations = array(
+	'articles' => array (
+		'id_mot' => 'mots_articles',
+		'id_auteur' => 'auteurs_articles',
+		'id_document' => 'documents_articles'
+		),
+
+	'auteurs' => array (
+		'id_article' => 'auteurs_articles'
+		),
+
+	'breves' => array (
+		'id_mot' => 'mots_breves',
+		'id_document' => 'documents_breves'
+		),
+
+	'documents' => array (
+		'id_article' => 'documents_articles',
+		'id_rubrique' => 'documents_rubriques',
+		'id_breve' => 'documents_breves'
+		////////////////////////////
+		//MODIFICATION
+		///////////////////////////
+		,'id_carto_carte' => 'documents_carto_cartes'
+		///////////////////////////
+		),
+
+	'forums' => array (
+		'id_mot' => 'mots_forum',
+		),
+
+	'mots' => array (
+		'id_article' => 'mots_articles',
+		'id_breve' => 'mots_breves',
+		'id_forum' => 'mots_forum',
+		'id_rubrique' => 'mots_rubriques',
+		'id_syndic' => 'mots_syndic'
+		////////////////////////////
+		//MODIFICATION
+		///////////////////////////
+		,'id_carto_objet' => 'mots_carto_objets'
+		),
+	'carto_objets' => array (
+		'id_mot' => 'mots_carto_objets',
+		),
+	'carto_cartes' => array (
+		'id_document' => 'mots_carto_cartes',
+		///////////////////////////
+		),
+
+	'groupes_mots' => array (
+		'id_groupe' => 'mots'
+		),
+
+	'rubriques' => array (
+		'id_mot' => 'mots_rubriques',
+		'id_document' => 'documents_rubriques'
+		),
+
+	'syndication' => array (
+		'id_mot' => 'mots_syndic'
+		)
+	);
+?>

Index: inc-compilo-index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-compilo-index.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-compilo-index.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-compilo-index.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,310 +1,344 @@
-<?php
-
-
-// fonctions de recherche et de reservation
-// dans l'arborescence des boucles
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_COMPILO_INDEX")) return;
-define("_INC_COMPILO_INDEX", "1");
-
-// index_pile retourne la position dans la pile du champ SQL $nom_champ 
-// en prenant la boucle la plus proche du sommet de pile (indique par $idb).
-// Si on ne trouve rien, on considere que ca doit provenir du contexte 
-// (par l'URL ou l'include) qui a ete recopie dans Pile[0]
-// (un essai d'affinage a debouche sur un bug vicieux)
-// Si ca reference un champ SQL, on le memorise dans la structure $boucles
-// afin de construire un requete SQL minimale (plutot qu'un brutal 'SELECT *')
-
-function index_pile($idb, $nom_champ, &$boucles, $explicite='') {
-  global $exceptions_des_tables, $table_des_tables, $tables_des_serveurs_sql;
-
-	$i = 0;
-	if (strlen($explicite)) {
-	// Recherche d'un champ dans un etage superieur
-	  while (($idb != $explicite) && ($idb !='')) {
-#		spip_log("Cherchexpl: $nom_champ '$explicite' '$idb' '$i'");
-			$i++;
-			$idb = $boucles[$idb]->id_parent;
-		}
-	}
-
-	$c = strtolower($nom_champ);
-	// attention: entre la boucle nommee 0, "" et le tableau vide,
-	// il y a incoherences qu'il vaut mieux eviter
-	while ($boucles[$idb]) {
-#		spip_log("Cherche: $nom_champ '$idb' '$c'");
-		$r = $boucles[$idb]->type_requete;
-		$s = $boucles[$idb]->sql_serveur;
-		if (!$s) 
-		  { $s = 'localhost';
-    // indirection (pour les rares cas ou le nom de la table!=type)
-		    $t = $table_des_tables[$r];
-		  }
-		if (!$t) $t = $r; // pour les tables non Spip
-		// $t est le nom PHP de cette table 
-#		spip_log("Go: idb='$idb' r='$r' c='$c' nom='$nom_champ' s=$s");
-		$desc = $tables_des_serveurs_sql[$s][$t];
-		if (!$desc) {
-			erreur_squelette(_L("Table SQL \"$r\" inconnue"), "'$idb'");
-			# continuer pour chercher l'erreur suivante
-			return  "'#" . $r . ':' . $nom_champ . "'";
-		}
-		$excep = $exceptions_des_tables[$r][$c];
-		if ($excep) {
-			// entite SPIP alias d'un champ SQL
-			if (!is_array($excep)) {
-				$e = $excep;
-				$c = $excep;
-			} 
-			// entite SPIP alias d'un champ dans une autre table SQL
-			else {
-				$t = $excep[0];
-				$e = $excep[1].' AS '.$c;
-			}
-		}
-		else {
-			// $e est le type SQL de l'entree
-			// entite SPIP homonyme au champ SQL
-			if ($desc['field'][$c])
-				$e = $c;
-			else
-				unset($e);
-		}
-
-#		spip_log("Dans $idb ('$t' '$e'): $desc");
-
-		// On l'a trouve
-		if ($e) {
-			$boucles[$idb]->select[] = $t . "." . $e;
-			return '$Pile[$SP' . ($i ? "-$i" : "") . '][\'' . $c . '\']';
-		}
-
-		// Sinon on remonte d'un cran
-		$idb = $boucles[$idb]->id_parent;
-		$i++;
-	}
-
-#	spip_log("Pas vu $nom_champ dans les " . count($boucles) . " boucles");
-	// esperons qu'il y sera
-	return('$Pile[0][\''.$nom_champ.'\']');
-}
-
-# calculer_champ genere le code PHP correspondant a une balise Spip
-# Retourne une EXPRESSION php 
-function calculer_champ($p) {
-	$p = calculer_balise($p->nom_champ, $p);
-
-	// definir le type et les traitements
-	// si ca ramene le choix par defaut, ce n'est pas un champ 
-
-	if (($p->code) && ($p->code != '$Pile[0][\''.$nom.'\']')) {
-		// Par defaut basculer en numerique pour les #ID_xxx
-		if (substr($nom,0,3) == 'ID_') $p->statut = 'num';
-	}
-
-	else {
-	// on renvoie la forme initiale '#TOTO'
-	$p->code = "'#" . $nom . "'";
-	$p->statut = 'php';	// pas de traitement
-	
-	}
-
-	// Retourner l'expression php correspondant au champ + ses filtres
-	return applique_filtres($p);
-}
-
-// cette fonction sert d'API pour demander le champ '$champ' dans la pile
-function champ_sql($champ, $p) {
-	return index_pile($p->id_boucle, $champ, $p->boucles, $p->nom_boucle);
-}
-
-// cette fonction sert d'API pour demander une balise quelconque sans filtre
-function calculer_balise($nom, $p) {
-
-	// regarder s'il existe une fonction personnalisee balise_NOM()
-	$f = 'balise_' . $nom;
-	if (function_exists($f))
-		return $f($p);
-
-	// regarder s'il existe une fonction standard balise_NOM_dist()
-	$f = 'balise_' . $nom . '_dist';
-	if (function_exists($f))
-		return $f($p);
-
-	// regarder s'il existe un fichier d'inclusion au nom de la balise
-	// et contenant un tableau balise_NOM_collecte
-	$file = 'inc-' . strtolower($nom) . _EXTENSION_PHP;
-	if (@file_exists($file)) {
-		include_local($file);
-		$f = $GLOBALS['balise_' . $nom . '_collecte'];
-		if (is_array($f))
-			return calculer_balise_dynamique($p, $nom, $f);
-	}
-
-	// S'agit-il d'un logo ? Une fonction speciale les traite tous
-	if (ereg('^LOGO_', $nom))
-		return calculer_balise_logo($p);
-
-	// ca doit etre un champ SQL homonyme,
-	$p->code = index_pile($p->id_boucle, $nom, $p->boucles, $p->nom_boucle);
-	return $p;
-}
-
-//
-// Traduction des balises dynamiques, notamment les "formulaire_*"
-// Inclusion du fichier associe a son nom.
-// Ca donne les arguments a chercher dans la pile,on compile leur localisation
-// Ensuite on delegue a une fonction generale definie dans inc-calcul-outils
-// qui recevra a l'execution la valeurs des arguments, 
-// ainsi que les filtres (qui ne sont donc pas traites ? la compil)
-
-function calculer_balise_dynamique($p, $nom, $l) {
-	balise_distante_interdite($p);
-	$param = param_balise($p);
-	$p->code = "executer_balise_dynamique('" . $nom . "',\n\tarray("
-	  . join(',',collecter_balise_dynamique($l, $p))
-	  . filtres_arglist($param, $p)
-	  . "),\n\tarray("
-	  . (!$p->fonctions ? '' : ("'" . join("','", $p->fonctions) . "'"))
-	  . "))";
-	$p->statut = 'php';
-	$p->fonctions = '';
-	return $p;
-}
-
-function param_balise(&$p) 
-{
-	$a = $p->fonctions;
-	if ($a) list(,$nom) = each($a) ; else $nom = '';
-	if (!ereg(' *\{ *([^}]+) *\} *',$nom, $m))
-	  return '';
-	else {
-		$filtres= array();
-		while (list(, $f) = each($a)) if ($f) $filtres[] = $f;
-		$p->fonctions = $filtres;
-		return $m[1];
-	}
-}
-
-// construire un tableau des valeurs interessant un formulaire
-
-function collecter_balise_dynamique($l, $p) {
-	$args = array();
-	foreach($l as $c) { $x = calculer_balise($c, $p); $args[] = $x->code;}
-	return $args;
-}
-
-// Genere l'application d'une liste de filtres
-function applique_filtres($p) {
-	$statut = $p->statut;
-	$fonctions = $p->fonctions;
-	$p->fonctions = ''; # pour r?utiliser la structure si r?cursion
-
-	// pretraitements standards
-	switch ($statut) {
-		case 'num':
-			$code = "intval($code)";
-			break;
-		case 'php':
-			break;
-		case 'html':
-		default:
-			$code = "trim($code)";
-			break;
-	}
-
-//  processeurs standards (cf inc-balises.php3)
-	$code = ($p->etoile ? $p->code : champs_traitements($p));
-	// Appliquer les filtres perso
-	if ($fonctions) {
-		foreach($fonctions as $fonc) {
-			if ($fonc) {
-				$arglist = '';
-				if (ereg('([^\{\}]*)\{(.+)\}$', $fonc, $regs)) {
-					$fonc = $regs[1];
-				        $arglist = filtres_arglist($regs[2],$p);
-				}
-				if (function_exists($fonc))
-				  $code = "$fonc($code$arglist)";
-				else if (strpos(" < > <= >= == <> ", " $fonc "))
-				  $code = "$code $fonc " . substr($arglist,1);
-				else 
-				  $code = "erreur_squelette('".
-					  texte_script(
-						_T('erreur_filtre', array('filtre' => $fonc))
-					)."','" . $p->id_boucle . "')";
-			}
-		}
-	}
-
-	// post-traitement securite
-	if ($statut == 'html')
-		$code = "interdire_scripts($code)";
-	return $code;
-}
-
-// analyse des parametres d'un champ etendu
-// [...(#CHAMP{parametres})...] ou [...(#CHAMP|filtre{parametres})...]
-// retourne une suite de N references aux N valeurs indiqu?es avec N virgules
-
-function filtres_arglist($args, $p) {
-	$arglist ='';;
-	while (ereg('([^,]+),?(.*)$', $args, $regs)) {
-		$arg = trim($regs[1]);
-		if ($arg) {
-		  if (ereg("^" . NOM_DE_CHAMP, $arg, $regs2)) {
-				$p->nom_boucle = $regs2[2];
-				$p->nom_champ = $regs2[3];
-				$arg = calculer_champ($p);
-			} else if ($arg[0] =='$')
-				$arg = '$Pile[0][\'' . substr($arg,1) . "']";
-			$arglist .= ','.$arg;
-		}
-		$args=$regs[2];
-	}
-	return $arglist;
-}
-
-//
-// Reserve les champs necessaires a la comparaison avec le contexte donne par
-// la boucle parente ; attention en recursif il faut les reserver chez soi-meme
-// ET chez sa maman
-// 
-function calculer_argument_precedent($idb, $nom_champ, &$boucles) {
-
-	// recursif ?
-	if ($boucles[$idb]->externe)
-		index_pile ($idb, $nom_champ, $boucles); // reserver chez soi-meme
-	// reserver chez le parent et renvoyer l'habituel $Pile[$SP]['nom_champ']
-#	spip_log("boucles[$idb]->id_parent " . $boucles[$idb]->id_parent);
-	return index_pile ($boucles[$idb]->id_parent, $nom_champ, $boucles);
-}
-
-function rindex_pile($p, $champ, $motif) 
-{
-	$n = 0;
-	$b = $p->id_boucle;
-	$p->code = '';
-	while ($b != '') {
-	if ($s = $p->boucles[$b]->param) {
-	  foreach($s as $v) {
-		if (strpos($v,$motif) !== false) {
-		  $p->code = '$Pile[$SP' . (($n==0) ? "" : "-$n") .
-			"]['$champ']";
-		  $b = '';
-		  break;
-		}
-	  }
-	}
-	$n++;
-	$b = $p->boucles[$b]->id_parent;
-	}
-	if (!$p->code) {
-	  erreur_squelette(_L("Champ #" . strtoupper($champ) . " hors d'une boucle de motif $motif"), $p->id_boucle);
-	}
-	$p->statut = 'php';
-	return $p;
-}
-
-?>
+<?php
+
+
+// fonctions de recherche et de reservation
+// dans l'arborescence des boucles
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_COMPILO_INDEX")) return;
+define("_INC_COMPILO_INDEX", "1");
+
+// index_pile retourne la position dans la pile du champ SQL $nom_champ 
+// en prenant la boucle la plus proche du sommet de pile (indique par $idb).
+// Si on ne trouve rien, on considere que ca doit provenir du contexte 
+// (par l'URL ou l'include) qui a ete recopie dans Pile[0]
+// (un essai d'affinage a debouche sur un bug vicieux)
+// Si ca reference un champ SQL, on le memorise dans la structure $boucles
+// afin de construire un requete SQL minimale (plutot qu'un brutal 'SELECT *')
+
+function index_pile($idb, $nom_champ, &$boucles, $explicite='') {
+  global $exceptions_des_tables, $table_des_tables, $tables_des_serveurs_sql;
+
+	$i = 0;
+	if (strlen($explicite)) {
+	// Recherche d'un champ dans un etage superieur
+	  while (($idb != $explicite) && ($idb !='')) {
+#		spip_log("Cherchexpl: $nom_champ '$explicite' '$idb' '$i'");
+			$i++;
+			$idb = $boucles[$idb]->id_parent;
+		}
+	}
+
+	$c = strtolower($nom_champ);
+	// attention: entre la boucle nommee 0, "" et le tableau vide,
+	// il y a incoherences qu'il vaut mieux eviter
+	while ($boucles[$idb]) {
+#		spip_log("Cherche: $nom_champ '$idb' '$c'");
+		$r = $boucles[$idb]->type_requete;
+		$s = $boucles[$idb]->sql_serveur;
+		if (!$s) 
+		  { $s = 'localhost';
+    // indirection (pour les rares cas ou le nom de la table!=type)
+		    $t = $table_des_tables[$r];
+		  }
+		// pour les tables non Spip
+		if (!$t) {$nom_table = $t = $r; }
+		else $nom_table = 'spip_' . $t;
+
+		#spip_log("Go: idb='$idb' r='$r' c='$c' nom='$nom_champ' s=$s t=$t");
+		$desc = $tables_des_serveurs_sql[$s][$nom_table];
+		if (!$desc) {
+			erreur_squelette(_T('zbug_table_inconnue', array('table' => $r)),
+				"'$idb'");
+			# continuer pour chercher l'erreur suivante
+			return  "'#" . $r . ':' . $nom_champ . "'";
+		}
+		$excep = $exceptions_des_tables[$r][$c];
+		if ($excep) {
+			// entite SPIP alias d'un champ SQL
+			if (!is_array($excep)) {
+				$e = $excep;
+				$c = $excep;
+			} 
+			// entite SPIP alias d'un champ dans une autre table SQL
+			else {
+				$t = $excep[0];
+				$e = $excep[1].' AS '.$c;
+			}
+		}
+		else {
+			// $e est le type SQL de l'entree
+			// entite SPIP homonyme au champ SQL
+			if ($desc['field'][$c])
+				$e = $c;
+			else
+				unset($e);
+		}
+
+#		spip_log("Dans $idb ('$t' '$e'): $desc");
+
+		// On l'a trouve
+		if ($e) {
+			$boucles[$idb]->select[] = $t . "." . $e;
+			return '$Pile[$SP' . ($i ? "-$i" : "") . '][\'' . $c . '\']';
+		}
+
+		// Sinon on remonte d'un cran
+		$idb = $boucles[$idb]->id_parent;
+		$i++;
+	}
+
+#	spip_log("Pas vu $nom_champ dans les " . count($boucles) . " boucles");
+	// esperons qu'il y sera
+	return('$Pile[0][\''.$nom_champ.'\']');
+}
+
+# calculer_champ genere le code PHP correspondant a une balise Spip
+# Retourne une EXPRESSION php 
+function calculer_champ($p) {
+	$p = calculer_balise($p->nom_champ, $p);
+
+	// definir le type et les traitements
+	// si ca ramene le choix par defaut, ce n'est pas un champ 
+
+	if (($p->code) && ($p->code != '$Pile[0][\''.$nom.'\']')) {
+		// Par defaut basculer en numerique pour les #ID_xxx
+		if (substr($nom,0,3) == 'ID_') $p->statut = 'num';
+	}
+
+	else {
+	// on renvoie la forme initiale '#TOTO'
+	$p->code = "'#" . $nom . "'";
+	$p->statut = 'php';	// pas de traitement
+	
+	}
+
+	// Retourner l'expression php correspondant au champ + ses filtres
+	return applique_filtres($p);
+}
+
+// cette fonction sert d'API pour demander le champ '$champ' dans la pile
+function champ_sql($champ, $p) {
+	return index_pile($p->id_boucle, $champ, $p->boucles, $p->nom_boucle);
+}
+
+// cette fonction sert d'API pour demander une balise quelconque sans filtre
+function calculer_balise($nom, $p) {
+
+	// regarder s'il existe une fonction personnalisee balise_NOM()
+	$f = 'balise_' . $nom;
+	if (function_exists($f))
+		return $f($p);
+
+	// regarder s'il existe une fonction standard balise_NOM_dist()
+	$f = 'balise_' . $nom . '_dist';
+	if (function_exists($f))
+		return $f($p);
+
+	// regarder s'il existe un fichier d'inclusion au nom de la balise
+	// et contenant un tableau balise_NOM_collecte
+	$file = 'inc-' . strtolower($nom) . _EXTENSION_PHP;
+	if ($file = find_in_path($file)) {
+		include_local($file);
+		$f = $GLOBALS['balise_' . $nom . '_collecte'];
+		if (is_array($f))
+			return calculer_balise_dynamique($p, $nom, $f);
+	}
+
+	// S'agit-il d'un logo ? Une fonction speciale les traite tous
+	if (ereg('^LOGO_', $nom))
+		return calculer_balise_logo($p);
+
+	// ca pourrait etre un champ SQL homonyme,
+	$p->code = index_pile($p->id_boucle, $nom, $p->boucles, $p->nom_boucle);
+
+	// Compatibilite ascendante avec les couleurs html (#FEFEFE) :
+	// SI le champ SQL n'est pas trouve
+	// ET si la balise a une forme de couleur
+	// ET s'il n'y a ni filtre ni etoile
+	// ALORS retourner la couleur.
+	// Ca permet si l'on veut vraiment de recuperer [(#ACCEDE*)]
+	if (ereg("^[\$]Pile[[]0[]][[]'([A-F]{1,6})'[]]$", $p->code, $match)
+	AND !$p->etoile
+	AND !$p->fonctions) {
+		$p->code = "'#". $match[1]."'";
+		$p->statut = 'php';
+	}
+
+	return $p;
+}
+
+//
+// Traduction des balises dynamiques, notamment les "formulaire_*"
+// Inclusion du fichier associe a son nom.
+// Ca donne les arguments a chercher dans la pile,on compile leur localisation
+// Ensuite on delegue a une fonction generale definie dans inc-calcul-outils
+// qui recevra a l'execution la valeurs des arguments, 
+// ainsi que les filtres (qui ne sont donc pas traites a la compil)
+
+function calculer_balise_dynamique($p, $nom, $l) {
+	balise_distante_interdite($p);
+	$param = param_balise($p);
+	$p->code = "executer_balise_dynamique('" . $nom . "',\n\tarray("
+	  . join(',',collecter_balise_dynamique($l, $p))
+	  . filtres_arglist($param, $p, ',')
+	  . "),\n\tarray("
+	  . (!$p->fonctions ? '' : ("'" . join("','", $p->fonctions) . "'"))
+	  . "), \$GLOBALS['spip_lang'])";
+	$p->statut = 'php';
+	$p->fonctions = '';
+
+	// Cas particulier de #FORMULAIRE_FORUM : inserer l'invalideur
+	if ($nom == 'FORMULAIRE_FORUM')
+		$p->code = code_invalideur_forums($p, $p->code);
+
+	return $p;
+}
+
+function param_balise(&$p) {
+	$a = $p->fonctions;
+	if ($a) list(,$nom) = each($a) ; else $nom = '';
+	if (!ereg(' *\{ *([^}]+) *\} *',$nom, $m))
+	  return '';
+	else {
+		$filtres= array();
+		while (list(, $f) = each($a)) if ($f) $filtres[] = $f;
+		$p->fonctions = $filtres;
+		return $m[1];
+	}
+}
+
+// construire un tableau des valeurs interessant un formulaire
+
+function collecter_balise_dynamique($l, $p) {
+	$args = array();
+	foreach($l as $c) { $x = calculer_balise($c, $p); $args[] = $x->code;}
+	return $args;
+}
+
+// Genere l'application d'une liste de filtres
+function applique_filtres($p) {
+
+	$statut = $p->statut;
+	$fonctions = $p->fonctions;
+	$p->fonctions = ''; # pour r?utiliser la structure si r?cursion
+
+	// pretraitements standards
+	switch ($statut) {
+		case 'num':
+			$code = "intval($code)";
+			break;
+		case 'php':
+			break;
+		case 'html':
+		default:
+			$code = "trim($code)";
+			break;
+	}
+
+//  processeurs standards (cf inc-balises.php3)
+	$code = ($p->etoile ? $p->code : champs_traitements($p));
+	// Appliquer les filtres perso
+	if ($fonctions) {
+		foreach($fonctions as $fonc) {
+			if ($fonc) {
+
+				$arglist = '';
+				if (ereg('([^\{\}]+)\{(.+)\}$', $fonc, $regs)) {
+					$fonc = $regs[1];
+
+				        $arglist = filtres_arglist($regs[2],$p, ($fonc == '?' ? ':' : ','));
+				}
+				if (function_exists($fonc))
+				  $code = "$fonc($code$arglist)";
+				else if (strpos(" < > <= >= == <> ? ", " $fonc "))
+				  $code = "($code $fonc "
+				    . substr($arglist,1)
+				    . ')';
+				else 
+				  $code = "erreur_squelette('".
+					  texte_script(
+						_T('zbug_erreur_filtre', array('filtre' => $fonc))
+					)."','" . $p->id_boucle . "')";
+			}
+		}
+	}
+
+	// post-traitement securite
+	if ($statut == 'html')
+		$code = "interdire_scripts($code)";
+	return $code;
+}
+
+// analyse des parametres d'un champ etendu
+// [...(#CHAMP{parametres})...] ou [...(#CHAMP|filtre{parametres})...]
+// retourne une suite de N references aux N valeurs indiqu?es avec N virgules
+
+function filtres_arglist($args, $p, $sep) {
+	$arglist ='';
+	while (ereg('([^,]+),?(.*)$', $args, $regs)) {
+		$arg = trim($regs[1]);
+		if ($arg) {
+			if ($arg[0] =='$')
+				$arg = '$Pile[0][\'' . substr($arg,1) . "']";
+			elseif ($arg[0] =='<')
+			  $arg = calculer_texte($arg, $p->id_boucle, $p->boucles, $p->id_mere);
+			elseif (ereg("^" . NOM_DE_CHAMP ."(.*)$", $arg, $r2)) {
+				$p->nom_boucle = $r2[2];
+				$p->nom_champ = $r2[3];
+				# faudrait verifier !trim(r2[5])
+				$arg = calculer_champ($p);
+			} 
+
+			$arglist .= $sep . $arg;
+		}
+		$args=$regs[2];
+	}
+	return $arglist;
+}
+
+//
+// Reserve les champs necessaires a la comparaison avec le contexte donne par
+// la boucle parente ; attention en recursif il faut les reserver chez soi-meme
+// ET chez sa maman
+// 
+function calculer_argument_precedent($idb, $nom_champ, &$boucles) {
+
+	// recursif ?
+	if ($boucles[$idb]->externe)
+		index_pile ($idb, $nom_champ, $boucles); // reserver chez soi-meme
+	// reserver chez le parent et renvoyer l'habituel $Pile[$SP]['nom_champ']
+#	spip_log("boucles[$idb]->id_parent " . $boucles[$idb]->id_parent);
+	return index_pile ($boucles[$idb]->id_parent, $nom_champ, $boucles);
+}
+
+function rindex_pile($p, $champ, $motif) 
+{
+	$n = 0;
+	$b = $p->id_boucle;
+	$p->code = '';
+	while ($b != '') {
+	if ($s = $p->boucles[$b]->param) {
+	  foreach($s as $v) {
+		if (strpos($v,$motif) !== false) {
+		  $p->code = '$Pile[$SP' . (($n==0) ? "" : "-$n") .
+			"]['$champ']";
+		  $b = '';
+		  break;
+		}
+	  }
+	}
+	$n++;
+	$b = $p->boucles[$b]->id_parent;
+	}
+	if (!$p->code) {
+		erreur_squelette(_T('zbug_champ_hors_motif',
+			array('champ' => '#' . strtoupper($champ),
+				'motif' => $motif)
+		), $p->id_boucle);
+	}
+	$p->statut = 'php';
+	return $p;
+}
+
+?>

Index: inc-compilo.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-compilo.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-compilo.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-compilo.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,684 +1,700 @@
-<?php
-
-//
-// Fichier principal du compilateur de squelettes
-//
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_COMPILO")) return;
-define("_INC_COMPILO", "1");
-
-
[...1353 lines suppressed...]
+function $nom (\$Cache, \$Pile, \$doublons=array(), \$Numrows='', \$SP=0) {
+\$t0 = $corps;
+
+	return array(
+		'texte' => \$t0,
+		'squelette' => '$nom',
+		'process_ins' => ((strpos(\$t0,'<'.'?')=== false) ? 'html' : 'php'),
+		'invalideurs' => \$Cache
+	);
+}
+
+?".">";
+
+	if ($GLOBALS['var_mode'] == 'debug')
+		squelette_debug_compile($nom, $sourcefile, $squelette_compile);
+	return $squelette_compile;
+
+}
+
+?>

Index: inc-criteres.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-criteres.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-criteres.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-criteres.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,623 +1,642 @@
-<?php
-
-//
-// Definition des {criteres} d'une boucle
-//
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_CRITERES")) return;
-define("_INC_CRITERES", "1");
-
-
[...1234 lines suppressed...]
+	foreach (split(" *, *", $reg[1]) as $v) {
+	  $v = calculer_param_dynamique($v, $boucles, $idb);
+	  if (is_array($v)) erreur_squelette($v);
+	  if (strpos('0123456789',$v[0]) !== false)
+	    $res[] = $v;
+	  else if ($v[0]=='"')
+	    $res[] = "'" . $v . "'";
+	  else
+	    $res[] = "'$v'";
+	}
+	return join(',', $res);
+}
+
+function simplifie_param_dynamique($val, &$boucles, $idb)
+{
+	$a = calculer_param_dynamique($val, $boucles, $idb);
+	if (!ereg('" \. *(.*)\. "', $a, $m)) return $a;
+	return $m[1];
+}	
+?>

Index: inc-html-squel.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-html-squel.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-html-squel.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-html-squel.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,337 +1,339 @@
-<?php
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_HTML_SQUEL")) return;
-define("_INC_HTML_SQUEL", "1");
-
-# Ce fichier doit IMPERATIVEMENT contenir la fonction "parser"
-# qui transforme un squelette en un tableau d'objets de classe Boucle
-# il est charge par un include calcule dans inc-calcul-squel
-# pour permettre differentes syntaxes en entree
-
-define('NOM_DE_BOUCLE', "[0-9]+|[-_][-_.a-zA-Z0-9]*");
-define('NOM_DE_CHAMP', "#((" . NOM_DE_BOUCLE . "):)?([A-Z_]+)(\*?)");
-define('CHAMP_ETENDU', '\[([^]\[]*)\(' . NOM_DE_CHAMP . '([^]\[)]*)\)([^]\[]*)\]');
-define('PARAM_DE_BOUCLE','[[:space:]]*\{[[:space:]]*([^{}]*(\{[^\}]*\}[^\}]*)*)[[:space:]]*\}');
-define('TYPE_DE_BOUCLE', "[^)]*");
-define('BALISE_DE_BOUCLE',
-	"^<BOUCLE(" .
-	NOM_DE_BOUCLE .
-	')[[:space:]]*\((' .
-	TYPE_DE_BOUCLE .
-	')\)((' .
-	PARAM_DE_BOUCLE .
-	')*)[[:space:]]*>');
-define('PARAM_INCLURE','[[:space:]]*\{[[:space:]]*([_0-9a-zA-Z]+)[[:space:]]*(=[[:space:]]*([^\{\}]*(\{[^\}]*\}[^\} ]*)?))?[[:space:]]*\}');
-define('BALISE_INCLURE',"<INCLU[DR]E[[:space:]]*\(" .
-       '([-_0-9a-zA-Z./ ]+)' .
-	'\)((' .
-	PARAM_INCLURE .
-	')*)[[:space:]]*>');
-define('DEBUT_DE_BOUCLE','/<B('.NOM_DE_BOUCLE.')>.*?<BOUCLE\1[^-_.a-zA-Z0-9]|<BOUCLE('.NOM_DE_BOUCLE.')/ms');	# preg
-
-
-function parser_inclure($texte, $result) {
-	while (($p=strpos($texte, '<INCLU')) !== false) {
-		$fin = substr($texte, $p);
-
-		if (!ereg('^' . BALISE_INCLURE, $fin, $match)) break;
-		$s = $match[0];
-		$debut = substr($texte, 0, $p);
-		$texte = substr($fin, strlen($s));
-
-		if ($debut) $result = parser_champs($debut, $result);
-
-		$champ = new Inclure;
-		$champ->fichier = $match[1];
-		$champ->params = array();
-		$p = trim($match[2]);
-		if ($p) {
-			while (ereg('^' . PARAM_INCLURE . '(.*)$', $p, $m)) {
-				$champ->params[$m[1]] = $m[3];
-				$p = $m[5];
-			}
-			
-			if ($p)	erreur_squelette(_L("Param&egrave;tres d'inclusion incorrects"), $s);
-		}
-		$result[] = $champ;
-	}
-
-	return (!$texte ? $result : parser_champs($texte, $result));
-}
-
-function parser_champs($texte,$result) {
-	while (ereg(NOM_DE_CHAMP . '(.*)$', $texte, $regs)) {
-	  $p = strpos($texte, $regs[0]);
-
-	  if ($regs[4] || !ereg("[0-9a-z]", $regs[5][0])) {
-		if ($p) {
-			$champ = new Texte;
-			$champ->texte = (substr($texte, 0, $p));
-			$result[] = $champ;
-		}
-		  
-		$champ = new Champ;
-		$champ->nom_boucle = $regs[2];
-		$champ->nom_champ = $regs[3];
-		$champ->etoile = $regs[4];
-		$texte = $regs[5];
-		$result[] = $champ;
-	  } else {
-	    // faux champ
-	    $champ = new Texte;
-	    $champ->texte = (substr($texte, 0, $p+1));
-	    $result[] = $champ;
-	    $texte = (substr($texte, $p+1));
-	  }
-	}
-	if ($texte) {
-	  
-		$champ = new Texte;
-		$champ->texte = $texte;
-		$result[] = $champ;
-	}
-	return $result;
-}
-
-// Gestion des imbrications:
-// on cherches les [..] les plus internes et on les remplace par une  chaine
-// %###N@ o? N indexe un tableau comportant le r?sultat de leur phras?
-// on recommence tant qu'il y a des [...] en substituant ? l'appel suivant
-
-function parser_champs_etendus($texte, $result) {
-	if (!$texte) return $result;
-	$sep = '##';
-	while (strpos($texte,$sep)!== false)
-		$sep .= '#';
-	return array_merge($result, parser_champs_interieurs($texte, $sep, array()));
-}
-
-
-function parser_champs_exterieurs($debut, $sep, $nested) {
-	$res = array();
-	while (($p=strpos($debut, "%$sep"))!==false) {
-	    if ($p) $res = parser_inclure(substr($debut,0,$p), $res);
-	    ereg("^%$sep([0-9]+)@(.*)$", substr($debut,$p),$m);
-	    $res[]= $nested[$m[1]];
-	    $debut = $m[2];
-	}
-	return (!$debut ?  $res : parser_inclure($debut, $res));
-
-}
-
-function parser_champs_interieurs($texte, $sep, $result) {
-	$i = 1;
-	while (true) {	  $j=$i;
-	  while (ereg(CHAMP_ETENDU . '(.*)$', $texte, $regs)) {
-		$champ = new Champ;
-		$champ->nom_boucle = $regs[3];
-		$champ->nom_champ = $regs[4];
-		$champ->etoile = $regs[5];
-		$champ->cond_avant = parser_champs_exterieurs($regs[1],$sep,$result);
-		$champ->cond_apres = parser_champs_exterieurs($regs[7],$sep,$result);
-		$fonctions = $regs[6];
-		if ($fonctions) {
-			$fonctions = explode('|', ereg_replace("^\|", "", $fonctions));
-			foreach($fonctions as $f) $champ->fonctions[]= $f;
-		}
-
-		$p = strpos($texte, $regs[0]);
-		if ($p) {$result[$i] = substr($texte,0,$p);$i++; }
-		$result[$i] = $champ;
-		$i++;
-		$texte = $regs[8];
-	  }
-	  if ($texte) {$result[$i] = $texte; $i++;}
-	  $x ='';
-
-	  while($j < $i) 
-	    { $z= $result[$j]; 
-	      if (is_object($z)) $x .= "%$sep$j@" ; else $x.=$z ;
-	      $j++;}
-	  if (ereg(CHAMP_ETENDU, $x)) $texte = $x;
-	  else return parser_champs_exterieurs($x, $sep, $result);}
-}
-
-
-function parser_param($params, &$result) {
-	$params2 = array();
-	$type = $result->type_requete;
-	while (ereg('^' . PARAM_DE_BOUCLE . '[[:space:]]*(.*)$', trim($params), $m)) {
-		$params = $m[3];
-		$m[1] = trim($m[1]);
-		// cas d'un critere avec {...}
-		if ($m[2])
-			$params2[] = $m[1];
-		else {
-			if (strlen($m[1]) < 2)
-				$params2[] = $m[1];
-	    else {
-	      ereg('^(.)([^"}]*)(.)$', $m[1], $args);
-	      // cas syntaxique general, 
-	      // traiter qq lexemes particuliers pour faciliter la suite
-	      if ($args[3] != '"') {
-			$param = $m[1];
-			if (($param == 'tout') OR ($param == 'tous')) {
-				$result->tout = true;
-				unset ($param);
-			}
-			else if ($param == 'plat') {
-				$result->plat = true;
-				unset ($param);
-			}
-
-			// Boucle hierarchie, analyser le critere id_article - id_rubrique
-			// - id_syndic, afin, dans les cas autres que {id_rubrique}, de
-			// forcer {tout} pour avoir la rubrique mere...
-			else if ($type == 'hierarchie') {
-				if ($param == 'id_article' OR $param == 'id_syndic') {
-					$result->tout = true;
-					unset ($param);
-				} else if ($param == 'id_rubrique')
-					unset ($param);
-			}
-
-			// synonyme
-			if ($param == 'unique') $param = 'doublons';
-
-			// l'ajouter
-			if ($param)
-				$params2[] = $param;
-	      }
-		else {
-		  // cas d'un guillemet final
-			if ($args[1] == '"') {
-			  // si tout le param est entre guillement, vite vu
-				$result->separateur = 
-					ereg_replace("'","\'",$args[2]);
-			}
-			else {
-				$params2[] = $args[1] . $args[2] . '"' . $m[1];
-			}
-		}
-	    }
-	  }
-	}
-	$result->param = $params2;
-}
-
-function parser($texte, $id_parent, &$boucles, $nom) {
-
-	$all_res = array();
-
-	while (preg_match(DEBUT_DE_BOUCLE, $texte, $regs)) {
-		$nom_boucle = $regs[1].$regs[2];
-		$p = strpos($texte, '<BOUCLE'.$nom_boucle);
-
-		// envoyer la boucle au debugueur
-		if ($GLOBALS['var_mode']== 'debug') {
-			$preg = "@<B($nom_boucle|OUCLE${nom_boucle}[^-_.a-zA-Z0-9][^>]*)>"
-				. ".*</(BOUCLE|/?B)$nom_boucle>@ms";
-			preg_match($preg, $texte, $match);
-			boucle_debug ($nom_boucle, $nom, $match[0]);
-		}
-
-		//
-		// Recuperer la partie principale de la boucle
-		//
-		$debut = substr($texte, 0, $p);
-		$milieu = substr($texte, $p);
-
-		if (!ereg(BALISE_DE_BOUCLE, $milieu, $match)) {
-			erreur_squelette((_T('erreur_boucle_syntaxe')), $milieu);
-		}
-		$id_boucle = $match[1];
-
-		$result = new Boucle;
-		$result->id_parent = $id_parent;
-		$result->id_boucle = $id_boucle;
-
-		$type = $match[2];
-		if ($p =strpos($type, ':'))
-		  {
-		    $result->sql_serveur = substr($type,0,$p);
-		    $type = substr($type,$p+1);
-		  }
-		$type = strtolower($type);
-		if ($type == 'sites') $type = 'syndication'; # alias
-
-		//
-		// Recuperer les criteres de la boucle (sauf boucle recursive)
-		//
-		if (substr($type, 0, 6) == 'boucle') {
-			$result->type_requete = 'boucle';
-			$result->param = substr($match[2], 6);
-		} else {
-			$result->type_requete = $type;
-			parser_param($match[3], $result);
-		}
-
-		//
-		// Recuperer la partie conditionnelle avant
-		//
-		$s = "<B$id_boucle>";
-		$p = strpos($debut, $s);
-		if ($p !== false) {
-			$result->cond_avant = substr($debut, $p + strlen($s));
-			$debut = substr($debut, 0, $p);
-		}
-		$milieu = substr($milieu, strlen($match[0]));
-		if (strpos($milieu, $s)) {
-			erreur_squelette(_T('erreur_boucle_syntaxe'),
-				$id_boucle . 
-				_L('&nbsp;: balise B en aval'));
-		}
-
-		//
-		// Recuperer la fin :
-		//
-		$s = "</BOUCLE$id_boucle>";
-		$p = strpos($milieu, $s);
-		if ($p === false) {
-			erreur_squelette(_T('erreur_boucle_syntaxe'),
-					 _T('erreur_boucle_fermant',
-						array('id'=>$id_boucle)));
-		}
-		$texte = substr($milieu, $p + strlen($s));
-		$milieu = substr($milieu, 0, $p);
-
-		//
-		// 1. Recuperer la partie conditionnelle apres
-		//
-		$s = "</B$id_boucle>";
-		$p = strpos($texte, $s);
-		if ($p !== false) {
-			$result->cond_fin = substr($texte, 0, $p);
-			$texte = substr($texte, $p + strlen($s));
-		}
-
-		//
-		// 2. Recuperer la partie alternative
-		//
-		$s = "<//B$id_boucle>";
-		$p = strpos($texte, $s);
-		if ($p !== false) {
-			$result->cond_altern = substr($texte, 0, $p);
-			$texte = substr($texte, $p + strlen($s));
-		}
-
-		$result->cond_avant = parser($result->cond_avant, $id_parent,$boucles, $nom);
-		$result->cond_apres = parser($result->cond_fin, $id_parent,$boucles, $nom);
-		$result->cond_altern = parser($result->cond_altern,$id_parent,$boucles, $nom);
-		$result->milieu = parser($milieu, $id_boucle,$boucles, $nom);
-
-		$all_res = parser_champs_etendus($debut, $all_res);
-		$all_res[] = $result;
-		if ($boucles[$id_boucle]) {
-			erreur_squelette(_T('erreur_boucle_syntaxe'),
-					 _T('erreur_boucle_double',
-					 	array('id'=>$id_boucle)));
-		} else
-			$boucles[$id_boucle] = $result;
-	}
-
-	return parser_champs_etendus($texte, $all_res);
-}
-
-?>
+<?php
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_HTML_SQUEL")) return;
+define("_INC_HTML_SQUEL", "1");
+
+# Ce fichier doit IMPERATIVEMENT contenir la fonction "parser"
+# qui transforme un squelette en un tableau d'objets de classe Boucle
+# il est charge par un include calcule dans inc-calcul-squel
+# pour permettre differentes syntaxes en entree
+
+define('NOM_DE_BOUCLE', "[0-9]+|[-_][-_.a-zA-Z0-9]*");
+define('NOM_DE_CHAMP', "#((" . NOM_DE_BOUCLE . "):)?([A-Z_]+)(\*?)");
+define('CHAMP_ETENDU', '\[([^]\[]*)\(' . NOM_DE_CHAMP . '([^]\[)]*)\)([^]\[]*)\]');
+define('PARAM_DE_BOUCLE','[[:space:]]*\{[[:space:]]*([^{}]*(\{[^\}]*\}[^\}]*)*)[[:space:]]*\}');
+define('TYPE_DE_BOUCLE', "[^)]*");
+define('BALISE_DE_BOUCLE',
+	"^<BOUCLE(" .
+	NOM_DE_BOUCLE .
+	')[[:space:]]*\((' .
+	TYPE_DE_BOUCLE .
+	')\)((' .
+	PARAM_DE_BOUCLE .
+	')*)[[:space:]]*>');
+define('PARAM_INCLURE','[[:space:]]*\{[[:space:]]*([_0-9a-zA-Z]+)[[:space:]]*(=[[:space:]]*([^\{\}]*(\{[^\}]*\}[^\} ]*)?))?[[:space:]]*\}');
+define('BALISE_INCLURE',"<INCLU[DR]E[[:space:]]*\(" .
+       '([-_0-9a-zA-Z./ ]+)' .
+	'\)((' .
+	PARAM_INCLURE .
+	')*)[[:space:]]*>');
+define('DEBUT_DE_BOUCLE','/<B('.NOM_DE_BOUCLE.')>.*?<BOUCLE\1[^-_.a-zA-Z0-9]|<BOUCLE('.NOM_DE_BOUCLE.')/ms');	# preg
+
+
+function parser_inclure($texte, $result) {
+	while (($p=strpos($texte, '<INCLU')) !== false) {
+		$fin = substr($texte, $p);
+
+		if (!ereg('^' . BALISE_INCLURE, $fin, $match)) break;
+		$s = $match[0];
+		$debut = substr($texte, 0, $p);
+		$texte = substr($fin, strlen($s));
+
+		if ($debut) $result = parser_champs($debut, $result);
+
+		$champ = new Inclure;
+		$champ->fichier = $match[1];
+		$champ->params = array();
+		$p = trim($match[2]);
+		if ($p) {
+			while (ereg('^' . PARAM_INCLURE . '(.*)$', $p, $m)) {
+				$champ->params[$m[1]] = $m[3];
+				$p = $m[5];
+			}
+			
+			if ($p)
+				erreur_squelette(_T('zbug_parametres_inclus_incorrects'),
+				$s);
+		}
+		$result[] = $champ;
+	}
+
+	return (!$texte ? $result : parser_champs($texte, $result));
+}
+
+function parser_champs($texte,$result) {
+	while (ereg(NOM_DE_CHAMP . '(.*)$', $texte, $regs)) {
+	  $p = strpos($texte, $regs[0]);
+
+	  if ($regs[4] || !ereg("[0-9a-z]", $regs[5][0])) {
+		if ($p) {
+			$champ = new Texte;
+			$champ->texte = (substr($texte, 0, $p));
+			$result[] = $champ;
+		}
+		  
+		$champ = new Champ;
+		$champ->nom_boucle = $regs[2];
+		$champ->nom_champ = $regs[3];
+		$champ->etoile = $regs[4];
+		$texte = $regs[5];
+		$result[] = $champ;
+	  } else {
+	    // faux champ
+	    $champ = new Texte;
+	    $champ->texte = (substr($texte, 0, $p+1));
+	    $result[] = $champ;
+	    $texte = (substr($texte, $p+1));
+	  }
+	}
+	if ($texte) {
+	  
+		$champ = new Texte;
+		$champ->texte = $texte;
+		$result[] = $champ;
+	}
+	return $result;
+}
+
+// Gestion des imbrications:
+// on cherche les [..] les plus internes et on les remplace par une chaine
+// %###N@ ou N indexe un tableau comportant le resultat de leur phrase
+// on recommence tant qu'il y a des [...] en substituant a l'appel suivant
+
+function parser_champs_etendus($texte, $result) {
+	if (!$texte) return $result;
+	$sep = '##';
+	while (strpos($texte,$sep)!== false)
+		$sep .= '#';
+	return array_merge($result, parser_champs_interieurs($texte, $sep, array()));
+}
+
+
+function parser_champs_exterieurs($debut, $sep, $nested) {
+	$res = array();
+	while (($p=strpos($debut, "%$sep"))!==false) {
+	    if ($p) $res = parser_inclure(substr($debut,0,$p), $res);
+	    ereg("^%$sep([0-9]+)@(.*)$", substr($debut,$p),$m);
+	    $res[]= $nested[$m[1]];
+	    $debut = $m[2];
+	}
+	return (!$debut ?  $res : parser_inclure($debut, $res));
+
+}
+
+function parser_champs_interieurs($texte, $sep, $result) {
+	$i = 1;
+	while (true) {	  $j=$i;
+	  while (ereg(CHAMP_ETENDU . '(.*)$', $texte, $regs)) {
+		$champ = new Champ;
+		$champ->nom_boucle = $regs[3];
+		$champ->nom_champ = $regs[4];
+		$champ->etoile = $regs[5];
+		$champ->cond_avant = parser_champs_exterieurs($regs[1],$sep,$result);
+		$champ->cond_apres = parser_champs_exterieurs($regs[7],$sep,$result);
+		$fonctions = $regs[6];
+		if ($fonctions) {
+			$fonctions = explode('|', ereg_replace("^\|", "", $fonctions));
+			foreach($fonctions as $f) $champ->fonctions[]= $f;
+		}
+
+		$p = strpos($texte, $regs[0]);
+		if ($p) {$result[$i] = substr($texte,0,$p);$i++; }
+		$result[$i] = $champ;
+		$i++;
+		$texte = $regs[8];
+	  }
+	  if ($texte) {$result[$i] = $texte; $i++;}
+	  $x ='';
+
+	  while($j < $i) 
+	    { $z= $result[$j]; 
+	      if (is_object($z)) $x .= "%$sep$j@" ; else $x.=$z ;
+	      $j++;}
+	  if (ereg(CHAMP_ETENDU, $x)) $texte = $x;
+	  else return parser_champs_exterieurs($x, $sep, $result);}
+}
+
+
+function parser_param($params, &$result) {
+	$params2 = array();
+	$type = $result->type_requete;
+	while (ereg('^' . PARAM_DE_BOUCLE . '[[:space:]]*(.*)$', trim($params), $m)) {
+		$params = $m[3];
+		$m[1] = trim($m[1]);
+		// cas d'un critere avec {...}
+		if ($m[2])
+			$params2[] = $m[1];
+		else {
+			if (strlen($m[1]) < 2)
+				$params2[] = $m[1];
+	    else {
+	      ereg('^(.)([^"}]*)(.)$', $m[1], $args);
+	      // cas syntaxique general, 
+	      // traiter qq lexemes particuliers pour faciliter la suite
+	      if ($args[3] != '"') {
+			$param = $m[1];
+			if (($param == 'tout') OR ($param == 'tous')) {
+				$result->tout = true;
+				unset ($param);
+			}
+			else if ($param == 'plat') {
+				$result->plat = true;
+				unset ($param);
+			}
+
+			// Boucle hierarchie, analyser le critere id_article - id_rubrique
+			// - id_syndic, afin, dans les cas autres que {id_rubrique}, de
+			// forcer {tout} pour avoir la rubrique mere...
+			else if ($type == 'hierarchie') {
+				if ($param == 'id_article' OR $param == 'id_syndic') {
+					$result->tout = true;
+					unset ($param);
+				} else if ($param == 'id_rubrique')
+					unset ($param);
+			}
+
+			// synonyme
+			if ($param == 'unique') $param = 'doublons';
+
+			// l'ajouter
+			if ($param)
+				$params2[] = $param;
+	      }
+		else {
+		  // cas d'un guillemet final
+			if ($args[1] == '"') {
+			  // si tout le param est entre guillement, vite vu
+				$result->separateur = 
+					ereg_replace("'","\'",$args[2]);
+			}
+			else {
+				$params2[] = $args[1] . $args[2] . '"' . $m[1];
+			}
+		}
+	    }
+	  }
+	}
+	$result->param = $params2;
+}
+
+function parser($texte, $id_parent, &$boucles, $nom) {
+
+	$all_res = array();
+
+	while (preg_match(DEBUT_DE_BOUCLE, $texte, $regs)) {
+		$nom_boucle = $regs[1].$regs[2];
+		$p = strpos($texte, '<BOUCLE'.$nom_boucle);
+
+		// envoyer la boucle au debugueur
+		if ($GLOBALS['var_mode']== 'debug') {
+			$preg = "@<B($nom_boucle|OUCLE${nom_boucle}[^-_.a-zA-Z0-9][^>]*)>"
+				. ".*</(BOUCLE|/?B)$nom_boucle>@ms";
+			preg_match($preg, $texte, $match);
+			boucle_debug ($nom_boucle, $nom, $match[0]);
+		}
+
+		//
+		// Recuperer la partie principale de la boucle
+		//
+		$debut = substr($texte, 0, $p);
+		$milieu = substr($texte, $p);
+
+		if (!ereg(BALISE_DE_BOUCLE, $milieu, $match)) {
+			erreur_squelette((_T('zbug_erreur_boucle_syntaxe')), $milieu);
+		}
+		$id_boucle = $match[1];
+
+		$result = new Boucle;
+		$result->id_parent = $id_parent;
+		$result->id_boucle = $id_boucle;
+
+		$type = $match[2];
+		if ($p =strpos($type, ':'))
+		  {
+		    $result->sql_serveur = substr($type,0,$p);
+		    $type = substr($type,$p+1);
+		  }
+		$type = strtolower($type);
+		if ($type == 'sites') $type = 'syndication'; # alias
+
+		//
+		// Recuperer les criteres de la boucle (sauf boucle recursive)
+		//
+		if (substr($type, 0, 6) == 'boucle') {
+			$result->type_requete = 'boucle';
+			$result->param = substr($match[2], 6);
+		} else {
+			$result->type_requete = $type;
+			parser_param($match[3], $result);
+		}
+
+		//
+		// Recuperer la partie conditionnelle avant
+		//
+		$s = "<B$id_boucle>";
+		$p = strpos($debut, $s);
+		if ($p !== false) {
+			$result->cond_avant = substr($debut, $p + strlen($s));
+			$debut = substr($debut, 0, $p);
+		}
+		$milieu = substr($milieu, strlen($match[0]));
+		if (strpos($milieu, $s)) {
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
+				$id_boucle . 
+				_T('zbug_balise_b_aval'));
+		}
+
+		//
+		// Recuperer la fin :
+		//
+		$s = "</BOUCLE$id_boucle>";
+		$p = strpos($milieu, $s);
+		if ($p === false) {
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
+					 _T('zbug_erreur_boucle_fermant',
+						array('id'=>$id_boucle)));
+		}
+		$texte = substr($milieu, $p + strlen($s));
+		$milieu = substr($milieu, 0, $p);
+
+		//
+		// 1. Recuperer la partie conditionnelle apres
+		//
+		$s = "</B$id_boucle>";
+		$p = strpos($texte, $s);
+		if ($p !== false) {
+			$result->cond_fin = substr($texte, 0, $p);
+			$texte = substr($texte, $p + strlen($s));
+		}
+
+		//
+		// 2. Recuperer la partie alternative
+		//
+		$s = "<//B$id_boucle>";
+		$p = strpos($texte, $s);
+		if ($p !== false) {
+			$result->cond_altern = substr($texte, 0, $p);
+			$texte = substr($texte, $p + strlen($s));
+		}
+
+		$result->cond_avant = parser($result->cond_avant, $id_parent,$boucles, $nom);
+		$result->cond_apres = parser($result->cond_fin, $id_parent,$boucles, $nom);
+		$result->cond_altern = parser($result->cond_altern,$id_parent,$boucles, $nom);
+		$result->milieu = parser($milieu, $id_boucle,$boucles, $nom);
+
+		$all_res = parser_champs_etendus($debut, $all_res);
+		$all_res[] = $result;
+		if ($boucles[$id_boucle]) {
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
+					 _T('zbug_erreur_boucle_double',
+					 	array('id'=>$id_boucle)));
+		} else
+			$boucles[$id_boucle] = $result;
+	}
+
+	return parser_champs_etendus($texte, $all_res);
+}
+
+?>

Index: inc-messforum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-messforum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-messforum.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-messforum.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,181 +1,201 @@
-<?php
-
-include_ecrire('inc_meta.php3');
-include_ecrire('inc_forum.php3');
-
-// Ce fichier inclus par inc-public a un comportement special
-// Voir commentaires dans celui-ci et dans inc-formulaire_forum
-
-function prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre)
-{
-	include_ecrire('inc_texte.php3');
-	include_ecrire('inc_filtres.php3');
-	include_ecrire('inc_mail.php3');
-	// Gestionnaire d'URLs
-	if (@file_exists("inc-urls.php3"))
-	  include_local("inc-urls.php3");
-	else
-	  include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
-	$url = ereg_replace('^/', '', generer_url_article($id_article));
-	$adresse_site = lire_meta("adresse_site");
-	$nom_site_spip = lire_meta("nom_site");
-	$url = "$adresse_site/$url";
-	$parauteur = (strlen($auteur) <= 2) ? '' :
-	  (" "
-	   ._T('forum_par_auteur',
-	       array('auteur' => $auteur)) .
-	   (!$email_auteur ? '' : (' <' . $email_auteur . '>')));
-	$courr =  _T('form_forum_message_auto')."\n\n"
-		. _T('forum_poste_par',
-		     array('parauteur' => $parauteur))."\n"
-		. _T('forum_ne_repondez_pas')."\n"
-		. $url
-		. "\n\n\n".$titre."\n\n".textebrut(propre($texte))
-		. "\n\n$nom_site_forum\n$url_site\n";
-	$sujet = "[$nom_site_spip] ["._T('forum_forum')."] $titre";
-	$result = spip_query("SELECT auteurs.email FROM spip_auteurs AS auteurs,
-				spip_auteurs_articles AS lien
-				WHERE lien.id_article='$id_article'
-				AND auteurs.id_auteur=lien.id_auteur");
-
-	while (list($email) = spip_fetch_array($result)) {
-		$email = trim($email);
-		if (strlen($email) < 3) continue;
-		envoyer_mail($email, $sujet, $courr);
-	}
-}	
-
-$retour_forum = rawurldecode($retour);
-$forum_id_article = intval($id_article);
-$forum_id_rubrique = intval($id_rubrique);
-$forum_id_forum = intval($id_forum);
-$forum_id_breve = intval($id_breve);
-$forum_id_syndic = intval($id_syndic);
-$slash_texte = addslashes($texte);
-$slash_titre = addslashes($titre);
-$slash_nom_site_forum = addslashes($nom_site_forum);
-$slash_url_site = addslashes($url_site);
-$id_message = intval($id_message);
-
-if (!$id_auteur)
-	$id_auteur = intval($auteur_session['id_auteur']);
-
-if ($forum_id_article) {
-	$r = spip_query("SELECT accepter_forum FROM spip_articles WHERE id_article=$forum_id_article");
-	$r = spip_fetch_array($r);
-	if ($r)
-		$forums_publics = $r['accepter_forum'];
-	else
-		$forums_publics = lire_meta("forums_publics");
-} else {
-	$forums_publics = substr(lire_meta("forums_publics"),0,3);
-}
-
-if ($forums_publics == "abo") {
-	if ($auteur_session) {
-		$statut = $auteur_session['statut'];
-		if (!$statut OR $statut == '5poubelle') {
-			ask_php_auth(_T('forum_acces_refuse'),
-				     _T('forum_cliquer_retour',
-					array('retour_forum' => $retour_forum)));
-			exit;		  
-		}
-	}
-	else {
-		ask_php_auth(_T('forum_non_inscrit'),
-			     _T('forum_cliquer_retour',
-				array('retour_forum' => $retour_forum)));
-		exit;		  
-	}
-
-	// Ne pas autoriser de changement de nom si forum sur abonnement
-	$auteur = $auteur_session['nom'];
-	$email_auteur = $auteur_session['email'];
- } 
-
-$slash_auteur = addslashes($auteur);
-$slash_email_auteur = addslashes($email_auteur);
-
-if ((strlen($slash_texte) + strlen($slash_titre) + strlen($slash_nom_site_forum) + strlen($slash_url_site) + strlen($slash_auteur) + strlen($slash_email_auteur)) > 20 * 1024) {
-	ask_php_auth(_T('forum_message_trop_long'),
-		     _T('forum_cliquer_retour',
-			array('retour_forum' => $retour_forum)));
-			exit;		  
-}
-
-spip_query("DELETE FROM spip_mots_forum WHERE id_forum='$id_message'");
-if ($ajouter_mot) {
-	for (reset($ajouter_mot);$key=key($ajouter_mot);next($ajouter_mot))
-		$les_mots .= ",".join($ajouter_mot[$key],",");
-	$les_mots = explode(",", $les_mots);
-	for ($index = 0; $index < count($les_mots); $index++){
-		$le_mot = $les_mots[$index];
-		if ($le_mot > 0)
-		spip_query("INSERT INTO spip_mots_forum (id_mot, id_forum)
-		VALUES ('$le_mot', '$id_message')");
-	}
-}
-
-$validation_finale = (strlen($confirmer) > 0 OR
-	($afficher_texte=='non' AND $ajouter_mot));
-$statut = ((!$validation_finale) ? 'redac' : 
-	(($forums_publics == 'non') ? 'off' :
-	(($forums_publics == 'pri') ? 'prop' : 'publie')));
-
-if ($forum_id_forum > 0) $id_thread = $forum_id_forum;
-else $id_thread = $id_message;
-
-spip_query("UPDATE spip_forum SET id_parent = $forum_id_forum,
-	id_rubrique =$forum_id_rubrique,
-	id_article = $forum_id_article,
-	id_breve = $forum_id_breve,
-	id_syndic = $forum_id_syndic,
-	id_auteur = $id_auteur,
-	id_thread = $id_thread,
-	date_heure = NOW(),
-	titre = \"$slash_titre\",
-	texte = \"$slash_texte\",
-	nom_site = \"$slash_nom_site_forum\",
-	url_site = \"$slash_url_site\",
-	auteur = \"$slash_auteur\",
-	email_auteur = \"$slash_email_auteur\",
-	ip = \"$REMOTE_ADDR\",
-	statut = \"$statut\"
-	WHERE id_forum = '$id_message'
-");
-
-//calculer_threads();
-
-if ($validation_finale) {
-	include_ecrire("inc_admin.php3");
-	if (!(verifier_action_auteur("ajout_forum $forum_id_rubrique".
-	" $forum_id_forum $forum_id_article $forum_id_breve".
-	" $forum_id_syndic $alea", $hash))) {
-		header("Status: 404");
-		exit;
-	} else {
-	  if (lire_meta("prevenir_auteurs") == "oui" AND ($afficher_texte != "non") AND ($id_article = $forum_id_article)) {
-			prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre);
-
-		}
-		// Poser un cookie pour ne pas retaper le nom / email
-		$cookie_user = array('nom' => $auteur, 'email' => $email_auteur);
-		spip_setcookie('spip_forum_user', serialize($cookie_user));
-
-		//
-		// INVALIDATION DES CACHES LIES AUX FORUMS
-		//
-		include_ecrire('inc_invalideur.php3');
-		if ($statut == 'publie') {
-			suivre_invalideur ("id='id_forum/" .
-				calcul_index_forum($forum_id_article,
-					$forum_id_breve,
-					$forum_id_rubrique,
-					$forum_id_syndic) . "'");
-		}
-
-		$redirect = $retour_forum;
-	}
-}
-
-?>
+<?php
+
+include_ecrire('inc_meta.php3');
+include_ecrire('inc_forum.php3');
+include_ecrire("inc_abstract_sql.php3");
+include_local(_FILE_CONNECT);
+
+// Ce fichier inclus par inc-public a un comportement special
+// Voir commentaires dans celui-ci et dans inc-formulaire_forum
+
+function prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre) {
+	include_ecrire('inc_texte.php3');
+	include_ecrire('inc_filtres.php3');
+	include_ecrire('inc_mail.php3');
+	// Gestionnaire d'URLs
+	if (@file_exists("inc-urls.php3"))
+	  include_local("inc-urls.php3");
+	else
+	  include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
+	$url = ereg_replace('^/', '', generer_url_article($id_article));
+	$adresse_site = lire_meta("adresse_site");
+	$nom_site_spip = lire_meta("nom_site");
+	$url = "$adresse_site/$url";
+	$parauteur = (strlen($auteur) <= 2) ? '' :
+	  (" "
+	   ._T('forum_par_auteur',
+	       array('auteur' => $auteur)) .
+	   (!$email_auteur ? '' : (' <' . $email_auteur . '>')));
+	$courr =  _T('form_forum_message_auto')."\n\n"
+		. _T('forum_poste_par',
+		     array('parauteur' => $parauteur))."\n"
+		. _T('forum_ne_repondez_pas')."\n"
+		. $url
+		. "\n\n\n".$titre."\n\n".textebrut(propre($texte))
+		. "\n\n$nom_site_forum\n$url_site\n";
+	$sujet = "[$nom_site_spip] ["._T('forum_forum')."] $titre";
+	$result = spip_query("SELECT auteurs.email FROM spip_auteurs AS auteurs,
+				spip_auteurs_articles AS lien
+				WHERE lien.id_article='$id_article'
+				AND auteurs.id_auteur=lien.id_auteur");
+
+	while (list($email) = spip_fetch_array($result)) {
+		$email = trim($email);
+		if (strlen($email) < 3) continue;
+		envoyer_mail($email, $sujet, $courr);
+	}
+}
+
+
+function controler_forum($id_article, $retour) {
+	global $auteur_session;
+
+	// Reglage forums d'article
+	if ($id_article) {
+		$q = spip_query("SELECT accepter_forum FROM spip_articles
+			WHERE id_article=$id_article");
+		if ($r = spip_fetch_array($q))
+			$forums_publics = $r['accepter_forum'];
+	}
+
+	// Valeur par defaut
+	if (!$forums_publics)
+		$forums_publics = substr(lire_meta("forums_publics"),0,3);
+
+	if ($forums_publics == "abo") {
+		if ($auteur_session) {
+			$statut = $auteur_session['statut'];
+			if (!$statut OR $statut == '5poubelle') {
+				ask_php_auth(_T('forum_acces_refuse'),
+					     _T('forum_cliquer_retour',
+						array('retour_forum' => $retour)));
+				exit;
+			}
+		} else {
+			ask_php_auth(_T('forum_non_inscrit'),
+				     _T('forum_cliquer_retour',
+					array('retour_forum' => $retour)));
+			exit;
+		}
+	}
+
+	return $forums_publics;
+}
+
+function mots_du_forum($ajouter_mot, $id_message)
+{
+	foreach ($ajouter_mot as $id_mot)
+		if ($id_mot = intval($id_mot))
+			spip_query("INSERT INTO spip_mots_forum (id_mot, id_forum)
+				VALUES ($id_mot, $id_message)");
+}
+
+function enregistre_forum() {
+	global $REMOTE_ADDR, $auteur_session,
+	  $afficher_texte, $ajouter_mot, $alea, $hash,
+	  $auteur, $confirmer_forum, $email_auteur,
+	  $id_article, $id_auteur, $id_breve, $id_forum, $id_rubrique, $id_syndic,
+	  $nom_site_forum, $retour_forum, $texte, $titre, $url_site;
+
+	$retour_forum = rawurldecode($retour_forum);
+	$id_article = intval($id_article);
+	$id_rubrique = intval($id_rubrique);
+	$id_forum = intval($id_forum);
+	$id_breve = intval($id_breve);
+	$id_syndic = intval($id_syndic);
+
+// initialisation de l'eventuel visiteur connecte
+	if (!$id_auteur)
+	$id_auteur = intval($auteur_session['id_auteur']);
+
+	$statut = controler_forum($id_article, $retour_forum);
+
+// Ne pas autoriser de changement de nom si forum sur abonnement
+
+	if ($statut == 'abo') {
+		$auteur = $auteur_session['nom'];
+		$email_auteur = $auteur_session['email'];
+	}
+
+// trop court ?
+	if ((strlen($texte) + strlen($titre) + strlen($nom_site_forum) + strlen($url_site) + strlen($auteur) + strlen($email_auteur)) > 20 * 1024) {
+		ask_php_auth(_T('forum_message_trop_long'),
+			     _T('forum_cliquer_retour',
+				array('retour_forum' => $retour_forum)));
+		exit;
+	}
+
+	// Verifier hash securite
+	include_ecrire("inc_admin.php3");
+	if (!verifier_action_auteur("ajout_forum $id_rubrique".
+	" $id_forum $id_article $id_breve".
+	" $id_syndic $alea", $hash))
+		exit; 	# echec silencieux du POST
+
+	// verifier fichier lock
+	$alea = preg_replace('/[^0-9]/', '', $alea);
+	if (!file_exists($hash = _DIR_SESSIONS."forum_$alea.lck"))
+		exit; # echec silencieux du POST
+	unlink($hash);
+
+	// Entrer le message dans la base
+	$id_message = spip_abstract_insert('spip_forum', '(date_heure)', '(NOW())');
+
+	if ($id_forum)
+		list($id_thread) = spip_fetch_array(spip_query(
+		"SELECT id_thread FROM spip_forum WHERE id_forum = $id_forum"));
+	else
+		$id_thread = $id_message; # id_thread oblige INSERT puis UPDATE.
+
+	$statut = ($statut == 'non') ? 'off' : (($statut == 'pri') ? 'prop' :
+						'publie');
+
+	spip_query("UPDATE spip_forum SET id_parent = $id_forum,
+	id_rubrique = $id_rubrique,
+	id_article = $id_article,
+	id_breve = $id_breve,
+	id_syndic = $id_syndic,
+	id_auteur = $id_auteur,
+	id_thread = $id_thread,
+	date_heure = NOW(),
+	titre = '".addslashes($titre)."',
+	texte = '".addslashes($texte)."',
+	nom_site = '".addslashes($nom_site_forum)."',
+	url_site = '".addslashes($url_site)."',
+	auteur = '".addslashes($auteur)."',
+	email_auteur = '".addslashes($email_auteur)."',
+	ip = '$REMOTE_ADDR',
+	statut = '$statut'
+	WHERE id_forum = $id_message
+	");
+
+	// calculer_threads();
+
+	// Entrer les mots-cles associes
+	if (is_array($ajouter_mot)) mots_du_forum($ajouter_mot, $id_message);
+
+	// Prevenir les auteurs de l'article
+	if (lire_meta("prevenir_auteurs") == "oui" AND ($afficher_texte != "non"))
+		prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre);
+
+	// Poser un cookie pour ne pas retaper le nom / email
+
+	spip_setcookie('spip_forum_user',
+		       serialize(array('nom' => $auteur, 'email' => $email_auteur)));
+
+	if ($statut == 'publie') {
+	//
+	// INVALIDATION DES CACHES LIES AUX FORUMS
+	//
+		include_ecrire('inc_invalideur.php3');
+		suivre_invalideur ("id='id_forum/" .
+			calcul_index_forum($id_article,
+				$id_breve,
+				$id_rubrique,
+				$id_syndic) . "'");
+	}
+
+	return $retour_forum;
+}
+
+?>

Index: inc-public-global.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-public-global.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-public-global.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-public-global.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,256 +1,409 @@
-<?php
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_PUBLIC_GLOBAL")) return;
-define("_INC_PUBLIC_GLOBAL", "1");
-
-//
-// Aller chercher la page dans le cache ou pas
-//
-function obtenir_page ($contexte, $chemin_cache, $delais, &$use_cache, $fond, $inclusion=false) {
-	global $lastmodified;
-
-	if (!$use_cache) {
-		include_local('inc-calcul.php3');
-
-		// page globale ? calculer le contexte
-		if (!$contexte)
-			$contexte = calculer_contexte();
-
-		spip_timer('calculer_page');
-		$page = calculer_page($chemin_cache,
-			array('fond' => $fond,
-				'contexte' => $contexte),
-			$delais,
-			$inclusion);
-
-		$lastmodified = time();
-
-		// log
-		if (!$log = $chemin_cache) $log = "($fond, delais=$delais, "
-		. $GLOBALS['HTTP_SERVER_VARS']['REQUEST_METHOD'].")";
-		spip_log (($inclusion ? 'calcul inclus':'calcul').' ('
-		.spip_timer('calculer_page')."): $log");
-
-		// Nouveau cache : creer un invalideur 't' fixant la date
-		// d'expiration et la taille du fichier
-		if (@file_exists($chemin_cache)) {
-			// Ici on ajoute 3600s pour eviter toute concurrence
-			// entre un invalideur et un appel public de page
-			$bedtime = time() + $delais + 3600;
-			$taille = @filesize($chemin_cache);
-			$fichier = addslashes($chemin_cache);
-			spip_query("INSERT IGNORE INTO spip_caches (fichier,id,type,taille)
-			VALUES ('$fichier','$bedtime','t','$taille')");
-		}
-
-	} else {
-
-		//
-		// Lire le fichier cache
-		//
-		lire_fichier ($chemin_cache, $page['texte']);
-		$lastmodified = max($lastmodified, @filemtime($chemin_cache));
-		# spip_log ("cache $chemin_cache $lastmodified");
-
-		//
-		// Lire sa carte d'identite & fixer le contexte global
-		//
-		if (preg_match("/^<!-- ([^\n]*) -->\n(.*)/ms", $page['texte'], $match)
-		AND is_array($meta_donnees = unserialize($match[1]))) {
-			foreach ($meta_donnees as $var=>$val)
-				$page[$var] = $val;
-
-			$page['texte'] = $match[2];
-
-			// Remplir les globals pour les boutons d'admin
-			if (!$inclusion AND is_array($page['contexte']))
-				foreach ($page['contexte'] as $var=>$val)
-					$GLOBALS[$var] = $val;
-		}
-
-	}
-
-	return $page;
-}
-
-
-//
-// Appeler cette fonction pour obtenir la page principale
-//
-function afficher_page_globale ($fond, $delais, &$use_cache) {
-	global $flag_preserver, $flag_dynamique, $lastmodified;
-	global $var_preview, $var_mode;
-	include_local ("inc-cache.php3");
-
-	// demande de previsualisation ?
-	// -> inc-calcul.php3 n'enregistrera pas les fichiers caches
-	// -> inc-reqsql-squel.php3 acceptera les objets non 'publie'
-	if ($var_preview == 'oui') {
-		// Verifier qu'on a le droit de previsualisation
-		$statut = $GLOBALS['auteur_session']['statut'];
-		if ($statut=='0minirezo' OR
-		(lire_meta('preview')=='1comite' AND $statut=='1comite')) {
-			$var_mode = 'recalcul';
-			$delais = 0;
-			$var_preview = true;
-			spip_log('preview !');
-		}
-	}
-
-	// Faut-il effacer des pages invalidees ?
-	if (lire_meta('invalider')) {
-		include_ecrire('inc_meta.php3');
-		lire_metas();
-		if (lire_meta('invalider'))
-			retire_caches();
-	}
-
-	// Calculer le chemin putatif du cache
-	$chemin_cache = generer_nom_fichier_cache('', $fond);
-
-	// Peut-on utiliser un fichier cache ?
-	determiner_cache($delais, $use_cache, $chemin_cache);
-
-	// Repondre gentiment aux requetes sympas
-	// (ici on ne tient pas compte d'une obsolence du cache ou des
-	// eventuels fichiers inclus modifies depuis la date
-	// HTTP_IF_MODIFIED_SINCE du client)
-	if ($GLOBALS['HTTP_IF_MODIFIED_SINCE'] AND !$var_mode
-	AND $chemin_cache AND !$flag_dynamique) {
-		$lastmodified = @filemtime($chemin_cache);
-		$headers_only = http_last_modified($lastmodified);
-	}
-	$headers_only |= ($GLOBALS['HTTP_SERVER_VARS']['REQUEST_METHOD'] == 'HEAD');
-
-	if ($headers_only) {
-		if ($chemin_cache)
-			$t = @filemtime($chemin_cache);
-		else
-			$t = time();
-		@header('Last-Modified: '.http_gmoddate($t).' GMT');
-		@header('Connection: close');
-		// Pas de bouton admin pour un HEAD
-		$flag_preserver = true;
-	}
-	else {
-		// Obtenir la page
-		$page = obtenir_page ('', $chemin_cache, $delais, $use_cache,
-		$fond, false);
-		if (!$flag_preserver) {
-		// Entete content-type: xml ou html ; charset
-			if ($xhtml) {
-			// Si Mozilla et tidy actif, passer en "application/xhtml+xml"
-			// extremement risque: Mozilla passe en mode debugueur strict
-			// mais permet d'afficher du MathML directement dans le texte
-			// (et sauf erreur, c'est la bonne facon de declarer du xhtml)
-				include_ecrire("inc_tidy.php");
-				if (version_tidy() > 0) {
-					if (ereg("application/xhtml\+xml", $GLOBALS['HTTP_ACCEPT'])) 
-						@header("Content-Type: application/xhtml+xml; charset=".lire_meta('charset'));
-					else 
-						@header("Content-Type: text/html; charset=".lire_meta('charset'));
-					echo '<'.'?xml version="1.0" encoding="'. lire_meta('charset').'"?'.">\n";
-				} else {
-					@header("Content-Type: text/html; charset=".lire_meta('charset'));
-				}
-			} else {
-				@header("Content-Type: text/html; charset=".lire_meta('charset'));
-			}
-		}
-	}
-
-	if ($chemin_cache) $page['cache'] = $chemin_cache;
-
-	if ($var_preview AND !$flag_preserver) {
-		$url = $GLOBALS['clean_link'];
-		$url->delvar('var_preview');
-		$url = $url->geturl();
-		include_ecrire('inc_lang.php3');
-		lang_select($GLOBALS['auteur_session']['lang']);
-		$page['texte'] .= '<div style="
-		display: block;
-		color: #eeeeee;
-		background-color: #111111;
-		padding-right: 5px;
-		padding-top: 2px;
-		padding-bottom: 5px;
-		font-size: 20px;
-		top: 0px;
-		left: 0px;
-		position: absolute;
-		"><a href="'.$url.'"><img src="' . _DIR_IMG_PACK . 'naviguer-site.png" align="left" border="0" /></a>
-&nbsp; '.majuscules(_T('previsualisation')).'</div>';
-	}
-
-	return $page;
-}
-
-
-function terminer_public_global() {
-
-	// Mise a jour des fichiers langues de l'espace public
-	if ($GLOBALS['cache_lang_modifs']) {
-		include_ecrire('inc_lang.php3');
-		ecrire_caches_langues();
-	}
-
-	// Gestion des statistiques du site public
-
-	if (lire_meta("activer_statistiques") != "non") {
-		include_local ("inc-stats.php3");
-		ecrire_stats();
-	}
-
-	// Effectuer une tache de fond ?
-	cron();
-}
-
-// Cette fonction sert au dernier ob_start() de inc-public : elle
-// va absorber les eventuels messages d'erreur de inc_cron(), permettant
-// de ne pas planter le content-length qu'on a annonce ; decommenter la ligne
-// pour afficher les bugs
-function masquer_les_bugs ($bugs) {
-	# return $bugs;
-}
-
-function inclure_page($fond, $delais_inclus, $contexte_inclus, $cache_incluant='') {
-
-	$contexte_inclus['fond'] = $fond;
-
-	$chemin_cache = generer_nom_fichier_cache($contexte_inclus, $fond);
-
-	// Peut-on utiliser un fichier cache ?
-	determiner_cache($delais_inclus, $use_cache, $chemin_cache);
-
-	// Si on a inclus sans fixer le critere de lang, de deux choses l'une :
-	// - on est dans la langue du site, et pas besoin d'inclure inc_lang
-	// - on n'y est pas, et alors il faut revenir dans la langue par defaut
-	if (($lang = $contexte_inclus['lang'])
-	|| ($GLOBALS['spip_lang'] != ($lang = lire_meta('langue_site')))) {
-		include_ecrire('inc_lang.php3');
-		lang_select($lang);
-		$lang_select = true; // pour lang_dselect en sortie
-	}
-
-	$page = obtenir_page ($contexte_inclus, $chemin_cache, $delais_inclus,
-	$use_cache, $fond, true);
-
-	$page['lang_select'] = $lang_select;
-
-	// Retourner le contenu...
-	return $page;
-}
-
-function inclure_balise_dynamique($r) {
-	if (is_string($r))
-		echo $r;
-	else {
-		list($fond, $delais, $contexte_inclus) = $r;
-		if ((!$contexte_inclus['lang']) AND
-		($GLOBALS['spip_lang'] != lire_meta('langue_site')))
-			$contexte_inclus['lang'] = $GLOBALS['spip_lang']; 
-		include('inc-public.php3');
-	}
-}
-?>
+<?php
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_PUBLIC_GLOBAL")) return;
+define("_INC_PUBLIC_GLOBAL", "1");
+
+// fonction principale declenchant tout le service
+function calcule_header_et_page ($fond, $delais) {
+	  global $affiche_boutons_admin, $auteur_session, $flag_dynamique,
+	  $flag_ob, $flag_preserver, $forcer_lang, $ignore_auth_http,
+	  $lastmodified, $recherche, $use_cache, $val_confirm, $var_mode,
+	  $var_recherche, $tableau_des_erreurs;
+
+	// Regler le $delais par defaut
+	if (!isset($delais))
+		$delais = 1 * 3600;
+	if ($recherche)
+		$delais = 0;
+
+	// authentification du visiteur
+	if ($GLOBALS['_COOKIE']['spip_session'] OR
+	($GLOBALS['_SERVER']['PHP_AUTH_USER']  AND !$ignore_auth_http)) {
+		include_ecrire ("inc_session.php3");
+		verifier_visiteur();
+	}
+	// multilinguisme
+	if ($forcer_lang AND ($forcer_lang!=='non') AND empty($GLOBALS['_POST'])) {
+		include_ecrire('inc_lang.php3');
+		verifier_lang_url();
+	}
+	if ($GLOBALS['_GET']['lang']) {
+		include_ecrire('inc_lang.php3');
+		lang_select($GLOBALS['_GET']['lang']);
+	}
+
+	// Si envoi pour un forum, enregistrer puis rediriger
+
+	if (strlen($GLOBALS['_POST']['confirmer_forum']) > 0
+	OR ($GLOBALS['_POST']['afficher_texte']=='non'
+		AND $GLOBALS['_POST']['ajouter_mot'])) {
+		include('inc-messforum.php3');
+		redirige_par_entete(enregistre_forum());
+	}
+
+	// si signature de petition, l'enregistrer avant d'afficher la page
+	// afin que celle-ci contienne la signature
+
+	if ($GLOBALS['_GET']['val_confirm']) {
+		include_local(find_in_path('inc-formulaire_signature.php3'));
+		reponse_confirmation($GLOBALS['_GET']['id_article'], $val_confirm);
+	}
+
+	//  refus du debug si pas dans les options generales ni admin connecte
+	if ($var_mode=='debug') {
+		if (($GLOBALS['code_activation_debug'] == 'oui')
+		OR $auteur_session['statut'] == '0minirezo')
+			spip_log('debug !');
+		else
+			$var_mode = false; 
+	}
+
+	// est-on admin ?
+	if ($affiche_boutons_admin = (!$flag_preserver
+	AND ($GLOBALS['_COOKIE']['spip_admin']
+	OR $GLOBALS['_COOKIE']['spip_debug'])))
+		include_local(find_in_path('inc-formulaire_admin.php3'));
+
+	$tableau_des_erreurs = array();
+	$page = afficher_page_globale ($fond, $delais, $use_cache);
+
+
+	//
+	// Envoyer les entetes appropries
+	// a condition d'etre sur de pouvoir le faire
+	//
+	if (!$flag_preserver
+	AND $flag_ob AND !strlen(@ob_get_contents())) {
+
+		// Si la page est vide, gerer l'erreur 404
+		if (preg_match('/^[[:space:]]*$/', $page['texte'])
+		AND $var_mode != 'debug') {
+			header("HTTP/1.0 404");
+			header("Content-Type: text/html; charset=".lire_meta('charset'));
+			$contexte_inclus = array(
+				'erreur_aucun' => message_erreur_404()
+			);
+			include(find_in_path('404.php3'));
+		}
+		// Interdire au client de cacher un login, un admin ou un recalcul
+		else if ($flag_dynamique OR $var_mode
+		OR $GLOBALS['_COOKIE']['spip_admin']) {
+			header("Cache-Control: no-cache,must-revalidate");
+			header("Pragma: no-cache");
+		}
+		// Pour les autres donner l'heure de modif
+		else if ($lastmodified) {
+			header("Last-Modified: ".http_gmoddate($lastmodified)." GMT");
+			header("Content-Type: text/html; charset=".lire_meta('charset'));
+		}
+	}
+
+	return $page;
+}
+
+
+//
+// Aller chercher la page dans le cache ou pas
+//
+function obtenir_page ($contexte, $chemin_cache, $delais, &$use_cache, $fond, $inclusion=false) {
+	global $lastmodified;
+
+	if (!$use_cache) {
+		include_local('inc-calcul.php3');
+
+		// page globale ? calculer le contexte
+		if (!$contexte)
+			$contexte = calculer_contexte();
+
+		spip_timer('calculer_page');
+		$page = calculer_page($chemin_cache,
+			array('fond' => $fond,
+				'contexte' => $contexte),
+			$delais,
+			$inclusion);
+
+		$lastmodified = time();
+
+		// log
+		if (!$log = $chemin_cache) $log = "($fond, delais=$delais, "
+		. $GLOBALS['_SERVER']['REQUEST_METHOD'].")";
+		spip_log (($inclusion ? 'calcul inclus':'calcul').' ('
+		.spip_timer('calculer_page')."): $log");
+
+		// Nouveau cache : creer un invalideur 't' fixant la date
+		// d'expiration et la taille du fichier
+		if (@file_exists($chemin_cache)) {
+			// Ici on ajoute 3600s pour eviter toute concurrence
+			// entre un invalideur et un appel public de page
+			$bedtime = time() + $delais + 3600;
+			$taille = @filesize($chemin_cache);
+			$fichier = addslashes($chemin_cache);
+			spip_query("INSERT IGNORE INTO spip_caches (fichier,id,type,taille)
+			VALUES ('$fichier','$bedtime','t','$taille')");
+		}
+
+	} else {
+
+		//
+		// Lire le fichier cache
+		//
+		lire_fichier ($chemin_cache, $page['texte']);
+		$lastmodified = max($lastmodified, @filemtime($chemin_cache));
+		# spip_log ("cache $chemin_cache $lastmodified");
+
+		//
+		// Lire sa carte d'identite & fixer le contexte global
+		//
+		if (preg_match("/^<!-- ([^\n]*) -->\n(.*)/ms", $page['texte'], $match)
+		AND is_array($meta_donnees = unserialize($match[1]))) {
+			foreach ($meta_donnees as $var=>$val)
+				$page[$var] = $val;
+
+			$page['texte'] = $match[2];
+
+			// Remplir les globals pour les boutons d'admin
+			if (!$inclusion AND is_array($page['contexte']))
+				foreach ($page['contexte'] as $var=>$val)
+					$GLOBALS[$var] = $val;
+		}
+
+	}
+
+	return $page;
+}
+
+
+//
+// Appeler cette fonction pour obtenir la page principale
+//
+function afficher_page_globale ($fond, $delais, &$use_cache) {
+	global $flag_preserver, $flag_dynamique, $lastmodified;
+	global $var_preview, $var_mode;
+	include_local ("inc-cache.php3");
+
+	// demande de previsualisation ?
+	// -> inc-calcul.php3 n'enregistrera pas les fichiers caches
+	// -> inc-reqsql-squel.php3 acceptera les objets non 'publie'
+	if ($var_mode == 'preview') {
+		// Verifier qu'on a le droit de previsualisation
+		$statut = $GLOBALS['auteur_session']['statut'];
+		if ($statut=='0minirezo' OR
+		(lire_meta('preview')=='1comite' AND $statut=='1comite')) {
+			$var_mode = 'recalcul';
+			$delais = 0;
+			$var_preview = true;
+			spip_log('preview !');
+		} else
+			$var_preview = false;
+	}
+
+	// Faut-il effacer des pages invalidees ?
+	if (lire_meta('invalider')) {
+		include_ecrire('inc_meta.php3');
+		lire_metas();
+		if (lire_meta('invalider'))
+			retire_caches();
+	}
+
+	// Calculer le chemin putatif du cache
+	$chemin_cache = generer_nom_fichier_cache('', $fond);
+
+	// Peut-on utiliser un fichier cache ?
+	determiner_cache($delais, $use_cache, $chemin_cache);
+
+	// Repondre gentiment aux requetes sympas
+	// (ici on ne tient pas compte d'une obsolence du cache ou des
+	// eventuels fichiers inclus modifies depuis la date
+	// HTTP_IF_MODIFIED_SINCE du client)
+	if ($GLOBALS['HTTP_IF_MODIFIED_SINCE'] AND !$var_mode
+	AND $chemin_cache AND !$flag_dynamique) {
+		$lastmodified = @filemtime($chemin_cache);
+		$headers_only = http_last_modified($lastmodified);
+	}
+	$headers_only |= ($GLOBALS['_SERVER']['REQUEST_METHOD'] == 'HEAD');
+
+	if ($headers_only) {
+		if ($chemin_cache)
+			$t = @filemtime($chemin_cache);
+		else
+			$t = time();
+		@header('Last-Modified: '.http_gmoddate($t).' GMT');
+		@header('Connection: close');
+		// Pas de bouton admin pour un HEAD
+		$flag_preserver = true;
+	}
+	else {
+		// Obtenir la page
+		$page = obtenir_page ('', $chemin_cache, $delais, $use_cache,
+		$fond, false);
+
+		if (!$flag_preserver) {
+		// Entete content-type: xml ou html ; charset
+			if ($xhtml) {
+			// Si Mozilla et tidy actif, passer en "application/xhtml+xml"
+			// extremement risque: Mozilla passe en mode debugueur strict
+			// mais permet d'afficher du MathML directement dans le texte
+			// (et sauf erreur, c'est la bonne facon de declarer du xhtml)
+				include_ecrire("inc_tidy.php");
+				if (version_tidy() > 0) {
+					if (ereg("application/xhtml\+xml", $GLOBALS['HTTP_ACCEPT'])) 
+						@header("Content-Type: application/xhtml+xml; charset=".lire_meta('charset'));
+					else 
+						@header("Content-Type: text/html; charset=".lire_meta('charset'));
+					echo '<'.'?xml version="1.0" encoding="'. lire_meta('charset').'"?'.">\n";
+				} else {
+					@header("Content-Type: text/html; charset=".lire_meta('charset'));
+				}
+			} else {
+				@header("Content-Type: text/html; charset=".lire_meta('charset'));
+			}
+		}
+	}
+
+	if ($chemin_cache) $page['cache'] = $chemin_cache;
+
+	if ($var_preview AND !$flag_preserver) {
+		include_ecrire('inc_lang.php3');
+		include_ecrire('inc_filtres.php3');
+		lang_select($GLOBALS['auteur_session']['lang']);
+		$page['texte'] .= '<div style="
+		display: block;
+		color: #eeeeee;
+		background-color: #111111;
+		padding-right: 5px;
+		padding-top: 2px;
+		padding-bottom: 5px;
+		font-size: 20px;
+		top: 0px;
+		left: 0px;
+		position: absolute;
+		"><img src="' . _DIR_IMG_PACK
+		. 'naviguer-site.png" align="left" border="0" />&nbsp; '
+		. majuscules(_T('previsualisation')).'</div>';
+	}
+
+	return $page;
+}
+
+
+function terminer_public_global() {
+
+	// Gestion des statistiques du site public
+	if (lire_meta("activer_statistiques") != "non") {
+		include_local ("inc-stats.php3");
+		ecrire_stats();
+	}
+
+	// Effectuer une tache de fond ?
+	cron();
+}
+
+
+function inclure_page($fond, $delais_inclus, $contexte_inclus, $cache_incluant='') {
+
+	$contexte_inclus['fond'] = $fond;
+
+	$chemin_cache = generer_nom_fichier_cache($contexte_inclus, $fond);
+
+	// Peut-on utiliser un fichier cache ?
+	determiner_cache($delais_inclus, $use_cache, $chemin_cache);
+
+	// Si on a inclus sans fixer le critere de lang, de deux choses l'une :
+	// - on est dans la langue du site, et pas besoin d'inclure inc_lang
+	// - on n'y est pas, et alors il faut revenir dans la langue par defaut
+	if (($lang = $contexte_inclus['lang'])
+	|| ($GLOBALS['spip_lang'] != ($lang = lire_meta('langue_site')))) {
+		include_ecrire('inc_lang.php3');
+		lang_select($lang);
+		$lang_select = true; // pour lang_dselect en sortie
+	}
+	
+	// Si on est inclus en POST, il faut ajouter les variables _POST dans
+	// le contexte inclus, sinon les formulaires ne marchent pas...
+	if ($_SERVER['REQUEST_METHOD'] == 'POST') {
+		include_local('inc-calcul.php3');
+		$contexte_inclus = array_merge(calculer_contexte(), $contexte_inclus);
+	}
+
+	$page = obtenir_page ($contexte_inclus, $chemin_cache, $delais_inclus,
+	$use_cache, $fond, true);
+
+	$page['lang_select'] = $lang_select;
+
+	// Retourner le contenu...
+	return $page;
+}
+
+// equivalente a texte_script dans inc_filtre.
+
+function securise_script($texte) {
+	return str_replace('\'', '\\\'', str_replace('\\', '\\\\', $texte));
+}
+
+# les balises dynamiques sont traitees comme des inclusions
+
+function synthetiser_balise_dynamique($nom, $args, $file, $lang) {
+	return
+		('<'.'?php 
+include_ecrire(\'inc_lang.php3\');
+lang_select("'.$lang.'");
+include_local("'
+		. $file
+		. '");
+inclure_balise_dynamique(balise_'
+		. $nom
+		. '_dyn(\''
+		. join("', '", array_map("securise_script", $args))
+		. '\'));
+	lang_dselect();
+?'
+		.">");
+}
+
+# Attention, un appel explicite a cette fonction suppose certains include
+# (voir l'exemple de spip_inscription et spip_pass)
+
+function inclure_balise_dynamique($r) {
+	if (is_string($r))
+		echo $r;
+	else {
+		list($fond, $delais, $contexte_inclus) = $r;
+
+		if ((!$contexte_inclus['lang']) AND
+		($GLOBALS['spip_lang'] != lire_meta('langue_site')))
+			$contexte_inclus['lang'] = $GLOBALS['spip_lang'];
+
+
+		// Appeler la page
+		$page = inclure_page($fond, $delais, $contexte_inclus);
+		if ($page['process_ins'] == 'html')
+			echo $page['texte'];
+		else
+			eval('?' . '>' . $page['texte']);
+
+		if ($page['lang_select'])
+			lang_dselect();
+
+	}
+}
+
+
+function message_erreur_404 () {
+	if ($GLOBALS['id_article'])
+		$erreur = 'aucun_article';
+	else if ($GLOBALS['id_rubrique'])
+		$erreur = 'aucune_rubrique';
+	else if ($GLOBALS['id_breve'])
+		$erreur = 'aucune_breve';
+	else if ($GLOBALS['id_auteur'])
+		$erreur = 'aucun_auteur';
+	else if ($GLOBALS['id_syndic'])
+		$erreur = 'aucun_site';
+	else
+		$erreur = '';
+
+	return _T("public:".$erreur);
+}
+
+?>

Index: inc-public.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-public.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-public.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-public.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,162 +1,87 @@
-<?php
-
-// Page inclue ?
-if (defined("_INC_PUBLIC")) {
-	$page = inclure_page($fond, $delais, $contexte_inclus, $fichier_inclus);
-
-	if ($page['process_ins'] == 'html')
-		echo $page['texte'];
-	else
-		eval('?' . '>' . $page['texte']);
-
-	if ($page['lang_select'])
-		lang_dselect();
-}
-// Premier appel inc-public
-else {
-	define("_INC_PUBLIC", "1");
-	include ("ecrire/inc_version.php3");
-
-	//
-	// Initialisations
-	//
-
-	// Regler le $delais par defaut
-	if ($INSECURE['fond'] || $INSECURE['delais'])
-		exit;
-	if (!isset($delais))
-		$delais = 1 * 3600;
-	if ($recherche)
-		$delais = 0;
-
-	// authentification du visiteur
-	if ($HTTP_COOKIE_VARS['spip_session'] OR
-	($PHP_AUTH_USER AND !$ignore_auth_http)) {
-		include_ecrire ("inc_session.php3");
-		verifier_visiteur();
-	}
-	// multilinguisme
-	if ($forcer_lang AND ($forcer_lang!=='non') AND empty($HTTP_POST_VARS)) {
-		include_ecrire('inc_lang.php3');
-		verifier_lang_url();
-	}
-	if ($HTTP_GET_VARS['lang']) {
-		include_ecrire('inc_lang.php3');
-		lang_select($HTTP_GET_VARS['lang']);
-	}
-	// Ajout_forum (pour les forums) et $val_confirm signalent des modifications
-	// a faire avant d'afficher la page
-	if ($ajout_forum) {
-		$redirect = '';
-		include('inc-messforum.php3');
-		if ($redirect) redirige_par_entete($redirect);
-	}
-	if ($val_confirm) {
-		include_local('inc-formulaire_signature.php3');
-		reponse_confirmation($id_article, $val_confirm);
-	}
-
-	include_local ('inc-public-global.php3');
-
-	//  refus du debug si pas dans les options generales ni admin connecte
-	if ($var_mode=='debug') {
-		if (($code_activation_debug == 'oui')
-		OR $auteur_session['statut'] == '0minirezo')
-			spip_log('debug !');
-		else
-			$var_mode = false; 
-	}
-
-	// est-on admin ?
-	if ($affiche_boutons_admin = (!$flag_preserver
-	AND ($HTTP_COOKIE_VARS['spip_admin']
-	OR $HTTP_COOKIE_VARS['spip_debug'])))
-		include_local('inc-formulaire_admin.php3');
-
-	$tableau_des_erreurs = array();
-	$page = afficher_page_globale ($fond, $delais, $use_cache);
-
-	if (!$flag_preserver) {
-	// Interdire au client de cacher un login, un admin ou un recalcul
-		if ($flag_dynamique OR $var_mode
-		OR $HTTP_COOKIE_VARS['spip_admin']) {
-			@header("Cache-Control: no-cache,must-revalidate");
-			@header("Pragma: no-cache");
-	// Pour les autres donner l'heure de modif
-		} else if ($lastmodified)
-			@Header ("Last-Modified: ".http_gmoddate($lastmodified)." GMT");
-
-	// si le squelette est nul se rabattre sur l'entete standard
-		if ($page['texte']) 
-			@header("Content-Type: text/html; charset=".lire_meta('charset'));
-		else
-			echo debut_entete($fond);
-	}
-	define('spip_active_ob', $flag_ob AND
-		($var_mode == 'debug' OR $var_recherche OR $affiche_boutons_admin));
-
-	// Cas d'une page contenant uniquement du HTML :
-	if ($page['process_ins'] == 'html') {
-		if (!spip_active_ob) {
-			echo $page['texte'];
-			$contenu = '';
-		} else
-			$contenu = $page['texte'];
-	}
-
-	// Cas d'une page contenant du PHP :
-	else {
-		// Evaluer la page
-		if (!spip_active_ob) {
-			eval('?' . '>' . $page['texte']);
-			$contenu = '';
-		} else {
-			ob_start(); 
-			$res = eval('?' . '>' . $page['texte']);
-			$contenu = ob_get_contents(); 
-			ob_end_clean();
-
-			// en cas d'erreur lors du eval, afficher un message
-			// et forcer les boutons de debug
-			if ($res === false AND $affiche_boutons_admin
-			AND $auteur_session['statut'] == '0minirezo') {
-				include_ecrire('inc_debug_sql.php3');
-				erreur_squelette(_L('erreur d\'execution de la page'));
-			}
-		}
-	}
-
-	// Passer la main au debuggueur le cas echeant 
-	if ($var_mode == 'debug') {
-		include_ecrire("inc_debug_sql.php3");
-		debug_dumpfile('',$var_mode_objet,$var_mode_affiche);
-		exit;
-	} else if (count($tableau_des_erreurs) > 0
-	AND $affiche_boutons_admin)
-		affiche_erreurs_page ($tableau_des_erreurs);
-
-	// Traiter var_recherche pour surligner les mots
-	if ($var_recherche) {
-		include_ecrire("inc_surligne.php3");
-		$contenu = surligner_mots($contenu, $var_recherche);
-	}
-
-	// Ajouter au besoin la CSS des boutons admins
-	if ($affiche_boutons_admin) {
-		include_local("inc-admin.php3");
-		$contenu = perso_admin($contenu);
-	}
-
-	// Afficher le resultat final
-	echo $contenu;
-
-	// Ajouter les boutons admins (les normaux) si absents
-	// (ce sera apres la balise /html mais tant pis)
-	if ($affiche_boutons_admin)
-		inclure_balise_dynamique(balise_formulaire_admin_dyn($id_article, $id_breve, $id_rubrique, $id_mot, $id_auteur));
-
-	// Taches de fin
-	terminer_public_global();
- }
-
-?>
+<?php
+
+// Distinguer une inclusion d'un appel initial
+if (defined("_INC_PUBLIC")) {
+	$page = inclure_page($fond, $delais, $contexte_inclus);
+	if ($page['process_ins'] == 'html')
+		echo $page['texte'];
+	else
+		eval('?' . '>' . $page['texte']);
+
+	if ($page['lang_select'])
+		lang_dselect();
+
+} else {
+	define ("_INC_PUBLIC", 1);
+	include ("ecrire/inc_version.php3");
+	include_local('inc-public-global.php3');
+
+	// Calculer la page sans evaluer le php qu'elle contient
+	$page = calcule_header_et_page ($fond, $delais);
+
+	// Execution de la page calculee
+
+	// 1. Cas d'une page contenant uniquement du HTML :
+	if ($page['process_ins'] == 'html') {
+		$page = $page['texte'];
+	}
+
+	// 2. Cas d'une page contenant du PHP :
+	// Attention cette partie eval() doit imperativement
+	// etre declenchee dans l'espace des globales (donc pas
+	// dans une fonction).
+	else {
+	
+		// Une page "normale" va s'afficher ici
+		if (!($flag_ob AND ($var_mode == 'debug'
+		OR $var_recherche OR $affiche_boutons_admin))) {
+			eval('?' . '>' . $page['texte']);
+			$page = '';
+		}
+
+		// Certains cas demandent un ob_start() de plus
+		else {
+			ob_start(); 
+			$res = eval('?' . '>' . $page['texte']);
+			$page = ob_get_contents(); 
+			ob_end_clean();
+
+			// en cas d'erreur lors du eval,
+			// la memoriser dans le tableau des erreurs
+			// On ne revient pas ici si le nb d'erreurs > 4
+			if ($res === false AND $affiche_boutons_admin
+			AND $auteur_session['statut'] == '0minirezo') {
+				include_ecrire('inc_debug_sql.php3');
+				erreur_squelette(_T('zbug_erreur_execution_page'));
+			}
+		}
+	}
+
+	// Passer la main au debuggueur le cas echeant 
+	if ($var_mode == 'debug') {
+		include_ecrire("inc_debug_sql.php3");
+		debug_dumpfile('',$var_mode_objet,$var_mode_affiche);
+	} 
+	if (count($tableau_des_erreurs) > 0 AND $affiche_boutons_admin)
+	  $page = affiche_erreurs_page($tableau_des_erreurs) . $page;
+
+	// Traiter var_recherche pour surligner les mots
+	if ($var_recherche) {
+		include_ecrire("inc_surligne.php3");
+		$page = surligner_mots($page, $var_recherche);
+	}
+
+	// Inserer au besoin les boutons admins
+	if ($affiche_boutons_admin) {
+		include_local("inc-admin.php3");
+		$page = affiche_boutons_admin($page);
+	}
+
+	// Affichage final s'il en reste
+	echo $page;
+
+	// Taches de fond ?
+	terminer_public_global();
+}
+
+?>

Index: inc-stats.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-stats.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-stats.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-stats.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,73 +1,73 @@
-<?php
-
-//
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_STATS")) return;
-define("_INC_STATS", "1");
-
-function ecrire_stats() {
-	global $id_article, $id_breve, $id_rubrique;
-
-	if ($GLOBALS['HTTP_X_FORWARDED_FOR'])
-		$log_ip = $GLOBALS['HTTP_X_FORWARDED_FOR'];
-	else
-		$log_ip = $GLOBALS['REMOTE_ADDR'];
-
-	if ($log_id_num = intval($id_rubrique))
-		$log_type = "rubrique";
-	else if ($log_id_num = intval($id_article))
-		$log_type = "article";
-	else if ($log_id_num = intval($id_breve))
-		$log_type = "breve";
-	else
-		$log_type = "autre";
-
-	// Conversion IP 4 octets -> entier 32 bits
-	if (ereg("^(::ffff:)?([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)$", $log_ip, $r)) {
-		$log_ip = sprintf("0x%02x%02x%02x%02x", $r[2], $r[3], $r[4], $r[5]);
-	}
-	else return;
-
-	//
-	// Loguer la visite dans la base si possible
-	//
-	if ($log_type != "autre") {
-		$query = "INSERT IGNORE INTO spip_visites_temp (ip, type, id_objet) ".
-			"VALUES ($log_ip, '$log_type', $log_id_num)";
-		spip_query($query);
-	}
-
-	//
-	// Loguer le referer
-	//
-	$url_site_spip = lire_meta('adresse_site');
-	$url_site_spip = eregi_replace("^((https?|ftp)://)?(www\.)?", "", $url_site_spip);
-	$log_referer = $GLOBALS['HTTP_REFERER'];
-	if (($url_site_spip<>'') AND strpos('-'.strtolower($log_referer), strtolower($url_site_spip)) AND !$GLOBALS['var_recherche']) $log_referer = "";
-	if ($log_referer) {
-		$referer_md5 = '0x'.substr(md5($log_referer), 0, 15);
-		$query = "INSERT IGNORE INTO spip_referers_temp (ip, referer, referer_md5, type, id_objet) ".
-			"VALUES ($log_ip, '$log_referer', $referer_md5, '$log_type', $log_id_num)";
-		spip_query($query);
-	}
-}
-
-
-function afficher_raccourci_stats($id_article) {
-	$query = "SELECT visites, popularite FROM spip_articles WHERE id_article=$id_article AND statut='publie'";
-	$result = spip_query($query);
-	if ($row = @spip_fetch_array($result)) {
-		$visites = intval($row['visites']);
-		$popularite = ceil($row['popularite']);
-
-		$query = "SELECT COUNT(DISTINCT ip) AS c FROM spip_visites_temp WHERE type='article' AND id_objet=$id_article";
-		$result = spip_query($query);
-		if ($row = @spip_fetch_array($result)) {
-			$visites = $visites + $row['c'];
-		}
-
-		return array('visites' => $visites, 'popularite' => $popularite);
-	}
-}
-
-?>
+<?php
+
+//
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_STATS")) return;
+define("_INC_STATS", "1");
+
+function ecrire_stats() {
+	global $id_article, $id_breve, $id_rubrique;
+
+	if ($GLOBALS['HTTP_X_FORWARDED_FOR'])
+		$log_ip = $GLOBALS['HTTP_X_FORWARDED_FOR'];
+	else
+		$log_ip = $GLOBALS['REMOTE_ADDR'];
+
+	if ($log_id_num = intval($id_rubrique))
+		$log_type = "rubrique";
+	else if ($log_id_num = intval($id_article))
+		$log_type = "article";
+	else if ($log_id_num = intval($id_breve))
+		$log_type = "breve";
+	else
+		$log_type = "autre";
+
+	// Conversion IP 4 octets -> entier 32 bits
+	if (ereg("^(::ffff:)?([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)$", $log_ip, $r)) {
+		$log_ip = sprintf("0x%02x%02x%02x%02x", $r[2], $r[3], $r[4], $r[5]);
+	}
+	else return;
+
+	//
+	// Loguer la visite dans la base si possible
+	//
+	if ($log_type != "autre") {
+		$query = "INSERT IGNORE INTO spip_visites_temp (ip, type, id_objet) ".
+			"VALUES ($log_ip, '$log_type', $log_id_num)";
+		spip_query($query);
+	}
+
+	//
+	// Loguer le referer
+	//
+	$url_site_spip = lire_meta('adresse_site');
+	$url_site_spip = eregi_replace("^((https?|ftp)://)?(www\.)?", "", $url_site_spip);
+	$log_referer = $GLOBALS['HTTP_REFERER'];
+	if (($url_site_spip<>'') AND strpos('-'.strtolower($log_referer), strtolower($url_site_spip)) AND !$GLOBALS['var_recherche']) $log_referer = "";
+	if ($log_referer) {
+		$referer_md5 = '0x'.substr(md5($log_referer), 0, 15);
+		$query = "INSERT IGNORE INTO spip_referers_temp (ip, referer, referer_md5, type, id_objet) ".
+			"VALUES ($log_ip, '$log_referer', $referer_md5, '$log_type', $log_id_num)";
+		spip_query($query);
+	}
+}
+
+
+function afficher_raccourci_stats($id_article) {
+	$query = "SELECT visites, popularite FROM spip_articles WHERE id_article=$id_article AND statut='publie'";
+	$result = spip_query($query);
+	if ($row = @spip_fetch_array($result)) {
+		$visites = intval($row['visites']);
+		$popularite = ceil($row['popularite']);
+
+		$query = "SELECT COUNT(DISTINCT ip) AS c FROM spip_visites_temp WHERE type='article' AND id_objet=$id_article";
+		$result = spip_query($query);
+		if ($row = @spip_fetch_array($result)) {
+			$visites = $visites + $row['c'];
+		}
+
+		return array('visites' => $visites, 'popularite' => $popularite);
+	}
+}
+
+?>

Index: inc-urls-html.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-urls-html.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-urls-html.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-urls-html.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,83 +1,83 @@
-<?php
-
-// executer une seule fois
-if (defined("_INC_URLS2")) return;
-define("_INC_URLS2", "1");
-
-function generer_url_article($id_article) {
-	return "article$id_article.html";
-}
-
-function generer_url_rubrique($id_rubrique) {
-	return "rubrique$id_rubrique.html";
-}
-
-function generer_url_breve($id_breve) {
-	return "breve$id_breve.html";
-}
-
-function generer_url_mot($id_mot) {
-	return "mot$id_mot.html";
-}
-
-function generer_url_auteur($id_auteur) {
-	return "auteur$id_auteur.html";
-}
-
-function generer_url_document($id_document) {
-	if (intval($id_document) <= 0)
-		return '';
-	if ((lire_meta("creer_htaccess")) == 'oui')
-		return "spip_acces_doc.php3?id_document=$id_document";
-	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
-		return ($row['fichier']);
-	return '';
-}
-
-function recuperer_parametres_url($fond, $url) {
-	global $contexte;
-	return;
-}
-
-
-//
-// URLs des forums
-//
-
-// a mettre dans ecrire/inc_threads.php3 avec les autres trucs de forum
-function racine_forum($id_forum){
-	if (!$id_forum = intval($id_forum)) return;
-	$query = "SELECT id_parent, id_rubrique, id_article, id_breve FROM spip_forum WHERE id_forum=".$id_forum;
-	$result = spip_query($query);
-	if($row = spip_fetch_array($result)){
-		if($row['id_parent']) {
-			return racine_forum($row['id_parent']);
-		}
-		else {
-			if($row['id_rubrique']) return array('rubrique',$row['id_rubrique'], $id_forum);
- 			if($row['id_article']) return array('article',$row['id_article'], $id_forum);
-			if($row['id_breve']) return array('breve',$row['id_breve'], $id_forum);
-		}
-	}
-} 
-
-function generer_url_forum($id_forum, $show_thread=false) {
-	list($type, $id, $id_thread) = racine_forum($id_forum);
-	if ($id_thread>0 AND $show_thread)
-		$id_forum = $id_thread;
-	switch($type) {
-		case 'article':
-			return generer_url_article($id)."#forum$id_forum";
-			break;
-		case 'breve':
-			return generer_url_breve($id)."#forum$id_forum";
-			break;
-		case 'rubrique':
-			return generer_url_rubrique($id)."#forum$id_forum";
-			break;
-		default:
-			return "forum$id_forum.html";
-	}
-}
-
-?>
+<?php
+
+// executer une seule fois
+if (defined("_INC_URLS2")) return;
+define("_INC_URLS2", "1");
+
+function generer_url_article($id_article) {
+	return "article$id_article.html";
+}
+
+function generer_url_rubrique($id_rubrique) {
+	return "rubrique$id_rubrique.html";
+}
+
+function generer_url_breve($id_breve) {
+	return "breve$id_breve.html";
+}
+
+function generer_url_mot($id_mot) {
+	return "mot$id_mot.html";
+}
+
+function generer_url_auteur($id_auteur) {
+	return "auteur$id_auteur.html";
+}
+
+function generer_url_document($id_document) {
+	if (intval($id_document) <= 0)
+		return '';
+	if ((lire_meta("creer_htaccess")) == 'oui')
+		return "spip_acces_doc.php3?id_document=$id_document";
+	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
+		return ($row['fichier']);
+	return '';
+}
+
+function recuperer_parametres_url($fond, $url) {
+	global $contexte;
+	return;
+}
+
+
+//
+// URLs des forums
+//
+
+// a mettre dans ecrire/inc_threads.php3 avec les autres trucs de forum
+function racine_forum($id_forum){
+	if (!$id_forum = intval($id_forum)) return;
+	$query = "SELECT id_parent, id_rubrique, id_article, id_breve FROM spip_forum WHERE id_forum=".$id_forum;
+	$result = spip_query($query);
+	if($row = spip_fetch_array($result)){
+		if($row['id_parent']) {
+			return racine_forum($row['id_parent']);
+		}
+		else {
+			if($row['id_rubrique']) return array('rubrique',$row['id_rubrique'], $id_forum);
+ 			if($row['id_article']) return array('article',$row['id_article'], $id_forum);
+			if($row['id_breve']) return array('breve',$row['id_breve'], $id_forum);
+		}
+	}
+} 
+
+function generer_url_forum($id_forum, $show_thread=false) {
+	list($type, $id, $id_thread) = racine_forum($id_forum);
+	if ($id_thread>0 AND $show_thread)
+		$id_forum = $id_thread;
+	switch($type) {
+		case 'article':
+			return generer_url_article($id)."#forum$id_forum";
+			break;
+		case 'breve':
+			return generer_url_breve($id)."#forum$id_forum";
+			break;
+		case 'rubrique':
+			return generer_url_rubrique($id)."#forum$id_forum";
+			break;
+		default:
+			return "forum$id_forum.html";
+	}
+}
+
+?>

Index: inc-urls-propres.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-urls-propres.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-urls-propres.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-urls-propres.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,167 +1,172 @@
-<?php
-
-// executer une seule fois
-if (defined("_INC_URLS2")) return;
-define("_INC_URLS2", "1");
-
-
-/*
-
-- Comment utiliser ce jeu d'URLs ?
-
-Il faut recopier le fichier htaccess-propre.txt sous le nom .htaccess
-dans le repertoire de base du site SPIP (attention a ne pas ecraser
-d'autres reglages que vous pourriez avoir mis dans ce fichier)
-
-*/
-
-
-function _generer_url_propre($type, $id_objet) {
-	$table = "spip_".$type."s";
-	$col_id = "id_".$type;
-
-	// D'abord, essayer de recuperer l'URL existante si possible
-	$query = "SELECT url_propre, titre FROM $table WHERE $col_id=$id_objet";
-	$result = spip_query($query);
-	if (!($row = spip_fetch_array($result))) return "";
-	if ($row['url_propre']) return $row['url_propre'];
-
-	// Sinon, creer l'URL
-	include_ecrire("inc_filtres.php3");
-	include_ecrire("inc_charsets.php3");
-	$url = translitteration(corriger_caracteres(supprimer_tags(supprimer_numero($row['titre']))));
-	$url = @preg_replace(',[[:punct:][:space:]]+,u', ' ', $url);
-	// S'il reste des caracteres non latins, utiliser l'id a la place
-	if (preg_match(",[^a-zA-Z0-9 ],", $url)) {
-		$url = $type.$id_objet;
-	}
-	else {
-		$mots = explode(' ', $url);
-		$url = '';
-		foreach ($mots as $mot) {
-			if (!$mot) continue;
-			$url2 = $url.'-'.$mot;
-			if (strlen($url2) > 35) {
-				break;
-			}
-			$url = $url2;
-		}
-		$url = substr($url, 1);
-		//echo "$url<br>";
-		if (strlen($url) < 2) $url = $type.$id_objet;
-	}
-
-	// Verifier les eventuels doublons et mettre a jour
-	$lock = "url $type $id_objet";
-	spip_get_lock($lock, 10);
-	$query = "SELECT $col_id FROM $table WHERE url_propre='".addslashes($url)."'";
-	if (spip_num_rows(spip_query($query)) > 0) {
-		$url = $url.','.$id_objet;
-	}
-	$query = "UPDATE $table SET url_propre='".addslashes($url)."' WHERE $col_id=$id_objet";
-	spip_query($query);
-	spip_release_lock($lock);
-
-	return $url;
-}
-
-function generer_url_article($id_article) {
-	$url = _generer_url_propre('article', $id_article);
-	if (!$url) $url = "article.php3?id_article=$id_article";
-	return $url;
-}
-
-function generer_url_rubrique($id_rubrique) {
-	$url = _generer_url_propre('rubrique', $id_rubrique);
-	if (!$url) $url = "rubrique.php3?id_rubrique=$id_rubrique";
-	else $url = '-'.$url.'-';
-	return $url;
-}
-
-function generer_url_breve($id_breve) {
-	$url = _generer_url_propre('breve', $id_breve);
-	if (!$url) $url = "breve.php3?id_breve=$id_breve";
-	else $url = '+'.$url.'+';
-	return $url;
-}
-
-function generer_url_forum($id_forum) {
-	return "forum.php3?id_forum=$id_forum";
-}
-
-function generer_url_mot($id_mot) {
-	$url = _generer_url_propre('mot', $id_mot);
-	if (!$url) $url = "mot.php3?id_mot=$id_mot";
-	else $url = '+-'.$url.'-+';
-	return $url;
-}
-
-function generer_url_auteur($id_auteur) {
-	return "auteur.php3?id_auteur=$id_auteur";
-}
-
-function generer_url_document($id_document) {
-	if (intval($id_document) <= 0)
-		return '';
-	if ((lire_meta("creer_htaccess")) == 'oui')
-		return "spip_acces_doc.php3?id_document=$id_document";
-	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
-		return ($row['fichier']);
-	return '';
-}
-
-function recuperer_parametres_url($fond, $url) {
-	global $contexte;
-
-	// Migration depuis anciennes URLs ?
-	if ($GLOBALS['HTTP_SERVER_VARS']['REQUEST_METHOD'] != 'POST' &&
-		preg_match(',(^|/)(article|breve|rubrique|mot)\.php3?([\?&].*)?$,', $url, $regs)) {
-		$type = $regs[2];
-		$id_objet = intval($GLOBALS['id_'.$type]);
-		if ($id_objet) {
-			$func = "generer_url_$type";
-			$url_propre = $func($id_objet);
-			if ($url_propre) {
-				http_status(301);
-				Header("Location: $url_propre");
-				exit;
-			}
-		}
-		return;
-	}
-
-	$url_propre = $GLOBALS['HTTP_SERVER_VARS']['REDIRECT_url_propre'];
-	if (!$url_propre) $url_propre = $GLOBALS['HTTP_ENV_VARS']['url_propre'];
-	if (!$url_propre) $url_propre = substr($url, strrpos($url, '/') + 1);
-	if (!$url_propre) return;
-
-	// Detecter les differents types d'objets demandes
-	if (preg_match(',^\+-(.*)-\+$,', $url_propre, $regs)) {
-		$type = 'mot';
-		$url_propre = $regs[1];
-	}
-	else if (preg_match(',^-(.*)-$,', $url_propre, $regs)) {
-		$type = 'rubrique';
-		$url_propre = $regs[1];
-	}
-	else if (preg_match(',^\+(.*)\+$,', $url_propre, $regs)) {
-		$type = 'breve';
-		$url_propre = $regs[1];
-	}
-	else {
-		$type = 'article';
-	}
-
-	$table = "spip_".$type."s";
-	$col_id = "id_".$type;
-	$query = "SELECT $col_id FROM $table WHERE url_propre='".addslashes($url_propre)."'";
-	$result = spip_query($query);
-	if (spip_num_rows($result) == 1) {
-		$row = spip_fetch_array($result);
-		$contexte[$col_id] = $row[$col_id];
-	}
-
-	return;
-}
-
+<?php
+
+// executer une seule fois
+if (defined("_INC_URLS2")) return;
+define("_INC_URLS2", "1");
+
+
+/*
+
+- Comment utiliser ce jeu d'URLs ?
+
+Il faut recopier le fichier htaccess-propres.txt sous le nom .htaccess
+dans le repertoire de base du site SPIP (attention a ne pas ecraser
+d'autres reglages que vous pourriez avoir mis dans ce fichier)
+
+*/
+
+
+function _generer_url_propre($type, $id_objet) {
+	$table = "spip_".$type."s";
+	$col_id = "id_".$type;
+
+	// D'abord, essayer de recuperer l'URL existante si possible
+	$query = "SELECT url_propre, titre FROM $table WHERE $col_id=$id_objet";
+	$result = spip_query($query);
+	if (!($row = spip_fetch_array($result))) return "";
+	if ($row['url_propre']) return $row['url_propre'];
+
+	// Sinon, creer l'URL
+	include_ecrire("inc_filtres.php3");
+	include_ecrire("inc_charsets.php3");
+	$url = translitteration(corriger_caracteres(
+		supprimer_tags(supprimer_numero(extraire_multi($row['titre'])))
+		));
+	$url = @preg_replace(',[[:punct:][:space:]]+,u', ' ', $url);
+	// S'il reste des caracteres non latins, utiliser l'id a la place
+	if (preg_match(",[^a-zA-Z0-9 ],", $url)) {
+		$url = $type.$id_objet;
+	}
+	else {
+		$mots = explode(' ', $url);
+		$url = '';
+		foreach ($mots as $mot) {
+			if (!$mot) continue;
+			$url2 = $url.'-'.$mot;
+			if (strlen($url2) > 35) {
+				break;
+			}
+			$url = $url2;
+		}
+		$url = substr($url, 1);
+		//echo "$url<br>";
+		if (strlen($url) < 2) $url = $type.$id_objet;
+	}
+
+	// Verifier les eventuels doublons et mettre a jour
+	$lock = "url $type $id_objet";
+	spip_get_lock($lock, 10);
+	$query = "SELECT $col_id FROM $table
+		WHERE url_propre='".addslashes($url)."'";
+	if (spip_num_rows(spip_query($query)) > 0) {
+		$url = $url.','.$id_objet;
+	}
+	$query = "UPDATE $table SET url_propre='".addslashes($url)."' WHERE $col_id=$id_objet";
+	spip_query($query);
+	spip_release_lock($lock);
+
+	return $url;
+}
+
+function generer_url_article($id_article) {
+	$url = _generer_url_propre('article', $id_article);
+	if (!$url) $url = "article.php3?id_article=$id_article";
+	return $url;
+}
+
+function generer_url_rubrique($id_rubrique) {
+	$url = _generer_url_propre('rubrique', $id_rubrique);
+	if (!$url) $url = "rubrique.php3?id_rubrique=$id_rubrique";
+	else $url = '-'.$url.'-';
+	return $url;
+}
+
+function generer_url_breve($id_breve) {
+	$url = _generer_url_propre('breve', $id_breve);
+	if (!$url) $url = "breve.php3?id_breve=$id_breve";
+	else $url = '+'.$url.'+';
+	return $url;
+}
+
+function generer_url_forum($id_forum) {
+	return "forum.php3?id_forum=$id_forum";
+}
+
+function generer_url_mot($id_mot) {
+	$url = _generer_url_propre('mot', $id_mot);
+	if (!$url) $url = "mot.php3?id_mot=$id_mot";
+	else $url = '+-'.$url.'-+';
+	return $url;
+}
+
+function generer_url_auteur($id_auteur) {
+	return "auteur.php3?id_auteur=$id_auteur";
+}
+
+function generer_url_document($id_document) {
+	if (intval($id_document) <= 0)
+		return '';
+	if ((lire_meta("creer_htaccess")) == 'oui')
+		return "spip_acces_doc.php3?id_document=$id_document";
+	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
+		return ($row['fichier']);
+	return '';
+}
+
+function recuperer_parametres_url($fond, $url) {
+	global $contexte;
+
+	// Migration depuis anciennes URLs ?
+	if ($GLOBALS['_SERVER']['REQUEST_METHOD'] != 'POST' &&
+		preg_match(',(^|/)((article|breve|rubrique|mot)\.php3?([\?&].*)?)$,', $url, $regs)) {
+		$type = $regs[3];
+		$id_objet = intval($GLOBALS['id_'.$type]);
+		if ($id_objet) {
+			$func = "generer_url_$type";
+			$url_propre = $func($id_objet);
+			if ($url_propre
+			AND ($url_propre<>$regs[2])) {
+				http_status(301);
+				Header("Location: $url_propre");
+				exit;
+			}
+		}
+		return;
+	}
+
+	$url_propre = $GLOBALS['_SERVER']['REDIRECT_url_propre'];
+	if (!$url_propre) $url_propre = $GLOBALS['HTTP_ENV_VARS']['url_propre'];
+	if (!$url_propre) $url_propre = substr($url, strrpos($url, '/') + 1);
+	if (!$url_propre) return;
+
+	// Detecter les differents types d'objets demandes
+	if (preg_match(',^\+-(.*)-\+$,', $url_propre, $regs)) {
+		$type = 'mot';
+		$url_propre = $regs[1];
+	}
+	else if (preg_match(',^-(.*)-$,', $url_propre, $regs)) {
+		$type = 'rubrique';
+		$url_propre = $regs[1];
+	}
+	else if (preg_match(',^\+(.*)\+$,', $url_propre, $regs)) {
+		$type = 'breve';
+		$url_propre = $regs[1];
+	}
+	else {
+		$type = 'article';
+	}
+
+	$table = "spip_".$type."s";
+	$col_id = "id_".$type;
+	$query = "SELECT $col_id FROM $table
+		WHERE url_propre='".addslashes($url_propre)."'";
+	$result = spip_query($query);
+	if (spip_num_rows($result) == 1) {
+		$row = spip_fetch_array($result);
+		$contexte[$col_id] = $row[$col_id];
+	}
+
+	return;
+}
+
 ?>

Index: inc-urls-standard.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-urls-standard.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-urls-standard.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ inc-urls-standard.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,82 +1,82 @@
-<?php
-
-// executer une seule fois
-if (defined("_INC_URLS2")) return;
-define("_INC_URLS2", "1");
-
-function generer_url_article($id_article) {
-	return "article.php3?id_article=$id_article";
-}
-
-function generer_url_rubrique($id_rubrique) {
-	return "rubrique.php3?id_rubrique=$id_rubrique";
-}
-
-function generer_url_breve($id_breve) {
-	return "breve.php3?id_breve=$id_breve";
-}
-
-function generer_url_mot($id_mot) {
-	return "mot.php3?id_mot=$id_mot";
-}
-
-function generer_url_auteur($id_auteur) {
-	return "auteur.php3?id_auteur=$id_auteur";
-}
-
-function generer_url_document($id_document) {
-	if (intval($id_document) <= 0)
-		return '';
-	if ((lire_meta("creer_htaccess")) == 'oui')
-		return "spip_acces_doc.php3?id_document=$id_document";
-	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
-		return ($row['fichier']);
-	return '';
-}
-
-function recuperer_parametres_url($fond, $url) {
-	global $contexte;
-	return;
-}
-
-//
-// URLs des forums
-//
-
-// a mettre dans ecrire/inc_threads.php3 avec les autres trucs de forum
-function racine_forum($id_forum){
-	if (!$id_forum = intval($id_forum)) return;
-	$query = "SELECT id_parent, id_rubrique, id_article, id_breve FROM spip_forum WHERE id_forum=".$id_forum;
-	$result = spip_query($query);
-	if($row = spip_fetch_array($result)){
-		if($row['id_parent']) {
-			return racine_forum($row['id_parent']);
-		}
-		else {
-			if($row['id_rubrique']) return array('rubrique',$row['id_rubrique'], $id_forum);
- 			if($row['id_article']) return array('article',$row['id_article'], $id_forum);
-			if($row['id_breve']) return array('breve',$row['id_breve'], $id_forum);
-		}
-	}
-} 
-
-function generer_url_forum($id_forum, $show_thread=false) {
-	list($type, $id, $id_thread) = racine_forum($id_forum);
-	if ($id_thread>0 AND $show_thread)
-		$id_forum = $id_thread;
-	switch($type) {
-		case 'article':
-			return generer_url_article($id)."#forum$id_forum";
-			break;
-		case 'breve':
-			return generer_url_breve($id)."#forum$id_forum";
-			break;
-		case 'rubrique':
-			return generer_url_rubrique($id)."#forum$id_forum";
-			break;
-		default:
-			return "forum.php3?id_forum=".$id_forum;
-	}
-}
-
-?>
+<?php
+
+// executer une seule fois
+if (defined("_INC_URLS2")) return;
+define("_INC_URLS2", "1");
+
+function generer_url_article($id_article) {
+	return "article.php3?id_article=$id_article";
+}
+
+function generer_url_rubrique($id_rubrique) {
+	return "rubrique.php3?id_rubrique=$id_rubrique";
+}
+
+function generer_url_breve($id_breve) {
+	return "breve.php3?id_breve=$id_breve";
+}
+
+function generer_url_mot($id_mot) {
+	return "mot.php3?id_mot=$id_mot";
+}
+
+function generer_url_auteur($id_auteur) {
+	return "auteur.php3?id_auteur=$id_auteur";
+}
+
+function generer_url_document($id_document) {
+	if (intval($id_document) <= 0)
+		return '';
+	if ((lire_meta("creer_htaccess")) == 'oui')
+		return "spip_acces_doc.php3?id_document=$id_document";
+	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
+		return ($row['fichier']);
+	return '';
+}
+
+function recuperer_parametres_url($fond, $url) {
+	global $contexte;
+	return;
+}
+
+//
+// URLs des forums
+//
+
+// a mettre dans ecrire/inc_threads.php3 avec les autres trucs de forum
+function racine_forum($id_forum){
+	if (!$id_forum = intval($id_forum)) return;
+	$query = "SELECT id_parent, id_rubrique, id_article, id_breve FROM spip_forum WHERE id_forum=".$id_forum;
+	$result = spip_query($query);
+	if($row = spip_fetch_array($result)){
+		if($row['id_parent']) {
+			return racine_forum($row['id_parent']);
+		}
+		else {
+			if($row['id_rubrique']) return array('rubrique',$row['id_rubrique'], $id_forum);
+ 			if($row['id_article']) return array('article',$row['id_article'], $id_forum);
+			if($row['id_breve']) return array('breve',$row['id_breve'], $id_forum);
+		}
+	}
+} 
+
+function generer_url_forum($id_forum, $show_thread=false) {
+	list($type, $id, $id_thread) = racine_forum($id_forum);
+	if ($id_thread>0 AND $show_thread)
+		$id_forum = $id_thread;
+	switch($type) {
+		case 'article':
+			return generer_url_article($id)."#forum$id_forum";
+			break;
+		case 'breve':
+			return generer_url_breve($id)."#forum$id_forum";
+			break;
+		case 'rubrique':
+			return generer_url_rubrique($id)."#forum$id_forum";
+			break;
+		default:
+			return "forum.php3?id_forum=".$id_forum;
+	}
+}
+
+?>

Index: index.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/index.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- index.php	13 Jan 2005 15:37:14 -0000	1.1
+++ index.php	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,4 +1,4 @@
-<?php
-	// pour hebergeurs ayant oublie de configurer DirectoryIndex index.php3
-	include ("index.php3");
-?>
+<?php
+	// pour hebergeurs ayant oublie de configurer DirectoryIndex index.php3
+	include ("index.php3");
+?>

Index: index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/index.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- index.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ index.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1 +1 @@
-<?php include ("sommaire.php3"); ?>
+<?php include ("sommaire.php3"); ?>

Index: mes_fonctions.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/mes_fonctions.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- mes_fonctions.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ mes_fonctions.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,108 +1,234 @@
-<?php
-
-/////////////////////////////
-//CARTO
-/////////////////////////////
-global $tables_principales;
-
-$spip_carto_carte = array(
-	"id_carte" => "bigint(21) NOT NULL",
-	"titre" => "VARCHAR(255) BINARY NOT NULL",
-	"commentaire" => "TEXT BINARY NOT NULL",
-	"fichier" => "TEXT BINARY NOT NULL",
-	"callage" => "TEXT BINARY NOT NULL",
-	"id_srs" => "bigint(21) NOT NULL");
-
-$spip_carto_carte_key = array(
-	"PRIMARY KEY" => "id_carte",
-	"KEY id_carte" => "id_carte");
-
-$spip_carto_objet = array(
-	"id_objet" => "bigint(21) NOT NULL",
-	"id_carte" => "bigint(21) NOT NULL",
-	"titre" => "VARCHAR(255) BINARY NOT NULL",
-	"commentaire" => "TEXT BINARY NOT NULL",
-	"lien" => "VARCHAR(255) BINARY NOT NULL",
-	"logo" => "VARCHAR(255) BINARY NOT NULL",
-	"geometrie" => "TEXT BINARY NOT NULL");
-	
-$spip_carto_objet_key = array(
-	"PRIMARY KEY" => "id_objet",
-	"KEY id_carte" => "id_carte",
-	"KEY titre" => "titre");
-
-$tables_principales['carto_objet'] =
-	array('field' => &$spip_carto_objet, 'key' => &$spip_carto_objet_key);
-$tables_principales['carto_carte'] =
-	array('field' => &$spip_carto_carte, 'key' => &$spip_carto_carte_key);
-global $table_primary;
-$table_primary['carto_carte']="id_carte";
-
-
-/*
- *   +---------------------------------------------+
- *    Nom du Filtre : WKT to COORDS
- *   +---------------------------------------------+
- *    Date : mercredi 09 avril 2003
- *    Auteur : 
- *    site :  
- *   +---------------------------------------------+
- *    Fonctions de ce filtre :
- *     Appelez le dans vos squellette tout simplement
- *     par : [(#GEOMETRIE|wkt2coords)]
- *   +---------------------------------------------+
- *  
- * Pour toute suggestion, remarque, proposition d'ajout
- * reportez-vous au forum de l'article :
- * http://www.uzine.net/spip_contrib/
- *
- */
-function wkt2coords($geometrie){
-	
-	return str_replace(';',',',substr($geometrie,8,-1));
-}
-/*
- *   +---------------------------------------------+
- *    Nom du Filtre : WKT to SHAPE 
- *   +---------------------------------------------+
- *    Date : mercredi 09 avril 2003
- *    Auteur : 
- *    site :  
- *   +---------------------------------------------+
- *    Fonctions de ce filtre :
- *     Appelez le dans vos squellette tout simplement
- *     par : [(#GEOMETRIE|wkt2shape)]
- *   +---------------------------------------------+
- *  
- * Pour toute suggestion, remarque, proposition d'ajout
- * reportez-vous au forum de l'article :
- * http://www.uzine.net/spip_contrib/
- *
- */
-function wkt2shape($geometrie){
-	
-	return substr($geometrie,0,4);
-}
-
-/*
- *   +---------------------------------------------+
- *    Nom du Filtre : Nombre de messages 
- *   +---------------------------------------------+
- *    Date : mercredi 09 avril 2003
- *    Auteur : BoOz Email:booz.bloog at laposte.net
- *    site : http://bloog.net
- *   +---------------------------------------------+
- *    Fonctions de ce filtre :
- *    Compte le nombre de messages d'un auteur
- *     Appelez le dans vos squellette tout simplement
- *     par : [(#ID_AUTEUR|nb_messages)]
- *   +---------------------------------------------+
- *  
- * Pour toute suggestion, remarque, proposition d'ajout
- * reportez-vous au forum de l'article :
- * http://www.uzine.net/spip_contrib/
- *
- */
-
-
-?>
+<?php
+
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//          MODULE CARTO
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+// PARAMETRAGE
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+
+//////////////////////////////////////////////////
+// CARTO_CARTES
+//////////////////////////////////////////////////
+$spip_carto_cartes = array(
+	"id_carto_carte" => "bigint(21) NOT NULL",
+	"titre" => "VARCHAR(255) BINARY NOT NULL",
+	"texte" => "TEXT BINARY NOT NULL",
+	"url_carte" => "TEXT BINARY NOT NULL",
+	"callage" => "TEXT BINARY NOT NULL",
+	"id_srs" => "bigint(21) NOT NULL");
+
+$spip_carto_cartes_key = array(
+	"PRIMARY KEY" => "id_carto_carte",
+	"KEY id_carto_carte" => "id_carto_carte");
+
+
+//////////////////////////////////////////////////
+// CARTO_OBJETS
+//////////////////////////////////////////////////
+
+$spip_carto_objets = array(
+	"id_carto_objet" => "bigint(21) NOT NULL",
+	"id_carto_carte" => "bigint(21) NOT NULL",
+	"titre" => "VARCHAR(255) BINARY NOT NULL",
+	"texte" => "TEXT BINARY NOT NULL",
+	"url_objet" => "TEXT BINARY NOT NULL",
+	"url_logo" => "TEXT BINARY NOT NULL",
+	"geometrie" => "TEXT BINARY NOT NULL");
+	
+$spip_carto_objets_key = array(
+	"PRIMARY KEY" => "id_carto_objet",
+	"KEY id_carto_carte" => "id_carto_carte",
+	"KEY titre" => "titre");
+
+//////////////////////////////////////////////////
+// CARTO_CARTES_ARTICLES
+//////////////////////////////////////////////////
+
+$spip_carto_cartes_articles = array(
+	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
+	"id_article" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
+
+$spip_carto_cartes_articles_key = array(
+	"KEY id_carto_carte" 	=> "id_carto_carte",
+	"KEY id_article" => "id_article");
+
+
+//////////////////////////////////////////////////
+// CARTO_CARTES_ARTICLES
+//////////////////////////////////////////////////
+
+$spip_carto_cartes_articles = array(
+	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
+	"id_article" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
+
+$spip_carto_cartes_articles_key = array(
+	"KEY id_carto_carte" 	=> "id_carto_carte",
+	"KEY id_article" => "id_article");
+
+
+$tables_auxiliaires['spip_carto_cartes_articles'] = array(
+	'field' => &$spip_carto_cartes_articles,
+	'key' => &$spip_carto_cartes_articles_key);
+
+//////////////////////////////////////////////////
+// MOTS_CARTO_OBJETS
+//////////////////////////////////////////////////
+
+$spip_mots_carto_objets= array(
+	"id_carto_objet" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
+	"id_mot" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
+
+$spip_mots_carto_objets_key = array(
+	"KEY id_carto_objet" 	=> "id_carto_objet",
+	"KEY id_mot" => "id_mot");
+
+//////////////////////////////////////////////////
+// DOCUMENTS_CARTO_OBJETS
+//////////////////////////////////////////////////
+
+$spip_documents_carto_cartes= array(
+	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
+	"id_document" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
+
+$spip_documents_carto_cartes_key = array(
+	"KEY id_carto_carte" 	=> "id_carto_carte",
+	"KEY id_document" => "id_document");
+
+
+//////////////////////////////////////////////////
+// DECLARATION
+//////////////////////////////////////////////////
+
+global $tables_principales,$table_primary,$tables_auxiliaires,$tables_relations;
+
+
+$tables_principales['spip_carto_cartes'] =
+	array('field' => &$spip_carto_cartes, 'key' => &$spip_carto_cartes_key);
+
+$tables_principales['spip_carto_objets'] =
+	array('field' => &$spip_carto_objets, 'key' => &$spip_carto_objets_key);
+
+//Relation avec les articles
+$tables_auxiliaires['spip_carto_cartes_articles'] = array(
+	'field' => &$spip_carto_cartes_articles,
+	'key' => &$spip_carto_cartes_articles_key);
+
+
+//La, ca se discute ...
+//Ca devrait etre une table secondaire
+//mais comme on n'utilise que l'id_mot dans la boucle
+//on gagne une jointure dans la requete
+
+//$tables_principales['spip_mots_carto_objets'] = array(
+//	'field' => &$spip_mots_carto_objets,
+//	'key' => &$spip_mots_carto_objets_key);
+
+$tables_auxiliaires['spip_mots_carto_objets'] = array(
+	'field' => &$spip_mots_carto_objets,
+	'key' => &$spip_mots_carto_objets_key);
+	
+//Relation pour boucle CARTO_OBJETS par crit?re mot
+//$tables_relations['mots']['id_carto_objet']= 'mots_carto_objets';
+//$tables_relations['carto_objets']['id_mot']= 'mots_carto_objets';
+
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//FILTRES
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+/* +---------------------------------------------+
+ *    Nom    du    Filtre : WKT to STYLE
+ * +---------------------------------------------+    
+ * Date : mercredi 09 avril 2003
+ * Auteur :    
+ * site : 
+ * +---------------------------------------------+ 
+ * Fonctions de ce filtre : 
+ * Appelez le dans vos squellette tout simplement par :
+ * [(#GEOMETRIE|wkt2style)] 
+ * +--------------------------------------------- +
+ *  
+ * Pour toute suggestion, remarque, proposition d'ajout
+ * reportez-vous au forum de l'article :
+ * http://www.uzine.net/spip_contrib/
+ *
+ */
+function wkt2style($geometrie){
+	$debut=strpos($geometrie,"(");
+	$milieu=strpos($geometrie,",");
+	$fin=strpos($geometrie,";");
+	$returned_str="top: ".substr($geometrie,$milieu+1,$fin-$milieu-1)."px;left: ".substr($geometrie,$debut+1,$milieu-$debut-1)."px;";
+	return $returned_str;
+}
+
+/*
+ *   +---------------------------------------------+
+ *    Nom du Filtre : WKT to COORDS
+ *   +---------------------------------------------+
+ *    Date : mercredi 09 avril 2003
+ *    Auteur : 
+ *    site :  
+ *   +---------------------------------------------+
+ *    Fonctions de ce filtre :
+ *     Appelez le dans vos squellette tout simplement
+ *     par : [(#GEOMETRIE|wkt2coords)]
+ *   +---------------------------------------------+
+ *  
+ * Pour toute suggestion, remarque, proposition d'ajout
+ * reportez-vous au forum de l'article :
+ * http://www.uzine.net/spip_contrib/
+ *
+ */
+function wkt2coords($geometrie){
+	
+	return str_replace(';',',',substr($geometrie,8,-1));
+}
+
+/*
+ *   +---------------------------------------------+
+ *    Nom du Filtre : WKT to SHAPE 
+ *   +---------------------------------------------+
+ *    Date : mercredi 09 avril 2003
+ *    Auteur : 
+ *    site :  
+ *   +---------------------------------------------+
+ *    Fonctions de ce filtre :
+ *     Appelez le dans vos squellette tout simplement
+ *     par : [(#GEOMETRIE|wkt2shape)]
+ *   +---------------------------------------------+
+ *  
+ * Pour toute suggestion, remarque, proposition d'ajout
+ * reportez-vous au forum de l'article :
+ * http://www.uzine.net/spip_contrib/
+ *
+ */
+function wkt2shape($geometrie){
+	
+	return substr($geometrie,0,4);
+}
+
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//			FIN MODULE CARTO
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+
+
+/*/ Filtre SECU - 
+function supprimer_la_securite($texte){
+$texte=ereg_replace ("<php>","<?php",$texte);
+$texte=ereg_replace ("</php>","?>",$texte);
+return $texte;
+}
+*/
+
+
+?>

Index: mot.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/mot.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- mot.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ mot.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,9 +1,9 @@
-<?php
-$fond = "mot";
-$delais = 24 * 3600;
-
-
-include ("inc-public.php3");
-
-
-?>
+<?php
+$fond = "mot";
+$delais = 24 * 3600;
+
+
+include ("inc-public.php3");
+
+
+?>

Index: plan.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/plan.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- plan.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ plan.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,8 +1,8 @@
-<?php
-
-$fond = "plan";
-$delais = 2 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+$fond = "plan";
+$delais = 2 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: recherche.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/recherche.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- recherche.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ recherche.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,8 +1,8 @@
-<?php
-$fond = "recherche";
-$delais = 0;
-
-include ("inc-public.php3");
-
-
-?>
+<?php
+$fond = "recherche";
+$delais = 0;
+
+include ("inc-public.php3");
+
+
+?>

Index: resume.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/resume.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- resume.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ resume.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,7 +1,7 @@
-<?php
-$fond = "resume";
-$delais = 2 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "resume";
+$delais = 2 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: rubrique.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/rubrique.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- rubrique.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ rubrique.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,8 +1,8 @@
-<?php
-$fond = "rubrique";
-$delais = 2 * 3600;
-
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "rubrique";
+$delais = 2 * 3600;
+
+
+include ("inc-public.php3");
+
+?>

Index: site.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/site.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- site.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ site.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,9 +1,9 @@
-<?php
-$fond = "site";
-$delais = 24 * 3600;
-
-
-include ("inc-public.php3");
-
-
-?>
+<?php
+$fond = "site";
+$delais = 24 * 3600;
+
+
+include ("inc-public.php3");
+
+
+?>

Index: sommaire.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/sommaire.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- sommaire.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ sommaire.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,7 +1,7 @@
-<?php
-$fond = "sommaire";
-$delais = 2 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "sommaire";
+$delais = 2 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: sommaire_texte.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/sommaire_texte.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- sommaire_texte.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ sommaire_texte.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,12 +1,12 @@
-<?php
-
-// ACCESSIBILITE
-// cette page offre une lecture en mode "texte seul"
-// des 3 articles les plus recents.
-
-$fond = "sommaire_texte";
-$delais = 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+// ACCESSIBILITE
+// cette page offre une lecture en mode "texte seul"
+// des 3 articles les plus recents.
+
+$fond = "sommaire_texte";
+$delais = 3600;
+
+include ("inc-public.php3");
+
+?>

Index: spip_acces_doc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_acces_doc.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_acces_doc.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_acces_doc.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,75 +1,75 @@
-<?
-# script d'acces aux documents joints
-# doit etre appele avec un de ces 2 parametres de GET:
-# - id_document 
-# - file 
-# il verifie soit que le demandeur est authentifie
-# soit que le fichier est joint ? au moins 1 article, breve ou rubrique
-
-$id_document = ($_GET['id_document']);
-$file = urldecode($_GET['file']);
-if (strpos($file,'../') !== false)
-  $refus = 1;
-else
-  {
-    $refus = false;
-    include ("ecrire/inc_version.php3");
-    include_local(_FILE_CONNECT);
-    include_ecrire("inc_meta.php3");
-    include_ecrire("inc_session.php3");
-
-    global $auteur_session;
-    if ($cookie_session = $HTTP_COOKIE_VARS['spip_session']) 
-      {
-	if (verifier_session($cookie_session)) 
-	  {
-	    if ($auteur_session['statut'] == '0minirezo' 
-		OR $auteur_session['statut'] == '1comite') 
-	      $auth_login = $auteur_session['login'];
-	  }
-      }
-
-    if (!$id_document) {
-      $id_document = @spip_fetch_array(spip_query("select id_document from spip_documents as documents where documents.fichier='".$file."'"));
-      if (!$id_document) $refus = 2;
-      $id_document = $id_document['id_document'];
-    } else {
-      $file = @spip_fetch_array(spip_query("select fichier from spip_documents as documents where id_document='". $id_document ."'"));
-      if (!$file) $refus = 3;
-      $file = $file['fichier'];
-    }
-  }
-
-if (!$auth_login && !$refus) { 
-    if (!spip_num_rows(spip_query("select articles.id_article
-from spip_documents_articles as rel_articles, spip_articles as articles 
-where rel_articles.id_article = articles.id_article AND
-articles.statut = 'publie' AND rel_articles.id_document ='".
-			       $id_document .
-				"' LIMIT 1"))) {
-      if (!spip_num_rows(spip_query("select rubriques.id_rubrique
-from spip_documents_rubriques as rel_rubriques, spip_rubriques as rubriques 
-where rel_rubriques.id_rubrique = rubriques.id_rubrique AND
-rubriques.statut = 'publie' AND rel_rubriques.id_document ='".
-			       $id_document .
-				  "' LIMIT 1"))) {
-	if (!spip_num_rows(spip_query("select breves.id_breve
-from spip_documents_breves as rel_breves, spip_breves as breves 
-where rel_breves.id_breve = breves.id_breve AND
-breves.statut = 'publie' AND rel_breves.id_document ='".
-			       $id_document .
-				  "' LIMIT 1")))
-	  $refus = 4; } } }
-
-if (!$refus)
-  {
-     header("Content-Type: ". mime_content_type($file));
-     header("Content-Length: ". filesize($file));
-     header("Content-Disposition: attachment; filename=\"". basename($file) ."\";");
-     header("Content-Transfer-Encoding: binary");
-     readfile($file);
-   }
- else
-   spip_log("Acces refuse ($refus) au document " . ($_GET['id_document']) . ': ' .($_GET['file']));
-
+<?
+# script d'acces aux documents joints
+# doit etre appele avec un de ces 2 parametres de GET:
+# - id_document 
+# - file 
+# il verifie soit que le demandeur est authentifie
+# soit que le fichier est joint ? au moins 1 article, breve ou rubrique
+
+$id_document = ($_GET['id_document']);
+$file = urldecode($_GET['file']);
+if (strpos($file,'../') !== false)
+  $refus = 1;
+else
+  {
+    $refus = false;
+    include ("ecrire/inc_version.php3");
+    include_local(_FILE_CONNECT);
+    include_ecrire("inc_meta.php3");
+    include_ecrire("inc_session.php3");
+
+    global $auteur_session;
+    if ($cookie_session = $_COOKIE['spip_session']) 
+      {
+	if (verifier_session($cookie_session)) 
+	  {
+	    if ($auteur_session['statut'] == '0minirezo' 
+		OR $auteur_session['statut'] == '1comite') 
+	      $auth_login = $auteur_session['login'];
+	  }
+      }
+
+    if (!$id_document) {
+      $id_document = @spip_fetch_array(spip_query("select id_document from spip_documents as documents where documents.fichier='".$file."'"));
+      if (!$id_document) $refus = 2;
+      $id_document = $id_document['id_document'];
+    } else {
+      $file = @spip_fetch_array(spip_query("select fichier from spip_documents as documents where id_document='". $id_document ."'"));
+      if (!$file) $refus = 3;
+      $file = $file['fichier'];
+    }
+  }
+
+if (!$auth_login && !$refus) { 
+    if (!spip_num_rows(spip_query("select articles.id_article
+from spip_documents_articles as rel_articles, spip_articles as articles 
+where rel_articles.id_article = articles.id_article AND
+articles.statut = 'publie' AND rel_articles.id_document ='".
+			       $id_document .
+				"' LIMIT 1"))) {
+      if (!spip_num_rows(spip_query("select rubriques.id_rubrique
+from spip_documents_rubriques as rel_rubriques, spip_rubriques as rubriques 
+where rel_rubriques.id_rubrique = rubriques.id_rubrique AND
+rubriques.statut = 'publie' AND rel_rubriques.id_document ='".
+			       $id_document .
+				  "' LIMIT 1"))) {
+	if (!spip_num_rows(spip_query("select breves.id_breve
+from spip_documents_breves as rel_breves, spip_breves as breves 
+where rel_breves.id_breve = breves.id_breve AND
+breves.statut = 'publie' AND rel_breves.id_document ='".
+			       $id_document .
+				  "' LIMIT 1")))
+	  $refus = 4; } } }
+
+if (!$refus)
+  {
+     header("Content-Type: ". mime_content_type($file));
+     header("Content-Length: ". filesize($file));
+     header("Content-Disposition: attachment; filename=\"". basename($file) ."\";");
+     header("Content-Transfer-Encoding: binary");
+     readfile($file);
+   }
+ else
+   spip_log("Acces refuse ($refus) au document " . ($_GET['id_document']) . ': ' .($_GET['file']));
+
 ?>

Index: spip_admin.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_admin.css,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_admin.css	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_admin.css	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,83 +1,83 @@
-/* Les boutons d'admin survolent la page (sauf #FORMULAIRE_ADMIN) */
-.spip-admin-float {
-	top: 0px;
-	right: 20px;
-	position: absolute;
-	z-index: 100;
-}
-
-
-/* Couleurs et design des boutons d'admin */
-.spip-admin-bloc {
-	font-family: Verdana,Arial,Helvetica,sans-serif;
-	background-color: transparent;
-	font-size: 10px;
-}
-
-.spip-admin-bloc li {
-	padding: 0 2px;
-	display: inline;
-}
-
-.spip-admin-bloc ul {
-	display: inline;
-}
-
-a.spip-admin-boutons {
-	border-top: 1px solid #cecece;
-	border-bottom: 2px solid #4a4a4a;
-	border-left: 1px solid #cecece;
-	border-right: 1px solid #cecece;
-	text-decoration: none;
-	width: 3em;
-	text-align: center;
-	margin: 0;
-	padding: 1px .5em;
-	font-family: helvetica,arial,sans-serif;
-	font-size: 10px;
-	font-weight: bold;
-	background-color: #fff;
-	color: #0c479d;
-}
-
-a:hover.spip-admin-boutons {
-	background-color: #fc3;
-	border-bottom: 2px solid #36f;
-}
-
-a:active.spip-admin-boutons {
-	background-color: #ccc;
-	border-bottom: 2px solid #f00;
-}
-
-
-/* Style pour le mode debug */
-#spip-debug {
-	background-color: #f0f0f0;
-	font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
-}
-#spip-debug ul table {
-	font-size: 80%;
-}
-
-#spip-debug fieldset {
-	background-color: #FFF;
-	font-family: "Courier New", Courier, monospace;
-	font-size: 12;
-}
-
-#spip-debug legend {
-	background-color: #FFF;
-	border: solid 1px #F00;
-	padding: 1px 1em;
-	font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
-	font-weight: bold;
-}
-
-#spip-debug ul table a {
-	text-decoration: none;
-}
-
-#spip-debug ul table a:hover {
-	text-decoration: underline;
-}
+/* Les boutons d'admin survolent la page (sauf #FORMULAIRE_ADMIN) */
+.spip-admin-float {
+	top: 0px;
+	right: 20px;
+	position: absolute;
+	z-index: 100;
+}
+
+
+/* Couleurs et design des boutons d'admin */
+.spip-admin-bloc {
+	font-family: Verdana,Arial,Helvetica,sans-serif;
+	background-color: transparent;
+	font-size: 10px;
+}
+
+.spip-admin-bloc li {
+	padding: 0 2px;
+	display: inline;
+}
+
+.spip-admin-bloc ul {
+	display: inline;
+}
+
+a.spip-admin-boutons {
+	border-top: 1px solid #cecece;
+	border-bottom: 2px solid #4a4a4a;
+	border-left: 1px solid #cecece;
+	border-right: 1px solid #cecece;
+	text-decoration: none;
+	width: 3em;
+	text-align: center;
+	margin: 0;
+	padding: 1px .5em;
+	font-family: helvetica,arial,sans-serif;
+	font-size: 10px;
+	font-weight: bold;
+	background-color: #fff;
+	color: #0c479d;
+}
+
+a:hover.spip-admin-boutons {
+	background-color: #fc3;
+	border-bottom: 2px solid #36f;
+}
+
+a:active.spip-admin-boutons {
+	background-color: #ccc;
+	border-bottom: 2px solid #f00;
+}
+
+
+/* Style pour le mode debug */
+#spip-debug {
+	background-color: #f0f0f0;
+	font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
+}
+#spip-debug ul table {
+	font-size: 80%;
+}
+
+#spip-debug fieldset {
+	background-color: #FFF;
+	font-family: "Courier New", Courier, monospace;
+	font-size: 12;
+}
+
+#spip-debug legend {
+	background-color: #FFF;
+	border: solid 1px #F00;
+	padding: 1px 1em;
+	font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
+	font-weight: bold;
+}
+
+#spip-debug ul table a {
+	text-decoration: none;
+}
+
+#spip-debug ul table a:hover {
+	text-decoration: underline;
+}

Index: spip_background.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_background.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_background.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_background.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,23 +1,22 @@
-<?php
-
-// Du cote de la page HTML, utiliser un background-image en feuille de style
-// plutot qu'un <img>, c'est plus discret notamment sous navigateur texte
-$image = pack("H*", "47494638396118001800800000ffffff00000021f90401000000002c0000000018001800000216848fa9cbed0fa39cb4da8bb3debcfb0f86e248965301003b");
-$size = strlen($image);
-
-Header("Content-Type: image/gif");
-Header("Content-Length: ".$size);
-Header("Cache-Control: no-cache,no-store");
-Header("Pragma: no-cache");
-Header("Connection: close");
-
-echo $image;
-
-flush();
-
-include('ecrire/inc_version.php3');
-
-cron(1);	// toutes les 1 seconde (gourmand)
-
-
+<?php
+
+// Du cote de la page HTML, utiliser un background-image en feuille de style
+// plutot qu'un <img>, c'est plus discret notamment sous navigateur texte
+$image = pack("H*", "47494638396118001800800000ffffff00000021f90401000000002c0000000018001800000216848fa9cbed0fa39cb4da8bb3debcfb0f86e248965301003b");
+$size = strlen($image);
+
+Header("Content-Type: image/gif");
+Header("Content-Length: ".$size);
+Header("Cache-Control: no-cache,no-store");
+Header("Pragma: no-cache");
+Header("Connection: close");
+
+echo $image;
+
+flush();
+
+include('ecrire/inc_version.php3');
+
+cron(1); // acces gourmand (on veut bosser, nous, pas comme inc-public.php3 !)
+
 ?>

Index: spip_barre.js
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_barre.js,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_barre.js	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_barre.js	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,186 +1,186 @@
-// Barre de raccourcis
-// derive du:
-// bbCode control by subBlue design : www.subBlue.com
-
-// Startup variables
-var theSelection = false;
-
-// Check for Browser & Platform for PC & IE specific bits
-// More details from: http://www.mozilla.org/docs/web-developer/sniffer/browser_type.html
-var clientPC = navigator.userAgent.toLowerCase(); // Get client info
-var clientVer = parseInt(navigator.appVersion); // Get browser version
-
-var is_ie = ((clientPC.indexOf("msie") != -1) && (clientPC.indexOf("opera") == -1));
-var is_nav = ((clientPC.indexOf('mozilla')!=-1) && (clientPC.indexOf('spoofer')==-1)
-                && (clientPC.indexOf('compatible') == -1) && (clientPC.indexOf('opera')==-1)
-                && (clientPC.indexOf('webtv')==-1) && (clientPC.indexOf('hotjava')==-1));
-var is_moz = 0;
-
-var is_win = ((clientPC.indexOf("win")!=-1) || (clientPC.indexOf("16bit") != -1));
-var is_mac = (clientPC.indexOf("mac")!=-1);
-
-
-function barre_raccourci(debut,fin,champ) {
-	var txtarea = champ;
-
-	txtarea.focus();
-	donotinsert = false;
-	theSelection = false;
-	bblast = 0;
-
-	if ((clientVer >= 4) && is_ie && is_win)
-	{
-		theSelection = document.selection.createRange().text; // Get text selection
-		if (theSelection) {
-
-			while (theSelection.substring(theSelection.length-1, theSelection.length) == ' ')
-			{
-				theSelection = theSelection.substring(0, theSelection.length-1);
-				fin = fin + " ";
-			}
-			if (theSelection.substring(0,1) == '{' && debut.substring(0,1) == '{')
-			{
-				debut = debut + " ";
-			}
-			if (theSelection.substring(theSelection.length-1, theSelection.length) == '}' && fin.substring(0,1) == '}')
-			{
-				fin = " " + fin;
-			}
-
-			// Add tags around selection
-			document.selection.createRange().text = debut + theSelection + fin;
-			txtarea.focus();
-			theSelection = '';
-			return;
-		}
-	}
-	else if (txtarea.selectionEnd && (txtarea.selectionEnd - txtarea.selectionStart > 0))
-	{
-		mozWrap(txtarea, debut, fin);
-		return;
-	}
-}
-
-function barre_demande(debut,milieu,fin,affich,champ) {
-	var inserer = prompt(affich);
-
-	if (inserer != null) {
-		if (inserer == "") {inserer = "xxx"; }
-
-		barre_raccourci(debut, milieu+inserer+fin, champ);
-	}
-}
-
-function barre_inserer(text,champ) {
-	var txtarea = champ;
-	
-	if (txtarea.createTextRange && txtarea.caretPos) {
-		var caretPos = txtarea.caretPos;
-		caretPos.text = caretPos.text.charAt(caretPos.text.length - 1) == ' ' ? caretPos.text + text + ' ' : caretPos.text + text;
-		txtarea.focus();
-	} else {
-		//txtarea.value  += text;
-		//txtarea.focus();
-		mozWrap(txtarea, '', text);
-		return;
-	}
-}
-
-
-// D'apres Nicolas Hoizey 
-function barre_tableau(toolbarfield)
-{
-	var txtarea = toolbarfield;
-	txtarea.focus();
-	var cols = prompt("Nombre de colonnes du tableau :", "");
-	var rows = prompt("Nombre de lignes du tableau :", "");
-	if (cols != null && rows != null) {
-		var tbl = '';
-		var ligne = '|';
-		var entete = '|';
-		for(i = 0; i < cols; i++) {
-			ligne = ligne + ' valeur |';
-			entete = entete + ' {{entete}} |';
-		}
-		for (i = 0; i < rows; i++) {
-			tbl = tbl + ligne + '\n';
-		}
-		if (confirm('Voulez vous ajouter une ligne d\'en-t?te ?')) {
-			tbl = entete + '\n' + tbl;
-		}
-		if ((clientVer >= 4) && is_ie && is_win) {
-			var str = document.selection.createRange().text;
-			var sel = document.selection.createRange();
-			sel.text = str + '\n\n' + tbl + '\n\n';
-		} else {
-			mozWrap(txtarea, '', "\n\n" + tbl + "\n\n");
-		}
-	}
-	return;
-}
-
-
-
-// Shows the help messages in the helpline window
-function helpline(help, champ) {
-	champ.value = help;
-}
-
-
-function setCaretToEnd (input) {
-  setSelectionRange(input, input.value.length, input.value.length);
-}
-
-
-function setSelectionRange(input, selectionStart, selectionEnd) {
-  if (input.setSelectionRange) {
-    input.focus();
-    input.setSelectionRange(selectionStart, selectionEnd);
-  }
-  else if (input.createTextRange) {
-    var range = input.createTextRange();
-    range.collapse(true);
-    range.moveEnd('character', selectionEnd);
-    range.moveStart('character', selectionStart);
-    range.select();
-  }
-}
-
-// From http://www.massless.org/mozedit/
-function mozWrap(txtarea, open, close)
-{
-	var selLength = txtarea.textLength;
-	var selStart = txtarea.selectionStart;
-	var selEnd = txtarea.selectionEnd;
-	if (selEnd == 1 || selEnd == 2)
-		selEnd = selLength;
-	
-	// Raccourcir la selection par double-clic si dernier caractere est espace	
-	if (selEnd - selStart > 0 && (txtarea.value).substring(selEnd-1,selEnd) == ' ') selEnd = selEnd-1;
-	
-	var s1 = (txtarea.value).substring(0,selStart);
-	var s2 = (txtarea.value).substring(selStart, selEnd)
-	var s3 = (txtarea.value).substring(selEnd, selLength);
-
-	// Eviter melange bold-italic-intertitre
-	if ((txtarea.value).substring(selEnd,selEnd+1) == '}' && close.substring(0,1) == "}") close = close + " ";
-	if ((txtarea.value).substring(selEnd-1,selEnd) == '}' && close.substring(0,1) == "}") close = " " + close;
-	if ((txtarea.value).substring(selStart-1,selStart) == '{' && open.substring(0,1) == "{") open = " " + open;
-	if ((txtarea.value).substring(selStart,selStart+1) == '{' && open.substring(0,1) == "{") open = open + " ";
-
-	txtarea.value = s1 + open + s2 + close + s3;
-	selDeb = selStart + open.length;
-	selFin = selEnd + close.length;
-	window.setSelectionRange(txtarea, selDeb, selFin);
-	txtarea.focus();
-	
-	return;
-}
-
-// Insert at Claret position. Code from
-// http://www.faqts.com/knowledge_base/view.phtml/aid/1052/fid/130
-     function storeCaret (textEl) {
-       if (textEl.createTextRange) 
-         textEl.caretPos = document.selection.createRange().duplicate();
-     }
-
+// Barre de raccourcis
+// derive du:
+// bbCode control by subBlue design : www.subBlue.com
+
+// Startup variables
+var theSelection = false;
+
+// Check for Browser & Platform for PC & IE specific bits
+// More details from: http://www.mozilla.org/docs/web-developer/sniffer/browser_type.html
+var clientPC = navigator.userAgent.toLowerCase(); // Get client info
+var clientVer = parseInt(navigator.appVersion); // Get browser version
+
+var is_ie = ((clientPC.indexOf("msie") != -1) && (clientPC.indexOf("opera") == -1));
+var is_nav = ((clientPC.indexOf('mozilla')!=-1) && (clientPC.indexOf('spoofer')==-1)
+                && (clientPC.indexOf('compatible') == -1) && (clientPC.indexOf('opera')==-1)
+                && (clientPC.indexOf('webtv')==-1) && (clientPC.indexOf('hotjava')==-1));
+var is_moz = 0;
+
+var is_win = ((clientPC.indexOf("win")!=-1) || (clientPC.indexOf("16bit") != -1));
+var is_mac = (clientPC.indexOf("mac")!=-1);
+
+
+function barre_raccourci(debut,fin,champ) {
+	var txtarea = champ;
+
+	txtarea.focus();
+	donotinsert = false;
+	theSelection = false;
+	bblast = 0;
+
+	if ((clientVer >= 4) && is_ie && is_win)
+	{
+		theSelection = document.selection.createRange().text; // Get text selection
+		if (theSelection) {
+
+			while (theSelection.substring(theSelection.length-1, theSelection.length) == ' ')
+			{
+				theSelection = theSelection.substring(0, theSelection.length-1);
+				fin = fin + " ";
+			}
+			if (theSelection.substring(0,1) == '{' && debut.substring(0,1) == '{')
+			{
+				debut = debut + " ";
+			}
+			if (theSelection.substring(theSelection.length-1, theSelection.length) == '}' && fin.substring(0,1) == '}')
+			{
+				fin = " " + fin;
+			}
+
+			// Add tags around selection
+			document.selection.createRange().text = debut + theSelection + fin;
+			txtarea.focus();
+			theSelection = '';
+			return;
+		}
+	}
+	else if (txtarea.selectionEnd && (txtarea.selectionEnd - txtarea.selectionStart > 0))
+	{
+		mozWrap(txtarea, debut, fin);
+		return;
+	}
+}
+
+function barre_demande(debut,milieu,fin,affich,champ) {
+	var inserer = prompt(affich);
+
+	if (inserer != null) {
+		if (inserer == "") {inserer = "xxx"; }
+
+		barre_raccourci(debut, milieu+inserer+fin, champ);
+	}
+}
+
+function barre_inserer(text,champ) {
+	var txtarea = champ;
+	
+	if (txtarea.createTextRange && txtarea.caretPos) {
+		var caretPos = txtarea.caretPos;
+		caretPos.text = caretPos.text.charAt(caretPos.text.length - 1) == ' ' ? caretPos.text + text + ' ' : caretPos.text + text;
+		txtarea.focus();
+	} else {
+		//txtarea.value  += text;
+		//txtarea.focus();
+		mozWrap(txtarea, '', text);
+		return;
+	}
+}
+
+
+// D'apres Nicolas Hoizey 
+function barre_tableau(toolbarfield)
+{
+	var txtarea = toolbarfield;
+	txtarea.focus();
+	var cols = prompt("Nombre de colonnes du tableau :", "");
+	var rows = prompt("Nombre de lignes du tableau :", "");
+	if (cols != null && rows != null) {
+		var tbl = '';
+		var ligne = '|';
+		var entete = '|';
+		for(i = 0; i < cols; i++) {
+			ligne = ligne + ' valeur |';
+			entete = entete + ' {{entete}} |';
+		}
+		for (i = 0; i < rows; i++) {
+			tbl = tbl + ligne + '\n';
+		}
+		if (confirm('Voulez vous ajouter une ligne d\'en-t?te ?')) {
+			tbl = entete + '\n' + tbl;
+		}
+		if ((clientVer >= 4) && is_ie && is_win) {
+			var str = document.selection.createRange().text;
+			var sel = document.selection.createRange();
+			sel.text = str + '\n\n' + tbl + '\n\n';
+		} else {
+			mozWrap(txtarea, '', "\n\n" + tbl + "\n\n");
+		}
+	}
+	return;
+}
+
+
+
+// Shows the help messages in the helpline window
+function helpline(help, champ) {
+	champ.value = help;
+}
+
+
+function setCaretToEnd (input) {
+  setSelectionRange(input, input.value.length, input.value.length);
+}
+
+
+function setSelectionRange(input, selectionStart, selectionEnd) {
+  if (input.setSelectionRange) {
+    input.focus();
+    input.setSelectionRange(selectionStart, selectionEnd);
+  }
+  else if (input.createTextRange) {
+    var range = input.createTextRange();
+    range.collapse(true);
+    range.moveEnd('character', selectionEnd);
+    range.moveStart('character', selectionStart);
+    range.select();
+  }
+}
+
+// From http://www.massless.org/mozedit/
+function mozWrap(txtarea, open, close)
+{
+	var selLength = txtarea.textLength;
+	var selStart = txtarea.selectionStart;
+	var selEnd = txtarea.selectionEnd;
+	if (selEnd == 1 || selEnd == 2)
+		selEnd = selLength;
+	
+	// Raccourcir la selection par double-clic si dernier caractere est espace	
+	if (selEnd - selStart > 0 && (txtarea.value).substring(selEnd-1,selEnd) == ' ') selEnd = selEnd-1;
+	
+	var s1 = (txtarea.value).substring(0,selStart);
+	var s2 = (txtarea.value).substring(selStart, selEnd)
+	var s3 = (txtarea.value).substring(selEnd, selLength);
+
+	// Eviter melange bold-italic-intertitre
+	if ((txtarea.value).substring(selEnd,selEnd+1) == '}' && close.substring(0,1) == "}") close = close + " ";
+	if ((txtarea.value).substring(selEnd-1,selEnd) == '}' && close.substring(0,1) == "}") close = " " + close;
+	if ((txtarea.value).substring(selStart-1,selStart) == '{' && open.substring(0,1) == "{") open = " " + open;
+	if ((txtarea.value).substring(selStart,selStart+1) == '{' && open.substring(0,1) == "{") open = open + " ";
+
+	txtarea.value = s1 + open + s2 + close + s3;
+	selDeb = selStart + open.length;
+	selFin = selEnd + close.length;
+	window.setSelectionRange(txtarea, selDeb, selFin);
+	txtarea.focus();
+	
+	return;
+}
+
+// Insert at Claret position. Code from
+// http://www.faqts.com/knowledge_base/view.phtml/aid/1052/fid/130
+     function storeCaret (textEl) {
+       if (textEl.createTextRange) 
+         textEl.caretPos = document.selection.createRange().duplicate();
+     }
+

Index: spip_cache.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_cache.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_cache.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_cache.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,20 +1,20 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_admin.php3");
-include_local("inc-cache.php3");
-
-if ($purger_cache == "oui") {
-	if (verifier_action_auteur("purger_cache", $hash, $id_auteur))
-		purger_cache();
-}
-
-if ($purger_squelettes == "oui") {
-	if (verifier_action_auteur("purger_squelettes", $hash, $id_auteur))
-	  purger_squelettes();
-}
-redirige_par_entete($redirect);
-
-?>
+<?php
+
+include ("ecrire/inc_version.php3");
+
+include_ecrire("inc_meta.php3");
+include_ecrire("inc_admin.php3");
+include_local("inc-cache.php3");
+
+if ($purger_cache == "oui") {
+	if (verifier_action_auteur("purger_cache", $hash, $id_auteur))
+		purger_cache();
+}
+
+if ($purger_squelettes == "oui") {
+	if (verifier_action_auteur("purger_squelettes", $hash, $id_auteur))
+	  purger_squelettes();
+}
+redirige_par_entete($redirect);
+
+?>

Index: spip_cal.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_cal.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_cal.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_cal.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,324 +1,324 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-
-include_ecrire("inc_filtres.php3");
-include_ecrire("inc_lang.php3");
-include_ecrire("inc_texte.php3");
-include_ecrire("inc_charsets.php3");
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_admin.php3");
-include_ecrire("inc_acces.php3");
-
-/*
-function ligne_x ($texte) {
-	if (ereg("^BEGIN", $texte)) echo "<br>";
-	echo $texte."<br>";
-}
-*/
-function ligne ($texte) {
-	echo filtrer_ical($texte)."\n";
-}
-
-$nom_site = lire_meta("nom_site");
-$adresse_site = lire_meta("adresse_site");
-
-// securite
-unset($id_utilisateur);
-$id_auteur = intval($id);
-
-// verifier la cle
-if (verifier_low_sec($id_auteur, $cle, 'ical')) {
-	$query = "SELECT * FROM spip_auteurs WHERE id_auteur=$id_auteur";
-	$result = spip_query($query);
-
-	if ($row = spip_fetch_array($result)) {
-		$id_utilisateur=$row['id_auteur'];
-		$nom_utilisateur=$row['nom'];
-		$statut_utilisateur=$row['statut'];
-		$langue_utilisateur=$row['lang'];
-	}
-}
-if (!$id_utilisateur) {
-	echo _T('info_acces_interdit');
-	exit;
-}
-
-lang_select($langue_utilisateur);
-
- at header("content-type:text/calendar; charset=utf-8");
-
-ligne ("BEGIN:VCALENDAR");
-ligne ("CALSCALE:GREGORIAN");
-ligne ("X-WR-CALNAME;VALUE=TEXT:$nom_site / $nom_utilisateur");
-ligne ("X-WR-RELCALID:cal$id_utilisateur @ $adresse_site");
-
-
-// rendez-vous
-$result_messages=spip_query("SELECT messages.* FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE ((lien.id_auteur='$id_utilisateur' AND lien.id_message=messages.id_message) OR messages.type='affich') AND messages.rv='oui' AND messages.statut='publie' GROUP BY messages.id_message ORDER BY messages.date_heure");
-while($row=spip_fetch_array($result_messages)){
-	$id_message=$row['id_message'];
-	$date_heure=$row["date_heure"];
-	$date_heure_fin=$row["date_fin"];
-	//$titre=typo($row["titre"]);
-	$titre = $row["titre"];
-	$texte = $row["texte"];
-	$type=$row["type"];
-
-	if ($type == 'normal') {
-		$le_type = _T('info_message_2');
-		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
-		while($row_auteur=spip_fetch_array($result_auteurs)){
-			$id_auteur=$row_auteur['id_auteur'];
-			$nom_auteur=$row_auteur['nom'];
-			$email = $row_auteur ['email'];
-
-			if ($id_auteur != $id_utilisateur) $titre = $titre." - ".$nom_auteur;
-			
-			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
-			else  ligne ("ATTENDEE:$nom_auteur <$email>");
-		}
-	}
-	else if ($type == 'pb') {
-		$le_type = _T('info_pense_bete');
-	}
-	else if ($type == 'affich') {
-		$le_type = _T('info_annonce');
-		$titre = "[$nom_site] $titre";
-	}
-
-	ligne ("BEGIN:VEVENT");
-	ligne ("SUMMARY:".$titre);
-	ligne ("DESCRIPTION:$texte");
-	ligne ("UID:mess$id_message @ $adresse_site");
-	ligne ("DTSTAMP:".date_ical($date_heure));
-	ligne ("DTSTART:".date_ical($date_heure));
-	if ($date_heure_fin > $date_heure) ligne ("DTEND:".date_ical($date_heure_fin));
-
-	ligne ("CATEGORIES:$le_type");
-	ligne("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
-	
-	ligne ("END:VEVENT");
-	
-}
-
-// todo
-$result_messages=spip_query("SELECT messages.* FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE lien.id_auteur='$id_utilisateur' AND lien.id_message=messages.id_message AND messages.type='pb' AND messages.rv!='oui' AND messages.statut='publie' GROUP BY messages.id_message ORDER BY messages.date_heure");
-while($row=spip_fetch_array($result_messages)){
-	$id_message=$row['id_message'];
-	$date_heure=$row["date_heure"];
-	$titre = $row["titre"];
-	$texte = $row["texte"];
-	$type=$row["type"];
-
-	if ($type == 'normal') {
-		$le_type = _T('info_message_2');
-		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
-		while($row_auteur=spip_fetch_array($result_auteurs)){
-			$id_auteur=$row_auteur['id_auteur'];
-			$nom_auteur=$row_auteur['nom'];
-			$email = $row_auteur ['email'];
-
-			if ($id_auteur != $id_utilisateur) $titre = $titre." - ".$nom_auteur;
-			
-			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
-			else  ligne ("ATTENDEE:$nom_auteur <$email>");
-		}
-	}
-	else if ($type == 'pb') {
-		$le_type = _T('info_pense_bete');
-	}
-	else if ($type == 'affich') {
-		$le_type = _T('info_annonce');
-		$titre = "[$nom_site] $titre";
-	}
-	
-	ligne ("BEGIN:VTODO");
-	ligne ("SUMMARY:".$titre);
-	ligne ("DESCRIPTION:$texte");
-	ligne ("UID:mess$id_message @ $adresse_site");
-	ligne ("DTSTAMP:".date_ical($date_heure));
-	ligne ("DTSTART:".date_ical($date_heure));
-	ligne ("CATEGORIES:$le_type");
-	ligne ("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
-	ligne ("END:VTODO");
-
-}
-
-// Articles et breves proposes
-$titres = Array();
-$result_articles = spip_query("SELECT id_article, titre, date FROM spip_articles WHERE statut = 'prop'");
-while($row=spip_fetch_array($result_articles)){
-	$id_article=$row['id_article'];
-	$titre = supprimer_numero($row['titre']);
-	$titres[] = $titre;
-	$date_heure = $row['date'];
-	$nb_articles ++;
-	ligne ("BEGIN:VEVENT");
-	ligne ("SUMMARY:[$nom_site] $titre ("._T('info_article_propose').")");
-	ligne ("UID:article$id_article @ $adresse_site");
-	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("DTSTART;VALUE=DATE:".date ("Ymd", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("CATEGORIES:"._T('info_article_propose'));
-	ligne("URL:$adresse_site/ecrire/articles.php3?id_article=$id_article");
-	ligne ("END:VEVENT");
-}
-
-$result_articles = spip_query("SELECT id_breve, titre, date_heure FROM spip_breves WHERE statut = 'prop'");
-while($row=spip_fetch_array($result_articles)){
-	$id_breve=$row['id_breve'];
-	$titre = supprimer_numero($row['titre']);
-	$titres[] = $titre;
-	$date_heure = $row['date_heure'];
-	$nb_breves++;
-	ligne ("BEGIN:VEVENT");
-	ligne ("SUMMARY:[$nom_site] $titre ("._T('item_breve_proposee').")");
-	ligne ("UID:breve$id_breve @ $adresse_site");
-	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("DTSTART;VALUE=DATE:".date ("Ymd", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("CATEGORIES:"._T('item_breve_proposee'));
-	ligne ("URL:$adresse_site/ecrire/breves_voir.php3?id_breve=$id_breve");
-	ligne ("END:VEVENT");
-
-}
-
-if ($nb_articles + $nb_breves > 0) {
-	if ($nb_articles > 0) $titre_prop[] = _T('info_articles_proposes').": ".$nb_articles;
-	if ($nb_breves > 0) $titre_prop[] = _T('info_breves_valider').": ".$nb_breves;
-	$titre = join($titre_prop," / ");
-	ligne ("BEGIN:VTODO");
-	ligne ("SUMMARY:[$nom_site] $titre");
-	ligne ("UID:prop @ $adresse_site");
-	$texte = join($titres," / ");
-	ligne ("DESCRIPTION:$texte");
-	
-	$today=getdate(time());
-	$jour = $today["mday"];
-	$mois=$today["mon"];
-	$annee=$today["year"];
-	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
-	ligne ("DTSTART:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
-	ligne ("CATEGORIES:"._T('icone_a_suivre'));
-	ligne ("URL:$adresse_site/ecrire/");
-	ligne ("END:VTODO");
-}
-
-
-// Nouveaux messages
-
-$result_messages = spip_query("SELECT * FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE lien.id_auteur=$id_utilisateur AND vu='non' AND statut='publie' AND type='normal' AND lien.id_message=messages.id_message");
-while($row=spip_fetch_array($result_messages)){
-	$id_message=$row['id_message'];
-	$date_heure=$row["date_heure"];
-	$titre = $row["titre"];
-	$texte = $row["texte"];
-	$type=$row["type"];
-
-	if ($type == 'normal') {
-		$le_type = _T('info_message_2');
-		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
-		while($row_auteur=spip_fetch_array($result_auteurs)){
-			$id_auteur=$row_auteur['id_auteur'];
-			$nom_auteur = $row_auteur['nom'];
-			$email = $row_auteur ['email'];
-
-			if ($id_auteur != $id_utilisateur) $titre = $nom_auteur." - ".$titre;
-			
-			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
-			else  ligne ("ATTENDEE:$nom_auteur <$email>");
-		}
-		$query_forum = "SELECT * FROM spip_forum WHERE statut='perso' AND id_message='$id_message' ORDER BY date_heure DESC LIMIT 0,1";
-		$result_forum = spip_query($query_forum);
-		if ($row_forum = spip_fetch_array($result_forum)) {
-			$date_heure = $row_forum["date_heure"];
-			$texte = $row_forum["texte"];
-			$titre = $row_forum["titre"];
-			$id_auteur = $row_forum["id_auteur"];
-
-			$result_auteurs2 = spip_query("SELECT * FROM spip_auteurs WHERE id_auteur = $id_auteur");
-			if ($row_auteur2 = spip_fetch_array($result_auteurs2)){
-				$nom_auteur = $row_auteur2['nom'];
-				$email = $row_auteur2 ['email'];
-				
-				$titre = $nom_auteur." - ".$titre;
-			}
-		}
-	}
-	else if ($type == 'pb') {
-		$le_type = _T('info_pense_bete');
-	}
-	else if ($type == 'affich') {
-		$le_type = _T('info_annonce');
-		$titre = "[$nom_site] $titre";
-	}
-
-	
-	
-	ligne ("BEGIN:VTODO");
-	ligne ("SUMMARY:".$titre);
-	ligne ("DESCRIPTION:$texte");
-	ligne ("UID:nouv_mess$id_message @ $adresse_site");
-	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("DTSTART:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("CATEGORIES:$le_type");
-	ligne("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
-	ligne ("END:VTODO");
-	
-}
-
-// Messages de forum a valider
-if ($statut_utilisateur == "0minirezo") {
-
-	$query_forum = "SELECT * FROM spip_forum WHERE statut = 'prop'";
-	$result_forum = spip_query($query_forum);
-
-	while($row=spip_fetch_array($result_forum)){
-		$nb_forum ++;
-	
-		$id_forum=$row['id_forum'];
-		$date_heure = $row['date_heure'];
-		$titre = $row['titre'];
-		$texte = $row['texte'];
-		$auteur = $row['auteur'];
-		$email_auteur = $row['email_auteur'];
-		if ($email_auteur) $email_auteur = "<$email_auteur>";
-		
-		ligne ("BEGIN:VEVENT");
-		ligne ("SUMMARY:[$nom_site] $titre "._T('icone_forum_suivi'));
-		ligne ("DESCRIPTION:$texte\r$auteur $email_auteur");
-		ligne ("UID:forum$id_forum @ $adresse_site");
-		ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-		ligne ("DTSTART:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-		ligne ("DTEND:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure)+60,0,mois($date_heure),jour($date_heure),annee($date_heure))));
-		ligne ("CATEGORIES:"._T('icone_forum_suivi'));
-		ligne("URL:$adresse_site/ecrire/controle_forum.php3");
-		ligne ("END:VEVENT");
-
-
-		
-	}
-
-	if ($nb_forum > 0) {
-		ligne ("BEGIN:VTODO");
-		ligne ("SUMMARY:[$nom_site] "._T('icone_forum_suivi').": $nb_forum");
-		ligne ("UID:forum @ $adresse_site");
-		
-		$today=getdate(time());
-		$jour = $today["mday"];
-		$mois=$today["mon"];
-		$annee=$today["year"];
-		ligne ("DTSTAMP:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
-		ligne ("DTSTART:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
-		ligne ("CATEGORIES:"._T('icone_forum_suivi'));
-		ligne("URL:$adresse_site/ecrire/controle_forum.php3");
-		ligne ("END:VTODO");
-	}
-}
-
-
-
-
-ligne ("END:VCALENDAR");
-
-
+<?php
+
+include ("ecrire/inc_version.php3");
+
+include_ecrire("inc_filtres.php3");
+include_ecrire("inc_lang.php3");
+include_ecrire("inc_texte.php3");
+include_ecrire("inc_charsets.php3");
+include_ecrire("inc_meta.php3");
+include_ecrire("inc_admin.php3");
+include_ecrire("inc_acces.php3");
+
+/*
+function ligne_x ($texte) {
+	if (ereg("^BEGIN", $texte)) echo "<br>";
+	echo $texte."<br>";
+}
+*/
+function ligne ($texte) {
+	echo filtrer_ical($texte)."\n";
+}
+
+$nom_site = lire_meta("nom_site");
+$adresse_site = lire_meta("adresse_site");
+
+// securite
+unset($id_utilisateur);
+$id_auteur = intval($id);
+
+// verifier la cle
+if (verifier_low_sec($id_auteur, $cle, 'ical')) {
+	$query = "SELECT * FROM spip_auteurs WHERE id_auteur=$id_auteur";
+	$result = spip_query($query);
+
+	if ($row = spip_fetch_array($result)) {
+		$id_utilisateur=$row['id_auteur'];
+		$nom_utilisateur=$row['nom'];
+		$statut_utilisateur=$row['statut'];
+		$langue_utilisateur=$row['lang'];
+	}
+}
+if (!$id_utilisateur) {
+	echo _T('info_acces_interdit');
+	exit;
+}
+
+lang_select($langue_utilisateur);
+
+ at header("content-type:text/calendar; charset=utf-8");
+
+ligne ("BEGIN:VCALENDAR");
+ligne ("CALSCALE:GREGORIAN");
+ligne ("X-WR-CALNAME;VALUE=TEXT:$nom_site / $nom_utilisateur");
+ligne ("X-WR-RELCALID:cal$id_utilisateur @ $adresse_site");
+
+
+// rendez-vous
+$result_messages=spip_query("SELECT messages.* FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE ((lien.id_auteur='$id_utilisateur' AND lien.id_message=messages.id_message) OR messages.type='affich') AND messages.rv='oui' AND messages.statut='publie' GROUP BY messages.id_message ORDER BY messages.date_heure");
+while($row=spip_fetch_array($result_messages)){
+	$id_message=$row['id_message'];
+	$date_heure=$row["date_heure"];
+	$date_heure_fin=$row["date_fin"];
+	//$titre=typo($row["titre"]);
+	$titre = $row["titre"];
+	$texte = $row["texte"];
+	$type=$row["type"];
+
+	if ($type == 'normal') {
+		$le_type = _T('info_message_2');
+		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
+		while($row_auteur=spip_fetch_array($result_auteurs)){
+			$id_auteur=$row_auteur['id_auteur'];
+			$nom_auteur=$row_auteur['nom'];
+			$email = $row_auteur ['email'];
+
+			if ($id_auteur != $id_utilisateur) $titre = $titre." - ".$nom_auteur;
+			
+			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
+			else  ligne ("ATTENDEE:$nom_auteur <$email>");
+		}
+	}
+	else if ($type == 'pb') {
+		$le_type = _T('info_pense_bete');
+	}
+	else if ($type == 'affich') {
+		$le_type = _T('info_annonce');
+		$titre = "[$nom_site] $titre";
+	}
+
+	ligne ("BEGIN:VEVENT");
+	ligne ("SUMMARY:".$titre);
+	ligne ("DESCRIPTION:$texte");
+	ligne ("UID:mess$id_message @ $adresse_site");
+	ligne ("DTSTAMP:".date_ical($date_heure));
+	ligne ("DTSTART:".date_ical($date_heure));
+	if ($date_heure_fin > $date_heure) ligne ("DTEND:".date_ical($date_heure_fin));
+
+	ligne ("CATEGORIES:$le_type");
+	ligne("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
+	
+	ligne ("END:VEVENT");
+	
+}
+
+// todo
+$result_messages=spip_query("SELECT messages.* FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE lien.id_auteur='$id_utilisateur' AND lien.id_message=messages.id_message AND messages.type='pb' AND messages.rv!='oui' AND messages.statut='publie' GROUP BY messages.id_message ORDER BY messages.date_heure");
+while($row=spip_fetch_array($result_messages)){
+	$id_message=$row['id_message'];
+	$date_heure=$row["date_heure"];
+	$titre = $row["titre"];
+	$texte = $row["texte"];
+	$type=$row["type"];
+
+	if ($type == 'normal') {
+		$le_type = _T('info_message_2');
+		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
+		while($row_auteur=spip_fetch_array($result_auteurs)){
+			$id_auteur=$row_auteur['id_auteur'];
+			$nom_auteur=$row_auteur['nom'];
+			$email = $row_auteur ['email'];
+
+			if ($id_auteur != $id_utilisateur) $titre = $titre." - ".$nom_auteur;
+			
+			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
+			else  ligne ("ATTENDEE:$nom_auteur <$email>");
+		}
+	}
+	else if ($type == 'pb') {
+		$le_type = _T('info_pense_bete');
+	}
+	else if ($type == 'affich') {
+		$le_type = _T('info_annonce');
+		$titre = "[$nom_site] $titre";
+	}
+	
+	ligne ("BEGIN:VTODO");
+	ligne ("SUMMARY:".$titre);
+	ligne ("DESCRIPTION:$texte");
+	ligne ("UID:mess$id_message @ $adresse_site");
+	ligne ("DTSTAMP:".date_ical($date_heure));
+	ligne ("DTSTART:".date_ical($date_heure));
+	ligne ("CATEGORIES:$le_type");
+	ligne ("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
+	ligne ("END:VTODO");
+
+}
+
+// Articles et breves proposes
+$titres = Array();
+$result_articles = spip_query("SELECT id_article, titre, date FROM spip_articles WHERE statut = 'prop'");
+while($row=spip_fetch_array($result_articles)){
+	$id_article=$row['id_article'];
+	$titre = supprimer_numero($row['titre']);
+	$titres[] = $titre;
+	$date_heure = $row['date'];
+	$nb_articles ++;
+	ligne ("BEGIN:VEVENT");
+	ligne ("SUMMARY:[$nom_site] $titre ("._T('info_article_propose').")");
+	ligne ("UID:article$id_article @ $adresse_site");
+	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("DTSTART;VALUE=DATE:".date ("Ymd", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("CATEGORIES:"._T('info_article_propose'));
+	ligne("URL:$adresse_site/ecrire/articles.php3?id_article=$id_article");
+	ligne ("END:VEVENT");
+}
+
+$result_articles = spip_query("SELECT id_breve, titre, date_heure FROM spip_breves WHERE statut = 'prop'");
+while($row=spip_fetch_array($result_articles)){
+	$id_breve=$row['id_breve'];
+	$titre = supprimer_numero($row['titre']);
+	$titres[] = $titre;
+	$date_heure = $row['date_heure'];
+	$nb_breves++;
+	ligne ("BEGIN:VEVENT");
+	ligne ("SUMMARY:[$nom_site] $titre ("._T('item_breve_proposee').")");
+	ligne ("UID:breve$id_breve @ $adresse_site");
+	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("DTSTART;VALUE=DATE:".date ("Ymd", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("CATEGORIES:"._T('item_breve_proposee'));
+	ligne ("URL:$adresse_site/ecrire/breves_voir.php3?id_breve=$id_breve");
+	ligne ("END:VEVENT");
+
+}
+
+if ($nb_articles + $nb_breves > 0) {
+	if ($nb_articles > 0) $titre_prop[] = _T('info_articles_proposes').": ".$nb_articles;
+	if ($nb_breves > 0) $titre_prop[] = _T('info_breves_valider').": ".$nb_breves;
+	$titre = join($titre_prop," / ");
+	ligne ("BEGIN:VTODO");
+	ligne ("SUMMARY:[$nom_site] $titre");
+	ligne ("UID:prop @ $adresse_site");
+	$texte = join($titres," / ");
+	ligne ("DESCRIPTION:$texte");
+	
+	$today=getdate(time());
+	$jour = $today["mday"];
+	$mois=$today["mon"];
+	$annee=$today["year"];
+	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
+	ligne ("DTSTART:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
+	ligne ("CATEGORIES:"._T('icone_a_suivre'));
+	ligne ("URL:$adresse_site/ecrire/");
+	ligne ("END:VTODO");
+}
+
+
+// Nouveaux messages
+
+$result_messages = spip_query("SELECT * FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE lien.id_auteur=$id_utilisateur AND vu='non' AND statut='publie' AND type='normal' AND lien.id_message=messages.id_message");
+while($row=spip_fetch_array($result_messages)){
+	$id_message=$row['id_message'];
+	$date_heure=$row["date_heure"];
+	$titre = $row["titre"];
+	$texte = $row["texte"];
+	$type=$row["type"];
+
+	if ($type == 'normal') {
+		$le_type = _T('info_message_2');
+		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
+		while($row_auteur=spip_fetch_array($result_auteurs)){
+			$id_auteur=$row_auteur['id_auteur'];
+			$nom_auteur = $row_auteur['nom'];
+			$email = $row_auteur ['email'];
+
+			if ($id_auteur != $id_utilisateur) $titre = $nom_auteur." - ".$titre;
+			
+			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
+			else  ligne ("ATTENDEE:$nom_auteur <$email>");
+		}
+		$query_forum = "SELECT * FROM spip_forum WHERE statut='perso' AND id_message='$id_message' ORDER BY date_heure DESC LIMIT 0,1";
+		$result_forum = spip_query($query_forum);
+		if ($row_forum = spip_fetch_array($result_forum)) {
+			$date_heure = $row_forum["date_heure"];
+			$texte = $row_forum["texte"];
+			$titre = $row_forum["titre"];
+			$id_auteur = $row_forum["id_auteur"];
+
+			$result_auteurs2 = spip_query("SELECT * FROM spip_auteurs WHERE id_auteur = $id_auteur");
+			if ($row_auteur2 = spip_fetch_array($result_auteurs2)){
+				$nom_auteur = $row_auteur2['nom'];
+				$email = $row_auteur2 ['email'];
+				
+				$titre = $nom_auteur." - ".$titre;
+			}
+		}
+	}
+	else if ($type == 'pb') {
+		$le_type = _T('info_pense_bete');
+	}
+	else if ($type == 'affich') {
+		$le_type = _T('info_annonce');
+		$titre = "[$nom_site] $titre";
+	}
+
+	
+	
+	ligne ("BEGIN:VTODO");
+	ligne ("SUMMARY:".$titre);
+	ligne ("DESCRIPTION:$texte");
+	ligne ("UID:nouv_mess$id_message @ $adresse_site");
+	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("DTSTART:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("CATEGORIES:$le_type");
+	ligne("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
+	ligne ("END:VTODO");
+	
+}
+
+// Messages de forum a valider
+if ($statut_utilisateur == "0minirezo") {
+
+	$query_forum = "SELECT * FROM spip_forum WHERE statut = 'prop'";
+	$result_forum = spip_query($query_forum);
+
+	while($row=spip_fetch_array($result_forum)){
+		$nb_forum ++;
+	
+		$id_forum=$row['id_forum'];
+		$date_heure = $row['date_heure'];
+		$titre = $row['titre'];
+		$texte = $row['texte'];
+		$auteur = $row['auteur'];
+		$email_auteur = $row['email_auteur'];
+		if ($email_auteur) $email_auteur = "<$email_auteur>";
+		
+		ligne ("BEGIN:VEVENT");
+		ligne ("SUMMARY:[$nom_site] $titre "._T('icone_forum_suivi'));
+		ligne ("DESCRIPTION:$texte\r$auteur $email_auteur");
+		ligne ("UID:forum$id_forum @ $adresse_site");
+		ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+		ligne ("DTSTART:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+		ligne ("DTEND:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure)+60,0,mois($date_heure),jour($date_heure),annee($date_heure))));
+		ligne ("CATEGORIES:"._T('icone_forum_suivi'));
+		ligne("URL:$adresse_site/ecrire/controle_forum.php3");
+		ligne ("END:VEVENT");
+
+
+		
+	}
+
+	if ($nb_forum > 0) {
+		ligne ("BEGIN:VTODO");
+		ligne ("SUMMARY:[$nom_site] "._T('icone_forum_suivi').": $nb_forum");
+		ligne ("UID:forum @ $adresse_site");
+		
+		$today=getdate(time());
+		$jour = $today["mday"];
+		$mois=$today["mon"];
+		$annee=$today["year"];
+		ligne ("DTSTAMP:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
+		ligne ("DTSTART:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
+		ligne ("CATEGORIES:"._T('icone_forum_suivi'));
+		ligne("URL:$adresse_site/ecrire/controle_forum.php3");
+		ligne ("END:VTODO");
+	}
+}
+
+
+
+
+ligne ("END:VCALENDAR");
+
+
 ?>

Index: spip_carto.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_carto.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_carto.php	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_carto.php	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,23 +1,43 @@
-<?php
-include ("ecrire/inc_version.php3");
-include ("ecrire/inc_connect.php3");
-//include ("ecrire/inc_meta.php3");
-//include ("ecrire/inc_session.php3");
-
-include("downloadfile.class.php");
-
-if (isset($_GET["id_carte"]) && !empty($_GET["id_carte"])) 
-{
-	$query="select fichier from spip_documents where id_document=".$_GET["id_carte"];
-		
-	$result = @spip_query($query);
-	if ($result) 
-	{
-		$row = @spip_fetch_array($result); 
-		$downloadfile = new DOWNLOADFILE($row[0],"inline");
-		//si c'est un probleme de document supprim? : "!!!" ... bof !
-		if (!$downloadfile->df_download()) echo "!!!";
-		//else exit();
-	}
-}
+<?php
+include ("ecrire/inc_version.php3");
+include ("ecrire/inc_connect.php3");
+//include ("ecrire/inc_meta.php3");
+//include ("ecrire/inc_session.php3");
+
+include("downloadfile.class.php");
+
+if (isset($_GET["fond_carte"]) && !empty($_GET["fond_carte"])) 
+{
+	$lid_carte=intval($_GET["fond_carte"]);
+	//echo $lid_carte;
+	//exit;
+	if ($lid_carte)
+	{
+		$query="select fichier from spip_documents where id_document=".$lid_carte;
+		
+		$result = @spip_query($query);
+		if ($result) 
+		{
+			$row = @spip_fetch_array($result); 
+			$downloadfile = new DOWNLOADFILE($row[0],"inline");
+			//si c'est un probleme de document supprim? : "!!!" ... bof !
+			$lError="document OK";
+		}
+		else {
+			$downloadfile = new DOWNLOADFILE("ecrire/img_pack/carte-24.png","inline");
+			$lError="pas de document";
+		}
+		if (!$downloadfile->df_download()) echo "!!!".$lError."!!!";
+		//echo "!!!".$lError."!!!";
+			
+	}
+	else {
+		//$downloadfile = new DOWNLOADFILE("/ecrire/img_pack/carte-24.png","inline");
+		//$downloadfile = new DOWNLOADFILE($_GET["fond_carte"],"inline");
+		redirige_par_entete($_GET["fond_carte"]);
+		$lError="chemin";
+	}
+	//if (!$downloadfile->df_download()) echo "!!!".$lError."!!!";
+	//else exit();
+}
 ?>

Index: spip_cookie.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_cookie.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_cookie.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_cookie.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,216 +1,238 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-include_ecrire ("inc_session.php3");
-
-// gerer l'auth http
-function auth_http($url, $essai_auth_http) {
-	if ($essai_auth_http == 'oui') {
-		if (!verifier_php_auth()) {
-		  $url = quote_amp(urlencode($url));
-		  ask_php_auth(_T('login_connexion_refusee'),_T('login_login_pass_incorrect'),_T('login_retour_site'), "url=$url",_T('login_nouvelle_tentative'), (ereg(_DIR_RESTREINT_ABS, $url)));
-		  exit;
-		}
-		else
-			redirige_par_entete($url);
-	}
-	// si demande logout auth_http
-	else if ($essai_auth_http == 'logout') {
-		ask_php_auth(_T('login_deconnexion_ok'),_T('login_verifiez_navigateur'),_T('login_retour_public'),"redirect=ecrire",_T('login_test_navigateur'), true);
-		exit;
-	}
-}
-
-// rejoue le cookie pour renouveler spip_session
-if ($change_session == 'oui') {
-	if (verifier_session($spip_session)) {
-		// Attention : seul celui qui a le bon IP a le droit de rejouer,
-		// ainsi un eventuel voleur de cookie ne pourrait pas deconnecter
-		// sa victime, mais se ferait deconnecter par elle.
-		if ($auteur_session['hash_env'] == hash_env()) {
-			$auteur_session['ip_change'] = false;
-			$cookie = creer_cookie_session($auteur_session);
-			supprimer_session($spip_session);
-			spip_setcookie('spip_session', $cookie);
-		}
-		@header('Content-Type: image/gif');
-		@header('Expires: 0');
-		@header("Cache-Control: no-store, no-cache, must-revalidate");
-		@header('Pragma: no-cache');
-		@header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
-		@readfile(_DIR_IMG_PACK . 'rien.gif');
-		exit;
-	}
-}
-#spip_log("cookie: $url");
-
-if ($url)  $url = urldecode($url);
-
-// tentative de connexion en auth_http
-if ($essai_auth_http AND !$ignore_auth_http) {
-	auth_http(($url ? $url : _DIR_RESTREINT_ABS), $essai_auth_http);
-	exit;
-}
-
-// cas particulier, logout dans l'espace public
-if ($logout_public) {
-	$logout = $logout_public;
-	if (!$url)
-		$url = 'index.php3';
-}
-// tentative de logout
-if ($logout) {
-	verifier_visiteur();
-	if ($auteur_session['login'] == $logout) {
-		spip_query("UPDATE spip_auteurs SET en_ligne = DATE_SUB(NOW(),INTERVAL 6 MINUTE) WHERE id_auteur = ".$auteur_session['id_auteur']);
-		if ($spip_session) {
-			zap_sessions($auteur_session['id_auteur'], true);
-			spip_setcookie('spip_session', $spip_session, time() - 3600 * 24);
-		}
-		if ($PHP_AUTH_USER AND !$ignore_auth_http) {
-			auth_http(($url ? $url : _DIR_RESTREINT_ABS), 'logout');
-		}
-		unset ($auteur_session);
-	}
-
-	redirige_par_entete($url ? $url : "spip_login.php3");
-}
-
-// en cas de login sur bonjour=oui, on tente de poser un cookie
-// puis de passer a spip_login qui diagnostiquera l'echec de cookie
-// le cas echeant.
-if ($test_echec_cookie == 'oui') {
-	spip_setcookie('spip_session', 'test_echec_cookie');
-	redirige_par_entete("spip_login.php3?var_echec_cookie=oui&url=" .
-			    ($url ? $url : _DIR_RESTREINT_ABS));
-}
-
-// Tentative de login
-unset ($cookie_session);
-$redirect = ($url ? $url : _DIR_RESTREINT_ABS);
-if ($essai_login == "oui") {
-	// Recuperer le login en champ hidden
-	if ($session_login_hidden AND !$session_login)
-		$session_login = $session_login_hidden;
-
-	$login = $session_login;
-	$pass = $session_password;
-
-	// Essayer differentes methodes d'authentification
-	$auths = array('spip');
-	include_local(_FILE_CONNECT); // pour savoir si ldap est present 
-	if ($ldap_present) $auths[] = 'ldap';
-	$ok = false;
-	reset($auths);
-	while (list(, $nom_auth) = each($auths)) {
-		include_ecrire("inc_auth_".$nom_auth.".php3");
-		$classe_auth = "Auth_".$nom_auth;
-		$auth = new $classe_auth;
-		if ($auth->init()) {
-			// Essayer les mots de passe md5
-			$ok = $auth->verifier_challenge_md5($login, $session_password_md5, $next_session_password_md5);
-			// Sinon essayer avec le mot de passe en clair
-			if (!$ok && $session_password) $ok = $auth->verifier($login, $session_password);
-			if ($ok)  { $auth->lire(); break; }
-		}
-	}
-
-	if ($ok) {
-		$auth->activer();
-
-		if ($auth->login AND $auth->statut == '0minirezo') // force le cookie pour les admins
-			$cookie_admin = "@".$auth->login;
-
-		$query = "SELECT * FROM spip_auteurs WHERE login='".addslashes($auth->login)."'";
-		$result = spip_query($query);
-		if ($row_auteur = spip_fetch_array($result))
-			$cookie_session = creer_cookie_session($row_auteur);
-
-		if (ereg(_DIR_RESTREINT_ABS, $redirect)) {
-		      $redirect .= (strpos($redirect, "?") ? "&" : "?") . 'bonjour=oui';
-		}
-	}
-	else {
-		if (ereg(_DIR_RESTREINT_ABS, $redirect)) {
-			$redirect = "spip_login.php3";
-		}
-		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=$login";
-		if ($session_password || $session_password_md5)
-			$redirect .= '&var_erreur=pass';
-		$redirect .= '&url=' . urlencode($url);
-	}
- }
-
-// cookie d'admin ?
-if ($cookie_admin == "non") {
-	spip_setcookie('spip_admin', $spip_admin, time() - 3600 * 24);
-	$redirect = ereg_replace("[?&]var_login=[^&]*", '', $redirect);
-	$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=-1";
-}
-else if ($cookie_admin AND $spip_admin != $cookie_admin) {
-	spip_setcookie('spip_admin', $cookie_admin, time() + 3600 * 24 * 14);
-}
-
-// cookie de session ?
-if ($cookie_session) {
-	if ($session_remember == 'oui')
-		spip_setcookie('spip_session', $cookie_session, time() + 3600 * 24 * 14);
-	else
-		spip_setcookie('spip_session', $cookie_session);
-
-	$prefs = ($row_auteur['prefs']) ? unserialize($row_auteur['prefs']) : array();
-	$prefs['cnx'] = ($session_remember == 'oui') ? 'perma' : '';
-	spip_query ("UPDATE spip_auteurs SET prefs = '".addslashes(serialize($prefs))."' WHERE id_auteur = ".$row_auteur['id_auteur']);
-
-}
-
-// changement de langue espace public
-if ($var_lang) {
-	include_ecrire('inc_lang.php3');
-
-	if (changer_langue($var_lang)) {
-		spip_setcookie('spip_lang', $var_lang, time() + 365 * 24 * 3600);
-		$redirect = ereg_replace("[?&]lang=[^&]*", '', $redirect);
-		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "lang=$var_lang";
-	}
-}
-
-// changer de langue espace prive (ou login)
-if ($var_lang_ecrire) {
-	include_ecrire('inc_lang.php3');
-	verifier_visiteur();
-
-	if (changer_langue($var_lang_ecrire)) {
-		spip_setcookie('spip_lang_ecrire', $var_lang_ecrire, time() + 365 * 24 * 3600);
-		spip_setcookie('spip_lang', $var_lang_ecrire, time() + 365 * 24 * 3600);
-
-		if (_FILE_CONNECT) {
-			include_ecrire('inc_admin.php3');
-			if (verifier_action_auteur('var_lang_ecrire', $valeur, $id_auteur)) {
-				spip_query ("UPDATE spip_auteurs SET lang = '".addslashes($var_lang_ecrire)."' WHERE id_auteur = ".$id_auteur);
-				$auteur_session['lang'] = $var_lang_ecrire;
-				ajouter_session($auteur_session, $spip_session);	// enregistrer dans le fichier de session
-			}
-		}
-
-		$redirect = ereg_replace("[?&]lang=[^&]*", '', $redirect);
-		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "lang=$var_lang_ecrire";
-	}
-}
-
-// Redirection
-// Sous Apache, les cookies avec une redirection fonctionnent
-// Sinon, on fait un refresh HTTP
-
-if (ereg("^Apache", $SERVER_SOFTWARE)) {
-	redirige_par_entete($redirect);
-}
-else {
-	@header("Refresh: 0; url=" . $redirect);
-	echo "<html><head>";
-	echo "<meta http-equiv='Refresh' content='0; url=".$redirect."'>";
-	echo "</head>\n";
-	echo "<body><a href='".$redirect."'>"._T('navigateur_pas_redirige')."</a></body></html>";
-}
-
-?>
+<?php
+
+include ("ecrire/inc_version.php3");
+include_ecrire ("inc_session.php3");
+
+
+// gerer l'auth http
+function auth_http($url, $essai_auth_http) {
+	global $_SERVER;
+	if ($essai_auth_http == 'oui') {
+		if (verifier_php_auth())
+			redirige_par_entete($url);
+		else {
+			$url = quote_amp(urlencode($url));
+			ask_php_auth(_T('login_connexion_refusee'),
+			_T('login_login_pass_incorrect'), _T('login_retour_site'),
+			"url=$url", _T('login_nouvelle_tentative'),
+			(ereg(_DIR_RESTREINT_ABS, $url)));
+			exit;
+		}
+	}
+	// si demande logout auth_http
+	else if ($essai_auth_http == 'logout') {
+		ask_php_auth(_T('login_deconnexion_ok'),
+		_T('login_verifiez_navigateur'), _T('login_retour_public'),
+		"redirect="._DIR_RESTREINT_ABS, _T('login_test_navigateur'), true);
+		exit;
+	}
+}
+
+// rejoue le cookie pour renouveler spip_session
+if ($change_session == 'oui') {
+	if (verifier_session($spip_session)) {
+		// Attention : seul celui qui a le bon IP a le droit de rejouer,
+		// ainsi un eventuel voleur de cookie ne pourrait pas deconnecter
+		// sa victime, mais se ferait deconnecter par elle.
+		if ($auteur_session['hash_env'] == hash_env()) {
+			$auteur_session['ip_change'] = false;
+			$cookie = creer_cookie_session($auteur_session);
+			supprimer_session($spip_session);
+			spip_setcookie('spip_session', $cookie);
+		}
+		@header('Content-Type: image/gif');
+		@header('Expires: 0');
+		@header("Cache-Control: no-store, no-cache, must-revalidate");
+		@header('Pragma: no-cache');
+		@header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
+		@readfile(_DIR_IMG_PACK . 'rien.gif');
+		exit;
+	}
+}
+
+if ($url)  $url = urldecode($url);
+
+// tentative de connexion en auth_http
+if ($essai_auth_http AND !$ignore_auth_http) {
+	auth_http(($url ? $url : _DIR_RESTREINT_ABS), $essai_auth_http);
+	exit;
+}
+
+// cas particulier, logout dans l'espace public
+if ($logout_public) {
+	$logout = $logout_public;
+	if (!$url)
+		$url = 'index.php3';
+}
+// tentative de logout
+if ($logout) {
+	verifier_visiteur();
+	if ($auteur_session['login'] == $logout) {
+		spip_query("UPDATE spip_auteurs SET en_ligne = DATE_SUB(NOW(),INTERVAL 6 MINUTE) WHERE id_auteur = ".$auteur_session['id_auteur']);
+		if ($spip_session) {
+			zap_sessions($auteur_session['id_auteur'], true);
+			spip_setcookie('spip_session', $spip_session, time() - 3600 * 24);
+		}
+		
+		if ($_SERVER['PHP_AUTH_USER']
+		AND !$ignore_auth_http
+		AND verifier_php_auth()) {
+			auth_http(($url ? $url : _DIR_RESTREINT_ABS), 'logout');
+		}
+		unset ($auteur_session);
+	}
+
+	redirige_par_entete($url ? $url :
+			    ("spip_login.php3?url=$url&inscription=" .
+			     ((lire_meta("accepter_inscriptions") == "oui")?
+			      'spip_inscription.php3' : '')));
+}
+
+// en cas de login sur bonjour=oui, on tente de poser un cookie
+// puis de passer a spip_login qui diagnostiquera l'echec de cookie
+// le cas echeant.
+if ($test_echec_cookie == 'oui') {
+	spip_setcookie('spip_session', 'test_echec_cookie');
+	redirige_par_entete("spip_login.php3?var_echec_cookie=oui&url=" .
+			    ($url ? $url : _DIR_RESTREINT_ABS) .
+			    "&inscription=" .
+			     ((lire_meta("accepter_inscriptions") == "oui")?
+			      'spip_inscription.php3' : ''));
+}
+
+// Tentative de login
+unset ($cookie_session);
+$redirect = ($url ? $url : _DIR_RESTREINT_ABS);
+if ($essai_login == "oui") {
+	// Recuperer le login en champ hidden
+	if ($session_login_hidden AND !$session_login)
+		$session_login = $session_login_hidden;
+
+	$login = $session_login;
+	$pass = $session_password;
+
+	// Essayer differentes methodes d'authentification
+	$auths = array('spip');
+	include_local(_FILE_CONNECT); // pour savoir si ldap est present 
+	if ($ldap_present) $auths[] = 'ldap';
+	$ok = false;
+	reset($auths);
+	while (list(, $nom_auth) = each($auths)) {
+		include_ecrire("inc_auth_".$nom_auth.".php3");
+		$classe_auth = "Auth_".$nom_auth;
+		$auth = new $classe_auth;
+		if ($auth->init()) {
+			// Essayer les mots de passe md5
+			$ok = $auth->verifier_challenge_md5($login, $session_password_md5, $next_session_password_md5);
+			// Sinon essayer avec le mot de passe en clair
+			if (!$ok && $session_password) $ok = $auth->verifier($login, $session_password);
+			if ($ok)  { $auth->lire(); break; }
+		}
+	}
+
+	if ($ok) {
+		$auth->activer();
+
+		if ($auth->login AND $auth->statut == '0minirezo') // force le cookie pour les admins
+			$cookie_admin = "@".$auth->login;
+
+		$query = "SELECT * FROM spip_auteurs WHERE login='".addslashes($auth->login)."'";
+		$result = spip_query($query);
+		if ($row_auteur = spip_fetch_array($result))
+			$cookie_session = creer_cookie_session($row_auteur);
+
+		if (ereg(_DIR_RESTREINT_ABS, $redirect)) {
+		      $redirect .= (strpos($redirect, "?") ? "&" : "?") . 'bonjour=oui';
+		}
+	}
+	else {
+		if (ereg(_DIR_RESTREINT_ABS, $redirect)) {
+			$redirect = "spip_login.php3?inscription=" .
+			     ((lire_meta("accepter_inscriptions") == "oui")?
+			      'spip_inscription.php3' : '');
+		}
+		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=$login";
+		if ($session_password || $session_password_md5)
+			$redirect .= '&var_erreur=pass';
+		$redirect .= '&url=' . urlencode($url);
+	}
+ }
+
+// cookie d'admin ?
+if ($cookie_admin == "non") {
+	if (!$retour)
+	  $retour = 'spip_login.php3?var_url='.urlencode($url) .
+	     "&inscription="  .
+	    ((lire_meta("accepter_inscriptions") == "oui")? 'spip_inscription.php3' : '');
+
+	spip_setcookie('spip_admin', $spip_admin, time() - 3600 * 24);
+	$redirect = ereg_replace("[?&]var_login=[^&]*", '', $retour);
+	$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=-1";
+}
+else if ($cookie_admin AND $spip_admin != $cookie_admin) {
+	spip_setcookie('spip_admin', $cookie_admin, time() + 3600 * 24 * 14);
+}
+
+// cookie de session ?
+if ($cookie_session) {
+	if ($session_remember == 'oui')
+		spip_setcookie('spip_session', $cookie_session, time() + 3600 * 24 * 14);
+	else
+		spip_setcookie('spip_session', $cookie_session);
+
+	$prefs = ($row_auteur['prefs']) ? unserialize($row_auteur['prefs']) : array();
+	$prefs['cnx'] = ($session_remember == 'oui') ? 'perma' : '';
+	spip_query ("UPDATE spip_auteurs SET prefs = '".addslashes(serialize($prefs))."' WHERE id_auteur = ".$row_auteur['id_auteur']);
+
+}
+
+// changement de langue espace public
+if ($var_lang) {
+	include_ecrire('inc_lang.php3');
+
+	if (changer_langue($var_lang)) {
+		spip_setcookie('spip_lang', $var_lang, time() + 365 * 24 * 3600);
+		$redirect = ereg_replace("[?&]lang=[^&]*", '', $redirect);
+		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "lang=$var_lang";
+	}
+}
+
+// changer de langue espace prive (ou login)
+if ($var_lang_ecrire) {
+	include_ecrire('inc_lang.php3');
+	verifier_visiteur();
+
+	if (changer_langue($var_lang_ecrire)) {
+		spip_setcookie('spip_lang_ecrire', $var_lang_ecrire, time() + 365 * 24 * 3600);
+		spip_setcookie('spip_lang', $var_lang_ecrire, time() + 365 * 24 * 3600);
+
+		if (_FILE_CONNECT) {
+			include_ecrire('inc_admin.php3');
+			if (verifier_action_auteur('var_lang_ecrire', $valeur, $id_auteur)) {
+				spip_query ("UPDATE spip_auteurs SET lang = '".addslashes($var_lang_ecrire)."' WHERE id_auteur = ".$id_auteur);
+				$auteur_session['lang'] = $var_lang_ecrire;
+				ajouter_session($auteur_session, $spip_session);	// enregistrer dans le fichier de session
+			}
+		}
+
+		$redirect = ereg_replace("[?&]lang=[^&]*", '', $redirect);
+		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "lang=$var_lang_ecrire";
+	}
+}
+
+// Redirection
+// Sous Apache, les cookies avec une redirection fonctionnent
+// Sinon, on fait un refresh HTTP
+
+if (ereg("^Apache", $SERVER_SOFTWARE)) {
+	redirige_par_entete($redirect);
+}
+else {
+	@header("Refresh: 0; url=" . $redirect);
+	echo "<html><head>";
+	echo "<meta http-equiv='Refresh' content='0; url=".$redirect."'>";
+	echo "</head>\n";
+	echo "<body><a href='".$redirect."'>"._T('navigateur_pas_redirige')."</a></body></html>";
+}
+
+?>

Index: spip_image.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_image.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_image.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_image.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,443 +1,247 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-include_ecrire("inc_charsets.php3");
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_admin.php3");
-include_ecrire("inc_abstract_sql.php3");
-
-function effacer_image($nom) {
-	global $hash_id_auteur, $hash;
-
-	if ((!strstr($nom, "..")) AND
-	    verifier_action_auteur("supp_image $nom", $hash, $hash_id_auteur))
-		@unlink(_DIR_IMG . $nom);
-}
-
-function tester_vignette ($test_vignette) {
-	global $djpeg_command, $cjpeg_command, $pnmscale_command;
-	// verifier les formats acceptes par GD
-	if ($test_vignette == "gd1") {
-		$gd_formats = Array();
-		if (function_exists('ImageCreateFromJPEG')) {
-			$srcImage = @ImageCreateFromJPEG(_DIR_IMG . "test.jpg");
-			if ($srcImage) {
-				$gd_formats[] = "jpg";
-				ImageDestroy( $srcImage );
-			}
-		}
-		if (function_exists('ImageCreateFromGIF')) {
-			$srcImage = @ImageCreateFromGIF(_DIR_IMG . "test.gif");
-			if ($srcImage) {
-				$gd_formats[] = "gif";
-				ImageDestroy( $srcImage );
-			}
-		}
-		if (function_exists('ImageCreateFromPNG')) {
-			$srcImage = @ImageCreateFromPNG(_DIR_IMG . "test.png");
-			if ($srcImage) {
-				$gd_formats[] = "png";
-				ImageDestroy( $srcImage );
-			}
-		}
-
-		if ($gd_formats) $gd_formats = join(",", $gd_formats);
-		ecrire_meta("gd_formats", $gd_formats);
-		ecrire_metas();
-	}
-	// verifier les formats netpbm
-	else if ($test_vignette == "netpbm") {
-		$netpbm_formats= Array();
-
-		$jpegtopnm_command = ereg_replace("pnmscale", "jpegtopnm", $pnmscale_command);
-		$pnmtojpeg_command = ereg_replace("pnmscale", "pnmtojpeg", $pnmscale_command);
-
-		$vignette = _DIR_IMG . "test.jpg";
-		$dest = _DIR_IMG . "test-jpg.jpg";
-		exec("$jpegtopnm_command $vignette | $pnmscale_command -width 10 | $pnmtojpeg_command > $dest");
-		if ($taille = @getimagesize($dest)) {
-			if ($taille[1] == 10) $netpbm_formats[] = "jpg";
-		}	
-		
-		$giftopnm_command = ereg_replace("pnmscale", "giftopnm", $pnmscale_command);
-		$pnmtojpeg_command = ereg_replace("pnmscale", "pnmtojpeg", $pnmscale_command);
-		$vignette = _DIR_IMG . "test.gif";
-		$dest = _DIR_IMG . "test-gif.jpg";
-		exec("$giftopnm_command $vignette | $pnmscale_command -width 10 | $pnmtojpeg_command > $dest");
-		if ($taille = @getimagesize($dest)) {
-			if ($taille[1] == 10) $netpbm_formats[] = "gif";
-		}
-
-		$pngtopnm_command = ereg_replace("pnmscale", "pngtopnm", $pnmscale_command);
-		$vignette = _DIR_IMG . "test.png";
-		$dest = _DIR_IMG . "test-gif.jpg";
-		exec("$pngtopnm_command $vignette | $pnmscale_command -width 10 | $cjpeg_command -outfile $dest");
-		if ($taille = @getimagesize($dest)) {
-			if ($taille[1] == 10) $netpbm_formats[] = "png";
-		}
-		
-
-		if ($netpbm_formats) $netpbm_formats = join(",", $netpbm_formats);
-		ecrire_meta("netpbm_formats", $netpbm_formats);
-		ecrire_metas();
-	}
-
-	// et maintenant envoyer la vignette de tests
-	if (ereg("^(gd1|gd2|imagick|convert|netpbm)$", $test_vignette)) {
-		include_ecrire('inc_logos.php3');
-		//$taille_preview = lire_meta("taille_preview");
-		if ($taille_preview < 10) $taille_preview = 120;
-		if ($preview = creer_vignette(_DIR_IMG . 'test_image.jpg', $taille_preview, $taille_preview, 'jpg', '', "test_$test_vignette", $test_vignette, true))
-
-			return ($preview['fichier']);
-	}
-	return '';
-}
-
-
-//
-// Deplacer un fichier
-//
-
-function deplacer_fichier_upload($source, $dest) {
-	// Securite
-	if (strstr($dest, "..")) {
-		exit;
-	}
-
-	$ok = @copy($source, $dest);
-	if (!$ok) $ok = @move_uploaded_file($source, $dest);
-	if ($ok)
-		@chmod($dest, 0666);
-	else {
-		$f = @fopen($dest,'w');
-		if ($f)
-			fclose ($f);
-		else {
-			redirige_par_entete("spip_test_dirs.php3?test_dir=".
-					    dirname($dest));
-		}
-		@unlink($dest);
-
-		if (($GLOBALS['_FILES']['size'] == 0) AND !$GLOBALS['action_zip']) {
-			include_ecrire('inc_presentation.php3');
-			install_debut_html(_T('forum_titre_erreur'));
-			echo "<p>"._T('upload_limit',
-				array('max' => ini_get('upload_max_filesize')));
-			install_fin_html();
-			exit;
-		}
-	}
-
-	return $ok;
-}
-
-
-//
-// Convertit le type numerique retourne par getimagesize() en extension fichier
-//
-
-function decoder_type_image($type, $strict = false) {
-	switch ($type) {
-	case 1:
-		return "gif";
-	case 2:
-		return "jpg";
-	case 3:
-		return "png";
-	case 4:
-		return $strict ? "" : "swf";
-	case 5:
-		return "psd";
-	case 6:
-		return "bmp";
-	case 7:
-	case 8:
-		return "tif";
-	default:
-		return "";
-	}
-}
-
-
-//
-// Corrige l'extension du fichier dans quelques cas particuliers
-//
-
-function corriger_extension($ext) {
-	switch ($ext) {
-	case 'htm':
-		return 'html';
-	case 'jpeg':
-		return 'jpg';
-	case 'tiff':
-		return 'tif';
-	default:
-		return $ext;
-	}
-}
-
-
-//
-// Ajouter une image (logo)
-//
-
-function ajout_image($source, $dest) {
-	global $redirect_url, $hash_id_auteur, $hash, $num_img, $dossier_squelettes;
-
-	// Securite
-	if (!(verifier_action_auteur("ajout_image $dest", $hash, $hash_id_auteur)
-	      AND _DIR_DOC != $dossier_squelettes)) {
-	  spip_log("interdiction ajout_image($source, $dest)");
-	  return;
-	}
-
-	// analyse le type de l'image (on ne fait pas confiance au nom de
-	// fichier envoye par le browser : pour les Macs c'est plus sur)
-
-	$f =_DIR_DOC . $dest . '.tmp';
-	deplacer_fichier_upload($source, $f);
-	$size = @getimagesize($f);
-	$type = decoder_type_image($size[2], true);
-	if ($type)
-		@rename ($f, _DIR_DOC . $dest . ".$type");
-	else
-		@unlink ($f);
-}
-
-//
-// Faire tourner une image
-//
-
-//$imagePath - path to your image; function will save rotated image overwriting the old one
-//$rtt - should be 90 or -90 - cw/ccw
-function gdRotate($imagePath,$rtt){
-	if(preg_match("/\.(png)/i", $imagePath)) $src_img=ImageCreateFromPNG($imagePath);
-	elseif(preg_match("/\.(jpg)/i", $imagePath)) $src_img=ImageCreateFromJPEG($imagePath);
-	elseif(preg_match("/\.(bmp)/i", $imagePath)) $src_img=ImageCreateFromWBMP($imagePath);
-	$size=@getimagesize($imagePath);
-	//note: to make it work on GD 2.xx properly change ImageCreate to ImageCreateTrueColor
-
-	$process = lire_meta('image_process');
-	if ($process == "gd2") $dst_img=ImageCreateTrueColor($size[1],$size[0]);
-	else  $dst_img=ImageCreate($size[1],$size[0]);
-	if($rtt==90){
-		$t=0;
-		$b=$size[1]-1;
-		while($t<=$b){
-			$l=0;
-			$r=$size[0]-1;
-			while($l<=$r){
-				imagecopy($dst_img,$src_img,$t,$r,$r,$b,1,1);
-				imagecopy($dst_img,$src_img,$t,$l,$l,$b,1,1);
-				imagecopy($dst_img,$src_img,$b,$r,$r,$t,1,1);
-				imagecopy($dst_img,$src_img,$b,$l,$l,$t,1,1);
-				$l++;
-				$r--;
-			}
-			$t++;
-			$b--;
-		}
-	}
-	elseif($rtt==-90){
-		$t=0;
-		$b=$size[1]-1;
-		while($t<=$b){
-			$l=0;
-			$r=$size[0]-1;
-			while($l<=$r){
-				imagecopy($dst_img,$src_img,$t,$l,$r,$t,1,1);
-				imagecopy($dst_img,$src_img,$t,$r,$l,$t,1,1);
-				imagecopy($dst_img,$src_img,$b,$l,$r,$b,1,1);
-				imagecopy($dst_img,$src_img,$b,$r,$l,$b,1,1);
-				$l++;
-				$r--;
-			}
-			$t++;
-			$b--;
-		}
-	}
-	ImageDestroy($src_img);
-	ImageInterlace($dst_img,0);
-	ImageJPEG($dst_img,$imagePath);
-}
-
-//
-// Creation automatique de vignette new style
-// Normalement le test est v?rifi? donc on ne rend rien sinon
-
-function creer_fichier_vignette($vignette) {
-	if ($vignette && lire_meta("creer_preview") == 'oui') {
-		eregi('\.([a-z0-9]+)$', $vignette, $regs);
-		$ext = $regs[1];
-		$taille_preview = lire_meta("taille_preview");
-		if ($taille_preview < 10) $taille_preview = 120;
-		include_ecrire('inc_logos.php3');
-
-		if ($preview = creer_vignette($vignette, $taille_preview, $taille_preview, $ext, 'vignettes', basename($vignette).'-s'))
-		{
-			inserer_vignette_base($vignette, $preview['fichier']);
-			return $preview['fichier'];
-		}
-		include_ecrire('inc_documents.php3');
-		return vignette_par_defaut($ext ? $ext : 'txt', false);
-	}
-}
-
-function supprime_document_et_vignette($doc_supp) {
-	global $hash_id_auteur, $hash;
-	// Securite
-	if (verifier_action_auteur("supp_doc $doc_supp", $hash, $hash_id_auteur)) {
-		$query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$doc_supp";
-		$result = spip_query($query);
-		if ($row = spip_fetch_array($result)) {
-			$fichier = $row['fichier'];
-			$id_vignette = $row['id_vignette'];
-			spip_query("DELETE FROM spip_documents WHERE id_document=$doc_supp");
-			spip_query("UPDATE spip_documents SET id_vignette=0 WHERE id_vignette=$doc_supp");
-			spip_query("DELETE FROM spip_documents_articles WHERE id_document=$doc_supp");
-			spip_query("DELETE FROM spip_documents_rubriques WHERE id_document=$doc_supp");
-			spip_query("DELETE FROM spip_documents_breves WHERE id_document=$doc_supp");
-			@unlink($fichier);
-			
-			if ($id_vignette > 0) {
-			  $query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$id_vignette";
-			  $result = spip_query($query);
-			  if ($row = spip_fetch_array($result)) {
-			    $fichier = $row['fichier'];
-			    @unlink($fichier);
-			  }
-			  spip_query("DELETE FROM spip_documents WHERE id_document=$id_vignette");
-			  spip_query("DELETE FROM spip_documents_articles WHERE id_document=$id_vignette");
-			  spip_query("DELETE FROM spip_documents_rubriques WHERE id_document=$id_vignette");
-			  spip_query("DELETE FROM spip_documents_breves WHERE id_document=$id_vignette");
-			}
-		}
-	}
-}
-
-function tourner_document($var_rot, $doc_rotate, $convert_command) {
-	global $hash_id_auteur, $hash;
-	// Securite
-	if (!verifier_action_auteur("rotate $doc_rotate", $hash, $hash_id_auteur)) {
-		return '';
-	}
-	
-	if (!$var_rot) $var_rot = 0;
-
-	$query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$doc_rotate";
-	$result = spip_query($query);
-	if ($row = spip_fetch_array($result)) {
-		$id_vignette = $row['id_vignette'];
-		$image = $row['fichier'];
-
-		$process = lire_meta('image_process');
-
-		 // imagick (php4-imagemagick)
-		 if ($process == 'imagick') {
-			$handle = imagick_readimage($image);
-			imagick_rotate($handle, $var_rot);
-			imagick_write($handle, $image);
-			if (!@file_exists($image)) return;	// echec imagick
-		}
-		else if ($process == "gd2") { // theoriquement compatible gd1, mais trop forte degradation d'image
-			if ($var_rot == 180) { // 180 = 90+90
-				gdRotate ($image, 90);
-				gdRotate ($image, 90);
-			} else {
-				gdRotate ($image, $var_rot);
-			}
-		}
-		else if ($process = "convert") {
-			$commande = "$convert_command -rotate $var_rot ./"
-				. escapeshellcmd($image).' ./'.escapeshellcmd($image);
-#			spip_log($commande);
-			exec($commande);
-		}
-
-		$size_image = @getimagesize($image);
-		$largeur = $size_image[0];
-		$hauteur = $size_image[1];
-
-		if ($id_vignette > 0) {
-			creer_fichier_vignette($image);
-/*			$query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$id_vignette";
-			$result = spip_query($query);
-			if ($row = spip_fetch_array($result)) {
-				$fichier = $row['fichier'];
-				@unlink($fichier);
-			}
-			spip_query("DELETE FROM spip_documents WHERE id_document=$id_vignette");
-			spip_query("DELETE FROM spip_documents_articles WHERE id_document=$id_vignette");
-			spip_query("DELETE FROM spip_documents_rubriques WHERE id_document=$id_vignette");
-			spip_query("DELETE FROM spip_documents_breves WHERE id_document=$id_vignette");
-*/		}
-
-
-		spip_query("UPDATE spip_documents SET largeur=$largeur, hauteur=$hauteur WHERE id_document=$doc_rotate");
-
-	}
-}
-
-if ($test_vignette) // appel de config-fonction
-	$redirect = tester_vignette($test_vignette);
-elseif ($vignette) // appels de inc_logo
-	$redirect = creer_fichier_vignette($vignette);
-else {
-   $retour = $redirect;
-   $redirect = '';
-   if ($ajout_doc == 'oui') {
-	include_ecrire('inc_getdocument.php3');
-	if (!$image_name AND $image2) {
-		$image = _DIR_TRANSFERT . $image2;
-		$image_name = $image;
-	} 
-	if (!eregi("\.zip$",$image_name))
-	  ajout_doc_s($image, $image_name, $mode, $forcer_document, $id_document, $hash);
-	else {
-	  // bizarre: clean_link ne recupere pas les variables
-	  $link = new Link('spip_image.php3');
-	  $link->addVar("ajout_doc", "oui");
-	  $link->addVar("redirect", $retour);
-	  $link->addVar('id_document', $id_document);
-	  $link->addVar('id_article', $id_article);
-	  $link->addVar('mode', $mode);
-	  $link->addVar('type', $type);
-	  $link->addVar('hash', $hash);
-	  $link->addVar('hash_id_auteur', $hash_id_auteur);
-	  ajout_doc_zip($image, $image_name, $mode, $forcer_document, $action_zip, $id_document, $hash, $link);
-	}
-   }
-   elseif ($ajout_logo == "oui")
-	ajout_image($image, $logo);
-   elseif ($image_supp)
-	effacer_image($image_supp);
-   elseif ($doc_supp) // appels de inc_document
-	supprime_document_et_vignette($doc_supp);
-   elseif ($doc_rotate)
-	tourner_document($var_rot, $doc_rotate, $convert_command);
- }
-
-if (!($redirect)) {
-	if ($HTTP_POST_VARS) $vars = $HTTP_POST_VARS;
-	else $vars = $HTTP_GET_VARS;
-	$redirect = $vars["redirect"];
-	$link = new Link(_DIR_RESTREINT_ABS . $redirect);
-	reset($vars);
-	while (list ($key, $val) = each ($vars)) {
-	  if (!ereg("^(redirect|image.*|hash.*|ajout.*|doc.*|transformer.*|modifier_.*|ok|type|forcer_.*|var_rot|action_zip)$", $key)) {
-	    $link->addVar($key, $val);
-	  }
-	}
-	if ($id_document)
-	  $link->addVar('id_document',$id_document);
-	if ($type == 'rubrique')
-	  $link->delVar('id_article');
-	
-	$redirect = $link->getUrl();
- }
-
-
-redirige_par_entete($redirect);
-
-?>
+<?php
+
+// Uploader un document, une image ou un logo,
+// supprimer cet element, creer les vignettes, etc.
+
+include ("ecrire/inc_version.php3");
+include_ecrire('inc_presentation.php3');	# regler la langue en cas d'erreur
+include_ecrire('inc_getdocument.php3');		# diverses fonctions de ce fichier
+include_ecrire("inc_charsets.php3");		# pour le nom de fichier
+include_ecrire("inc_meta.php3");			# ne pas faire confiance au cache
+											# (alea_ephemere a peut-etre change)
+include_ecrire("inc_admin.php3");			# verifier_action_auteur
+include_ecrire("inc_abstract_sql.php3");	# spip_insert
+include_ecrire('inc_documents.php3');		# fichiers_upload()
+
+
+// Recuperer les variables d'upload
+if (!$_FILES)
+	$_FILES = &$HTTP_POST_FILES;
+if (!is_array($_FILES))
+	$_FILES = array();
+foreach ($_FILES as $id => $file) {
+	if ($file['error'] == 4 /* UPLOAD_ERR_NO_FILE */)
+		unset ($_FILES[$id]);
+}
+
+
+// Si on est en mode 'document', les images doivent etre installees
+// comme documents dans le portfolio
+if ($forcer_document) $mode = 'document';
+
+
+//
+// Le switch principal : quelle est l'action demandee
+//
+
+
+// appel de config-fonction
+if ($test_vignette)
+	$retour_image = tester_vignette($test_vignette);
+
+// Creation de vignette depuis le portfolio (ou autre)
+else if ($vignette) {
+	if ($creer_vignette == 'oui' AND
+	verifier_action_auteur("vign $vignette",
+	$hash, $hash_id_auteur))
+		creer_fichier_vignette($vignette);
+	else
+		$retour_image = creer_fichier_vignette($vignette, true); # obsolete
+}
+
+
+//
+// Ajout d'un document ou d'une image
+//
+else if ($ajout_doc == 'oui') {
+
+	// Autorisation ?
+	if (!verifier_action_auteur("ajout_doc", $hash, $hash_id_auteur))
+		die ('Interdit');
+
+	//
+	// Cas d'un fichier ou d'un repertoire installe dans ecrire/upload/
+	//
+	if ($_POST['image2']
+	AND !strstr($_POST['image2'], '..')
+	AND $_POST['ok_ftp']
+	) {
+		$upload = _DIR_TRANSFERT.$_POST['image2'];
+
+		// lire le repertoire upload et remplir $_FILES
+		if (is_dir($upload)) {
+			$fichiers = fichiers_upload($upload);
+
+			$_FILES = array();
+			foreach ($fichiers as $fichier) {
+				$_FILES[] = array (
+					'name' => basename($fichier),
+					'tmp_name' => $fichier
+				);
+			}
+		}
+
+		// seul un fichier est demande
+		else
+			$_FILES = array(
+				array ('name' => basename($upload),
+				'tmp_name' => $upload)
+			);
+	}
+
+	//
+	// Upload d'un ZIP
+	//
+
+	// traiter la reponse de l'utilisateur
+	if (preg_match('@^IMG/zip/[^. ]+\.zip$@i', $_POST['source_zip'])) {
+		$_FILES = array(
+			array('name' => basename($_POST['source_zip']),
+				'tmp_name' => $_POST['source_zip'])
+		);
+	}
+
+	// traiter le zip si c'en est un tout seul
+	if (count($_FILES) == 1
+	AND $action_zip!='telquel') {
+		$desc = array_pop($_FILES); # recuperer la description
+		$_FILES = array($desc);
+
+		if (preg_match('/\.zip$/i', $desc['name'])
+		OR ($desc['type'] == 'application/zip')) {
+
+			// on pose le fichier dans le repertoire zip et on met
+			// a jour $_FILES (nota : copier_document n'ecrase pas
+			// un fichier avec lui-meme : ca autorise a boucler)
+			$zip = copier_document("zip",
+				$desc['name'],
+				$desc['tmp_name']
+			);
+			if (!$zip) die ('Erreur upload zip'); # pathologique
+			$desc['tmp_name'] = $zip;	# nouvel emplacement du fichier
+			$_FILES = array($desc);
+
+			// Est-ce qu'on sait le lire ?
+			require_once(_DIR_RESTREINT . 'pclzip.lib.php');
+			$archive = new PclZip($zip);
+			$contenu = verifier_compactes($archive);
+
+			// si non, on le force comme document
+			if (!$contenu) {
+				$forcer_document = 'oui';
+			}
+
+			// si le deballage est demande
+			else if ($action_zip == 'decompacter') {
+				// 1. on deballe
+				define('_tmp_dir', creer_repertoire_documents($hash));
+				$archive->extract(PCLZIP_OPT_PATH,
+					_tmp_dir,
+					PCLZIP_OPT_REMOVE_ALL_PATH);
+				// 2. on supprime le fichier temporaire
+				$contenu = verifier_compactes($archive);
+				@unlink($zip);
+
+				$_FILES = array();
+				foreach ($contenu as $fichier) {
+					$_FILES[] = array(
+						'name' => basename($fichier),
+						'tmp_name' => _tmp_dir.$fichier);
+				}
+			}
+
+			// sinon on demande une reponse
+			else {
+				$link = new Link('spip_image.php3');
+				$link->addVar('ajout_doc', 'oui');
+				$link->addVar('redirect', $redirect);
+				$link->addVar('id_article', $id_article);
+				$link->addVar('mode', $mode);
+				$link->addVar('type', $type);
+				$link->addVar('hash', $hash);
+				$link->addVar('hash_id_auteur', $hash_id_auteur);
+				$link->addVar('source_zip', $zip);
+				afficher_compactes($desc, $contenu, $link);
+				exit;
+			}
+		}
+	}
+	// Fin du bloc ZIP
+
+
+	//
+	// Traiter la liste des fichiers
+	//
+	$documents_actifs = array();
+
+	foreach ($_FILES as $file) {
+
+		// afficher l'erreur 'fichier trop gros' ou autre
+		check_upload_error($file['error']);
+
+		spip_log ("ajout du document ".$file['name'].", $mode ($type $id_article)");
+		ajouter_un_document (
+			$file['tmp_name'],	# le fichier sur le serveur (/var/tmp/xyz34)
+			$file['name'],		# son nom chez le client (portequoi.pdf)
+			$type,				# lie a un article, une breve ou une rubrique ?
+			$id_article,		# identifiant de l'article (ou rubrique) lie
+			$mode,				# 'vignette' => vignette personnalisee
+			$id_document,		# pour une vignette, l'id_document de maman
+			$documents_actifs	# tableau des id_document "actifs" (par ref)
+		);
+	}	// foreach $_FILES
+
+	// Nettoyer le repertoire temporaire d'extraction des fichiers
+	if (defined('_tmp_dir'))
+		effacer_repertoire_temporaire(_tmp_dir);
+}
+
+// Ajout d'un logo
+else if ($ajout_logo == "oui" and $logo) {
+	if ($desc = array_pop($_FILES)
+	AND verifier_action_auteur("ajout_logo $logo",
+	$hash, $hash_id_auteur))
+		ajout_logo($desc, $logo);
+}
+
+// Suppression d'un logo
+else if ($image_supp) {
+	if (verifier_action_auteur("supp_logo $image_supp",
+	$hash, $hash_id_auteur))
+		effacer_logo($image_supp);
+}
+
+// Suppression d'un document et de sa vignette
+else if ($doc_supp) {
+	if (verifier_action_auteur("supp_doc $doc_supp",
+	$hash, $hash_id_auteur))
+		supprime_document_et_vignette($doc_supp);
+}
+
+// Rotation d'une image
+else if ($doc_rotate) {
+	if (verifier_action_auteur("rotate $doc_rotate",
+	$hash, $hash_id_auteur))
+		tourner_document($var_rot, $doc_rotate, $convert_command);
+}
+
+
+//
+// Retour a l'envoyeur
+//
+
+// si nous sommes diriges vers une vignette
+if ($retour_image) {
+	redirige_par_entete($retour_image);
+
+} else {
+	$link = new Link(_DIR_RESTREINT_ABS . $redirect);
+	if ($documents_actifs) {
+		$show_docs = join('-',$documents_actifs);
+		$link->addVar('show_docs',$show_docs);
+	}
+
+	redirige_par_entete($link->getUrl($ancre));
+}
+
+?>

Index: spip_image_reduite.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_image_reduite.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_image_reduite.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_image_reduite.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,42 +1,37 @@
-<?php
-
-$img = $_GET['img'];
-$logo = $img;
-include ("ecrire/inc_version.php3");
-include_ecrire("inc_admin.php3");
-include_ecrire("inc_logos.php3");
-
-if (!$taille_y)
-	$taille_y = $taille_x;
-	
-if (eregi("(.*)\.(jpg|gif|png)$", $logo, $regs)) {
-	if ($i = cherche_image_nommee($regs[1], array($regs[2]))
-	    AND verifier_action_auteur("reduire $taille_x $taille_y", $hash, $hash_id_auteur))
-	{
-		list($dir,$nom,$format) = $i;
-		$logo = $dir . $nom . '.' . $format;
-		
-		include_ecrire("inc_logos.php3");
-		$suffixe = '-'.$taille_x.'x'.$taille_y;
-		$preview = creer_vignette($logo, $taille_x, $taille_y, $format,('cache'.$suffixe), $nom.$suffixe);
-		if ($preview) {
-			$vignette = $preview['fichier'];
-			$width = $preview['width'];
-			$height = $preview['height'];
-			//echo "<img src='$vignette' name='$name' border='0' align='$align' alt='' hspace='$espace' vspace='$espace' width='$width' height='$height' class='spip_logos' />";
-			$retour = $vignette;
-		}
-		else if ($taille_origine = @getimagesize($logo)) {
-			//list ($destWidth,$destHeight) = image_ratio($taille_origine[0], $taille_origine[1], $taille_x, $taille_y);
-			$retour = $logo;
-		}	
-
-	// Afficher l'image resultante, meme grande...
-//	header("Content-type: image/$format");
-//	echo implode ('', file ($retour));
-
-	redirige_par_entete($retour);
-	}
- }
-
+<?php
+
+include ("ecrire/inc_version.php3");
+include_ecrire("inc_admin.php3");
+include_ecrire("inc_logos.php3");
+
+$img = $_GET['img'];
+$logo = $img;
+
+if (!$taille_y)
+	$taille_y = $taille_x;
+	
+if (eregi("(.*)\.(jpg|gif|png)$", $logo, $regs)) {
+	if ($i = cherche_image_nommee($regs[1], array($regs[2]))
+		AND verifier_action_auteur("reduire $taille_x $taille_y", $hash, $hash_id_auteur))
+	{
+		list($dir,$nom,$format) = $i;
+		$logo = $dir . $nom . '.' . $format;
+		
+		include_ecrire("inc_logos.php3");
+		$suffixe = '-'.$taille_x.'x'.$taille_y;
+		$preview = creer_vignette($logo, $taille_x, $taille_y, $format,('cache'.$suffixe), $nom.$suffixe);
+		if ($preview) {
+			$vignette = $preview['fichier'];
+			$width = $preview['width'];
+			$height = $preview['height'];
+			$retour = $vignette;
+		}
+		else if ($taille_origine = @getimagesize($logo)) {
+			$retour = $logo;
+		}
+
+		redirige_par_entete($retour);
+	}
+}
+
 ?>

Index: spip_inscription.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_inscription.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_inscription.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_inscription.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,12 +1,12 @@
-<?php
-include ("ecrire/inc_version.php3");
-include_ecrire("inc_presentation.php3");
-include_local("inc-formulaire_inscription.php3");
-include_local("inc-public-global.php3"); 
-include_ecrire("inc_lang.php3"); 
-utiliser_langue_site();
-utiliser_langue_visiteur();
-install_debut_html(_T('pass_vousinscrire'));
-inclure_balise_dynamique(balise_formulaire_inscription_dyn($mode, $mail_inscription, $nom_inscription, $focus));
-install_fin_html();
-?>
+<?php
+include ("ecrire/inc_version.php3");
+include_ecrire("inc_presentation.php3");
+include_local(find_in_path("inc-formulaire_inscription.php3"));
+include_local("inc-public-global.php3"); 
+include_local ("inc-cache.php3");
+
+install_debut_html(_T('pass_vousinscrire'));
+inclure_balise_dynamique(balise_formulaire_inscription_dyn($mode, $mail_inscription, $nom_inscription, $focus, $target));
+# echo http_script_window_close(); # fait dans le squelette a present
+install_fin_html();
+?>

Index: spip_login.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_login.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_login.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_login.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,10 +1,10 @@
-<?php
-$fond = "login";
-$delais = 3600;
-$flag_dynamique = true;
-$flag_preserver = true;
-$forcer_lang = true;
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "login";
+$delais = 3600;
+$flag_dynamique = true;
+$flag_preserver = true;
+$forcer_lang = true;
+
+include ("inc-public.php3");
+
+?>

Index: spip_pass.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_pass.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_pass.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_pass.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,79 +1,73 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_presentation.php3");
-include_ecrire("inc_session.php3");
-include_ecrire("inc_filtres.php3");
-include_ecrire("inc_texte.php3");
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_mail.php3");
-include_ecrire("inc_acces.php3");
-include_local("inc-public-global.php3"); 
-
-// Ce fichier est celui d'une balise dynamique qui s'ignore.
-
-function formulaire_oubli_dyn($p, $oubli)
-{
-
-$erreur = '';
-
-// au 3e appel la variable P est positionnee par le script lui-meme
-// et oubli = mot passe. Le choix du nom P est impose par pass_mail_passcookie
-if ($p = addslashes($p)) {
-	$res = spip_query ("SELECT * FROM spip_auteurs WHERE cookie_oubli='$p' AND statut<>'5poubelle' AND pass<>''");
-	if (!$row = spip_fetch_array($res)) 
-		$erreur = _T('pass_erreur_code_inconnu');
-	else {
-		if ($oubli) {
-			$mdpass = md5($oubli);
-			$htpass = generer_htpass($oubli);
-			spip_query ("UPDATE spip_auteurs SET htpass='$htpass', pass='$mdpass', alea_actuel='',
-				cookie_oubli='' WHERE cookie_oubli='$p'");
-
-			$login = $row['login'];
-			$erreur = "<b>"._T('pass_nouveau_enregistre')."</b>".
-			"<p>"._T('pass_rappel_login', array('login' => $login));
-		}
-	}
- } else { 
-  // si p absent, oubli vaut alors le mail au 2e appel, vide au 1e
-  if ($oubli) {
-	if (email_valide($oubli)) {
-		$email = addslashes($oubli);
-		$res = spip_query("SELECT * FROM spip_auteurs WHERE email ='$email'");
-		if ($row = spip_fetch_array($res)) {
-			if ($row['statut'] == '5poubelle' OR $row['pass'] == '')
-				$erreur = _T('pass_erreur_acces_refuse');
-			else {
-				$cookie = creer_uniqid();
-				spip_query("UPDATE spip_auteurs SET cookie_oubli = '$cookie' WHERE email ='$email'");
-
-				if (envoyer_mail($email,
-						 "[" . lire_meta("nom_site") .'] ' ._T('pass_oubli_mot'),
-						 _T('pass_mail_passcookie',
-						    array('nom_site_spip' => lire_meta("nom_site"),
-							  'adresse_site' => lire_meta("adresse_site"), 
-							  'cookie' => $cookie))))
-					$erreur = _T('pass_recevoir_mail');
-				else
-					$erreur = _T('pass_erreur_probleme_technique');
-			}
-		}
-		else
-			$erreur = _T('pass_erreur_non_enregistre', array('email_oubli' => htmlspecialchars($oubli)));
-	} else {
-		$erreur = _T('pass_erreur_non_valide', array('email_oubli' => htmlspecialchars($oubli)));
-	}
-  }
- }
- return $erreur ? $erreur : array('formulaire_oubli', 0, array('p' => $p));
-}
-
-utiliser_langue_site();
-utiliser_langue_visiteur();
-install_debut_html(_T('pass_mot_oublie'));
-inclure_balise_dynamique(formulaire_oubli_dyn($p, $oubli));
-install_fin_html();
-?>
+<?php
+
+include ("ecrire/inc_version.php3");
+include_ecrire("inc_presentation.php3"); # pour install_debut
+include_ecrire("inc_session.php3"); # pour creer_uniq_id
+include_ecrire("inc_mail.php3"); # pour envoyer_mail
+include_ecrire("inc_acces.php3"); # pour generer_htpass
+include_local("inc-public-global.php3"); # pour calculer la page
+include_local ("inc-cache.php3"); # ici c'est pour tester la connexion SQL
+
+// Ce fichier est celui d'une balise dynamique qui s'ignore.
+
+function formulaire_oubli_dyn($p, $oubli)
+{
+
+$message = '';
+
+// au 3e appel la variable P est positionnee par le script lui-meme
+// et oubli = mot passe. Le choix du nom P est impose par pass_mail_passcookie
+if ($p = addslashes($p)) {
+	$res = spip_query("SELECT * FROM spip_auteurs WHERE cookie_oubli='$p' AND statut<>'5poubelle' AND pass<>''");
+	if (!$row = spip_fetch_array($res)) 
+		$message = _T('pass_erreur_code_inconnu');
+	else {
+		if ($oubli) {
+			$mdpass = md5($oubli);
+			$htpass = generer_htpass($oubli);
+			spip_query("UPDATE spip_auteurs SET htpass='$htpass', pass='$mdpass', alea_actuel='',
+				cookie_oubli='' WHERE cookie_oubli='$p'");
+
+			$login = $row['login'];
+			$message = "<b>" . _T('pass_nouveau_enregistre') . "</b>".
+			"<p>" . _T('pass_rappel_login', array('login' => $login));
+		}
+	}
+ } else { 
+  // si p absent, oubli vaut alors le mail au 2e appel, vide au 1e
+  if ($oubli) {
+	if ( email_valide($oubli) ) {
+		$email = addslashes($oubli);
+		$res = spip_query("SELECT * FROM spip_auteurs WHERE email ='$email'");
+		if ($row = spip_fetch_array($res)) {
+			if ($row['statut'] == '5poubelle' OR $row['pass'] == '')
+				$message = _T('pass_erreur_acces_refuse');
+			else {
+				$cookie = creer_uniqid();
+				spip_query("UPDATE spip_auteurs SET cookie_oubli = '$cookie' WHERE email ='$email'");
+
+				if ( envoyer_mail($email,
+						 "[" . lire_meta("nom_site") .'] ' .  _T('pass_oubli_mot'),
+						 _T('pass_mail_passcookie',
+						    array('nom_site_spip' => lire_meta("nom_site"),
+							  'adresse_site' => lire_meta("adresse_site"), 
+							  'cookie' => $cookie))))
+					$message = _T('pass_recevoir_mail');
+				else
+					$message = _T('pass_erreur_probleme_technique');
+			}
+		}
+		else
+			$message = _T('pass_erreur_non_enregistre', array('email_oubli' => htmlspecialchars($oubli)));
+	} else {
+		$message = _T('pass_erreur_non_valide', array('email_oubli' => htmlspecialchars($oubli)));
+	}
+  }
+ }
+ return array('formulaire_oubli', 0, array('p' => $p, 'message' => $message));
+}
+
+install_debut_html(_T('pass_mot_oublie'));
+inclure_balise_dynamique(formulaire_oubli_dyn($p, $oubli));
+install_fin_html();
+?>

Index: spip_redirect.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_redirect.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_redirect.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_redirect.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,44 +1,44 @@
-<?php
-// redirige vers l'URL canonique de l'article,
-// en indiquant recalcul et previsu
-
-include ("ecrire/inc_version.php3");
-
-// Gestionnaire d'URLs
-if (@file_exists("inc-urls.php3"))
-	include_local("inc-urls.php3");
-else
-	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
-
-if ($id_article) {
-	$url = generer_url_article($id_article);
-}
-else if ($id_breve) {
-	$url = generer_url_breve($id_breve);
-}
-else if ($id_forum) {
-	$url = generer_url_forum($id_forum);
-}
-else if ($id_rubrique) {
-	$url = generer_url_rubrique($id_rubrique);
-}
-else if ($id_mot) {
-	$url = generer_url_mot($id_mot);
-}
-else if ($id_auteur) {
-	$url = generer_url_auteur($id_auteur);
-}
-else {
-	$url = _DIR_RESTREINT_ABS;
-}
-if (strpos($url,'?')) {
-	$super='&';
-}
-else {
-	$super='?';
-}
-if ($recalcul) $url .= $super."var_mode=recalcul";
-else if ($preview) $url .= $super."var_preview=oui";
- at header("Location: $url");
-
+<?php
+// redirige vers l'URL canonique de l'article,
+// en indiquant recalcul et previsu
+
+include ("ecrire/inc_version.php3");
+
+// Gestionnaire d'URLs
+if (@file_exists("inc-urls.php3"))
+	include_local("inc-urls.php3");
+else
+	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
+
+if ($id_article) {
+	$url = generer_url_article($id_article);
+}
+else if ($id_breve) {
+	$url = generer_url_breve($id_breve);
+}
+else if ($id_forum) {
+	$url = generer_url_forum($id_forum);
+}
+else if ($id_rubrique) {
+	$url = generer_url_rubrique($id_rubrique);
+}
+else if ($id_mot) {
+	$url = generer_url_mot($id_mot);
+}
+else if ($id_auteur) {
+	$url = generer_url_auteur($id_auteur);
+}
+else {
+	$url = _DIR_RESTREINT_ABS;
+}
+if (strpos($url,'?')) {
+	$super='&';
+}
+else {
+	$super='?';
+}
+if ($recalcul) $url .= $super."var_mode=recalcul";
+else if ($preview) $url .= $super."var_mode=preview";
+ at header("Location: $url");
+
 ?>

Index: spip_style.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_style.css,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_style.css	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_style.css	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,139 +1,139 @@
-a {
-	text-decoration: none;
-}
-
-a:hover {
-	color:#FF9900;
-	text-decoration: underline;
-}
-
-a.spip_url { }
-a.spip_in { }
-a.spip_out { }
-a.spip_glossaire { }
-
-.spip_code { }
-
-p.spip_note { }
-
-h3.spip {
-	font-family: Verdana,Arial,Helvetica,sans-serif;
-	font-weight: bold;
-	font-size: 120%;
-	text-align: center;
-	margin-top : 40px;
-	margin-bottom : 40px;
-	padding: 0em;
-}
-
-.spip_puce {
-	list-style-position: inside;
-}
-
-.spip_documents{
-	font-family: Verdana,Arial,Helvetica,sans-serif;
-	font-size : 70%;
-}
-
-
-table.spip {
-}
-
-table.spip tr.row_first {
-	background-color: #FCF4D0;
-}
-
-table.spip tr.row_odd {
-	background-color: #C0C0C0;
-}
-
-table.spip tr.row_even {
-	background-color: #F0F0F0;
-}
-
-table.spip td {
-	padding: 1px;
-	text-align: left;
-	vertical-align: middle;
-}
-
-hr.spip { }
-b.spip { }
-i.spip { }
-blockquote.spip {
-	margin-left : 40px;
-	margin-top : 10px;
-	margin-bottom : 10px;
-	margin-right: 0px;
-	border : solid 1px #aaaaaa;
-	background-color: #ffffff;
-	padding-left: 10px;
-	padding-right: 10px;
-}
-
-.forml { width: 100% ; background-color: #FFDDAA;}
-
-.spip_encadrer {
-	font-family: helvetica, arial, sans-serif;
-	width : 95%;
-	background-color: #FFFFFF;
-	padding: 5px;
-	border: 1px #666666 solid;
-}
-
-.spip_cadre {
-	width : 95%;
-	background-color: #FFFFFF;
-	padding: 5px;
-	margin-top: 10px;
-}
-
-div.spip_poesie {
-	margin-bottom: 5px;
-	margin-left: 10px;
-	padding-left: 10px;
-	border-left: 1px solid #999999;
-}
-div.spip_poesie div {
-	text-indent: -60px;
-	margin-left: 60px;
-}
-
-.spip_bouton { background-color: #FFCC00;}
-
-form.formrecherche { 
-	margin-top: 5px;
-	margin-bottom: 5px;
-}
-input.formrecherche {
-	width: 95%;
-	background-color: #FFDDAA;
-}
-
-.reponse_formulaire {
-	font-family: Verdana,Arial,Helvetica,sans-serif;
-	font-weight: bold;
-	font-size: 110%;
-	color: red;
-}
-
-.spip_surligne { background-color: #FFFF66; }
-
-
-/*
- * Barre de raccourcis
- */
-
-a.spip_barre img {
-	border-left: 1px solid #ffffff;
-	border-top: 1px solid #ffffff;
-	border-right: 1px solid #aa9966;
-	border-bottom: 1px solid #aa9966;
-	padding: 3px;
-	background-color: #FFDDAA;
-}
-a.spip_barre:hover img {
-	border: 1px solid #808080;
-	padding: 3px;
-	background-color: #f8f8f4;
-}
+a {
+	text-decoration: none;
+}
+
+a:hover {
+	color:#FF9900;
+	text-decoration: underline;
+}
+
+a.spip_url { }
+a.spip_in { }
+a.spip_out { }
+a.spip_glossaire { }
+
+.spip_code { }
+
+p.spip_note { }
+
+h3.spip {
+	font-family: Verdana,Arial,Helvetica,sans-serif;
+	font-weight: bold;
+	font-size: 120%;
+	text-align: center;
+	margin-top : 40px;
+	margin-bottom : 40px;
+	padding: 0em;
+}
+
+.spip_puce {
+	list-style-position: inside;
+}
+
+.spip_documents{
+	font-family: Verdana,Arial,Helvetica,sans-serif;
+	font-size : 70%;
+}
+
+
+table.spip {
+}
+
+table.spip tr.row_first {
+	background-color: #FCF4D0;
+}
+
+table.spip tr.row_odd {
+	background-color: #C0C0C0;
+}
+
+table.spip tr.row_even {
+	background-color: #F0F0F0;
+}
+
+table.spip td {
+	padding: 1px;
+	text-align: left;
+	vertical-align: middle;
+}
+
+hr.spip { }
+b.spip { }
+i.spip { }
+blockquote.spip {
+	margin-left : 40px;
+	margin-top : 10px;
+	margin-bottom : 10px;
+	margin-right: 0px;
+	border : solid 1px #aaaaaa;
+	background-color: #ffffff;
+	padding-left: 10px;
+	padding-right: 10px;
+}
+
+.forml { width: 100% ; background-color: #FFDDAA;}
+
+.spip_encadrer {
+	font-family: helvetica, arial, sans-serif;
+	width : 95%;
+	background-color: #FFFFFF;
+	padding: 5px;
+	border: 1px #666666 solid;
+}
+
+.spip_cadre {
+	width : 95%;
+	background-color: #FFFFFF;
+	padding: 5px;
+	margin-top: 10px;
+}
+
+div.spip_poesie {
+	margin-bottom: 5px;
+	margin-left: 10px;
+	padding-left: 10px;
+	border-left: 1px solid #999999;
+}
+div.spip_poesie div {
+	text-indent: -60px;
+	margin-left: 60px;
+}
+
+.spip_bouton { background-color: #FFCC00;}
+
+form.formrecherche { 
+	margin-top: 5px;
+	margin-bottom: 5px;
+}
+input.formrecherche {
+	width: 95%;
+	background-color: #FFDDAA;
+}
+
+.reponse_formulaire {
+	font-family: Verdana,Arial,Helvetica,sans-serif;
+	font-weight: bold;
+	font-size: 110%;
+	color: red;
+}
+
+.spip_surligne { background-color: #FFFF66; }
+
+
+/*
+ * Barre de raccourcis
+ */
+
+a.spip_barre img {
+	border-left: 1px solid #ffffff;
+	border-top: 1px solid #ffffff;
+	border-right: 1px solid #aa9966;
+	border-bottom: 1px solid #aa9966;
+	padding: 3px;
+	background-color: #FFDDAA;
+}
+a.spip_barre:hover img {
+	border: 1px solid #808080;
+	padding: 3px;
+	background-color: #f8f8f4;
+}

Index: spip_test_dirs.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_test_dirs.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_test_dirs.php3	13 Jan 2005 15:37:14 -0000	1.1
+++ spip_test_dirs.php3	8 Feb 2005 15:10:10 -0000	1.2
@@ -1,106 +1,106 @@
-<?php
-if (defined("_TEST_DIRS")) return;
-define("_TEST_DIRS", "1");
-
-include("ecrire/inc_version.php3");
-
-include_ecrire("inc_presentation.php3");
-
-utiliser_langue_visiteur();
-
-
-//
-// Tente d'ecrire
-//
-function test_ecrire($my_dir) {
-	$ok = true;
-	$nom_fich = "$my_dir/test.txt";
-	$f = @fopen($nom_fich, "w");
-	if (!$f) $ok = false;
-	else if (!@fclose($f)) $ok = false;
-	else if (!@unlink($nom_fich)) $ok = false;
-	return $ok;
-}
-
-//
-// teste les droits sur les repertoires $test_dirs declares dans inc_version
-//
-
-// rajouter celui passer dans l'url ou celui du source (a l'installation)
-
-if ($test_dir) {
-  if (!ereg("/$", $test_dir)) $test_dir .= '/';
-  if (!in_array($test_dir, $test_dirs)) $test_dirs[] = $test_dir;
- }
-else {
-	if (!_FILE_CONNECT)
-	  $test_dirs[] = dirname(_FILE_CONNECT_INS);
-}
-
-unset($bad_dirs);
-unset($absent_dirs);
-
-while (list(, $my_dir) = each($test_dirs)) {
-	if (!test_ecrire($my_dir)) {
-		@umask(0);
-		if (@file_exists($my_dir)) {
-			@chmod($my_dir, 0777);
-			// ???
-			if (!test_ecrire($my_dir))
-				@chmod($my_dir, 0775);
-			if (!test_ecrire($my_dir))
-				@chmod($my_dir, 0755);
-			if (!test_ecrire($my_dir))
-				$bad_dirs[] = "<LI>".$my_dir;
-		} else
-			$absent_dirs[] = "<LI>".$my_dir;
-	}
-}
-
-if ($bad_dirs OR $absent_dirs) {
-	install_debut_html();
-
-	if (!_FILE_CONNECT) {
-		$titre = _T('dirs_preliminaire');
-		$continuer = ' '._T('dirs_commencer');
-	} else
-		$titre = _T('dirs_probleme_droits');
-
-	$bad_url = "spip_test_dirs.php3";
-	if ($test_dir) $bad_url .= '?test_dir='.$test_dir;
-
-	echo "<FONT FACE=\"Verdana,Arial,Helvetica,sans-serif\" SIZE=3>$titre</FONT>\n<p>";
-	echo "<div align='right'>". menu_langues('var_lang_ecrire')."</div>\n";
-
-	if ($bad_dirs) {
-		echo "<p>";
-		echo _T('dirs_repertoires_suivants',
-			array('bad_dirs' => join(" ", $bad_dirs)));
-		echo "<B>". _T('login_recharger')."</b>";
-	}
-
-	if ($absent_dirs) {
-		echo "<p>";
-		echo _T('dirs_repertoires_absents',
-			array('bad_dirs' => join(" ", $absent_dirs)));
-		echo "<B>". _T('login_recharger')."</b>";
-	}
-
-	echo $continuer.'. ';
-	echo aide ("install0");
-	echo "<p>";
-
-	echo "<FORM ACTION='$bad_urls' METHOD='GET'>\n";
-	echo "<DIV align='right'><INPUT TYPE='submit' CLASS='fondl' VALUE='". _T('login_recharger')."'></DIV>";
-	echo "</FORM>";
-
-	install_fin_html();
-
-} else {
-	if (!_FILE_CONNECT)
-		header("Location: " . _DIR_RESTREINT_ABS . "install.php3?etape=1");
-	else
-		header("Location: " . _DIR_RESTREINT_ABS);
-}
-
-?>
+<?php
+if (defined("_TEST_DIRS")) return;
+define("_TEST_DIRS", "1");
+
+include("ecrire/inc_version.php3");
+
+include_ecrire("inc_presentation.php3");
+
+utiliser_langue_visiteur();
+
+
+//
+// Tente d'ecrire
+//
+function test_ecrire($my_dir) {
+	$ok = true;
+	$nom_fich = "$my_dir/test.txt";
+	$f = @fopen($nom_fich, "w");
+	if (!$f) $ok = false;
+	else if (!@fclose($f)) $ok = false;
+	else if (!@unlink($nom_fich)) $ok = false;
+	return $ok;
+}
+
+//
+// teste les droits sur les repertoires $test_dirs declares dans inc_version
+//
+
+// rajouter celui passer dans l'url ou celui du source (a l'installation)
+
+if ($test_dir) {
+  if (!ereg("/$", $test_dir)) $test_dir .= '/';
+  if (!in_array($test_dir, $test_dirs)) $test_dirs[] = $test_dir;
+ }
+else {
+	if (!_FILE_CONNECT)
+	  $test_dirs[] = dirname(_FILE_CONNECT_INS);
+}
+
+unset($bad_dirs);
+unset($absent_dirs);
+
+while (list(, $my_dir) = each($test_dirs)) {
+	if (!test_ecrire($my_dir)) {
+		@umask(0);
+		if (@file_exists($my_dir)) {
+			@chmod($my_dir, 0777);
+			// ???
+			if (!test_ecrire($my_dir))
+				@chmod($my_dir, 0775);
+			if (!test_ecrire($my_dir))
+				@chmod($my_dir, 0755);
+			if (!test_ecrire($my_dir))
+				$bad_dirs[] = "<LI>".$my_dir;
+		} else
+			$absent_dirs[] = "<LI>".$my_dir;
+	}
+}
+
+if ($bad_dirs OR $absent_dirs) {
+	install_debut_html();
+
+	if (!_FILE_CONNECT) {
+		$titre = _T('dirs_preliminaire');
+		$continuer = ' '._T('dirs_commencer');
+	} else
+		$titre = _T('dirs_probleme_droits');
+
+	$bad_url = "spip_test_dirs.php3";
+	if ($test_dir) $bad_url .= '?test_dir='.$test_dir;
+
+	echo "<FONT FACE=\"Verdana,Arial,Helvetica,sans-serif\" SIZE=3>$titre</FONT>\n<p>";
+	echo "<div align='right'>". menu_langues('var_lang_ecrire')."</div>\n";
+
+	if ($bad_dirs) {
+		echo "<p>";
+		echo _T('dirs_repertoires_suivants',
+			array('bad_dirs' => join(" ", $bad_dirs)));
+		echo "<B>". _T('login_recharger')."</b>";
+	}
+
+	if ($absent_dirs) {
+		echo "<p>";
+		echo _T('dirs_repertoires_absents',
+			array('bad_dirs' => join(" ", $absent_dirs)));
+		echo "<B>". _T('login_recharger')."</b>";
+	}
+
+	echo $continuer.'. ';
+	echo aide ("install0");
+	echo "<p>";
+
+	echo "<FORM ACTION='$bad_urls' METHOD='GET'>\n";
+	echo "<DIV align='right'><INPUT TYPE='submit' CLASS='fondl' VALUE='". _T('login_recharger')."'></DIV>";
+	echo "</FORM>";
+
+	install_fin_html();
+
+} else {
+	if (!_FILE_CONNECT)
+		header("Location: " . _DIR_RESTREINT_ABS . "install.php3?etape=1");
+	else
+		header("Location: " . _DIR_RESTREINT_ABS);
+}
+
+?>

Index: typographie.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/typographie.css,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- typographie.css	13 Jan 2005 15:37:14 -0000	1.1
+++ typographie.css	8 Feb 2005 15:10:11 -0000	1.2
@@ -1,100 +1,100 @@
-
-/*
- * Correction des styles HTML par defaut
- */
-
-.structure {
-	display: none;
-}
-h1,h2,h3,h4 {
-	margin-top: 0em;
-	margin-bottom: 0em;
-	font-size: 100%;
-	font-weight: normal;
-}
-
-/*
- * Styles generaux
- */
-
-/* bien regler la marge (bugs IE) */
-body { background: white; margin: 10px; }
-a { text-decoration: none; color: #505050; }
-a:hover { text-decoration: none; color: #303030; background: #e8e8e8; }
-a.spip_out { text-decoration: none; color: #a02020; }
-a.spip_in, a.spip_url { text-decoration: none; color: #2020a0; }
-a.spip_glossaire { text-decoration: none; color: #20a020; }
-
-.chapo {
-	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
-	font-weight: bold;
-	text-align: justify;
-	font-size: 105%;
-}
-.texte, .texte p.spip {
-	font-family: Georgia, Garamond, Times, serif;
-	text-align: justify;
-}
-.ps {
-	font-family: Georgia, Garamond, Times, serif;
-	text-align: justify;
-	font-size: 85%;
-}
-.notes {
-	font-family: Georgia, Garamond, Times, serif;
-	text-align: left;
-	font-size: 80%;
-}
-
-/*
- * Ici les styles pour le contenu
- */
-
-.contenu h1,h2 {
-	font-size: 120%;
-	font-weight: bold;
-}
-.contenu h1,h2.titre-extrait {
-	font-size: 160%;
-	font-weight: bold;
-}
-.contenu h1,h2.titre-texte {
-	font-size: 190%;
-	font-weight: bold;
-}
-.contenu .surtitre {
-	font-size: 110%;
-	font-weight: bold;
-	font-variant: small-caps;
-}
-.contenu .detail {
-	font-size: 80%;
-	color: #303030;
-}
-.extrait {
-	border: groove 2px #a0a0a0;
-	padding: 1em;
-	font-size: 85%;
-}
-
-
-/*
- * Disposition a l'ecran
- */
-
-#principal {
-	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
-}
-
-#plan {
-	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
-}
-
-#navigation {
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-}
-
-.encart {
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-}
-
+
+/*
+ * Correction des styles HTML par defaut
+ */
+
+.structure {
+	display: none;
+}
+h1,h2,h3,h4 {
+	margin-top: 0em;
+	margin-bottom: 0em;
+	font-size: 100%;
+	font-weight: normal;
+}
+
+/*
+ * Styles generaux
+ */
+
+/* bien regler la marge (bugs IE) */
+body { background: white; margin: 10px; }
+a { text-decoration: none; color: #505050; }
+a:hover { text-decoration: none; color: #303030; background: #e8e8e8; }
+a.spip_out { text-decoration: none; color: #a02020; }
+a.spip_in, a.spip_url { text-decoration: none; color: #2020a0; }
+a.spip_glossaire { text-decoration: none; color: #20a020; }
+
+.chapo {
+	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
+	font-weight: bold;
+	text-align: justify;
+	font-size: 105%;
+}
+.texte, .texte p.spip {
+	font-family: Georgia, Garamond, Times, serif;
+	text-align: justify;
+}
+.ps {
+	font-family: Georgia, Garamond, Times, serif;
+	text-align: justify;
+	font-size: 85%;
+}
+.notes {
+	font-family: Georgia, Garamond, Times, serif;
+	text-align: left;
+	font-size: 80%;
+}
+
+/*
+ * Ici les styles pour le contenu
+ */
+
+.contenu h1,h2 {
+	font-size: 120%;
+	font-weight: bold;
+}
+.contenu h1,h2.titre-extrait {
+	font-size: 160%;
+	font-weight: bold;
+}
+.contenu h1,h2.titre-texte {
+	font-size: 190%;
+	font-weight: bold;
+}
+.contenu .surtitre {
+	font-size: 110%;
+	font-weight: bold;
+	font-variant: small-caps;
+}
+.contenu .detail {
+	font-size: 80%;
+	color: #303030;
+}
+.extrait {
+	border: groove 2px #a0a0a0;
+	padding: 1em;
+	font-size: 85%;
+}
+
+
+/*
+ * Disposition a l'ecran
+ */
+
+#principal {
+	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
+}
+
+#plan {
+	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
+}
+
+#navigation {
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+}
+
+.encart {
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+}
+

--- .project DELETED ---

--- article-dist.html DELETED ---

--- auteur-dist.html DELETED ---

--- backend-breves-dist.html DELETED ---

--- backend-dist.html DELETED ---

--- breve-dist.html DELETED ---

--- carto-proto.sql DELETED ---

--- carto.html DELETED ---

--- distrib-dist.html DELETED ---

--- formulaire_admin-dist.html DELETED ---

--- formulaire_ecrire_auteur-dist.html DELETED ---

--- formulaire_forum-dist.html DELETED ---

--- formulaire_inscription-dist.html DELETED ---

--- formulaire_login-dist.html DELETED ---

--- formulaire_menu_lang-dist.html DELETED ---

--- formulaire_oubli-dist.html DELETED ---

--- formulaire_recherche-dist.html DELETED ---

--- formulaire_signature-dist.html DELETED ---

--- formulaire_site-dist.html DELETED ---

--- forum-dist.html DELETED ---

--- ical-dist.html DELETED ---

--- inc-chercher.php3 DELETED ---

--- inc-formulaire_admin.php3 DELETED ---

--- inc-formulaire_ecrire_auteur.php3 DELETED ---

--- inc-formulaire_forum.php3 DELETED ---

--- inc-formulaire_inscription.php3 DELETED ---

--- inc-formulaire_recherche.php3 DELETED ---

--- inc-formulaire_signature.php3 DELETED ---

--- inc-formulaire_site.php3 DELETED ---

--- inc-login_prive.php3 DELETED ---

--- inc-login_public.php3 DELETED ---

--- inc-menu_lang.php3 DELETED ---

--- inc-menu_lang_ecrire.php3 DELETED ---

--- inc-url_logout.php3 DELETED ---

--- login-dist.html DELETED ---

--- mot-dist.html DELETED ---

--- nouveautes-dist.html DELETED ---

--- plan-dist.html DELETED ---

--- project.index DELETED ---

--- recherche-dist.html DELETED ---

--- resume-dist.html DELETED ---

--- rubrique-dist.html DELETED ---

--- site-dist.html DELETED ---

--- sommaire-dist.html DELETED ---

--- sommaire_texte-dist.html DELETED ---

--- spipcarto.zip DELETED ---



From stef at berlios.de  Sun Feb 20 23:06:01 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:06:01 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire/js x_core_nn4.js,NONE,1.1 navTools.bak.js,NONE,1.1 x_dom_nn4.js,NONE,1.1 carto.js,NONE,1.1 graphTools.js,NONE,1.1 tree.js,NONE,1.1 x_event_nn4.js,NONE,1.1 navTools.js,NONE,1.1 Copie de navTools.js,NONE,1.1
Message-ID: <200502202206.j1KM618Y026983@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire/js
In directory sheep:/tmp/cvs-serv26976/ecrire/js

Added Files:
	x_core_nn4.js navTools.bak.js x_dom_nn4.js carto.js 
	graphTools.js tree.js x_event_nn4.js navTools.js 
	Copie de navTools.js 
Log Message:
proto1.3

--- NEW FILE: x_core_nn4.js ---
// x_core_nn4.js
// For NN4 use this file instead of x_core.js. xInclude() will do this for you automatically.

// X v3.15.1, Cross-Browser DHTML Library from Cross-Browser.com
// Copyright (c) 2002,2003,2004 Michael Foster (mike at cross-browser.com)
// This library is distributed under the terms of the LGPL (gnu.org)

// Variables:
var xVersion='3.15.1',xNN4=false,xOp7=false,xOp5or6=false,xIE=false,xIE4Up=false,xIE4=false,xIE5=false,xUA=navigator.userAgent.toLowerCase();
if(window.opera){
  xOp7=(xUA.indexOf('opera 7')!=-1 || xUA.indexOf('opera/7')!=-1);
  if (!xOp7) xOp5or6=(xUA.indexOf('opera 5')!=-1 || xUA.indexOf('opera/5')!=-1 || xUA.indexOf('opera 6')!=-1 || xUA.indexOf('opera/6')!=-1);
}
else if (document.layers) {xNN4=true;}
else if (document.all) {
  xIE=xUA.indexOf('msie')!=-1;
  xIE4Up=xUA.indexOf('msie')!=-1 && parseInt(navigator.appVersion)>=4;
  xIE4=xUA.indexOf('msie 4')!=-1;
  xIE5=xUA.indexOf('msie 5')!=-1;
}
// Object:
function xGetElementById(e) {
  if(typeof(e)!='string') return e;
  if(document.getElementById) e=document.getElementById(e);
  else if(document.all) e=document.all[e];
  else if(document.layers) e=xLayer(e);
  else e=null;
  return e;
}
function xLayer(id,root) { // only for nn4
  var i,layer,found=null;
  if (!root) root=window;
  for(i=0; i<root.document.layers.length; i++) {
    layer=root.document.layers[i];
    if(layer.id==id) return layer;
    if(layer.document.layers.length) found=xLayer(id,layer);
    if(found) return found;
  }
  return null;
}
function xParent(e,bNode){
  if (!(e=xGetElementById(e))) return null;
  var p=null;
  if (!bNode && xDef(e.offsetParent)) p=e.offsetParent;
  else if (xDef(e.parentNode)) p=e.parentNode;
  else if (xDef(e.parentElement)) p=e.parentElement;
  else if (xDef(e.parentLayer)){if (e.parentLayer!=window) p=e.parentLayer;}
  return p;
}
function xDef() {
  for(var i=0; i<arguments.length; ++i){if(typeof(arguments[i])=='undefined') return false;}
  return true;
}
function xStr(s) {
  return typeof(s)=='string';
}
function xNum(n) {
  return typeof(n)=='number';
}
function xInnerHtml(e, sHtml) {
  if(!(e=xGetElementById(e))) return '';
  if (xStr(e.innerHTML)) {
    if (xStr(sHtml)) e.innerHTML = sHtml;
    else return e.innerHTML;
  }
  else if (xNN4) {
    if (xStr(sHtml)) {
      if (sHtml=='') sHtml = ' ';
      e.document.open();
      e.document.write(sHtml);
      e.document.close();
    }
    else return '';
  }
}
// Appearance:
function xShow(e) {
  if(!(e=xGetElementById(e))) return;
  if(e.style && xDef(e.style.visibility)) e.style.visibility='visible';
  else if(xDef(e.visibility)) e.visibility='show';
}
function xHide(e) {
  if(!(e=xGetElementById(e))) return;
  if(e.style && xDef(e.style.visibility)) e.style.visibility='hidden';
  else if(xDef(e.visibility)) e.visibility='hide';
}
function xZIndex(e,uZ) {
  if(!(e=xGetElementById(e))) return 0;
  if(e.style && xDef(e.style.zIndex)) {
    if(xNum(uZ)) e.style.zIndex=uZ;
    uZ=parseInt(e.style.zIndex);
  }
  else if(xDef(e.zIndex)) {
    if(xNum(uZ)) e.zIndex=uZ;
    uZ=e.zIndex;
  }
  return uZ;
}
function xColor(e,sColor) {
  if(!(e=xGetElementById(e))) return '';
  var c='';
  if(e.style && xDef(e.style.color)) {
    if(xStr(sColor)) e.style.color=sColor;
    c=e.style.color;
  }
  return c;
}
function xBackground(e,sColor,sImage) {
  if(!(e=xGetElementById(e))) return '';
  var bg='';
  if(e.style) {
    if(xStr(sColor)) {
      if(!xOp5or6) e.style.backgroundColor=sColor;
      else e.style.background=sColor;
    }
    if(xStr(sImage)) e.style.backgroundImage=(sImage!='')? 'url('+sImage+')' : null;
    if(!xOp5or6) bg=e.style.backgroundColor;
    else bg=e.style.background;
  }
  else if(xDef(e.bgColor)) {
    if(xStr(sColor)) e.bgColor=sColor;
    bg=e.bgColor;
    if(xStr(sImage)) e.background.src=sImage;
  }
  return bg;
}
// Position:
function xMoveTo(e,iX,iY) {
  xLeft(e,iX);
  xTop(e,iY);
}
function xLeft(e,iX) {
  if(!(e=xGetElementById(e))) return 0;
  var css=xDef(e.style);
  if (css && xStr(e.style.left)) {
    if(xNum(iX)) e.style.left=iX+'px';
    else {
      iX=parseInt(e.style.left);
      if(isNaN(iX)) iX=0;
    }
  }
  else if(css && xDef(e.style.pixelLeft)) {
    if(xNum(iX)) e.style.pixelLeft=iX;
    else iX=e.style.pixelLeft;
  }
  else if(xDef(e.left)) {
    if(xNum(iX)) e.left=iX;
    else iX=e.left;
  }
  return iX;
}
function xTop(e,iY) {
  if(!(e=xGetElementById(e))) return 0;
  var css=xDef(e.style);
  if(css && xStr(e.style.top)) {
    if(xNum(iY)) e.style.top=iY+'px';
    else {
      iY=parseInt(e.style.top);
      if(isNaN(iY)) iY=0;
    }
  }
  else if(css && xDef(e.style.pixelTop)) {
    if(xNum(iY)) e.style.pixelTop=iY;
    else iY=e.style.pixelTop;
  }
  else if(xDef(e.top)) {
    if(xNum(iY)) e.top=iY;
    else iY=e.top;
  }
  return iY;
}
function xPageX(e) {
  if (!(e=xGetElementById(e))) return 0;
  if (xDef(e.pageX)) return e.pageX;
  var x = 0;
  while (e) {
    if (xDef(e.offsetLeft)) x += e.offsetLeft;
    e = xDef(e.offsetParent) ? e.offsetParent : null;
  }
  return x;
}
function xPageY(e) {
  if (!(e=xGetElementById(e))) return 0;
  if (xDef(e.pageY)) return e.pageY;
  var y = 0;
  while (e) {
    if (xDef(e.offsetTop)) y += e.offsetTop;
    e = xDef(e.offsetParent) ? e.offsetParent : null;
  }
//  if (xOp7) return y - document.body.offsetTop; // v3.14, temporary hack for opera bug 130324
  return y;
}
function xOffsetLeft(e) {
  if (!(e=xGetElementById(e))) return 0;
  if (xDef(e.offsetLeft)) return e.offsetLeft;
  else return xPageX(e) - xPageX(xParent(e));
}
function xOffsetTop(e) {
  if (!(e=xGetElementById(e))) return 0;
  if (xDef(e.offsetTop)) return e.offsetTop;
  else return xPageY(e) - xPageY(xParent(e));
}
function xScrollLeft(e) {
  var offset=0;
  if (!(e=xGetElementById(e))) {
    if(xDef(window.pageXOffset)) offset=window.pageXOffset;
    else if(document.documentElement && document.documentElement.scrollLeft) offset=document.documentElement.scrollLeft;
    else if(document.body && xDef(document.body.scrollLeft)) offset=document.body.scrollLeft;
  }
  else { if (xNum(e.scrollLeft)) offset = e.scrollLeft; }
  return offset;
}
function xScrollTop(e) {
  var offset=0;
  if (!(e=xGetElementById(e))) {
    if(xDef(window.pageYOffset)) offset=window.pageYOffset;
    else if(document.documentElement && document.documentElement.scrollTop) offset=document.documentElement.scrollTop;
    else if(document.body && xDef(document.body.scrollTop)) offset=document.body.scrollTop;
  }
  else { if (xNum(e.scrollTop)) offset = e.scrollTop; }
  return offset;
}
function xHasPoint(ele, iLeft, iTop, iClpT, iClpR, iClpB, iClpL) {
  if (!xNum(iClpT)){iClpT=iClpR=iClpB=iClpL=0;}
  else if (!xNum(iClpR)){iClpR=iClpB=iClpL=iClpT;}
  else if (!xNum(iClpB)){iClpL=iClpR; iClpB=iClpT;}
  var thisX = xPageX(ele), thisY = xPageY(ele);
  return (iLeft >= thisX + iClpL && iLeft <= thisX + xWidth(ele) - iClpR &&
          iTop >=thisY + iClpT && iTop <= thisY + xHeight(ele) - iClpB );
}
// Size:
function xResizeTo(e,uW,uH) {
  xWidth(e,uW);
  xHeight(e,uH);
}
function xWidth(e,uW) {
  if(!(e=xGetElementById(e))) return 0;
  if (xNum(uW)) { // v3.13.1
    if (uW<0) uW = 0;
    else uW=Math.round(uW);
  }
  else uW=0;
  var css=xDef(e.style);
  if(css && xDef(e.offsetWidth) && xStr(e.style.width)) {
    if(uW) xSetCW(e, uW);
    uW=e.offsetWidth;
  }
  else if(css && xDef(e.style.pixelWidth)) {
    if(uW) e.style.pixelWidth=uW;
    uW=e.style.pixelWidth;
  }
  else if(xDef(e.clip) && xDef(e.clip.right)) {
    if(uW) e.clip.right=uW;
    uW=e.clip.right;
  }
  return uW;
}
function xHeight(e,uH) {
  if(!(e=xGetElementById(e))) return 0;
  if (xNum(uH)) { // v3.13.1
    if (uH<0) uH = 0;
    else uH=Math.round(uH);
  }
  else uH=0;
  var css=xDef(e.style);
  if(css && xDef(e.offsetHeight) && xStr(e.style.height)) {
    if(uH) xSetCH(e, uH);
    uH=e.offsetHeight;
  }
  else if(css && xDef(e.style.pixelHeight)) {
    if(uH) e.style.pixelHeight=uH;
    uH=e.style.pixelHeight;
  }
  else if(xDef(e.clip) && xDef(e.clip.bottom)) {
    if(uH) e.clip.bottom=uH;
    uH=e.clip.bottom;
  }
  return uH;
}
function xGetCS(ele,sP){return parseInt(document.defaultView.getComputedStyle(ele,'').getPropertyValue(sP));}
function xSetCW(ele,uW){
  var pl=0,pr=0,bl=0,br=0;
  if(xDef(document.defaultView) && xDef(document.defaultView.getComputedStyle)){
    pl=xGetCS(ele,'padding-left');
    pr=xGetCS(ele,'padding-right');
    bl=xGetCS(ele,'border-left-width');
    br=xGetCS(ele,'border-right-width');
  }
  else if(xDef(ele.currentStyle,document.compatMode)){
    if(document.compatMode=='CSS1Compat'){
      pl=parseInt(ele.currentStyle.paddingLeft);
      pr=parseInt(ele.currentStyle.paddingRight);
      bl=parseInt(ele.currentStyle.borderLeftWidth);
      br=parseInt(ele.currentStyle.borderRightWidth);
    }
  }
  else if(xDef(ele.offsetWidth,ele.style.width)){ // ?
    ele.style.width=uW+'px';
    //pl=ele.offsetWidth-uW;  // bug in IE4
  }
  if(isNaN(pl)) pl=0; if(isNaN(pr)) pr=0; if(isNaN(bl)) bl=0; if(isNaN(br)) br=0;
  var cssW=uW-(pl+pr+bl+br);
  if(isNaN(cssW)||cssW<0) return;
  else ele.style.width=cssW+'px';
}
function xSetCH(ele,uH){
  var pt=0,pb=0,bt=0,bb=0;
  if(xDef(document.defaultView) && xDef(document.defaultView.getComputedStyle)){
    pt=xGetCS(ele,'padding-top');
    pb=xGetCS(ele,'padding-bottom');
    bt=xGetCS(ele,'border-top-width');
    bb=xGetCS(ele,'border-bottom-width');
  }
  else if(xDef(ele.currentStyle,document.compatMode)){
    if(document.compatMode=='CSS1Compat'){
      pt=parseInt(ele.currentStyle.paddingTop);
      pb=parseInt(ele.currentStyle.paddingBottom);
      bt=parseInt(ele.currentStyle.borderTopWidth);
      bb=parseInt(ele.currentStyle.borderBottomWidth);
    }
  }
  else if(xDef(ele.offsetHeight,ele.style.height)){ // ?
    ele.style.height=uH+'px';
    //pt=ele.offsetHeight-uH;  // bug in IE4
  }
  if(isNaN(pt)) pt=0; if(isNaN(pb)) pb=0; if(isNaN(bt)) bt=0; if(isNaN(bb)) bb=0;
  var cssH=uH-(pt+pb+bt+bb);
  if(isNaN(cssH)||cssH<0) return;
  else ele.style.height=cssH+'px';
}
function xClip(e,iTop,iRight,iBottom,iLeft) {
  if(!(e=xGetElementById(e))) return;
  if(e.style) {
    if (xNum(iLeft)) e.style.clip='rect('+iTop+'px '+iRight+'px '+iBottom+'px '+iLeft+'px)';
    else e.style.clip='rect(0 '+parseInt(e.style.width)+'px '+parseInt(e.style.height)+'px 0)';
  }
  else if(e.clip) {
    if (xNum(iLeft)) { e.clip.top=iTop; e.clip.right=iRight; e.clip.bottom=iBottom; e.clip.left=iLeft; }
    else { e.clip.top=0; e.clip.right=xWidth(e); e.clip.bottom=xHeight(e); e.clip.left=0; }
  }
}
// Window:
function xClientWidth() {
  var w=0;
  if(xOp5or6) w=window.innerWidth;
  else if(!window.opera && document.documentElement && document.documentElement.clientWidth) // v3.12
    w=document.documentElement.clientWidth;
  else if(document.body && document.body.clientWidth)
    w=document.body.clientWidth;
  else if(xDef(window.innerWidth,window.innerHeight,document.height)) {
    w=window.innerWidth;
    if(document.height>window.innerHeight) w-=16;
  }
  return w;
}
function xClientHeight() {
  var h=0;
  if(xOp5or6) h=window.innerHeight;
  else if(!window.opera && document.documentElement && document.documentElement.clientHeight) // v3.12
    h=document.documentElement.clientHeight;
  else if(document.body && document.body.clientHeight)
    h=document.body.clientHeight;
  else if(xDef(window.innerWidth,window.innerHeight,document.width)) {
    h=window.innerHeight;
    if(document.width>window.innerWidth) h-=16;
  }
  return h;
}
// end x_core_nn4.js

--- NEW FILE: navTools.bak.js ---
// Global variables

// dhtmlBox constructor
function dhtmlBox() {
  this.anchor = xGetElementById("mapAnchorDiv");
  this.target = xGetElementById("mainDHTMLDiv");
  this.image = xGetElementById("mapImageDiv");
  this.canvas = xGetElementById("myCanvasDiv");
  this.canvas2 = xGetElementById("myCanvas2Div");
  this.displayContainer = xGetElementById("diplayContainerDiv");
  this.displayCoords = xGetElementById("displayCoordsDiv");
  this.displayMeasure = xGetElementById("displayMeasureDiv");

  this.x1 = this.y1 = this.x2 = this.y2 = -1;
  this.drag = false;
  this.isActive = false;
  this.dblClick = false;
  this.keyEscape = false;
}

// method prototypes
function dhtmlBox_initialize() {
  jg = new jsGraphics(this.canvas.id); // a drawing canvas for the lines and points
  jg2 = new jsGraphics(this.canvas2.id); // a drawing canvas for the last moving vertex

  // make the previous tool selected the current one
  for (var i =0; i < myform.tool.length; i++) {
    if (myform.tool[i].checked) {
      dhtmlBox.changeTool(myform.tool[i].value);
    }
  }
  
  // HACK FOR selection tool: find a better solution !!
  if (myform.tool.length >= 5 && myform.tool[4].checked) {
     dhtmlBox.changeTool('query');
  }
  
  this.target.style.zIndex = 1000;

  this.width = xWidth(this.anchor);
  this.height = xHeight(this.anchor);

  xResizeTo(this.image,this.width,this.height);
  xResizeTo(this.target,this.width,this.height);
  xResizeTo(this.canvas,this.width,this.height);
  xResizeTo(this.canvas2,this.width,this.height);
  xWidth(this.displayContainer,this.width);

  xMoveTo(this.image,xPageX(this.anchor),xPageY(this.anchor));
  xMoveTo(this.target,xPageX(this.anchor),xPageY(this.anchor));
  xMoveTo(this.canvas,xPageX(this.anchor),xPageY(this.anchor));
  xMoveTo(this.canvas2,xPageX(this.anchor),xPageY(this.anchor));
  xShow(this.image);

  if (this.dispPos == "top") this.dispPos = -13;
  else if (this.dispPos == "bottom") this.dispPos = this.height;
  else this.dispPos = 0;
  xMoveTo(this.displayContainer,xPageX(this.anchor),xPageY(this.anchor) + this.dispPos);

  xClip(this.target,0,this.width,this.height,0);
}


function dhtmlBox_changetool(tool) {// the mouse events are managed in this function according to the mapping tool selected
  myform.tool.value = tool;
  this.currentTool = tool.toLowerCase();

  // clear the drawing canvas
  jg.clear();

  xRemoveEventListener(this.target,'mousedown',this.domousedown);
  xRemoveEventListener(this.target,'mouseup',this.domouseup);
  xRemoveEventListener(this.target,'mousemove',this.domousemove);
  xRemoveEventListener(this.target,'mouseout',this.domouseout);
  xRemoveEventListener(this.target, 'dblclick', this.dodblclick);
  
  xAddEventListener(this.target,'mousedown',this.domousedown);
  xAddEventListener(this.target,'mouseup',this.domouseup);
  xAddEventListener(this.target,'mousemove',this.domousemove);
  xAddEventListener(this.target,'mouseout',this.domouseout);

  xAddEventListener(document,'keydown',this.dokeydown);

  if (this.currentTool == 'distance' || this.currentTool == 'surface' || this.currentTool == 'polygon' || this.currentTool == 'line') {
    this.isActive = false;
    this.distance = 0;
    this.displayCoords.innerHTML = '';
    this.displayMeasure.innerHTML = '';
    xAddEventListener(this.target,'dblclick', this.dodblclick);
  }

  // cursor style
  if (this.currentTool == 'zoom_in' || this.currentTool == 'zoom_out' || this.currentTool == 'distance' || this.currentTool == 'surface' || this.currentTool == 'polygon' || this.currentTool == 'line') {
    if (this.target.style) this.target.style.cursor = "crosshair";
  } else if (this.currentTool == 'pan') {
    if (this.target.style) this.target.style.cursor = "move";
  } else if (this.currentTool == 'query') {
    if (this.target.style) this.target.style.cursor = "help";
  }
  jg.paint();
}

function dhtmlBox_mousedown(evt) {
  var e = new xEvent(evt);
  
  if (!(xUA.indexOf('mac_')!=-1 && xUA.indexOf('msie')!=-1) && evt.button == 2) { //right clic
    dhtmlBox.rightclic = true;
  } else {
    dhtmlBox.rightclic = false;

    dhtmlBox.x1 = dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y1 = dhtmlBox.y2 = e.offsetY;
	

    if (dhtmlBox.currentTool == "zoom_out") {
      jg.clear();  // if page not reloaded automaticaly, previous crosses are deleted
    }

    if (!dhtmlBox.isActive && (dhtmlBox.currentTool == 'distance' || dhtmlBox.currentTool == 'surface' || dhtmlBox.currentTool == 'polygon'  || dhtmlBox.currentTool == 'line')) { //init
      jg.clear();
      //jg2.clear();
      dhtmlBox.cnv_clicks = 0;
      dhtmlBox.draw_x = new Array();
      dhtmlBox.draw_y = new Array();
      dhtmlBox.Xpoints = new Array();
      dhtmlBox.Ypoints = new Array();
      dhtmlBox.distance = 0;
      dhtmlBox.isActive = true;
	  dhtmlBox.dblClick = false;
      dhtmlBox.keyEscape = false;
    }
  }
  if (dhtmlBox.currentTool == 'polygon'  || dhtmlBox.currentTool == 'line') {
    dhtmlBox.drag = false; // to provide the curves draw
  } else {
	dhtmlBox.drag = true; // the mouse is down
  }
}

function dhtmlBox_mousemove(evt) {
  var e = new xEvent(evt);

  //show the coords display
  xShow(dhtmlBox.displayContainer);

  if(dhtmlBox.drag) { //the mouse is down
    dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y2 = e.offsetY;
    if(dhtmlBox.currentTool == 'zoom_out') { // only one click events
      jg.clear();
      dhtmlBox.x1 = dhtmlBox.x2;
      dhtmlBox.y1 = dhtmlBox.y2;
    }
    dhtmlBox.paint();
  }
  else if ((dhtmlBox.currentTool == 'distance' || dhtmlBox.currentTool == 'surface' || dhtmlBox.currentTool == 'polygon'  || dhtmlBox.currentTool == 'line') && dhtmlBox.isActive == true) {
      dhtmlBox.x2 = e.offsetX;
      dhtmlBox.y2 = e.offsetY;
      dhtmlBox.lastLinePaint(); // the last line is drawn while moving
  }
    // display the coordinates
    dhtmlBox.displayCoords.innerHTML = dhtmlBox.coord_msg + Math.round((e.offsetX * dhtmlBox.pixel_size) + dhtmlBox.boxx)  +" / "+ Math.round(((dhtmlBox.mapHeight - e.offsetY) * dhtmlBox.pixel_size) + dhtmlBox.boxy);
}

function dhtmlBox_mouseup(evt) {
  var e = new xEvent(evt);

  if (dhtmlBox.rightclic == true) {
    jg2.clear();
  } else {

    dhtmlBox.drag = false; //the mouse is now up

    dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y2 = e.offsetY;

    //the box is too small
    if(((Math.abs(dhtmlBox.x1-dhtmlBox.x2) <= dhtmlBox.jitter) || (Math.abs(dhtmlBox.y1-dhtmlBox.y2) <= dhtmlBox.jitter)) && dhtmlBox.currentTool == 'zoom_in') {
      dhtmlBox.x2 = dhtmlBox.x1 = Math.abs(dhtmlBox.x1-dhtmlBox.x2) /2 + Math.min(dhtmlBox.x1, dhtmlBox.x2); //zoom to center of the box
      dhtmlBox.y2 = dhtmlBox.y1 = Math.abs(dhtmlBox.y1-dhtmlBox.y2) /2 + Math.min(dhtmlBox.y1, dhtmlBox.y2);;
    }

    // submit the form with the values
    if (dhtmlBox.currentTool == 'zoom_in' || dhtmlBox.currentTool == 'zoom_out' || dhtmlBox.currentTool == 'query') {
      dhtmlBox.removeEventsWait();
      myform.selection_type.value = "rectangle";
      myform.selection_coords.value = dhtmlBox.x1+","+dhtmlBox.y1+";"+dhtmlBox.x2+","+dhtmlBox.y2
	  xShow(dhtmlBox.anchor);
      myform.submit();
    }
    else if (dhtmlBox.currentTool == 'pan') {
      myform.selection_type.value = "point"
      // pan or simple pan click
      if (dhtmlBox.x2 == dhtmlBox.x1 && dhtmlBox.y2 == dhtmlBox.y1) { //simple click
        var x = dhtmlBox.x2
        var y = dhtmlBox.y2
        myform.selection_coords.value = x+","+y
      } else {// pan
        //new center coordinates
        var x = dhtmlBox.width/2 - (dhtmlBox.x2 - dhtmlBox.x1)
        var y = dhtmlBox.height/2 - (dhtmlBox.y2 - dhtmlBox.y1)
        myform.selection_coords.value = x+","+y
      }
	  xShow(dhtmlBox.anchor);
      myform.submit();
    } else if (dhtmlBox.currentTool == 'surface' || dhtmlBox.currentTool == 'polygon') {
		// polygon closed by click on the first point
		if (Math.abs(dhtmlBox.x2 - dhtmlBox.draw_x[1]) <= dhtmlBox.jitter && Math.abs(dhtmlBox.y2 - dhtmlBox.draw_y[1]) <= dhtmlBox.jitter && dhtmlBox.draw_x.length > 2) {
			dhtmlBox.keyEscape = true;
			dhtmlBox.isActive = false;
			jg2.clear();
		}
	}
    dhtmlBox.paint();
  }
}

function dhtmlBox_mouseout(evt) {
  var e = new xEvent(evt);

  xHide(dhtmlBox.displayContainer);
  jg2.clear();
}

function dhtmlBox_dblclick(evt) {
  var e = new xEvent(evt);
  dhtmlBox.dblClick = true;
  dhtmlBox.isActive = false;

  jg2.clear();
  dhtmlBox.paint();
}

function dhtmlBox_keydown(evt) { // 
  evt = (evt) ? evt : ((event) ? event : null);
  dhtmlBox = dhtmlBox;
  if (evt.keyCode == '27' && (dhtmlBox.currentTool == 'distance' || dhtmlBox.currentTool == 'surface' || dhtmlBox.currentTool == 'polygon'  || dhtmlBox.currentTool == 'line')) {
    dhtmlBox.keyEscape = true;
    dhtmlBox.isActive = false;
    jg2.clear();
    dhtmlBox.paint();
  }
}

function dhtmlBox_paint() { // draws alternatively boxes, lines, polylines, crosses, or pan the map
  var x, y, w, h;

  x = Math.min(this.x1, this.x2);
  y = Math.min(this.y1, this.y2);

  if (this.currentTool == 'zoom_out') { //draws only a cross
      jg.drawLineW(x-this.cursorsize,y - this.thickness /2,this.cursorsize * 2);
      jg.drawLineH(x - this.thickness /2,y-this.cursorsize ,this.cursorsize * 2);
      jg.paint();
  }

  else if (this.currentTool == 'zoom_in' || this.currentTool == 'query') {
    if(this.x1==this.x2 && this.y1==this.y2) {
        jg.clear();
        jg.drawLineW(x-this.cursorsize,y - this.thickness /2,this.cursorsize * 2);
        jg.drawLineH(x - this.thickness /2,y-this.cursorsize ,this.cursorsize * 2);
        jg.paint();

    } else {
      w = Math.abs(this.x1-this.x2);
      h = Math.abs(this.y1-this.y2);
      jg.clear();
          jg.drawRect(x,y,w,h,this.thickness);
      jg.paint();
    }
  }
  else if (this.currentTool == 'pan') {
    var dx,dy

    dx = this.x2 - this.x1;
    dy = this.y2 - this.y1;

    xMoveTo(this.image,dx + xPageX(this.anchor),dy + xPageY(this.anchor));
    xClip(this.image,(dy<0)? Math.abs(dy):0,(dx>0)? this.width - dx : this.width,(dy>0)? this.height-dy:this.height,(dx<0)? Math.abs(dx):0);
    //xResizeTo(this.image,(dy<0)? Math.abs(dy):0,(dx>0)? this.width - dx : this.width,(dy>0)? this.height-dy:this.height,(dx<0)? Math.abs(dx):0);
  }

  else if (this.currentTool == 'distance' || this.currentTool == 'line') {
    if (!this.keyEscape) { // Escape key is pressed
      ++this.cnv_clicks;
      this.draw_x[this.cnv_clicks] = this.x2;
      this.draw_y[this.cnv_clicks] = this.y2;
    }
    this.Xpoints[this.cnv_clicks - 1] = this.draw_x[this.cnv_clicks];
    this.Ypoints[this.cnv_clicks - 1] = this.draw_y[this.cnv_clicks];
    if (xUA.indexOf('mac_')!=-1 && xUA.indexOf('msie')!=-1) { // IE/Mac specificity
      jg.clear();
      jg.drawPolylinePts(this.Xpoints,this.Ypoints, this.d2pts);
    }
    else {
        jg.drawLinePts(this.draw_x[this.cnv_clicks],this.draw_y[this.cnv_clicks],this.draw_x[this.cnv_clicks - 1],this.draw_y[this.cnv_clicks - 1],this.d2pts);
    }
	if (this.currentTool == 'distance') { //Calculate the distance and display it
	  if (this.cnv_clicks > 1 && !this.keyEscape) {
        // distance calculation
        this.dist_x = (this.draw_x[this.cnv_clicks] - this.draw_x[this.cnv_clicks - 1]) * this.pixel_size;
        this.dist_y = (this.draw_y[this.cnv_clicks] - this.draw_y[this.cnv_clicks - 1]) * this.pixel_size;
        this.distance += Math.sqrt(this.dist_x * this.dist_x + this.dist_y * this.dist_y);
      }
      if (this.dist_unit == ' m.') this.distance = Math.round(this.distance);
      else if (this.dist_unit == ' km.') this.distance = Math.round(this.distance*100)/100;
      this.displayMeasure.innerHTML = this.dist_msg + this.distance.toString() + this.dist_unit;
	} else if (this.currentTool == 'line' && !this.isActive) { // submit the form
		var coords = new String();
		for (i = 0; i < this.Xpoints.length; i++) {
			coords += this.Xpoints[i] +"," + this.Ypoints[i] + ";";
		}
		myform.selection_type.value = 'line';
		myform.selection_coords.value = coords.substring(0,coords.length - 1);
		xShow(this.anchor);
		myform.submit();
	}
    jg.paint();
  }
  else if (this.currentTool == 'surface' || this.currentTool == 'polygon') {
    if (!this.keyEscape) { // Escape key is pressed
      ++this.cnv_clicks;
      this.draw_x[this.cnv_clicks] = this.x2;
      this.draw_y[this.cnv_clicks] = this.y2;
    }
    this.Xpoints[this.cnv_clicks - 1] = this.draw_x[this.cnv_clicks];
    this.Ypoints[this.cnv_clicks - 1] = this.draw_y[this.cnv_clicks];
    if (xUA.indexOf('mac_')!=-1 && xUA.indexOf('msie')!=-1) { // IE/Mac specificity
      if (!this.isActive) { // close the polygon
        this.Xpoints[this.cnv_clicks] = this.draw_x[1];
        this.Ypoints[this.cnv_clicks] = this.draw_y[1];
      }
      jg.clear();
      jg.drawPolylinePts(this.Xpoints,this.Ypoints, this.d2pts);
    }
    else {
      jg.drawLinePts(this.draw_x[this.cnv_clicks],this.draw_y[this.cnv_clicks],this.draw_x[this.cnv_clicks - 1],this.draw_y[this.cnv_clicks - 1],this.d2pts);
      if (!this.isActive) { // close the polygon
        jg.drawLinePts(this.draw_x[this.cnv_clicks],this.draw_y[this.cnv_clicks],this.draw_x[1],this.draw_y[1],this.d2pts);		
      }
    }

	if (this.currentTool == 'surface') { // calculate the surface and display it
	  if (this.cnv_clicks > 1  && !this.keyEscape) {
        //surface calculation
        var i = 0;
        this.distance = 0;
        while (i < this.cnv_clicks - 1) {
          this.distance += this.Xpoints[i] * this.Ypoints[i+1] - this.Xpoints[i+1] * this.Ypoints[i];
          ++i;
        }
        this.distance += this.Xpoints[this.cnv_clicks -1] * this.Ypoints[0] - this.Xpoints[0] * this.Ypoints[this.cnv_clicks -1];
        var pix_surf = this.pixel_size * this.pixel_size;
        this.distance = Math.abs(this.distance.toString()) / 2 * pix_surf;
	  }
      if (this.surf_unit == ' m2.') this.distance = Math.round(this.distance);
      else if (this.surf_unit == ' km2.') this.distance = Math.round(this.distance*10000)/10000;
      this.displayMeasure.innerHTML = this.surf_msg+ this.distance +this.surf_unit;
    } else if (this.currentTool == 'polygon' && !this.isActive) { // draw the closed polygon and submit form
		jg.paint();
		var coords = new String();
		for (i = 0; i < this.Xpoints.length; i++) {
			coords += this.Xpoints[i] +"," + this.Ypoints[i] + ";";
		}
		myform.selection_type.value = 'polygon';
		myform.selection_coords.value = coords.substring(0,coords.length - 1);
		xShow(this.anchor);
		myform.submit();
	}
	jg.paint();
  }
}


function dhtmlBox_lastLinePaint() {

  var x2 = this.x2;
  var y2 = this.y2;
  var x = this.draw_x[this.cnv_clicks];
  var y = this.draw_y[this.cnv_clicks];
  var x0 = this.draw_x[1];
  var y0 = this.draw_y[1];

  if (xIE || xUA.indexOf('mac')!=-1) { //use the drawing API
    jg2.clear();
    jg2.drawLinePts(x2,y2,x,y,this.d2pts); //draw the last vertex
    if (this.currentTool == "surface" || this.currentTool == "polygon") {
      jg2.drawLinePts(x2,y2,x0,y0,this.d2pts); // also draw the line to close the polygon
    }
    jg2.paint();
  }
  else { //doesn't use the drawing API
    if (this.canvas2.innerHTML == '') { // create the DIVs if doesn't exist
      for (var i=0; i< this.nbPts * 2; i++) {
        this["vertexPt"+i] = xCreateElement('div');
        xAppendChild(this.canvas2,this["vertexPt"+i],200);
        this["vertexPt"+i].className = "point";
        xHide(this["vertexPt"+i]);
        if (this["vertexPt"+i].style) this["vertexPt"+i].style.position = "absolute";
      }
    }
    var dx = x2 - x;
    var dy = y2 - y;
    for (var i=0;i<this.nbPts;i++) {
      var a = this["vertexPt"+i];
      xMoveTo(a,x + dx *i/ this.nbPts,y + dy *i/ this.nbPts);
      xShow(a);
    }
    if (this.currentTool == "surface" || this.currentTool == "polygon") {
      var dx0 = x2 - x0;
      var dy0 = y2 - y0;
      for (var i=this.nbPts;i<this.nbPts * 2;i++) {
        var a = this["vertexPt"+i];
        xMoveTo(a,x0 + dx0 * (i-this.nbPts)/this.nbPts,y0 + dy0 * (i-this.nbPts) / this.nbPts);
        xShow(a);
      }
    }
  }
}



new dhtmlBox(0);

dhtmlBox.prototype.initialize = dhtmlBox_initialize; // create instance method
dhtmlBox.prototype.domousedown = dhtmlBox_mousedown;
dhtmlBox.prototype.domousemove = dhtmlBox_mousemove;
dhtmlBox.prototype.domouseup = dhtmlBox_mouseup;
dhtmlBox.prototype.domouseout = dhtmlBox_mouseout;
dhtmlBox.prototype.dodblclick = dhtmlBox_dblclick;
dhtmlBox.prototype.dokeydown = dhtmlBox_keydown;
dhtmlBox.prototype.paint = dhtmlBox_paint;
dhtmlBox.prototype.lastLinePaint = dhtmlBox_lastLinePaint; // draw the last straight vertex for the measure tool
dhtmlBox.prototype.changeTool = dhtmlBox_changetool;
dhtmlBox.prototype.removeEventsWait = dhtmlBox_removeEventsWait;

/*
function changeTool(dhtmlBox,tool) {
  dhtmlBox.changetool(tool);
}
*/

function dhtmlBox_removeEventsWait() {
   xRemoveEventListener(this.target, 'mousemove', this.domousemove);
   if (this.target.style) this.target.style.cursor = "wait";
}

--- NEW FILE: x_dom_nn4.js ---
// x_dom_nn4.js, X v3.15.2, Cross-Browser.com DHTML Library
// Copyright (c) 2004 Michael Foster, Licensed LGPL (gnu.org)

// Returns a new Element object. For NN4, returns a new Object object.

//Modified by Pierre GIRAUD 
function xCreateElement(sTag)
{
  var ele=null;
  if (document.createElement) ele = document.createElement(sTag);
  else if (xNN4) ele = new Object();
  return ele;
}
function xAppendChild(oParent, oChild, nn4Width) // returns oChild
{
  var ele=null;
  if (oParent && oParent.appendChild) ele = oParent.appendChild(oChild);
  else if (xNN4) {
    if (typeof(oChild)=='object') delete oChild;
    if (!oParent || oParent.id.indexOf('_layer')==-1) {
      oParent = window;
      if (!nn4Width) nn4Width = xClientWidth();
    }
    else if (!nn4Width) nn4Width = xWidth(oParent);
    ele = new Layer(nn4Width, oParent);
  }
  return ele;
}

--- NEW FILE: carto.js ---
function FormItemSelected() {
  document.carto_form.submit();
}
  
function CheckRadio(theIndex) {
  document.carto_form.tool[theIndex].checked = true;
}

--- NEW FILE: graphTools.js ---
/*
graphTools.js

javascript functions to create and draw lines and points
for map navigation tool (zoom box, distance and surface measurement)

Part of this code was previously found from wz_jsgraphics.js (http://www.walterzorn.com)
and hardly adapted

Copyright 2004 Pierre GIRAUD
http://www.camptocamp.com
*/

var jg_ihtm, jg_ie, jg_fast, jg_dom, jg_moz,
jg_n4 = (document.layers && typeof document.classes != "undefined");


function chkDHTM(x, i)
{
	x = document.body || null;
	jg_ie = x && typeof x.insertAdjacentHTML != "undefined";
	jg_dom = (x && !jg_ie &&
		typeof x.appendChild != "undefined" &&
		typeof document.createRange != "undefined" &&
		typeof (i = document.createRange()).setStartBefore != "undefined" &&
		typeof i.createContextualFragment != "undefined");
	jg_ihtm = !jg_ie && !jg_dom && x && typeof x.innerHTML != "undefined";
	jg_fast = jg_ie && document.all && !window.opera;
	jg_moz = jg_dom && typeof x.style.MozOpacity != "undefined";
}

function pntDoc()
{
	this.wnd.document.write(this.htm);
	this.htm = '';
}


function pntCnvDom()
{
	var x = document.createRange();
	x.setStartBefore(this.cnv);
	x = x.createContextualFragment(this.htm);
	this.cnv.appendChild(x);
	this.htm = '';
}


function pntCnvIe()
{
	this.cnv.insertAdjacentHTML("beforeEnd",this.htm);
	this.htm = '';
}

function pntCnv()
{
	this.htm = '';
}


function mkDivPt(x,y)
{
	this.htm += '<div class="point" style="left:'+x+'px;top:'+y+'px"></div>';
	//this.htm += '<div style="position:absolute;left:'+x+';top:'+y+';width:4px;height:4px;background-color:red;overflow:hidden"></div>';
}

function mkLineH(x,y,h)
{
	this.htm += '<div class="lineH" style="left:'+x+'px;top:'+y+'px;height:'+h+'px"></div>';	
}

function mkLineW(x,y,w)
{
	this.htm += '<div class="lineW" style="left:'+x+'px;top:'+y+'px;width:'+w+'px"></div>';
}

function mkLinePts(x1,y1,x2,y2,d2pts) { //function added to draw lines with few points
  	this.printing = true;
	var dx = x2-x1;
	var dy = y2-y1;
	var darc = Math.sqrt(dx * dx + dy * dy); //arc length	
	var nb_pts = Math.round(darc / d2pts); // number of points on the arc
	var dx2pts = dx / nb_pts;
	var dy2pts = dy / nb_pts;
	var i = 0;
	this.mkDivPt(x1,y1);
	while (i < nb_pts) {
		++i;
		this.mkDivPt(Math.round(x1 + dx2pts * i), Math.round(y1 + dy2pts * i));
		//this.mkDiv(Math.round(x1 + dx2pts * i), Math.round(y1 + dy2pts * i),this.ptSize,this.ptSize);
	}
}

function mkRect(x, y, w, h, thickness)
{
	this.drawLineH(x, y, h);
	this.drawLineH(x+w, y,h);
	this.drawLineW(x, y+h,w+thickness);
	this.drawLineW(x, y,w);
}


function jsGraphics(id, wnd)
{
	this.setColor = new Function('arg', 'this.color = arg.toLowerCase();');

	this.setStroke = function(a,b)
	{
		this.stroke = a;
		this.ptSize = b;
			this.drawRect = mkRect;
			this.drawLinePts = mkLinePts;
			this.drawLineH = mkLineH;
			this.drawLineW = mkLineW;
	};
	
	this.drawPolylinePts = function(x, y, d) {
		for (var i=0; i<x.length - 1 ; i++) this.drawLinePts(x[i], y[i], x[i+1], y[i+1], d);
	}


	this.setPrintable = function()
	{
		this.mkDivPt = mkDivPt;
	};

	this.clear = function()
	{
		this.htm = "";
		if (this.cnv) this.cnv.innerHTML = this.defhtm;
	};


	this.setStroke(1);
	this.color = '#000000';
	this.htm = '';
	this.wnd = wnd || window;

	if (!(jg_ie || jg_dom || jg_ihtm)) chkDHTM();
	if (typeof id != 'string' || !id) {this.paint = pntDoc;}
	else
	{
		this.cnv = document.all? (this.wnd.document.all[id] || null)
			: document.getElementById? (this.wnd.document.getElementById(id) || null)
			: null;
		this.defhtm = (this.cnv && this.cnv.innerHTML)? this.cnv.innerHTML : '';
		this.paint = jg_dom? pntCnvDom : jg_ie? pntCnvIe : jg_ihtm? pntCnvIhtm : pntCnv;
	}

	this.setPrintable();
}
--- NEW FILE: tree.js ---
(This appears to be a binary file; contents omitted.)

--- NEW FILE: x_event_nn4.js ---
// x_event_nn4.js
// For NN4 use this file instead of x_event.js. xInclude() will do this for you automatically.

// X v3.15, Cross-Browser DHTML Library from Cross-Browser.com
// Copyright (c) 2002,2003,2004 Michael Foster (mike at cross-browser.com)
// This library is distributed under the terms of the LGPL (gnu.org)

// partly modified by Pierre GIRAUD (p_giraud at hotmail.com)
// events list is not limited to mousemove for NN4

function xAddEventListener(e,eventType,eventListener,useCapture) {
  if(!(e=xGetElementById(e))) return;
  eventType=eventType.toLowerCase();
  if((!xIE4Up && !xOp7) && e==window) {
    if(eventType=='resize') { window.xPCW=xClientWidth(); window.xPCH=xClientHeight(); window.xREL=eventListener; xResizeEvent(); return; }
    if(eventType=='scroll') { window.xPSL=xScrollLeft(); window.xPST=xScrollTop(); window.xSEL=eventListener; xScrollEvent(); return; }
  }
  var eh='e.on'+eventType+'=eventListener';
  if(e.addEventListener) e.addEventListener(eventType,eventListener,useCapture);
  else if(e.attachEvent) e.attachEvent('on'+eventType,eventListener);
  else if(e.captureEvents) {
    if(useCapture||eventType.indexOf('mouse')!=-1) { e.captureEvents(eval('Event.'+eventType.toUpperCase())); }
    eval(eh);
  }
  else eval(eh);
}
function xRemoveEventListener(e,eventType,eventListener,useCapture) {
  if(!(e=xGetElementById(e))) return;
  eventType=eventType.toLowerCase();
  if((!xIE4Up && !xOp7) && e==window) {
    if(eventType=='resize') { window.xREL=null; return; }
    if(eventType=='scroll') { window.xSEL=null; return; }
  }
  var eh='e.on'+eventType+'=null';
  if(e.removeEventListener) e.removeEventListener(eventType,eventListener,useCapture);
  else if(e.detachEvent) e.detachEvent('on'+eventType,eventListener);
  else if(e.releaseEvents) {
    if(useCapture||eventType.indexOf('mouse')!=-1) { e.releaseEvents(eval('Event.'+eventType.toUpperCase())); }
    eval(eh);
  }
  else eval(eh);
}

var xMac = (xUA.indexOf("mac")!=-1);
function xEvent(evt) { // cross-browser event object prototype
  this.type = '';
  this.target = null;
  this.pageX = 0;
  this.pageY = 0;
  this.offsetX = 0;
  this.offsetY = 0;
  this.keyCode = 0;
  var e = evt ? evt : window.event;
  if(!e) return;
  if(e.type) this.type = e.type;
  if(e.target) this.target = e.target;
  else if(e.srcElement) this.target = e.srcElement;
  else if(xNN4) this.target = xLayerFromPoint(e.pageX, e.pageY);
  if(xOp5or6) { this.pageX = e.clientX; this.pageY = e.clientY; }
  else if(xDef(e.pageX,e.pageY)) { this.pageX = e.pageX; this.pageY = e.pageY; } // v3.14
  else if(xDef(e.clientX,e.clientY)) { this.pageX = e.clientX + xScrollLeft(); this.pageY = e.clientY + xScrollTop(); }
  if(xDef(e.offsetX,e.offsetY)) { this.offsetX = e.offsetX; this.offsetY = e.offsetY; }
  else if(xDef(e.layerX,e.layerY)) { this.offsetX = e.layerX; this.offsetY = e.layerY; }
  else { this.offsetX = this.pageX - xPageX(this.target); this.offsetY = this.pageY - xPageY(this.target); }
  // mac specificities
  if (xIE && xMac) {
    this.offsetX += xScrollLeft(); //document.body.scrollLeft;
    this.offsetY += xScrollTop(); //document.body.scrollTop;
  }
  //
  if (e.keyCode) { this.keyCode = e.keyCode; } // for moz/fb, if keyCode==0 use which
  else if (xDef(e.which)) { this.keyCode = e.which; }
  
}
function xLayerFromPoint(x,y,root) { // only for nn4
  var i, hn=null, hz=-1, cn;
  if (!root) root = window;
  for (i=0; i < root.document.layers.length; ++i) {
    cn = root.document.layers[i];
    if (cn.visibility != "hide" && x >= cn.pageX && x <= cn.pageX + cn.clip.right && y >= cn.pageY && y <= cn.pageY + cn.clip.bottom ) {
      if (cn.zIndex > hz) { hz = cn.zIndex; hn = cn; }
    }
  }
  if (hn) {
    cn = xLayerFromPoint(x,y,hn);
    if (cn) hn = cn;
  }
  return hn;
}
function xResizeEvent() { // window resize event simulation
  if (window.xREL) setTimeout('xResizeEvent()', 250);
  var cw = xClientWidth(), ch = xClientHeight();
  if (window.xPCW != cw || window.xPCH != ch) { window.xPCW = cw; window.xPCH = ch; if (window.xREL) window.xREL(); }
}
function xScrollEvent() { // window scroll event simulation
  if (window.xSEL) setTimeout('xScrollEvent()', 250);
  var sl = xScrollLeft(), st = xScrollTop();

  if (window.xPSL != sl || window.xPST != st) { window.xPSL = sl; window.xPST = st; if (window.xSEL) window.xSEL(); }
}
// end x_event_nn4.js

--- NEW FILE: navTools.js ---
// Global variables

// dhtmlBox constructor
function dhtmlBox() {
  this.anchor = xGetElementById("mapAnchorDiv");
  this.target = xGetElementById("mainDHTMLDiv");
  this.image = xGetElementById("mapImageDiv");
  this.canvas = xGetElementById("myCanvasDiv");
  this.canvas2 = xGetElementById("myCanvas2Div");
  this.displayContainer = xGetElementById("diplayContainerDiv");
  this.displayCoords = xGetElementById("displayCoordsDiv");
  this.displayMeasure = xGetElementById("displayMeasureDiv");

  this.x1 = this.y1 = this.x2 = this.y2 = -1;
  this.drag = false;
  this.isActive = false;
  this.dblClick = false;
  this.keyEscape = false;
}

// method prototypes
function dhtmlBox_initialize() {
  jg = new jsGraphics(this.canvas.id); // a drawing canvas for the lines and points
  jg2 = new jsGraphics(this.canvas2.id); // a drawing canvas for the last moving vertex

  dhtmlBox.changeTool() //make the previous tool selected the current one
  
  this.target.style.zIndex = 1000;

  this.width = xWidth(this.anchor);
  this.height = xHeight(this.anchor);

  this.resizeAndMoveDivs()

  if (this.dispPos == "top") this.dispPos = -13;
  else if (this.dispPos == "bottom") this.dispPos = this.height;
  else this.dispPos = 0;
  xMoveTo(this.displayContainer,xPageX(this.anchor),xPageY(this.anchor) + this.dispPos);

}

function dhtmlBox_resizeAndMoveDivs() {
  xResizeTo(this.image,this.width,this.height)
  xResizeTo(this.target,this.width,this.height)
  xResizeTo(this.canvas,this.width,this.height)
  xResizeTo(this.canvas2,this.width,this.height)
  xWidth(this.displayContainer,this.width)

  xMoveTo(this.image,xPageX(this.anchor),xPageY(this.anchor))
  xMoveTo(this.target,xPageX(this.anchor),xPageY(this.anchor))
  xMoveTo(this.canvas,xPageX(this.anchor),xPageY(this.anchor))
  xMoveTo(this.canvas2,xPageX(this.anchor),xPageY(this.anchor))
  xShow(this.image)

  xClip(this.target,0,this.width,this.height,0)
  xClip(this.image,0,this.width,this.height,0)
}

// the mouse events are managed in this function according to the mapping tool selected
// shape accepted values : point, rectangle, line, polygon
// action : submit, measure
// cursorStyle : crosshair, help, move
// toolName : name of the tool (ie query, zoomin, ...)
function dhtmlBox_changetool() {
  // get the checked tool and its values
  for (var i =0; i < myform.tool.length ; i++) {
    if (myform.tool[i].checked) {
	  var toolValues = myform.tool[i].value.split(",")
	  this.shapeType = toolValues[0]
	  this.action = toolValues[1]
	  this.cursorStyle = toolValues[2]
	  this.toolName = toolValues[3]
    }
  }
  
  // clear the drawing canvas
  jg.clear();

  xRemoveEventListener(this.target,'mousedown',this.domousedown)
  xRemoveEventListener(this.target,'mouseup',this.domouseup)
  xRemoveEventListener(this.target,'mousemove',this.domousemove)
  xRemoveEventListener(this.target,'mouseout',this.domouseout)
  xRemoveEventListener(this.target, 'dblclick', this.dodblclick)
  
  xAddEventListener(this.target,'mousedown',this.domousedown)
  xAddEventListener(this.target,'mouseup',this.domouseup)
  xAddEventListener(this.target,'mousemove',this.domousemove)
  xAddEventListener(this.target,'mouseout',this.domouseout)

  xAddEventListener(document,'keydown',this.dokeydown)
 
  this.isActive = false

  if (this.shapeType == 'polygon' || this.shapeType == 'line') {
    xAddEventListener(this.target,'dblclick', this.dodblclick)
  }
  
  this.displayMeasure.innerHTML = '';
  if (this.action == 'measure') {
  	this.measure = 0;
  }

  // cursor style
  if (this.target.style) this.target.style.cursor = this.cursorStyle
  jg.paint()
}

function dhtmlBox_mousedown(evt) {
  var e = new xEvent(evt);
  
  if (!(xUA.indexOf('mac_')!=-1 && xUA.indexOf('msie')!=-1) && evt.button == 2) { //right clic
    dhtmlBox.rightclic = true;
  } else {
    dhtmlBox.rightclic = false;

    dhtmlBox.x1 = dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y1 = dhtmlBox.y2 = e.offsetY;
	
    if (dhtmlBox.shapeType == "point") {
      jg.clear();  // if page not reloaded automaticaly, previous crosses are deleted
    }
	
	if (!dhtmlBox.isActive) {
	  dhtmlBox.isActive = true
	  dhtmlBox.dblClick = false
      dhtmlBox.Xpoints = new Array()
   	  dhtmlBox.Ypoints = new Array()
	  if (dhtmlBox.shapeType == 'polygon' || dhtmlBox.shapeType == 'line') { //init
      	  jg.clear();
	      //jg2.clear();
    	  dhtmlBox.cnv_clicks = 0;
	      dhtmlBox.draw_x = new Array();
    	  dhtmlBox.draw_y = new Array();
	      dhtmlBox.measure = 0;
		  dhtmlBox.dblClick = false;
    	  dhtmlBox.keyEscape = false;
	  }
    }
  }
  if (dhtmlBox.action == 'submit' && (dhtmlBox.shapeType == 'polygon' || dhtmlBox.shapeType == 'line')) {
    dhtmlBox.drag = false; // to provide the curves draw (ie for polygon or line selection submit, TODO test if curves can be used
  } else {
	dhtmlBox.drag = true; // the mouse is down
  }
}

function dhtmlBox_mousemove(evt) {
  var e = new xEvent(evt);

  //show the coords display
  xShow(dhtmlBox.displayContainer);

  if(dhtmlBox.drag && dhtmlBox.isActive) { //the mouse is down
    dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y2 = e.offsetY;
	if (dhtmlBox.shapeType == 'point') {
      jg.clear();
      dhtmlBox.x1 = dhtmlBox.x2;
      dhtmlBox.y1 = dhtmlBox.y2;
    }
	jg2.clear();
    dhtmlBox.paint();
	if (dhtmlBox.shapeType == 'polygon') dhtmlBox.lastLinePaint(); // last line is drawn while moving
  }
  else if ((dhtmlBox.shapeType == 'polygon' || dhtmlBox.shapeType == 'line') && dhtmlBox.isActive == true) {
      dhtmlBox.x2 = e.offsetX;
      dhtmlBox.y2 = e.offsetY;
      dhtmlBox.lastLinePaint(); // the last line is drawn while moving
  }
  // display the coordinates
  dhtmlBox.displayCoords.innerHTML = dhtmlBox.coord_msg + Math.round((e.offsetX * dhtmlBox.pixel_size) + dhtmlBox.boxx)  +" / "+ Math.round(((dhtmlBox.mapHeight - e.offsetY) * dhtmlBox.pixel_size) + dhtmlBox.boxy);
}

function dhtmlBox_mouseup(evt) {
  var e = new xEvent(evt);

  if (dhtmlBox.rightclic == true) {
    jg2.clear();
  } else if (dhtmlBox.isActive) {

    dhtmlBox.drag = false; //the mouse is now up

    dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y2 = e.offsetY;

    //the box is too small
    if(((Math.abs(dhtmlBox.x1-dhtmlBox.x2) <= dhtmlBox.jitter) || (Math.abs(dhtmlBox.y1-dhtmlBox.y2) <= dhtmlBox.jitter)) && dhtmlBox.shapeType == 'rectangle') {
      dhtmlBox.x2 = dhtmlBox.x1 = Math.abs(dhtmlBox.x1-dhtmlBox.x2) /2 + Math.min(dhtmlBox.x1, dhtmlBox.x2); //zoom to center of the box
      dhtmlBox.y2 = dhtmlBox.y1 = Math.abs(dhtmlBox.y1-dhtmlBox.y2) /2 + Math.min(dhtmlBox.y1, dhtmlBox.y2)
    }
	
	// rectangle draw finished
	if (dhtmlBox.shapeType == 'point' || dhtmlBox.shapeType == 'rectangle' || dhtmlBox.shapeType == 'pan') dhtmlBox.isActive = false;
	
	// polygon closed by click on the first point
	if (dhtmlBox.shapeType == 'polygon' && Math.abs(dhtmlBox.x2 - dhtmlBox.draw_x[1]) <= dhtmlBox.jitter && Math.abs(dhtmlBox.y2 - dhtmlBox.draw_y[1]) <= dhtmlBox.jitter && dhtmlBox.draw_x.length > 2) {
		dhtmlBox.keyEscape = true;
		dhtmlBox.isActive = false;
		jg2.clear();
	}
    dhtmlBox.paint();
  }
}

function dhtmlBox_mouseout(evt) {
  var e = new xEvent(evt);

  xHide(dhtmlBox.displayContainer);
  jg2.clear();
}

function dhtmlBox_dblclick(evt) {
  var e = new xEvent(evt)
  dhtmlBox.dblClick = true
  dhtmlBox.isActive = false
  jg2.clear()
  dhtmlBox.paint()
}

function dhtmlBox_keydown(evt) { // 
  if (evt.keyCode == '27') {
    dhtmlBox.keyEscape = true
    dhtmlBox.isActive = false
    jg2.clear()
	if (dhtmlBox.action == 'submit') {
		dhtmlBox.changeTool() // cancel the use of the current tool
		dhtmlBox.resizeAndMoveDivs()
		xHide(dhtmlBox.anchor)
	}
	else if (dhtmlBox.action == 'measure') {
		dhtmlBox.paint() //
	}
  }
}

function dhtmlBox_paint() { // draws alternatively boxes, lines, polylines, crosses, or pan the map
  var x, y, w, h;

  x = Math.min(this.x1, this.x2);
  y = Math.min(this.y1, this.y2);

  if (this.shapeType == 'pan') {
    var dx = this.x2 - this.x1
    var dy = this.y2 - this.y1

    xMoveTo(this.image,dx + xPageX(this.anchor),dy + xPageY(this.anchor))
    xClip(this.image,(dy<0)? Math.abs(dy):0,(dx>0)? this.width - dx : this.width,(dy>0)? this.height-dy:this.height,(dx<0)? Math.abs(dx):0)
	
	this.Xpoints[0] = dhtmlBox.width/2 - (dhtmlBox.x2 - dhtmlBox.x1)
    this.Ypoints[0] = dhtmlBox.height/2 - (dhtmlBox.y2 - dhtmlBox.y1)
    //xResizeTo(this.image,(dy<0)? Math.abs(dy):0,(dx>0)? this.width - dx : this.width,(dy>0)? this.height-dy:this.height,(dx<0)? Math.abs(dx):0);
  }
  else if (this.shapeType == 'point' ||
	(this.shapeType == 'rectangle' && this.x1==this.x2 && this.y1==this.y2)) { //draws only a cross
	jg.clear();
    jg.drawLineW(x-this.cursorsize,y - this.thickness /2,this.cursorsize * 2);
    jg.drawLineH(x - this.thickness /2,y-this.cursorsize ,this.cursorsize * 2);
    jg.paint();
	this.Xpoints[0] = x
	this.Ypoints[0] = y
	if (this.shapeType == 'rectangle') { // submit a rectangle coords (2 equal coords)
	  this.Xpoints[1] = this.x2
	  this.Ypoints[1] = this.y2
	}
  }
  else if (this.shapeType == 'rectangle') {
      w = Math.abs(this.x1-this.x2)
      h = Math.abs(this.y1-this.y2)
      jg.clear()
      jg.drawRect(x,y,w,h,this.thickness)
      jg.paint()
  	  this.Xpoints[0] = this.x1
	  this.Ypoints[0] = this.y1
	  this.Xpoints[1] = this.x2
	  this.Ypoints[1] = this.y2
  }
  else if (this.shapeType == 'line' || this.shapeType == 'polygon') {
    if (!this.keyEscape) { // Escape key is pressed
      ++this.cnv_clicks;
      this.draw_x[this.cnv_clicks] = this.x2;
      this.draw_y[this.cnv_clicks] = this.y2;
    }
    this.Xpoints[this.cnv_clicks - 1] = this.draw_x[this.cnv_clicks];
    this.Ypoints[this.cnv_clicks - 1] = this.draw_y[this.cnv_clicks];
    if (xUA.indexOf('mac_')!=-1 && xUA.indexOf('msie')!=-1) { // IE/Mac specificity
	  if (!this.isActive && this.shapeType == 'polygon') {
        this.Xpoints[this.cnv_clicks] = this.draw_x[1];
        this.Ypoints[this.cnv_clicks] = this.draw_y[1];	  	
	  }
      jg.clear();
      jg.drawPolylinePts(this.Xpoints,this.Ypoints, this.d2pts);
    }
    else {
        jg.drawLinePts(this.draw_x[this.cnv_clicks],this.draw_y[this.cnv_clicks],this.draw_x[this.cnv_clicks - 1],this.draw_y[this.cnv_clicks - 1],this.d2pts);
      	if (!this.isActive  && this.shapeType == 'polygon') // close the polygon
          jg.drawLinePts(this.draw_x[this.cnv_clicks],this.draw_y[this.cnv_clicks],this.draw_x[1],this.draw_y[1],this.d2pts);		
      }
    }
    jg.paint();
	// submit the form with the values
	if (dhtmlBox.action == 'submit' && !this.isActive ) {
		dhtmlBox.submitForm()
	}
	if (dhtmlBox.action == 'measure') {
		dhtmlBox.measureShape()
	}
}

function dhtmlBox_lastLinePaint() {

  var x2 = this.x2;
  var y2 = this.y2;
  var x = this.draw_x[this.cnv_clicks];
  var y = this.draw_y[this.cnv_clicks];
  var x0 = this.draw_x[1];
  var y0 = this.draw_y[1];

//  if (xIE || xUA.indexOf('mac')!=-1) { //use the drawing API
  if (xUA.indexOf('mac')!=-1) { //use the drawing API
    jg2.clear();
    jg2.drawLinePts(x2,y2,x,y,this.d2pts); //draw the last vertex
    if (this.shapeType == 'polygon') {
      jg2.drawLinePts(x2,y2,x0,y0,this.d2pts) // also draw the line to close the polygon
    }
    jg2.paint()
  }
  else { //doesn't use the drawing API
  
    if (this.canvas2.innerHTML == '') { // create the DIVs if doesn't exist
      for (var i=0; i< this.nbPts * 2; i++) {
        this["vertexPt"+i] = xCreateElement('div')
        xAppendChild(this.canvas2,this["vertexPt"+i],200)
        this["vertexPt"+i].className = "point"
        xHide(this["vertexPt"+i])
        if (this["vertexPt"+i].style) this["vertexPt"+i].style.position = "absolute"
      }
    }
    var dx = x2 - x
    var dy = y2 - y
    for (var i=0;i<this.nbPts;i++) {
      var a = this["vertexPt"+i]
      xMoveTo(a,x + dx *i/ this.nbPts,y + dy *i/ this.nbPts)
      xShow(a)
    }
    if (this.shapeType == 'polygon') {
      var dx0 = x2 - x0
      var dy0 = y2 - y0
      for (var i=this.nbPts;i<this.nbPts * 2;i++) {
        var a = this["vertexPt"+i]
        xMoveTo(a,x0 + dx0 * (i-this.nbPts)/this.nbPts,y0 + dy0 * (i-this.nbPts) / this.nbPts)
        xShow(a);
      }
    }
  }
}

function dhtmlBox_submitForm() {
	var coords = new String()
	if (this.dblClick) { // manually delete 2 not needed values
		this.Xpoints.splice(this.Xpoints.length - 2, 2)
	}
	for (i = 0; i < this.Xpoints.length; i++) {
		coords += this.Xpoints[i] +"," + this.Ypoints[i] + ";"
	}
	if (dhtmlBox.shapeType == 'polygon') coords += this.Xpoints[0] +"," + this.Ypoints[0] + ";"  // last point equal to first
	myform.selection_coords.value = coords.substring(0,coords.length - 1) // delete the last coma
	// change the value of the tool form input
/*    for (var i =0; i < myform.tool.length ; i++) {
        if (myform.tool[i].checked) {
		    myform.tool[i].value = this.toolName
		}
	}
*/
	myform.selection_type.value = (this.shapeType == "pan") ? "point" : this.shapeType
//	alert ("type : " + myform.selection_coords.value + "\n coords : " + myform.selection_coords.value)
	xShow(dhtmlBox.anchor);
   	myform.submit();
}

function dhtmlBox_measureShape() {
	if (this.shapeType == 'line') { //Calculate the distance and display it
	  if (this.cnv_clicks > 1 && !this.keyEscape) {
        // distance calculation
        this.dist_x = (this.draw_x[this.cnv_clicks] - this.draw_x[this.cnv_clicks - 1]) * this.pixel_size;
        this.dist_y = (this.draw_y[this.cnv_clicks] - this.draw_y[this.cnv_clicks - 1]) * this.pixel_size;
        this.measure += Math.sqrt(this.dist_x * this.dist_x + this.dist_y * this.dist_y);
      }
	  
      if (this.dist_unit.indexOf('k') != -1) this.measure = Math.round(this.measure*100)/100
      else this.measure = Math.round(this.measure)
      this.displayMeasure.innerHTML = this.dist_msg + this.measure.toString() + this.dist_unit
	}
	if (this.shapeType == 'polygon') { // calculate the surface and display it
	  if (this.cnv_clicks > 1  && !this.keyEscape) {
        //surface calculation
        var i = 0;
        this.measure = 0;
        while (i < this.cnv_clicks - 1) {
          this.measure += this.Xpoints[i] * this.Ypoints[i+1] - this.Xpoints[i+1] * this.Ypoints[i];
          ++i;
        }
        this.measure += this.Xpoints[this.cnv_clicks -1] * this.Ypoints[0] - this.Xpoints[0] * this.Ypoints[this.cnv_clicks -1];
        var pix_surf = this.pixel_size * this.pixel_size;
        this.measure = Math.abs(this.measure.toString()) / 2 * pix_surf;
	  }
      if (this.surf_unit.indexOf('k') != -1) this.measure = Math.round(this.measure*10000)/10000
	  else this.measure = Math.round(this.measure)
      this.displayMeasure.innerHTML = this.surf_msg+ this.measure +this.surf_unit;
    }
}

new dhtmlBox(0);

dhtmlBox.prototype.initialize = dhtmlBox_initialize // create instance method
dhtmlBox.prototype.resizeAndMoveDivs = dhtmlBox_resizeAndMoveDivs
dhtmlBox.prototype.domousedown = dhtmlBox_mousedown
dhtmlBox.prototype.domousemove = dhtmlBox_mousemove
dhtmlBox.prototype.domouseup = dhtmlBox_mouseup
dhtmlBox.prototype.domouseout = dhtmlBox_mouseout
dhtmlBox.prototype.dodblclick = dhtmlBox_dblclick
dhtmlBox.prototype.dokeydown = dhtmlBox_keydown
dhtmlBox.prototype.paint = dhtmlBox_paint
dhtmlBox.prototype.lastLinePaint = dhtmlBox_lastLinePaint // draw the last straight vertex for the measure tool
dhtmlBox.prototype.changeTool = dhtmlBox_changetool
dhtmlBox.prototype.submitForm = dhtmlBox_submitForm
dhtmlBox.prototype.measureShape = dhtmlBox_measureShape

--- NEW FILE: Copie de navTools.js ---
// Global variables

// dhtmlBox constructor
function dhtmlBox() {
  this.anchor = xGetElementById("mapAnchorDiv");
  this.target = xGetElementById("mainDHTMLDiv");
  this.image = xGetElementById("mapImageDiv");
  this.canvas = xGetElementById("myCanvasDiv");
  this.canvas2 = xGetElementById("myCanvas2Div");
  this.displayContainer = xGetElementById("diplayContainerDiv");
  this.displayCoords = xGetElementById("displayCoordsDiv");
  this.displayMeasure = xGetElementById("displayMeasureDiv");

  this.x1 = this.y1 = this.x2 = this.y2 = -1;
  this.drag = false;
  this.isActive = false;
  this.dblClick = false;
  this.keyEscape = false;
}

// method prototypes
function dhtmlBox_initialize() {
  jg = new jsGraphics(this.canvas.id); // a drawing canvas for the lines and points
  jg2 = new jsGraphics(this.canvas2.id); // a drawing canvas for the last moving vertex

  // make the previous tool selected the current one
  for (var i =0; i < myform.tool.length ; i++) {
    if (myform.tool[i].checked) {
      dhtmlBox.changeTool('','','',myform.tool[i].value);
    }
  }
  
  // HACK FOR selection tool: find a better solution !!
  if (myform.tool.length >= 5 && myform.tool[4].checked) {
     dhtmlBox.changeTool('query');
  }
  
  this.target.style.zIndex = 1000;

  this.width = xWidth(this.anchor);
  this.height = xHeight(this.anchor);

  xResizeTo(this.image,this.width,this.height);
  xResizeTo(this.target,this.width,this.height);
  xResizeTo(this.canvas,this.width,this.height);
  xResizeTo(this.canvas2,this.width,this.height);
  xWidth(this.displayContainer,this.width);

  xMoveTo(this.image,xPageX(this.anchor),xPageY(this.anchor));
  xMoveTo(this.target,xPageX(this.anchor),xPageY(this.anchor));
  xMoveTo(this.canvas,xPageX(this.anchor),xPageY(this.anchor));
  xMoveTo(this.canvas2,xPageX(this.anchor),xPageY(this.anchor));
  xShow(this.image);

  if (this.dispPos == "top") this.dispPos = -13;
  else if (this.dispPos == "bottom") this.dispPos = this.height;
  else this.dispPos = 0;
  xMoveTo(this.displayContainer,xPageX(this.anchor),xPageY(this.anchor) + this.dispPos);

  xClip(this.target,0,this.width,this.height,0);
}

/*
function dhtmlBox_changetool(tool) {// the mouse events are managed in this function according to the mapping tool selected
  myform.tool.value = tool;
  this.currentTool = tool.toLowerCase();

  // clear the drawing canvas
  jg.clear();

  xRemoveEventListener(this.target,'mousedown',this.domousedown);
  xRemoveEventListener(this.target,'mouseup',this.domouseup);
  xRemoveEventListener(this.target,'mousemove',this.domousemove);
  xRemoveEventListener(this.target,'mouseout',this.domouseout);
  xRemoveEventListener(this.target, 'dblclick', this.dodblclick);
  
  xAddEventListener(this.target,'mousedown',this.domousedown);
  xAddEventListener(this.target,'mouseup',this.domouseup);
  xAddEventListener(this.target,'mousemove',this.domousemove);
  xAddEventListener(this.target,'mouseout',this.domouseout);

  xAddEventListener(document,'keydown',this.dokeydown);

  if (this.currentTool == 'distance' || this.currentTool == 'surface' || this.currentTool == 'polygon' || this.currentTool == 'line') {
    this.isActive = false;
    this.distance = 0;
    this.displayCoords.innerHTML = '';
    this.displayMeasure.innerHTML = '';
    xAddEventListener(this.target,'dblclick', this.dodblclick);
  }

  // cursor style
  if (this.currentTool == 'zoom_in' || this.currentTool == 'zoom_out' || this.currentTool == 'distance' || this.currentTool == 'surface' || this.currentTool == 'polygon' || this.currentTool == 'line') {
    if (this.target.style) this.target.style.cursor = "crosshair";
  } else if (this.currentTool == 'pan') {
    if (this.target.style) this.target.style.cursor = "move";
  } else if (this.currentTool == 'query') {
    if (this.target.style) this.target.style.cursor = "help";
  }
  jg.paint();
}
*/

// the mouse events are managed in this function according to the mapping tool selected
// shape accepted values : point, rectangle, line, polygon
// action : submit, measure
// cursorStyle : crosshair, help, move
// TODO tool name not necessary
// tool : name of the tool (ie query, zoomin,
function dhtmlBox_changetool(shape,action,cursorStyle,tool) {
//  myform.tool.value = tool;
  this.currentTool = tool.toLowerCase();
  this.shapeType = shape;
  this.action = action;
  // clear the drawing canvas
  jg.clear();

  xRemoveEventListener(this.target,'mousedown',this.domousedown);
  xRemoveEventListener(this.target,'mouseup',this.domouseup);
  xRemoveEventListener(this.target,'mousemove',this.domousemove);
  xRemoveEventListener(this.target,'mouseout',this.domouseout);
  xRemoveEventListener(this.target, 'dblclick', this.dodblclick);
  
  xAddEventListener(this.target,'mousedown',this.domousedown);
  xAddEventListener(this.target,'mouseup',this.domouseup);
  xAddEventListener(this.target,'mousemove',this.domousemove);
  xAddEventListener(this.target,'mouseout',this.domouseout);

  xAddEventListener(document,'keydown',this.dokeydown);
  
  this.isActive = false;

  if (this.shapeType == 'polygon' || this.shapeType == 'line') {
    xAddEventListener(this.target,'dblclick', this.dodblclick);
  }

  // cursor style
  if (this.target.style) this.target.style.cursor = cursorStyle;
  jg.paint();
}

function dhtmlBox_mousedown(evt) {
  var e = new xEvent(evt);
  
  if (!(xUA.indexOf('mac_')!=-1 && xUA.indexOf('msie')!=-1) && evt.button == 2) { //right clic
    dhtmlBox.rightclic = true;
  } else {
    dhtmlBox.rightclic = false;

    dhtmlBox.x1 = dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y1 = dhtmlBox.y2 = e.offsetY;
	
    if (dhtmlBox.shapeType == "point") {
      jg.clear();  // if page not reloaded automaticaly, previous crosses are deleted
    }
	
	if (!dhtmlBox.isActive) {
	  dhtmlBox.isActive = true;
	  if (dhtmlBox.shapeType == 'polygon' || dhtmlBox.shapeType == 'line') { //init
      	  jg.clear();
	      //jg2.clear();
    	  dhtmlBox.cnv_clicks = 0;
	      dhtmlBox.draw_x = new Array();
    	  dhtmlBox.draw_y = new Array();
	      dhtmlBox.Xpoints = new Array();
    	  dhtmlBox.Ypoints = new Array();
	      dhtmlBox.distance = 0;
		  dhtmlBox.dblClick = false;
    	  dhtmlBox.keyEscape = false;
	  }
    }

  }
  if (dhtmlBox.action == 'submit' && (dhtmlBox.shapeType == 'polygon' || dhtmlBox.shapeType == 'line')) {
    dhtmlBox.drag = false; // to provide the curves draw (ie for polygon or line selection submit, TODO test if curves can be used
  } else {
	dhtmlBox.drag = true; // the mouse is down
  }
}

function dhtmlBox_mousemove(evt) {
  var e = new xEvent(evt);

  //show the coords display
  xShow(dhtmlBox.displayContainer);

  if(dhtmlBox.drag) { //the mouse is down
    dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y2 = e.offsetY;
	if (dhtmlBox.shapeType == 'point') {
      jg.clear();
      dhtmlBox.x1 = dhtmlBox.x2;
      dhtmlBox.y1 = dhtmlBox.y2;
    }
    dhtmlBox.paint();
  }
  else if ((dhtmlBox.shapeType == 'polygon' || dhtmlBox.shapeType == 'line') && dhtmlBox.isActive == true) {
      dhtmlBox.x2 = e.offsetX;
      dhtmlBox.y2 = e.offsetY;
      dhtmlBox.lastLinePaint(); // the last line is drawn while moving
  }
    // display the coordinates
    dhtmlBox.displayCoords.innerHTML = dhtmlBox.coord_msg + Math.round((e.offsetX * dhtmlBox.pixel_size) + dhtmlBox.boxx)  +" / "+ Math.round(((dhtmlBox.mapHeight - e.offsetY) * dhtmlBox.pixel_size) + dhtmlBox.boxy);
}

function dhtmlBox_mouseup(evt) {
  var e = new xEvent(evt);

  if (dhtmlBox.rightclic == true) {
    jg2.clear();
  } else {

    dhtmlBox.drag = false; //the mouse is now up

    dhtmlBox.x2 = e.offsetX;
    dhtmlBox.y2 = e.offsetY;

    //the box is too small
    if(((Math.abs(dhtmlBox.x1-dhtmlBox.x2) <= dhtmlBox.jitter) || (Math.abs(dhtmlBox.y1-dhtmlBox.y2) <= dhtmlBox.jitter)) && dhtmlBox.currentTool == 'zoom_in') {
      dhtmlBox.x2 = dhtmlBox.x1 = Math.abs(dhtmlBox.x1-dhtmlBox.x2) /2 + Math.min(dhtmlBox.x1, dhtmlBox.x2); //zoom to center of the box
      dhtmlBox.y2 = dhtmlBox.y1 = Math.abs(dhtmlBox.y1-dhtmlBox.y2) /2 + Math.min(dhtmlBox.y1, dhtmlBox.y2)
    }
	
	// rectangle draw finished
	if (dhtmlBox.shapeType == 'point' || dhtmlBox.shapeType == 'rectangle') dhtmlBox.isActive = false;
	
	// polygon closed by click on the first point
	if (dhtmlBox.shapeType == 'polygon' && Math.abs(dhtmlBox.x2 - dhtmlBox.draw_x[1]) <= dhtmlBox.jitter && Math.abs(dhtmlBox.y2 - dhtmlBox.draw_y[1]) <= dhtmlBox.jitter && dhtmlBox.draw_x.length > 2) {
		dhtmlBox.keyEscape = true;
		dhtmlBox.isActive = false;
		jg2.clear();
	}
    dhtmlBox.paint();
  }
}

function dhtmlBox_mouseout(evt) {
  var e = new xEvent(evt);

  xHide(dhtmlBox.displayContainer);
  jg2.clear();
}

function dhtmlBox_dblclick(evt) {
  var e = new xEvent(evt)
  dhtmlBox.dblClick = true
  dhtmlBox.isActive = false
  jg2.clear()
  dhtmlBox.paint()
}

function dhtmlBox_keydown(evt) { // 
  evt = (evt) ? evt : ((event) ? event : null)
  dhtmlBox = dhtmlBox
  if (evt.keyCode == '27' && (dhtmlBox.shapeType == 'polygon'  || dhtmlBox.shapeType == 'line')) {
    dhtmlBox.keyEscape = true
    dhtmlBox.isActive = false
    jg2.clear()
    dhtmlBox.paint()
  }
}

function dhtmlBox_paint() { // draws alternatively boxes, lines, polylines, crosses, or pan the map
  var x, y, w, h;

  x = Math.min(this.x1, this.x2);
  y = Math.min(this.y1, this.y2);

  if (this.shapeType == 'point') { //draws only a cross
      jg.drawLineW(x-this.cursorsize,y - this.thickness /2,this.cursorsize * 2);
      jg.drawLineH(x - this.thickness /2,y-this.cursorsize ,this.cursorsize * 2);
      jg.paint();
  }
  else if (this.shapeType == 'rectangle') {
    if(this.x1==this.x2 && this.y1==this.y2) {
        jg.clear()
        jg.drawLineW(x-this.cursorsize,y - this.thickness /2,this.cursorsize * 2)
        jg.drawLineH(x - this.thickness /2,y-this.cursorsize ,this.cursorsize * 2)
        jg.paint()

    } else {
      w = Math.abs(this.x1-this.x2)
      h = Math.abs(this.y1-this.y2)
      jg.clear()
      jg.drawRect(x,y,w,h,this.thickness)
      jg.paint()
    }
  }
  else if (this.currentTool == 'pan') {
    var dx,dy

    dx = this.x2 - this.x1
    dy = this.y2 - this.y1

    xMoveTo(this.image,dx + xPageX(this.anchor),dy + xPageY(this.anchor))
    xClip(this.image,(dy<0)? Math.abs(dy):0,(dx>0)? this.width - dx : this.width,(dy>0)? this.height-dy:this.height,(dx<0)? Math.abs(dx):0)
    //xResizeTo(this.image,(dy<0)? Math.abs(dy):0,(dx>0)? this.width - dx : this.width,(dy>0)? this.height-dy:this.height,(dx<0)? Math.abs(dx):0);
  }

  else if (this.shapeType == 'line') {
    if (!this.keyEscape) { // Escape key is pressed
      ++this.cnv_clicks;
      this.draw_x[this.cnv_clicks] = this.x2;
      this.draw_y[this.cnv_clicks] = this.y2;
    }
    this.Xpoints[this.cnv_clicks - 1] = this.draw_x[this.cnv_clicks];
    this.Ypoints[this.cnv_clicks - 1] = this.draw_y[this.cnv_clicks];
    if (xUA.indexOf('mac_')!=-1 && xUA.indexOf('msie')!=-1) { // IE/Mac specificity
      jg.clear();
      jg.drawPolylinePts(this.Xpoints,this.Ypoints, this.d2pts);
    }
    else {
        jg.drawLinePts(this.draw_x[this.cnv_clicks],this.draw_y[this.cnv_clicks],this.draw_x[this.cnv_clicks - 1],this.draw_y[this.cnv_clicks - 1],this.d2pts);
    }
	if (this.action == 'measure') { //Calculate the distance and display it
	  if (this.cnv_clicks > 1 && !this.keyEscape) {
        // distance calculation
        this.dist_x = (this.draw_x[this.cnv_clicks] - this.draw_x[this.cnv_clicks - 1]) * this.pixel_size;
        this.dist_y = (this.draw_y[this.cnv_clicks] - this.draw_y[this.cnv_clicks - 1]) * this.pixel_size;
        this.distance += Math.sqrt(this.dist_x * this.dist_x + this.dist_y * this.dist_y);
      }
      if (this.dist_unit == ' m.') this.distance = Math.round(this.distance);
      else if (this.dist_unit == ' km.') this.distance = Math.round(this.distance*100)/100;
      this.displayMeasure.innerHTML = this.dist_msg + this.distance.toString() + this.dist_unit;
	}
    jg.paint();
  }
  else if (this.shapeType == 'polygon') {
    if (!this.keyEscape) { // Escape key is pressed
      ++this.cnv_clicks;
      this.draw_x[this.cnv_clicks] = this.x2;
      this.draw_y[this.cnv_clicks] = this.y2;
    }
    this.Xpoints[this.cnv_clicks - 1] = this.draw_x[this.cnv_clicks];
    this.Ypoints[this.cnv_clicks - 1] = this.draw_y[this.cnv_clicks];
    if (xUA.indexOf('mac_')!=-1 && xUA.indexOf('msie')!=-1) { // IE/Mac specificity
      if (!this.isActive) { // close the polygon
        this.Xpoints[this.cnv_clicks] = this.draw_x[1];
        this.Ypoints[this.cnv_clicks] = this.draw_y[1];
      }
      jg.clear();
      jg.drawPolylinePts(this.Xpoints,this.Ypoints, this.d2pts);
    }
    else {
      jg.drawLinePts(this.draw_x[this.cnv_clicks],this.draw_y[this.cnv_clicks],this.draw_x[this.cnv_clicks - 1],this.draw_y[this.cnv_clicks - 1],this.d2pts);
      if (!this.isActive) { // close the polygon
        jg.drawLinePts(this.draw_x[this.cnv_clicks],this.draw_y[this.cnv_clicks],this.draw_x[1],this.draw_y[1],this.d2pts);		
      }
    }

	if (this.action == 'measure') { // calculate the surface and display it
	  if (this.cnv_clicks > 1  && !this.keyEscape) {
        //surface calculation
        var i = 0;
        this.distance = 0;
        while (i < this.cnv_clicks - 1) {
          this.distance += this.Xpoints[i] * this.Ypoints[i+1] - this.Xpoints[i+1] * this.Ypoints[i];
          ++i;
        }
        this.distance += this.Xpoints[this.cnv_clicks -1] * this.Ypoints[0] - this.Xpoints[0] * this.Ypoints[this.cnv_clicks -1];
        var pix_surf = this.pixel_size * this.pixel_size;
        this.distance = Math.abs(this.distance.toString()) / 2 * pix_surf;
	  }
      if (this.surf_unit == ' m2.') this.distance = Math.round(this.distance);
      else if (this.surf_unit == ' km2.') this.distance = Math.round(this.distance*10000)/10000;
      this.displayMeasure.innerHTML = this.surf_msg+ this.distance +this.surf_unit;
    }
	jg.paint();
	

	}
	// submit the form with the values
	if (dhtmlBox.action == 'submit' && !this.isActive ) {
		if (dhtmlBox.shapeType == 'point') {
			myform.selection_coords.value = x+","+y
		}
		else if (dhtmlBox.shapeType == 'rectangle') {
			dhtmlBox.removeEventsWait();
      		myform.selection_coords.value = dhtmlBox.x1+" "+dhtmlBox.y1+","+dhtmlBox.x2+" "+dhtmlBox.y2
		}
		else if (dhtmlBox.shapeType == 'line' || dhtmlBox.shapeType == 'polygon') {
			var coords = new String()
			for (i = 0; i < this.Xpoints.length; i++) {
				coords += this.Xpoints[i] +" " + this.Ypoints[i] + ","
			}
			if (dhtmlBox.shapeType == 'polygon') coords += this.Xpoints[0] +" " + this.Ypoints[0] + ","  // last point equal to first
			myform.selection_coords.value = coords.substring(0,coords.length - 1)

		}
		alert (myform.selection_coords.value)
		xShow(dhtmlBox.anchor);
      	myform.submit();		
  }
}


function dhtmlBox_lastLinePaint() {

  var x2 = this.x2;
  var y2 = this.y2;
  var x = this.draw_x[this.cnv_clicks];
  var y = this.draw_y[this.cnv_clicks];
  var x0 = this.draw_x[1];
  var y0 = this.draw_y[1];

  if (xIE || xUA.indexOf('mac')!=-1) { //use the drawing API
    jg2.clear();
    jg2.drawLinePts(x2,y2,x,y,this.d2pts); //draw the last vertex
    if (this.shapeType == 'polygon') {
      jg2.drawLinePts(x2,y2,x0,y0,this.d2pts); // also draw the line to close the polygon
    }
    jg2.paint();
  }
  else { //doesn't use the drawing API
    if (this.canvas2.innerHTML == '') { // create the DIVs if doesn't exist
      for (var i=0; i< this.nbPts * 2; i++) {
        this["vertexPt"+i] = xCreateElement('div');
        xAppendChild(this.canvas2,this["vertexPt"+i],200);
        this["vertexPt"+i].className = "point";
        xHide(this["vertexPt"+i]);
        if (this["vertexPt"+i].style) this["vertexPt"+i].style.position = "absolute";
      }
    }
    var dx = x2 - x;
    var dy = y2 - y;
    for (var i=0;i<this.nbPts;i++) {
      var a = this["vertexPt"+i];
      xMoveTo(a,x + dx *i/ this.nbPts,y + dy *i/ this.nbPts);
      xShow(a);
    }
    if (this.shapeType == 'polygon') {
      var dx0 = x2 - x0;
      var dy0 = y2 - y0;
      for (var i=this.nbPts;i<this.nbPts * 2;i++) {
        var a = this["vertexPt"+i];
        xMoveTo(a,x0 + dx0 * (i-this.nbPts)/this.nbPts,y0 + dy0 * (i-this.nbPts) / this.nbPts);
        xShow(a);
      }
    }
  }
}



new dhtmlBox(0);

dhtmlBox.prototype.initialize = dhtmlBox_initialize; // create instance method
dhtmlBox.prototype.domousedown = dhtmlBox_mousedown;
dhtmlBox.prototype.domousemove = dhtmlBox_mousemove;
dhtmlBox.prototype.domouseup = dhtmlBox_mouseup;
dhtmlBox.prototype.domouseout = dhtmlBox_mouseout;
dhtmlBox.prototype.dodblclick = dhtmlBox_dblclick;
dhtmlBox.prototype.dokeydown = dhtmlBox_keydown;
dhtmlBox.prototype.paint = dhtmlBox_paint;
dhtmlBox.prototype.lastLinePaint = dhtmlBox_lastLinePaint; // draw the last straight vertex for the measure tool
dhtmlBox.prototype.changeTool = dhtmlBox_changetool;
dhtmlBox.prototype.removeEventsWait = dhtmlBox_removeEventsWait;

/*
function changeTool(dhtmlBox,tool) {
  dhtmlBox.changetool(tool);
}
*/

function dhtmlBox_removeEventsWait() {
   xRemoveEventListener(this.target, 'mousemove', this.domousemove);
   if (this.target.style) this.target.style.cursor = "wait";
}



From stef at berlios.de  Sun Feb 20 23:06:49 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:06:49 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire/lang ecrire_ar.php3,NONE,1.1
Message-ID: <200502202206.j1KM6n8Y027024@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire/lang
In directory sheep:/tmp/cvs-serv27012/ecrire/lang

Added Files:
	ecrire_ar.php3 
Log Message:
1.8pr1

--- NEW FILE: ecrire_ar.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => '&#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605; &#1605;&#1606; &#1575;&#1604;&#1578;&#1593;&#1604;&#1610;&#1605;&#1575;&#1578; &#1575;&#1604;&#1601;&#1608;&#1585;&#1610;&#1577; &#1594;&#1610;&#1585; &#1605;&#1578;&#1608;&#1575;&#1601;&#1585; &#1581;&#1575;&#1604;&#1610;&#1575;&#1611; &#1576;&#1607;&#1584;&#1607; &#1575;&#1604;&#1604;&#1594;&#1577;.',
'avis_acces_interdit' => '&#1575;&#1604;&#1583;&#1582;&#1608;&#1604; &#1605;&#1581;&#1592;&#1608;&#1585;',
'avis_article_modifie' => '&#1578;&#1581;&#1584;&#1610;&#1585;&#1548; &#1578;&#1605; &#1575;&#1604;&#1593;&#1605;&#1604; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604; &#1605;&#1606; &#1602;&#1576;&#1604; @nom_auteur_modif@ &#1605;&#1606;&#1584; @date_diff@ &#1583;&#1602;&#1610;&#1602;&#1577;',
'avis_aucun_resultat' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1606;&#1578;&#1575;&#1574;&#1580;.',
'avis_chemin_invalide_1' => '&#1604;&#1575; &#1610;&#1576;&#1583;&#1608; &#1575;&#1604;&#1605;&#1587;&#1575;&#1585;',
'avis_chemin_invalide_2' => '&#1575;&#1604;&#1584;&#1610; &#1581;&#1583;&#1583;&#1578;&#1607; &#1589;&#1575;&#1604;&#1581;&#1575;&#1611;. &#1575;&#1604;&#1585;&#1580;&#1575;&#1569; &#1575;&#1604;&#1593;&#1608;&#1583;&#1577; &#1575;&#1604;&#1609; &#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1587;&#1575;&#1576;&#1602;&#1577; &#1608;&#1575;&#1604;&#1578;&#1571;&#1603;&#1583; &#1605;&#1606; &#1575;&#1604;&#1605;&#1593;&#1604;&#1608;&#1605;&#1575;&#1578; &#1575;&#1604;&#1605;&#1583;&#1582;&#1604;&#1577;. &#1608;&#1575;&#1604;&#1578;&#1571;&#1603;&#1583; &#1605;&#1606; &#1575;&#1604;&#1605;&#1593;&#1604;&#1608;&#1605;&#1575;&#1578; &#1575;&#1604;&#1605;&#1583;&#1582;&#1604;&#1577;.',
'avis_connexion_echec_1' => '&#1601;&#1588;&#1604; &#1575;&#1604;&#1575;&#1578;&#1589;&#1575;&#1604; &#1576;&#1582;&#1575;&#1583;&#1605; MySQL.',
'avis_connexion_echec_2' => '&#1593;&#1583; &#1575;&#1604;&#1609; &#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1587;&#1575;&#1576;&#1602;&#1577; &#1608;&#1578;&#1571;&#1603;&#1583; &#1605;&#1606; &#1589;&#1581;&#1577; &#1575;&#1604;&#1605;&#1593;&#1604;&#1608;&#1605;&#1575;&#1578; &#1575;&#1604;&#1578;&#1610; &#1571;&#1583;&#1582;&#1604;&#1578;&#1607;&#1575;.',
'avis_connexion_echec_3' => '<B>&#1605;&#1604;&#1575;&#1581;&#1592;&#1577;</b> &#1601;&#1610; &#1575;&#1604;&#1593;&#1583;&#1610;&#1583; &#1605;&#1606; &#1575;&#1580;&#1607;&#1586;&#1577; &#1575;&#1604;&#1582;&#1583;&#1605;&#1577;&#1548; &#1593;&#1604;&#1610;&#1603; <b>&#1576;&#1591;&#1604;&#1576;</b> &#1578;&#1601;&#1593;&#1610;&#1604; &#1575;&#1604;&#1583;&#1582;&#1608;&#1604; &#1575;&#1604;&#1609; &#1602;&#1575;&#1593;&#1583;&#1577; MySQL &#1602;&#1576;&#1604; &#1575;&#1604;&#1578;&#1605;&#1603;&#1606; &#1605;&#1606; &#1575;&#1587;&#1578;&#1582;&#1583;&#1575;&#1605;&#1607;&#1575;. &#1575;&#1584;&#1575; &#1604;&#1605; &#1578;&#1578;&#1605;&#1603;&#1606; &#1605;&#1606; &#1575;&#1604;&#1575;&#1578;&#1589;&#1575;&#1604; &#1576;&#1575;&#1604;&#1602;&#1575;&#1593;&#1583;&#1577;&#1548; &#1578;&#1571;&#1603;&#1583; &#1605;&#1606; &#1575;&#1606;&#1603; &#1606;&#1601;&#1584;&#1578; &#1607;&#1584;&#1607; &#1575;&#1604;&#1582;&#1591;&#1608;&#1577;.',
'avis_connexion_ldap_echec_1' => '&#1575;&#1604;&#1575;&#1578;&#1589;&#1575;&#1604; &#1576;&#1582;&#1575;&#1583;&#1605; LDAP &#1601;&#1588;&#1604;.',
'avis_connexion_ldap_echec_2' => '&#1593;&#1583; &#1575;&#1604;&#1609; &#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1587;&#1575;&#1576;&#1602;&#1577; &#1608;&#1578;&#1571;&#1603;&#1583; &#1605;&#1606; &#1589;&#1581;&#1577; &#1575;&#1604;&#1605;&#1593;&#1604;&#1608;&#1605;&#1575;&#1578; &#1575;&#1604;&#1578;&#1610; &#1571;&#1583;&#1582;&#1604;&#1578;&#1607;&#1575;.',
[...1040 lines suppressed...]
'titre_sites_references_rubrique' => '&#1575;&#1604;&#1605;&#1608;&#1575;&#1602;&#1593; &#1575;&#1604;&#1605;&#1576;&#1608;&#1576;&#1577; &#1601;&#1610; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605;',
'titre_sites_syndiques' => '&#1575;&#1604;&#1605;&#1608;&#1575;&#1602;&#1593; &#1575;&#1604;&#1605;&#1585;&#1582;&#1589;&#1577;',
'titre_sites_tous' => '&#1575;&#1604;&#1605;&#1608;&#1575;&#1602;&#1593; &#1575;&#1604;&#1605;&#1576;&#1608;&#1576;&#1577;',
'titre_suivi_petition' => '&#1605;&#1578;&#1575;&#1576;&#1593;&#1577; &#1575;&#1604;&#1593;&#1585;&#1575;&#1574;&#1590;',
'titre_syndication' => '&#1578;&#1585;&#1582;&#1610;&#1589; &#1575;&#1604;&#1605;&#1608;&#1575;&#1602;&#1593;',
'trad_article_inexistant' => '&#1604;&#1575; &#1610;&#1608;&#1580;&#1583; &#1575;&#1610; &#1605;&#1602;&#1575;&#1604; &#1610;&#1581;&#1605;&#1604; &#1607;&#1584;&#1575; &#1575;&#1604;&#1585;&#1602;&#1605;.',
'trad_article_traduction' => '&#1603;&#1604; &#1575;&#1589;&#1583;&#1575;&#1585;&#1575;&#1578; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;:',
'trad_deja_traduit' => '&#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604; &#1607;&#1608; &#1578;&#1585;&#1580;&#1605;&#1577; &#1604;&#1604;&#1605;&#1602;&#1575;&#1604; &#1575;&#1604;&#1581;&#1575;&#1604;&#1610;.',
'trad_delier' => '&#1575;&#1610;&#1602;&#1575;&#1601; &#1585;&#1576;&#1591; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1601;&#1575;&#1604; &#1576;&#1578;&#1585;&#1580;&#1605;&#1575;&#1578;&#1607;',
'trad_lier' => '&#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604; &#1607;&#1608; &#1578;&#1585;&#1580;&#1605;&#1577; &#1604;&#1604;&#1605;&#1602;&#1575;&#1604; &#1585;&#1602;&#1605;:',
'trad_new' => '&#1603;&#1578;&#1575;&#1576;&#1577; &#1578;&#1585;&#1580;&#1605;&#1577; &#1580;&#1583;&#1610;&#1583;&#1577; &#1604;&#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;',


// V
'version_initiale' => '&#1575;&#1604;&#1575;&#1589;&#1583;&#1575;&#1585; &#1575;&#1604;&#1575;&#1589;&#1604;&#1610;'

);


?>



From stef at berlios.de  Sun Feb 20 23:11:43 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:11:43 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire/oo index.php3,NONE,1.1 index.php,NONE,1.1
Message-ID: <200502202211.j1KMBh8Y027199@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire/oo
In directory sheep:/tmp/cvs-serv27193/ecrire/oo

Added Files:
	index.php3 index.php 
Log Message:
1.8pr1

--- NEW FILE: index.php3 ---
<?php

// ACCESSIBILITE
// la page /oo offre une lecture en mode "texte seul"
// des 3 articles les plus recents...

@header("Location: ../index.php3?set_disp=4&set_options=basiques");

?>

--- NEW FILE: index.php ---
<?php

// ACCESSIBILITE
// la page /oo offre une lecture en mode "texte seul"
// des 3 articles les plus recents...

@header("Location: ../index.php3?set_disp=4&set_options=basiques");

?>



From stef at berlios.de  Sun Feb 20 23:13:34 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:13:34 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire/plugins plug_carto_free.php,NONE,1.1 plug_carto_distant.php,NONE,1.1 plug_carto.php,NONE,1.1
Message-ID: <200502202213.j1KMDY8Y027273@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire/plugins
In directory sheep:/tmp/cvs-serv27267/ecrire/plugins

Added Files:
	plug_carto_free.php plug_carto_distant.php plug_carto.php 
Log Message:
1.8pr1

--- NEW FILE: plug_carto_free.php ---
<?php
// Ce plug-in ajoute le raccourci typographique <mapXX|align> 
// XX est le numero de la carte
// align fonctionne comme les images (left / center / right)

//le include pour la version HTTP
include_ecrire('http.class.php');

//la rustine d'inclusion pour /ecrire ...
//abandonn? pour le moment, manque de visibilit?
function avant_typo_carto_free($texte) {
	
	if (preg_match_all("<freecarto(\d+).(\w+)>", $texte, $regs, PREG_SET_ORDER)) {
		foreach ($regs as $r) {
			$id_carte = $r[1];
			//TODO : eviter cette rustine ...
			//$cherche = "&lt;".$r[0]."&gt;";
			//heu, en fait, c'est mon editeur WYSIWYG qui fait la transformation ...
			//ca marche tr?s bien comme ca :			
			$cherche = "<".$r[0].">";
			
			//TODO : traiter l'alignement avant replace
			//Le mieux etant de les traiter ici, dans le plugin
			//car le code doit rester identique ? celui de Spip
			$align = $r[2];
			
			$http_client = new http( HTTP_V11, false);
			$http_client->host = "spipcarto.free.fr";
			//$http_client->host = "http://127.0.0.1";
			$carteurl="/carto.php3?id_carte=".$id_carte."&scale=".$_GET['scale']."&x=".$_GET['x']."&y=".$_GET['y'];
			$http_reponse=$http_client->get($carteurl);
			$remplace=embed_carto_url($id_carte,$taburl).":".$http_reponse;
			if ( $http_reponse== HTTP_STATUS_OK)
				$remplace = $http_client->get_response_body();
			else $replace= "HTTP_STATUT Error";
			unset( $http_client );
			
			//TODO : ajouter alignement ici
			$texte = str_replace($cherche, $remplace, $texte);
			
		}
	}
	
	return $texte;
}

completer_fonction("propre", "avant_typo_carto_free", "");

?>
--- NEW FILE: plug_carto_distant.php ---
<?php
// Ce plug-in ajoute le raccourci typographique <mapXX|align> 
// XX est le numero de la carte
// align fonctionne comme les images (left / center / right)

//le include pour la version HTTP
include_ecrire('http.class.php');
include_ecrire('inc_carto.php3');

//la rustine d'inclusion pour /ecrire ...
//abandonn? pour le moment, manque de visibilit?
function avant_typo_carto_distant($texte) {
	
	if (preg_match_all(",<carto_http(\d+)([|])?([a-zA-Z.]+)?>,", $texte, $regs, PREG_SET_ORDER)) {
		foreach ($regs as $r) {
			$id_carte = $r[1];
			//TODO : eviter cette rustine ...
			//$cherche = "&lt;".$r[0]."&gt;";
			//heu, en fait, c'est mon editeur WYSIWYG qui fait la transformation ...
			//ca marche tr?s bien comme ca :			
			$cherche = $r[0];
			
			//TODO : traiter l'alignement avant replace
			//Le mieux etant de les traiter ici, dans le plugin
			//car le code doit rester identique ? celui de Spip
			//$align = $r[2];
			
			//TODO : voir si on ne peut pas faire un reglage plus fin ...
			// voir aussi pour les variables pass?es en POST (pa de cache ???)
			// en attendant : 60s ca permet de tester facilement le cache et le recalcul
			$ledelai="60";
			//TODO : peut etre d'autres parametres ... ???
			//forcer un type de carte ?
			//la methode doit plutot etre fonction du serveur, 
			//mais pourquoi pas un peu de finesse de parametrage ...
			//$type_carte = $r[3];
			
			//l'url du site pars?e, ca peut servir ...
			//$taburl=parse_url(lire_meta('adresse_site'));
			//$taburl=parse_url("http://".$r[2]);
			$taburl['path']="";
			//recuperation de la map en cache
			//TODO : utiliser l'API du cache plutot que cette usine ? gaz !
			$http_client = new http( HTTP_V11, false);
			$http_client->host = $r[3];//$taburl['host'];
			$http_reponse=$http_client->get(embed_carto_url($id_carte,$taburl)) ;
			$remplace=$r[3].embed_carto_url($id_carte,$taburl).":".$http_reponse;
			if ( $http_reponse== HTTP_STATUS_OK)
				$remplace = $http_client->get_response_body();
			else $replace= "HTTP_STATUT Error";
			unset( $http_client );
			
			//TODO : ajouter alignement ici
			$texte = str_replace($cherche, $remplace, $texte);
			
		}
	}
	
	return $texte;
}

completer_fonction("propre", "avant_typo_carto_distant", "");

?>
--- NEW FILE: plug_carto.php ---
<?php
// Ce plug-in ajoute le raccourci typographique <mapXX|align> 
// XX est le numero de la carte
// align fonctionne comme les images (left / center / right)

function avant_typo_carto($texte) {
	
	if (is_int(strpos($texte, '<map')) &&
	 (preg_match_all(",<map(\d+)([|])?([a-zA-Z.]+)?>,", $texte, $regs, PREG_SET_ORDER))) {
		global $flag_ecrire;
		$id_article=$_POST['id_article'];
		if ($flag_ecrire) {
			$query = "DELETE FROM spip_carto_carte_articles WHERE id_article=$id_article";
			spip_query($query);
		}
		foreach ($regs as $r) {
			$id_carte = $r[1];
			$cartes[$id_carte] = $id_carte;
			$cherche = $r[0];
			
			//TODO : traiter l'alignement avant replace
			//Le mieux etant de les traiter ici, dans le plugin
			//car le code doit rester identique ? celui de Spip
			//$align = $r[3];
			
			//bof ...
			if ($r[3]=="")$carto_squelette ="carto";
			else $carto_squelette ="carto_".$r[3];
			
			//TODO : voir si on ne peut pas faire un reglage plus fin ...
			// voir aussi pour les variables pass?es en POST (pa de cache ???)
			// en attendant : 60s ca permet de tester facilement le cache et le recalcul
			$ledelai="60";
			//TODO : peut etre d'autres parametres ... ???
			//forcer un type de carte ?
			//la methode doit plutot etre fonction du serveur, 
			//mais pourquoi pas un peu de finesse de parametrage ...
			//$type_carte = $r[3];
			
			//l'url du site pars?e, ca peut servir ...
			//$taburl=parse_url(lire_meta('adresse_site'));
			
			
			//mettre ? jour la table de liaison avec les articles
			if ($flag_ecrire && $cartes) {
				global $couleur_claire;
				$remplace="<div><table class='gauche'><tr>" .
						"<td class='cellule36' style='width: 100px;'><a href='../$carto_squelette.php3?id_carto_carte=".$r[1]."' class='selection' target='_blank'><img src='img_pack/carte-24.png' alt=' '/>" .
						"<span>Carte ".$r[1]."</span></a></td></tr></table></div>";				
			}
			//recuperation de la map en cache
			else {
				$lecontexte['id_carto_carte']=$id_carte;
				$lechemin=generer_nom_fichier_cache($lecontexte, $carto_squelette);
				$usecache=determiner_cache($ledelai, $usecache, $lechemin);
				$tab=obtenir_page ($lecontexte,$lechemin , $ledelai, $usecache, $carto_squelette);
				$remplace=$tab['texte'];
			}
			//TODO : ajouter alignement ici
			$texte = str_replace($cherche, $remplace, $texte);
		}
		//mettre ? jour la table de liaison avec les articles
		if ($flag_ecrire) {
			$query = "INSERT INTO spip_carto_cartes_articles (id_article, id_carto_carte) ".
			"VALUES ($id_article, ".join("), ($id_article, ", $cartes).")";
			spip_query($query);
		}
	}
	
	return $texte;
}

completer_fonction("propre", "avant_typo_carto", "");

?>


From stef at berlios.de  Sun Feb 20 23:13:54 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:13:54 +0100
Subject: [Spip-carto-cvs] spipcarto/formulaires formulaire_login_forum.html,NONE,1.1 formulaire_forum_previsu.html,NONE,1.1 inc-formulaire_site.php3,1.1,1.2 formulaire_inscription.html,1.1,1.2 inc-formulaire_ecrire_auteur.php3,1.1,1.2 formulaire_oubli.html,1.1,1.2 inc-login_public.php3,1.1,1.2 formulaire_forum.html,1.1,1.2 inc-url_logout.php3,1.1,1.2 formulaire_site.html,1.1,1.2 formulaire_signature.html,1.1,1.2 inc-menu_lang_ecrire.php3,1.1,1.2 inc-formulaire_inscription.php3,1.1,1.2 formulaire_recherche.html,1.1,1.2 inc-formulaire_forum.php3,1.1,1.2 inc-menu_lang.php3,1.1,1.2 inc-formulaire_signature.php3,1.1,1.2 formulaire_ecrire_auteur.html,1.1,1.2 formulaire_login.html,1.1,1.2 inc-login_prive.php3,1.1,1.2 inc-formulaire_admin.php3,1.1,1.2 inc-formulaire_recherche.php3,1.1,1.2 formulaire_menu_lang.html,1.1,1.2 formulaire_admin.html,1.1,1.2
Message-ID: <200502202213.j1KMDs8Y027288@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/formulaires
In directory sheep:/tmp/cvs-serv27282/formulaires

Modified Files:
	inc-formulaire_site.php3 formulaire_inscription.html 
	inc-formulaire_ecrire_auteur.php3 formulaire_oubli.html 
	inc-login_public.php3 formulaire_forum.html 
	inc-url_logout.php3 formulaire_site.html 
	formulaire_signature.html inc-menu_lang_ecrire.php3 
	inc-formulaire_inscription.php3 formulaire_recherche.html 
	inc-formulaire_forum.php3 inc-menu_lang.php3 
	inc-formulaire_signature.php3 formulaire_ecrire_auteur.html 
	formulaire_login.html inc-login_prive.php3 
	inc-formulaire_admin.php3 inc-formulaire_recherche.php3 
	formulaire_menu_lang.html formulaire_admin.html 
Added Files:
	formulaire_login_forum.html formulaire_forum_previsu.html 
Log Message:
1.8pr1

--- NEW FILE: formulaire_login_forum.html ---
<!--

	Formulaire de connexion pour les forums sur abonnement
	cf. inc-formulaire_forum.php3

-->

<p><:forum_vous_enregistrer:> <:forum_vous_inscrire:></p>

#LOGIN_PUBLIC

<div align='center' style='font-family: Verdana,arial,helvetica,sans-serif; font-size: 12px;'>

&#91;<a href='spip_inscription.php3?mode=forum&amp;focus=nom_inscription'
	target="spip_pass"
	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=500'); return false;"><:login_sinscrire:></a>&#93;

&#91;<a
		href="spip_pass.php3"
		target="spip_pass" 
		onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=280'); return false;"><:login_motpasseoublie:></a>&#93;

</div>
<br />

--- NEW FILE: formulaire_forum_previsu.html ---
<div class='spip_encadrer'>

<div style='font-size: 120%; font-weight: bold;'>[(#ENV*{titre})]</div>

<p />

[<b><a[ href="mailto:(#ENV{email_auteur})"]>(#ENV*{auteur})</a></b>]

[<p />(#ENV*{texte})]

[<p /><a [href="(#ENV{url_site}|urlencode)"]>(#ENV*{nom_site_forum})</a>]

[(#ENV*{mots_forum})]

[<p align='right' style='color: red;'>(#ENV*{erreur})</p>]

[<div align='right'><input type='submit' name='confirmer_forum' class='spip_bouton' value="(#ENV*{bouton})" /></div>]

</div>

<br />
Index: inc-formulaire_site.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-formulaire_site.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-formulaire_site.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-formulaire_site.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,37 +1,48 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-global $balise_FORMULAIRE_SITE_collecte;
-$balise_FORMULAIRE_SITE_collecte = array('id_rubrique', 'nom_site', 'url_site', 'description_site');
-
-function balise_FORMULAIRE_SITE_stat($args, $filtres)
-{
-  return ((lire_meta("proposer_sites") != 2) ? '' : $args);
-}
-
-function balise_FORMULAIRE_SITE_dyn($id_rubrique, $nom_site, $url_site, $description_site) {
-
-	if (!$nom_site) return array('formulaire_site', 0);
-
-	// Tester le nom du site
-	if (strlen ($nom_site) < 2){
-		return _T('form_prop_indiquer_nom_site');
-	}
-
-	// Tester l'URL du site
-	include_ecrire("inc_sites.php3");
-	if (!recuperer_page($url_site)) {
-		return _T('form_pet_url_invalide');
-	}
-
-	// Integrer a la base de donnees
-		
-	$nom_site = addslashes($nom_site);
-	$url_site = addslashes($url_site);
-	$description_site = addslashes($description_site);
-			
-	spip_query("INSERT INTO spip_syndic (nom_site, url_site, id_rubrique, descriptif, date, date_syndic, statut, syndication) VALUES ('$nom_site', '$url_site', $id_rubrique, '$description_site', NOW(), NOW(), 'prop', 'non')");
-	return  _T('form_prop_enregistre');
-}
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+// Le contexte indique dans quelle rubrique le visiteur peut proposer le site
+global $balise_FORMULAIRE_SITE_collecte;
+$balise_FORMULAIRE_SITE_collecte = array('id_rubrique');
+
+function balise_FORMULAIRE_SITE_stat($args, $filtres) {
+
+	// Pas d'id_rubrique ? Erreur de squelette
+	if (!$args[0])
+		return erreur_squelette(
+			_T('zbug_champ_hors_motif',
+				array ('champ' => '#FORMULAIRE_SITE',
+					'motif' => 'RUBRIQUES')), '');
+
+	// Verifier que les visisteurs sont autorises a proposer un site
+	return ((lire_meta("proposer_sites") != 2) ? '' : $args);
+}
+
+function balise_FORMULAIRE_SITE_dyn($id_rubrique, $nom_site, $url_site, $description_site) {
+
+	if (!_request('nom_site')) return array('formulaire_site', 0);
+
+	// Tester le nom du site
+	if (strlen (_request('nom_site')) < 2){
+		return _T('form_prop_indiquer_nom_site');
+	}
+
+	// Tester l'URL du site
+	include_ecrire("inc_sites.php3");
+	if (!recuperer_page(_request('url_site')))
+		return _T('form_pet_url_invalide');
+
+	// Integrer a la base de donnees
+	$nom_site = addslashes(_request('nom_site'));
+	$url_site = addslashes(_request('url_site'));
+	$description_site = addslashes(_request('description_site'));
+			
+	spip_query("INSERT INTO spip_syndic
+	(nom_site, url_site, id_rubrique, descriptif, date, date_syndic, statut, syndication)
+	VALUES ('$nom_site', '$url_site', $id_rubrique, '$description_site', NOW(), NOW(), 'prop', 'non')");
+
+	return  _T('form_prop_enregistre');
+}
+
+?>

Index: formulaire_inscription.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_inscription.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_inscription.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_inscription.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,42 +1,42 @@
-[
-(#ENV*{message})
-][
-(#ENV*{message}|?{'',' '})[
- (#ENV{mode}|=={forum}|?{' ',''})
-	<:pass_forum_bla:><br /><br />
-][
- (#ENV{mode}|=={redac}|?{' ',''})
-	<:pass_espace_prive_bla:><br /><br />
-]<:form_forum_indiquer_nom_email:>
- <form	id="inscription" method='post' action='#SELF'
-	style='border: 0px; margin: 0px;'> 
-      <fieldset style="border: none; font-weight: bold"><legend></legend>
-	<label>
-	  <:form_pet_votre_nom:>
-	  <input type="text" class="forml" name="nom_inscription" value="" size="30" />
-	</label>
-	<label>
-	  <:form_pet_votre_email:>
-	  <input type="text" class="forml" name="mail_inscription" value="" size="30" />
-	</label>
-      </fieldset>
-      <div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" />
-	</div> 
- </form>[
-<script type="text/javascript"><!--
-document.inscription.(#ENV{focus}).focus()
---></script>
- ]
-][<br />
-<div align="right">
-(#ENV{target}|?{' ',''})
-<script type="text/javascript"><!--
-document.write("<a href='")
-document.write((window.opener) ? "javascript:close()" : "./")
-document.write("'><:pass_quitter_fenetre:><" + "/a>");
-//--></script>
-<noscript>
-        &#91;<a href='./'><:pass_retour_public:></a>&#93;
-</noscript>
-</div>
-]
+[
+(#ENV*{message})
+][
+(#ENV*{message}|?{'',' '})[
+ (#ENV{mode}|=={forum}|?{' ',''})
+	<:pass_forum_bla:><br /><br />
+][
+ (#ENV{mode}|=={redac}|?{' ',''})
+	<:pass_espace_prive_bla:><br /><br />
+]<:form_forum_indiquer_nom_email:>
+ <form	id="inscription" method='post' action='#SELF'
+	style='border: 0px; margin: 0px;'> 
+      <fieldset style="border: none; font-weight: bold"><legend></legend>
+	<label>
+	  <:form_pet_votre_nom:>
+	  <input type="text" class="forml" name="nom_inscription" value="" size="30" />
+	</label>
+	<label>
+	  <:form_pet_votre_email:>
+	  <input type="text" class="forml" name="mail_inscription" value="" size="30" />
+	</label>
+      </fieldset>
+      <div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" />
+	</div> 
+ </form>[
+<script type="text/javascript"><!--
+document.inscription.(#ENV{focus}).focus()
+--></script>
+ ]
+][<br />
+<div align="right">
+(#ENV{target}|?{' ',''})
+<script type="text/javascript"><!--
+document.write("<a href='")
+document.write((window.opener) ? "javascript:close()" : "./")
+document.write("'><:pass_quitter_fenetre:><" + "/a>");
+//--></script>
+<noscript>
+        &#91;<a href='./'><:pass_retour_public:></a>&#93;
+</noscript>
+</div>
+]

Index: inc-formulaire_ecrire_auteur.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-formulaire_ecrire_auteur.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-formulaire_ecrire_auteur.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-formulaire_ecrire_auteur.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,59 +1,87 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-global $balise_FORMULAIRE_ECRIRE_AUTEUR_collecte ;
-$balise_FORMULAIRE_ECRIRE_AUTEUR_collecte = array('id_auteur',
-			     'email',
-			     'sujet_message_auteur',
-			     'texte_message_auteur',
-			     'email_message_auteur'
-);
-
-function balise_FORMULAIRE_ECRIRE_AUTEUR_stat($args, $filtres) {
-	list($id_auteur, $mail, $sujet, $texte, $adres) = $args;
-	return (!email_valide($mail) ? '' :
-		array($id_auteur, $mail,$sujet, $texte, $adres));
-}
-
-function balise_FORMULAIRE_ECRIRE_AUTEUR_dyn($id_auteur, $mail, $sujet, $texte, $adres) {
-	include_ecrire('inc_texte.php3');
-	$puce = $GLOBALS['puce'.$GLOBALS['spip_lang_rtl']];
-
-	$mailko = $texte && !email_valide($adres);
-	$validable = $texte && $sujet && (!$mailko);
-
-	if ($validable && ($GLOBALS['valide'] == _T('form_prop_confirmer_envoi'))) { 
-		$texte .= "\n\n-- "._T('envoi_via_le_site')." ".lire_meta('nom_site')." (".lire_meta('adresse_site')."/) --\n";
-		include_ecrire("inc_mail.php3");
-		envoyer_mail($mail, $sujet, $texte, $adres,
-				"X-Originating-IP: ".$GLOBALS['REMOTE_ADDR']);
-		return _T('form_prop_message_envoye');
-	    }
-
-
-	// repartir de zero pour les boutons car clean_link a pu etre utilisee
-
-	$link = new Link;
-
-	$link->delVar('sujet_message_auteur');
-	$link->delVar('texte_message_auteur');
-	$link->delVar('email_message_auteur');
-	$link->delVar('id_auteur');
-	return 
-		array('formulaire_ecrire_auteur', 0,
-			array(
-			'action' => $link->getUrl(),
-			'id_auteur' => $id_auteur,
-			'mailko' => $mailko ? $puce : '',
-			'mail' => $adres,
-			'sujetko' => ($texte && !$sujet) ? $puce : '',
-			'sujet' => $sujet,
-			'texte' => $texte,
-			'valide' => ($validable ?
-				_T('form_prop_confirmer_envoi') :
-				_T('form_prop_envoyer'))
-			)
-		);
-}
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+
+// On prend l'email dans le contexte de maniere a ne pas avoir a le
+// verifier dans la base ni a le devoiler au visiteur
+global $balise_FORMULAIRE_ECRIRE_AUTEUR_collecte;
+$balise_FORMULAIRE_ECRIRE_AUTEUR_collecte = array('id_auteur', 'id_article', 'email');
+
+function balise_FORMULAIRE_ECRIRE_AUTEUR_stat($args, $filtres) {
+
+	// Pas d'id_auteur ni d'id_article ? Erreur de squelette
+	if (!$args[0] AND !$args[1])
+		return erreur_squelette(
+			_T('zbug_champ_hors_motif',
+				array ('champ' => '#FORMULAIRE_ECRIRE_AUTEUR',
+					'motif' => 'AUTEURS/ARTICLES')), '');
+
+	// Si on est dans un contexte article, sortir tous les mails des auteurs
+	// de l'article
+	if (!$args[0] AND $args[1]) {
+		unset ($args[2]);
+		$s = spip_query("SELECT auteurs.email AS email
+		FROM spip_auteurs as auteurs, spip_auteurs_articles as lien
+		WHERE lien.id_article=".intval($args[1])
+		. " AND auteurs.id_auteur = lien.id_auteur");
+		while ($row = spip_fetch_array($s))
+			if ($row['email'] AND email_valide($row['email']))
+				$args[2].= ','.$row['email'];
+		$args[2] = substr($args[2], 1);
+	}
+
+	// On ne peut pas ecrire a un auteur dont le mail n'est pas valide
+	if (!$args[2] OR !email_valide($args[2]))
+		return '';
+
+	// OK
+	return $args;
+}
+
+function balise_FORMULAIRE_ECRIRE_AUTEUR_dyn($id_auteur, $id_article, $mail) {
+	include_ecrire('inc_texte.php3');
+	$puce = $GLOBALS['puce'.$GLOBALS['spip_lang_rtl']];
+
+	// id du formulaire (pour en avoir plusieurs sur une meme page)
+	$id = ($id_auteur ? '_'.$id_auteur : '_ar'.$id_article);
+
+	$sujet = _request('sujet_message_auteur'.$id);
+	$texte = _request('texte_message_auteur'.$id);
+	$adres = _request('email_message_auteur'.$id);
+
+	$mailko = $texte && !email_valide($adres);
+	$validable = $texte && $sujet && (!$mailko);
+
+	if ($validable
+	AND (_request('valide'.$id) == _T('form_prop_confirmer_envoi'))) { 
+		$texte .= "\n\n-- "._T('envoi_via_le_site')." ".lire_meta('nom_site')." (".lire_meta('adresse_site')."/) --\n";
+		include_ecrire("inc_mail.php3");
+		envoyer_mail($mail, $sujet, $texte, $adres,
+				"X-Originating-IP: ".$GLOBALS['REMOTE_ADDR']);
+		return _T('form_prop_message_envoye');
+	}
+
+	$link = new Link;
+	$link->delVar('sujet_message_auteur'.$id);
+	$link->delVar('texte_message_auteur'.$id);
+	$link->delVar('email_message_auteur'.$id);
+	$link->delVar('id_auteur');
+
+	return 
+		array('formulaire_ecrire_auteur', 0,
+			array(
+			'action' => $link->getUrl(),
+			'id' => $id,
+			'mailko' => $mailko ? $puce : '',
+			'mail' => $adres,
+			'sujetko' => ($texte && !$sujet) ? $puce : '',
+			'sujet' => $sujet,
+			'texte' => $texte,
+			'valide' => ($validable ?
+				_T('form_prop_confirmer_envoi') :
+				_T('form_prop_envoyer'))
+			)
+		);
+}
+?>

Index: formulaire_oubli.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_oubli.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_oubli.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_oubli.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,37 +1,37 @@
-[
-(#ENV*{message})
-][
-(#ENV*{message}|?{'',' '})
-<form id="oubli_form" action='spip_pass.php3' method='post'>
-	<fieldset style="border: none;"><legend></legend>[
-	<:pass_nouveau_pass:>
-	<input type='hidden' name="p" value="(#ENV{p})">
-	<label>
-	    <:pass_choix_pass:>
-	    <input type="password" name="oubli">
-	</label>][
-	(#ENV{p}|?{'',' '})
-	<label>
-	  <:pass_indiquez_cidessous:>
-	  <input type="texte" name="oubli">
-	</label>]
-	<input type=submit class="fondl" value="<:pass_ok:>">
-      </fieldset>
-</form>
-]
-<br />
-<div align="right">
-<script type="text/javascript"><!--
-[
-(#ENV*{message}|?{'',' '})
-document.oubli_form.oubli.focus()
-]
-document.write("<a href='")
-document.write((window.opener) ? "javascript:close()" : "./")
-document.write("'><:pass_quitter_fenetre:><" + "/a>");
-//--></script>
-<noscript>
-	&#91;<a href='./'><:pass_retour_public:></a>&#93;
-</noscript>
-</div>
-<br />
+[
+(#ENV*{message})
+][
+(#ENV*{message}|?{'',' '})
+<form id="oubli_form" action='spip_pass.php3' method='post'>
+	<fieldset style="border: none;"><legend></legend>[
+	<:pass_nouveau_pass:>
+	<input type='hidden' name="p" value="(#ENV{p})">
+	<label>
+	    <:pass_choix_pass:>
+	    <input type="password" name="oubli">
+	</label>][
+	(#ENV{p}|?{'',' '})
+	<label>
+	  <:pass_indiquez_cidessous:>
+	  <input type="texte" name="oubli">
+	</label>]
+	<input type=submit class="fondl" value="<:pass_ok:>">
+      </fieldset>
+</form>
+]
+<br />
+<div align="right">
+<script type="text/javascript"><!--
+[
+(#ENV*{message}|?{'',' '})
+document.oubli_form.oubli.focus()
+]
+document.write("<a href='")
+document.write((window.opener) ? "javascript:close()" : "./")
+document.write("'><:pass_quitter_fenetre:><" + "/a>");
+//--></script>
+<noscript>
+	&#91;<a href='./'><:pass_retour_public:></a>&#93;
+</noscript>
+</div>
+<br />

Index: inc-login_public.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-login_public.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-login_public.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-login_public.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,147 +1,148 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-include(_FILE_CONNECT);
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_session.php3");
-include_ecrire("inc_filtres.php3");
-
-global $balise_LOGIN_PUBLIC_collecte;
-$balise_LOGIN_PUBLIC_collecte = array('url');
-
-# retourner:
-# 1. l'url collectee ci-dessus (args0) ou donnee en filtre (filtre0)
-# 2. l'eventuel parametre de la balise (args1) fournie par calculer_balise_dynamique
-
-function balise_LOGIN_PUBLIC_stat ($args, $filtres)
-{
-	return array($filtres[0] ? $filtres[0] : $args[0], $args[1]);
-}
-
-function balise_LOGIN_PUBLIC_dyn($cible, $login)
-{
-	if (!$cible) {
-		global $clean_link;
-		$clean_link->delVar('var_erreur');
-		$clean_link->delVar('var_login');
-		$cible = $clean_link->getUrl();
-	}
-	return login_explicite($login, $cible, 'forum');
-}
-
-function login_explicite($login, $cible, $mode) {
-	global $auteur_session, $clean_link;
-
-	$clean_link->delVar('var_erreur');
-	$clean_link->delVar('var_login');
-	$action = $clean_link->getUrl();
-
-	if ($cible) {
-	  $cible = ereg_replace("[?&]var_erreur=[^&]*", '', $cible);
-	  $cible = ereg_replace("[?&]var_login=[^&]*", '', $cible);
-	} else {
-	  if (ereg("[?&]url=([^&]*)", $action, $m))
-	    $cible = urldecode($m[1]);
-	  else
-	    $cible = _DIR_RESTREINT ;
-	}
-	      
-	include_ecrire("inc_session.php3");
-	verifier_visiteur();
-
-	if ($auteur_session AND 
-	($auteur_session['statut']=='0minirezo' OR $auteur_session['statut']=='1comite')) {
-		if (($cible != $action) &&  !headers_sent())
-			redirige_par_entete($cible);
-		return http_href($cible, _T('login_par_ici'));
-	}
-	return login_pour_tous($login ? $login : $GLOBALS['var_login'], $cible, '', $action, $mode);
-}
-
-// fonction aussi pour les forums sur abonnement
-
-function login_pour_tous($login, $cible, $message, $action, $mode) {
-	global $ignore_auth_http, $spip_admin, $php_module, $_SERVER;
-
-	// en cas d'echec de cookie, inc_auth a renvoye vers spip_cookie qui
-	// a tente de poser un cookie ; s'il n'est pas la, c'est echec cookie
-	// s'il est la, c'est probablement un bookmark sur bonjour=oui,
-	// et pas un echec cookie.
-	if ($GLOBALS['var_echec_cookie'])
-		$echec_cookie = ($GLOBALS['spip_session'] != 'test_echec_cookie');
-	$auth_http = ($echec_cookie AND $php_module AND !$ignore_auth_http) ?
-		'spip_cookie.php3' : '';
-	// Attention dans le cas 'intranet' la proposition de se loger
-	// par auth_http peut conduire a l'echec.
-	if ($_SERVER['PHP_AUTH_USER'] AND $_SERVER['PHP_AUTH_PW'])
-		$auth_http = '';
-
-	// Le login est memorise dans le cookie d'admin eventuel
-	if (!$login) {
-		if (ereg("^@(.*)$", $spip_admin, $regs))
-			$login = $regs[1];
-	} else if ($login == '-1')
-	  $login = '';
-
-	$row = array();
-	$erreur = '';
-	if ($login) {
-		$row = spip_query("SELECT * FROM spip_auteurs WHERE login='" .addslashes($login) ."'");
-		$row =  spip_fetch_array($row);
-		if ((!$row AND !$GLOBALS['ldap_present']) OR
-		    ($row['statut'] == '5poubelle') OR 
-		    (($row['source'] == 'spip') AND $row['pass'] == '')) {
-			$erreur =  _T('login_identifiant_inconnu',
-				array('login' => htmlspecialchars($login)));
- 			$row = array();
-			$login = '';
-			@spip_setcookie("spip_admin", "", time() - 3600);
-		} else {
-		  // on laisse le menu decide de la langue
-		  unset($row['lang']);
-		}
-	}
-
-	// afficher "erreur de mot de passe" si &var_erreur=pass
-	if ($GLOBALS['var_erreur'] == 'pass')
-		$erreur = _T('login_erreur_pass');
-
-	// url des inscriptions 
-	$inscription = ((lire_meta("accepter_inscriptions") == "oui") OR
-			(($mode == 'forum')
-			 AND (lire_meta("accepter_visiteurs") == "oui"
-			      OR lire_meta('forums_publics') == 'abo'))) ?
-			'spip_inscription.php3' : '';
-
-	return array('formulaire_login', 0, 
-		     array_merge(array_map('addslashes', $row),
-				 array(
-				       'action2' => ($login ? 'spip_cookie.php3' : $action),
-				       'erreur' => $erreur,
-				       'action' => $action,
-				       'url' => $cible,
-				       'auth_http' => $auth_http,
-				       'echec_cookie' => ($echec_cookie ? ' ' : ''),
-				       'message' => ($message ? ' ' : ''),
-				       'inscription'  => $inscription
-				       )
-				 )
-		     );
-
-}
-
-// Bouton duree de connexion
-
-function filtre_rester_connecte($prefs)
-{
-	$prefs = unserialize(stripslashes($prefs));
-	return $prefs['cnx'] == 'perma' ? ' ' : '';
-}
-
-function silogoauteur($id_auteur)
-{
-  $f = _DIR_IMG . 'auton' . $id_auteur . '.jpg';
-  return (@file_exists($f) ? $f : '');
-}
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+include(_FILE_CONNECT);
+include_ecrire("inc_meta.php3");
+include_ecrire("inc_session.php3");
+include_ecrire("inc_filtres.php3");
+
+global $balise_LOGIN_PUBLIC_collecte;
+$balise_LOGIN_PUBLIC_collecte = array('url');
+
+# retourner:
+# 1. l'url collectee ci-dessus (args0) ou donnee en filtre (filtre0)
+# 2. l'eventuel parametre de la balise (args1) fournie par
+#    calculer_balise_dynamique, en l'occurence le #LOGIN courant si l'on
+#    programme une <boucle(AUTEURS)>[(#LOGIN_PUBLIC{#LOGIN})]
+
+function balise_LOGIN_PUBLIC_stat ($args, $filtres) {
+	return array($filtres[0] ? $filtres[0] : $args[0], $args[1], $args[2]);
+}
+
+function balise_LOGIN_PUBLIC_dyn($url, $login) {
+
+	if (!$url		# pas d'url passee en filtr eou dans le contexte
+	AND !$url = _request('url') # ni d'url passee par l'utilisateur
+	) {
+		$link = new Link();
+		$link->delVar('var_erreur');
+		$link->delVar('var_login');
+		$url = $link->getUrl();
+	}
+	return login_explicite($login, $url, 'forum');
+}
+
+function login_explicite($login, $cible, $mode) {
+	global $auteur_session;
+
+	$link = new Link();
+	$link->delVar('var_erreur');
+	$link->delVar('var_login');
+	$action = $link->getUrl();
+
+	if ($cible) {
+	  $cible = ereg_replace("[?&]var_erreur=[^&]*", '', $cible);
+	  $cible = ereg_replace("[?&]var_login=[^&]*", '', $cible);
+	} else {
+	  if (ereg("[?&]url=([^&]*)", $action, $m))
+	    $cible = urldecode($m[1]);
+	  else
+	    $cible = _DIR_RESTREINT ;
+	}
+	      
+	include_ecrire("inc_session.php3");
+	verifier_visiteur();
+
+	if ($auteur_session AND 
+	($auteur_session['statut']=='0minirezo' OR $auteur_session['statut']=='1comite')) {
+		if (($cible != $action) && !headers_sent())
+			redirige_par_entete($cible);
+		return http_href($cible, _T('login_par_ici'));
+	}
+	return login_pour_tous($login ? $login : _request('var_login'), $cible, $action, $mode);
+}
+
+function login_pour_tous($login, $cible, $action, $mode) {
+	global $ignore_auth_http, $php_module, $_SERVER, $_COOKIE;
+
+	// en cas d'echec de cookie, inc_auth a renvoye vers spip_cookie qui
+	// a tente de poser un cookie ; s'il n'est pas la, c'est echec cookie
+	// s'il est la, c'est probablement un bookmark sur bonjour=oui,
+	// et pas un echec cookie.
+	if (_request('var_echec_cookie'))
+		$echec_cookie = ($_COOKIE['spip_session'] != 'test_echec_cookie');
+	$auth_http = ($echec_cookie AND $php_module AND !$ignore_auth_http) ?
+		'spip_cookie.php3' : '';
+	// Attention dans le cas 'intranet' la proposition de se loger
+	// par auth_http peut conduire a l'echec.
+	if ($_SERVER['PHP_AUTH_USER'] AND $_SERVER['PHP_AUTH_PW'])
+		$auth_http = '';
+
+	// Le login est memorise dans le cookie d'admin eventuel
+	if (!$login) {
+		if (ereg("^@(.*)$", $_COOKIE['spip_admin'], $regs))
+			$login = $regs[1];
+	} else if ($login == '-1')
+		$login = '';
+
+	$row = array();
+	$erreur = '';
+	if ($login) {
+		$s = spip_query("SELECT * FROM spip_auteurs
+			WHERE login='" .addslashes($login) ."'");
+		$row =  spip_fetch_array($s);
+		if ((!$row AND !$GLOBALS['ldap_present']) OR
+			($row['statut'] == '5poubelle') OR 
+			(($row['source'] == 'spip') AND $row['pass'] == '')) {
+			$erreur =  _T('login_identifiant_inconnu',
+				array('login' => htmlspecialchars($login)));
+			$row = array();
+			$login = '';
+			@spip_setcookie("spip_admin", "", time() - 3600);
+		} else {
+			// on laisse le menu decider de la langue
+			unset($row['lang']);
+		}
+	}
+
+	// afficher "erreur de mot de passe" si &var_erreur=pass
+	if (_request('var_erreur') == 'pass')
+		$erreur = _T('login_erreur_pass');
+
+	// url des inscriptions
+	$inscription = ((lire_meta("accepter_inscriptions") == "oui")
+		OR (($mode == 'forum')
+			AND (lire_meta("accepter_visiteurs") == "oui"
+				OR lire_meta('forums_publics') == 'abo'))
+		) ? 'spip_inscription.php3' : '';
+
+	return array('formulaire_login', 0, 
+		array_merge(array_map('texte_script', $row),
+				array(
+					'action2' => ($login ? 'spip_cookie.php3' : $action),
+					'erreur' => $erreur,
+					'action' => $action,
+					'url' => $cible,
+					'auth_http' => $auth_http,
+					'echec_cookie' => ($echec_cookie ? ' ' : ''),
+					'inscription'  => $inscription
+					)
+				)
+			);
+
+}
+
+// Bouton duree de connexion
+
+function filtre_rester_connecte($prefs) {
+	$prefs = unserialize(stripslashes($prefs));
+	return $prefs['cnx'] == 'perma' ? ' ' : '';
+}
+
+function silogoauteur($id_auteur) {
+	$f = _DIR_IMG . 'auton' . $id_auteur . '.jpg';
+	return (@file_exists($f) ? $f : '');
+}
+
+?>

Index: formulaire_forum.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_forum.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_forum.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_forum.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,54 +1,54 @@
-<form action="[(#ENV{url})]" method="post" name="formulaire">[
-<input type="hidden" name="alea" value="(#ENV{alea})" />][
-<input type="hidden" name="hash" value="(#ENV{hash})" />][
-<input type="hidden" name="retour_forum" value="(#ENV{retour_forum})" />
-][<p>(#ENV*{modere})</p>
-][(#ENV*{afficher_texte_hidden})
-][(#ENV*{afficher_texte_input})
-	[(#ENV*{previsu})
-		<fieldset class="spip_encadrer">
-		<legend><b><:forum_titre:></b></legend>
-		<label><input type="text" name="titre" 
-			[value="(#ENV{titre})" ]class="forml" size="40" />
-		</label>
-		</fieldset>
-		<br />
-		<fieldset class="spip_encadrer">
-		<legend><b><:forum_texte:></b></legend>
-		<p><:info_creation_paragraphe:></p>
-		[(#ENV{texte}|barre_forum)]
-		</fieldset>
-		<br />
-		[<p>(#ENV*{table})</p>]
-		<fieldset class="spip_encadrer">
-			<legend><:forum_lien_hyper:></legend>
-			<p><:forum_page_url:></p>
-			<p><label><:forum_titre:>
-				<input type="text" name="nom_site_forum" class="forml" size="40"
-					value="[(#ENV{nom_site_forum})]" />
-			</label></p>
-			<p><label><:forum_url:>
-			<input type="text" name="url_site" class="forml" size="40"
-				value="[(#ENV{url_site})]" />
-			</label></p>
-		</fieldset>
-		<br />
-		<fieldset class="spip_encadrer">
-			<legend><:forum_qui_etes_vous:></legend>
-			<p><label><:forum_votre_nom:>
-				<input type="text" name="auteur" value="[(#ENV{auteur})]"
-					class="forml" size="40" [(#ENV{disabled})] />
-			</label></p>
-			<p><label><:forum_votre_email:>
-				<input type="text" name="email_auteur"
-				value="[(#ENV{email_auteur})]"
-				class="forml" size="40" [(#ENV{disabled})] />
-			</label></p>
-		</fieldset>
-		<br />
-		<div align="#LANG_RIGHT">
-		<input type="submit" value="<:forum_voir_avant:>"
-		class="spip_bouton" /></div>
-	]
-]</form>
-
+<form action="[(#ENV{url})]" method="post" name="formulaire">[
+<input type="hidden" name="alea" value="(#ENV{alea})" />][
+<input type="hidden" name="hash" value="(#ENV{hash})" />][
+<input type="hidden" name="retour_forum" value="(#ENV{retour_forum})" />
+][<p>(#ENV*{modere})</p>
+][(#ENV*{afficher_texte_hidden})
+][(#ENV*{afficher_texte_input})
+	[(#ENV*{previsu})
+		<fieldset class="spip_encadrer">
+		<legend><b><:forum_titre:></b></legend>
+		<label><input type="text" name="titre" 
+			[value="(#ENV{titre})" ]class="forml" size="40" />
+		</label>
+		</fieldset>
+		<br />
+		<fieldset class="spip_encadrer">
+		<legend><b><:forum_texte:></b></legend>
+		<p><:info_creation_paragraphe:></p>
+		[(#ENV{texte}|barre_forum)]
+		</fieldset>
+		<br />
+		[<p>(#ENV*{table})</p>]
+		<fieldset class="spip_encadrer">
+			<legend><:forum_lien_hyper:></legend>
+			<p><:forum_page_url:></p>
+			<p><label><:forum_titre:>
+				<input type="text" name="nom_site_forum" class="forml" size="40"
+					value="[(#ENV{nom_site_forum})]" />
+			</label></p>
+			<p><label><:forum_url:>
+			<input type="text" name="url_site" class="forml" size="40"
+				value="[(#ENV{url_site})]" />
+			</label></p>
+		</fieldset>
+		<br />
+		<fieldset class="spip_encadrer">
+			<legend><:forum_qui_etes_vous:></legend>
+			<p><label><:forum_votre_nom:>
+				<input type="text" name="auteur" value="[(#ENV{auteur})]"
+					class="forml" size="40" [(#ENV{disabled})] />
+			</label></p>
+			<p><label><:forum_votre_email:>
+				<input type="text" name="email_auteur"
+				value="[(#ENV{email_auteur})]"
+				class="forml" size="40" [(#ENV{disabled})] />
+			</label></p>
+		</fieldset>
+		<br />
+		<div align="#LANG_RIGHT">
+		<input type="submit" value="<:forum_voir_avant:>"
+		class="spip_bouton" /></div>
+	]
+]</form>
+

Index: inc-url_logout.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-url_logout.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-url_logout.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-url_logout.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,20 +1,26 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-global $balise_URL_LOGOUT_collecte;
-$balise_URL_LOGOUT_collecte = array();
-
-function balise_URL_LOGOUT_stat ($args, $filtres)
-{
-  return array($filtres[0]);
-}
-
-function balise_URL_LOGOUT_dyn($cible)
-{
-	if (!$login = $GLOBALS['auteur_session']['login'])
-	  return '';
-	if (!$cible) $cible = $GLOBALS['clean_link']->getUrl();
-	return 'spip_cookie.php3?logout_public=' . $login . '&amp;url=' . urlencode($cible);
-}
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+global $balise_URL_LOGOUT_collecte;
+$balise_URL_LOGOUT_collecte = array();
+
+// filtres[0] = url destination apres logout [(#URL_LOGOUT|url)]
+function balise_URL_LOGOUT_stat ($args, $filtres) {
+	return array($filtres[0]);
+}
+
+function balise_URL_LOGOUT_dyn($cible) {
+	if (!$login = $GLOBALS['auteur_session']['login'])
+		return '';
+
+	if (!$cible) {
+		$link = new Link();
+		$cible = $link->getUrl();
+	}
+
+	return 'spip_cookie.php3?logout_public=' . $login
+		. '&amp;url=' . urlencode($cible);
+}
+
+?>

Index: formulaire_site.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_site.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_site.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_site.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,18 +1,18 @@
-<form action="#SELF" method="post">
-      <br />
-      <fieldset	class='spip_encadrer' style='color: black; font-size: 90%'>
-	<legend></legend>
-	<label>
-	  <:form_prop_nom_site:>
-	  <input type="text" class="forml" name="nom_site" value="" size="30">
-	</label>
-	<label>
-	  <:form_prop_url_site:>
-	  <input type="text" class="forml" name="url_site" value="" size="30">
-	</label>
-	<label><:form_prop_description:>
-	  <textarea name='description_site' rows='5' class='forml' cols='40'></textarea>
-	</label>
-	<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>"></div>
-      </fieldset>
-</form>
+<form action="#SELF" method="post">
+      <br />
+      <fieldset	class='spip_encadrer' style='color: black; font-size: 90%'>
+	<legend></legend>
+	<label>
+	  <:form_prop_nom_site:>
+	  <input type="text" class="forml" name="nom_site" value="" size="30">
+	</label>
+	<label>
+	  <:form_prop_url_site:>
+	  <input type="text" class="forml" name="url_site" value="" size="30">
+	</label>
+	<label><:form_prop_description:>
+	  <textarea name='description_site' rows='5' class='forml' cols='40'></textarea>
+	</label>
+	<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>"></div>
+      </fieldset>
+</form>

Index: formulaire_signature.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_signature.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_signature.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_signature.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,44 +1,44 @@
-<form method='post'
-      action='#SELF#sp[(#ENV{id_article})]' >
-      <input type="hidden" name="url_page" value="#URL_SITE_SPIP/#SELF">
-      <div class='spip_encadrer' style='color: black; font-size: 80%; font-weight: normal;'>
-	[(#ENV*{texte}|propre)]
-	<fieldset style='font-size: 110%; font-weight: bold;'>
-	  <legend></legend>
-	  <label>
-	    <:form_pet_votre_nom:>
-	    <input type="text" class="forml" name="nom_email" value="" size="20" />
-	  </label>
-	  <label>
-	    <:form_pet_votre_email:><br />
-	    <input type="text" class="forml" name="adresse_email" value="" size="20" />
-	  </label>
-	</fieldset>
-	<br />
-	<p>[(#ENV{site_obli}|=={oui}|?{'',' '})<:form_pet_votre_site:><br />]
-	<fieldset style='font-size: 110%; font-weight: bold;'>
-	  <legend></legend>
-	  <label>
-	  <:form_pet_nom_site2:><br />
-	  <input type="text" class="forml" name="signature_nom_site" value="" size="20" />
-	  </label>
-	  <label>
-	    <:form_pet_adresse_site:><br />
-	    <input type="text" class="forml" name="signature_url_site" value="http://" size="20" />
-	  </label>
-	</fieldset>[
-	<br />
-	<fieldset style='font-weight: bold'>
-	  <legend></legend>
-	(#ENV{message}|=={oui}|?{' ',''})
-	  <label>
-	  <:form_pet_message_commentaire:><br />
-	    <textarea name="message" rows="3" class="forml" cols="20"></textarea>
-	  </label>
-	</fieldset>
-	]
-	<br />
-	<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" /></div>
-      </div>
-</form>
-
+<form method='post'
+      action='#SELF#sp[(#ENV{id_article})]' >
+      <input type="hidden" name="url_page" value="#URL_SITE_SPIP/#SELF">
+      <div class='spip_encadrer' style='color: black; font-size: 80%; font-weight: normal;'>
+	[(#ENV*{texte}|propre)]
+	<fieldset style='font-size: 110%; font-weight: bold;'>
+	  <legend></legend>
+	  <label>
+	    <:form_pet_votre_nom:>
+	    <input type="text" class="forml" name="nom_email" value="" size="20" />
+	  </label>
+	  <label>
+	    <:form_pet_votre_email:><br />
+	    <input type="text" class="forml" name="adresse_email" value="" size="20" />
+	  </label>
+	</fieldset>
+	<br />
+	<p>[(#ENV{site_obli}|=={oui}|?{'',' '})<:form_pet_votre_site:><br />]
+	<fieldset style='font-size: 110%; font-weight: bold;'>
+	  <legend></legend>
+	  <label>
+	  <:form_pet_nom_site2:><br />
+	  <input type="text" class="forml" name="signature_nom_site" value="" size="20" />
+	  </label>
+	  <label>
+	    <:form_pet_adresse_site:><br />
+	    <input type="text" class="forml" name="signature_url_site" value="http://" size="20" />
+	  </label>
+	</fieldset>[
+	<br />
+	<fieldset style='font-weight: bold'>
+	  <legend></legend>
+	(#ENV{message}|=={oui}|?{' ',''})
+	  <label>
+	  <:form_pet_message_commentaire:><br />
+	    <textarea name="message" rows="3" class="forml" cols="20"></textarea>
+	  </label>
+	</fieldset>
+	]
+	<br />
+	<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" /></div>
+      </div>
+</form>
+

Index: inc-menu_lang_ecrire.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-menu_lang_ecrire.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-menu_lang_ecrire.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-menu_lang_ecrire.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,41 +1,61 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-global $balise_MENU_LANG_ECRIRE_collecte;
-$balise_MENU_LANG_ECRIRE_collecte = array('menu_lang');
-
-// s'il n'y a qu'une langue proposee eviter definitivement la balise ?php 
-
-function balise_MENU_LANG_ECRIRE_stat ($args, $filtres)
-{
-  if (!strpos(lire_meta('langues_proposees'),',')) return '';
-  return $args;
-}
-
-// normalement $opt sera toujours non vide suite au test ci-dessus
-
-function balise_MENU_LANG_ECRIRE_dyn($default)
-{
-  include_ecrire("inc_lang.php3");
-  $opt = liste_options_langues('var_lang_ecrire', $default);
-  return (!$opt ? '' : menu_lang_pour_tous('var_lang_ecrire', $opt));
-}
-
-function menu_lang_pour_tous($nom, $opt)
-{
-  $site = lire_meta("adresse_site");
-  $post = ($site ? $site : '..') . "/spip_cookie.php3";
-  $cible = $GLOBALS['clean_link']->getUrl();
-  $postcomplet = new Link($post);
-  $postcomplet->addvar('url', $cible);
-
-  return array('formulaire_menu_lang',
-	       10, 
-	       array('nom' => $nom,
-		     'url' => $post,
-		     'cible' => $cible,
-		     'retour' => $postcomplet->getUrl(),
-		     'langues' => $opt));
-}
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+// Ce "menu_lang" collecte dans le contexte permet de forcer la langue
+// par defaut proposee dans le menu ; mais a quoi ca sert concretement ?
+global $balise_MENU_LANG_ECRIRE_collecte;
+$balise_MENU_LANG_ECRIRE_collecte = array('menu_lang');
+
+// s'il n'y a qu'une langue proposee eviter definitivement la balise ?php 
+function balise_MENU_LANG_ECRIRE_stat ($args, $filtres) {
+	if (!strpos(lire_meta('langues_proposees'),',')) return '';
+	return $args;
+}
+
+
+// normalement $opt sera toujours non vide suite au test ci-dessus
+function balise_MENU_LANG_ECRIRE_dyn($default) {
+	return menu_lang_pour_tous('var_lang_ecrire', $opt);
+}
+
+function menu_lang_pour_tous($nom, $opt) {
+	include_ecrire("inc_lang.php3");
+
+	// Voir s'il y a une langue demandee par _request,
+	// ou une langue par defaut dans le contexte {menu_lang=xx}
+	$default = _request('lang');
+	lang_select($default);
+	if ($GLOBALS['spip_lang'] <> $default) {
+		$default = $menu_lang;
+		lang_select($default);	# et remplace
+		if ($GLOBALS['spip_lang'] <> $default)
+			unset ($default);	# annule tout choix par defaut
+		lang_dselect();	#annule la selection
+	}
+	lang_dselect();
+
+	$opt = liste_options_langues($nom, $default);
+	if (!$opt)
+		return '';
+
+	$site = lire_meta("adresse_site");
+	$post = ($site ? $site : '..') . "/spip_cookie.php3";
+	$cible = new Link();
+	$cible->delVar('lang');
+	$cible = $cible->getUrl();
+	$postcomplet = new Link($post);
+	$postcomplet->addvar('url', $cible);
+
+	return array('formulaire_menu_lang',
+		3600,
+		array('nom' => $nom,
+			'url' => $post,
+			'cible' => $cible,
+			'retour' => $postcomplet->getUrl(),
+			'langues' => $opt
+		)
+	);
+}
+
+?>

Index: inc-formulaire_inscription.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-formulaire_inscription.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-formulaire_inscription.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-formulaire_inscription.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,123 +1,162 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-include_ecrire('inc_abstract_sql.php3');
-
-global $balise_FORMULAIRE_INSCRIPTION_collecte ;
-$balise_FORMULAIRE_INSCRIPTION_collecte = array('mail_inscription', 'nom_inscription');
-
-// args 0 et 1 sont mail et nom ci-dessus,
-// arg2 le parametre de la balise
-// arg3 toujours vide au premier appel (fenetre cible)
-
-function balise_FORMULAIRE_INSCRIPTION_stat($args, $filtres)
-{
-  return ((lire_meta('accepter_inscriptions') != 'oui') ? '' :
-	  array('redac', $args[0], $args[1], 
-		($args[2] == 'focus' ? 'nom_inscription' : ''),
-		''));
-}
-
-function balise_FORMULAIRE_INSCRIPTION_dyn($mode, $mail_inscription, $nom_inscription, $focus, $target) {
-	if (($mode == 'redac') AND (lire_meta("accepter_inscriptions") == "oui"))
-		$statut = "nouveau";
-	else if (($mode == 'forum') AND ((lire_meta('accepter_visiteurs') == 'oui') OR (lire_meta('forums_publics') == 'abo')))
-		$statut = "6forum";
-	else return _T('pass_rien_a_faire_ici');
-
-	if (test_mail_ins($mode, $mail_inscription) && $nom_inscription) {
-		include(_FILE_CONNECT);
-		// envoyer les identifiants si l'abonne n'existe pas d?j?.
-		if (!$row = spip_fetch_array(spip_query("SELECT statut, id_auteur, login, pass FROM spip_auteurs WHERE email='".addslashes($mail_inscription)."' LIMIT 1")))
-		  {
-			include_ecrire("inc_acces.php3");
-			$pass = creer_pass_aleatoire(8, $mail_inscription);
-			$login = test_login($mail_inscription);
-			$mdpass = md5($pass);
-			$htpass = generer_htpass($pass);
-			$r = spip_abstract_insert('spip_auteurs', 
-					 '(nom, email, login, pass, statut, htpass)',
-					 "('".addslashes($nom_inscription)."',  '".addslashes($mail_inscription)."', '$login', '$mdpass', '$statut', '$htpass')");
-			ecrire_acces();
-			$message = envoyer_inscription($mail_inscription, $statut, $mode, $login, $pass);
-		  }
-
-		else {
-		  // existant mais encore muet, renvoyer les infos
-			if ($row['statut'] == 'nouveau') {
-			  $message = (envoyer_inscription($mail_inscription, $row['statut'], $mode, $row['login'], $row['pass']));
-			} else {
-				if ($row['statut'] == '5poubelle')
-		  // dead
-				  $message = _T('form_forum_access_refuse');
-				else  
-		  // deja inscrit
-				  $message = _T('form_forum_email_deja_enregistre');
-			}
-		}
-	}
-	// demande du formulaire
-	else {
-		if (!$nom_inscription) 
-		    $message = '';
-		else {
-		  spip_log("Mail incorrect: '$mail_inscription'");
-		  $message = _T('info_email_invalide');
-		}
-	}
-
-	return array("formulaire_inscription",0,
-		     array('focus' => $focus,
-			   'target' => $target,
-			   'message' => $message,
-			   'mode' => $mode));
-}
-
-// fonction qu'on peut redefinir pour filtrer selon l'adresse mail
-// cas general: controler juste que l'adresse n'est pas vide
-
-function test_mail_ins($mode, $mail_inscription) {
-  return trim($mail_inscription);
-}
-
-	// envoyer identifiants par mail
-function envoyer_inscription($mail, $statut, $type, $login, $pass) {
-	$nom_site_spip = lire_meta("nom_site");
-	$adresse_site = lire_meta("adresse_site");
-	
-	$message = _T('form_forum_message_auto')."\n\n"._T('form_forum_bonjour')."\n\n";
-	if ($type == 'forum') {
-		$message .= _T('form_forum_voici1', array('nom_site_spip' => $nom_site_spip, 'adresse_site' => $adresse_site)) . "\n\n";
-	} else {
-		$message .= _T('form_forum_voici2', array('nom_site_spip' => $nom_site_spip, 'adresse_site' => $adresse_site)) . "\n\n";
-	}
-	$message .= "- "._T('form_forum_login')." $login\n";
-	$message .= "- "._T('form_forum_pass')." $pass\n\n";
-
-	include_ecrire("inc_mail.php3");
-	if (envoyer_mail($mail, "[$nom_site_spip] "._T('form_forum_identifiants'), $message))
-	  return _T('form_forum_identifiant_mail');
-	else
-	  return _T('form_forum_probleme_mail');
-}
-
-function test_login($mail) {
-	if (strpos($mail, "@") > 0) $login_base = substr($mail, 0, strpos($mail, "@"));
-	else $login_base = $mail;
-
-	$login_base = strtolower($login_base);
-	$login_base = ereg_replace("[^a-zA-Z0-9]", "", $login_base);
-	if (!$login_base) $login_base = "user";
-	$login = $login_base;
-
-	for ($i = 1; ; $i++) {
-		$query = "SELECT id_auteur FROM spip_auteurs WHERE login='$login' LIMIT 1";
-		if (!spip_num_rows(spip_query($query))) return $login;
-		$login = $login_base.$i;
-	}
-
-
-}
-
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+include_ecrire('inc_abstract_sql.php3');
+
+// Balise independante du contexte
+global $balise_FORMULAIRE_INSCRIPTION_collecte ;
+$balise_FORMULAIRE_INSCRIPTION_collecte = array();
+
+// args[0] est le parametre 'focus' -- [(#FORMULAIRE_INSCRIPTION{focus})]
+function balise_FORMULAIRE_INSCRIPTION_stat($args, $filtres) {
+	if (lire_meta('accepter_inscriptions') != 'oui')
+		return '';
+	else
+		return array('redac', ($args[0] == 'focus' ? 'nom_inscription' : ''));
+}
+
+function balise_FORMULAIRE_INSCRIPTION_dyn($mode, $focus) {
+	if (($mode == 'redac')
+	AND (lire_meta("accepter_inscriptions") == "oui"))
+		$statut = "nouveau";
+	else if (($mode == 'forum')
+	AND ((lire_meta('accepter_visiteurs') == 'oui')
+		OR (lire_meta('forums_publics') == 'abo'))
+	)
+		$statut = "6forum";
+	else
+		return _T('pass_rien_a_faire_ici');
+
+	// recuperer les donnees envoyees
+	$mail_inscription = _request('mail_inscription');
+	$nom_inscription = _request('nom_inscription');
+
+	if (test_mail_ins($mode, $mail_inscription)
+	AND _request('nom_inscription')) {
+		// envoyer les identifiants si l'abonne n'existe pas deja.
+		$s = spip_query("SELECT statut, id_auteur, login, pass
+		FROM spip_auteurs WHERE email='".addslashes($mail_inscription)."'");
+		if (!$row = spip_fetch_array($s)) {
+			$login = test_login($nom_inscription, $mail_inscription);
+			$id_auteur = spip_abstract_insert('spip_auteurs', 
+				'(nom, email, login, statut)',
+				"('".addslashes($nom_inscription)."',
+				'".addslashes($mail_inscription)."', '$login', '$statut')");
+			$pass = creer_pass_pour_auteur($id_auteur);
+			$message = envoyer_inscription($mail_inscription,
+				$statut, $mode, $login, $pass);
+		}
+
+		else {
+			// existant mais encore muet, renvoyer les infos
+			if ($row['statut'] == 'nouveau') {
+				// recreer le pass
+				$pass = creer_pass_pour_auteur($id_auteur);
+				$message = envoyer_inscription(
+					$mail_inscription, $row['statut'], $mode,
+					$row['login'], $pass);
+			} else {
+				// dead
+				if ($row['statut'] == '5poubelle')
+					$message = _T('form_forum_access_refuse');
+				// deja inscrit
+				else
+					$message = _T('form_forum_email_deja_enregistre');
+			}
+		}
+	}
+
+	// demande du formulaire
+	else {
+		if (!$nom_inscription) 
+			$message = '';
+		else {
+			spip_log("Mail incorrect: '$mail_inscription'");
+			$message = _T('info_email_invalide');
+		}
+	}
+
+	return array("formulaire_inscription", 0,
+		array('focus' => $focus,
+			'target' => _request('target'),
+			'message' => $message,
+			'mode' => $mode));
+}
+
+// fonction qu'on peut redefinir pour filtrer selon l'adresse mail
+// cas general: controler juste que l'adresse n'est pas vide et est valide
+
+function test_mail_ins($mode, $mail) {
+	if ($mail = trim($mail))
+		return email_valide($mail);
+}
+
+
+// envoyer identifiants par mail
+function envoyer_inscription($mail, $statut, $type, $login, $pass) {
+	$nom_site_spip = lire_meta("nom_site");
+	$adresse_site = lire_meta("adresse_site");
+	
+	$message = _T('form_forum_message_auto')."\n\n"._T('form_forum_bonjour')."\n\n";
+	if ($type == 'forum') {
+		$message .= _T('form_forum_voici1', array('nom_site_spip' => $nom_site_spip, 'adresse_site' => $adresse_site)) . "\n\n";
+	} else {
+		$message .= _T('form_forum_voici2', array('nom_site_spip' => $nom_site_spip, 'adresse_site' => $adresse_site)) . "\n\n";
+	}
+	$message .= "- "._T('form_forum_login')." $login\n";
+	$message .= "- "._T('form_forum_pass')." $pass\n\n";
+
+	include_ecrire("inc_mail.php3");
+	if (envoyer_mail($mail,
+	"[$nom_site_spip] "._T('form_forum_identifiants'), $message))
+		return _T('form_forum_identifiant_mail');
+	else
+		return _T('form_forum_probleme_mail');
+}
+
+function test_login($nom, $mail) {
+	include_ecrire('inc_charsets.php3');
+	$nom = strtolower(translitteration($nom));
+	$login_base = ereg_replace("[^a-zA-Z0-9_]", "_", $nom);
+
+	// il faut eviter que le login soit vraiment trop court
+	if (strlen($login_base) < 3) {
+		$mail = strtolower(translitteration(preg_replace('/@.*/', '', $mail)));
+		$login_base = ereg_replace("[^a-zA-Z0-9]", "_", $nom);
+	}
+	if (strlen($login_base) < 3)
+		$login_base = 'user';
+
+	// eviter aussi qu'il soit trop long (essayer d'attraper le prenom)
+	if (strlen($login_base) > 10) {
+		$login_base = preg_replace("/^(.{4,}(_.{1,7})?)_.*/",
+			'\1', $login_base);
+		$login_base = substr($login_base, 0,13);
+	}
+
+	$login = $login_base;
+
+	for ($i = 1; ; $i++) {
+		$s = spip_query("SELECT id_auteur FROM spip_auteurs
+		WHERE login='$login'");
+		if (!spip_num_rows($s))
+			return $login;
+		$login = $login_base.$i;
+	}
+}
+
+function creer_pass_pour_auteur($id_auteur) {
+	include_ecrire("inc_acces.php3");
+	$pass = creer_pass_aleatoire(8, $mail_inscription);
+	$mdpass = md5($pass);
+	$htpass = generer_htpass($pass);
+	spip_query("UPDATE spip_auteurs
+		SET pass='$mdpass', htpass='$htpass'
+		WHERE id_auteur = ".$id_auteur);
+	ecrire_acces();
+	
+	return $pass;
+}
+
+?>

Index: formulaire_recherche.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_recherche.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_recherche.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_recherche.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,9 +1,9 @@
-<form action="[(#ENV{lien})]" method="get" class="formrecherche">
-	<div>
-		<input type="text"
-			id="formulaire_recherche"
-			class="formrecherche"
-			name="recherche"
-			value="[(#ENV*{recherche_securisee})]" />
-	</div>
-</form>
+<form action="[(#ENV{lien})]" method="get" class="formrecherche">
+	<div>
+		<input type="text"
+			id="formulaire_recherche"
+			class="formrecherche"
+			name="recherche"
+			value="[(#ENV*{recherche_securisee})]" />
+	</div>
+</form>

Index: inc-formulaire_forum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-formulaire_forum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-formulaire_forum.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-formulaire_forum.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,364 +1,388 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-include_ecrire('inc_meta.php3');
-include_ecrire('inc_admin.php3');
-include_ecrire('inc_acces.php3');
-include_ecrire('inc_texte.php3');
-include_ecrire('inc_filtres.php3');
-include_ecrire('inc_lang.php3');
-include_ecrire('inc_mail.php3');
-include_ecrire('inc_forum.php3');
-include_ecrire("inc_abstract_sql.php3");
-include_local(_FILE_CONNECT);
-
-// Gestionnaire d'URLs
-if (@file_exists("inc-urls.php3"))
-	include_local("inc-urls.php3");
-else
-	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
-
-/*******************************/
-/* GESTION DU FORMULAIRE FORUM */
-/*******************************/
-global $balise_FORMULAIRE_FORUM_collecte;
-$balise_FORMULAIRE_FORUM_collecte = array('id_rubrique', 'id_forum', 'id_article', 'id_breve', 'id_syndic');
-
-function balise_FORMULAIRE_FORUM_stat($args, $filtres) {
-	list ($idr, $idf, $ida, $idb, $ids) = $args;
-
-	// recuperer les donnees du forum auquel on repond, false = forum interdit
-	if (!$r = sql_recherche_donnees_forum ($idr, $idf, $ida, $idb, $ids))
-		return '';
-
-	list($titre, $table, $forums_publics) = $r;
-	return
-		array($titre, $table, $forums_publics, $idr, $idf, $ida, $idb, $ids);
-}
-
-function balise_FORMULAIRE_FORUM_dyn($titre, $table, $forums_publics, $id_rubrique, $id_forum, $id_article, $id_breve, $id_syndic) {
-
-	global $REMOTE_ADDR, $id_message, $afficher_texte, $spip_forum_user;
-
-	// url de reference
-	if (!$url = rawurldecode($GLOBALS['url'])) 
-	    $url = $GLOBALS['REQUEST_URI'];
-	else {
-	// identifiants des parents
-	  $args = '';  
-	  if ($id_rubrique) $args .= "id_rubrique=$id_rubrique";
-	  if ($id_forum) $args .= "id_forum=$id_forum";
-	  if ($id_article) $args .= "id_article=$id_article";
-	  if ($id_breve) $args .= "id_breve=$id_breve";
-	  if ($id_syndic) $args .= "id_syndic=$id_syndic";
-	  if ($args && strpos($url,$args)===false) $url .= (strpos($url,'?') ? '&' : '?') . $args;
-	}
-
-	$url = ereg_replace("[?&]var_erreur=[^&]*", '', $url);
-	$url = ereg_replace("[?&]var_login=[^&]*", '', $url);
-	$url = ereg_replace("[?&]url=[^&]*", '', $url);
-
-	// verifier l'identite des posteurs pour les forums sur abo
-	if (($forums_publics == "abo") && (!$GLOBALS["auteur_session"]))
-	  {
-	    include_local(find_in_path('inc-login_public.php3'));
-	    return login_pour_tous($GLOBALS['var_login'], $url, true, $url, 'forum');
-	  }
-
-	$id_rubrique = intval($id_rubrique);
-	$id_forum = intval($id_forum);
-	$id_article = intval($id_article);
-	$id_breve = intval($id_breve);
-	$id_syndic = intval($id_syndic);
-
-	// ne pas mettre '', sinon le squelette n'affichera rien.
-
-	$previsu = ' ';
-
-	// au premier appel (pas de Post-var nommee "retour_forum")
-	// memoriser l'URL courante pour y revenir apres envoi du message
-	// aux appels suivants, reconduire la valeur.
-	// Initialiser aussi l'auteur
-
-	if (!$retour_forum = rawurldecode($GLOBALS['_POST']['retour_forum'])) {
-		if ($retour_forum = rawurldecode($GLOBALS['_GET']['retour']))
-			$retour_forum = ereg_replace('&var_mode=recalcul','',$retour_forum);
-		else $retour_forum = $url;
-
-		if ($spip_forum_user &&
-		is_array($cookie_user = unserialize($spip_forum_user))) {
-			$auteur = $cookie_user['nom'];
-			$email_auteur = $cookie_user['email'];
-		} else {
-			$auteur = $GLOBALS['auteur_session']['nom'];
-			$email_auteur = $GLOBALS['auteur_session']['email'];
-		}
-
-	} else {
-
-	// Recuperer le message a previsualiser
-		$titre = $GLOBALS['_POST']['titre'];
-		$texte = $GLOBALS['_POST']['texte'];
-		$auteur = $GLOBALS['_POST']['auteur'];
-		$email_auteur = $GLOBALS['_POST']['email_auteur'];
-		$nom_site_forum = $GLOBALS['_POST']['nom_site_forum'];
-		$url_site = $GLOBALS['_POST']['url_site'];
-		$ajouter_mot = $GLOBALS['_POST']['ajouter_mot']; // array
-
-		if ($afficher_texte != 'non') {
-			$previsu = 
-			  "<div style='font-size: 120%; font-weight: bold;'>"
-			  . interdire_scripts(typo($titre))
-			  . "</div><p /><b><a href=\"mailto:"
-			  . interdire_scripts(typo($email_auteur)) . "\">"
-			  . interdire_scripts(typo($auteur)) . "</a></b><p />"
-			  . propre($texte) . "<p /><a href=\""
-			  . interdire_scripts($url_site) . "\">"
-			  . interdire_scripts(typo($nom_site_forum)) . "</a>";
-
-			// Verifier mots associes au message
-			if (is_array($ajouter_mot))
-			$mots = preg_replace('/[^0-9,]/', '', join(',',$ajouter_mot));
-			else $mots = '0';
-
-			// affichage {par num type, type, num titre,titre}
-			$result_mots = spip_query("SELECT id_mot, titre, type
-				FROM spip_mots
-				WHERE id_mot IN ($mots)
-				ORDER BY 0+type,type,0+titre,titre");
-			if (spip_num_rows($result_mots)>0) {
-				$previsu .= "<p>"._T('forum_avez_selectionne')."</p><ul>";
-				while ($row = spip_fetch_array($result_mots)) {
-					$les_mots[$row['id_mot']] = "checked='checked'";
-					$presence_mots = true;
-					$previsu .= "<li style='font-size: 80%;'> "
-					. typo($row['type']) . "&nbsp;: <b>"
-					. typo($row['titre']) ."</b></li>";
-				}
-				$previsu .= '</ul>';
-			}
-
-			if (strlen($texte) < 10 AND !$presence_mots) {
-				$previsu .= "<p align='right' style='color: red;'>"._T('forum_attention_dix_caracteres')."</p>\n";
-			}
-			else if (strlen($titre) < 3 AND $afficher_texte <> "non") {
-				$previsu .= "<p align='right' style='color: red;'>"._T('forum_attention_trois_caracteres')."</p>";
-			}
-			else {
-				$previsu .= "<div align='right'><input type='submit' name='confirmer_forum' class='spip_bouton' value='"._T('forum_message_definitif')."' /></div>";
-			}
-			$previsu = "<div class='spip_encadrer'>$previsu</div>\n<br />";
-			// supprimer les <form> de la previsualisation
-			// (sinon on ne peut pas faire <cadre>...</cadre> dans les forums)
-			$previsu = preg_replace("@<(/?)f(orm[>[:space:]])@ism", "<\\1no-f\\2", $previsu);
-		}
-
-	// Une securite qui nous protege contre :
-	// - les doubles validations de forums (derapages humains ou des brouteurs)
-	// - les abus visant a mettre des forums malgre nous sur un article (??)
-	// On installe un fichier temporaire dans _DIR_SESSIONS (et pas _DIR_CACHE
-	// afin de ne pas bugguer quand on vide le cache)
-	// Le lock est leve au moment de l'insertion en base (inc-messforum.php3)
-
-		$alea = preg_replace('/[^0-9]/', '', $alea);
-		if(!$alea OR !@file_exists(_DIR_SESSIONS."forum_$alea.lck")) {
-			while (
-				# astuce : mt_rand pour autoriser les hits simultanes
-				$alea = time() + @mt_rand()
-				AND @file_exists($f = _DIR_SESSIONS."forum_$alea.lck")) {};
-			spip_touch ($f);
-		}
-
-		# et maintenant on purge les locks de forums ouverts depuis > 4 h
-		if ($dh = @opendir(_DIR_SESSIONS))
-			while (($file = @readdir($dh)) !== false)
-				if (preg_match('/^forum_([0-9]+)\.lck$/', $file)
-				AND (time()- at filemtime(_DIR_SESSIONS.$file) > 4*3600))
-					@unlink(_DIR_SESSIONS.$file);
-
-		$hash = calculer_action_auteur("ajout_forum $id_rubrique $id_forum $id_article $id_breve $id_syndic $alea");
-	}
-
-	// Faut-il ajouter des propositions de mots-cles
-	if ((lire_meta("mots_cles_forums") == "oui") && ($table != 'forum'))
-		$table = table_des_mots($table, $les_mots);
-	else
-		$table = '';
-
-	return array('formulaire_forum', 0,
-	array(
-		'alea' => $alea,
-		'auteur' => $auteur,
-		'disabled' => ($forums_publics == "abo")? " disabled='disabled'" : '',
-		'email_auteur' => $email_auteur,
-		'hash' => $hash,
-		'modere' => (($forums_publics != 'pri') ? '' : _T('forum_info_modere')),
-		'nom_site_forum' => $nom_site_forum,
-		'previsu' => $previsu,
-		'retour_forum' => $retour_forum,
-		'table' => $table,
-		'texte' => $texte,
-		'titre' => $titre,
-		'url' =>  $url,
-		'url_site' => ($url_site ? $url_site : "http://"),
-
-		## gestion des la variable de personnalisation $afficher_texte
-		# mode normal : afficher le texte en < input text >, cf. squelette
-		'afficher_texte_input' => (($afficher_texte <> 'non') ? '&nbsp;' : ''),
-		# mode 'non' : afficher les elements en < input hidden >
-		'afficher_texte_hidden' => (($afficher_texte <> 'non') ? '' :
-			(boutonne('hidden', 'titre', htmlspecialchars($titre)) .
-				$table .
-				"\n<br /><div align='right'>" .
-				boutonne('submit', '', _T('forum_valider'),
-				"class='spip_bouton'") .
-				"</div>"))
-
-		));
-}
-
-
-function barre_forum($texte)
-{
-	include_ecrire('inc_layer.php3');
-
-	if (!$GLOBALS['browser_barre'])
-		return "<textarea name='texte' rows='12' class='forml' cols='40'>$texte</textarea>";
-	static $num_formulaire = 0;
-	$num_formulaire++;
-	include_ecrire('inc_barre.php3');
-	return afficher_barre("document.getElementById('formulaire_$num_formulaire')", true) .
-	  "
-<textarea name='texte' rows='12' class='forml' cols='40'
-id='formulaire_$num_formulaire'
-onselect='storeCaret(this);'
-onclick='storeCaret(this);'
-onkeyup='storeCaret(this);'
-ondbclick='storeCaret(this);'>$texte</textarea>";
-}
-
-// Mots-cles dans les forums :
-// Si la variable de personnalisation $afficher_groupe[] est definie
-// dans le fichier d'appel, et si la table de reference est OK, proposer
-// la liste des mots-cles
-function table_des_mots($table, $les_mots) {
-	global $afficher_groupe;
-
-	if ($afficher_groupe)
-		$in_group = " AND id_groupe IN (" . join($afficher_groupe, ", ") .")";
-
-	$result_groupe = spip_query("SELECT * FROM spip_groupes_mots
-	WHERE 6forum = 'oui' AND $table = 'oui'". $in_group);
-
-	$ret = '';
-	while ($row_groupe = spip_fetch_array($result_groupe)) {
-		$id_groupe = $row_groupe['id_groupe'];
-		$titre_groupe = propre($row_groupe['titre']);
-		$unseul = ($row_groupe['unseul']== 'oui') ? 'radio' : 'checkbox';
-		$result =spip_query("SELECT * FROM spip_mots
-		WHERE id_groupe='$id_groupe'");
-		$total_rows = spip_num_rows($result);
-
-		if ($total_rows > 0) {
-			$ret .= "\n<p />"
-			  . "<div class='spip_encadrer' style='font-size: 80%;'>"
-			  . "<b>$titre_groupe&nbsp;:</b>"
-			  . "<table cellpadding='0' cellspacing='0' border='0' width='100%'>\n"
-			  ."<tr><td width='47%' valign='top'>";
-			$i = 0;
-      
-		while ($row = spip_fetch_array($result)) {
-			$id_mot = $row['id_mot'];
-			$titre_mot = propre($row['titre']);
-			$descriptif_mot = propre($row['descriptif']);
-
-			if ($i >= ($total_rows/2) AND $i < $total_rows) {
-				$i = $total_rows + 1;
-				$ret .= "</td><td width='6%'>&nbsp;</td>
-				<td width='47%' valign='top'>";
-			}
-
-			$ret .= boutonne($unseul, "ajouter_mot[]", $id_mot, "id='mot$id_mot' " . $les_mots[$id_mot]) .
-			  afficher_petits_logos_mots($id_mot)
-			. "<b><label for='mot$id_mot'>$titre_mot</label></b><br />";
-
-			if ($descriptif_mot)
-				$ret .= "$descriptif_mot<br />";
-			$i++;
-		}
-
-		$ret .= "</td></tr></table>";
-		$ret .= "</div>";
-		}
-	}
-
-	return $ret;
-}
-
-
-function afficher_petits_logos_mots($id_mot) {
-	include_ecrire('inc_logos.php3');
-	$on = cherche_image_nommee("moton$id_mot");
-	if ($on) {
-	  $image = ("$on[0]$on[1].$on[2]");
-		$taille = @getimagesize($image);
-		$largeur = $taille[0];
-		$hauteur = $taille[1];
-		if ($largeur < 100 AND $hauteur < 100)
-			return "<img src='$image' align='middle' width='$largeur'
-			height='$hauteur' hspace='1' vspace='1' alt=' ' border='0'
-			class='spip_image' /> ";
-	}
-}
-
-/*******************************************************/
-/* FONCTIONS DE CALCUL DES DONNEES DU FORMULAIRE FORUM */
-/*******************************************************/
-
-//
-// Chercher le titre et la configuration du forum de l'element auquel on repond
-//
-
-function sql_recherche_donnees_forum ($idr, $idf, $ida, $idb, $ids) {
-
-	// changer la table de reference s'il y a lieu (pour afficher_groupes[] !!)
-	if ($idr) {
-		$r = "SELECT titre FROM spip_rubriques WHERE id_rubrique = $idr";
-		$table = "rubriques";
-	} else if ($ida) {
-		$r = "SELECT titre FROM spip_articles WHERE id_article = $ida";
-		$table = "articles";
-	} else if ($idb) {
-		$r = "SELECT titre FROM spip_breves WHERE id_breve = $idb";
-		$table = "breves";
-	} else if ($ids) {
-		$r = "SELECT nom_site AS titre FROM spip_syndic WHERE id_syndic = $ids";
-		$table = "syndic";
-	}
-
-	if ($idf)
-		$r = "SELECT titre FROM spip_forum WHERE id_forum = $idf";
-
-	if ($r) {
-		list($titre) = spip_fetch_array(spip_query($r));
-		$titre = '> ' . supprimer_numero($titre);
-	} else {
-		$titre = _T('forum_titre_erreur');
-		$table = '';
-	}
-
-	// quelle est la configuration du forum ?
-	if ($ida)
-		list($accepter_forum) = spip_fetch_array(spip_query(
-		"SELECT accepter_forum FROM spip_articles WHERE id_article=$ida"));
-	if (!$accepter_forum)
-		$accepter_forum = substr(lire_meta("forums_publics"),0,3);
-	// valeurs possibles : 'pos'teriori, 'pri'ori, 'abo'nnement
-	if ($accepter_forum == "non")
-		return false;
-
-	return array ($titre, $table, $accepter_forum);
-}
-
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+include_ecrire('inc_meta.php3');
+include_ecrire('inc_admin.php3');
+include_ecrire('inc_acces.php3');
+include_ecrire('inc_texte.php3');
+include_ecrire('inc_filtres.php3');
+include_ecrire('inc_lang.php3');
+include_ecrire('inc_mail.php3');
+include_ecrire('inc_forum.php3');
+include_ecrire("inc_abstract_sql.php3");
+include_local(_FILE_CONNECT);
+
+// Gestionnaire d'URLs
+if (@file_exists("inc-urls.php3"))
+	include_local("inc-urls.php3");
+else
+	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
+
+/*******************************/
+/* GESTION DU FORMULAIRE FORUM */
+/*******************************/
+
+// Contexte du formulaire
+global $balise_FORMULAIRE_FORUM_collecte;
+$balise_FORMULAIRE_FORUM_collecte = array('id_rubrique', 'id_forum', 'id_article', 'id_breve', 'id_syndic');
+
+
+// verification des droits a faire du forum
+function balise_FORMULAIRE_FORUM_stat($args, $filtres) {
+
+	// Note : ceci n'est pas documente !!
+	// $filtres[0] peut contenir l'url sur lequel faire tourner le formulaire
+	// exemple dans un squelette article.html : [(#FORMULAIRE_FORUM|forum.php3)]
+
+	// recuperer les donnees du forum auquel on repond, false = forum interdit
+	list ($idr, $idf, $ida, $idb, $ids) = $args;
+	if (!$r = sql_recherche_donnees_forum ($idr, $idf, $ida, $idb, $ids))
+		return '';
+
+	list($titre, $table, $forums_publics) = $r;
+
+	return
+		array($titre, $table, $forums_publics, $idr, $idf, $ida, $idb, $ids,
+			$filtres[0]);
+}
+
+function balise_FORMULAIRE_FORUM_dyn($titre, $table, $forums_publics, $id_rubrique, $id_forum, $id_article, $id_breve, $id_syndic, $url) {
+
+	global $REMOTE_ADDR, $afficher_texte, $_COOKIE;
+
+	// url de reference
+	if (!$url) {
+		$url = new Link();
+		$url = $url->getUrl();
+	} else {
+		// identifiants des parents
+		$args = array();
+		if ($id_rubrique) $args[] = "id_rubrique=$id_rubrique";
+		if ($id_forum) $args[] = "id_forum=$id_forum";
+		if ($id_article) $args[] = "id_article=$id_article";
+		if ($id_breve) $args[] = "id_breve=$id_breve";
+		if ($id_syndic) $args[] = "id_syndic=$id_syndic";
+		if (count($args))
+			$url .= (strpos($url,'?') ? '&' : '?'). join('&',$args);
+	}
+
+	$url = ereg_replace("[?&]var_erreur=[^&]*", '', $url);
+	$url = ereg_replace("[?&]var_login=[^&]*", '', $url);
+	$url = ereg_replace("[?&]url=[^&]*", '', $url);
+
+	// verifier l'identite des posteurs pour les forums sur abo
+	if (($forums_publics == "abo") && (!$GLOBALS["auteur_session"])) {
+		return array('formulaire_login_forum', 0, array());
+	}
+
+	$id_rubrique = intval($id_rubrique);
+	$id_forum = intval($id_forum);
+	$id_article = intval($id_article);
+	$id_breve = intval($id_breve);
+	$id_syndic = intval($id_syndic);
+
+	// ne pas mettre '', sinon le squelette n'affichera rien.
+	$previsu = ' ';
+
+	// au premier appel (pas de Post-var nommee "retour_forum")
+	// memoriser l'URL courante pour y revenir apres envoi du message
+	// aux appels suivants, reconduire la valeur.
+	// Initialiser aussi l'auteur
+
+	if (!$retour_forum = rawurldecode(_request('retour_forum'))) {
+		if ($retour_forum = rawurldecode(_request('retour')))
+			$retour_forum = str_replace('&var_mode=recalcul','',$retour_forum);
+		else {
+			$retour_forum = new Link();
+			$retour_forum = $retour_forum->getUrl();
+		}
+
+		if (isset($_COOKIE['spip_forum_user'])
+		AND is_array($cookie_user = unserialize($_COOKIE['spip_forum_user']))) {
+			$auteur = $cookie_user['nom'];
+			$email_auteur = $cookie_user['email'];
+		} else {
+			$auteur = $GLOBALS['auteur_session']['nom'];
+			$email_auteur = $GLOBALS['auteur_session']['email'];
+		}
+
+	} else {
+
+		// Recuperer le message a previsualiser
+		$titre = _request('titre');
+		$texte = _request('texte');
+		$auteur = _request('auteur');
+		$email_auteur = _request('email_auteur');
+		$nom_site_forum = _request('nom_site_forum');
+		$url_site = _request('url_site');
+		$ajouter_mot = _request('ajouter_mot'); // array
+
+		//
+		// Preparer la previsualisation
+		//
+		if ($afficher_texte != 'non') {
+
+			// Verifier mots associes au message
+			if (is_array($ajouter_mot))
+			$mots = preg_replace('/[^0-9,]/', '', join(',',$ajouter_mot));
+			else $mots = '0';
+
+			// affichage {par num type, type, num titre,titre}
+			$result_mots = spip_query("SELECT id_mot, titre, type
+				FROM spip_mots
+				WHERE id_mot IN ($mots)
+				ORDER BY 0+type,type,0+titre,titre");
+			if (spip_num_rows($result_mots)>0) {
+				$mots_forums = "<p>"._T('forum_avez_selectionne')."</p><ul>";
+				while ($row = spip_fetch_array($result_mots)) {
+					$les_mots[$row['id_mot']] = "checked='checked'";
+					$presence_mots = true;
+					$mots_forums .= "<li style='font-size: 80%;'> "
+					. typo($row['type']) . "&nbsp;: <b>"
+					. typo($row['titre']) ."</b></li>";
+				}
+				$mots_forums .= '</ul>';
+			}
+
+			if (strlen($texte) < 10 AND !$presence_mots)
+				$erreur = _T('forum_attention_dix_caracteres');
+			else if (strlen($titre) < 3 AND $afficher_texte <> "non")
+				$erreur = _T('forum_attention_trois_caracteres');
+			else
+				$bouton = _T('forum_message_definitif');
+
+			$previsu = inclure_balise_dynamique(
+				array(
+					'formulaire_forum_previsu',
+					0,
+					array(
+						'titre' => interdire_scripts(typo($titre)),
+						'email_auteur' => $email_auteur,
+						'auteur' => interdire_scripts(typo($auteur)),
+						'texte' => propre($texte),
+						'url_site' => $url_site,
+						'nom_site_forum' =>
+							interdire_scripts(typo($nom_site_forum)),
+						'mots_forum' => $mots_forum,
+						'erreur' => $erreur,
+						'bouton' => $bouton
+					)
+				), false);
+
+			// supprimer les <form> de la previsualisation
+			// (sinon on ne peut pas faire <cadre>...</cadre> dans les forums)
+			$previsu = preg_replace("@<(/?)f(orm[>[:space:]])@ism",
+				"<\\1no-f\\2", $previsu);
+		}
+
+	// Une securite qui nous protege contre :
+	// - les doubles validations de forums (derapages humains ou des brouteurs)
+	// - les abus visant a mettre des forums malgre nous sur un article (??)
+	// On installe un fichier temporaire dans _DIR_SESSIONS (et pas _DIR_CACHE
+	// afin de ne pas bugguer quand on vide le cache)
+	// Le lock est leve au moment de l'insertion en base (inc-messforum.php3)
+
+		$alea = preg_replace('/[^0-9]/', '', $alea);
+		if(!$alea OR !@file_exists(_DIR_SESSIONS."forum_$alea.lck")) {
+			while (
+				# astuce : mt_rand pour autoriser les hits simultanes
+				$alea = time() + @mt_rand()
+				AND @file_exists($f = _DIR_SESSIONS."forum_$alea.lck")) {};
+			spip_touch ($f);
+		}
+
+		# et maintenant on purge les locks de forums ouverts depuis > 4 h
+		if ($dh = @opendir(_DIR_SESSIONS))
+			while (($file = @readdir($dh)) !== false)
+				if (preg_match('/^forum_([0-9]+)\.lck$/', $file)
+				AND (time()- at filemtime(_DIR_SESSIONS.$file) > 4*3600))
+					@unlink(_DIR_SESSIONS.$file);
+
+		$hash = calculer_action_auteur("ajout_forum $id_rubrique $id_forum $id_article $id_breve $id_syndic $alea");
+	}
+
+	// Faut-il ajouter des propositions de mots-cles
+	if ((lire_meta("mots_cles_forums") == "oui") && ($table != 'forum'))
+		$table = table_des_mots($table, $les_mots);
+	else
+		$table = '';
+
+	return array('formulaire_forum', 0,
+	array(
+		'alea' => $alea,
+		'auteur' => $auteur,
+		'disabled' => ($forums_publics == "abo")? " disabled='disabled'" : '',
+		'email_auteur' => $email_auteur,
+		'hash' => $hash,
+		'modere' => (($forums_publics != 'pri') ? '' : _T('forum_info_modere')),
+		'nom_site_forum' => $nom_site_forum,
+		'previsu' => $previsu,
+		'retour_forum' => $retour_forum,
+		'table' => $table,
+		'texte' => $texte,
+		'titre' => $titre,
+		'url' =>  $url,
+		'url_site' => ($url_site ? $url_site : "http://"),
+
+		## gestion des la variable de personnalisation $afficher_texte
+		# mode normal : afficher le texte en < input text >, cf. squelette
+		'afficher_texte_input' => (($afficher_texte <> 'non') ? '&nbsp;' : ''),
+		# mode 'non' : afficher les elements en < input hidden >
+		'afficher_texte_hidden' => (($afficher_texte <> 'non') ? '' :
+			(boutonne('hidden', 'titre', htmlspecialchars($titre)) .
+				$table .
+				"\n<br /><div align='right'>" .
+				boutonne('submit', '', _T('forum_valider'),
+				"class='spip_bouton'") .
+				"</div>"))
+
+		));
+}
+
+
+function barre_forum($texte)
+{
+	include_ecrire('inc_layer.php3');
+
+	if (!$GLOBALS['browser_barre'])
+		return "<textarea name='texte' rows='12' class='forml' cols='40'>$texte</textarea>";
+	static $num_formulaire = 0;
+	$num_formulaire++;
+	include_ecrire('inc_barre.php3');
+	return afficher_barre("document.getElementById('formulaire_$num_formulaire')", true) .
+	  "
+<textarea name='texte' rows='12' class='forml' cols='40'
+id='formulaire_$num_formulaire'
+onselect='storeCaret(this);'
+onclick='storeCaret(this);'
+onkeyup='storeCaret(this);'
+ondbclick='storeCaret(this);'>$texte</textarea>";
+}
+
+// Mots-cles dans les forums :
+// Si la variable de personnalisation $afficher_groupe[] est definie
+// dans le fichier d'appel, et si la table de reference est OK, proposer
+// la liste des mots-cles
+function table_des_mots($table, $les_mots) {
+	global $afficher_groupe;
+
+	if ($afficher_groupe)
+		$in_group = " AND id_groupe IN (" . join($afficher_groupe, ", ") .")";
+
+	$result_groupe = spip_query("SELECT * FROM spip_groupes_mots
+	WHERE 6forum = 'oui' AND $table = 'oui'". $in_group);
+
+	$ret = '';
+	while ($row_groupe = spip_fetch_array($result_groupe)) {
+		$id_groupe = $row_groupe['id_groupe'];
+		$titre_groupe = propre($row_groupe['titre']);
+		$unseul = ($row_groupe['unseul']== 'oui') ? 'radio' : 'checkbox';
+		$result =spip_query("SELECT * FROM spip_mots
+		WHERE id_groupe='$id_groupe'");
+		$total_rows = spip_num_rows($result);
+
+		if ($total_rows > 0) {
+			$ret .= "\n<p />"
+			  . "<div class='spip_encadrer' style='font-size: 80%;'>"
+			  . "<b>$titre_groupe&nbsp;:</b>"
+			  . "<table cellpadding='0' cellspacing='0' border='0' width='100%'>\n"
+			  ."<tr><td width='47%' valign='top'>";
+			$i = 0;
+      
+		while ($row = spip_fetch_array($result)) {
+			$id_mot = $row['id_mot'];
+			$titre_mot = propre($row['titre']);
+			$descriptif_mot = propre($row['descriptif']);
+
+			if ($i >= ($total_rows/2) AND $i < $total_rows) {
+				$i = $total_rows + 1;
+				$ret .= "</td><td width='6%'>&nbsp;</td>
+				<td width='47%' valign='top'>";
+			}
+
+			$ret .= boutonne($unseul, "ajouter_mot[]", $id_mot, "id='mot$id_mot' " . $les_mots[$id_mot]) .
+			  afficher_petits_logos_mots($id_mot)
+			. "<b><label for='mot$id_mot'>$titre_mot</label></b><br />";
+
+			if ($descriptif_mot)
+				$ret .= "$descriptif_mot<br />";
+			$i++;
+		}
+
+		$ret .= "</td></tr></table>";
+		$ret .= "</div>";
+		}
+	}
+
+	return $ret;
+}
+
+
+function afficher_petits_logos_mots($id_mot) {
+	include_ecrire('inc_logos.php3');
+	$on = cherche_image_nommee("moton$id_mot");
+	if ($on) {
+	  $image = ("$on[0]$on[1].$on[2]");
+		$taille = @getimagesize($image);
+		$largeur = $taille[0];
+		$hauteur = $taille[1];
+		if ($largeur < 100 AND $hauteur < 100)
+			return "<img src='$image' align='middle' width='$largeur'
+			height='$hauteur' hspace='1' vspace='1' alt=' ' border='0'
+			class='spip_image' /> ";
+	}
+}
+
+
+
+/*******************************************************/
+/* FONCTIONS DE CALCUL DES DONNEES DU FORMULAIRE FORUM */
+/*******************************************************/
+
+//
+// Chercher le titre et la configuration du forum de l'element auquel on repond
+//
+
+function sql_recherche_donnees_forum ($idr, $idf, $ida, $idb, $ids) {
+
+	// changer la table de reference s'il y a lieu (pour afficher_groupes[] !!)
+	if ($idr) {
+		$r = "SELECT titre FROM spip_rubriques WHERE id_rubrique = $idr";
+		$table = "rubriques";
+	} else if ($ida) {
+		$r = "SELECT titre FROM spip_articles WHERE id_article = $ida";
+		$table = "articles";
+	} else if ($idb) {
+		$r = "SELECT titre FROM spip_breves WHERE id_breve = $idb";
+		$table = "breves";
+	} else if ($ids) {
+		$r = "SELECT nom_site AS titre FROM spip_syndic WHERE id_syndic = $ids";
+		$table = "syndic";
+	}
+
+	if ($idf)
+		$r = "SELECT titre FROM spip_forum WHERE id_forum = $idf";
+
+	if ($r) {
+		list($titre) = spip_fetch_array(spip_query($r));
+		$titre = '> ' . supprimer_numero($titre);
+	} else {
+		$titre = _T('forum_titre_erreur');
+		$table = '';
+	}
+
+	// quelle est la configuration du forum ?
+	if ($ida)
+		list($accepter_forum) = spip_fetch_array(spip_query(
+		"SELECT accepter_forum FROM spip_articles WHERE id_article=$ida"));
+	if (!$accepter_forum)
+		$accepter_forum = substr(lire_meta("forums_publics"),0,3);
+	// valeurs possibles : 'pos'teriori, 'pri'ori, 'abo'nnement
+	if ($accepter_forum == "non")
+		return false;
+
+	return array ($titre, $table, $accepter_forum);
+}
+
+?>

Index: inc-menu_lang.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-menu_lang.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-menu_lang.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-menu_lang.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,25 +1,23 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-global $balise_MENU_LANG_collecte;
-$balise_MENU_LANG_collecte = array('menu_lang');
-
-// s'il n'y a qu'une langue eviter definitivement la balise ?php 
-
-function balise_MENU_LANG_stat ($args, $filtres) {
-  if (!strpos(lire_meta('langues_multilingue'),',')) return '';
-  return $args;
-}
-
-// normalement $opt sera toujours non vide suite au test ci-dessus
-
-function balise_MENU_LANG_dyn($default) {
-	include_ecrire("inc_lang.php3");
-	$opt = liste_options_langues('var_lang', $default);
-	if (!$opt) return '';
-	include_local(find_in_path("inc-menu_lang_ecrire.php3"));
-	return menu_lang_pour_tous('var_lang', $opt);
-}
-
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+// Ce "menu_lang" collecte dans le contexte permet de forcer la langue
+// par defaut proposee dans le menu, en faisant une inclusion
+// <INCLURE(toto){menu_lang=xxx}> ; mais a quoi ca sert concretement ?
+global $balise_MENU_LANG_collecte;
+$balise_MENU_LANG_collecte = array('menu_lang');
+
+// s'il n'y a qu'une langue eviter definitivement la balise ?php 
+function balise_MENU_LANG_stat ($args, $filtres) {
+	if (!strpos(lire_meta('langues_multilingue'),',')) return '';
+	return $args;
+}
+
+// normalement $opt sera toujours non vide suite au test ci-dessus
+function balise_MENU_LANG_dyn($menu_lang) {
+	include_local(find_in_path("inc-menu_lang_ecrire.php3"));
+	return menu_lang_pour_tous('var_lang', $opt);
+}
+
+?>

Index: inc-formulaire_signature.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-formulaire_signature.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-formulaire_signature.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-formulaire_signature.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,248 +1,277 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-//
-// Formulaire de signature d'une petition
-//
-
-global $balise_FORMULAIRE_SIGNATURE_collecte;
-$balise_FORMULAIRE_SIGNATURE_collecte = array('petition', 'id_article', 'nom_email', 'adresse_email', 'message', 'signature_nom_site', 'signature_url_site', 'url_page', 'val_confirm');
-
-function balise_FORMULAIRE_SIGNATURE_stat($args, $filtres)
-{
-  return ($args[0] ? $args : '');
-}
-
-function balise_FORMULAIRE_SIGNATURE_dyn($texte, $id_article, $nom_email, $adresse_email, $message, $nom_site, $url_site, $url_page, $val_confirm) {
-
-	include_local(_FILE_CONNECT);
-	if ($val_confirm)
-		return reponse_confirmation($id_article);
-	else if ($nom_email AND $adresse_email)
-		return  reponse_signature($id_article, $nom_email, $adresse_email, $message, $nom_site, $url_site, $url_page, $val_confirm);
-	else {
-		$row = spip_fetch_array(spip_query("SELECT * FROM spip_petitions WHERE id_article='$id_article'"));
-		return !$row ? '': array('formulaire_signature', 0, $row);
-	}
-}
-
-
-// Retour a l'ecran du lien de confirmation d'une signature de petition.
-// Si val_confirm est non vide, c'est l'appel en debut de inc-public
-// pour vider le cache au demarrage afin que la nouvelle signature apparaisse.
-// Sinon, c'est l'execution du formulaire et on retourne le message 
-// de confirmation ou d'erreur construit lors de l'appel par inc-public.
-
-function reponse_confirmation($id_article, $val_confirm = '') {
-	static $confirm = '';
-
-	if (!$val_confirm) return $confirm;
-	include_local(_FILE_CONNECT);
-	if ($GLOBALS['db_ok']) {
-		include_ecrire("inc_texte.php3");
-		include_ecrire("inc_filtres.php3");
-
-		// Eviter les doublons
-		$lock = "petition $id_article $val_confirm";
-		if (!spip_get_lock($lock, 5)) {
-			$confirm= _T('form_pet_probleme_technique');
-		}
-		else {
-			$query_sign = "SELECT * FROM spip_signatures WHERE statut='".addslashes($val_confirm)."'";
-			$result_sign = spip_query($query_sign);
-			if (spip_num_rows($result_sign) > 0) {
-				while($row = spip_fetch_array($result_sign)) {
-					$id_signature = $row['id_signature'];
-					$id_article = $row['id_article'];
-					$date_time = $row['date_time'];
-					$nom_email = $row['nom_email'];
-					$adresse_email = $row['ad_email'];
-					$nom_site = $row['nom_site'];
-					$url_site = $row['url_site'];
-					$message = $row['message'];
-					$statut = $row['statut'];
-				}
-	
-				$query_petition = "SELECT * FROM spip_petitions WHERE id_article=$id_article";
-				$result_petition = spip_query($query_petition);
-	
-				while ($row = spip_fetch_array($result_petition)) {
-					$id_article = $row['id_article'];
-					$email_unique = $row['email_unique'];
-					$site_obli = $row['site_obli'];
-					$site_unique = $row['site_unique'];
-					$message_petition = $row['message'];
-					$texte_petition = $row['texte'];
-				}
-	
-				if ($email_unique == "oui") {
-					$email = addslashes($adresse_email);
-					$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND ad_email='$email' AND statut='publie'";
-					$result = spip_query($query);
-					if (spip_num_rows($result) > 0) {
-						$confirm= (_T('form_pet_deja_signe'));
-						$refus = "oui";
-					}
-				}
-	
-				if ($site_unique == "oui") {
-					$site = addslashes($url_site);
-					$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND url_site='$site' AND statut='publie'";
-					$result = spip_query($query);
-					if (spip_num_rows($result) > 0) {
-						$confirm= (_T('form_pet_deja_enregistre'));
-						$refus = "oui";
-					}
-				}
-	
-				if ($refus == "oui") {
-					$confirm= (_T('form_deja_inscrit'));
-				}
-				else {
-					$query = "UPDATE spip_signatures
-					SET statut='publie', date_time=NOW()
-					WHERE id_signature='$id_signature'";
-					$result = spip_query($query);
-					// invalider les pages ayant des boucles signatures
-					include_ecrire('inc_invalideur.php3');
-					include_ecrire('inc_meta.php3');
-					suivre_invalideur("id='petition/petition'");
-	
-					$confirm= (_T('form_pet_signature_validee'));
-				}
-			}
-			else {
-				$confirm= (_T('form_pet_aucune_signature'));
-			}
-			spip_release_lock($lock);
-		}
-	}
-	else {
-		$confirm= _T('form_pet_probleme_technique');
-	}
-}
-
-//
-// Retour a l'ecran de la signature d'une petition
-//
-
-function reponse_signature($id_article, $nom_email, $adresse_email, $message, $nom_site, $url_site, $url_page, $val_confirm) {
-
-	if ($GLOBALS['db_ok']) {
-		include_ecrire("inc_texte.php3");
-		include_ecrire("inc_filtres.php3");
-		include_ecrire("inc_mail.php3");
-
-		// Eviter les doublons
-		$lock = "petition $id_article $adresse_email";
-		if (!spip_get_lock($lock, 5)) {
-			return _T('form_pet_probleme_technique');
-		} else {
-			$query_petition = "SELECT * FROM spip_petitions WHERE id_article=$id_article";
-			$result_petition = spip_query($query_petition);
-	
-			while ($row = spip_fetch_array($result_petition)) {
-				$id_article = $row['id_article'];
-				$email_unique = $row['email_unique'];
-				$site_obli = $row['site_obli'];
-				$site_unique = $row['site_unique'];
-				$message_petition = $row['message'];
-				$texte_petition = $row['texte'];
-			}
-	
-			if (strlen($nom_email) < 2) {
-				return (_T('form_indiquer_nom'));
-			}
-	
-			if ($adresse_email == _T('info_mail_fournisseur')) {
-				return (_T('form_indiquer_email'));
-			}
-	
-			if ($email_unique == "oui") {
-				$email = addslashes($adresse_email);
-				$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND ad_email='$email' AND statut='publie'";
-				$result = spip_query($query);
-				if (spip_num_rows($result) > 0) {
-					return (_T('form_pet_deja_signe'));
-				}
-			}
-	
-			if (!email_valide($adresse_email)) {
-				return (_T('form_email_non_valide'));
-			}
-	
-			if ($site_obli == "oui") {
-				if (!$nom_site) {
-					return (_T('form_indiquer_nom_site'));
-				}
-				include_ecrire("inc_sites.php3");
-	
-				if (!recuperer_page($url_site)) {
-					return (_T('form_pet_url_invalide'));
-				}
-			}
-			if ($site_unique == "oui") {
-				$site = addslashes($url_site);
-				$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND url_site='$site' AND (statut='publie' OR statut='poubelle')";
-				$result = spip_query($query);
-				if (spip_num_rows($result) > 0) {
-					return (_T('form_pet_site_deja_enregistre'));
-				}
-			}
-	
-			$passw = test_pass();
-	
-			if ($refus == "oui") {
-				return _T('form_pet_signature_pasprise');
-			}
-			else {
-				$query_site = "SELECT titre FROM spip_articles WHERE id_article=$id_article";
-				$result_site = spip_query($query_site);
-				while ($row = spip_fetch_array($result_site)) {
-					$titre = $row['titre'];
-				}
-
-				$link = new Link($url_page);
-				$link->addVar('val_confirm', $passw);
-				$url = $link->getUrl("sp$id_article");
-	
-				$messagex = _T('form_pet_mail_confirmation', array('titre' => $titre, 'nom_email' => $nom_email, 'nom_site' => $nom_site, 'url_site' => $url_site, 'url' => $url));
-
-				if (envoyer_mail($adresse_email, _T('form_pet_confirmation')." ".$titre, $messagex)) {
-
-					$nom_email = addslashes($nom_email);
-					$adresse_email = addslashes($adresse_email);
-					$nom_site = addslashes($nom_site);
-					$url_site = addslashes($url_site);
-					$message = addslashes($message);
-	
-					spip_query("INSERT INTO spip_signatures (id_article, date_time, nom_email, ad_email, nom_site, url_site, message, statut) VALUES ($id_article, NOW(), '$nom_email', '$adresse_email', '$nom_site', '$url_site', '$message', '$passw')");
-					return _T('form_pet_envoi_mail_confirmation');
-				}
-				else {
-					return _T('form_pet_probleme_technique');
-				}
-			}
-			spip_release_lock($lock);
-		}
-	}
-	else {
-		return _T('form_pet_probleme_technique');
-	}
-
-}
-
-
-function test_pass() {
-	include_ecrire("inc_acces.php3");
-	for (;;) {
-		$passw = creer_pass_aleatoire();
-		$query = "SELECT statut FROM spip_signatures WHERE statut='$passw'";
-		$result = spip_query($query);
-		if (!spip_num_rows($result)) break;
-	}
-	return $passw;
-}
-
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+//
+// Formulaire de signature d'une petition
+//
+
+
+// Contexte necessaire lors de la compilation
+
+// Il *faut* demander petition, meme si on ne s'en sert pas dans l'affichage,
+// car on doit obtenir la jointure avec sql_petitions pour verifier si
+// une petition est attachee a l'article
+global $balise_FORMULAIRE_SIGNATURE_collecte;
+$balise_FORMULAIRE_SIGNATURE_collecte = array('id_article', 'petition');
+
+
+// Verification des arguments (contexte + filtres)
+function balise_FORMULAIRE_SIGNATURE_stat($args, $filtres) {
+
+	// pas d'id_article => erreur de squelette
+	if (!$args[0])
+		return erreur_squelette(
+			_T('zbug_champ_hors_motif',
+				array ('champ' => '#FORMULAIRE_SIGNATURE',
+					'motif' => 'ARTICLES')), '');
+
+	// article sans petition => pas de balise
+	else if (!$args[1])
+		return '';
+
+	else
+		return $args;
+}
+
+// Executer la balise
+function balise_FORMULAIRE_SIGNATURE_dyn($id_article, $petition) {
+	include_local(_FILE_CONNECT);
+
+	if (_request('var_confirm')) # _GET
+		return reponse_confirmation($id_article);
+
+	else if (_request('nom_email') AND _request('adresse_email')) # _POST
+		return  reponse_signature($id_article,
+			_request('nom_email'), _request('adresse_email'),
+			_request('message'), _request('nom_site'),
+			_request('url_site'), _request('url_page')
+		);
+
+	else {
+		$s = spip_query("SELECT * FROM spip_petitions
+			WHERE id_article='$id_article'");
+		if ($row = spip_fetch_array($s))
+			return array('formulaire_signature', 0, $row);
+	}
+}
+
+
+// Retour a l'ecran du lien de confirmation d'une signature de petition.
+// Si var_confirm est non vide, c'est l'appel en debut de inc-public
+// pour vider le cache au demarrage afin que la nouvelle signature apparaisse.
+// Sinon, c'est l'execution du formulaire et on retourne le message 
+// de confirmation ou d'erreur construit lors de l'appel par inc-public.
+
+function reponse_confirmation($id_article, $var_confirm = '') {
+	static $confirm = '';
+
+	if (!$var_confirm) return $confirm;
+	include_local(_FILE_CONNECT);
+	if ($GLOBALS['db_ok']) {
+		include_ecrire("inc_texte.php3");
+		include_ecrire("inc_filtres.php3");
+
+		// Eviter les doublons
+		$lock = "petition $id_article $var_confirm";
+		if (!spip_get_lock($lock, 5)) {
+			$confirm= _T('form_pet_probleme_technique');
+		}
+		else {
+			$query_sign = "SELECT * FROM spip_signatures WHERE statut='".addslashes($var_confirm)."'";
+			$result_sign = spip_query($query_sign);
+			if (spip_num_rows($result_sign) > 0) {
+				while($row = spip_fetch_array($result_sign)) {
+					$id_signature = $row['id_signature'];
+					$id_article = $row['id_article'];
+					$date_time = $row['date_time'];
+					$nom_email = $row['nom_email'];
+					$adresse_email = $row['ad_email'];
+					$nom_site = $row['nom_site'];
+					$url_site = $row['url_site'];
+					$message = $row['message'];
+					$statut = $row['statut'];
+				}
+	
+				$query_petition = "SELECT * FROM spip_petitions WHERE id_article=$id_article";
+				$result_petition = spip_query($query_petition);
+	
+				while ($row = spip_fetch_array($result_petition)) {
+					$id_article = $row['id_article'];
+					$email_unique = $row['email_unique'];
+					$site_obli = $row['site_obli'];
+					$site_unique = $row['site_unique'];
+					$message_petition = $row['message'];
+					$texte_petition = $row['texte'];
+				}
+	
+				if ($email_unique == "oui") {
+					$email = addslashes($adresse_email);
+					$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND ad_email='$email' AND statut='publie'";
+					$result = spip_query($query);
+					if (spip_num_rows($result) > 0) {
+						$confirm= (_T('form_pet_deja_signe'));
+						$refus = "oui";
+					}
+				}
+	
+				if ($site_unique == "oui") {
+					$site = addslashes($url_site);
+					$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND url_site='$site' AND statut='publie'";
+					$result = spip_query($query);
+					if (spip_num_rows($result) > 0) {
+						$confirm= (_T('form_pet_deja_enregistre'));
+						$refus = "oui";
+					}
+				}
+	
+				if ($refus == "oui") {
+					$confirm= (_T('form_deja_inscrit'));
+				}
+				else {
+					$query = "UPDATE spip_signatures
+					SET statut='publie', date_time=NOW()
+					WHERE id_signature='$id_signature'";
+					$result = spip_query($query);
+					// invalider les pages ayant des boucles signatures
+					include_ecrire('inc_invalideur.php3');
+					include_ecrire('inc_meta.php3');
+					suivre_invalideur("id='varia/pet$id_article'");
+	
+					$confirm= (_T('form_pet_signature_validee'));
+				}
+			}
+			else {
+				$confirm= (_T('form_pet_aucune_signature'));
+			}
+			spip_release_lock($lock);
+		}
+	}
+	else {
+		$confirm= _T('form_pet_probleme_technique');
+	}
+}
+
+//
+// Retour a l'ecran de la signature d'une petition
+//
+
+function reponse_signature($id_article, $nom_email, $adresse_email, $message, $nom_site, $url_site, $url_page) {
+
+	if ($GLOBALS['db_ok']) {
+		include_ecrire("inc_texte.php3");
+		include_ecrire("inc_filtres.php3");
+		include_ecrire("inc_mail.php3");
+
+		// Eviter les doublons
+		$lock = "petition $id_article $adresse_email";
+		if (!spip_get_lock($lock, 5)) {
+			return _T('form_pet_probleme_technique');
+		} else {
+			$query_petition = "SELECT * FROM spip_petitions WHERE id_article=$id_article";
+			$result_petition = spip_query($query_petition);
+	
+			while ($row = spip_fetch_array($result_petition)) {
+				$id_article = $row['id_article'];
+				$email_unique = $row['email_unique'];
+				$site_obli = $row['site_obli'];
+				$site_unique = $row['site_unique'];
+				$message_petition = $row['message'];
+				$texte_petition = $row['texte'];
+			}
+	
+			if (strlen($nom_email) < 2) {
+				return (_T('form_indiquer_nom'));
+			}
+	
+			if ($adresse_email == _T('info_mail_fournisseur')) {
+				return (_T('form_indiquer_email'));
+			}
+	
+			if ($email_unique == "oui") {
+				$email = addslashes($adresse_email);
+				$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND ad_email='$email' AND statut='publie'";
+				$result = spip_query($query);
+				if (spip_num_rows($result) > 0) {
+					return (_T('form_pet_deja_signe'));
+				}
+			}
+	
+			if (!email_valide($adresse_email)) {
+				return (_T('form_email_non_valide'));
+			}
+	
+			if ($site_obli == "oui") {
+				if (!$nom_site) {
+					return (_T('form_indiquer_nom_site'));
+				}
+				include_ecrire("inc_sites.php3");
+	
+				if (!recuperer_page($url_site)) {
+					return (_T('form_pet_url_invalide'));
+				}
+			}
+			if ($site_unique == "oui") {
+				$site = addslashes($url_site);
+				$query = "SELECT * FROM spip_signatures WHERE id_article=$id_article AND url_site='$site' AND (statut='publie' OR statut='poubelle')";
+				$result = spip_query($query);
+				if (spip_num_rows($result) > 0) {
+					return (_T('form_pet_site_deja_enregistre'));
+				}
+			}
+	
+			$passw = test_pass();
+	
+			if ($refus == "oui") {
+				return _T('form_pet_signature_pasprise');
+			}
+			else {
+				$query_site = "SELECT titre FROM spip_articles WHERE id_article=$id_article";
+				$result_site = spip_query($query_site);
+				while ($row = spip_fetch_array($result_site)) {
+					$titre = $row['titre'];
+				}
+
+				$link = new Link($url_page);
+				$link->addVar('var_confirm', $passw);
+				$url = $link->getUrl("sp$id_article");
+	
+				$messagex = _T('form_pet_mail_confirmation', array('titre' => $titre, 'nom_email' => $nom_email, 'nom_site' => $nom_site, 'url_site' => $url_site, 'url' => $url));
+
+				if (envoyer_mail($adresse_email, _T('form_pet_confirmation')." ".$titre, $messagex)) {
+
+					$nom_email = addslashes($nom_email);
+					$adresse_email = addslashes($adresse_email);
+					$nom_site = addslashes($nom_site);
+					$url_site = addslashes($url_site);
+					$message = addslashes($message);
+	
+					spip_query("INSERT INTO spip_signatures (id_article, date_time, nom_email, ad_email, nom_site, url_site, message, statut) VALUES ($id_article, NOW(), '$nom_email', '$adresse_email', '$nom_site', '$url_site', '$message', '$passw')");
+					return _T('form_pet_envoi_mail_confirmation');
+				}
+				else {
+					return _T('form_pet_probleme_technique');
+				}
+			}
+			spip_release_lock($lock);
+		}
+	}
+	else {
+		return _T('form_pet_probleme_technique');
+	}
+
+}
+
+
+function test_pass() {
+	include_ecrire("inc_acces.php3");
+	for (;;) {
+		$passw = creer_pass_aleatoire();
+		$query = "SELECT statut FROM spip_signatures WHERE statut='$passw'";
+		$result = spip_query($query);
+		if (!spip_num_rows($result)) break;
+	}
+	return $passw;
+}
+
+?>

Index: formulaire_ecrire_auteur.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_ecrire_auteur.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_ecrire_auteur.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_ecrire_auteur.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,20 +1,19 @@
-[<br />(#ENV*{sujetko})<:form_prop_indiquer_sujet:><br />&nbsp;][
-<br />(#ENV*{mailko})<:form_prop_indiquer_email:><br /><br />
-]<form action="[(#ENV{action})]" method='post'>
-<p><label><:form_pet_votre_email:>
-	<input type="text" class="forml" name="email_message_auteur"
-		 value="[(#ENV{mail})]" size="30" />
-</label></p>
-<p><label><:form_prop_sujet:><br />
-	<input type="text" class="forml" name="sujet_message_auteur"
-		 value="[(#ENV{sujet})]" size="30" />
-</label></p>
-<p>
-<textarea name='texte_message_auteur' rows='10' class='forml' cols='40'>[(#ENV{texte})]</textarea>
-</p>
-[<input type="hidden" name="id_auteur" value="(#ENV{id_auteur})" />]
-<div align="right">
-	<input type="submit"  class="spip_bouton" name="valide"
-		 value="[(#ENV{valide})]" />
-</div>
-</form>
+[<br />(#ENV*{sujetko})<:form_prop_indiquer_sujet:><br />&nbsp;][
+<br />(#ENV*{mailko})<:form_prop_indiquer_email:><br /><br />
+]<form action="[(#ENV{action})]" method='post'>
+<p><label><:form_pet_votre_email:>
+<input type="text" class="forml" name="email_message_auteur[(#ENV{id})]"
+	value="[(#ENV{mail})]" size="30" />
+</label></p>
+<p><label><:form_prop_sujet:><br />
+<input type="text" class="forml" name="sujet_message_auteur[(#ENV{id})]"
+	value="[(#ENV{sujet})]" size="30" />
+</label></p>
+<p>
+<textarea name="texte_message_auteur[(#ENV{id})]" rows='10' class='forml' cols='40'>[(#ENV{texte})]</textarea>
+</p>
+<div align="right">
+	<input type="submit"  class="spip_bouton" name="valide[(#ENV{id})]"
+		 value="[(#ENV{valide})]" />
+</div>
+</form>

Index: formulaire_login.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_login.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_login.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_login.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,79 +1,70 @@
-[(#ENV{echec_cookie})
-	<h3 class="spip"><:erreur_probleme_cookie:></h3>
-		<b><:login_cookie_oblige:></b>
-		  <:login_cookie_accepte:><p />
-][
-(#ENV*{message})
-	<br />
-	 <:forum_vous_enregistrer:>
-	[<a 
-	href='(#ENV{inscription})?mode=forum&amp;focus=nom_inscription&amp;target=spip_pass'
-	target="spip_pass"
-	onclick="javascript:window.open(this.href, 'spip_inscription', 'scrollbars=yes, resizable=yes, width=480, height=450'); return false;"><:forum_vous_inscrire:></a>]&nbsp;&nbsp;&#91;<a
-		href="spip_pass.php3"
-		target="spip_pass" 
-		onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=280'); return false;"><:login_motpasseoublie:></a>&#93;<br /><br />
-]<div style="font-family: Verdana,arial,helvetica,sans-serif; font-size: 12px;">
-	<script type="text/javascript" src="ecrire/md5.js"></script>
-	<form	id="login[_(#ENV{login})]"
-		action="[(#ENV{action2})]"
-		method="post"[(#ENV{source}|=={spip}|?{' ',''})
-		onSubmit='if (this.session_password.value) {
-			this.session_password_md5.value = calcMD5("[(#ENV{alea_actuel})]" + this.session_password.value);
-			this.next_session_password_md5.value = calcMD5("[(#ENV{alea_futur})]" + this.session_password.value);
-			this.session_password.value = "";
-			}']>
-		<div class="spip_encadrer" style="[(#URL_SITE_SPIP|style_align)]">[
-			<div class="reponse_formulaire">(#ENV*{erreur})<br /><br /></div>
-][
-			<label><b><:login_login2:></b><br /></label>(#ENV{login}|?{'',' '})
-			<input type="text" id='var_login' name="var_login" class="forml" value="" size="40" />
-][
-<div>
-			<input type="hidden" name="session_login_hidden" value="(#ENV{login})" />
-<script type="text/javascript"><!--
-document.write("<:login_login:>&nbsp;<b>[(#ENV{login})]<" + "/b><br />&#91;<a href='spip_cookie.php3?cookie_admin=non&amp;url=[(#ENV{url})][&amp;retour=(#SELF|urlencode)]'><font size='2'><:login_autre_identifiant:><" + "/font><" + "/a>&#93;")
-//--></script>
-<noscript>
-	<font face="Georgia, Garamond, Times, serif" size="3">
-		<:login_non_securise:>
-		<a href="[(#ENV{action})]"><:login_recharger:></a>
-	</font>
-	<label><b><:login_login2:></b><br /></label>
-	<input type='text' name='session_login' class='forml' [value="(#ENV{login})" ]size='40' />
-</noscript>
-[<img	src="(#ENV{id_auteur}|silogoauteur)"
-	width="75"
-	valign="top"
-	align="right"
-	alt="[(#ENV{login})]"><br /><br /><br />]
-</div>
-<p>
-		<label><b><:login_pass2:></b></label>&nbsp;<input type="password" name="session_password"[ id="var_login_(#ENV{login})]" class="forml" value="" size="40" />
-		<br />&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox"
-			 name="session_remember"
-			 id="session[_(#ENV{login})]"
-			 value="oui"[(#ENV*{prefs}|filtre_rester_connecte)checked="checked"]/>
-		<label for="session[_(#ENV{login})]"><:login_rester_identifie:></label>
-</p>
-		<input type="hidden" name="session_password_md5" value="" />
-		<input type="hidden" name="next_session_password_md5" value="" />
-		<input type="hidden" name="essai_login" value="oui" />
-]		<input type="hidden" name="url" value="[(#ENV{url})]" />
-		<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" /></div>
-		</div>
-	</form>
-<script type="text/javascript"><!--
-document.getElementById('var_login[_(#ENV{login})]').focus();
---></script>[
-	<form action="(#ENV{auth_http})" method="get">
-		<fieldset>
-		<p>
-		<:login_preferez_refuser:>
-		<input type="hidden" name="essai_auth_http" value="oui"/>
-		[<input type="hidden" name="url" value="(#ENV{url})"/>]
-		<div align="right"><input type="submit" class="spip_bouton" value="<:login_sans_cookiie:>"/></div>
-		</fieldset>
-	</form>
-]
-</div>
+[(#ENV{echec_cookie})
+	<h3 class="spip"><:erreur_probleme_cookie:></h3>
+		<b><:login_cookie_oblige:></b>
+		  <:login_cookie_accepte:><p />
+]
+
+<div style="font-family: Verdana,arial,helvetica,sans-serif; font-size: 12px;">
+	<script type="text/javascript" src="ecrire/md5.js"></script>
+	<form	id="login[_(#ENV{login})]"
+		action="[(#ENV{action2})]"
+		method="post"[(#ENV{source}|=={spip}|?{' ',''})
+		onSubmit='if (this.session_password.value) {
+			this.session_password_md5.value = calcMD5("[(#ENV{alea_actuel})]" + this.session_password.value);
+			this.next_session_password_md5.value = calcMD5("[(#ENV{alea_futur})]" + this.session_password.value);
+			this.session_password.value = "";
+			}']>
+		<div class="spip_encadrer" style="[(#URL_SITE_SPIP|style_align)]">[
+			<div class="reponse_formulaire">(#ENV*{erreur})<br /><br /></div>
+][
+			<label><b><:login_login2:></b><br /></label>(#ENV{login}|?{'',' '})
+			<input type="text" id='var_login' name="var_login" class="forml" value="" size="40" />
+][
+<div>
+			<input type="hidden" name="session_login_hidden" value="(#ENV{login})" />
+<script type="text/javascript"><!--
+document.write("<:login_login:>&nbsp;<b>[(#ENV{login})]<" + "/b><br />&#91;<a href='spip_cookie.php3?cookie_admin=non[&amp;url=(#ENV{url})][&amp;retour=(#SELF|urlencode)]'><font size='2'><:login_autre_identifiant:><" + "/font><" + "/a>&#93;")
+//--></script>
+<noscript>
+	<font face="Georgia, Garamond, Times, serif" size="3">
+		<:login_non_securise:>
+		<a href="[(#ENV{action})]"><:login_recharger:></a>
+	</font>
+	<label><b><:login_login2:></b><br /></label>
+	<input type='text' name='session_login' class='forml' [value="(#ENV{login})" ]size='40' />
+</noscript>
+[<img	src="(#ENV{id_auteur}|silogoauteur)"
+	width="75"
+	valign="top"
+	align="right"
+	alt="[(#ENV{login})]"><br /><br /><br />]
+</div>
+<p>
+		<label><b><:login_pass2:></b></label>&nbsp;<input type="password" name="session_password"[ id="var_login_(#ENV{login})]" class="forml" value="" size="40" />
+		<br />&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox"
+			 name="session_remember"
+			 id="session[_(#ENV{login})]"
+			 value="oui"[(#ENV*{prefs}|filtre_rester_connecte)checked="checked"]/>
+		<label for="session[_(#ENV{login})]"><:login_rester_identifie:></label>
+</p>
+		<input type="hidden" name="session_password_md5" value="" />
+		<input type="hidden" name="next_session_password_md5" value="" />
+		<input type="hidden" name="essai_login" value="oui" />
+]		<input type="hidden" name="url" value="[(#ENV{url})]" />
+		<div align="right"><input type="submit" class="spip_bouton" value="<:bouton_valider:>" /></div>
+		</div>
+	</form>
+<script type="text/javascript"><!--
+document.getElementById('var_login[_(#ENV{login})]').focus();
+--></script>[
+	<form action="(#ENV{auth_http})" method="get">
+		<fieldset>
+		<p>
+		<:login_preferez_refuser:>
+		<input type="hidden" name="essai_auth_http" value="oui"/>
+		[<input type="hidden" name="url" value="(#ENV{url})"/>]
+		<div align="right"><input type="submit" class="spip_bouton" value="<:login_sans_cookiie:>"/></div>
+		</fieldset>
+	</form>
+]
+</div>

Index: inc-login_prive.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-login_prive.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-login_prive.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-login_prive.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,30 +1,31 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-include_local(find_in_path("inc-login_public.php3"));
-
-global $balise_LOGIN_PRIVE_collecte;
-$balise_LOGIN_PRIVE_collecte = array('url');
-
-# retourner:
-# 1. l'url collectee ci-dessus (args0) ou donnee en filtre (filtre0)
-# 2. l'eventuel parametre de la balise (args1) fournie par
-#    calculer_balise_dynamique, en l'occurence le #LOGIN courant si l'on
-#    programme une <boucle(AUTEURS)>[(#LOGIN_PUBLIC{#LOGIN})]
-
-function balise_LOGIN_PRIVE_stat ($args, $filtres) {
-
-	if (!$cible = $filtres[0])
-		$cible = $args[0];
-
-	$login = $args[1];
-
-	return array($cible, $login, $simple);
-}
-
-function balise_LOGIN_PRIVE_dyn($cible, $login) {
-	return login_explicite($login, $cible, 'redac');
-}
-
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+include_local(find_in_path("inc-login_public.php3"));
+
+global $balise_LOGIN_PRIVE_collecte;
+$balise_LOGIN_PRIVE_collecte = array('url');
+
+# retourner:
+# 1. l'url collectee ci-dessus (args0) ou donnee en filtre (filtre0)
+# 2. l'eventuel parametre de la balise (args1) fournie par
+#    calculer_balise_dynamique, en l'occurence le #LOGIN courant si l'on
+#    programme une <boucle(AUTEURS)>[(#LOGIN_PRIVE{#LOGIN})]
+
+function balise_LOGIN_PRIVE_stat ($args, $filtres) {
+
+	if (!$cible = $filtres[0])
+		$cible = $args[0];
+
+	$login = $args[1];
+
+	return array($cible, $login, $inscription);
+}
+
+function balise_LOGIN_PRIVE_dyn($cible, $login) {
+	return
+		login_explicite($login, $cible, 'redac');
+}
+
+?>

Index: inc-formulaire_admin.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-formulaire_admin.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-formulaire_admin.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-formulaire_admin.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,109 +1,110 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-global $balise_FORMULAIRE_ADMIN_collecte ;
-$balise_FORMULAIRE_ADMIN_collecte = array('id_article', 'id_breve', 'id_rubrique', 'id_mot', 'id_auteur');
-
-# on ne peut rien dire au moment de l'execution du squelette
-
-function balise_FORMULAIRE_ADMIN_stat($args, $filtres) {
-	return $args;
-}
-
-# les boutons admin sont mis d'autorite si absents
-# donc une variable statique controle si FORMULAIRE_ADMIN a ete vu.
-# Toutefois, si c'est le debuger qui appelle,
-# il peut avoir recopie le code dans ses donnees et il faut le lui refounir.
-# Pas question de recompiler: ca fait boucler !
-# Le debuger transmet donc ses donnees, et cette balise y retrouve son petit.
-
-function balise_FORMULAIRE_ADMIN_dyn($id_article, $id_breve, $id_rubrique, $id_mot, $id_auteur, $float='', $debug='') {
-	global $var_preview, $use_cache, $forcer_debug;
-	static $dejafait = false;
-
-	if ($GLOBALS['flag_preserver'] || !$GLOBALS['spip_admin'])
-		return '';
-
-	if (!is_array($debug)) {
-		if ($dejafait)
-			return '';
-	} else {
-		if ($dejafait) {
-			$res = '';
-			foreach($debug['sourcefile'] as $k => $v) {
-				if (strpos($v,'formulaire_admin.') !== false)
-					return $debug['resultat'][$k . 'tout'];
-			}
-			return '';
-		}
-	}
-	$dejafait = true;
-
-	// repartir de zero pour les boutons car clean_link a pu etre utilisee
-	$link = new Link();
-	$link->delVar('var_mode');
-	$link->delVar('var_mode_objet');
-	$link->delVar('var_mode_affiche');
-	$action = $link->getUrl();
-	$action = ($action . ((strpos($action, '?') === false) ? '?' : '&'));
-
-	// Ne pas afficher le bouton 'Modifier ce...' si l'objet n'existe pas
-	foreach (array('article', 'breve', 'rubrique', 'mot', 'auteur') as $type) {
-		$id_type = 'id_'.$type;
-		if (!($$id_type = intval($$id_type)
-		AND $s = spip_query(
-		"SELECT $id_type FROM spip_${type}s WHERE $id_type=".$$id_type)
-		AND spip_num_rows($s)))
-			$$id_type=0;
-	}
-
-	// Bouton statistiques
-	if (lire_meta("activer_statistiques") != "non" 
-	AND $id_article
-	AND !$var_preview
-	AND ($GLOBALS['auteur_session']['statut'] == '0minirezo')) {
-		if ($s = spip_query("SELECT id_article
-		FROM spip_articles WHERE statut='publie'
-		AND id_article = $id_article")
-		AND spip_fetch_array($s)) {
-			include_local ("inc-stats.php3");
-			$r = afficher_raccourci_stats($id_article);
-			$visites = $r['visites'];
-			$popularite = $r['popularite'];
-			$statistiques = 'statistiques_visites.php3?'; # lien si connecte
-		}
-	}
-
-	// Bouton de debug
-	$debug = (
-		($forcer_debug
-		OR $GLOBALS['bouton_admin_debug']
-		OR ($GLOBALS['var_mode'] == 'debug'
-			AND $GLOBALS['_COOKIE']['spip_debug']
-		)) AND ($GLOBALS['code_activation_debug'] == 'oui'
-			OR $GLOBALS['auteur_session']['statut'] == '0minirezo')
-		AND !$var_preview
-	) ? 'debug' : '';
-
-	// hack - ne pas avoir la rubrique si un autre bouton est deja present
-	if ($id_article OR $id_breve) unset ($id_rubrique);
-
-	return array('formulaire_admin', 0,
-			array(
-				'id_article' => $id_article,
-				'id_rubrique' => $id_rubrique,
-				'id_auteur' => $id_auteur,
-				'id_breve' => $id_breve,
-				'id_mot' => $id_mot,
-				'action' => $action,
-				'debug' => $debug,
-				'popularite' => ceil($popularite),
-				'statistiques' => $statistiques,
-				'visites' => intval($visites),
-				'use_cache' => ($use_cache ? ' *' : ''),
-				'floatdiv' => $float
-			)
-		);
-}
-?>
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+global $balise_FORMULAIRE_ADMIN_collecte ;
+$balise_FORMULAIRE_ADMIN_collecte = array();
+
+# on ne peut rien dire au moment de l'execution du squelette
+
+function balise_FORMULAIRE_ADMIN_stat($args, $filtres) {
+	return $args;
+}
+
+# les boutons admin sont mis d'autorite si absents
+# donc une variable statique controle si FORMULAIRE_ADMIN a ete vu.
+# Toutefois, si c'est le debuger qui appelle,
+# il peut avoir recopie le code dans ses donnees et il faut le lui refounir.
+# Pas question de recompiler: ca fait boucler !
+# Le debuger transmet donc ses donnees, et cette balise y retrouve son petit.
+
+function balise_FORMULAIRE_ADMIN_dyn($float='', $debug='') {
+	global $var_preview, $use_cache, $forcer_debug;
+	global $id_article, $id_breve, $id_rubrique, $id_mot, $id_auteur;
+	static $dejafait = false;
+
+	if ($GLOBALS['flag_preserver'] || !$GLOBALS['spip_admin'])
+		return '';
+
+	if (!is_array($debug)) {
+		if ($dejafait)
+			return '';
+	} else {
+		if ($dejafait) {
+			$res = '';
+			foreach($debug['sourcefile'] as $k => $v) {
+				if (strpos($v,'formulaire_admin.') !== false)
+					return $debug['resultat'][$k . 'tout'];
+			}
+			return '';
+		}
+	}
+	$dejafait = true;
+
+	// repartir de zero pour les boutons car clean_link a pu etre utilisee
+	$link = new Link();
+	$link->delVar('var_mode');
+	$link->delVar('var_mode_objet');
+	$link->delVar('var_mode_affiche');
+	$action = $link->getUrl();
+	$action = ($action . ((strpos($action, '?') === false) ? '?' : '&'));
+
+	// Ne pas afficher le bouton 'Modifier ce...' si l'objet n'existe pas
+	foreach (array('article', 'breve', 'rubrique', 'mot', 'auteur') as $type) {
+		$id_type = 'id_'.$type;
+		if (!($$id_type = intval($$id_type)
+		AND $s = spip_query(
+		"SELECT $id_type FROM spip_${type}s WHERE $id_type=".$$id_type)
+		AND spip_num_rows($s)))
+			$$id_type=0;
+	}
+
+	// Bouton statistiques
+	if (lire_meta("activer_statistiques") != "non" 
+	AND $id_article
+	AND !$var_preview
+	AND ($GLOBALS['auteur_session']['statut'] == '0minirezo')) {
+		if ($s = spip_query("SELECT id_article
+		FROM spip_articles WHERE statut='publie'
+		AND id_article = $id_article")
+		AND spip_fetch_array($s)) {
+			include_local ("inc-stats.php3");
+			$r = afficher_raccourci_stats($id_article);
+			$visites = $r['visites'];
+			$popularite = $r['popularite'];
+			$statistiques = 'statistiques_visites.php3?'; # lien si connecte
+		}
+	}
+
+	// Bouton de debug
+	$debug = (
+		($forcer_debug
+		OR $GLOBALS['bouton_admin_debug']
+		OR ($GLOBALS['var_mode'] == 'debug'
+			AND $GLOBALS['_COOKIE']['spip_debug']
+		)) AND ($GLOBALS['code_activation_debug'] == 'oui'
+			OR $GLOBALS['auteur_session']['statut'] == '0minirezo')
+		AND !$var_preview
+	) ? 'debug' : '';
+
+	// hack - ne pas avoir la rubrique si un autre bouton est deja present
+	if ($id_article OR $id_breve) unset ($id_rubrique);
+
+	return array('formulaire_admin', 0,
+			array(
+				'id_article' => $id_article,
+				'id_rubrique' => $id_rubrique,
+				'id_auteur' => $id_auteur,
+				'id_breve' => $id_breve,
+				'id_mot' => $id_mot,
+				'action' => $action,
+				'debug' => $debug,
+				'popularite' => ceil($popularite),
+				'statistiques' => $statistiques,
+				'visites' => intval($visites),
+				'use_cache' => ($use_cache ? ' *' : ''),
+				'floatdiv' => $float
+			)
+		);
+}
+?>

Index: inc-formulaire_recherche.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/inc-formulaire_recherche.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc-formulaire_recherche.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ inc-formulaire_recherche.php3	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,26 +1,34 @@
-<?php
-
-if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
-
-global $balise_FORMULAIRE_RECHERCHE_collecte;
-$balise_FORMULAIRE_RECHERCHE_collecte = array();
-
-function balise_FORMULAIRE_RECHERCHE_stat($args, $filtres)
-{
-  return (lire_meta("activer_moteur") != "oui") ? '' : array($filtres[0]);
-}
- 
-function balise_FORMULAIRE_RECHERCHE_dyn($lien) {
-	include_ecrire('inc_filtres.php3');
-	if (!$recherche_securisee = entites_html($GLOBALS['recherche'])) {
-		$recherche_securisee = _T('info_rechercher');
-	}
-
-	return array('formulaire_recherche', 3600, 
-		array(
-			'lien' => ($lien ? $lien : 'recherche.php3'),
-			'recherche_securisee' => $recherche_securisee
-		));
-}
-
+<?php
+
+if (!defined("_ECRIRE_INC_VERSION")) return;	#securite
+
+// Pas besoin de contexte de compilation
+global $balise_FORMULAIRE_RECHERCHE_collecte;
+$balise_FORMULAIRE_RECHERCHE_collecte = array();
+
+function balise_FORMULAIRE_RECHERCHE_stat($args, $filtres) {
+	// Si le moteur n'est pas active, pas de balise
+	if (lire_meta("activer_moteur") != "oui")
+		return '';
+
+	// Seul un lien [(#FORMULAIRE_RECHERCHE|xxx.php3)] nous interesse
+	else
+		return array($filtres[0]);
+}
+ 
+function balise_FORMULAIRE_RECHERCHE_dyn($lien) {
+	include_ecrire('inc_filtres.php3');
+	if (!$recherche_securisee = entites_html(_request('recherche'))) {
+		$recherche_securisee = _T('info_rechercher');
+	}
+	if (!$lien)
+		$lien = 'recherche.php3';	# par defaut
+
+	return array('formulaire_recherche', 3600, 
+		array(
+			'lien' => $lien,
+			'recherche_securisee' => $recherche_securisee
+		));
+}
+
 ?>

Index: formulaire_menu_lang.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_menu_lang.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_menu_lang.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_menu_lang.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,14 +1,14 @@
-<form	action='[(#ENV{url})]'
-	method='post'
-	style='margin:0px; padding:0px;'>[
-	<input type='hidden' name='url' value='(#ENV{cible})' />
-]	<select	name='[(#ENV{nom})]' 
-		class='forml'
-		style='vertical-align: top; max-height: 24px; margin-bottom: 5px; width: 120px;'
-		onchange="document.location.href='[(#ENV{retour})]&amp;[(#ENV{nom})]='+this.options[this.selectedIndex].value">
-		[(#ENV*{langues})]
-      </select>
-      <noscript>
-	<input type='submit' value='&gt;&gt;' class='spip_bouton' />
-      </noscript>
-</form>
+<form	action='[(#ENV{url})]'
+	method='post'
+	style='margin:0px; padding:0px;'>[
+	<input type='hidden' name='url' value='(#ENV{cible})' />
+]	<select	name='[(#ENV{nom})]' 
+		class='forml'
+		style='vertical-align: top; max-height: 24px; margin-bottom: 5px; width: 120px;'
+		onchange="document.location.href='[(#ENV{retour})]&amp;[(#ENV{nom})]='+this.options[this.selectedIndex].value">
+		[(#ENV*{langues})]
+      </select>
+      <noscript>
+	<input type='submit' value='&gt;&gt;' class='spip_bouton' />
+      </noscript>
+</form>

Index: formulaire_admin.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/formulaires/formulaire_admin.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- formulaire_admin.html	8 Feb 2005 15:10:12 -0000	1.1
+++ formulaire_admin.html	20 Feb 2005 22:13:52 -0000	1.2
@@ -1,16 +1,16 @@
-[<(#ENV{floatdiv}) class="spip-admin-float">]
-<div class="spip-admin-bloc" dir='#LANG_DIR'>
-<div class="spip-admin">
-	<ul>[
-	<li><a href='ecrire/articles.php3?id_article=(#ENV{id_article})' class='spip-admin-boutons'><:admin_modifier_article:> ([(#ENV{id_article})])</a></li>][
-	<li><a href='ecrire/breves_voir.php3?id_breve=(#ENV{id_breve})' class='spip-admin-boutons'><:admin_modifier_breve:> ([(#ENV{id_breve})])</a></li>][
-	<li><a href='ecrire/naviguer.php3?id_rubrique=(#ENV{id_rubrique})' class='spip-admin-boutons'><:admin_modifier_rubrique:> ([(#ENV{id_rubrique})])</a></li>][
-	<li><a href='ecrire/mots_edit.php3?id_mot=(#ENV{id_mot})' class='spip-admin-boutons'><:admin_modifier_mot:> ([(#ENV{id_mot})])</a></li>][
-	<li><a href='ecrire/auteurs_edit.php3?id_auteur=(#ENV{id_auteur})' class='spip-admin-boutons'><:admin_modifier_auteur:> ([(#ENV{id_auteur})])</a></li>]
-	<li><a href='[(#ENV{action})]var_mode=recalcul' class='spip-admin-boutons'><:admin_recalculer:>[(#ENV{use_cache})]</a></li>[
-	<li><a href='ecrire/(#ENV{statistiques})[id_article=(#ENV{id_article})]' class='spip-admin-boutons'>[<:info_visites:>&nbsp;(#ENV{visites})][;&nbsp;<:info_popularite_5:>&nbsp;(#ENV{popularite})]</a></li>][
-	<li><a href='[(#ENV{action})]var_mode=(#ENV{debug})' class='spip-admin-boutons'><:admin_debug:></a></li>]
-	</ul>
-</div>
-</div>
-[</(#ENV{floatdiv})>]
+[<(#ENV{floatdiv}) class="spip-admin-float">]
+<div class="spip-admin-bloc" dir='#LANG_DIR'>
+<div class="spip-admin">
+	<ul>[
+	<li><a href='ecrire/articles.php3?id_article=(#ENV{id_article})' class='spip-admin-boutons'><:admin_modifier_article:> ([(#ENV{id_article})])</a></li>][
+	<li><a href='ecrire/breves_voir.php3?id_breve=(#ENV{id_breve})' class='spip-admin-boutons'><:admin_modifier_breve:> ([(#ENV{id_breve})])</a></li>][
+	<li><a href='ecrire/naviguer.php3?id_rubrique=(#ENV{id_rubrique})' class='spip-admin-boutons'><:admin_modifier_rubrique:> ([(#ENV{id_rubrique})])</a></li>][
+	<li><a href='ecrire/mots_edit.php3?id_mot=(#ENV{id_mot})' class='spip-admin-boutons'><:admin_modifier_mot:> ([(#ENV{id_mot})])</a></li>][
+	<li><a href='ecrire/auteurs_edit.php3?id_auteur=(#ENV{id_auteur})' class='spip-admin-boutons'><:admin_modifier_auteur:> ([(#ENV{id_auteur})])</a></li>]
+	<li><a href='[(#ENV{action})]var_mode=recalcul' class='spip-admin-boutons'><:admin_recalculer:>[(#ENV{use_cache})]</a></li>[
+	<li><a href='ecrire/(#ENV{statistiques})[id_article=(#ENV{id_article})]' class='spip-admin-boutons'>[<:info_visites:>&nbsp;(#ENV{visites})][;&nbsp;<:info_popularite_5:>&nbsp;(#ENV{popularite})]</a></li>][
+	<li><a href='[(#ENV{action})]var_mode=(#ENV{debug})' class='spip-admin-boutons'><:admin_debug:></a></li>]
+	</ul>
+</div>
+</div>
+[</(#ENV{floatdiv})>]



From stef at berlios.de  Sun Feb 20 23:14:14 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:14:14 +0100
Subject: [Spip-carto-cvs] spipcarto/IMG test.gif,NONE,1.1 test_image.jpg,NONE,1.1 test.png,NONE,1.1 logo_spip.jpg,NONE,1.1 test.jpg,NONE,1.1
Message-ID: <200502202214.j1KMEE8Y027324@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/IMG
In directory sheep:/tmp/cvs-serv27317/IMG

Added Files:
	test.gif test_image.jpg test.png logo_spip.jpg test.jpg 
Log Message:
1.8pr1

--- NEW FILE: test.gif ---
(This appears to be a binary file; contents omitted.)

--- NEW FILE: test_image.jpg ---
(This appears to be a binary file; contents omitted.)

--- NEW FILE: test.png ---
(This appears to be a binary file; contents omitted.)

--- NEW FILE: logo_spip.jpg ---
(This appears to be a binary file; contents omitted.)

--- NEW FILE: test.jpg ---
(This appears to be a binary file; contents omitted.)



From stef at berlios.de  Sun Feb 20 23:14:30 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:14:30 +0100
Subject: [Spip-carto-cvs] spipcarto/squelettes cartov2.html,NONE,1.1 carto_fond.html,NONE,1.1
Message-ID: <200502202214.j1KMEU8Y027356@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/squelettes
In directory sheep:/tmp/cvs-serv27350/squelettes

Added Files:
	cartov2.html carto_fond.html 
Log Message:
1.8pr1

--- NEW FILE: cartov2.html ---
<div style="position: relative;visibility: visible; margin: 0px; padding: 0px;"><div style="position: absolute;"><BOUCLE_carte(CARTO_CARTES){id_carto_carte}><B_objets><map name="map#ID_CARTO_CARTE"><BOUCLE_objets(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><area shape="[(#GEOMETRIE|wkt2shape)]" coords="[(#GEOMETRIE|wkt2coords)]" href="#URL_OBJET" alt="#TITRE"/></BOUCLE_objets></map></B_objets><img alt="#TITRE" src="#URL_SITE_SPIP/spip_carto.php?fond_carte=[(#URL_CARTE)][&amp;scale=(#ENV{scale})][&amp;x=(#ENV{x})][&amp;y=(#ENV{y})]" usemap="#map#ID_CARTO_CARTE" border="1"/><BOUCLE_objets2(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}><a href="#URL_OBJET"><img style="position: absolute;margin: 0px; padding: 0px;[(#GEOMETRIE|wkt2style)]border: 0px;" alt="#TEXTE" src="<BOUCLE_mot(MOTS){id_carto_objet=#ID_CARTO_OBJET}>IMG/moton[(#ID_MOT)].gif</BOUCLE_mot>" border="0"/></a></BOUCLE_objets2></BOUCLE_carte></div></div>
--- NEW FILE: carto_fond.html ---
<?php [include ("ecrire/inc_version.php3");
redirige_par_entete("(#ENV{fond_carte}|notintvalue)");]
<BOUCLE_DOC(DOCUMENTS){id_document==(#ENV{fond_carte})}>redirige_par_entete("#URL_DOCUMENT");</BOUCLE_DOC>
?>



From stef at berlios.de  Sun Feb 20 23:10:15 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:10:15 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire/lang ecrire_da.php3,NONE,1.1 ecrire_oc_va.php3,NONE,1.1 ecrire_cpf.php3,NONE,1.1 ecrire_zh.php3,NONE,1.1 ecrire_oc_lnc.php3,NONE,1.1 ecrire_pt.php3,NONE,1.1 ecrire_lb.php3,NONE,1.1 ecrire_pl.php3,NONE,1.1 ecrire_pt_br.php3,NONE,1.1 ecrire_fon.php3,NONE,1.1 ecrire_vi.php3,NONE,1.1 ecrire_fr.php3,NONE,1.1 ecrire_de.php3,NONE,1.1 ecrire_ca.php3,NONE,1.1 ecrire_nl.php3,NONE,1.1 ecrire_oc_auv.php3,NONE,1.1 ecrire_it.php3,NONE,1.1 ecrire_oc_gsc.php3,NONE,1.1 ecrire_oc_lms.php3,NONE,1.1 ecrire_eo.php3,NONE,1.1 ecrire_gl.php3,NONE,1.1 ecrire_fa.php3,NONE,1.1 ecrire_oc_prv.php3,NONE,1.1 ecrire_es.php3,NONE,1.1 ecrire_en.php3,NONE,1.1 ecrire_hu.php3,NONE,1.1 ecrire_oc_ni.php3,NONE,1.1 ecrire_bg.php3,NONE,1.1
Message-ID: <200502202210.j1KMAF8Y027170@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire/lang
In directory sheep:/tmp/cvs-serv27047/ecrire/lang

Added Files:
	ecrire_da.php3 ecrire_oc_va.php3 ecrire_cpf.php3 
	ecrire_zh.php3 ecrire_oc_lnc.php3 ecrire_pt.php3 
	ecrire_lb.php3 ecrire_pl.php3 ecrire_pt_br.php3 
	ecrire_fon.php3 ecrire_vi.php3 ecrire_fr.php3 ecrire_de.php3 
	ecrire_ca.php3 ecrire_nl.php3 ecrire_oc_auv.php3 
	ecrire_it.php3 ecrire_oc_gsc.php3 ecrire_oc_lms.php3 
	ecrire_eo.php3 ecrire_gl.php3 ecrire_fa.php3 
	ecrire_oc_prv.php3 ecrire_es.php3 ecrire_en.php3 
	ecrire_hu.php3 ecrire_oc_ni.php3 ecrire_bg.php3 
Log Message:
1.8pr1

--- NEW FILE: ecrire_da.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Denne del af online-hj&aelig;lpen er endnu ikke tilg&aelig;ngelig p&aring; dansk.',
'avis_acces_interdit' => 'Ingen adgang',
'avis_article_modifie' => 'Advarsel, @nom_auteur_modif@ har arbejdet p&aring; denne artikel for @date_diff@ minutter siden',
'avis_aucun_resultat' => 'Ingen resultater fundet.',
'avis_chemin_invalide_1' => 'Den sti som du har valgt',
'avis_chemin_invalide_2' => 'ser ikke ud til at v&aelig;re gyldig. G&aring; tilbage til sidste side og kontroller de oplysninger, du har indtastet.',
'avis_connexion_echec_1' => 'Ingen forbindelse til MySQL-serveren',
'avis_connexion_echec_2' => 'G&aring; tilbage til sidste side og kontroller de oplysninger, du har indtastet',
'avis_connexion_echec_3' => '<B>NB:</B> P&aring; mange servere skal du <B>anmode om</B> at f&aring; &aring;bnet adgang til en MySQL-database, f&oslash;r du kan bruge den. Hvis du ikke kan etablere en forbindelse, s&aring; kontroller venligst at du har indgivet denne anmodning.',
'avis_connexion_ldap_echec_1' => 'Ingen forbindelse til LDAP-serveren',
'avis_connexion_ldap_echec_2' => 'G&aring; tilbage til sidste side og kontroller de oplysninger, du har indtastet.',
'avis_connexion_ldap_echec_3' => 'Alternativt kan du v&aelig;lge ikke at benytte LDAP til at importere brugere.',
'avis_conseil_selection_mot_cle' => '<b>Vigtig gruppe:</b> Det anbefales kraftigt at v&aelig;lge et n&oslash;gleord til denne gruppe.',
'avis_deplacement_rubrique' => 'Advarsel! Dette afsnit indeholder @contient_breves@ nyheder at scb@: Hvis du vil flytte den, s&aring; afkryds venligst her for at bekr&aelig;fte.',
'avis_destinataire_obligatoire' => 'Du skal v&aelig;lge en modtager, f&oslash;r du kan sende meddelelsen.',
'avis_erreur_connexion_mysql' => 'Fejl i forbindelse til MySQL',
'avis_erreur_version_archive' => ' <B>Advarsel! Filen @archive@ h&oslash;rer til 
    en anden version af SPIP end den du har
    installeret.</B> Du risikerer store
    vanskeligheder: risiko for at &oslash;del&aelig;gge din database, 
    forskellige funktionsfejl p&aring; webstedet, osv. 
    Forts&aelig;t ikke indl&aelig;sningen.<p>For mere
    information henvises til <A HREF=\'http://www.spip.net/fr_article1489.html\'>,
                                SPIP-dokumentationen</A>.',
'avis_espace_interdit' => '<B>Forbudt omr&aring;de</B><p>SPIP er allerede installeret.',
'avis_lecture_noms_bases_1' => 'Installationsprogrammet kunne ikke l&aelig;se navnene p&aring; de installerede databaser.',
'avis_lecture_noms_bases_2' => 'Enten er databasen ikke tilg&aelig;ngelig, eller ogs&aring; er funktionen, som giver oversigt
		over databaser, sat ud af kraft af sikkerheds&aring;rsager (hvilket er tilf&aelig;ldet p&aring; mange servere).',
'avis_lecture_noms_bases_3' => 'Hvis det sidstn&aelig;vnte er tilf&aelig;ldet, er det muligt at en database, som er navngivet efter dit login, kan anvendes:',
'avis_non_acces_message' => 'Du har ikke adgang til denne meddelelse.',
'avis_non_acces_page' => 'Du har ikke adgang til denne side.',
'avis_operation_echec' => 'Opgaven mislykkedes.',
'avis_probleme_archive' => 'L&aelig;sefejl i filen @archive@',
'avis_site_introuvable' => 'Webstedet ikke fundet',
'avis_site_syndique_probleme' => 'Advarsel: syndikering med dette websted er st&oslash;dt p&aring; et problem; derfor afbrydes systemet midlertidigt. Kontroller adressen p&aring; webstedets syndikeringsfil (<b>@url_syndic@</b>), og pr&oslash;v at f&aring; adgang til data igen.',
'avis_sites_probleme_syndication' => 'Disse websteder har problemer med syndikering',
'avis_sites_syndiques_probleme' => 'Disse syndikerede sider giver problemer',
'avis_suppression_base' => 'ADVARSEL, sletning kan ikke omg&oslash;res',
'avis_version_mysql' => 'Din version af MySQL (@version_mysql@) tillader ikke automatisk reparation af tabeller.',


// B
'bouton_acces_ldap' => 'Tilf&oslash;j adgang til LDAP >>',
'bouton_ajouter' => 'Tilf&oslash;j',
'bouton_ajouter_participant' => 'TILF&Oslash;J DELTAGER:',
'bouton_annonce' => 'ANNONCERING',
'bouton_checkbox_envoi_message' => 'mulighed for at sende en meddelelse',
'bouton_checkbox_indiquer_site' => 'obligatorisk angivelse af websted ',
'bouton_checkbox_qui_attribue_mot_cle_administrateurs' => 'administratorer af webstedet',
'bouton_checkbox_qui_attribue_mot_cle_redacteurs' => 'redakt&oslash;rer',
'bouton_checkbox_qui_attribue_mot_cle_visiteurs' => 'bes&oslash;gende p&aring; det offentlige websted n&aring;r de sender meddelelse til et forum',
'bouton_checkbox_signature_unique_email' => 'kun en signatur pr. e-mail-adresse',
'bouton_checkbox_signature_unique_site' => 'kun en signatur pr. websted',
'bouton_demande_publication' => 'Anmod om at f&aring; offentliggjort denne artikel',
'bouton_effacer_index' => 'Slet indeksering',
'bouton_effacer_tout' => 'Slet alt',
'bouton_envoi_message_02' => 'SEND MEDDELELSE',
'bouton_envoyer_message' => 'Send f&aelig;rdig meddelelse',
'bouton_forum_petition' => 'FORUM &amp; APPELLER',
'bouton_modifier' => 'Ret',
'bouton_pense_bete' => 'PERSONLIGT MEMO',
'bouton_radio_activer_messagerie' => 'Tillad interne meddelelser',
'bouton_radio_activer_messagerie_interne' => 'Tillad interne meddelelser',
'bouton_radio_activer_petition' => 'Tillad appeller',
'bouton_radio_afficher' => 'Vis',
'bouton_radio_apparaitre_liste_redacteurs_connectes' => 'Medtag i listen over tilknyttede redakt&oslash;rer',
'bouton_radio_articles_futurs' => 'alene for fremtidige artikler (ingen opdatering af databasen).',
'bouton_radio_articles_tous' => 'for alle artikler uden undtagelse.',
'bouton_radio_articles_tous_sauf_forum_desactive' => 'for alle artikler med aktivt tilknyttet forum.',
'bouton_radio_desactiver_messagerie' => 'Sl&aring; meddelelsesfunktion fra',
'bouton_radio_enregistrement_obligatoire' => 'Tvungen registrering (
		brugere skal give sig til kende ved at oplyse deres e-mail-adresse
		for at kunne komme med indl&aelig;g).',
'bouton_radio_envoi_annonces_adresse' => 'Send nyheder til adressen:',
'bouton_radio_envoi_liste_nouveautes' => 'Send seneste nyhedsliste',
'bouton_radio_moderation_priori' => 'Forh&aring;ndsgodkendelse (bidrag vises f&oslash;rst efter at de er godkendt af administratorer).',
'bouton_radio_modere_abonnement' => 'Kun for abonnenter (bidragydere skal oplyse e-mail-adresse, f&oslash;r de kan indsende bidrag)',
'bouton_radio_modere_posteriori' => 'Efterf&oslash;lgende godkendelse (bidrag er straks synlige men en administrator kan senere slette dem)',
'bouton_radio_modere_priori' => 'Forh&aring;ndsgodkendelse',
'bouton_radio_non_apparaitre_liste_redacteurs_connectes' => 'Medtag ikke i listen over tilknyttede redakt&oslash;rer',
'bouton_radio_non_envoi_annonces_editoriales' => 'Send ingen redaktionelle nyheder',
'bouton_radio_non_syndication' => 'Ingen syndikering',
'bouton_radio_occidental' => 'Vesteurop&aelig;isk alfabet (<tt>iso-8859-1</tt>): Viser i hovedsagen vesteurop&aelig;iske sprog (dansk, tysk, fransk, engelsk, ...). SPIP underst&oslash;tter fint andre sprog.',
'bouton_radio_pas_petition' => 'Ingen appeller',
'bouton_radio_personnalise' => 'Skr&aelig;ddersyet tegns&aelig;t: benyt denne valgmulighed, hvis du vil anvende et specielt tegns&aelig;t',
'bouton_radio_petition_activee' => 'Appelfunktion sl&aring;et til',
'bouton_radio_publication_immediate' => 'Indl&aelig;g offentligg&oslash;res straks (bidrag vises straks efter at de er sendt, administratorer kan slette dem senere).',
'bouton_radio_sauvegarde_compressee' => 'gem komprimeret i <b>ecrire/data/dump.xml.gz</b>',
'bouton_radio_sauvegarde_non_compressee' => 'gem ukomprimeret i <b>ecrire/data/dump.xml</b>',
'bouton_radio_supprimer_petition' => 'Slet appellen',
'bouton_radio_syndication' => 'Syndikering:',
'bouton_radio_universel' => 'Universelt alfabet (<tt>utf-8</tt>): viser alle sprog men kan give kompatibilitetsproblemer i forhold til den software,
 du bruger til at &aelig;ndre dine skabeloner, og visse e-mail klienter.',
'bouton_redirection' => 'VIDERESTIL',
'bouton_relancer_installation' => 'Gentag installationen',
'bouton_restaurer_base' => 'Genetabler databasen',
'bouton_suivant' => 'N&aelig;ste',
'bouton_tenter_recuperation' => 'Reparationsfors&oslash;g',
'bouton_test_proxy' => 'Test proxy',
'bouton_vider_cache' => 'T&oslash;m cache',
'bouton_voir_message' => 'Vis indl&aelig;g f&oslash;r godkendelse',


// C
'cache_mode_compresse' => '<NEW>The cache files are saved in compressed mode.',
'cache_mode_non_compresse' => '<NEW>The cache files are written in uncompressed mode.',
'cache_modifiable_webmestre' => '<NEW>These parameters can be modified by the webmaster.',
'calendrier_synchro' => 'Hvis du benytter en kalenderapplikation, der er kompatibel med <b>iCal</b>, kan du synkronisere med information p&aring; dette websted.',


// D
'date_mot_heures' => 'timer',
'diff_para_ajoute' => '<NEW>Added paragraph',
'diff_para_deplace' => '<NEW>Moved paragraph',
'diff_para_supprime' => '<NEW>Deleted paragraph',
'diff_texte_ajoute' => '<NEW>Added text',
'diff_texte_deplace' => '<NEW>Moved text',
'diff_texte_supprime' => '<NEW>Deleted text',


// E
'email' => 'e-mail',
'email_2' => 'e-mail:',
'entree_adresse_annuaire' => 'Adresse p&aring; kataloget',
'entree_adresse_email' => 'Din e-mail-adresse',
'entree_adresse_fichier_syndication' => 'Adresse p&aring; syndikeringsfil:',
'entree_adresse_site' => '<b>URL p&aring; websted</b> [Skal oplyses]',
'entree_base_donnee_1' => 'Adresse p&aring; database',
'entree_base_donnee_2' => '(Ofte svarer denne adresse til adressen p&aring; webstedet, undertiden er den navngivet &laquo;localhost&raquo;, og undertiden skal den v&aelig;re blank.)',
'entree_biographie' => 'Kort pr&aelig;sentation.',
'entree_breve_publiee' => 'Skal denne nyhed offentligg&oslash;res?',
'entree_chemin_acces' => '<B>Angiv</B> stien:',
'entree_cle_pgp' => 'Din PGP n&oslash;gle',
'entree_contenu_rubrique' => '(Kort beskrivelse af afsnittets indhold.)',
'entree_description_site' => 'Beskrivelse af websted',
'entree_identifiants_connexion' => 'Dine opkoblingsinformationer...',
'entree_informations_connexion_ldap' => 'Udfyld denne side med LDAP opkoblingsinformation. Du kan indhente oplysningerne hos din system- eller netv&aelig;rskadministrator.',
'entree_infos_perso' => 'Hvem er du?',
'entree_interieur_rubrique' => 'I afsnit:',
'entree_liens_sites' => '<B>Hypertekst link</B> (henvisning, websted...)',
'entree_login' => 'Dit login',
'entree_login_connexion_1' => 'Tilkoblingslogin',
'entree_login_connexion_2' => '(Undertiden identisk med dit FTP-login, andre gange blank)',
'entree_login_ldap' => 'LDAP basis-login',
'entree_mot_passe' => 'Din adgangskode',
'entree_mot_passe_1' => 'Tilkoblingsadgangskode',
'entree_mot_passe_2' => '(Undertiden identisk med dit FTP-login, andre gange blank)',
'entree_nom_fichier' => 'Indtast filnavn @texte_compresse@:',
'entree_nom_pseudo' => 'Dit navn eller alias',
'entree_nom_pseudo_1' => '(navn eller kaldenavn)',
'entree_nom_site' => 'Dit websteds navn',
'entree_nouveau_passe' => 'Ny adgangskode',
'entree_passe_ldap' => 'Adgangskode',
'entree_port_annuaire' => 'Portnummer p&aring; kataloget',
'entree_signature' => 'Signatur',
'entree_texte_breve' => 'Nyhedstekst',
'entree_titre_obligatoire' => '<B>Titel</b> [Skal oplyses]<BR>',
'entree_url' => 'Dit websteds URL',


// I
'ical_info1' => 'Denne side viser flere m&aring;der til at f&oslash;lge med i aktiviteter p&aring; dette websted.',
'ical_info2' => 'For mere information, bes&oslash;g <a href="http://www.spip.net/fr_suivi">SPIP dokumentation</a>.',
'ical_info_calendrier' => 'To kalendere st&aring;r til r&aring;dighed. Den f&oslash;rste er en oversigt over webstedet, der viser alle offentliggjorte artikler.Den anden indeholder b&aring;de redaktionelle annonceringer og dine seneste private meddelelser. Den er forbeholdt dig i kraft af en personlig n&oslash;gle, som du kan &aelig;ndre n&aring;r som helst ved at forny din adgangskode.',
'ical_methode_http' => 'Filhentning',
'ical_methode_webcal' => 'Synkronisering (webcal://)',
'ical_texte_js' => 'Med en linies javascript kan du nemt vise de senest offentliggjorte artikler p&aring; et websted, der tilh&oslash;rer dig.',
'ical_texte_prive' => 'Denne strengt personlige kalender holder dig underrettet om private redaktionelle aktiviteter p&aring; webstedet (opgaver, personlige aftaler, indsendte artikler, nyheder ...).',
'ical_texte_public' => 'Med denne kalender kan du f&oslash;lge de offentlige aktiviteter p&aring; webstedet (offentliggjorte artikler og nyheder).',
'ical_texte_rss' => 'Du kan syndikere de seneste nyheder p&aring; dette websted i en hvilken som helst XML/RSS (Rich Site Summary) fill&aelig;ser. Dette format tillader ogs&aring; SPIP at l&aelig;se de seneste nyheder offenliggjort af andre websteder i et kompatibelt udvekslingsformat.',
'ical_titre_js' => 'Javascript',
'ical_titre_mailing' => 'Postliste',
'ical_titre_rss' => '&laquo;Backend&raquo; filer',
'icone_activer_cookie' => 'Opret administrationscookie',
'icone_afficher_auteurs' => 'Vis forfattere',
'icone_afficher_visiteurs' => 'Vis bes&oslash;gende',
'icone_arret_discussion' => 'Stop deltagelse i denne diskussion',
'icone_calendrier' => 'Kalender',
'icone_creation_groupe_mots' => 'Opret ny n&oslash;gleordsgruppe',
'icone_creation_mots_cles' => 'Opret nyt n&oslash;gleord',
'icone_creer_auteur' => 'Opret ny forfatter og tilknyt til denne artikel',
'icone_creer_rubrique_2' => 'Opret nyt afsnit',
'icone_ecrire_nouvel_article' => 'Nye indl&aelig;g i dette afsnit',
'icone_envoyer_message' => 'Send denne meddelelse',
'icone_evolution_visites' => 'Udvikling i bes&oslash;g <br>@visites@ bes&oslash;g',
'icone_modif_groupe_mots' => 'Ret denne n&oslash;gleordsgruppe',
'icone_modifier_article' => 'Ret denne artikel',
'icone_modifier_breve' => 'Ret denne nyhed',
'icone_modifier_message' => 'Ret denne meddelelse',
'icone_modifier_rubrique' => 'Ret dette afsnit',
'icone_modifier_site' => 'Ret dette websted',
'icone_poster_message' => 'Opret meddelelse',
'icone_publier_breve' => 'Offentligg&oslash;r nyhed',
'icone_referencer_nouveau_site' => 'Ny webstedshenvisning',
'icone_refuser_breve' => 'Afvis nyhed',
'icone_retour' => 'Tilbage',
'icone_retour_article' => 'Tilbage til artikel',
'icone_suivi_forum' => 'Opf&oslash;lgning i offentligt forum: @nb_forums@ bidrag',
'icone_supprimer_cookie' => 'Slet cookier',
'icone_supprimer_groupe_mots' => 'Slet denne gruppe',
'icone_supprimer_rubrique' => 'Slet dette afsnit',
'icone_supprimer_signature' => 'Slet denne signatur',
'icone_valider_signature' => 'Godkend signatur',
'icone_voir_sites_references' => 'Vis links',
'icone_voir_tous_mots_cles' => 'Vis alle n&oslash;gleord',
'image_administrer_rubrique' => 'Du kan administrere dette afsnit',
'info_1_article' => '1 artikel',
'info_1_breve' => '1 nyhed',
'info_1_site' => '1 websted',
'info_activer_cookie' => 'Du kan installere en <b>administrationscookie</b>, som tillader dig at skifte nemt mellem det offentlige websted og dit private afsnit.',
'info_activer_forum_public' => '<I>For at &aring;bne op for offentlige forummer, skal du v&aelig;lge, hvordan deres godkendelsesprocedure skal v&aelig;re som standard:</i>',
'info_admin_gere_rubriques' => 'Denne administrator administrerer f&oslash;lgende afsnit:',
'info_admin_gere_toutes_rubriques' => 'Denne administrator administrerer <b>alle afsnit</b>.',
'info_administrateur' => 'Administrator',
'info_administrateur_1' => 'Administrator',
'info_administrateur_2' => 'af webstedet (<i>anvend med forsigtighed</i>)',
'info_administrateur_site_01' => 'Hvis du er webstedsadministrator, s&aring;',
'info_administrateur_site_02' => 'klik p&aring; dette link',
'info_administrateurs' => 'Administratorer',
'info_administrer_rubrique' => 'Du kan administrere dette afsnit',
'info_adresse' => 'til adressen:',
'info_adresse_email' => 'EMAIL ADRESSE:',
'info_adresse_url' => 'Dit offentlige websteds URL',
'info_afficher_visites' => 'Vis bes&oslash;g for:',
'info_affichier_visites_articles_plus_visites' => 'Vis bes&oslash;g til <b>de mest bes&oslash;gte artikler siden starten:</b>',
'info_aide_en_ligne' => 'SPIP online hj&aelig;lp',
'info_ajout_image' => 'N&aring;r du vedh&aelig;fter billeder til en artikel, kan
		SPIP automatisk lave miniatureudgaver af billederne.
		Dette muligg&oslash;r f.eks. automatisk oprettelse af et
		galleri eller et album.',
'info_ajout_participant' => 'F&oslash;lgende deltager er tilf&oslash;jet:',
'info_ajouter_rubrique' => 'Tilf&oslash;j endnu et afsnit at administrere:',
'info_annonce_nouveautes' => 'Seneste annonceringer',
'info_annuler_blocage_priori' => 'Oph&aelig;v forh&aring;ndssp&aelig;rring',
'info_anterieur' => 'forrige',
'info_appliquer_choix_moderation' => 'Anvend denne godkendelsesprocedure:',
'info_article' => 'artikel',
'info_article_2' => 'artikler',
'info_article_a_paraitre' => 'Fremdaterede artikler der skal offentligg&oslash;res',
'info_articles_02' => 'artikler',
'info_articles_2' => 'Artikler',
'info_articles_auteur' => 'Denne forfatters artikler',
'info_articles_lies_mot' => 'Artikler knyttet til dette n&oslash;gleord',
'info_articles_trouves' => 'Fundne artikler',
'info_articles_trouves_dans_texte' => 'Artikler fundet (i teksten)',
'info_attente_validation' => 'Dine artikler som afventer godkendelse',
'info_aujourdhui' => 'i dag:',
'info_auteur_message' => 'MEDDELELSESAFSENDER:',
'info_auteurs' => 'Forfattere',
'info_auteurs_par_tri' => 'Forfattere at partri@',
'info_auteurs_trouves' => 'Forfattere fundet',
'info_authentification_externe' => 'Ekstern adgangskontrol',
'info_avertissement' => 'Advarsel',
'info_base_installee' => 'Din databasestruktur er installeret.',
'info_base_restauration' => 'Genoprettelse af databasen er i gang.',
'info_breves' => 'Bruger dit websted nyhedssystemet?',
'info_breves_03' => 'nyheder',
'info_breves_liees_mot' => 'Nyheder knyttet til dette n&oslash;gleord',
'info_breves_touvees' => 'Fundne nyheder',
'info_breves_touvees_dans_texte' => 'Nyheder fundet (i teksten)',
'info_changer_nom_groupe' => 'Ret navnet p&aring; denne gruppe:',
'info_chapeau' => 'Hoved',
'info_chapeau_2' => 'Indledning:',
'info_chemin_acces_1' => 'Valgmuligheder: <B>Adgangsvej til katalog</b>',
'info_chemin_acces_2' => 'Du skal nu konfigurere adgangsvejen til kataloginformationen. Dette er vigtigt for at kunne l&aelig;se de brugerprofiler, som ligger i kataloget.',
'info_chemin_acces_annuaire' => 'Valgmuligheder: <B>Adgangsvej til katalog</B>',
'info_choix_base' => 'Tredje skrift:',
'info_classement_1' => '<sup>.</sup> af @liste@',
'info_classement_2' => '<sup>.</sup> af @liste@',
'info_code_acces' => 'Glem ikke dine egne adgangsoplysninger!',
'info_comment_lire_tableau' => 'S&aring;dan l&aelig;ses grafen',
'info_config_suivi' => 'Hvis denne adresse svarer til en postliste, kan du nedefor angive, hvor webstedets bes&oslash;gende kan lade sig registrere. Denne adresse kan v&aelig;re en  URL (f.eks. siden med tilmelding til listen via web), eller en e-mail adresse med et s&aelig;rligt emne tilknyttet (f.eks.: <tt>@adresse_suivi@?subject=abonner</tt>):',
'info_config_suivi_explication' => 'Du kan abonnere p&aring; dette websteds postliste. Du vil s&aring; via e-mail modtage annonceringer vedr&oslash;rende artikler og nyheder, der er indsendt til offentligg&oslash;relse.',
'info_confirmer_passe' => 'Bekr&aelig;ft ny adgangskode:',
'info_connexion_base' => 'Andet skrift: <B>Fors&oslash;g p&aring; opkobling til databasen</B>',
'info_connexion_ldap_ok' => '<B>Din LDAP-opkobling lykkedes.</B><P> Du kan g&aring; til n&aelig;ste skridt.',
'info_connexion_mysql' => 'F&oslash;rste skridt: <B>Din MySQL opkobling</b>',
'info_connexion_ok' => 'Opkoblingen lykkedes.',
'info_contact' => 'Kontakt',
'info_contenu_articles' => 'Artiklens bestanddele',
'info_creation_mots_cles' => 'Opret og konfigurer webstedets n&oslash;gleord her',
'info_creation_paragraphe' => '(For at lave afsnit skal du inds&aelig;tte blanke linier.)',
'info_creation_rubrique' => 'F&oslash;r du kan skrive artikler<BR> skal du lave mindst et afsnit.<BR>',
'info_creation_tables' => 'Fjerde skridt: <B>Oprettelse af databasetabeller</b>',
'info_creer_base' => '<B>Opret</b> en ny database:',
'info_dans_groupe' => 'I gruppe:',
'info_dans_rubrique' => 'I afsnit:',
'info_date_publication_anterieure' => 'Dato for tidligere offentligg&oslash;relse:',
'info_date_referencement' => 'DATO FOR HENVISNING TIL DETTE WEBSTED:',
'info_delet_mots_cles' => 'Du har &oslash;nsket at slette n&oslash;gleordet
	<B>@titre_mot@</b> (@type_mot@). Da n&oslash;gleordet er knyttet til 
	<b>@texte_lie@</b>skal du bekr&aelig;fte sletningen:',
'info_demander_blocage_priori' => 'Forlang forh&aring;ndssp&aelig;rring',
'info_derniere_etape' => 'Sidste skridt: <B>Det er overst&aring;et!',
'info_derniere_syndication' => 'Sidste syndikering af dette websted blev udf&oslash;rt den',
'info_derniers_articles_publies' => 'Dine senest offentliggjorte artikler',
'info_desactiver_forum_public' => 'Frav&aelig;lg brugen af offentlige forummer. Der kan &aring;bnes op for offentlige forummer fra gang til gang i forhold til artikler.
De vil v&aelig;re lukkede i forhold til afsnit, meddelelser osv..',
'info_desactiver_messagerie_personnelle' => 'Du kan &aring;bne eller lukke for personlige meddelelser p&aring; dette websted.',
'info_descriptif' => 'Beskrivelse:',
'info_discussion_cours' => 'Igangv&aelig;rende diskussioner',
'info_ecrire_article' => 'F&oslash;r du kan lave artikler, skal du oprette mindst et afsnit.',
'info_email_envoi' => 'Afsenderens e-mail adresse (valgfri)',
'info_email_envoi_txt' => 'Indtast afsenderens e-mail adresse ved afsendelse af e-mails (som standard bruges modtagerens adresse som afsenderadresse)&nbsp;:',
'info_email_webmestre' => 'E-mail-adresse p&aring; webmaster (valgfrit)',
'info_entrer_code_alphabet' => 'Indtast koden for det tegns&aelig;t, der skal benyttes:',
'info_envoi_email_automatique' => 'Automatisk e-mail-forsendelse',
'info_envoi_forum' => 'Send indl&aelig;g i forummer til artiklernes forfattere',
'info_envoyer_maintenant' => 'Send nu',
'info_erreur_restauration' => 'Fejl under genopretning: fil findes ikke.',
'info_etape_suivante' => 'G&aring; til n&aelig;ste trin',
'info_etape_suivante_1' => 'Du kan g&aring; til n&aelig;ste trin.',
'info_etape_suivante_2' => 'Du kan g&aring; til n&aelig;ste trin.',
'info_exportation_base' => 'eksporter database til @archive@',
'info_facilite_suivi_activite' => 'For at lette opf&oslash;lgning p&aring; webstedets redaktionelle aktiviteter sender SPIP e-mails med anmodning om offentligg&oslash;relse og godkendelse til f.eks. redakt&oslash;rens adresseliste.',
'info_fichiers_authent' => 'Adgangskontrolfil ".htpasswd"',
'info_fonctionnement_forum' => 'Forummets funktionsm&aring;de:',
'info_forum_administrateur' => 'administratorforum',
'info_forum_interne' => 'internt forum',
'info_forum_ouvert' => 'I det private afsnit af webstedet er der et forum &aring;bent for alle registrerede redakt&oslash;rer. Nedenfor kan du &aring;bne et ekstra forum alene for administratorer.',
'info_forum_statistiques' => 'Bes&oslash;gsstatistik',
'info_forums_abo_invites' => '<NEW>Your site contains forums by subscription; visitors may register for them on the public site.',
'info_gauche_admin_effacer' => '<B>Kun administratorer har adgang til denne side.</B><P> Den giver adgang til forskellige tekniske vedligeholdelsesopgaver. Nogle af dem giver anledning til en s&aelig;rlig adgangskontrol, der kr&aelig;ver FTP-adgang til siden.',
'info_gauche_admin_tech' => '<B>Kun administratorer har adgang til denne side.</B><P> Den giver adgang til forskellige tekniske vedligeholdelsesopgaver. Nogle af dem giver anledning til en s&aelig;rlig adgangskontrol, der kr&aelig;ver FTP-adgang til siden.',
'info_gauche_admin_vider' => '<B>Kun administratorer har adgang til denne side.</B><P> Den giver adgang til forskellige tekniske vedligeholdelsesopgaver. Nogle af dem giver anledning til en s&aelig;rlig adgangskontrol, der kr&aelig;ver FTP-adgang til siden.',
'info_gauche_auteurs' => 'Her finder du alle webstedets forfattere. Status p&aring; hver enkelt fremg&aring;r af farven p&aring; ikonet (redakt&oslash;r = gr&oslash;n, administrator = gul).',
'info_gauche_auteurs_exterieurs' => 'Udenforst&aring;ende forfattere uden adgang til webstedet vises med et bl&aring;t symbol; slettede forfattere repr&aelig;senteres af en papirkurv.',
'info_gauche_messagerie' => 'Meddelelsessystemet giver mulighed for at udveksle meddelelser mellem redakt&oslash;rer, for at gemme huskesedler (til personlig brug) 
	eller for at vise annonceringer i det private omr&aring;de (hvis du er administrator).',
'info_gauche_numero_auteur' => 'FORFATTER NUMMER:',
'info_gauche_numero_breve' => 'NYHED NUMMER:',
'info_gauche_statistiques_referers' => 'Denne side viser en oversigt over <I>henvisende sider</I>, dvs. websteder der har linket til dit websted alene i dag. Faktisk nulstilles oversigten med 24 timers mellemrum.',
'info_gauche_suivi_forum' => '<I>Forumopf&oslash;lgning</i> er et administrationsv&aelig;rkt&oslash;j (ikke et diskussions- eller redigeringsomr&aring;de). Det viser alle indl&aelig;g i det offentlige forum knyttet til en bestemt artikel og giver dig mulighed for at administrere indl&aelig;ggene.',
'info_gauche_suivi_forum_2' => '<I>Forumopf&oslash;lgning</i> er et administrationsv&aelig;rkt&oslash;j (ikke et diskussions- eller redigeringsomr&aring;de). Siden viser alle indl&aelig;g i webstedets forummer, b&aring;de p&aring; det offentlige og det private omr&aring;de, og giver dig mulighed for at administrere indl&aelig;ggene.',
'info_gauche_visiteurs_enregistres' => 'Her finder du de bes&oslash;gende, der er tilmeldt til webstedets offentlige afsnit (fora med tilmelding).',
'info_generation_miniatures_images' => 'Dannelse af piktogrammer',
'info_gerer_trad' => 'Danne link til overs&aelig;ttelse?',
'info_groupe_important' => 'vigtig gruppe',
'info_hebergeur_desactiver_envoi_email' => 'Nogle webhoteller tillader ikke automatisk udsendelse af e-mails. I s&aring; fald kan f&oslash;lgende funktioner i SPIP ikke benyttes.',
'info_hier' => 'i g&aring;r:',
'info_historique' => '<NEW>Revisions:',
'info_historique_activer' => '<NEW>Enable revisions follow-up',
'info_historique_affiche' => '<NEW>Display this version',
'info_historique_comparaison' => '<NEW>compare',
'info_historique_desactiver' => '<NEW>Disable revisions follow-up',
'info_historique_lien' => '<NEW>Display list of versions',
'info_historique_texte' => '<NEW>Revisions follow-up allows you to keep track of every modifications added to an article and displays the differences between successive versions.',
'info_historique_titre' => '<NEW>Revisions follow-up',
'info_identification_publique' => 'Din offentlige identitet...',
'info_image_process' => 'V&aelig;lg den bedste metode til at skabe miniaturebilleder ved at klikke p&aring; det korresponderende billede.',
'info_image_process2' => '<NEW><b>N.B.</b> <i>If you can\'t see any image, then your server is not configured to use such tools. If you want to use these features, contact your provider\'s technical support and ask for the &laquo;GD&raquo; or &laquo;Imagick&raquo; extensions to be installed.</i>',
'info_informations_personnelles' => 'Femte trin: <B>Personlig information</B>',
'info_inscription_automatique' => 'Automatisk registrering af nye redakt&oslash;rer',
'info_jeu_caractere' => 'Webstedets tegns&aelig;t',
'info_jours' => 'dage',
'info_laisser_champs_vides' => 'efterlad disse felter tomme)',
'info_langues' => 'Webstedets sprog',
'info_ldap_ok' => 'LDAP adgangskontrol er installeret.',
'info_lien_hypertexte' => 'Hypertekst link:',
'info_liens_syndiques_1' => 'syndikerede links',
'info_liens_syndiques_2' => 'afventer godkendelse.',
'info_liens_syndiques_3' => 'forummer',
'info_liens_syndiques_4' => 'er',
'info_liens_syndiques_5' => 'forum',
'info_liens_syndiques_6' => 'er',
'info_liens_syndiques_7' => 'afventer godkendelse.',
'info_liste_redacteurs_connectes' => 'Oversigt over tilknyttede reakt&oslash;rer',
'info_login_existant' => 'Dette login findes allerede.',
'info_login_trop_court' => 'Login for kort.',
'info_maximum' => 'maksimum:',
'info_meme_rubrique' => '<NEW>In the same section',
'info_message' => 'Meddelelse fra',
'info_message_efface' => 'MEDDELELSE SLETTET',
'info_message_en_redaction' => 'Dine meddelelser under redaktion',
'info_message_technique' => 'Teknisk meddelelse:',
'info_messagerie_interne' => 'Interne meddelelser',
'info_mise_a_niveau_base' => 'MySQL databaseopgradering',
'info_mise_a_niveau_base_2' => '{{Advarsel!}} Du har installeret en version af SPIP-filer, der er &aelig;ldre end dem, der var p&aring; webstedet i forvejen. Du risikerer at miste databasen og webstedet vil ikke fungere ordentligt mere.<br>{{Geninstraller SPIP-filerne.}}',
'info_mode_fonctionnement_defaut_forum_public' => 'Standard funktionsm&aring;de for offentlige forummer',
'info_modifier_breve' => 'Ret nyhed:',
'info_modifier_rubrique' => 'Ret afsnit:',
'info_modifier_titre' => 'Ret: @titre@',
'info_mon_site_spip' => 'Mit SPIP-websted',
'info_mot_sans_groupe' => '(N&oslash;gleord uden en gruppe...)',
'info_moteur_recherche' => 'Indbygget s&oslash;gemaskine',
'info_mots_cles' => 'N&oslash;gleord',
'info_mots_cles_association' => 'N&oslash;gleord i denne gruppe kan forbindes med:',
'info_moyenne' => 'gennemsnit:',
'info_multi_articles' => 'Muligg&oslash;re valg af sprog til artiklerne?',
'info_multi_cet_article' => 'Denne artikel er p&aring;:',
'info_multi_langues_choisies' => 'V&aelig;lg de sprog der skal v&aelig;re til r&aring;dighed for redakt&oslash;rer p&aring; webstedet.
  Sprog der allerede er i brug p&aring; webstedet (de &oslash;verste p&aring; listen) kan ikke frav&aelig;lges.
 ',
'info_multi_rubriques' => 'Muligg&oslash;re sprogvalg til afsnit?',
'info_multi_secteurs' => 'Kun for afsnit placeret i roden&nbsp;?',
'info_nom' => 'Navn',
'info_nom_destinataire' => 'Navn p&aring; modtager',
'info_nom_site' => 'Dit websteds navn',
'info_nom_site_2' => '<b>Webstedets navn</b> [Skal udfyldes]',
'info_nombre_articles' => '@nb_articles@ artikler,',
'info_nombre_breves' => '@nb_breves@ nyheder,',
'info_nombre_partcipants' => 'DELTAGERE I DISKUSSIONEN:',
'info_nombre_rubriques' => '@nb_rubriques@ afsnit',
'info_nombre_sites' => '@nb_sites@ websteder,',
'info_non_deplacer' => 'Flyt ikke...',
'info_non_envoi_annonce_dernieres_nouveautes' => 'SPIP kan udsende webstedets seneste indl&aelig;g regelm&aelig;ssigt.
		(nyligt offentliggjorte artikler og nyheder).',
'info_non_envoi_liste_nouveautes' => 'Send ikke oversigt over seneste nyheder',
'info_non_modifiable' => 'kan ikke &aelig;ndres',
'info_non_suppression_mot_cle' => 'Jeg &oslash;nsker ikke at slette dette n&oslash;gleord.',
'info_notes' => 'Fodnoter',
'info_nouveaux_message' => 'Nye meddelelser',
'info_nouvel_article' => 'Ny artikel',
'info_nouvelle_traduction' => 'Ny overs&aelig;ttelse:',
'info_numero_article' => 'ARTIKEL NUMMER:',
'info_obligatoire_02' => '[Skal udfyldes]',
'info_option_accepter_visiteurs' => '<NEW>Allow visitors registration from the public site',
'info_option_email' => 'N&aring;r en bes&oslash;gende p&aring; webstedet sender en meddelelse til forummet, som drejer sig om denne artikel, kan artiklens forfatter f&aring; underretning om meddelelsen via e-mail. &Oslash;nsker du at bruge denne mulighed?',
'info_option_faire_suivre' => 'Videresend meddelelser i forummer til artiklernes forfattere',
'info_option_ne_pas_accepter_visiteurs' => '<NEW>Refuse visitor registration',
'info_option_ne_pas_faire_suivre' => 'Videresend ikke meddelelser i forummer',
'info_options_avancees' => 'AVANCEREDE INDSTILLINGER',
'info_ortho_activer' => '<NEW>Enable the spell checker.',
'info_ortho_desactiver' => '<NEW>Disable the spell checker.',
'info_ou' => 'eller...',
'info_oui_suppression_mot_cle' => 'Jeg &oslash;nsker at slette dette n&oslash;gleord permanent.',
'info_page_interdite' => 'Forbudt side',
'info_par_nombre_article' => '(efter antal artiker)',
'info_par_tri' => '(By @tri@)',
'info_pas_de_forum' => 'intet forum',
'info_passe_trop_court' => 'Adgangskode for kort.',
'info_passes_identiques' => 'De to adgangskoder er ikke ens.',
'info_pense_bete_ancien' => 'Dine gamle huskesedler',
'info_plus_cinq_car' => 'mere end 5 tegn',
'info_plus_cinq_car_2' => '(Mere end 5 tegn)',
'info_plus_trois_car' => '(Mere end 3 tegn)',
'info_popularite' => 'popularitet: @popularite@; bes&oslash;g: @visites@',
'info_popularite_2' => 'webstedets polularitet:',
'info_popularite_3' => 'polularitet:&nbsp;@popularite@; bes&oslash;g:&nbsp;@visites@',
'info_popularite_4' => 'polularitet:&nbsp;@popularite@; bes&oslash;g:&nbsp;@visites@',
'info_post_scriptum' => 'Efterskrift',
'info_post_scriptum_2' => 'Efterskrift:',
'info_pour' => 'til',
'info_preview_admin' => '<NEW>Only administrators have access to the preview mode',
'info_preview_comite' => '<NEW>All authors have access to the preview mode',
'info_preview_desactive' => '<NEW>Preview mode is disabled',
'info_preview_texte' => '<NEW>It is possible to preview the site as if all articles and news items (which have at least the status "submitted") were already published. Should this preview mode be restricted to administrators, open to all authors, or disabled completely?',
'info_principaux_correspondants' => 'Dine hovedbidragydere',
'info_procedez_par_etape' => 'g&aring; frem skridt for skridt',
'info_procedure_maj_version' => 'opgraderingsprocdeduren b&oslash;r f&oslash;lges for at tilpasse databasen til den nye version af SPIP.',
'info_ps' => 'P.S.',
'info_publies' => 'Dine offentliggjorte artikler',
'info_question_accepter_visiteurs' => '<NEW>If your site\'s templates allow visitors to register without entering the private area, please activate the following option:',
'info_question_gerer_statistiques' => 'Skal dit websted danne bes&oslash;gsstatistik?',
'info_question_inscription_nouveaux_redacteurs' => 'Vil du tillade, at nye redakt&oslash;rer tilmelder sig
		p&aring; det offentligt tilg&aelig;ngelige websted? Ja betyder, at bes&oslash;gende kan tilmelde sig p&aring; en automatisk dannet formular,
		og derefter f&aring; adgang til det private omr&aring;de, hvor de kan vedligeholde deres egne artikler.
		<blockquote><i>Under tilmeldingen modtager brugerne en automatisk dannet e-mail med deres adgangskode til det
		private websted. Nogle webhoteller tillader ikke at der sendes e-mails fra deres servere. I s&aring; fald kan automatisk
		tilmelding ikke finde sted.',
'info_question_mots_cles' => '&Oslash;nsker du at bruge n&oslash;gleord p&aring; webstedet?',
'info_question_proposer_site' => 'Hvem kan foresl&aring; henvisninger til websteder?',
'info_question_utilisation_moteur_recherche' => '&Oslash;nsker du at anvende den s&oslash;gefunktion, der findes i SPIP?
	(At frav&aelig;lge s&oslash;gefunktionen g&oslash;r webstedet hurtigere.)',
'info_qui_attribue_mot_cle' => 'N&oslash;gleord i denne grupe kan tildeles efter:',
'info_racine_site' => 'Top',
'info_recharger_page' => 'V&aelig;r venlig at genindl&aelig;se denne side om et &oslash;jeblik.',
'info_recherche_auteur_a_affiner' => 'For mange resultater fundet til "@cherche_auteur@"; v&aelig;r venlig at afgr&aelig;nse s&oslash;gningen mere.',
'info_recherche_auteur_ok' => 'Der er fundet flere redakt&oslash;rer til "@cherche_auteur@":',
'info_recherche_auteur_zero' => '<B>Ingen resultater fundet til "@cherche_auteur@".',
'info_recommencer' => 'V&aelig;r venlig at fors&oslash;ge igen.',
'info_redacteur_1' => 'Redakt&oslash;r',
'info_redacteur_2' => 'med adgang til det private omr&aring;de (<i>anbefalet</i>)',
'info_redacteurs' => 'Redakt&oslash;rer',
'info_redaction_en_cours' => 'REDIGERING ER IGANG',
'info_redirection' => 'Viderestilling',
'info_refuses' => 'Dine artikler er afvist',
'info_reglage_ldap' => 'Muligheder: <B>Konfigurere LDAP underst&oslash;ttelse</b>',
'info_renvoi_article' => '<B>Viderestilling.</B> Denne artikel henviser til siden:',
'info_reserve_admin' => 'Kun administratorer kan &aelig;ndre denne adresse.',
'info_restauration_sauvegarde' => 'Genindl&aelig;sning af sikkerhedskopi @archive@',
'info_restreindre_rubrique' => 'Begr&aelig;ns administrationsrettigheder til dette afsnit:',
'info_resultat_recherche' => 'S&oslash;geresultater:',
'info_rubriques' => 'Afsnit',
'info_rubriques_02' => 'afsnit',
'info_rubriques_liees_mot' => 'Afsnit knyttet til dette n&oslash;gleord',
'info_rubriques_trouvees' => 'Afsnit fundet',
'info_rubriques_trouvees_dans_texte' => 'Afsnit fundet (i teksten)',
'info_sans_titre' => 'Uden overskrift',
'info_sauvegarde' => 'Sikkerhedskopi',
'info_sauvegarde_articles' => 'Sikkerhedskopi af artikler',
'info_sauvegarde_articles_sites_ref' => 'Sikkerhedskopi af henvisninger til websteder',
'info_sauvegarde_auteurs' => 'Sikkerhedskopi af forfattere',
'info_sauvegarde_breves' => 'Sikkerhedskopi af nyheder',
'info_sauvegarde_documents' => 'Sikkerhedskopi af dokumenter',
'info_sauvegarde_echouee' => 'Hvis sikkerhedskopiering mislykkes (&laquo;Max. eksekveringstid overskredet&raquo;),',
'info_sauvegarde_forums' => 'Sikkerhedskopi af forummer',
'info_sauvegarde_groupe_mots' => 'Sikkerhedskopi af n&oslash;gleordsgrupper',
'info_sauvegarde_messages' => 'Sikkerhedskopi af meddelelser',
'info_sauvegarde_mots_cles' => 'Sikkerhedskopi af n&oslash;gleord',
'info_sauvegarde_petitions' => 'Sikkerhedskopi af appeller',
'info_sauvegarde_refers' => 'Sikkerhedskopi af henvisende sider',
'info_sauvegarde_reussi_01' => 'Sikkerhedskopiering gennemf&oslash;rt.',
'info_sauvegarde_reussi_02' => 'Databasen er gemt i <b>ecrire/data/@archive@</b>. Du kan',
'info_sauvegarde_reussi_03' => 'returnere til administration',
'info_sauvegarde_reussi_04' => 'af webstedet.',
'info_sauvegarde_rubriques' => 'Sikkerhedskopi af afsnit',
'info_sauvegarde_signatures' => 'Sikkerhedskopi af underskrifter',
'info_sauvegarde_sites_references' => 'Sikkerhedskopi af links til websteder',
'info_sauvegarde_type_documents' => 'Sikkerhedskopi af dokumenttyper',
'info_sauvegarde_visites' => 'Sikkerhedskopi af bes&oslash;g',
'info_selection_chemin_acces' => '<b>V&aelig;lg</b> nedenfor stien til kataloget:',
'info_selection_un_seul_mot_cle' => 'Du kan <b>kun v&aelig;lge et n&oslash;gleord</b> ad gangen i denne gruppe.',
'info_signatures' => 'underskrifter',
'info_site' => 'Websted',
'info_site_2' => 'websted:',
'info_site_min' => 'websted',
'info_site_propose' => 'Websted sendt til godkendelse den:',
'info_site_reference_2' => 'Henvisning',
'info_site_syndique' => 'Dette websted er syndikeret...',
'info_site_valider' => 'Websteder der afventer godkendelse',
'info_site_web' => 'WEBSTED:',
'info_sites' => 'websteder',
'info_sites_lies_mot' => 'Links til websteder knyttet til dette n&oslash;gleord',
'info_sites_proxy' => 'Brug proxy',
'info_sites_refuses' => 'Afviste websteder',
'info_sites_trouves' => 'Websteder fundet',
'info_sites_trouves_dans_texte' => 'Websteder fundet (i teksten)',
'info_sous_titre' => 'Underrubrik:',
'info_statut_administrateur' => 'Administrator',
'info_statut_auteur' => 'Denne forfatters status:',
'info_statut_efface' => 'Slettet',
'info_statut_redacteur' => 'Redakt&oslash;r',
'info_statut_site_1' => 'Dette websted er:',
'info_statut_site_2' => 'Offentliggjort',
'info_statut_site_3' => 'Indsendt',
'info_statut_site_4' => 'I papirkurven',
'info_statut_utilisateurs_1' => 'Importerede brugeres standardstatus',
'info_statut_utilisateurs_2' => 'V&aelig;lg den status som skal tildeles personerne i LDAP kataloget, n&aring;r de logger ind f&oslash;rste gang. Senere kan du &aelig;ndre v&aelig;rdien for hver forfatter fra sag til sag.',
'info_suivi_activite' => 'Opf&oslash;lgning p&aring; redaktionelle aktiviteter',
'info_supprimer_mot' => 'slet dette n&oslash;gleord',
'info_surtitre' => 'Hovedoverskrift:',
'info_taille_maximale_vignette' => 'Max. st&oslash;rrelse p&aring; piktogram dannet af systemet:',
'info_terminer_installation' => 'Du kan nu afslutte standardinstallationen.',
'info_texte' => 'Tekst',
'info_texte_explicatif' => 'Forklarende tekst',
'info_texte_long' => '(teksten er for lang: den vil blive opdelt i flere dele, som vil blive sat sammen efter godkendelse.)',
'info_texte_message' => 'Meddelelsens tekst:',
'info_texte_message_02' => 'Meddelelsens tekst',
'info_titre' => 'Overskrift:',
'info_titre_mot_cle' => 'Navn eller titel p&aring; dette n&oslash;gleord',
'info_total' => 'ialt:',
'info_tous_articles_en_redaction' => 'Alle artikler undervejs',
'info_tous_articles_presents' => 'Alle artikler offentliggjort i dette afsnit',
'info_tous_les' => 'for hver:',
'info_tous_redacteurs' => 'Annonceringer til alle redakt&oslash;rer',
'info_tout_site' => 'Hele webstedet',
'info_tout_site2' => 'Artiklen er ikke blevet oversat til dette sprog.',
'info_tout_site3' => 'Artiklen er blevet oversat til dette sprig, men nogle &aelig;ndringer er senere blevet tilf&oslash;jet til referenceartiklen. Overs&aelig;ttelsen skal opdateres.   ',
'info_tout_site4' => 'Artiklen er blevet oversat til dette sprog og overs&aelig;ttelsen er opdateret.',
'info_tout_site5' => 'Den oprindelige artikel.',
'info_tout_site6' => '<b>Advarsel:</b> kun de oprindelige artikler vises.
Overs&aelig;ttelserne er tilknyttet den oprindelige artikel 
i en farve, der angiver deres status:',
'info_travail_colaboratif' => 'Samarbejde om artikler',
'info_un_article' => 'en artikel,',
'info_un_mot' => 'Et n&oslash;gleord ad gangen',
'info_un_site' => 'et websted,',
'info_une_breve' => 'en nyhed,',
'info_une_rubrique' => 'et afsnit,',
'info_une_rubrique_02' => '1 afsnit',
'info_url' => 'URL:',
'info_url_site' => 'WEBSTEDETS URL:',
'info_urlref' => 'Hyperlink:',
'info_utilisation_spip' => 'SPIP er nu klar til brug...',
'info_visites_par_mois' => 'Bes&oslash;g pr. m&aring;ned:',
'info_visites_plus_populaires' => 'Vis bes&oslash;g til <b>de mest popul&aelig;re artikler</b> og til <b>de senest offentliggjorte artikler:</b>',
'info_visiteur_1' => 'Bes&oslash;gende',
'info_visiteur_2' => 'p&aring; den offentligt tilg&aelig;ngelige websted',
'info_visiteurs' => 'Bes&oslash;gende',
'info_visiteurs_02' => 'Bes&oslash;gende p&aring; offentligt websted',
'install_select_langue' => 'V&aelig;lg et sprog og klik derefter p&aring; knappen &laquo;n&aelig;ste&raquo; for at igangs&aelig;tte installationen.',
'intem_redacteur' => 'redakt&oslash;r',
'item_accepter_inscriptions' => 'Tillad tilmeldinger',
'item_activer_forum_administrateur' => 'Sl&aring; funktionen administratorforum til',
'item_activer_messages_avertissement' => 'Tillad advarselsmeddelelser',
'item_administrateur_2' => 'administrator',
'item_afficher_calendrier' => 'Vis i kalenderen',
'item_ajout_mots_cles' => 'Tillad at knytte n&oslash;gleord til forummer',
'item_autoriser_documents_joints' => 'Tillad at vedh&aelig;fte dokumenter til artikler',
'item_autoriser_documents_joints_rubriques' => 'Tillad dokumenter i afsnit',
'item_bloquer_liens_syndiques' => 'Afsp&aelig;r syndikerede links indtil de er godkendt',
'item_breve_refusee' => 'NEJ - Nyhed afvist',
'item_breve_validee' => 'JA - Nyhed godkendt',
'item_choix_administrateurs' => 'administratorer',
'item_choix_generation_miniature' => 'Dan miniaturepiktogrammer automatisk.',
'item_choix_non_generation_miniature' => 'Dan ikke miniaturebilleder.',
'item_choix_redacteurs' => 'redakt&oslash;rer',
'item_choix_visiteurs' => 'bes&oslash;gende p&aring; den offentlige websted',
'item_creer_fichiers_authent' => 'Dan .htpasswd filer',
'item_desactiver_forum_administrateur' => 'Sl&aring; funktionen administratorforum fra',
'item_gerer_annuaire_site_web' => 'Vedligehold katalog over websteder',
'item_gerer_statistiques' => 'Dan statistik',
'item_limiter_recherche' => 'Begr&aelig;ns s&oslash;gning til information p&aring; din eget websted',
'item_login' => 'Login',
'item_mots_cles_association_articles' => 'artiklerne',
'item_mots_cles_association_breves' => 'nyhederne',
'item_mots_cles_association_rubriques' => 'afsnittene',
'item_mots_cles_association_sites' => 'de linkede eller syndikerede websteder.',
'item_non' => 'Nej',
'item_non_accepter_inscriptions' => 'Tillad ikke tilmelding',
'item_non_activer_messages_avertissement' => 'Ingen advarselsmeddelelser',
'item_non_afficher_calendrier' => 'Vis ikke i kalender',
'item_non_ajout_mots_cles' => 'Tillad ikke at knytte n&oslash;gleord til forummer',
'item_non_autoriser_documents_joints' => 'Tillad ikke vedh&aelig;ftning af dokumenter til artikler',
'item_non_autoriser_documents_joints_rubriques' => 'Tillad ikke dokumenter i afsnit',
'item_non_bloquer_liens_syndiques' => 'Undlad at sp&aelig;rre links til syndikerede websteder',
'item_non_creer_fichiers_authent' => 'Dan ikke disse filer',
'item_non_gerer_annuaire_site_web' => 'Vedligehold ikke katalog over websteder',
'item_non_gerer_statistiques' => 'Dan ikke statistik',
'item_non_limiter_recherche' => 'Udvid s&oslash;gning til indholdet i linkede websteder',
'item_non_publier_articles' => 'Vent med at offentligg&oslash;re artikler til deres publiceringsdato.',
'item_non_utiliser_breves' => 'Luk ikke op for nyheder',
'item_non_utiliser_config_groupe_mots_cles' => 'Undlad at anvende avanceret konfigurering af n&oslash;gleordsgrupper',
'item_non_utiliser_moteur_recherche' => 'Benyt ikke s&oslash;gefunktion',
'item_non_utiliser_mots_cles' => 'Benyt ikke n&oslash;gleord',
'item_non_utiliser_syndication' => 'Benyt ikke automatisk syndikering',
'item_nouvel_auteur' => 'Ny forfatter',
'item_nouvelle_breve' => 'Ny nyhed',
'item_nouvelle_rubrique' => 'Nyt afsnit',
'item_oui' => 'Ja',
'item_publier_articles' => 'Offentligg&oslash;r artikler uden hensyn til deres publiceringsdato.',
'item_reponse_article' => 'Kommenter artiklen',
'item_utiliser_breves' => 'Anvend nyheder',
'item_utiliser_config_groupe_mots_cles' => 'Benyt avanceret konfigurering af n&oslash;gleordsgrupper',
'item_utiliser_moteur_recherche' => 'Benyt s&oslash;gefunktion',
'item_utiliser_mots_cles' => 'Benyt n&oslash;gleord',
'item_utiliser_syndication' => 'Benyt automatisk syndikering',
'item_visiteur' => 'bes&oslash;gende',


// J
'jour_non_connu_nc' => '&nbsp;',


// L
'lien_ajout_destinataire' => 'Tilf&oslash;j denne modtager',
'lien_ajouter_auteur' => 'Tilf&oslash;j denne forfatter',
'lien_ajouter_participant' => 'Tilf&oslash;j modtager',
'lien_email' => 'e-mail',
'lien_forum_public' => 'Vedligehold denne artikels offentlige forum',
'lien_mise_a_jour_syndication' => 'Opdater nu',
'lien_nom_site' => 'WEBSTEDETS NAVN:',
'lien_nouvelle_recuperation' => 'Fors&oslash;g at hente data igen',
'lien_reponse_article' => 'Kommenter denne artikel',
'lien_reponse_breve' => 'Kommenter denne nyhed',
'lien_reponse_breve_2' => 'Kommenter denne nyhed',
'lien_reponse_rubrique' => 'Kommenter dette afsnit',
'lien_reponse_site_reference' => 'Kommenter dette link:',
'lien_retirer_auteur' => 'Fjern forfatter',
'lien_retrait_particpant' => 'fjern denne modtager',
'lien_site' => 'websted',
'lien_supprimer_rubrique' => 'slet dette afsnit',
'lien_tout_deplier' => 'Udfold alle',
'lien_tout_replier' => 'Sammenfold alle',
'lien_trier_nom' => 'Sorter efter navn',
'lien_trier_nombre_articles' => 'Sorter efter antal artikler',
'lien_trier_statut' => 'Sorter efter status',
'lien_voir_en_ligne' => 'SE ONLINE:',
'logo_article' => 'LOGO TIL ARTIKLEN',
'logo_auteur' => 'LOGO TIL FORFATTEREN',
'logo_breve' => 'LOGO TIL NYHEDEN',
'logo_mot_cle' => 'LOGO TIL N&Oslash;GLEORDET',
'logo_rubrique' => 'LOGO TIL AFSNITTETS',
'logo_site' => 'LOGO TIL WEBSTEDETS',
'logo_standard_rubrique' => 'STANDARDLOGO TIL AFSNIT',
'logo_survol' => 'PEGEF&Oslash;LSOMT LOGO',


// M
'menu_aide_installation_choix_base' => 'Valg af database',
'module_fichier_langue' => 'Sprogfil',
'module_raccourci' => 'Genvej',
'module_texte_affiche' => 'Vist tekst',
'module_texte_explicatif' => 'Du kan inds&aelig;tte f&oslash;lgende genveje i dit websteds skabeloner. De vil automatisk blive oversat til de forskellige sprog, som der findes sprogfiler til.',
'module_texte_traduction' => 'Sprogfilen &laquo;&nbsp;@module@&nbsp;&raquo; findes p&aring;:',
'mois_non_connu' => 'ukendt',


// O
'onglet_repartition_actuelle' => 'nu',
'ortho_ajouter_ce_mot' => '<NEW>Add this word to the dictionary',
'ortho_aucune_suggestion' => '<NEW>No suggestion was found for this word.',
'ortho_avis_privacy' => '<NEW>Spip contains a spell checker. However, before enabling it, please read the following paragraph carefully:',
'ortho_avis_privacy2' => '<NEW>In order to check spelling  a text, the site will send the list of words to be checked to an external "spelling server", which people of the Spip community have made available. The words are mixed up before being sent in order to maintain some level of confidentiality. If you are concerned about your data, do not activate this option (and withdraw all your information from the web at once).',
'ortho_ce_mot_connu' => '<NEW>This word is in the site\'s dictionary.',
'ortho_dico_absent' => '<NEW>No dictionary was found for this language',
'ortho_mode_demploi' => '<NEW>Urecognised words have been highlighted in red. Click on these words to see suggested corrections.',
'ortho_mots_a_corriger' => '<NEW>words to correct',
'ortho_orthographe' => '<NEW>Spelling',
'ortho_supprimer_ce_mot' => '<NEW>Remove this word from the dictionary',
'ortho_trop_de_fautes' => '<NEW>Your text contains too many mistakes! In order to avoid overloading the system, no corrections have been suggested.',
'ortho_verif_impossible' => '<NEW>The system cannot check the spelling of this text.',
'ortho_verifier' => '<NEW>Spell check',


// S
'statut_admin_restreint' => '(begr&aelig;nset admin)',


// T
'taille_cache_infinie' => '<NEW>This site does not have any fixed limit for the size of the <code>CACHE/</code> directory.',
'taille_cache_maxi' => '<NEW>SPIP will try to limit the size of the <code>CACHE/</code> directory to approximately <b>@octets@</b> of data.',
'taille_cache_octets' => '<NEW>The size of the cache is currently @octets at .',
'taille_cache_vide' => '<NEW>The cache is empty.',
'taille_repertoire_cache' => '<NEW>Current size of the cache',
'text_article_propose_publication' => 'Artiklen er sendt til offentligg&oslash;relse. Hold dig ikke tilbage fra at give din mening til kende gennem det forum, der er tilknyttet artiklen (nederst p&aring; siden).',
'texte_acces_ldap_anonyme_1' => 'Nogle LDAP-servere tillader ikke anonym adgang. I s&aring; fald m&aring; du angive en brugeridentifikation for senere at kunne s&oslash;ge efter information i kataloget. Men i de fleste tilf&aelig;lde kan du lade de f&oslash;lgende felter st&aring; tomme.',
'texte_admin_effacer_01' => 'Denne kommando sletter <i>hele</i> indholdet i databasen,
	herunder <i>hele</i> ops&aelig;tningen for redakt&oslash;rer og administratorer. N&aring;r du har udf&oslash;rt den, b&oslash;r du 
	geninstallere SPIP for at danne en ny database og &aring;bne op for den f&oslash;rste administratoradgang.',
'texte_admin_tech_01' => 'Dette valg giver dig mulighed for at gemme databasens indhold i en fil lagret i kataloget 
 <i>ecrire/data/</i>.
 Husk ogs&aring; at medtage hele kataloget <i>IMG/</i>, som rummer de billeder og dokumenter, der bruges i artikler og afsnit.',
'texte_admin_tech_02' => 'Advarsel: denne sikkerhedskopi kan KUN genindl&aelig;ses p&aring; et websted, der har installeret samme version af SPIP.
 Det er en almindelig misforst&aring;else at tage sikkerhedskopi af et websted forud for opgradering af SPIP...
 For mere information henvises til <a href=\'http://www.spip.net/fr_article1489.html\'>SPIP dokumentation</a>.',
'texte_admin_tech_03' => 'Du kan v&aelig;lge at gemme filen i komprimeret form for hurtigere at kunne overf&oslash;re den til din maskine eller tage en sikkerhedskopi af serveren og spare diskplads.',
'texte_adresse_annuaire_1' => '(Hvis dit katalog findes p&aring; samme server som webstedet, er det formentlig &laquo;localhost&raquo;.)',
'texte_ajout_auteur' => 'F&oslash;lgende forfatter har bidraget til artiklen:',
'texte_annuaire_ldap_1' => 'Hvis du har adgang til et LDAP-katalog, kan du anvende det til automatisk at importere brugere i SPIP.',
'texte_article_statut' => 'Denne artikel er:',
'texte_article_virtuel' => 'Virtuel artikel',
'texte_article_virtuel_reference' => '<b>Virtuel artikel:</b> fremst&aring;r som en artikel p&aring; dit websted, men viderestiller til en anden URL. Slet URL\'en for at fjerne viderestillingen.',
'texte_aucun_resultat_auteur' => 'Ingen resultater til "@cherche_auteur@".',
'texte_auteur_messagerie' => 'Dette websted kan l&oslash;bende holde &oslash;je med, hvilke redakt&oslash;rer der er logget ind. Dette muligg&oslash;r realtidsudveksling af meddelelser (hvis udveksling af meddelser ovenfor er fravalgt, vedligeholdes oversigten over redakt&oslash;rer, der er online, heller ikke). Du kan v&aelig;lge ikke at v&aelig;re synlig i oversigten (du er s&aring; &laquo;usynlig&raquo; for andre brugere).',
'texte_auteur_messagerie_1' => 'Dette websted tillader udveksling af meddelelser og oprettelse af private diskussionsforummer mellem deltagere p&aring; webstedet. Du kan v&aelig;lge ikke at deltage i udvekslingen.',
'texte_auteurs' => 'FORFATTERNE',
'texte_breves' => 'Nyheder er korte og enkle tekster der muligg&oslash;r online offentligg&oslash;relse af pr&aelig;cis information, administration af presseanmeldelser, arrangementskalender...',
'texte_choix_base_1' => 'V&aelig;lg database:',
'texte_choix_base_2' => 'MySQL server indeholder et antal databaser.',
'texte_choix_base_3' => '<B>V&aelig;lg</B> v&aelig;lg nedenfor den database, som webhotellet har tildelt dig:',
'texte_commande_vider_tables_indexation' => 'Brug denne kommando til at t&oslash;mme de indekstabeller, som benyttes af SPIP\'s indbyggede s&oslash;gefunktion.
			Derved kan du spare diskplads.',
'texte_comment_lire_tableau' => 'Artiklens rangering i popularitetslisten vises i marginen. Artiklens popularitet 
		(et overslag over hvor mange daglige bes&oslash;g den vil opn&aring;, hvis det aktuelle trafikomfang opretholdes) 
		og antallet af bes&oslash;g, der er registreret siden begyndelsen, vises i den ballon, der kommer til syne n&aring;r musen 
		holdes over titlen.',
'texte_compresse_ou_non' => '(denne kan v&aelig;re komprimeret eller ikke)',
'texte_compte_element' => '@count@ element',
'texte_compte_elements' => '@count@ elementer',
'texte_config_groupe_mots_cles' => '&Oslash;nsker du at aktivere den avancerede konfiguration af n&oslash;gleordsgrupper, ved f.eks. at specificere
			 at et entydigt ord pr. gruppe kan v&aelig;lges, at en gruppe er vigtig...?',
'texte_connexion_mysql' => 'Sl&aring; op i de oplysninger, som dit webhotel har stillet til r&aring;dighed: Hvis webhotellet underst&oslash;tter MySQL, b&oslash;r det indeholde oplysninger om opkobling.',
'texte_contenu_article' => '(Artiklens indhold med f&aring; ord.)',
'texte_contenu_articles' => 'Med udgangspunkt i det layout du har valgt til dit websted, kan du v&aelig;lge at nogle artikelelementer ikke skal benyttes.
		Benyt f&oslash;lgende liste til at bestemme, hvilke elementer der skal v&aelig;re til r&aring;dighed.',
'texte_crash_base' => 'Hvis din database er brudt ned, kan du her fors&oslash;ge en automatisk genopbygning.',
'texte_creer_rubrique' => 'F&oslash;r du kan skrive artikler,<BR> skal du oprette et afsnit.',
'texte_date_creation_article' => 'DATO FOR OPRETTELSE AF ARTIKLEN:',
'texte_date_publication_anterieure' => 'DATO FOR TIDLIGERE OFFENTLIGG&Oslash;RELSE',
'texte_date_publication_anterieure_nonaffichee' => 'Skjul dato for tidligere offentligg&oslash;relse.',
'texte_date_publication_article' => 'DATO FOR ONLINE OFFENTLIGG&Oslash;RELSE:',
'texte_demander_blocage_priori' => 'Links der i fremtiden kommer fra dette websted vil blive sp&aelig;rret autmatisk.',
'texte_descriptif_petition' => 'Beskrivelse af appellen',
'texte_descriptif_rapide' => 'Kort beskrivelse',
'texte_documents_joints' => 'Du kan tillade at dokumenter (kontorfiler, billeder,
	multimedia, osv.) f&oslash;jes til artikler og/eller afsnit. Der kan s&aring; henvises til filerne i dokumentet, eller de kan vises separat.<p>',
'texte_documents_joints_2' => 'Denne konfiguration hindrer ikke inds&aelig;ttelse af billeder direkte i dokumenter.',
'texte_effacer_base' => 'Slet SPIP databasen',
'texte_effacer_donnees_indexation' => 'Slet indekseringsdata',
'texte_en_cours_validation' => 'F&oslash;lgende artikler og nyheder er foresl&aring;et offentliggjort. T&oslash;v ikke med at give din mening til kende via de fora, som er knyttet til artiklerne.',
'texte_enrichir_mise_a_jour' => 'Du kan forbedre layoutet af teksten ved at benytte &laquo;typografiske koder&raquo;.',
'texte_fichier_authent' => '<b>Skal SPIP oprette specielle <tt>.htpasswd</tt>
		og <tt>.htpasswd-admin</tt> filer i kataloget <tt>ecrire/data/</tt>?</b><p>
		Disse filer kan benyttes til at begr&aelig;nse adgangen for forfattere og administratorer til andre dele af dit websted
		(f.eks. et eksternt statistikprogram).<p>
		Hvis du ikke har benyttet s&aring;danne filer f&oslash;r, kan du v&aelig;lge standardv&aelig;rdien (ingen filoprettelse).',
'texte_informations_personnelles_1' => 'Systemet vil give dig en tilpasset adgang til webstedet.',
'texte_informations_personnelles_2' => '(Bem&aelig;rk: hvis det er en geninstallation og din adgang stadig fungerer, kan du',
'texte_introductif_article' => '(Introduktion til artiklen)',
'texte_jeu_caractere' => 'Denne indstilling er nyttig, hvis dit websted viser andre alfabeter end det latinske alfabet (dvs. det &laquo;vestlige&raquo;) og dets afledninger. 
 I s&aring; fald skal standardindstillingen &aelig;ndres til et passende tegns&aelig;t. Vi anbefaler dig at pr&oslash;ve med forskellige indstillinger for at finde den bedste l&oslash;sning. Husk ogs&aring; at tilpasse webstedet tilsvarende (<tt>#CHARSET</tt> parameteren).',
'texte_jeu_caractere_2' => 'Denne indstilling har ikke tilbagevirkende kraft.
	Tekst, der allerede er lagt ind, kan derfor blive vist forkert efter &aelig;ndring af denne indstilling.
	Du kan dog altid vende tilbage til den oprindelige indstilling.',
'texte_lien_hypertexte' => '(Hvis din meddelelse henviser til en artikel der er offentliggjort p&aring; webben, eller til en side der giver flere oplysninger, s&aring; indtast her artiklens overskrift og dens URL.)',
'texte_liens_sites_syndiques' => 'Links til syndikerede sider kan sp&aelig;rres p&aring; forh&aring;nd; f&oslash;lgende indstilling er standardindstillingen for syndikerede websteder, n&aring;r de er oprettet.
			Det er s&aring;ledes p&aring; trods heraf muligt at sp&aelig;rre hvert link individuelt eller at v&aelig;lge for hver websted at sp&aelig;rre de links der kommer fra en givet websted.',
'texte_liens_syndication' => 'Fremtidige links fra dette websted vil straks blive vist i webstedets offentlige omr&aring;de.',
'texte_login_ldap_1' => '(Efterlad tom for anonym adgang eller indtast en fuldst&aelig;ndig sti, f.eks. &laquo;<tt>uid=hansen, ou=brugere, dc=mit-dom&aelig;ne, dc=dk</tt>&raquo;.)',
'texte_login_precaution' => 'Advarsel! Dette er den login, du er koblet p&aring; med nu.
	Brug denne formular med forsigtighed ...',
'texte_message_edit' => 'Advarsel: Denne meddelelse kan &aelig;ndres af alle webstedets administratorer, og den er synlig for alle redakt&oslash;rer. Benyt kun annonceringer til at g&oslash;re opm&aelig;rksom p&aring; vigtige begivenheder p&aring; webstedet.',
'texte_messages_publics' => 'Offentlige bidrag til artiklen:',
'texte_mise_a_niveau_base_1' => 'Du har netop opdateret SPIP\'s filer.
	Du skal nu opdatere webstedets database.',
'texte_modifier_article' => 'Ret artiklen:',
'texte_moteur_recherche_active' => '<b>S&oslash;gefunktionen er valgt til.</b> Brug denne kommando, hvis du &oslash;nsker at udf&oslash;re en hurtig reindeksering
		(f.eks. efter at have indl&aelig;st en sikkerhedskopi). Bem&aelig;rk, at dokumenter der &aelig;ndres normalt (f.eks. fra SPIP\'s brugergr&aelig;nseflade)
		automatisk indekseres igen: derfor er denne kommando kun nyttig under ekstraordin&aelig;re omst&aelig;ndigheder.',
'texte_moteur_recherche_non_active' => 'S&oslash;gefunktionen er valgt fra.',
'texte_mots_cles' => 'N&oslash;gleord g&oslash;r det muligt for dig at oprette emnem&aelig;ssige forbindelser mellem artikler uafh&aelig;ngigt af, hvilket afsnit de tilh&oslash;rer.
		P&aring; denne m&aring;de kan du forbedre navigationen p&aring; dit websted 
		eller benytte disse egenskaber til at tilpasse artiklerne i dine skabeloner.',
'texte_mots_cles_dans_forum' => 'Vil du tillade brug af n&oslash;gleord, som brugerne kan v&aelig;lge, i de offentlige forummer p&aring; webstedet? (Advarsel: denne facilitet er temmelig vanskelig at bruge rigtigt.)',
'texte_multilinguisme' => 'Hvis du &oslash;nsker at administrere artikler p&aring; flere sprog med den deraf f&oslash;lgende st&oslash;rre kompleksitet, kan du forsyne afsnit og/eller artikler med en sprogvalgsmenu. Denne funktion er afh&aelig;ngig af strukturen p&aring; websiden.',
'texte_multilinguisme_trad' => 'Du kan ogs&aring; v&aelig;lge at have link mellem de forskellige sprogversioner af en artikel.',
'texte_non_compresse' => '<i>ukomprimeret</i> (din server underst&oslash;tter ikke denne funktion)',
'texte_non_fonction_referencement' => 'Du kan v&aelig;lge ikke at bruge denne automatiske funktion, og selv angive de elementer, der er vigtige for webstedet...',
'texte_nouveau_message' => 'Ny meddelelse',
'texte_nouveau_mot' => 'Nyt n&oslash;gleord',
'texte_nouvelle_version_spip_1' => 'Du har netop installeret en ny version af SPIP.',
'texte_nouvelle_version_spip_2' => 'Denne nye version kr&aelig;ver en mere omfattende opdatering end s&aelig;dvanligt. Hvis du er webmaster p&aring; webstedet, s&aring; slet venligst filen <tt>inc_connect.php3</tt> i kataloget <tt>ecrire</tt> og genstart installationen for at opdatere dine opkoblingsparametre til databasen. <p>(NB.: hvis du har glemt dine opkoblingsparametre, s&aring; kast et blik p&aring; indholdet af filen <tt>inc_connect.php3</tt> f&oslash;r du sletter den...)',
'texte_operation_echec' => 'G&aring; tilbage til forrige side og v&aelig;lg en anden database eller opret en ny. Kontroller de oplysninger, dit webhotel har stillet til r&aring;dighed.',
'texte_plus_trois_car' => 'mere end 3 tegn',
'texte_plusieurs_articles' => 'Der er fundet flere forfattere til "@cherche_auteur@":',
'texte_port_annuaire' => '(Standardv&aelig;rdien passer for det meste.)',
'texte_proposer_publication' => 'N&aring;r din artikel er f&aelig;rdig,<br> kan du indsende den til offentligg&oslash;relse.',
'texte_proxy' => 'I nogle tilf&aelig;lde (intranet, beskyttede netv&aelig;rk...),
		er det n&oslash;dvendigt at benytte en <I>proxy HTTP</i> for at komme i kontakt med syndikerede websteder.
		Hvis der skal benyttes proxy, s&aring; indtast dens adresse her: 
		<tt><html>http://proxy:8080</html></tt>. Almindeligvis skal feltet st&aring; tomt.',
'texte_publication_articles_post_dates' => 'Hvad skal SPIP g&oslash;re med hensyn til artikler med en offentligg&oslash;relsesdato, der ligger ude i 
		fremtiden?',
'texte_rappel_selection_champs' => '[Husk at v&aelig;lge dette felt korrekt.]',
'texte_recalcul_page' => 'Hvis du kun &oslash;nsker at opdatere en side, b&oslash;r du g&oslash;re det ved fra det offentlige omr&aring;de at benytte knappen &laquo; Opdater &raquo;.',
'texte_recapitiule_liste_documents' => 'Denne side er en oversigt over de dokumenter, du har anbragt i afsnittene. For at &aelig;ndre oplysningerne om et dokument, skal du f&oslash;lge linket til dets afsnitsside.',
'texte_recuperer_base' => 'Reparer databasen',
'texte_reference_mais_redirige' => 'artikler der refereres til p&aring; dit SPIP websted, men som viderestiller til en anden URL.',
'texte_referencement_automatique' => '<b>Automatiserede webstedshenvisninger</b><br>
		Du kan hurtigt henvise til et websted ved nedenfor at angive dens URL eller adressen p&aring; dens datakilde. 
		SPIP vil automatisk indhente oplysninger om webstedet (titel, beskrivelse...).',
'texte_requetes_echouent' => '<B>N&aring;r nogle MySQL foresp&oslash;rgsler systematisk og uden tilsyneladende grund g&aring;r galt, er det muligt at fejlen ligger i selve databasen.</b>
		<p>MySQL har en funktion, der reparerer dens tabeller, hvis de er blevet &oslash;delagt ved et uheld. 
		Her kan du fors&oslash;ge at igangs&aelig;tte denne reparationsfunktion; 
		hvis den g&aring;r galt, b&oslash;r du beholde en kopi af sk&aelig;rmbilledet, 
		som m&aring;ske kan indeholde antydninger af, hvad der er galt....
		<p>Hvis problemet fortsat best&aring;r, s&aring; kontakt dit webhotel.',
'texte_restaurer_base' => 'Genindl&aelig;s indholdet af sikkerhedskopien af databasen',
'texte_restaurer_sauvegarde' => 'Denne valgmulighed giver dig adgang til at genindl&aelig;se en tidligere 
		sikkerhedskopi af databasen. For at g&oslash;re det, skal filen, der indeholder sikkerhedskopien af databasen, 
		p&aring; forh&aring;nd kopieres til kataloget <i>ecrire/data/</i>.
		V&aelig;r forsigtig med denne funktion: <b>Alle eventuelle &aelig;ndringer og tab er uoprettelige.</b>',
'texte_sauvegarde' => 'Sikkerhedskopier indholdet af databasen',
'texte_sauvegarde_base' => 'Sikkerhedskopier databasen',
'texte_sauvegarde_compressee' => 'Sikkerhedskopien vil blive lagt i den ukomprimerede fil <b>ecrire/data/dump.xml</b>.',
'texte_selection_langue_principale' => 'Du kan nedenfor v&aelig;lge webstedets &laquo;hovedsprog&raquo;. 
		Heldigvis begr&aelig;nser dette valg ikke dine artikler til at skulle skrives p&aring; det valgte sprog 
		men g&oslash;r det muligt at fasts&aelig;tte, 
		<ul><li> standardformatet for datoer i det offentlige omr&aring;de</li>

		<li> hvilken typografisk funktion SPIP skal benytte til tekstformatering;</li>

		<li> det sprog der anvendes i formularer p&aring; det offentlige websted</li>

		<li> standardsproget i det private omr&aring;de.</li></ul>',
'texte_signification' => 'R&oslash;de bj&aelig;lker viser summer (totaler for underafsnit), 
		gr&oslash;nne bj&aelig;lker viser antal bes&oslash;g i hvert afsnit.',
'texte_sous_titre' => 'Underrubrik',
'texte_statistiques_visites' => '(m&oslash;rke bj&aelig;lker:  S&oslash;ndag / m&oslash;rk kurve: gennemsnitsudvikling)',
'texte_statut_attente_validation' => 'afventer godkendelse',
'texte_statut_publies' => 'offentliggjort online',
'texte_statut_refuses' => 'afvist',
'texte_suppression_fichiers' => 'Brug denne kommando til at slette alle filer i SPIP\'s cache.
		Dette giver dig bl.a. mulighed for at gennemtvinge opdatering af alle sider i tilf&aelig;lde af 
		at du har lavet v&aelig;sentlige grafiske eller strukturelle &aelig;ndringer p&aring; webstedet.',
'texte_sur_titre' => 'Hovedoverskrift',
'texte_syndication' => 'Hvis webstedet tillader det, er det muligt automatisk at hente en oversigt over det
		seneste materiale. For at g&oslash;re dette, skal du igangs&aelig;tte syndikering.
		<blockquote><i>Nogle webhoteller tillader ikke denne funktion.
		I s&aring; fald kan du ikke foretage indholdssyndikering fra dit websted.</i></blockquote>',
'texte_table_ok' => ': denne tabel er OK.',
'texte_tables_indexation_vides' => 'S&oslash;gefunktionens indekstabeller er tomme.',
'texte_tentative_recuperation' => 'Reparationsfors&oslash;g',
'texte_tenter_reparation' => 'Fors&oslash;g p&aring; at reparere databasen',
'texte_test_proxy' => 'For at afpr&oslash;ve proxy\'en, kan du indtaste adressen p&aring; et websted som du &oslash;nsker at teste.',
'texte_titre_02' => 'Emne:',
'texte_titre_obligatoire' => '<B>Overskrift</b> [Obligatorisk]',
'texte_travail_article' => '@nom_auteur_modif@ har arbejdet p&aring; denne artikel for @date_diff@ minutter siden',
'texte_travail_collaboratif' => 'Hvis det sker hyppigt at flere redakt&oslash;rer arbejder p&aring; samme artikel, kan systemet
		vise &laquo;&aring;bne&raquo; artikler for at undg&aring; samtidige &aelig;ndringer. Denne indstilling er som standard
		sl&aring;et fra for at undg&aring; utidige advarselsmeddelelser.',
'texte_trop_resultats_auteurs' => 'For mange resultater til "@cherche_auteur@"; v&aelig;r venlig at afgr&aelig;nse s&oslash;gningen yderligere.',
'texte_unpack' => 'download af seneste version',
'texte_utilisation_moteur_syndiques' => 'Hvis du benytter SPIP\'s indbyggede s&oslash;gefunktion, kan du p&aring; forskellig vis foretage
		s&oslash;gninger p&aring; websteder og i syndikerede artikler. <br><img src=\'puce.gif\'> Den enkleste best&aring;r i kun at 
		s&oslash;ge i artiklernes overskrifter og beskrivelser. <br><img src=\'puce.gif\'> 
		En anden metode, som er st&aelig;rkere, lader SPIP s&oslash;ge i teksten p&aring; de websteder, der henvises til. 
		Hvis du henviser til et websted, vil SPIP selv s&oslash;ge i dens tekst.',
'texte_utilisation_moteur_syndiques_2' => 'Denne metode tvinger SPIP til j&aelig;vnligt at bes&oslash;ge webstedet, hvilket kan koste 
		en forringelse af svartiderne p&aring; din eget websted.',
'texte_vide' => 'tom',
'texte_vider_cache' => 'T&oslash;m cachen',
'titre_admin_effacer' => 'Teknisk vedligeholdelse',
'titre_admin_tech' => 'Teknisk vedligeholdelse',
'titre_admin_vider' => 'Teknisk vedligeholdelse',
'titre_articles_syndiques' => 'Syndikerede artikler hentet p&aring; dette websted',
'titre_breves' => 'Nyheder',
'titre_cadre_afficher_article' => 'Vis artikler som er',
'titre_cadre_afficher_traductions' => 'Vis overs&aelig;ttelsesstatus for f&oslash;lgende sprog:',
'titre_cadre_ajouter_auteur' => 'TILF&Oslash;J FORFATTER:',
'titre_cadre_forum_administrateur' => 'Administratorers private forum',
'titre_cadre_forum_interne' => 'Internt forum',
'titre_cadre_interieur_rubrique' => 'I afsnit',
'titre_cadre_numero_auteur' => 'FORFATTER NUMMER',
'titre_cadre_signature_obligatoire' => '<B>Underskrift</B> [Obligatorisk]<BR>',
'titre_config_fonctions' => 'Konfigurering af webstedet',
'titre_config_groupe_mots_cles' => 'Konfiguration af n&oslash;gleordsgrupper',
'titre_configuration' => 'Konfigurering af webstedet',
'titre_connexion_ldap' => 'Indstillinger: <B>Din LDAP forbindelse</b>',
'titre_dernier_article_syndique' => 'Senest syndikerede artikler',
'titre_documents_joints' => 'Vedh&aelig;ftede dokumenter',
'titre_evolution_visite' => 'Udvikling i bes&oslash;gstal',
'titre_forum_suivi' => 'Opf&oslash;lgning p&aring; forummer',
'titre_gauche_mots_edit' => 'N&Oslash;GLEORDSNUMMER:',
'titre_groupe_mots' => 'N&Oslash;GLEORDSGRUPPE:',
'titre_langue_article' => 'ARTIKLENS SPROG',
'titre_langue_breve' => 'NYHEDENS SPROG',
'titre_langue_rubrique' => 'SPROGAFSNIT',
'titre_langue_trad_article' => 'ARTIKLENS SPROG OG OVERS&AElig;TTELSER',
'titre_les_articles' => 'ARTIKLER',
'titre_mots_cles_dans_forum' => 'N&oslash;gleord i forummer p&aring; det offentlige websted',
'titre_mots_tous' => 'N&oslash;gleord',
'titre_naviguer_dans_le_site' => 'Gennemse webstedet...',
'titre_nouveau_groupe' => 'Nyhedsgruppe',
'titre_nouvelle_breve' => 'Ny nyhed',
'titre_nouvelle_rubrique' => 'Nyt afsnit',
'titre_numero_rubrique' => 'AFSNITSNUMMER:',
'titre_page_admin_effacer' => 'Teknisk vedligeholdelse: sletning af database',
'titre_page_articles_edit' => 'Ret: @titre@',
'titre_page_articles_page' => 'Artikler',
'titre_page_articles_tous' => 'Hele webstedet',
'titre_page_auteurs' => 'Bes&oslash;gende',
'titre_page_breves' => 'Nyheder',
'titre_page_breves_edit' => 'Ret nyhed: &laquo;@titre@&raquo;',
'titre_page_calendrier' => 'Kalender @nom_mois@ @annee@',
'titre_page_config_contenu' => 'Webstedskonfigurering',
'titre_page_config_fonctions' => 'Webstedkonfigurering',
'titre_page_configuration' => 'Konfiguration af websted',
'titre_page_controle_petition' => 'Opf&oslash;lgning p&aring; appel',
'titre_page_delete_all' => 'total og uigenkaldelig sletning',
'titre_page_documents_liste' => 'Dokumenter i afsnit',
'titre_page_forum' => 'Administratorforum',
'titre_page_forum_envoi' => 'Send meddelelse',
'titre_page_forum_suivi' => 'Opf&oslash;lgning p&aring; forummer',
'titre_page_index' => 'Dit private omr&aring;de',
'titre_page_message_edit' => 'Skriv meddelelse',
'titre_page_messagerie' => 'Din meddelelsesfunktion',
'titre_page_mots_tous' => 'N&oslash;gleord',
'titre_page_recherche' => 'S&oslash;geresultater @recherche@',
'titre_page_sites_tous' => 'Links til websteder',
'titre_page_statistiques' => 'Statistik pr. afsnit',
'titre_page_statistiques_referers' => 'Statistik (indkommende links)',
'titre_page_statistiques_visites' => 'Bes&oslash;gsstatistik',
'titre_page_upgrade' => 'SPIP opgradering',
'titre_publication_articles_post_dates' => 'Offentligg&oslash;relse af fremdaterede artikler',
'titre_referencement_sites' => 'Henvisning og syndikering til websteder',
'titre_referencer_site' => 'Henvis til webstedet:',
'titre_rendez_vous' => 'AFTALER:',
'titre_reparation' => 'Reparer',
'titre_site_numero' => 'WEBSTEDSNUMMER:',
'titre_sites_proposes' => 'Indsendte websteder',
'titre_sites_references_rubrique' => 'Websteder der henvises til i dette afsnit',
'titre_sites_syndiques' => 'Syndikerede websteder',
'titre_sites_tous' => 'Websteder der henvises til',
'titre_suivi_petition' => 'Opf&oslash;lgning p&aring; appeller',
'titre_syndication' => 'Webstedssyndikering',
'trad_article_inexistant' => 'Der findes ingen artikel med dette nummer.',
'trad_article_traduction' => 'Alle udgaver af denne artikel&nbsp;:',
'trad_deja_traduit' => 'Denne artikel er allerede en overs&aelig;ttelse af den aktuelle artikel.',
'trad_delier' => 'Afbryd forbindelsen mellem denne artikel og overs&aelig;ttelserne',
'trad_lier' => 'Denne artikel er en overs&aelig;ttelse af artikel nummer&nbsp;:',
'trad_new' => 'Lav en ny overs&aelig;ttelse af denne artikel',


// V
'version_initiale' => '<NEW>Initial version'

);


?>

--- NEW FILE: ecrire_oc_va.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Aquela part de l\'ajua en linha es pas encara disponibla per aquesta lenga.',
'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article fai @date_diff@ minutas',
'avis_aucun_resultat' => 'Pas ges de resultat.',
'avis_chemin_invalide_1' => 'Lo chamin qu\'av&egrave;tz chausit',
'avis_chemin_invalide_2' => 'sembla pas valid. Vougatz tornar v&egrave;rs la pagina anteriora per verificar las informacions fornias.',
'avis_connexion_echec_1' => 'La connexion au servior MySQL a mau capitat.',
'avis_connexion_echec_2' => 'Tornatz v&egrave;rs la pagina anteriora, e verificatz las informacions qu\'av&egrave;tz fornias.',
'avis_connexion_echec_3' => '<B>N.B.</b> Sus ben de serviors, dev&egrave;tz <B>demandar</b> qu\'activen v&ograve;stre acc&egrave;s v&egrave;rs la basa MySQL avans de la poer utilizar. Se vos po&egrave;tz pas connectar, verificatz qu\'aiatz ben realizat aqueu procediment.',
'avis_connexion_ldap_echec_1' => 'La connexion au servior LDAP a mau capitat.',
'avis_connexion_ldap_echec_2' => 'Tornatz a la pagina anteriora, e verificatz las informacions qu\'av&egrave;tz fornias. ',
[...995 lines suppressed...]
'titre_sites_references_rubrique' => 'Los sits referenciats dins aquela rubrica',
'titre_sites_syndiques' => 'Los sits sindicats',
'titre_sites_tous' => 'Los sits referenciats',
'titre_suivi_petition' => 'Seguit de las peticions',
'titre_syndication' => 'Sindicacion de sits',
'trad_article_inexistant' => 'I a ges d\'article que p&ograve;rte aqueu num&egrave;ro.',
'trad_article_traduction' => 'Totas las versions d\'aquel article:',
'trad_deja_traduit' => 'Aquel article ja es una reviraa de l\'article present.',
'trad_delier' => 'Pas pus liar aquest article a sas reviraas ',
'trad_lier' => 'Aquest article es una reviraa de l\'article num&egrave;ro:',
'trad_new' => 'Escriure una reviraa nov&egrave;la d\'aquest article',


// V
'version_initiale' => 'Version iniciala'

);


?>

--- NEW FILE: ecrire_cpf.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Ast&egrave;r i mank ankor inn bout lo koudmin an liyn pou la lang ou la swazi.',
'avis_acces_interdit' => 'Ou nana pwinn lapermisyon pou rant dann kwind sit-la.',
'avis_article_modifie' => 'Tansyon pangar, @nom_auteur_modif@ la fin travay&eacute; lartik-la, n&eacute;na  @date_diff@ minit pas&eacute;',
'avis_aucun_resultat' => 'N&eacute;na pwinn r&eacute;zilta.',
'avis_chemin_invalide_1' => 'Somin ou la swazi',
'avis_chemin_invalide_2' => 'i sanm pa mars&eacute;. Ou p&eacute; artourn paz-d&eacute;ry&egrave;r &egrave;k v&egrave;y bann zinformasyon ou la don&eacute;.',
'avis_connexion_echec_1' => 'Lakostaz-la sir serv&egrave;r MySQL la finn loup&eacute;.',
'avis_connexion_echec_2' => 'Artourn paz-d&eacute;ry&egrave;r &egrave;k v&egrave;y byin bann zinformasyon ou la don&eacute;.',
'avis_connexion_echec_3' => '<B>Tansyon Pangar!</b> Sir bonp&eacute; serv&egrave;r i dwa <B>domann</b> l&eacute;berz&egrave;r li f&eacute; zw&eacute; out permisyon pou lakostaz labaz MySQL, sinonsa i p&eacute; pa giny anserv ali. Si ou l&eacute; pa kav akost labaz, v&eacute;y byin si ou la domand&eacute; permisyon-la.',
'avis_connexion_ldap_echec_1' => 'Lakostaz-la si lo serv&egrave;r LDAP, li la pa finn mars&eacute;.',
'avis_connexion_ldap_echec_2' => 'Artourn paz-d&eacute;ry&egrave;r &egrave;k v&egrave;y byin bann zinformasyon ou la don&eacute;.',
[...984 lines suppressed...]
'titre_sites_references_rubrique' => 'Bann sitw&egrave;b r&eacute;f&eacute;rans&eacute; dann rubrik-la',
'titre_sites_syndiques' => 'Bann sitw&egrave;b sindik&eacute;',
'titre_sites_tous' => 'List bann sitw&egrave;b r&eacute;f&eacute;rans&eacute;',
'titre_suivi_petition' => 'Pou swiv bann filsinyatir',
'titre_syndication' => 'Sindikasyon bann sitw&egrave;b',
'trad_article_inexistant' => 'Ni la pa trouv okin lartik i port zot nim&eacute;ro-la.',
'trad_article_traduction' => 'Tout bann versyon lartik-la&nbsp;:',
'trad_deja_traduit' => 'Lartik-la l&eacute; d&eacute;za inn tradiksyon li-minm.',
'trad_delier' => 'Ar&egrave;t gatir&eacute; lartik-la &egrave;k son bann tradiksyon',
'trad_lier' => 'Lartik-la l&eacute; inn tradiksyon lartik nim&eacute;ro&nbsp;:',
'trad_new' => 'Ekri inn nouv&egrave;l tradiksyon lartik-la',


// V
'version_initiale' => 'Promy&eacute; v&egrave;rsyon'

);


?>

--- NEW FILE: ecrire_zh.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => '&#36825;&#37096;&#20998;&#22312;&#32447;&#24110;&#21161;&#23578;&#26080;&#20013;&#25991;&#29256;&#26412;.',
'avis_acces_interdit' => '&#38480;&#21046;&#35775;&#38382;.',
'avis_article_modifie' => '&#35686;&#21578;, @nom_auteur_modif@&#22312;@date_diff@&#20998;&#38047;&#21069;&#20462;&#25913;&#36807;&#27492;&#25991;',
'avis_aucun_resultat' => '&#27809;&#26377;&#32467;&#26524;.',
'avis_chemin_invalide_1' => '&#24744;&#25152;&#36873;&#36335;&#24452;',
'avis_chemin_invalide_2' => '&#26080;&#25928;. &#35831;&#36820;&#22238;&#21069;&#39029;&#26657;&#39564;&#25552;&#20379;&#30340;&#20449;&#24687;.',
'avis_connexion_echec_1' => '&#36830;&#25509;MYSQL&#26381;&#21153;&#22120;&#22833;&#36133;.',
'avis_connexion_echec_2' => '&#35831;&#36820;&#22238;&#21069;&#39029;&#26657;&#39564;&#25552;&#20379;&#30340;&#20449;&#24687;.',
'avis_connexion_echec_3' => '<MODIF><B>N.B.</B> &#22312;&#35768;&#22810;&#26381;&#21153;&#22120;&#19978;&#36816;&#34892;&#26102;, &#20351;&#29992;&#21069;&#24744;&#24517;&#39035;<B>&#35831;&#27714;</B>&#28608;&#27963;&#35775;&#38382;MYSQL&#25968;&#25454;&#24211;&#30340;&#26435;&#38480;.&#22914;&#26524;&#24744;&#26080;&#27861;&#36830;&#25509;, &#35831;&#39318;&#20808;&#26816;&#39564;&#24744;&#26159;&#21542;&#26377;&#25928;&#28608;&#27963;&#35813;&#26435;&#38480;.',
'avis_connexion_ldap_echec_1' => '&#36830;&#25509;LDAP&#26381;&#21153;&#22120;&#22833;&#36133;.',
'avis_connexion_ldap_echec_2' => '&#36820;&#22238;&#21069;&#39029;&#26657;&#39564;&#24744;&#25152;&#25552;&#20379;&#30340;&#20449;&#24687;.',
[...1014 lines suppressed...]
'titre_sites_references_rubrique' => '&#27492;&#26639;&#19979;&#30340;&#21442;&#32771;&#31449;&#28857;',
'titre_sites_syndiques' => '&#32852;&#21512;&#31449;&#28857;',
'titre_sites_tous' => '&#21442;&#32771;&#31449;&#28857;',
'titre_suivi_petition' => '&#36319;&#36394;&#35831;&#27714;',
'titre_syndication' => '&#31449;&#28857;&#32852;&#21512;',
'trad_article_inexistant' => '&#27809;&#26377;&#25991;&#31456;&#20026;&#35813;&#21495;',
'trad_article_traduction' => '&#36825;&#31687;&#25991;&#31456;&#30340;&#25152;&#26377;&#29256;&#26412;:',
'trad_deja_traduit' => '&#35813;&#25991;&#26159;&#19968;&#31687;&#35793;&#25991;',
'trad_delier' => '&#21462;&#28040;&#36825;&#31687;&#25991;&#31456;&#21040;&#23427;&#30340;&#35793;&#25991;&#30340;&#38142;&#25509;',
'trad_lier' => '&#35813;&#31687;&#25991;&#31456;&#35793;&#33258;&#25991;&#31456;No.',
'trad_new' => '&#20026;&#35813;&#31687;&#25991;&#31456;&#20889;&#19968;&#31687;&#26032;&#35793;&#25991;',


// V
'version_initiale' => '&#21407;&#29256;&#26412;'

);


?>

--- NEW FILE: ecrire_oc_lnc.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article fa @date_diff@ minutas',
'avis_aucun_resultat' => 'Pas cap de resultat.',
'avis_chemin_invalide_1' => 'Lo camin qu\'av&egrave;tz causit',
'avis_chemin_invalide_2' => 'sembla pas valid. Volgatz tornar a la pagina anteriora per verificar las informacions fornidas.',
'avis_connexion_echec_1' => 'La connexion al servidor MySQL a abocat.',
'avis_connexion_echec_2' => 'Tornatz a la pagina anteriora, e verificatz las informacions qu\'av&egrave;tz fornidas.',
'avis_connexion_echec_3' => '<b>N.B.</b> Sus plan de servidors, dev&egrave;tz <b>demandar</b> qu\'activen v&ograve;stre acc&egrave;s a la basa MySQL abans de la poder utilizar. Se vos pod&egrave;tz pas connectar, verificatz qu\'ajatz plan realizat aquel procediment.',
'avis_connexion_ldap_echec_1' => 'La connexion al servidor LDAP a abocat.',
'avis_connexion_ldap_echec_2' => 'Tornatz a la pagina anteriora, e verificatz las informacions qu\'av&egrave;tz fornidas. ',
[...995 lines suppressed...]
'titre_sites_references_rubrique' => 'Los sits referenciats dins aquela rubrica',
'titre_sites_syndiques' => 'Los sits sindicats',
'titre_sites_tous' => 'Los sits referenciats',
'titre_suivi_petition' => 'Seguit de las peticions',
'titre_syndication' => 'Sindicacion de sits',
'trad_article_inexistant' => 'I a pas cap d\'article que p&ograve;rte aquel num&egrave;ro.',
'trad_article_traduction' => 'Totas las versions d\'aquel article:',
'trad_deja_traduit' => 'Aquel article ja es una revirada de l\'article present.',
'trad_delier' => 'Ligar pas mai aqueste article a sas reviradas ',
'trad_lier' => 'Aqueste article es una revirada de l\'article num&egrave;ro:',
'trad_new' => 'Escriure una revirada nov&egrave;la d\'aqueste article',


// V
'version_initiale' => 'Version iniciala'

);


?>

--- NEW FILE: ecrire_pt.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Esta parte da ajuda em linha ainda n&atilde;o est&aacute; dispon&iacute;vel nesta l&iacute;ngua ',
'avis_acces_interdit' => 'Accesso proibido ',
'avis_article_modifie' => 'Aten&ccedil;&atilde;o, @nom_auteur_modif@  trabalhou sobre este artigo h&aacute; @date_diff@ minutes',
'avis_aucun_resultat' => 'Nenhum resultado ',
'avis_chemin_invalide_1' => 'O caminho que escolheu ',
'avis_chemin_invalide_2' => 'n&atilde;o parece v&aacute;lido. Favor voltar &agrave; p&aacute;gina precedente e verificar as informa&ccedil;&otilde;es fornecidas. ',
'avis_connexion_echec_1' => 'A conex&atilde;o ao servidor  MySQL falhou.',
'avis_connexion_echec_2' => 'Volte &agrave; p&aacute;gina precedente e verifique as informa&ccedil;&otilde;es que forneceu ',
'avis_connexion_echec_3' => '<MODIF><B>N.B.</B> Em muitos servidores, deve <B>pedir</B> a activa&ccedil;&atilde;o do seu acesso &agrave; base MySQL antes de poder utiliz&aacute;-la. Se n&atilde;o conseguir a conex&atilde;o, verifique que efectuou essa exig&ecirc;ncia',
'avis_connexion_ldap_echec_1' => 'A conex&atilde;o ao servidor LDAP falhou',
'avis_connexion_ldap_echec_2' => 'Volte &agrave; p&aacute;gina precedente e verifique as informa&ccedil;&otilde;es que forneceu ',
[...1021 lines suppressed...]
'titre_sites_references_rubrique' => 'Os s&iacute;tios referenciados nesta rubrica',
'titre_sites_syndiques' => 'Os s&iacute;tios vinculados',
'titre_sites_tous' => 'Os s&iacute;tios referenciados',
'titre_suivi_petition' => 'Seguimento dos abixo-assinados',
'titre_syndication' => 'Vincula&ccedil;&atilde;o de s&iacute;tios',
'trad_article_inexistant' => 'N&atilde;o h&aacute; artigo com este n&uacute;mero',
'trad_article_traduction' => 'Todas as vers&otilde;es deste artigo&nbsp;:',
'trad_deja_traduit' => 'Este artigo &eacute; j&aacute; uma tradu&ccedil;&atilde;o do presente artigo',
'trad_delier' => 'N&atilde;o mais ligar este artigo a estas tradu&ccedil;&otilde;es',
'trad_lier' => 'Este artigo &eacute; uma tradu&ccedil;&atilde;o do artigo n&uacute;mero&nbsp;:',
'trad_new' => 'Escrever uma nova tradu&ccedil;&atilde;o deste artigo',


// V
'version_initiale' => '<NEW>Version initiale'

);


?>

--- NEW FILE: ecrire_lb.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'D&euml;sen Deel vun der H&euml;llef g&euml;tt et nach n&euml;t an d&auml;r Sprooch.',
'avis_acces_interdit' => 'Zougang gespaart.',
'avis_article_modifie' => 'Opgepasst, den @nom_auteur_modif@ huet un d&euml;sem Artikel virun @date_diff@ Minuten geschafft',
'avis_aucun_resultat' => 'Kee Resultat.',
'avis_chemin_invalide_1' => 'De Wee deen dir gewielt hutt',
'avis_chemin_invalide_2' => 'schengt n&euml;t g&euml;lteg ze sinn. Gidd op d&eacute;i l&auml;scht S&auml;it zer&euml;ck a kontroll&eacute;iert d\'Informatiounen.',
'avis_connexion_echec_1' => 'D\'Verbindung mam MySQL-Server huet n&euml;t fonktionn&eacute;iert.',
'avis_connexion_echec_2' => 'Gidd op d&eacute;i l&auml;scht S&auml;it zer&euml;ck a kontroll&eacute;iert d\'Informatiounen.',
'avis_connexion_echec_3' => '<b>N.B.</b> Op villen Server\'en muss der d\'Aktivatioun vun engem Zougang un d\'MySQL-Datebank <b>ufro&euml;n</b>, ier der se k&euml;nnt benotzen. Wann der keng Verbindung kritt, kontroll&eacute;iert op dat gemaach ass.',
'avis_connexion_ldap_echec_1' => 'D\'Verbindung mam LDAP-Server huet n&euml;t fonktionn&eacute;iert.',
'avis_connexion_ldap_echec_2' => 'Gidd op d&eacute;i l&auml;scht S&auml;it zer&eacute;ck a kontroll&eacute;iert d\'Informatiounen.',
'avis_connexion_ldap_echec_3' => 'Alternativ benotzt keng LDAP-&Euml;nnerstetzung fir d\'Benotzer ze import&eacute;ieren.',
'avis_conseil_selection_mot_cle' => '<b>Wichtege Grupp:</b> &euml;t ass wiirklech ugeroden e Schl&euml;sselwuert aus d&euml;sem Grupp ze wielen.',
'avis_deplacement_rubrique' => 'Opgepasst! D&euml;s Rubrik huet @contient_breves@ br&egrave;ve at scb@: wann der se r&eacute;ckelt, klickt d&euml;st Konfirmatiouns-Feld un.',
'avis_destinataire_obligatoire' => 'Dir musst d&euml;n Empf&auml;nger uginn ier der d&euml;sen Message fortsch&eacute;ckt.',
'avis_erreur_connexion_mysql' => 'Fehler bei der MySQL-Verbindung',
'avis_erreur_version_archive' => '<b>Opgepasst! De Fichier @archive@ korrespond&eacute;iert zu enger anerer SPIP-Versioun w&eacute;i d&eacute;i install&eacute;iert.</b>
Dir kommt an grouss Schwieregkeeten:
Risiko dass &auml;r Datebank zerst&eacute;iert g&euml;t, generellen Disfonktionnement vum Site, asw. Best&auml;tegt d&euml;sen Import n&euml;t.<p />Fir m&eacute;i Informatiounen kuckt an <a href=\'http://www.spip.net/fr_article1489.html\'>
der Dokumentatioun vu SPIP</a>.',
'avis_espace_interdit' => '<b>Gespaarten Deel</b><p />SPIP ass schon install&eacute;iert.',
'avis_lecture_noms_bases_1' => 'Den Installatiouns-Programm konnt d\'Nimm vun den install&eacute;iertent Datebanken n&euml;t liesen.',
'avis_lecture_noms_bases_2' => 'Etweder steet keng Datebank zur Verf&uuml;gung, oder d\'Fonktioun fir d\'Datebanken opzel&euml;schten ass aus S&euml;cherheetsgr&euml;nn ausgeschalt ginn (dat ass esou bei villen Provider\'en).',
'avis_lecture_noms_bases_3' => 'Am zweeten Fall ass et m&eacute;iglech dass eng Datebank mam selwechten Numm w&eacute;i &auml;ren Login ka benotzt ginn:',
'avis_non_acces_message' => 'Dir hutt keen Zougang zu d&euml;sem Message.',
'avis_non_acces_page' => 'Dir hutt keen Zougang zu d&euml;ser S&auml;it.',
'avis_operation_echec' => 'D&eacute;i Operatioun huet n&euml;t fonktionn&eacute;iert.',
'avis_probleme_archive' => 'Problem beim Liesen vum Fichier @archive@',
'avis_site_introuvable' => 'De Site ass n&euml;t ze fannen',
'avis_site_syndique_probleme' => 'Opgepasst: d\'Syndicatioun vun d&euml;sem Site huet n&euml;t fonktionn&eacute;iert; de System ass also elo z&auml;itweis &euml;nnerbrach. Kontroll&eacute;iert d\'Adress vum Syndicatiouns-Fichier vun d&euml;sem Site (<b>@url_syndic@</b>) a prob&eacute;iert nach eng K&eacute;ier d\'Informatiounen ze kr&eacute;ien.',
'avis_sites_probleme_syndication' => 'D&euml;s Siten hun e Syndicatiouns-Problem',
'avis_sites_syndiques_probleme' => 'D&euml;s syndik&eacute;iert Siten hun e Problem',
'avis_suppression_base' => 'OPGEPASST, d\'L&auml;schen vun den Daten ka n&euml;t reckg&auml;ngeg gemach ginn',
'avis_version_mysql' => '&Auml;r Versioun vu MySQL (@version_mysql@) erlaabt d\'automatesch Reparatur vun den Datebank-Tafelen n&euml;t.',


// B
'bouton_acces_ldap' => 'LDAP-Zougang derb&auml;i setzen >>',
'bouton_ajouter' => 'Derb&auml;i setzen',
'bouton_ajouter_participant' => 'MATAARBECHTER DERB&Auml;I SETZEN:',
'bouton_annonce' => 'ANNONCE',
'bouton_checkbox_envoi_message' => '&euml;t kann e Message gesch&eacute;ckt ginn',
'bouton_checkbox_indiquer_site' => 'dir musst en Internet-Site uginn',
'bouton_checkbox_qui_attribue_mot_cle_administrateurs' => 'd\'Administrateuren vum Site',
'bouton_checkbox_qui_attribue_mot_cle_redacteurs' => 'd\'Redakteren',
'bouton_checkbox_qui_attribue_mot_cle_visiteurs' => 'd\'Visiteuren vum Site wann se e Message an de Forum sch&eacute;cken.',
'bouton_checkbox_signature_unique_email' => 'eng eenzeg &Euml;nnerschr&euml;ft pro Email-Adress',
'bouton_checkbox_signature_unique_site' => 'Eng eenzeg &Euml;nnerschr&euml;ft pro Internet-Site',
'bouton_demande_publication' => 'D\'Publikatioun vum Artikel ufro&euml;n',
'bouton_effacer_index' => 'Den Index l&auml;schen',
'bouton_effacer_tout' => 'ALLES l&auml;schen',
'bouton_envoi_message_02' => 'MESSAGE SCH&Eacute;CKEN',
'bouton_envoyer_message' => 'Definitiven Message: sch&eacute;cken',
'bouton_forum_petition' => 'FORUM &amp; PETITIOUN',
'bouton_modifier' => '&Auml;nneren',
'bouton_pense_bete' => 'PERS&Eacute;INLECH NOTIZ',
'bouton_radio_activer_messagerie' => 'D&eacute;i intern Messagerie aschalten',
'bouton_radio_activer_messagerie_interne' => 'D&eacute;i intern Messagerie aschalten',
'bouton_radio_activer_petition' => 'D\'Petitioun aschalten',
'bouton_radio_afficher' => 'Weisen',
'bouton_radio_apparaitre_liste_redacteurs_connectes' => 'Op d\'L&euml;scht vun den ugemelten Redakteren kommen',
'bouton_radio_articles_futurs' => 'n&euml;mmen fir nei Artikelen (keng Aktioun op d\'Datebank).',
'bouton_radio_articles_tous' => 'fir all nei Artikelen ouni Ausnahm.',
'bouton_radio_articles_tous_sauf_forum_desactive' => 'fir all Artikelen, ausser d&eacute;i wou de Forum ausgeschalt ass.',
'bouton_radio_desactiver_messagerie' => 'D\'Messagerie ausschalten',
'bouton_radio_enregistrement_obligatoire' => 'Obligatoresch Aschreiwung (d\'Benotzer mussen sech abonn&eacute;ieren andeem si hier Email-Adress uginn ier se hier Beitr&auml;g k&euml;nne sch&eacute;cken).',
'bouton_radio_envoi_annonces_adresse' => 'D\'Annoncen sch&eacute;cken op d\'Adress:',
'bouton_radio_envoi_liste_nouveautes' => 'D\'L&euml;scht mat den Neiegkeeten sch&eacute;cken',
'bouton_radio_moderation_priori' => 'Moderatioun &agrave; priori (d\'Beitr&auml;g ginn er&eacute;ischt publiz&eacute;iert nodeem se vun engem Administrateur valid&eacute;iert goufen).',
'bouton_radio_modere_abonnement' => 'op Abonnement mod&eacute;r&eacute;iert',
'bouton_radio_modere_posteriori' => '&agrave; posteriori mod&eacute;r&eacute;iert',
'bouton_radio_modere_priori' => '&agrave; priori mod&eacute;r&eacute;iert',
'bouton_radio_non_apparaitre_liste_redacteurs_connectes' => 'N&euml;t op d\'L&euml;scht vun de Redakteren kommen',
'bouton_radio_non_envoi_annonces_editoriales' => 'Keng editorial Neiegkeeten sch&eacute;cken',
'bouton_radio_non_syndication' => 'Keng Syndicatioun',
'bouton_radio_occidental' => 'Westlecht Alphabet (<tt>iso-8859-1</tt>): erlaabt d\'Uweisen vun de westl&euml;chen Sproochen (Englesch, Franz&eacute;isch, D&auml;itsch...); SPIP erlaabt trotzdem einegermoossen gudd mat aneren Sproochen ze schaffen.',
'bouton_radio_pas_petition' => 'Keng Petitioun',
'bouton_radio_personnalise' => 'Personnalis&eacute;ierten Buchstawen-Set: wielt d&euml;s Optioun wann der mat engem speziellen Buchstawen-Set w&euml;llt schaffen',
'bouton_radio_petition_activee' => 'Petitioun ageschalt',
'bouton_radio_publication_immediate' => 'Direkt Publikatioun vun de Messagen (d\'Beitr&auml;g ginn direkt nom Sch&eacute;cken sichtbar, d\'Administrateuren k&euml;nnen se duerno l&auml;schen).',
'bouton_radio_sauvegarde_compressee' => 'Backup komprim&eacute;iert gesp&auml;ichert &euml;nner <b>ecrire/data/dump.xml.gz</b>',
'bouton_radio_sauvegarde_non_compressee' => 'Backup n&euml;t komprim&eacute;iert gesp&auml;ichert &euml;nner <b>ecrire/data/dump.xml</b>',
'bouton_radio_supprimer_petition' => 'D\'Petitioun l&auml;schen',
'bouton_radio_syndication' => 'Syndicatioun:',
'bouton_radio_universel' => 'Universelt Alphabet (<tt>utf-8</tt>): erlaabt d\'Weisen vun alle Sproochen, kann awer zu Kompatibilit&eacute;its-Problemer mat den Softwaren fir d\'Skeletter ze &auml;nneren a mat verschiddenen Email-Programmer f&eacute;ieren.',
'bouton_redirection' => '&Euml;MLEEDUNG',
'bouton_relancer_installation' => 'D\'Installatioun nei uf&auml;nken',
'bouton_restaurer_base' => 'Datebank restaur&eacute;ieren',
'bouton_suivant' => 'Weider',
'bouton_tenter_recuperation' => 'Eng Reparatur prob&eacute;ieren',
'bouton_test_proxy' => 'E Proxy prob&eacute;ieren',
'bouton_vider_cache' => 'De Cache l&auml;schen',
'bouton_voir_message' => 'De Message weisen ier e valid&eacute;iert g&euml;tt',


// C
'cache_mode_compresse' => 'D\'Fichier\'en am Cache si komprim&eacute;iert gesp&auml;ichert.',
'cache_mode_non_compresse' => 'D\'Fichier\'en am Cache si n&euml;t komprim&eacute;iert gesp&auml;ichert.',
'cache_modifiable_webmestre' => 'D\'Parameteren vum Cache k&euml;nnen vum Webmaster vum Site ge&auml;nnert ginn.',
'calendrier_synchro' => 'Wann dir en <b>iCal</b>-kompatiblen Agenda benotzt, da k&euml;nnt der d\'Informatiounen mat d&euml;sem Site synchronis&eacute;ieren.',


// D
'date_mot_heures' => 'h',
'diff_para_ajoute' => 'Kapitel derb&auml;i setzen',
'diff_para_deplace' => 'Kapitel ger&eacute;ckelt',
'diff_para_supprime' => 'Kapitel gel&auml;scht',
'diff_texte_ajoute' => 'Text derb&auml;i setzen',
'diff_texte_deplace' => 'Text ger&eacute;ckelt',
'diff_texte_supprime' => 'Text gel&auml;scht',


// E
'email' => 'Email',
'email_2' => 'Email:',
'entree_adresse_annuaire' => 'Adress vun der Sammlung',
'entree_adresse_email' => '&Auml;r Email-Adress',
'entree_adresse_fichier_syndication' => 'Adress vum Fichier "Backend" fir d\'Syndicatioun:',
'entree_adresse_site' => '<b>Adress vum Site</b> [Obligatoresch]',
'entree_base_donnee_1' => 'Adress vun der Datebank',
'entree_base_donnee_2' => '(D&euml;s Adress ass oft selw&euml;cht w&eacute;i d&eacute;i vun &auml;rem Site, heiansdo ass &euml;t "localhost", heiansdo g&euml;t se eidel gelooss.)',
'entree_biographie' => 'Kuerz Biographie an e puer Wieder.',
'entree_breve_publiee' => 'Soll d&euml;s Kuerzmeldung publiz&eacute;iert ginn?',
'entree_chemin_acces' => 'De Wee <B>aginn</B>:',
'entree_cle_pgp' => '&Auml;re PGP-Schl&euml;ssel',
'entree_contenu_rubrique' => '(Inhalt vun der Rubrik an e puer Wieder.)',
'entree_description_site' => 'Beschreiwung vum Site',
'entree_identifiants_connexion' => '&Auml;r Zougangs-Informatiounen...',
'entree_informations_connexion_ldap' => 'Gidd an d&euml;sen Formulaire d\'Informatiounen vun &auml;rer LDAP-Verbindung an.
D&euml;s Informatiounen kritt dir vum Administrateur vum System oder vum Netzwierk.',
'entree_infos_perso' => 'Wie sidd Dir?',
'entree_interieur_rubrique' => 'An der Rubrik:',
'entree_liens_sites' => '<B>Link</B> (Referenz, interessanten Site...)',
'entree_login' => '&Auml;re Login',
'entree_login_connexion_1' => 'De Login fir d\'Verbindung',
'entree_login_connexion_2' => '(Ass heiansdo selw&euml;cht w&eacute;i &auml;ren FTP-Login, heiansdo g&euml;t en eidel gelooss)',
'entree_login_ldap' => 'Initialen LDAP-Login',
'entree_mot_passe' => '&Auml;rt Passwuert',
'entree_mot_passe_1' => 'D\'Passwuert fir d\'Verbindung',
'entree_mot_passe_2' => '(Ass heiansdo selw&euml;cht w&eacute;i &auml;rt FTP-Passwuert; g&euml;t heianso eidel gelooss)',
'entree_nom_fichier' => 'Gidd de Numm vum Fichier @texte_compresse@ an:',
'entree_nom_pseudo' => '&Auml;re Numm oder &auml;re Pseudo',
'entree_nom_pseudo_1' => '(&Auml;re Numm oder &auml;re Pseudo)',
'entree_nom_site' => 'De Numm vun &auml;rem Site',
'entree_nouveau_passe' => 'Neit Passwuert',
'entree_passe_ldap' => 'Passwuert',
'entree_port_annuaire' => 'D\'Port-Nummer vun der L&euml;scht',
'entree_signature' => '&Euml;nnerschr&euml;ft',
'entree_texte_breve' => 'Text vun der Kuerzmeldung',
'entree_titre_obligatoire' => '<B>Titel</B> [Obligatoresch]<BR>',
'entree_url' => 'D\'Adress (URL) vun &auml;rem Site',


// I
'ical_info1' => 'D&euml;s S&auml;it bitt verschidde M&eacute;igl&euml;chkeeten fir mam Liewen vun d&euml;sem Site a Kontakt ze bleiwen.',
'ical_info2' => 'Fir m&eacute;i Informatiounen iwwer d&euml;s Technik, kuckt an <a href="http://www.spip.net/fr_suivi">der SPIP-Dokumentatioun</a>.',
'ical_info_calendrier' => '&Euml;t ginn zwee Kalenneren. Deen &eacute;ischten ass e Plang vum Site mat all den Annoncen vun den publiz&eacute;ierten Artikelen. Deen zweeten huet all editorial Annoncen an &auml;r l&auml;schten privat Messagen: hien ass mat engem pers&eacute;inlechen Schl&euml;ssel fir Iech reserv&eacute;iert, deen dir zu all Moment &auml;nnere k&euml;nnt wann d&euml;r &auml;rt Passwuert &auml;nnert.',
'ical_methode_http' => 'Downlueden',
'ical_methode_webcal' => 'Synchronisatioun (webcal://)',
'ical_texte_js' => 'Eng Javascript-Zeil erlaabt ganz einfach op egal wat fir engem vun &auml;re Siten d&eacute;i l&auml;schten Artikelen vun d&euml;sem Site ze weisen.',
'ical_texte_prive' => 'D&euml;se Kalenner, den n&euml;mmen just Iech geh&eacute;iert, inform&eacute;iert Iech iwwert d&eacute;i editorial Aktivit&eacute;iten vun d&euml;sem Site (Aufgaben a pers&eacute;inlech Rendez-vous\'en, propos&eacute;iert Artikelen a Kuerzmeldungen...).',
'ical_texte_public' => 'D&euml;se Kalenner erlaabt Iech d&eacute;i &ouml;ffentl&euml;ch Aktivit&eacute;it vun d&euml;sem Site ze verfolgen (puliz&eacute;iert Artikelen a Kuerzmeldungen).',
'ical_texte_rss' => 'Dir kennt nei Siten an egal wat fir engem Programm mam Format XML/RSS (Rich Site Summary) syndiqu&eacute;ieren. SPIP kann och d\'Neiegkeetn vun anere Siten mat deem Format liesen (syndik&eacute;iert Siten).',
'ical_titre_js' => 'Javascript',
'ical_titre_mailing' => 'Mailing-L&euml;scht',
'ical_titre_rss' => '"Backend"-Fichier\'en',
'icone_activer_cookie' => 'De Korrespondenz-Cookie activ&eacute;ieren',
'icone_afficher_auteurs' => 'Auteuren weisen',
'icone_afficher_visiteurs' => 'Visiteuren weisen',
'icone_arret_discussion' => 'N&euml;t m&eacute;i un d&euml;ser Diskussioun deelhuelen',
'icone_calendrier' => 'Kalenner',
'icone_creation_groupe_mots' => 'E Schl&euml;sselwieder-Grupp maachen',
'icone_creation_mots_cles' => 'E Schl&euml;sselwuert maachen',
'icone_creer_auteur' => 'E neien Auteur derb&auml;i setzen an un d&euml;sen Artikel bannen',
'icone_creer_rubrique_2' => 'Nei Rubrik derb&auml;i setzen',
'icone_ecrire_nouvel_article' => 'Kuerzmeldungen aus d&euml;ser Rubrik',
'icone_envoyer_message' => 'D&euml;se Message sch&eacute;cken',
'icone_evolution_visites' => 'Evolutioun vun den Visiten<br>@visites@ Visiten',
'icone_modif_groupe_mots' => 'D&euml;se Schl&euml;sselwieder-Grupp &auml;nneren',
'icone_modifier_article' => 'D&euml;sen Artikel &auml;nneren',
'icone_modifier_breve' => 'D&euml;s Kuerzmeldung &auml;nneren',
'icone_modifier_message' => 'D&euml;se Message &auml;nneren',
'icone_modifier_rubrique' => 'D&euml;s Rubrik &auml;nneren',
'icone_modifier_site' => 'D&euml;se Site &auml;nneren',
'icone_poster_message' => 'Message sch&eacute;cken',
'icone_publier_breve' => 'D&euml;s Kuerzmeldung publiz&eacute;ieren',
'icone_referencer_nouveau_site' => 'Neie Site uginn',
'icone_refuser_breve' => 'D&euml;s Kuerzmeldung refus&eacute;ieren',
'icone_retour' => 'Zer&euml;ck',
'icone_retour_article' => 'Zer&euml;ck bei den Artikel',
'icone_suivi_forum' => 'Den &ouml;ffentlechen Forum verfolgen: @nb_forums@&nbsp;Beitr&auml;g',
'icone_supprimer_cookie' => 'Korrespondenz-Cookie l&auml;schen',
'icone_supprimer_groupe_mots' => 'D&euml;se Grupp l&auml;schen',
'icone_supprimer_rubrique' => 'D&euml;s Rubrik l&auml;schen',
'icone_supprimer_signature' => 'D&euml;s &Euml;nnerschr&euml;ft l&auml;schen',
'icone_valider_signature' => 'D&euml;s &Euml;nnerschr&euml;ft valid&eacute;ieren',
'icone_voir_sites_references' => 'Referenz&eacute;iert Siten weisen',
'icone_voir_tous_mots_cles' => 'All d\'Schl&euml;sselwieder weisen',
'image_administrer_rubrique' => 'Dir k&euml;nnt d&euml;s Rubrik administr&eacute;ieren',
'info_1_article' => '1 Artikel',
'info_1_breve' => '1 Kuerzmeldung',
'info_1_site' => '1 Site',
'info_activer_cookie' => 'Dir k&euml;nnt e <b>Korrespondenz-Cookie</b> aktiv&eacute;ieren, dien Iech erlaabt einfach vum &ouml;ffentl&euml;chen op de privaten Site ze wiesselen.',
'info_activer_forum_public' => '<i>Fir d&eacute;i &ouml;ffentl&euml;ch Forum\'en anzeschalten, wielt d\'Default-Moderatiouns-Method:</i>',
'info_admin_gere_rubriques' => 'D&euml;sen Administrateur k&euml;nmert s&euml;ch &euml;m folgend Rubriken:',
'info_admin_gere_toutes_rubriques' => 'D&euml;sen Administrateur k&euml;mmert s&euml;ch &euml;m <b>all Rubriken</b>.',
'info_administrateur' => 'Administrateur',
'info_administrateur_1' => 'Administrateur',
'info_administrateur_2' => 'vum Site (<i>oppassen beim benotzen)',
'info_administrateur_site_01' => 'Wann dir Administrateur vum Site sidd, ',
'info_administrateur_site_02' => 'klickt op d&euml;se Link',
'info_administrateurs' => 'Administrateuren',
'info_administrer_rubrique' => 'Dir k&euml;nnt d&euml;s Rubrik administr&eacute;ieren',
'info_adresse' => 'op der Adress:',
'info_adresse_email' => 'EMAIL-ADRESS:',
'info_adresse_url' => 'Adress (URL) vum &ouml;ffentl&euml;che Site',
'info_afficher_visites' => 'D\'Visiten weisen fir:',
'info_affichier_visites_articles_plus_visites' => 'D\'Visiten fir <b>d&eacute;i am meeschten gefroten Artikel z&euml;nter dem Ufank</b> weisen:',
'info_aide_en_ligne' => 'Online-H&euml;llef vu SPIP',
'info_ajout_image' => 'Wann dir engem Artikel Biller als Dokumenter derb&auml;i setzt, kann SPIP Iech automat&euml;sch Vignetten (Miniaturen) maachen. Dat erlaabt Iech z.B. automatesch eng Galerie ze maachen.',
'info_ajout_participant' => 'De folgenden gouf derb&auml;i gesat:',
'info_ajouter_rubrique' => 'Eng aner Rubrik fir ze administr&eacute;ieren derb&auml;i setzen:',
'info_annonce_nouveautes' => 'D\'Neiegkeeten annonc&eacute;ieren',
'info_annuler_blocage_priori' => 'D&euml;se Bloquage ophiewen',
'info_anterieur' => 'viirdrun',
'info_appliquer_choix_moderation' => 'D&euml;s Moderatiouns-Method iwwerhuelen:',
'info_article' => 'Artikel',
'info_article_2' => 'Artikelen',
'info_article_a_paraitre' => 'D&eacute;i post-dat&eacute;iert Artikelen',
'info_articles_02' => 'Artikelen',
'info_articles_2' => 'Artikelen',
'info_articles_auteur' => 'Artikelen vun d&euml;sem Auteur',
'info_articles_lies_mot' => 'Artikelen d&eacute;i un d&euml;st Schl&euml;sselwuert gebonnen sinn',
'info_articles_trouves' => 'Artikelen fonnt',
'info_articles_trouves_dans_texte' => 'Artikelen fonnt (am Text)',
'info_attente_validation' => '&Auml;r Artikelen d&eacute;i op d\'Validatioun waarden',
'info_aujourdhui' => 'Haut:',
'info_auteur_message' => 'AUTEUR VUM MESSAGE:',
'info_auteurs' => 'D\'Auteuren',
'info_auteurs_par_tri' => 'Auteuren at partri@',
'info_auteurs_trouves' => 'Auteuren fonnt',
'info_authentification_externe' => 'Extern Umeldung',
'info_avertissement' => 'Warnung',
'info_base_installee' => 'D\'Struktur vun &auml;rer Datebank ass install&eacute;iert.',
'info_base_restauration' => 'D\'Datebank g&euml;t grad restaur&eacute;iert.',
'info_breves' => 'Benotzt &auml;re Site de Kuerzmeldungs-System?',
'info_breves_03' => 'Kuerzmeldungen',
'info_breves_liees_mot' => 'Kuerzmeldungen d&eacute;i un d&euml;st Schl&euml;sselwuert gebonnen sinn',
'info_breves_touvees' => 'Kuerzmeldungen fonnt',
'info_breves_touvees_dans_texte' => 'Kuerzmeldungen fonnt (am Text)',
'info_changer_nom_groupe' => 'Numm vun d&euml;sem Grupp &auml;nneren:',
'info_chapeau' => 'Chapeau',
'info_chapeau_2' => 'Chapeau:',
'info_chemin_acces_1' => 'Optiounen: <b>Wee an der L&euml;scht</b>',
'info_chemin_acces_2' => 'Dir musst de Wee op d\'Informatiounen an der L&euml;scht ugin. D&euml;s Informatioun ass n&eacute;ideg fir de Profil vun de Benotzer aus der L&euml;scht ze liesen.',
'info_chemin_acces_annuaire' => 'Optiounen: Wee an der L&euml;scht',
'info_choix_base' => 'Dr&euml;tte Schr&euml;tt:',
'info_classement_1' => '. an @liste@',
'info_classement_2' => '. an @liste@',
'info_code_acces' => 'Vergiesst &auml;r Login-Informatiounen n&euml;t!',
'info_comment_lire_tableau' => 'W&eacute;i een d&euml;s Tabell liesen soll',
'info_config_suivi' => 'Wann d&euml;s Adress eng Mailing-L&euml;scht ass, da k&euml;nnt dier hei d\'Adress uginn wou d\'Matarbechter vun d&euml;sem Site sech aschreiwen k&euml;nnen. D&euml;s Adress kann eng URL sinn (z.B. d\'Internets&auml;it wou een s&euml;ch aschreiwen kann), oder eng Email-Adress mat engem extra Sujet (z.B.: <tt>@adresse_suivi@?subject=subscribe</tt>):',
'info_config_suivi_explication' => 'Dir k&euml;nnt Iech un d\'Mailing-L&euml;scht vun d&euml;sem Site abonn&eacute;ieren. Dir kritt dann per Email d\'Annoncen vun den Artikelen a Kuerzmeldungen d&eacute;i fir d\'Publikatioun propos&eacute;iert goufen.',
'info_confirmer_passe' => 'Konfirm&eacute;iert dat neit Passwuert:',
'info_connexion_base' => 'Zweete Schr&euml;tt: <b>Versichen mat der Datebank ze verbannen</b>',
'info_connexion_ldap_ok' => 'D\'LDAP-Verbindung huet geklappt.</b><p />Weider bei de n&auml;chsten Schr&euml;tt.',
'info_connexion_mysql' => '&Eacute;ischte Schr&euml;tt: <b>&Auml;r Verbindung mat MySQL</b>',
'info_connexion_ok' => 'D\'Verbindung huet geklappt.',
'info_contact' => 'Kontakt',
'info_contenu_articles' => 'Inhalt vun den Artikelen',
'info_creation_mots_cles' => 'Setzt hei d\'Schl&euml;sselwieder vum Site derb&auml;i a konfigur&eacute;iert se',
'info_creation_paragraphe' => '(Fir e neien Abschnitt, loosst einfach eng eidel Zeil.)',
'info_creation_rubrique' => 'Ier d&euml;r k&euml;nnt en Artikel schreiwen musst d&euml;r op manst eng Rubrik derb&auml;i setzen.<br>',
'info_creation_tables' => 'V&eacute;ierte Schr&euml;tt: <b>Tabellen an d\'Datebank schreiwen</b>',
'info_creer_base' => 'Eng nei Datebank <b>derb&auml;i setzen</b>:',
'info_dans_groupe' => 'Am Grupp:',
'info_dans_rubrique' => 'An der Rubrik:',
'info_date_publication_anterieure' => '&Eacute;ischten Publikatiounsdatum:',
'info_date_referencement' => 'D&Euml;SE SITE GOUF REFERENZ&Eacute;IERT:',
'info_delet_mots_cles' => 'Dir w&euml;llt d\'Schl&euml;sselwuert
<B>@titre_mot@</B> (@type_mot@) l&auml;schen. D&euml;st Wuert ass un
<b>@texte_lie@</b> gebonnen, dir musst d&euml;s Decisioun valid&eacute;ieren:',
'info_demander_blocage_priori' => 'Bloquage &agrave; priori fro&euml;n',
'info_derniere_etape' => 'L&auml;schte Schr&euml;tt: <B>&Euml;t ass f&auml;rdeg!',
'info_derniere_syndication' => 'L&auml;scht Syndicatioun vun d&euml;sem Site den',
'info_derniers_articles_publies' => '&Auml;r l&auml;scht publiz&eacute;iert Artikelen',
'info_desactiver_forum_public' => 'D&eacute;i &ouml;ffentl&euml;ch Forum\'en ausschalten. &Ouml;ffentl&euml;ch Forum\'en k&euml;nnen vu Fall zu Fall pro Artikel ageschalt ginn; awer n&euml;t op de Rubriken, Kuerzmeldungen, asw.',
'info_desactiver_messagerie_personnelle' => 'Dir k&euml;nnt &auml;r pers&eacute;inlech Messagerie op d&euml;sem Site an- oder ausschalten.',
'info_descriptif' => 'Beschreiwung:',
'info_discussion_cours' => 'Aktiv Diskussiounen',
'info_ecrire_article' => 'Ier dier k&euml;nnt en Artikel schreiwen, musst dier op manst eng Rubrik derb&auml;i setzen.',
'info_email_envoi' => 'Adress vum Expediteur (optionnel)',
'info_email_envoi_txt' => 'Gitt d\'Adress un fir Email\'en ze sch&eacute;cken (als Default g&euml;t d\'Adress vum Destinataire benotzt):',
'info_email_webmestre' => 'Email-Adress vum Webmaster (optionnel)',
'info_entrer_code_alphabet' => 'Kode vum Alphabet dat benotzt soll ginn:',
'info_envoi_email_automatique' => 'Automat&euml;scht Sch&eacute;cken vun Email\'en',
'info_envoi_forum' => 'D\'Forum-Beitr&auml;g un d\'Auteuren vun den Artikelen sch&eacute;cken',
'info_envoyer_maintenant' => 'Elo sch&eacute;cken',
'info_erreur_restauration' => 'Fehler bei der Restauratioun: de Fichier g&euml;tt &euml;t n&euml;t.',
'info_etape_suivante' => 'Weider bei de n&auml;chste Schr&euml;tt',
'info_etape_suivante_1' => 'Dir k&euml;nnt bei de n&auml;chste Schr&euml;tt weidergo&euml;n.',
'info_etape_suivante_2' => 'Dir k&euml;nnt bei de n&auml;chsten Schr&euml;tt weidergo&euml;n.',
'info_exportation_base' => 'Export vun der Datebank op @archive@',
'info_facilite_suivi_activite' => 'Fir d&eacute;i editorial Aktivit&eacute;iten ze verfolgen, kann SPIP d\'Demanden fir Artikelen ze publiz&eacute;ieren oder d\'Validatiounen un eng Mailing-L&euml;scht vun de Redakteren sch&eacute;cken.',
'info_fichiers_authent' => 'Identifikatiouns-Fichier\'en ".htpasswd"',
'info_fonctionnement_forum' => 'Fonktionnement vum Forum:',
'info_forum_administrateur' => 'Forum vun den Administrateuren',
'info_forum_interne' => 'Internen Forum',
'info_forum_ouvert' => 'Am privaten Deel vum Site g&euml;t &euml;t e Forum fir d\'Redakteren. Dir k&euml;nnt hei nach e Forum, just fir d\'Administrateuren, aschalten.',
'info_forum_statistiques' => 'Statistik vun de Visiten',
'info_forums_abo_invites' => '&Auml;re Site huet Forum\'en wou een sech umelden muss; d\'Visiteuren ginn also agelueden s&euml;ch ze enregistr&eacute;ieren.',
'info_gauche_admin_effacer' => '<b>D&euml;s S&auml;it ass fir d&eacute;i Responsabel vum Site reserv&eacute;iert.</b><p />Si erlaabt d\'Maintenance-Aarbechten. Bei verschiddene Prozeduren muss een s&euml;ch iwwer FTP identifiz&eacute;ieren k&euml;nnen.',
'info_gauche_admin_tech' => '<b>D&euml;s S&auml;it ass fir d&eacute;i Responsabel vum Site reserv&eacute;iert.</b><p />Si erlaabt d\'Maintenance-Aarbechten. Bei verschiddene Prozeduren muss een s&euml;ch iwwer FTP identifiz&eacute;ieren k&euml;nnen.',
'info_gauche_admin_vider' => '<b>D&euml;s S&auml;it ass fir d&eacute;i Responsabel vum Site reserv&eacute;iert.</b><p />Si erlaabt d\'Maintenance-Aarbechten. Bei verschiddene Prozeduren muss een s&euml;ch iwwer FTP identifiz&eacute;ieren k&euml;nnen.',
'info_gauche_auteurs' => 'Hei fannt dir all d\'Auteur\'en vum Site.
Hiren Zoustand ass duerch d\'Faarw ugewisen (Administrateur = gr&eacute;ng; Redakter = giel).',
'info_gauche_auteurs_exterieurs' => 'D&eacute;i extern Auteuren ouni Zougang zum Site sinn mat enger bloer Ikone mark&eacute;iert, d&eacute;i gel&auml;schten Auteuren mat enger Drecksk&euml;scht.',
'info_gauche_messagerie' => 'D\'Messagerie erlaabt Iech Messagen un d\'Redakteren ze sch&eacute;cken, privat Notizen ze maachen oder Annoncen op d\'Starts&auml;it vum privaten Deel ze s&auml;tzen (wann d&euml;r Administrateur sidd).',
'info_gauche_numero_auteur' => 'AUTEUR NUMMER',
'info_gauche_numero_breve' => 'KUERZMELDUNG NUMMER',
'info_gauche_statistiques_referers' => 'D&euml;s S&auml;it weist d\'L&euml;scht vun de <I>Referer</I>, d&eacute;i Siten wou e Link op &auml;ren Site geklickt gouf, awer n&euml;mmen fir haut: d&euml;s L&euml;scht g&euml;t all 24 Stonnen op Null gesaat.',
'info_gauche_suivi_forum' => 'D\'S&auml;it <I>Gestioun Forum\'en</I> ass fir d\'Maintenance (an n&euml;t fir ze diskut&eacute;ieren oder ze schreiwen). Si weist all d\'Beitr&auml;g vum &ouml;ffentl&euml;che Forum fir d&euml;sen Artikel an erlaabt d&euml;s Beitr&auml;g ze g&eacute;r&eacute;ieren.',
'info_gauche_suivi_forum_2' => 'D\'S&auml;it <I>Suivi Forum\'en</I> erlaabt d\'Gestioun (a n&euml;t diskut&eacute;ieren oder schreiwen). Si weist all d\'Beitr&auml;g vun de Forum\'en vum Site, d&eacute;i &ouml;ffentl&euml;ch an d&eacute;i privat, an dir k&euml;nnt d\'Beitr&auml;g g&eacute;r&eacute;ieren.',
'info_gauche_visiteurs_enregistres' => 'Hei sinn d&eacute;i ageschriwen Visiteuren vum &ouml;ffentl&euml;chen Deel (Forum\'en op Abonnement).',
'info_generation_miniatures_images' => 'Miniaturen vun de Biller maachen',
'info_gerer_trad' => 'Iwwersetzungs-Linken aschalten?',
'info_groupe_important' => 'Wichtege Grupp',
'info_hebergeur_desactiver_envoi_email' => 'Verschidden Provider\'en erlaaben n&euml;t automat&euml;sch Email\'en ze sch&eacute;cken. An deem Fall fonktionn&eacute;iert dat hei n&euml;t.',
'info_hier' => 'g&euml;schter:',
'info_historique' => 'Versiounen:',
'info_historique_activer' => 'Versioning aschalten',
'info_historique_affiche' => 'Nei Versioun weisen',
'info_historique_comparaison' => 'Verglach',
'info_historique_desactiver' => 'Versioning ausschalten',
'info_historique_lien' => 'Historique vun den &Auml;nnerungen weisen',
'info_historique_texte' => 'De Versioning erlaabt den Historique vun allen &Auml;nnerungen vun engem Artikel an d\'Uweisen vun den &Euml;nnerscheeder t&euml;schent de Versiounen.',
'info_historique_titre' => 'Versioning',
'info_identification_publique' => '&Auml;r &ouml;ffentl&euml;ch Identit&eacute;it...',
'info_image_process' => 'Wielt d&eacute;i bescht Method fir Vignetten ze maachen an deem dier op d\'Bild klickt.',
'info_image_process2' => '<b>N.B.</b> <i>Wan dier kee Bild gesidd, dann ass de Server n&euml;t fir d&euml;s Fonktionnalit&eacute;it konfigur&eacute;iert. Wann dir se w&euml;llt benotzen, kontakt&eacute;iert een Techniker a froot fir d\'Extensiounen "GD" oder "Imagick".</i>',
'info_informations_personnelles' => 'F&ouml;nnefte Schr&euml;tt: <B>Pers&eacute;inl&euml;ch Informatiounen</B>',
'info_inscription_automatique' => 'Nei Redakteren automat&euml;sch aschreiwen',
'info_jeu_caractere' => 'Buchstawen-Kode vum Site',
'info_jours' => 'Deg',
'info_laisser_champs_vides' => 'd&euml;s Felder eidel loossen)',
'info_langues' => 'Sproochen vum Site',
'info_ldap_ok' => 'D\'Umeldung iwwer LDAP ass install&eacute;iert.',
'info_lien_hypertexte' => 'Link:',
'info_liens_syndiques_1' => 'Syndik&eacute;iert Linken',
'info_liens_syndiques_2' => 'waarden ob eng Validatioun.',
'info_liens_syndiques_3' => 'Forum\'en',
'info_liens_syndiques_4' => 'sinn',
'info_liens_syndiques_5' => 'Forum',
'info_liens_syndiques_6' => 'ass',
'info_liens_syndiques_7' => 'waarden op d\'Validatioun',
'info_liste_redacteurs_connectes' => 'L&euml;scht vun den ugemelden Redakteren',
'info_login_existant' => 'D&euml;se Login g&euml;t &euml;t schon.',
'info_login_trop_court' => 'De Login ass ze kuerz.',
'info_maximum' => 'Maximum:',
'info_meme_rubrique' => 'An d&euml;ser Rubrik',
'info_message' => 'Message vum',
'info_message_efface' => 'MESSAGE GEL&Auml;SCHT',
'info_message_en_redaction' => '&Auml;r Messagen an der Aarbecht',
'info_message_technique' => 'Techn&euml;schen Message:',
'info_messagerie_interne' => 'Intern Messagerie',
'info_mise_a_niveau_base' => '&Auml;r MySQL-Datebank updaten',
'info_mise_a_niveau_base_2' => '{{Opgepasst!}} Dier hutt eng {m&eacute;i al} Versioun vun de SPIP-Fichier\'en install&eacute;iert: &auml;r Datebank risk&eacute;iert verluer ze go&euml;n an &auml;re Site n&euml;t m&eacute;i ze fonktionn&eacute;ieren.<br>{{Install&eacute;iert d\'SPIP-Fichier\'en nach eng k&eacute;ier.}}',
'info_mode_fonctionnement_defaut_forum_public' => 'Default-Modus vun den &ouml;ffentl&euml;che Forum\'en',
'info_modifier_breve' => 'Kuerzmeldung &auml;nneren:',
'info_modifier_rubrique' => 'Rubrik &auml;nneren:',
'info_modifier_titre' => '&Auml;nneren: @titre@',
'info_mon_site_spip' => 'M&auml;in SPIP-Site',
'info_mot_sans_groupe' => '(Wieder ouni Grupp...)',
'info_moteur_recherche' => 'Integr&eacute;ierten Sich-Motor',
'info_mots_cles' => 'D\'Schl&euml;sselwieder',
'info_mots_cles_association' => 'D\'Schl&euml;sselwieder vun d&euml;sem Grupp k&euml;nnen associ&eacute;iert ginn:',
'info_moyenne' => 'Moyenne:',
'info_multi_articles' => 'De Sprooch-Menu bei den Artikelen aschalten?',
'info_multi_cet_article' => 'Sprooch vun d&euml;sem Artikel:',
'info_multi_langues_choisies' => 'Wielt hei d\'Sproochen aus d&eacute;i d\'Redakteren vun &auml;rem Site k&euml;nnen benotzen.
D&eacute;i schons gebrauchten Sproochen (als &eacute;ischt ugewisen) k&euml;nnen n&euml;t ausgeschalt ginn.',
'info_multi_rubriques' => 'Sprooche-Menu bei de Rubriken aschalten?',
'info_multi_secteurs' => '... n&euml;mmen fir d\'Haapt-Rubriken?',
'info_nom' => 'Numm',
'info_nom_destinataire' => 'Numm vum Destinataire',
'info_nom_site' => 'Numm vun &auml;rem Site',
'info_nom_site_2' => '<b>Numm vun &auml;rem Site</b> [Obligatoresch]',
'info_nombre_articles' => '@nb_articles@ Artikelen,',
'info_nombre_breves' => '@nb_breves@ Kuerzmeldungen,',
'info_nombre_partcipants' => 'HUELEN UN DER DISKUSSIOUN DEEL:',
'info_nombre_rubriques' => '@nb_rubriques@ Rubriken,',
'info_nombre_sites' => '@nb_sites@ Siten,',
'info_non_deplacer' => 'N&euml;t r&eacute;ckelen...',
'info_non_envoi_annonce_dernieres_nouveautes' => 'SPIP kann regelm&eacute;isseg eng Annonce vun de l&auml;schten Neiegkeeten vum Site sch&eacute;cken (d&eacute;i l&auml;scht publiz&eacute;iert Artikelen a Kuerzmeldungen).',
'info_non_envoi_liste_nouveautes' => 'Keng L&euml;scht vun de Neiegkeeten sch&eacute;cken',
'info_non_modifiable' => 'kann n&euml;t ge&auml;nnert ginn',
'info_non_suppression_mot_cle' => 'ech kann d&euml;st Schl&euml;sselwuert n&euml;t l&auml;schen.',
'info_notes' => 'Notizen',
'info_nouveaux_message' => 'Nei Messagen',
'info_nouvel_article' => 'Neien Artikel',
'info_nouvelle_traduction' => 'Nei Iwwersetzung:',
'info_numero_article' => 'ARTIKEL NUMMER:',
'info_obligatoire_02' => '[Obligatoresch]',
'info_option_accepter_visiteurs' => 'D\'Aschreiwung vu Visiteuren unhuelen',
'info_option_email' => 'Wann e Visiteur vum Site e neie Message an de Forum vun engem Artikel sch&eacute;ckt kennen d\'Auteuren vum Artikel via Email Bescheed kr&eacute;ien. W&euml;llt dir d&euml;s Optioun benotzen?',
'info_option_faire_suivre' => 'D\'Messagen vun de Forum\'en un d\'Auteuren vun den Artikelen sch&eacute;cken',
'info_option_ne_pas_accepter_visiteurs' => 'D\'Aschreiwung vu Visiteuren refus&eacute;ieren',
'info_option_ne_pas_faire_suivre' => 'D\'Messagen vun de Forum\'en n&euml;t sch&eacute;cken',
'info_options_avancees' => 'FORTGESCHR&Euml;TTEN OPTIOUNEN',
'info_ortho_activer' => 'D\'Orthographie aschalten',
'info_ortho_desactiver' => 'D\'Orthographie ausschalten',
'info_ou' => 'oder...',
'info_oui_suppression_mot_cle' => 'ech w&euml;ll d&euml;st Schl&euml;sselwuert definitiv l&auml;schen.',
'info_page_interdite' => 'S&auml;it gespaart',
'info_par_nombre_article' => '(no Zuel vun den Artikelen)',
'info_par_tri' => '(no @tri@)',
'info_pas_de_forum' => 'keen Forum',
'info_passe_trop_court' => 'Passwuert ze kuerz.',
'info_passes_identiques' => 'D&eacute;i zwee Passwieder si n&euml;t selwecht.',
'info_pense_bete_ancien' => '&Auml;r al Notizen',
'info_plus_cinq_car' => 'm&eacute;i w&eacute;i 5 Buchstawen',
'info_plus_cinq_car_2' => '(M&eacute;i w&eacute;i 5 Buchstawen)',
'info_plus_trois_car' => '(M&eacute;i w&eacute;i 3 Buchstawen)',
'info_popularite' => 'Popularit&eacute;it:&nbsp;@popularite@; Visiten:&nbsp;@visites@',
'info_popularite_2' => 'Popularit&eacute;it vum Site:',
'info_popularite_3' => 'Popularit&eacute;it:&nbsp;@popularite@; Visiten:&nbsp;@visites@',
'info_popularite_4' => 'Popularit&eacute;it:&nbsp;@popularite@; Visiten:&nbsp;@visites@',
'info_popularite_5' => 'Popularit&eacute;it:',
'info_post_scriptum' => 'Post-Scriptum',
'info_post_scriptum_2' => 'Post-scriptum:',
'info_pour' => 'fir',
'info_preview_admin' => 'N&euml;mmen d\'Administrateuren k&euml;nnen de Site pr&eacute;visualis&eacute;ieren',
'info_preview_comite' => 'All d\'Redakteren k&euml;nnen de Site previsualis&eacute;ieren',
'info_preview_desactive' => 'D\'Pr&eacute;visualisatioun ass ausgeschalt',
'info_preview_texte' => 'Dir k&euml;nnt de Site pr&eacute;visualis&eacute;ieren w&eacute;i wann all d\'Artikelen an d\'Kuerzmeldungen (d&eacute;i op manst de Status "props&eacute;iert" hunn) publiz&eacute;iert w&auml;ren. Soll d&euml;s M&eacute;iglechkeet fir just d\'Administrateuren, fir all d\'Redakteren oder fir keen g&euml;llen.',
'info_principaux_correspondants' => '&Auml;r wichtegst Korrespondenten',
'info_procedez_par_etape' => 'gidd Schr&euml;tt fir Schr&euml;tt fir',
'info_procedure_maj_version' => 'D\'Update-Prozedur muss ausgef&eacute;iert ginn fir &auml;r Datebank un d&eacute;i nei SPIP-Versioun unzepassen.',
'info_ps' => 'P.S.',
'info_publies' => '&Auml;r publiz&eacute;iert Artikelen',
'info_question_accepter_visiteurs' => 'Wann &auml;r Skeletter d\'Aschreiwung vu Visiteuren ouni Zougang op de privaten Deel virgesinn, da schalt d\'Optioun hei dr&euml;nner an:',
'info_question_gerer_statistiques' => 'Soll &auml;re Site d\'Statistik vun de Visiten g&eacute;r&eacute;ieren?',
'info_question_inscription_nouveaux_redacteurs' => 'Accept&eacute;iert dier d\'Aschreiwen vu neie Redakteren direkt vum &ouml;ffentl&euml;che Site? Wa jo, da k&euml;nnen d\'Visiteuren s&euml;ch iwwert een automat&euml;sche Formulaire aschreiwen an esou Zougang op de privaten Deel kr&eacute;ien fir hir Artikelen ze propos&eacute;ieren. <blockquote><i>W&auml;hrend der Aschreiwungs-Phase kr&eacute;ien d\'Benotzer automat&euml;sch en Email mat hieren Zougangsinformatiounen. Verschidde Provideren verbidden d\'Sch&eacute;cken vun Email vun hieren Serveren: an deem Fall ass d\'automat&euml;sch Aschreiwen onm&eacute;iglech.',
'info_question_mots_cles' => 'W&euml;llt dir Schl&euml;sselwieder op &auml;rem Site benotzen?',
'info_question_proposer_site' => 'Wie kann e Site propos&eacute;ieren?',
'info_question_utilisation_moteur_recherche' => 'W&euml;llt dir de Sich-Motor vu SPIP benotzen?
(ausschalten m&euml;cht de System m&eacute;i s&eacute;ier.)',
'info_qui_attribue_mot_cle' => 'D\'Wieder vun d&euml;sem Grupp k&euml;nnen verdeelt ginn vun:',
'info_racine_site' => 'Wuerzel vum Site',
'info_recharger_page' => 'Lued d&euml;s S&auml;it an e puer Sekonnen nei.',
'info_recherche_auteur_a_affiner' => 'Zevill Resultater fir "@cherche_auteur@"; verbessert &auml;r Sich.',
'info_recherche_auteur_ok' => 'E puer Redakteren fonnt fir "@cherche_auteur@":',
'info_recherche_auteur_zero' => '<B>Keen Resultat fir "@cherche_auteur@".',
'info_recommencer' => 'F&auml;nkt weg nei un.',
'info_redacteur_1' => 'Redakter',
'info_redacteur_2' => 'mat Zougang zum privaten Deel (<i>recommand&eacute;iert</i>)',
'info_redacteurs' => 'Redakteren',
'info_redaction_en_cours' => 'AN DER AARBECHT',
'info_redirection' => '&Euml;mledung',
'info_refuses' => '&Auml;r refus&eacute;iert Artikelen',
'info_reglage_ldap' => 'Optiounen: <B>Astellen vum LDAP-Import</B>',
'info_renvoi_article' => '<B>&Euml;mledung.</B> D&euml;sen Artikel weist op d\'S&auml;it:',
'info_reserve_admin' => 'N&euml;mmen d\'Administrateuren k&euml;nnen d&euml;s Adress &auml;nneren.',
'info_restauration_sauvegarde' => 'Restauratioun vum Backup @archive@',
'info_restreindre_rubrique' => 'D\'Gestioun aschr&auml;nken op d\'Rubrik:',
'info_resultat_recherche' => 'Resultater vun der Sich:',
'info_rubriques' => 'Rubriken',
'info_rubriques_02' => 'Rubriken',
'info_rubriques_liees_mot' => 'Un d&euml;st Schl&euml;sselwuert gebonnen Rubriken',
'info_rubriques_trouvees' => 'Rubriken fonnt',
'info_rubriques_trouvees_dans_texte' => 'Rubriken fonnt (am Text)',
'info_sans_titre' => 'Ouni Titel',
'info_sauvegarde' => 'Backup',
'info_sauvegarde_articles' => 'Artikelen sp&auml;icheren',
'info_sauvegarde_articles_sites_ref' => 'Artikelen vun de referenz&eacute;ierten Siten sp&auml;icheren',
'info_sauvegarde_auteurs' => 'Auteuren sp&auml;icheren',
'info_sauvegarde_breves' => 'Kuerzmeldungen sp&auml;icheren',
'info_sauvegarde_documents' => 'Dokumenter sp&auml;icheren',
'info_sauvegarde_echouee' => 'Wann de Backup n&euml;t fonktionn&eacute;iert ("Maximum execution time exceeded"),',
'info_sauvegarde_forums' => 'Forum\'en sp&auml;icheren',
'info_sauvegarde_groupe_mots' => 'Schl&euml;sselwieder-Gruppen sp&auml;icheren',
'info_sauvegarde_messages' => 'Messagen sp&auml;icheren',
'info_sauvegarde_mots_cles' => 'Schl&euml;sselwieder sp&auml;icheren',
'info_sauvegarde_petitions' => 'Petitiounen sp&auml;icheren',
'info_sauvegarde_refers' => 'Referer\'en sp&auml;icheren',
'info_sauvegarde_reussi_01' => 'Backup f&auml;rdeg.',
'info_sauvegarde_reussi_02' => 'De Backup vun der Datebank ass <b>ecrire/data/@archive@</b>. Dir k&euml;nnt',
'info_sauvegarde_reussi_03' => 'zer&euml;ck bei d\'Gestioun',
'info_sauvegarde_reussi_04' => 'vun &auml;rem Site.',
'info_sauvegarde_rubriques' => 'Rubriken sp&auml;icheren',
'info_sauvegarde_signatures' => '&Euml;nnerschr&euml;ften vun de Petitiounen sp&auml;icheren',
'info_sauvegarde_sites_references' => 'Referenz&eacute;iert Siten sp&auml;icheren',
'info_sauvegarde_type_documents' => 'Dokument-Typen sp&auml;icheren',
'info_sauvegarde_visites' => 'Visiten sp&auml;icheren',
'info_selection_chemin_acces' => '<b>Wielt</b> hei de Wee fir den Annuaire:',
'info_selection_un_seul_mot_cle' => 'Dir k&euml;nnt <b>&euml;mmer n&euml;mmen een Schl&euml;sselwuert</b> an d&euml;sem Grupp wielen.',
'info_signatures' => '&Euml;nnerschr&euml;ften',
'info_site' => 'Site',
'info_site_2' => 'Site:',
'info_site_min' => 'Site',
'info_site_propose' => 'Site propos&eacute;iert den:',
'info_site_reference_2' => 'Referenz&eacute;ierten Site',
'info_site_syndique' => 'D&euml;se Site ass syndiqu&eacute;iert...',
'info_site_valider' => 'Siten ze valid&eacute;ieren',
'info_site_web' => 'SITE:',
'info_sites' => 'Siten',
'info_sites_lies_mot' => 'Un d&euml;st Schl&euml;sselwuert gebonnen referenz&eacute;iert Siten',
'info_sites_proxy' => 'Proxy benotzen',
'info_sites_refuses' => 'D&eacute;i refus&eacute;iert Siten',
'info_sites_trouves' => 'Siten fonnt',
'info_sites_trouves_dans_texte' => 'Siten fonnt (am Text)',
'info_sous_titre' => '&Euml;nnertitel:',
'info_statut_administrateur' => 'Administrateur',
'info_statut_auteur' => 'Status vun d&euml;sem Auteur:',
'info_statut_efface' => 'Gel&auml;scht',
'info_statut_redacteur' => 'Redakter',
'info_statut_site_1' => 'D&euml;se Site ass:',
'info_statut_site_2' => 'Publiz&eacute;iert',
'info_statut_site_3' => 'Propos&eacute;iert',
'info_statut_site_4' => 'An der Drecksk&euml;scht',
'info_statut_utilisateurs_1' => 'Default-Status vun den import&eacute;ierten Auteuren',
'info_statut_utilisateurs_2' => 'Wielt de Status vun den Persounen aus dem LDAP-Annuaire d&eacute;i sech fir d\'&eacute;ischt umelden. Dier k&euml;nnt duerno d&euml;s Valeur pro Auteur &auml;nneren.',
'info_suivi_activite' => 'Suivi vun der editorialer Aktivit&eacute;it',
'info_supprimer_mot' => 'd&euml;st&nbsp;Wuert&nbsp;l&auml;schen',
'info_surtitre' => 'Iwwertitel:',
'info_taille_maximale_vignette' => 'Maximal-Gr&eacute;isst vun de Vignetten d&eacute;i vum System gemaach ginn:',
'info_terminer_installation' => 'Dier k&euml;nnt elo d&eacute;i normal Installatiouns-Prozedur ofschl&eacute;issen.',
'info_texte' => 'Text',
'info_texte_explicatif' => 'Erkl&auml;rung',
'info_texte_long' => '(den Text ass laang: en ass an e puer St&eacute;cker d&eacute;i bei der Validatioun zesummen gepecht ginn.)',
'info_texte_message' => 'Text vun &auml;rem Message:',
'info_texte_message_02' => 'Text vun &auml;rem Message',
'info_titre' => 'Titel:',
'info_titre_mot_cle' => 'Numm oder Titel vum Schl&euml;sselwuert',
'info_total' => 'Total:',
'info_tous_articles_en_redaction' => 'All d\'Artikelen an der Aarbecht',
'info_tous_articles_presents' => 'All d\'Artikelen d&eacute;i an d&euml;ser Rubrik publiz&eacute;iert sinn',
'info_tous_les' => 'all:',
'info_tous_redacteurs' => 'Annoncen un all d\'Redakteren',
'info_tout_site' => 'De ganzen Site',
'info_tout_site2' => 'D&euml;sen Artikel ass n&euml;t an d&eacute;i Sprooch iwwersaat.',
'info_tout_site3' => 'Den Artikel ass an d&eacute;i Sprooch iwwersaat, mais de Referenz-Artikel ass ge&auml;nnert ginn. D\'Iwwersetzung muss och ge&auml;nnert ginn.',
'info_tout_site4' => 'Den Artikel ass an d&eacute;i Sprooch iwwersaat, an d\'Iwwersetzung ass &agrave; jour.',
'info_tout_site5' => 'Original-Artikel.',
'info_tout_site6' => '<b>Opgepasst:</b> n&euml;mmen d\'Original-Artikelen si gewisen. D\'Iwwersetzungen geh&eacute;ieren zum Original, mat enger Faarw d&eacute;i hieren Zoustand weist:',
'info_travail_colaboratif' => 'Zesummenaarbecht bei den Artikelen',
'info_un_article' => 'en Artikel,',
'info_un_mot' => 'Wuert fir Wuert',
'info_un_site' => 'e Site,',
'info_une_breve' => 'eng Kuerzmeldung,',
'info_une_rubrique' => 'eng Rubrik,',
'info_une_rubrique_02' => '1 Rubrik',
'info_url' => 'URL:',
'info_url_site' => 'URL VUM SITE:',
'info_urlref' => 'Link:',
'info_utilisation_spip' => 'Dir k&euml;nnt elo de System benotzen...',
'info_visites_par_mois' => 'Visiten pro Mount:',
'info_visites_plus_populaires' => 'Visiten weisen fir <b>d&eacute;i popul&auml;rsten</b> a fir <b>d&eacute;i l&auml;scht publiz&eacute;iert</b> Artikelen:',
'info_visiteur_1' => 'Visiteur',
'info_visiteur_2' => 'vum &ouml;ffentl&euml;che Site',
'info_visiteurs' => 'Visiteuren',
'info_visiteurs_02' => 'Visiteuren vum &ouml;ffentl&euml;che Site',
'install_select_langue' => 'Wielt eng Sprooch a klickt op de Kn&auml;ppchen "Weider" fir d\'Installatioun ze starten.',
'intem_redacteur' => 'Redakter',
'item_accepter_inscriptions' => 'Aschreiwungen unhuelen',
'item_activer_forum_administrateur' => 'De Forum vun den Adminstrateuren aschalten',
'item_activer_messages_avertissement' => 'Warnungen aschalten',
'item_administrateur_2' => 'Administrateur',
'item_afficher_calendrier' => 'Am Kalenner weisen',
'item_ajout_mots_cles' => 'Schl&euml;sselwieder an de Forum\'en erlaben',
'item_autoriser_documents_joints' => 'Dokumenter bei den Artikelen erlaben',
'item_autoriser_documents_joints_rubriques' => 'Dokumenter an de Rubriken erlaben',
'item_bloquer_liens_syndiques' => 'D&eacute;i syndiqu&eacute;iert Linken fir eng Validatioun block&eacute;ieren',
'item_breve_refusee' => 'NEEN - Kuerzmeldung refus&eacute;iert',
'item_breve_validee' => 'JO - Kuerzmeldung valid&eacute;iert',
'item_choix_administrateurs' => 'd\'Administrateuren',
'item_choix_generation_miniature' => 'Automat&euml;sch Miniaturen vun de Biller maachen.',
'item_choix_non_generation_miniature' => 'Keng Miniaturen vun de Biller maachen.',
'item_choix_redacteurs' => 'd\'Redakteren',
'item_choix_visiteurs' => 'd\'Visiteuren vum &ouml;ffentl&euml;che Site',
'item_creer_fichiers_authent' => 'D\'Fichier\'en .htpasswd maachen',
'item_desactiver_forum_administrateur' => 'De Forum vun den Administrateuren ofschalten',
'item_gerer_annuaire_site_web' => 'Eng Link-Sammlung maachen',
'item_gerer_statistiques' => 'Statistik maachen',
'item_limiter_recherche' => 'D\'Sich vun den Informatiounen op &auml;re Site limit&eacute;ieren',
'item_login' => 'Login',
'item_mots_cles_association_articles' => 'vun den Artikelen',
'item_mots_cles_association_breves' => 'vun de Kuerzmeldungen',
'item_mots_cles_association_rubriques' => 'vun de Rubriken',
'item_mots_cles_association_sites' => 'vun de referenz&eacute;ierten oder syndiqu&eacute;ierten Siten.',
'item_non' => 'Neen',
'item_non_accepter_inscriptions' => 'Keng Aschreiwung unhuelen',
'item_non_activer_messages_avertissement' => 'Keng Warnungen',
'item_non_afficher_calendrier' => 'Kee Kalenner weisen',
'item_non_ajout_mots_cles' => 'D\'Schl&euml;sselwieder an de Forum\'en verbidden',
'item_non_autoriser_documents_joints' => 'Keng Dokumenter bei den Artikelen erlaben',
'item_non_autoriser_documents_joints_rubriques' => 'Keng Dokumenter an de Rubriken erlaben',
'item_non_bloquer_liens_syndiques' => 'D\'Linken aus der Syndicatioun n&euml;t block&eacute;ieren',
'item_non_creer_fichiers_authent' => 'D&euml;s Fichier\'en n&euml;t maachen',
'item_non_gerer_annuaire_site_web' => 'D\'Link-Sammlung ausschalten',
'item_non_gerer_statistiques' => 'D\'Statistik ausschalten',
'item_non_limiter_recherche' => 'D\'Sich op den Inhalt vun de referenz&eacute;ierten Siten erweideren',
'item_non_publier_articles' => 'D\'Artikelen n&euml;t virun dem Publikatiouns-Datum fr&auml;ischalten.',
'item_non_utiliser_breves' => 'D\'Kuerzmeldungen ausschalten',
'item_non_utiliser_config_groupe_mots_cles' => 'D&eacute;i erweidert Konfiguratioun vun de Schl&euml;sselwieder ausschalten',
'item_non_utiliser_moteur_recherche' => 'De Sich-Motor ausschalten',
'item_non_utiliser_mots_cles' => 'D\'Schl&euml;sselwieder ausschalten',
'item_non_utiliser_syndication' => 'D&eacute;i automatesch Syndicatioun ausschalten',
'item_nouvel_auteur' => 'Neien Auteur',
'item_nouvelle_breve' => 'Nei Kuerzmeldung',
'item_nouvelle_rubrique' => 'Nei Rubrik',
'item_oui' => 'Jo',
'item_publier_articles' => 'D\'Artikelen, egal w&eacute;i e Publikatiouns-Datum, fr&auml;ischalten',
'item_reponse_article' => '&Auml;ntwert op den Artikel',
'item_utiliser_breves' => 'D\'Kuerzmeldungen aschalten',
'item_utiliser_config_groupe_mots_cles' => 'D&eacute;i erweidert Konfiguratioun vun de Schl&euml;sselwieder aschalten',
'item_utiliser_moteur_recherche' => 'De Sich-Motor aschalten',
'item_utiliser_mots_cles' => 'D\'Schl&euml;sselwieder aschalten',
'item_utiliser_syndication' => 'D&eacute;i automatesch Syndicatioun aschalten',
'item_visiteur' => 'Visiteur',


// J
'jour_non_connu_nc' => '?',


// L
'lien_ajout_destinataire' => 'Destinataire derb&auml;i setzen',
'lien_ajouter_auteur' => 'D&euml;sen Auteur derb&auml;i setzen',
'lien_ajouter_participant' => 'E Mataarbechter derb&auml;i setzen',
'lien_email' => 'Email',
'lien_forum_public' => '&Ouml;ffentl&euml;che Forum vum Artikel aschalten',
'lien_mise_a_jour_syndication' => 'Elo updaten',
'lien_nom_site' => 'NUMM VUM SITE:',
'lien_nouvelle_recuperation' => 'Eng nei Restauratioun vun den Daten prob&eacute;ieren',
'lien_reponse_article' => '&Auml;ntwert op den Artikel',
'lien_reponse_breve' => '&Auml;ntwert op d\'Kuerzmeldung',
'lien_reponse_breve_2' => '&Auml;ntwert op d\'Kuerzmeldung',
'lien_reponse_rubrique' => '&Auml;ntwert op d\'Rubrik',
'lien_reponse_site_reference' => '&Auml;ntwert op de referenz&eacute;ierten Site:',
'lien_retirer_auteur' => 'Auteur l&auml;schen',
'lien_retrait_particpant' => 'Mataarbechter l&auml;schen',
'lien_site' => 'Site',
'lien_supprimer_rubrique' => 'd&euml;s Rubrik l&auml;schen',
'lien_tout_deplier' => 'Alles opklappen',
'lien_tout_replier' => 'Alles zouklappen',
'lien_trier_nom' => 'No Numm sort&eacute;ieren',
'lien_trier_nombre_articles' => 'No Zuel vun den Artikelen sort&eacute;iren',
'lien_trier_statut' => 'No Status sort&eacute;ieren',
'lien_voir_en_ligne' => 'ONLINE KUCKEN:',
'logo_article' => 'LOGO VUM ARTIKEL',
'logo_auteur' => 'LOGO VUM AUTEUR',
'logo_breve' => 'LOGO VUN DER KUERZMELDUNG',
'logo_mot_cle' => 'LOGO VUM SCHL&Euml;SSELWUERT',
'logo_rubrique' => 'LOGO VUN DER RUBRIK',
'logo_site' => 'LOGO VUM SITE',
'logo_standard_rubrique' => 'STANDARD-LOGO VUN DE RUBRIKEN',
'logo_survol' => 'LOGO FIR DE MOUSEOVER',


// M
'menu_aide_installation_choix_base' => 'Wiel vun &auml;rer Datebank',
'module_fichier_langue' => 'Sprooche-Fichier',
'module_raccourci' => 'Ofkiirzung',
'module_texte_affiche' => 'Gewisenen Text',
'module_texte_explicatif' => 'Dir k&euml;nnt d&euml;s Ofkiirzungen an de Skelett vum &ouml;ffentl&euml;che Site abauen. Si ginn automat&euml;sch an d&eacute;i Sproochen iwwersat wou &euml;t e Sprooche-Fichier g&euml;tt.',
'module_texte_traduction' => 'De Sprooche-Fichier &laquo;&nbsp;@module@&nbsp;&raquo; g&euml;tt et op:',
'mois_non_connu' => 'onbekannt',


// O
'onglet_repartition_actuelle' => 'elo',
'ortho_ajouter_ce_mot' => 'D&euml;st Wuert an den Dictionnaire derb&auml;i setzen',
'ortho_aucune_suggestion' => 'Keng Suggestioun fonnt fir d&euml;st Wuert.',
'ortho_avis_privacy' => 'En Orthographie-Korrektor ass a SPIP integr&eacute;ert. Ier dier d&euml;s Fonktionnalit&eacute;it aschalt, liest w.e.g. de n&auml;chsten Abschnit:',
'ortho_avis_privacy2' => 'Fir d\'Orthographie vun engem Text ze kontroll&eacute;ieren, sch&eacute;ckt de Site d\'L&euml;scht vun de Wieder op en externen "Orthographie-Server" deen vun de Memberen vun der SPIP-Communaut&eacute;it bereed gestalt g&euml;tt. D\'Wieder ginn duergerneen gesch&eacute;ckt fir e Minimum vun Vertraul&euml;chkeet ze garant&eacute;ieren. Wann dir &euml;m &auml;r Daten besuergt sidd, da schalt d&euml;s Optioun n&euml;t an (an huelt direkt &auml;r Informationen vum Internet erof).',
'ortho_ce_mot_connu' => 'D&euml;st Wuert g&euml;t &euml;t am Dictionnaire vum Site.',
'ortho_dico_absent' => 'Fir d&euml;s Sprooch gouf keen Dictionnaire fonnt.',
'ortho_mode_demploi' => 'D&eacute;i onbekannte Wieder si roud mark&eacute;iert. Dir k&euml;nnt op all Wuert klicken fir Viirsch&eacute;i fir d\'Korrektur ze gesinn.',
'ortho_mots_a_corriger' => 'Wieder ze verbesseren',
'ortho_orthographe' => 'Orthographie',
'ortho_supprimer_ce_mot' => 'D&euml;st Wuert aus dem Dictionnaire l&auml;schen',
'ortho_trop_de_fautes' => 'Opgepasst: &auml;ren Text huet zevill Fehler, &euml;t g&euml;t keng Korrektur virgeschlo&euml;n fir de System n&euml;t ze iwwerlaaschten.',
'ortho_verif_impossible' => 'De System kann d\'Orthographie vun d&euml;sem Text n&euml;t kontroll&eacute;ieren.',
'ortho_verifier' => 'Orthographie kontroll&eacute;ieren',


// S
'statut_admin_restreint' => '(restriktiven Admin)',


// T
'taille_cache_infinie' => 'D&euml;se Site huet keng Limite fir d\'Gr&eacute;isst vum Dossier <code>CACHE/</code>.',
'taille_cache_maxi' => 'SPIP prob&eacute;iert d\'Gr&eacute;isst vum Dossier <code>CACHE/</code> vun d&euml;sem Site op ongef&eacute;ier <b>@octets@</b> ze limit&eacute;ieren.',
'taille_cache_octets' => 'D\'Gr&eacute;isst vum Cache ass elo @octets at .',
'taille_cache_vide' => 'De Cache ass eidel.',
'taille_repertoire_cache' => 'Gr&eacute;isst vum Cache-Dossier',
'text_article_propose_publication' => 'Fir d\'Publikatioun propos&eacute;ierten Artikel. Gidd &auml;ren Avis iwwer de Forum vun d&euml;sem Artikel (&euml;nnen op der S&auml;it).',
'texte_acces_ldap_anonyme_1' => 'Verschidden LDAP-Serveren erlaben keen anonymen Zougang. An deem Fall musst dir en initialen Zougang uginn fir Informatiounen am Annuaire k&euml;nnen ze sichen. An deenen meeschten F&auml;ll k&euml;nnt d&euml;r d&euml;s Felder eidel loossen.',
'texte_admin_effacer_01' => 'D&euml;s Prozedur l&auml;scht <i>alles</i> aus der Datebank, och <i>all</i> Zoug&auml;ng vun de Redakteren an Administrateuren. Duerno musst dir SPIP nei install&eacute;ieren fir eng nei Datebank an den &eacute;ischten Administrateur-Zougang derb&auml;i ze setzen.',
'texte_admin_tech_01' => 'D&euml;s Optioun erlaabt den Inhalt vun der Datebank am Dossier <i>ecrire/data/</i> ze sp&auml;icheren. Vergiesst n&euml;t och de ganzen Inhalt vum Dossier <i>IMG/</i> erofzelueden, do sinn all d\'Biller an d\'Dokumenter d&eacute;i an den Artikelen an an de Rubriken gebraucht ginn.',
'texte_admin_tech_02' => 'Opgepasst: d&euml;se Backup kann n&euml;mmen op e Site mat ders&euml;lwechter SPIP-Versioun restaur&eacute;iert ginn. Versicht also nie "&nbsp;Datebank eidel maachen&nbsp;" an der Hoffnung dir kinnt se nei no engem Update install&eacute;ieren... Kuckt <a href="http://www.spip.net/fr_article1489.html">an der SPIP-Dokumentatioun</a>.',
'texte_admin_tech_03' => 'Dir k&euml;nnt de Fichier komprim&eacute;iert sp&auml;icheren fir m&eacute;i e s&eacute;ieren Downlued oder Transfert op e Backup-Server, a fir Disk-Plaz ze spueren.',
'texte_adresse_annuaire_1' => '(Wann &auml;ren Annuaire op ders&euml;lwechter Maschinn install&eacute;iert ass, dann as et hei warscheinl&euml;ch "localhost".)',
'texte_ajout_auteur' => 'D&euml;sen Auteur gouf beim Artikel derb&auml;i gesat:',
'texte_annuaire_ldap_1' => 'Wann dir Zougang zu engem Annuaire (LDAP) hutt, da k&euml;nnt dir e benotzen fir automat&euml;sch d\'Benotzer vu SPIP ze import&eacute;ieren.',
'texte_article_statut' => 'D&euml;sen Artikel ass:',
'texte_article_virtuel' => 'Virtuellen Artikel',
'texte_article_virtuel_reference' => '<b>Virtuellen Artikel:</b> am SPIP agedro&euml;n, mais op eng aner URL &euml;mgeleed. Fir d\'&Euml;mledung ze l&auml;schen, l&auml;scht d\'URL hei driwwer.',
'texte_aucun_resultat_auteur' => 'Kee Resultat fir "@cherche_auteur@"',
'texte_auteur_messagerie' => 'De Site kann Iech dauernd d\'L&euml;scht vun den ugemelten Redakteren weisen, fir dat dier hinnen direkt Messagen k&euml;nnt sch&eacute;cken. Dir k&euml;nnt d&eacute;cid&eacute;ieren n&euml;t an der L&euml;scht ze sinn (dir sidd "onsichtbar" fir d&eacute;i aner Benotzer).',
'texte_auteur_messagerie_1' => 'De Site erlaabt den Austausch vu Messagen a privat Forum\'en t&euml;schent den Mataarbechter. Dir k&euml;nnt d&eacute;cid&eacute;ieren n&euml;t dorun deelzehuelen.',
'texte_auteurs' => 'D\'AUTEUREN',
'texte_breves' => 'D\'Kuerzmeldungen si kuerz an einfach Texter d&eacute;i Iech erlaben Informatiounen s&eacute;ier ze publiz&eacute;ieren, eng Presse-Revue ze maachen, en Agenda ze weisen...',
'texte_choix_base_1' => 'Wielt &auml;r Datebank:',
'texte_choix_base_2' => 'De MySQL-Server huet e puer Datebanken.',
'texte_choix_base_3' => '<B>Wielt</B> hei d&eacute;i d&eacute;i Iech vun &auml;rem Provider zougewisen gouf:',
'texte_commande_vider_tables_indexation' => 'Benotzt d&euml;s Prozedur fir d\'Index-Tabellen vum SPIP Sich-Motor eidel ze maachen. Domat gewant dir Disk-Plaz.',
'texte_comment_lire_tableau' => 'D\'Plaz vum Artikel am Klassement no Popularit&eacute;it steet am Rand; d\'Popularit&eacute;it vum Artikel (eng Estimatioun vun der Zuel vun de Visiten pro Dag wann &euml;t esou weidergeet) an Zuel vun de Visiten z&euml;nter Ufank stinn an der Erkl&auml;rung d&eacute;i ersch&eacute;ngt wann dier mat der Maus iwwer den Titel fuert.',
'texte_compresse_ou_non' => '(dee kann komprim&eacute;iert sinn oder n&euml;t)',
'texte_compte_element' => '@count@ Element',
'texte_compte_elements' => '@count@ Elementer',
'texte_config_groupe_mots_cles' => 'W&euml;ll dir d&eacute;i erweidert Astellung vun de Schl&euml;sselwieder, fir z.B. unzeginn dat een een eenzegt Wuert pro Grupp kann auswielen, dat e Grupp wichteg ass...?',
'texte_connexion_mysql' => 'Kuckt d\'Informatiounen vun &auml;rem Provider: wann hien MySQL huet, da fannt d&euml;r do d\'Zougangs-Coden fir de MySQL-Server.',
'texte_contenu_article' => '(Inhalt vum Artikel an e puer Wieder.)',
'texte_contenu_articles' => 'Je no Design vun &auml;rem Site k&euml;nnt dier wielen ob verschidden Elementer vun den Artikelen n&euml;t benotzt ginn.
Benotzt d\'L&euml;scht hei dr&euml;nner fir unzegin w&eacute;i eng Elementer e kann benotzen.',
'texte_crash_base' => 'Wann &auml;r Datebank ofgestiertz ass, da k&euml;nnt d&euml;r eng automatesch Reparatur prob&eacute;ieren.',
'texte_creer_rubrique' => 'Ier dier k&euml;nnt en Artikel schreiwen, musst dier eng Rubrik derb&auml;i setzen.',
'texte_date_creation_article' => 'ARTIKEL DERB&Auml;I GESAT DEN:',
'texte_date_publication_anterieure' => '&Eacute;ISCHTEN PUBLIKATIOUNS-DATUM:',
'texte_date_publication_anterieure_nonaffichee' => '&Eacute;ischten Publikatiouns-Datum n&euml;t weisen.',
'texte_date_publication_article' => 'PUBLIZ&Eacute;IRT DEN:',
'texte_demander_blocage_priori' => 'D&eacute;i n&auml;chst Linken vun d&euml;sem Site ginn fir d\'&eacute;ischt emol block&eacute;iert.',
'texte_descriptif_petition' => 'Beschreiwung vun der Petitioun',
'texte_descriptif_rapide' => 'Kuerz Beschreiwung',
'texte_documents_joints' => 'Dir k&euml;nnt Dokumenter (Fichier\'en, Biller, Multimedia, asw) bei den Artikelen an/oder de Rubriken erlaben. D&euml;s Fichier\'en k&euml;nnen dann am Artikel gelinkt oder separat ugewisen ginn.<p />',
'texte_documents_joints_2' => 'D&euml;s Astellung verh&euml;nnert n&euml;t Biller direkt an den Artikel derb&auml;i ze setzen.',
'texte_effacer_base' => 'D\'SPIP-Datebank l&auml;schen',
'texte_effacer_donnees_indexation' => 'Den Index l&auml;schen',
'texte_en_cours_validation' => 'D&euml;s Artikelen a Kuerzmeldungen sinn fir d\'Publikatioun propos&eacute;iert. Gidd &auml;ren Avis am Forum deen dozou geheiert.',
'texte_enrichir_mise_a_jour' => 'Dir k&euml;nnt de Layout verbesseren mat "typographeschen Ofkiirzungen".',
'texte_fichier_authent' => '<b>Soll SPIP d&eacute;i speziell Fichier\'en <tt>.htpasswd</tt> an <tt>.htpasswd-admin</tt> am Dossier <tt>ecrire/data/</tt> maachen?</b><p />
D&euml;s Fichier\'en k&euml;nnen den Zougang vun den Auteuren an den Administrateuren op verschidden Deeler vum Site kontroll&eacute;ieren (externen Statistik-Programm z.B.).<p />
Wann dir dat n&euml;t braucht, da loosst d&euml;s Optioun op senger Default-Valeur (Fichier\'en n&euml;t maachen).',
'texte_informations_personnelles_1' => 'De System g&euml;t Iech elo e personnalis&eacute;ierten Zougang zum Site.',
'texte_informations_personnelles_2' => '(N.B.: wann &euml;t eng Re-Installatioun ass, a wann &auml;ren Zougang nach fonktionn&eacute;iert,',
'texte_introductif_article' => '(Aleedung vum Artikel.)',
'texte_jeu_caractere' => 'D&euml;s Option brauch d&euml;r wann der w&euml;lt aner Alphabeter w&eacute;i dat r&eacute;imescht (oder "occidental") an seng Derivater weisen.
An dem Fall ass et besser den Default g&eacute;int de richtegen Character-Set ze tauschen; maacht e puer Tester fir d&eacute;i richteg Astellung ze fannen. Wann d&euml;r d&euml;sen Parameter &auml;nnert, vergiesst n&euml;t den &ouml;ffentl&euml;chen Site och ze &auml;nneren (den Tag <tt>#CHARSET</tt>).',
'texte_jeu_caractere_2' => 'D&euml;s Astellung ass n&euml;t retroaktiv. D&eacute;i al Texter k&euml;nnen falsch ugewisen ginn no enger &Auml;nnerung. Dir kommt awer ouni Schued er&euml;m op d&eacute;i l&auml;scht Astellung zer&euml;ck.',
'texte_lien_hypertexte' => '(Wann &auml;re Message sech op een Artikel um Internet, oder op eng S&auml;it mat m&eacute;i Informatiounen bezitt, da gitt hei s&auml;in Titel an seng URL an.)',
'texte_liens_sites_syndiques' => 'D\'Linken vun de syndiqu&eacute;ierten Siten k&euml;nnen fir d\'&eacute;ischt mol block&eacute;iert ginn; d&eacute;i Astellung ass den Default fir d&eacute;i nei syndiqu&eacute;iert Siten. Duerno kann een all Link eenzel deblock&eacute;ieren, oder Site fir Site block&eacute;ieren oder n&euml;t.',
'texte_liens_syndication' => 'D&eacute;i n&auml;chst Linken vun d&euml;sem Site ginn direkt online gewisen.',
'texte_login_ldap_1' => '(Eidel loossen fir en anonymen Zougang,  oder de kompletten Wee ugin, z.B. "&nbsp;<tt>uid=muller, ou=users, dc=domain, dc=com</tt>&nbsp;".)',
'texte_login_precaution' => 'Opgepasst! D&euml;st ass de Login mat dem dier ugemeld sidd.
Benotzt d&euml;sen Formulaire viirsichteg...',
'texte_message_edit' => 'Opgepasst: d&euml;se Message kann vun all Administrateur vum Site ge&auml;nnert ginn, an ass fir all Redakter sichtbar. Benotzt d&euml;s Annoncen n&euml;mmen fir wichteg &Eacute;v&eacute;nementer vum Site matzedeelen.',
'texte_messages_publics' => '&Ouml;ffentl&euml;ch Messagen vum Artikel:',
'texte_mise_a_niveau_base_1' => 'Dir hutt en Update vun de SPIP-Fichier\'en gemaach.
Elo muss d\'Datebank vum Site ugepasst ginn.',
'texte_modifier_article' => 'Den Artikel &auml;nneren:',
'texte_moteur_recherche_active' => '<b>De Sich-Motor ass ageschalt.</b> Benotzt d&euml;s Prozedur fir eng s&eacute;ier Indexatioun (z.B. no enger Restauratioun). D&eacute;i normal &Auml;nnerungen (iwwer de SPIP-Interface) ginn automat&euml;sch nei index&eacute;iert: d&euml;s Prozedur ass n&euml;mmen an aussergew&eacute;inlechen F&auml;ll n&eacute;ideg.',
'texte_moteur_recherche_non_active' => 'De Sich-Motor ass ausgeschalt.',
'texte_mots_cles' => 'D\'Schl&euml;sselwieder erlaaben themat&euml;sch Linken t&euml;schent den Artikelen ze maachen, egal a w&eacute;i enger Rubrik se sinn. Dir k&euml;nnt esou &auml;r Navigatioun vum Site erweideren, oder d&euml;st benotzen fir de Layout vun den Artikelen an de Skeletter unzepassen.',
'texte_mots_cles_dans_forum' => 'W&euml;llt dir d\'Schl&euml;sselwieder an den &ouml;ffentl&euml;che Forum\'en aschalten? (Opgepasst: d&euml;s Fonktioun ass ziml&euml;ch schw&eacute;ier richteg ze benotzen.)',
'texte_multilinguisme' => 'Wann dir Artikelen a m&eacute;i Sproochen mat enger komplexer Navigatioun w&euml;llt benotzen, da k&euml;nnt dir e Menu fir d\'Sproochwiel bei den Artikelen an/oder de Rubriken aschalten, je no Organisatioun vun &auml;rem Site.',
'texte_multilinguisme_trad' => 'Dir k&euml;nnt och eng Gestioun vun de Linken t&euml;schent den Iwwersetzungen vun engem Artikel aschalten.',
'texte_non_compresse' => '<i>n&euml;t komprim&eacute;iert</i> (&auml;re Server erlaabt dat n&euml;t)',
'texte_non_fonction_referencement' => 'Dir w&euml;llt vill&auml;icht d&euml;s automatesch Fonktioun n&euml;t aschalten a selwer d\'Elementer vun &auml;rem Site uginn...',
'texte_nouveau_message' => 'Neie Message',
'texte_nouveau_mot' => 'Neit Wuert',
'texte_nouvelle_version_spip_1' => 'Dir hut eng nei Versioun vu SPIP install&eacute;iert.',
'texte_nouvelle_version_spip_2' => 'D&euml;s nei Versioun verlaangt e m&eacute;i kompletten Update w&eacute;i normalerweis. Wann dir de Webmaster vum Site sidd, l&auml;scht de Fichier <tt>inc_connect.php3</tt> vum Dossier <tt>ecrire</tt> a fuert mat der Installatioun weider fir &auml;r Zougangsparameteren un d\'Datebank unzepassen.<p />(N.B.: wann dir &auml;r Parameteren vergiess hutt, kuckt am Fichier <tt>inc_connect.php3</tt> ier d&euml;r e l&auml;scht...)',
'texte_operation_echec' => 'Gidd op d&eacute;i l&auml;scht S&auml;it zer&euml;ck, wielt eng aner Datebank oder setzt eng derb&auml;i. Kontroll&eacute;iert d\'Informatiounen vun &auml;rem Provider.',
'texte_plus_trois_car' => 'm&eacute;i w&eacute;i 3 Buchstawen',
'texte_plusieurs_articles' => 'E puer Artikelen fonnt vum "@cherche_auteur@":',
'texte_port_annuaire' => '(D\'Default-Valeur ass normalerweis d&eacute;i richteg.)',
'texte_proposer_publication' => 'Wann &auml;ren Artikel f&auml;rdeg ass,<br>k&euml;nnt d&euml;r d\'Publikatioun propos&eacute;ieren.',
'texte_proxy' => 'A best&euml;mmte F&auml;ll (Intranet, gesch&uuml;tzen Netzer...) kann &euml;t n&eacute;ideg sinn iwwert een <I>HTTP-Proxy</I> ze fueren fir un d&eacute;i syndiqu&eacute;iert Siten ze kommen.
An deem Fall, gidd hei seng Adress un, &euml;nner der Form
 <tt><html>http://proxy:8080</html></tt>. Normalerweis bleiwt d&euml;st Feld eidel.',
'texte_publication_articles_post_dates' => 'Wat soll SPIP mat den Artikelen maachen, wou den Publikatiouns-Datum an der Zukunft ass?',
'texte_rappel_selection_champs' => '[Vergiesst n&euml;t d&euml;st Feld richteg ze wielen.]',
'texte_recalcul_page' => 'Wann dir eng eenzeg S&auml;it nei berechne w&euml;llt, maacht dat l&eacute;iwer iwwert den &ouml;ffentl&euml;chen Deel a benotzt de Kn&auml;ppchen "Nei berechnen".',
'texte_recapitiule_liste_documents' => 'D&euml;s S&auml;it ass d\'L&euml;scht vun den Dokumenter aus de Rubriken. Fir d\'Informatiounen vun engem Dokument ze &auml;nneren, gidd mam Link op seng S&auml;it an der Rubrik.',
'texte_recuperer_base' => 'Datebank fl&eacute;cken',
'texte_reference_mais_redirige' => 'Artikel aus dem SPIP-Site, awer op eng aner URL &euml;mgeleed.',
'texte_referencement_automatique' => '<b>Automat&euml;scht Referenz&eacute;ieren vun engem Site</b><br>Dir k&euml;nnt e Site s&eacute;ier referenz&eacute;ieren an dem der hei d\'URL oder d\'Adress vun sengem Backend-Fichier ugitt. SPIP kritt dann automatesch d\'Informatiounen (Titel, Beschreiwung...).',
'texte_requetes_echouent' => '<b>Wann verschidden MySQL-Query\'en systematesch an ouni sichtbar Ursaach fehlschlo&euml;n, ass &euml;t m&eacute;iglech dat &euml;t un der Datebank h&auml;ngt.</b><p />
MySQL kann seng Tabellen fl&eacute;cken wann se futti sinn. Dir k&euml;nnt hei eng Reparatur prob&eacute;ieren; wann &euml;t n&euml;t geet, kop&eacute;iert den Affichage, do sinn vill&auml;icht Hinweiser op dat wat n&euml;t fonktionn&eacute;iert...<p />
Wann de Problem weider besteet, kontakt&eacute;iert &auml;ren Provider.<p />',
'texte_restaurer_base' => 'E Backup restaur&eacute;ieren',
'texte_restaurer_sauvegarde' => 'D&euml;s Fonktioun erlaabt d\'Restauratioun vun engem Backup vun der Datebank. Duerfir muss de Backup-Fichier am Dossier <i>ecrire/data/</i> sinn.
Passt op mat d&euml;ser Prozedur: <b>d\'&Auml;nnerungen k&euml;nnen n&euml;t r&euml;ckg&auml;ngeg gemaach ginn.</b>',
'texte_sauvegarde' => 'E Backup vun der Datebank maachen',
'texte_sauvegarde_base' => 'Backup vun der Datebank maachen',
'texte_sauvegarde_compressee' => 'De Backup g&euml;t den n&euml;t komprim&eacute;ierten Fichier <b>ecrire/data/dump.xml</b>.',
'texte_selection_langue_principale' => 'Hei k&euml;nnt der "d\'Haapt-Sprooch" vum Site wielen. D&euml;s Wiel forc&eacute;iert Iech n&euml;t n&euml;mmen an d&auml;r Sprooch ze schreiwen, mais:
<ul><li>s&auml;tzt den Default-Format vun den Datumen um &ouml;ffentl&euml;chen Site;</li>
<li>s&auml;tzt den typographesche Motor deen SPIP benotzen soll fir Texter ze weisen;</li>
<li>s&auml;tzt d\'Sprooch d&eacute;i an den &ouml;ffentl&euml;chen Formulairen benotzt g&euml;t;</li>
<li>s&auml;tzt d\'Default-Sprooch am privaten Deel vum Site.</li></ul>',
'texte_signification' => 'D&eacute;i kumul&eacute;iert Donn&eacute;en sinn donkel (Total vun den &Euml;nner-Rubriken), d\'Zuel vun de Visiten fir all Rubrik sinn hell.',
'texte_sous_titre' => '&Euml;nnertitel',
'texte_statistiques_visites' => '(donkel:  Sonndeg / Kurv: Evolutioun vun der Moyenne)',
'texte_statut_attente_validation' => 'waart op d\'Validatioun',
'texte_statut_publies' => 'publiz&eacute;iert',
'texte_statut_refuses' => 'refus&eacute;iert',
'texte_suppression_fichiers' => 'Benotzt d&euml;s Prozedur fir all d\'Fichier\'en aus dem Cache ze l&auml;schen. Sou k&euml;nnt dir z.B. all d\'S&auml;iten nei berechnen, wann dir  grouss &Auml;nnerungen um Layout oder der Struktur vum Site gemaach hutt.',
'texte_sur_titre' => 'Iwwertitel',
'texte_syndication' => 'Et ass m&eacute;iglech, wann den Site &euml;t erlaabt, automatesch d\'L&euml;scht vun sengen Neiegkeeten ze kr&eacute;ien. Schalt duerfir d\'Syndicatioun an.
  <blockquote><i>Verschidden Provideren verh&euml;nneren d&euml;s Prozedur; an deem Fall k&euml;nnt dir d\'Syndicatioun n&euml;t op &auml;rem Site  benotzen.</i></blockquote>',
'texte_table_ok' => ': des Tafel ass OK.',
'texte_tables_indexation_vides' => 'Den Index vum Sich-Motor ass eidel.',
'texte_tentative_recuperation' => 'Reparatur-Versuch',
'texte_tenter_reparation' => 'Eng Reparatur vun der Datebank prob&eacute;ieren',
'texte_test_proxy' => 'Fir de Proxy ze prob&eacute;ieren, gidd hei d\'Adress vun engem Web-Site un.',
'texte_titre_02' => 'Titel:',
'texte_titre_obligatoire' => '<B>Titel</B> [Obligatoresch]',
'texte_travail_article' => '@nom_auteur_modif@ huet un d&euml;sem Artikel virun @date_diff@ Minuten geschafft',
'texte_travail_collaboratif' => 'Wann &ouml;fters e puer Redakteren un deem selwechten Artikel schaffen, kann de System d&eacute;i rezent "oppen" Artikelen weisen fir gl&auml;ichz&auml;iteg &Auml;nnerungen ze verh&euml;nneren.
D&euml;s Optioun ass par d&eacute;faut ausgeschalt fir n&euml;t andauernd Warnungen ze weisen.',
'texte_trop_resultats_auteurs' => 'Ze vill Resultater fir "@cherche_auteur@"; verbessert &auml;r Sich.',
'texte_unpack' => 'l&auml;scht Versioun downlueden',
'texte_utilisation_moteur_syndiques' => 'Wann d&euml;r deen integr&eacute;ierten Sich-Motor vu SPIP benotzt, k&euml;nnt dir d\'Sichen op Siten a syndiqu&eacute;iert Artikelen op zwou Man&eacute;ieren maachen.<br><img src=\'puce.gif\'> D&eacute;i einfachst ass n&euml;mmen am Title an an der Beschreiwung vun den Artikelen ze sichen.<br><img src=\'puce.gif\'>Eng aner, vill m&eacute;i staark Method, erlaabt SPIP och am Text vun den Siten ze sichen.',
'texte_utilisation_moteur_syndiques_2' => 'D&euml;s Method forc&eacute;iert SPIP regelm&eacute;isseg d&eacute;i referenz&eacute;iert Siten ze besichen, wat risk&eacute;iert dass &auml;ren Site e b&euml;sschen m&eacute;i lues g&euml;tt.',
'texte_vide' => 'eidel',
'texte_vider_cache' => 'De Cache l&auml;schen',
'titre_admin_effacer' => 'Maintenance',
'titre_admin_tech' => 'Maintenance',
'titre_admin_vider' => 'Maintenance',
'titre_articles_syndiques' => 'Syndiqu&eacute;iert Artikelen vun d&euml;sem Site',
'titre_breves' => 'D\'Kuerzmeldungen',
'titre_cadre_afficher_article' => 'D\'Artikelen weisen',
'titre_cadre_afficher_traductions' => 'Zoustand vun den Iwwersetzungen weisen fir d&euml;s Sproochen:',
'titre_cadre_ajouter_auteur' => 'AUTEUR DERB&Auml;I SETZEN:',
'titre_cadre_forum_administrateur' => 'Privat-Forum vun den Administrateuren',
'titre_cadre_forum_interne' => 'Internen Forum',
'titre_cadre_interieur_rubrique' => 'An der Rubrik',
'titre_cadre_numero_auteur' => 'AUTEUR NUMMER',
'titre_cadre_signature_obligatoire' => '<B>&Euml;nnerschr&euml;ft</B> [Obligatoresch]<BR>',
'titre_config_fonctions' => 'Astellen vum Site',
'titre_config_groupe_mots_cles' => 'Astellen vun de Schl&euml;sselwieder-Gruppen',
'titre_configuration' => 'Astellen vum Site',
'titre_connexion_ldap' => 'Optiounen: <b>&Auml;r LDAP-Verbindung</b>',
'titre_dernier_article_syndique' => 'L&auml;scht syndiqu&eacute;iert Artikelen',
'titre_documents_joints' => 'Gelinkten Dokumenter',
'titre_evolution_visite' => '&Eacute;volutioun vun de Visiten',
'titre_forum_suivi' => 'Suivi vun de Forum\'en',
'titre_gauche_mots_edit' => 'WUERT NUMMER:',
'titre_groupe_mots' => 'WUERT-GRUPP:',
'titre_langue_article' => 'SPROOCH VUM ARTIKEL',
'titre_langue_breve' => 'SPROOCH VUN DER KUERZMELDUNG',
'titre_langue_rubrique' => 'SPROOCH VUN DER RUBRIK',
'titre_langue_trad_article' => 'SPROOCH AN IWWERSETZUNGEN VUM ARTIKEL',
'titre_les_articles' => 'D\'ARTIKELEN',
'titre_mots_cles_dans_forum' => 'Schl&euml;sselwieder an de Forum\'en vum &ouml;ffentl&euml;chen Site',
'titre_mots_tous' => 'D\'Schl&euml;sselwieder',
'titre_naviguer_dans_le_site' => 'Am Site surfen...',
'titre_nouveau_groupe' => 'Neie Grupp',
'titre_nouvelle_breve' => 'Nei Kuerzmeldung',
'titre_nouvelle_rubrique' => 'Nei Rubrik',
'titre_numero_rubrique' => 'RUBRIK NUMMER:',
'titre_page_admin_effacer' => 'Maintenance: Datebank l&auml;schen',
'titre_page_articles_edit' => '&Auml;nneren: @titre@',
'titre_page_articles_page' => 'D\'Artikelen',
'titre_page_articles_tous' => 'De ganzen Site',
'titre_page_auteurs' => 'Visiteuren',
'titre_page_breves' => 'Kuerzmeldungen',
'titre_page_breves_edit' => 'Kuerzmeldung &auml;nneren: "@titre@"',
'titre_page_calendrier' => 'Kalenner @nom_mois@ @annee@',
'titre_page_config_contenu' => 'Astellen vum Site',
'titre_page_config_fonctions' => 'Astellen vum Site',
'titre_page_configuration' => 'Astellen vum Site',
'titre_page_controle_petition' => 'Suivi vun de Petitiounen',
'titre_page_delete_all' => 'definitiv an irreversibel l&auml;schen',
'titre_page_documents_liste' => 'D\'Dokumenter aus de Rubriken',
'titre_page_forum' => 'Forum vun den Administrateuren',
'titre_page_forum_envoi' => 'Message sch&eacute;cken',
'titre_page_forum_suivi' => 'Suivi vun de Forum\'en',
'titre_page_index' => '&Auml;re privaten Deel',
'titre_page_message_edit' => 'E Message schreiwen',
'titre_page_messagerie' => '&Auml;r Messagerie',
'titre_page_mots_tous' => 'Schl&euml;sselwieder',
'titre_page_recherche' => 'Resultater vun der Sich @recherche@',
'titre_page_sites_tous' => 'D&eacute;i referenz&eacute;iert Siten',
'titre_page_statistiques' => 'Statistik pro Rubrik',
'titre_page_statistiques_referers' => 'Statistik (Linken d&eacute;i eran kommen)',
'titre_page_statistiques_visites' => 'Statistik vun de Visiten',
'titre_page_upgrade' => 'SPIP updaten',
'titre_publication_articles_post_dates' => 'Publiz&eacute;ieren vun den post-dat&eacute;ierten Artikelen',
'titre_referencement_sites' => 'Siten referenz&eacute;ieren a Syndicatioun',
'titre_referencer_site' => 'De Site referenz&eacute;ieren:',
'titre_rendez_vous' => 'RENDEZ-VOUS:',
'titre_reparation' => 'Reparatur',
'titre_site_numero' => 'SITE NUMMER:',
'titre_sites_proposes' => 'Propos&eacute;iert Siten',
'titre_sites_references_rubrique' => 'Referenz&eacute;iert Siten an d&euml;ser Rubrik',
'titre_sites_syndiques' => 'Syndiqu&eacute;iert Siten',
'titre_sites_tous' => 'D&eacute;i referenz&eacute;iert Siten',
'titre_suivi_petition' => 'Suivi vun de Petitiounen',
'titre_syndication' => 'Syndicatioun vun de Siten',
'trad_article_inexistant' => '&Euml;t g&euml;t keen Artikel mat d&auml;r Nummer.',
'trad_article_traduction' => 'All d\'Versiounen vun d&euml;sem Artikel:',
'trad_deja_traduit' => 'D&euml;sen Artikel ass schon eng Iwwersetzung vun dem Artikel.',
'trad_delier' => 'D&euml;sen Artikel n&euml;t m&eacute;i un seng Iwwersetzungen bannen',
'trad_lier' => 'D&euml;sen Artikel ass eng Iwwersetzung vum Artikel Nummer:',
'trad_new' => 'Eng nei Iwwersetzung vun d&euml;sem Artikel schreiwen',


// V
'version_initiale' => 'Original-Versioun'

);


?>

--- NEW FILE: ecrire_pl.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Ta cz&#281;&#347;&#263; pomocy on-line nie jest jeszcze dost&#281;pna w tym j&#281;zyku.',
'avis_acces_interdit' => 'Dost&#281;p zabroniony.',
'avis_article_modifie' => 'Uwaga, @nom_auteur_modif@ pracowa&#322; nad tym artyku&#322;em @date_diff@ minut temu.',
'avis_aucun_resultat' => 'Brak wynik&oacute;w szukania.',
'avis_chemin_invalide_1' => '&#346;cie&#380;ka, kt&oacute;r&#261; wybra&#322;e&#347;',
'avis_chemin_invalide_2' => 'wydaje si&#281; nieprawid&#322;owa. Prosz&#281; powr&oacute;ci&#263; na poprzedni&#261; stron&#281; w celu weryfikacji informacji.',
'avis_connexion_echec_1' => 'Po&#322;&#261;czenie z serwerem MySQL nie powiod&#322;o si&#281;.',
'avis_connexion_echec_2' => 'Powr&oacute;&#263; do poprzedniej strony i zweryfikuj podane informacje.',
'avis_connexion_echec_3' => '<B>Uwaga</B> W przypadku wielu serwer&oacute;w musisz <B>poprosi&#263;</B> o uaktywnienie dost&#281;pu do bazy danych, aby m&oacute;c z niej korzysta&#263;. Je&#347;li nie mo&#380;esz si&#281; po&#322;&#261;czy&#263;, upewnij si&#281;, czy poprosi&#322;e&#347; o dost&#281;p.',
'avis_connexion_ldap_echec_1' => 'Po&#322;&#261;czenie z LDAP nie powiod&#322;o si&#281;.',
'avis_connexion_ldap_echec_2' => 'Powr&oacute;&#263; do poprzedniej strony i zweryfikuj podane informacje.',
[...1009 lines suppressed...]
'titre_sites_references_rubrique' => 'Linki do stron z tego dzia&#322;u',
'titre_sites_syndiques' => 'Syndykowane serwisy',
'titre_sites_tous' => 'Linki do stron',
'titre_suivi_petition' => 'Archiwum og&#322;osze&#324;',
'titre_syndication' => 'Syndykacja stron',
'trad_article_inexistant' => 'Nie ma artyku&#322;u o tym numerze.',
'trad_article_traduction' => 'Wszystkie wersje tego artyku&#322;u:',
'trad_deja_traduit' => 'Ten artyku&#322; jest przek&#322;adem',
'trad_delier' => 'Nie &#322;&#261;czy&#263; artyku&#322;u z tym przek&#322;adem',
'trad_lier' => 'Ten artyku&#322; jest przek&#322;adem artyku&#322;u numer',
'trad_new' => 'Napisz nowe t&#322;umaczenie artyku&#322;u',


// V
'version_initiale' => 'Wersja pocz&#261;tkowa'

);


?>

--- NEW FILE: ecrire_pt_br.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Esta parte da ajuda online ainda n&atilde;o est&aacute; dispon&iacute;vel neste idioma.',
'avis_acces_interdit' => 'Acesso negado.',
'avis_article_modifie' => 'Aten&ccedil;&atilde;o, @nom_auteur_modif@ editou esta mat&eacute;ria h&aacute; @date_diff@ minutos',
'avis_aucun_resultat' => 'Nenhum resultado.',
'avis_chemin_invalide_1' => 'O caminho que voc&ecirc; escolheu',
'avis_chemin_invalide_2' => 'n&atilde;o parece v&aacute;lido. Por favor, volte para a p&aacute;gina anterior e verifique as informa&ccedil;&otilde;es fornecidas.',
'avis_connexion_echec_1' => 'A conex&atilde;o com o servidor MySQL falhou.',
'avis_connexion_echec_2' => 'Volte para a p&aacute;gina anterior e verifique as informa&ccedil;&otilde;es que voc&ecirc; forneceu.',
'avis_connexion_echec_3' => '<b>N.B.</b> Em diversos servidores, voc&ecirc; precisa <b>solicitar</b> a ativa&ccedil;&atilde;o do seu acesso &agrave; base de dados MySQL antes de poder utiliz&aacute;-la. Se voc&ecirc; n&atilde;o consegue se conectar, verifique se voc&ecirc; efetuou esse pedido.',
'avis_connexion_ldap_echec_1' => 'A conex&atilde;o ao servidorLDAP falhou.',
'avis_connexion_ldap_echec_2' => 'Volte para a p&aacute;gina anterior e verifique as informa&ccedil;&otilde;es que voc&ecirc; forneceu.',
[...976 lines suppressed...]
'titre_sites_references_rubrique' => 'Os sites referenciados nesta se&ccedil;&atilde;o',
'titre_sites_syndiques' => 'Os sites sindicados',
'titre_sites_tous' => 'Os sites referenciados',
'titre_suivi_petition' => 'Acompanhamento das peti&ccedil;&otilde;es',
'titre_syndication' => 'Sindica&ccedil;&atilde;o de sites',
'trad_article_inexistant' => 'N&atilde;o h&aacute; nenhuma mat&eacute;ria com este n&uacute;mero.',
'trad_article_traduction' => 'Todas as vers&otilde;es desta mat&eacute;ria:',
'trad_deja_traduit' => 'Esta mat&eacute;ria j&aacute; &eacute; uma tradu&ccedil;&atilde;o da mat&eacute;ria atual.',
'trad_delier' => 'Desvincular esta mat&eacute;ria de suas tradu&ccedil;&otilde;es',
'trad_lier' => 'Esta mat&eacute;ria &eacute; uma tradu&ccedil;&atilde;o da mat&eacute;ria n&uacute;mero:',
'trad_new' => 'Escrever uma nova tradu&ccedil;&atilde;o para esta mat&eacute;ria',


// V
'version_initiale' => 'vers&atilde;o inicial'

);


?>

--- NEW FILE: ecrire_fon.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'al&#596;g&#596;na &eacute; do kaanu &#596; eko ti&#770;n do gb&egrave; &eacute; l&#596; m&#603; a ',
'avis_acces_interdit' => 'h&#596;n s&uacute;',
'avis_article_modifie' => 'Mi kp&#596;n mi&#769; &#598;&eacute;  @nyi&#768;k&#596;_ny&#596;wlant&#596;_e &#598;i &#596;@ &eacute; waz&#596;n do w&eacute;kpa &eacute; l&#596; ji&#769; sin @azan_ at c&#603;ju.',
'avis_aucun_resultat' => 'Gb&egrave;takin &#598;e tin a',
'avis_chemin_invalide_1' => 'ali&#768; &#598;&eacute; mi ze &#596;',
'avis_chemin_invalide_2' => 'E kony&#596; a Mi k&#603;nkly&#603;n bo l&#603; k&#596;  yi wekpa gudo t&#596;&#770;n ji bo kp&#596;&#769;n &#598;&#596; xogb&egrave; l&#603; t&#596;n a ji',
'avis_connexion_echec_1' => 'Cacado do mysql gbl&eacute;',
'avis_connexion_echec_2' => 'Mi bo&#769; l&#603; k&#596;  yi wekpa gudo t&#596;&#770;n j i bo kp&#596;&#769;n &#598;&#596; xo&#769;gb&egrave; mi t&#596;n mi s&#603;&#769;do l&#603; ',
'avis_connexion_echec_3' => 'Do at&#603; gege ji &#596;, mi do na by&#596; cavi mi t&#596;n &eacute; mi na by&#596; mysql m&#603; &#596;, co e na waz&#596;. Nu mi sin wu t&#603; dowu &#596;, mi kp&#596; &#598;&#596; mi&#598;&egrave; af&#596; e n&#603; a ji.',
'avis_connexion_ldap_echec_1' => 'Cacado&#769; do LDAP &#596; gbl&eacute;',
'avis_connexion_ldap_echec_2' => 'Mi bo l&#603; k&#596;  yi wekpa gudo t&#596;&#770;n ji bo kp&#596;n &#598;&#596; xogb&egrave; mi t&#596;n mi s&#603;do l&#603; ',
'avis_connexion_ldap_echec_3' => 'Mi ma zan LDAP bo do yl&#596; zizant&#596; l&#603; do z&#603;nz&#603;n o',
'avis_conseil_selection_mot_cle' => 'gb&#603;ta daxo :do ta ji &#596;, e ny&#596; nu mi na cyan xota l&#603; do gb&#603; &eacute; l&#596; m&#603;',
'avis_deplacement_rubrique' => 'vl&#603;! @contient_breves@ br&egrave;ve at scb@&nbsp; &#598;&eacute; l&#603;&#770; do akpa &eacute; l&#596; m&#603; : n s&#603; sin&#596;, mi t&#603;nkp&#596;n bo s&#596; xl&#603; t&#596;n do fi.',
'avis_destinataire_obligatoire' => 'Mi &#598;o na wlan m&#603; g&#596;n w&#603;n na yi &#596; co na s&#603; w&#603;n do',
'avis_erreur_connexion_mysql' => 'af&#596;kikl&#603;n do cacado mysql t&#596;n m&#603; ',
'avis_erreur_version_archive' => 'vl&#603; ! xota @archive@  &eacute; j&#603; do al&#596; supipu t&#596;n d&eacute;vo ji.Mi jan na kp&eacute; af&#596; nyanya  &#598;&eacute; l&#603;, gblogbloji &#596; sin wal&#596; nyanya, mi m&agrave; na gbe sis&#603; do &eacute; l&#596; o. Nu mi na s&egrave; xo g&#596; na',
'avis_espace_interdit' => 'ac&#603;ku Y&eacute; ko  ze supipu do fi n&#603;',
'avis_lecture_noms_bases_1' => 'nyik&#596; kpodo gb&#603;tak&#603;nxokpl&eacute; l&#603;&#770;  ye do Titom&#603; &#596; m&#603; a  ',
'avis_lecture_noms_bases_2' => 'Kabi gb&#603;tak&#603;nxokpl&eacute; &#598;&eacute; a , kabi  nuw&eacute; n&#596; z&#596;n b&#596; mi n&#596; to gb&#603;tak&#603;nxokpl&eacute; l&#603; sin ac&#603; ku.s&#596; &#598;o ayi ni ja wu &#596; ( m&#596; w&#603; e &#598;&eacute; lo xw&eacute;t&#596; gege g&#596;n)',
'avis_lecture_noms_bases_3' => '&#598;o sis&#596; akpa d&eacute;vo t&#596;n m&#603; &#596;, Y&eacute; siwu zan gb&#603;tak&#603;nxokpl&eacute; &#598;&eacute; s&#596; nyik&#596; mi t&#596;n ',
'avis_non_acces_message' => 'Mi siwu xa w&#603;n &eacute; l&#596; a ',
'avis_non_acces_page' => 'Mi siwu yi wekpa &eacute; l&#596; ji &agrave; ',
'avis_operation_echec' => 'az&#596;&#770; gb&eacute;',
'avis_probleme_archive' => 'xota xixa&#772; glo @archive@',
'avis_site_introuvable' => 'ye m&#596; gblogbloji &#596; a ',
'avis_site_syndique_probleme' => 'vl&#603; ! mima gblogbloji &eacute; l&#596; t&#596;n do af&#596;ku &#598;e j&#603; w&#603; ; mi &#598;o t&egrave; titom&#603; &#596; hw&#603;. Mi kp&#596;n guesi gb&egrave;tak&#603;n gblogbloji &#596; mimat&#596;n.(<b>@url_syndic@</b>), b&#596; mi  t&#603;nkp&#596;n bo b&#603; xogb&egrave; y&#596;y&#596; &#598;evo.',
'avis_sites_probleme_syndication' => 'gblogbloji &eacute; l&#596; l&#603;&#770; y&eacute; kl&#603;n af&#596; &#598;&eacute; l&#603;&#770; do mimam&#603;',
'avis_sites_syndiques_probleme' => 'gblogbloji y&eacute;  ma &eacute; l&#596; l&#603;&#770; y&eacute; kl&#603;n af&#596; &#598;&eacute; l&#603;&#770;',
'avis_suppression_base' => 'vl&#603; ! nu mi sunsun gb&egrave;tak&#603;n l&#603;&#770; &#596; &eacute; v&#596; bi s&eacute;s&eacute;',
'avis_version_mysql' => 'Mysql mit&#596;n &#598;&eacute;vo ( @ &#598;&eacute;vo_mysql@) siwu blo ak&#596;nta gb&egrave;tak&#603;n l&#603;&#770; t&#596;n a ',


// B
'bouton_acces_ldap' => 'Mi z&eacute; g&#596;na LDAP',
'bouton_ajouter' => 'Mi g&#596;na ',
'bouton_ajouter_participant' => 'Mi z&eacute; m&#603;&#598;okpo g&#596;na',
'bouton_annonce' => 'Xo &#598;&#596;dotoji',
'bouton_checkbox_envoi_message' => 'mi h&#603;n &#596; mi na s&#603; w&#603;n &#598;okpo &#598;o',
'bouton_checkbox_indiquer_site' => 'mi &#598;o na xl&#603;gblogbloji &#598;okpo',
'bouton_checkbox_qui_attribue_mot_cle_administrateurs' => 'titot&#596; gblogbloji &#596; t&#596;n ',
'bouton_checkbox_qui_attribue_mot_cle_redacteurs' => 'wiwlant&#596; l&#603;&#770;',
'bouton_checkbox_qui_attribue_mot_cle_visiteurs' => 'Jon&#596;bat&#596; gblogbloji &#596; t&#596;n wh&eacute;nu y&eacute; n&#596; s&#603; w&#603;n &#598;o agun &#596; m&#603; &#596;',
'bouton_checkbox_signature_unique_email' => 'e-mail &#598;okpo, al&#596;&#598;ow&eacute;m&agrave;m&#603; &#598;okpo',
'bouton_checkbox_signature_unique_site' => 'gblogbloji &#598;okpo,  al&#596;&#598;ow&eacute;m&agrave;m&#603; &#598;okpo',
'bouton_demande_publication' => 'Mi k&agrave;n &#598;i&#598;&eacute;t&#596;n w&eacute;kpa &eacute; l&#596; t&#596;n by&#596;',
'bouton_effacer_index' => 'Mi s&ugrave;nsun indexu &#596; ',
'bouton_effacer_tout' => 'Mi s&ugrave;nsun bi',
'bouton_envoi_message_02' => 's&#603; w&#603;n &#598;o',
'bouton_envoyer_message' => 'w&#603;n gudogudot&#596;n : s&#603;do',
'bouton_forum_petition' => 'Pk&eacute;pkl&eacute; kpodo xojla kpo',
'bouton_modifier' => '&#598;y&#596;',
'bouton_pense_bete' => 'Lin tam&#603; &#598;o zizan wh&#603; d&eacute; su t&#596;n wu ',
'bouton_radio_activer_messagerie' => 'Mi ta w&#603;nwiwlan ',
'bouton_radio_activer_messagerie_interne' => 'Mi ta w&#603;nwiwlan ',
'bouton_radio_activer_petition' => 'mi s&#596; k&#603;n ',
'bouton_radio_afficher' => 'mi xl&#603;',
'bouton_radio_apparaitre_liste_redacteurs_connectes' => '&#598;o xl&#603; &#598;o &#598;i&#598;&egrave; ny&#596;wlant&#596;&#770;&eacute; &#598;o kan ji l&#603;',
'bouton_radio_articles_futurs' => 'Wekpa &eacute; j&agrave; w&eacute; l&#603;&#770; k&#603;&#598;&#603; ( y&eacute; m&agrave; &#598;al&#596; xoklp&eacute; wu o)',
'bouton_radio_articles_tous' => 'Xogb&egrave; l&#603;&#770;bi',
'bouton_radio_articles_tous_sauf_forum_desactive' => 'Xogb&egrave; l&#603;&#770; bi, y&eacute; jo Xogb&egrave; &eacute; agun y&eacute; m&agrave; j&#603; a &#598;o',
'bouton_radio_desactiver_messagerie' => 'Mi jo wiwlanm&#603; &#598;o',
'bouton_radio_enregistrement_obligatoire' => 'wiwlih&#603;n &#598;o t&agrave;ji ( m&#603; n&#596; zan nu l&#603; &#596; &#598;o na e-mailu y&eacute; jo co y&eacute; na s&#603; al&#596;do y&eacute; t&#596;n do',
'bouton_radio_envoi_annonces_adresse' => 'Mi s&#603; xojla do',
'bouton_radio_envoi_liste_nouveautes' => 'mi  kpl&eacute; xogb&egrave; y&#596;y&#596; l&#603;&#770; do ',
'bouton_radio_moderation_priori' => 'd&#603;d&#603; vl&#603; ( nu y&eacute; ma s&#596; k&#603;n nu al&#596;do mi t&#596;n a mi siwu ze y&eacute; xl&#603; a )',
'bouton_radio_modere_abonnement' => 'mi dal&#596; nyik&#596;zinzin wu ',
'bouton_radio_modere_posteriori' => 'mi dal&#596; wu ',
'bouton_radio_modere_priori' => 'mi dal&#596; wu ',
'bouton_radio_non_apparaitre_liste_redacteurs_connectes' => 'mi ma &#598;o xl&#603; &#598;o &#598;i&#598;&egrave; ny&#596;wlant&#596;  t&#596;n m&#603; o ',
'bouton_radio_non_envoi_annonces_editoriales' => 'mi ma s&#603; gb&egrave;t&agrave;xojla do',
'bouton_radio_non_syndication' => 'mima &#598;e&#772; tin a ',
'bouton_radio_occidental' => 'Am&#596; supipu n&#596; sin az&#596; &#596; n&#596; kp&#596;nt&egrave; wu ',
'bouton_radio_pas_petition' => 'Tajijla &#598;&eacute; d&eacute;  a ',
'bouton_radio_personnalise' => 'W&eacute;kwin tit&#603; : mi s&#596; &#598;&eacute; jlo mi &#596; ',
'bouton_radio_petition_activee' => 'Tajijla &#598;&eacute; ',
'bouton_radio_publication_immediate' => 'Mi na &#598;&eacute; w&#603;n xl&#603; az&#596;n &#598;okpo, sis&#603;&#598;o kpo&#598;o &#598;i&#598;&egrave;xl&#603; al&#596;do, ga&#770;nl l&#603;&#770; h&#603;n &#596; y&eacute; siwu sunsun y&eacute; ',
'bouton_radio_sauvegarde_compressee' => 'wiwlih&#603;n &#598;o wiwlanm&#603; /data/dump.xml.gz',
'bouton_radio_sauvegarde_non_compressee' => 'wiwlih&#603;n &#598;o wiwlanm&#603; /data/dump.xml.gz',
'bouton_radio_supprimer_petition' => 'mi suns&ugrave;n Tajijla ',
'bouton_radio_syndication' => 'mimam&#603;',
'bouton_radio_universel' => 'W&eacute;kwin nflagb&#603;ji l&#603; w&#603; n&#596; z&#596;n b&#596; gb&egrave; l&#603; bi n&#596; &#598;o xl&#603;.am&#596; nu mi s&#596; xogb&egrave; &#598;&egrave; &#598;o ayi &#596; ',
'bouton_redirection' => 'mi l&#603; v&#596; jl&#603;',
'bouton_relancer_installation' => 'Mi l&#603; v&#596;  af&#596;&#598;ot&egrave; &#596; blo',
'bouton_restaurer_base' => 'Mi l&#603; v&#596; xokpl&eacute; blo',
'bouton_suivant' => 'E j&#603; gudo  &#596;',
'bouton_tenter_recuperation' => 'mi n&agrave; t&#603;nkp&#596;n bo blo&#598;o',
'bouton_test_proxy' => 'mi  t&#603;n proxy kp&#596;n ',
'bouton_vider_cache' => 'b&#603; sim&#603;',
'bouton_voir_message' => 'mi xa w&#603;n &eacute; l&#596; co bo s&#596;  k&#603;n na',


// C
'cache_mode_compresse' => 'Wli gb&egrave;ta&#772; jando gudo l&#603;&#770;  h&#603;n',
'cache_mode_non_compresse' => 'Wli gb&egrave;ta&#772; jando gudo l&#603;&#770;  h&#603;n',
'cache_modifiable_webmestre' => 'm&#603; l&ograve; m&#596;&#596;j&iacute; &#596; h&#603;n &#596; &eacute; n&aacute; v&#596; &#598;i&#598;&egrave;m&#603; bl&oacute;',
'calendrier_synchro' => 'N&uacute; j&oacute; n&aacute; z&aacute;n gb&egrave;ta, mi siw&uacute; x&ograve; b&iacute; kpl&eacute; ',


// D
'date_mot_heures' => 'ganm&#603; l&#603;',
'diff_para_ajoute' => 'g&#596; we&#780;kpaxw&eacute; n&aacute;',
'diff_para_deplace' => 's&#603; we&#780;kpaxw&eacute; s&iacute;n',
'diff_para_supprime' => 's&uacute;ns&uacute;n we&#780;kpaxw&eacute; s&iacute;n',
'diff_texte_ajoute' => 'ze&#780; w&eacute; g&#596; n&aacute;',
'diff_texte_deplace' => 's&#603; we&#780; s&iacute;n',
'diff_texte_supprime' => 's&uacute;ns&uacute;n we&#780; s&iacute;n',


// E
'email' => 'e-mailu',
'email_2' => 'e-mailu',
'entree_adresse_annuaire' => 'g&eacute;si we&#780;ma ',
'entree_adresse_email' => 'e-mailu mi&#772; t&#596;n',
'entree_adresse_fichier_syndication' => 'g&eacute;si gb&egrave;t&agrave; t&#596;n n&uacute; n&agrave; &#598;&oacute; bl&oacute; mim&aacute;',
'entree_adresse_site' => 'g&eacute;si gbl&ograve;gbl&ograve;j&iacute; &#596; dodo',
'entree_base_donnee_1' => 'g&eacute;si gb&egrave;ta b&#603;&#598;&oacute;kp&#596;',
'entree_base_donnee_2' => 'hw&eacute;&#598;&eacute; l&#603; tin &#596;  g&eacute;si &eacute; l&#596; n&#596; j&#603; d&oacute; gbl&ograve;gbl&ograve;j&iacute; mi&#772; w&uacute;',
'entree_biographie' => 'wl n&uacute; &#598;&oacute; gb&#603; zan m&#603; t&#596;n wu &#598;&oacute; kl&eacute;wun m&#603;',
'entree_breve_publiee' => 'mi&#772; &#598;&#596; d&oacute; x&agrave;s&aacute;d&oacute;m&#603; &agrave;',
'entree_chemin_acces' => 'h&#596;ntogb&oacute;',
'entree_cle_pgp' => 'c&aacute;v&igrave; PGP',
'entree_contenu_rubrique' => 'mi&#772; &#598;&#596; x&oacute; &eacute; &#598;&ograve; akpaxw&eacute; &#596; m&#603; &#596; &#598;&oacute; kl&eacute;wunm&#603;',
'entree_description_site' => 'tinm&#603; gbl&ograve;gbl&ograve;j&iacute; &#596; t&#596;n ',
'entree_identifiants_connexion' => 'mi&#772; z&eacute; m&igrave; xl&#603;',
'entree_informations_connexion_ldap' => 'mi&#772; z&eacute; m&igrave; xl&#603;',
'entree_infos_perso' => 'm&#603; c&eacute; k&aacute; &#598;y&egrave; ',
'entree_interieur_rubrique' => '&#598;&ograve; akpaxw&eacute; &#596; m&#603;',
'entree_liens_sites' => 'cacad&oacute; gbl&ograve;gbl&ograve;j&iacute; &#596; t&#596;n',
'entree_login' => 'ny&igrave;k&#596; mi&#772; t&#596;n ',
'entree_login_connexion_1' => 'ny&igrave;k&#596; mi&#772; t&#596;n ',
'entree_login_connexion_2' => 'ny&igrave;k&#596; mi&#772; t&#596;n ',
'entree_login_ldap' => 'ny&igrave;k&#596; mi&#772; t&#596;n  LDAP t&#596;n  ',
'entree_mot_passe' => 'c&aacute;v&igrave; mi&#772; t&#596;n ',
'entree_mot_passe_1' => 'c&aacute;v&igrave; mi&#772; t&#596;n ',
'entree_mot_passe_2' => 'c&aacute;v&igrave; mi&#772; t&#596;n ',
'entree_nom_fichier' => 'mi&#772; s&#603; ny&igrave;k&#596; gb&egrave;t&agrave; t&#596;n &#596; s&#603;&#598;&oacute; ',
'entree_nom_pseudo' => 'mi&#772; s&#603; s&ugrave;ny&igrave;k&#596; t&#596;n s&#603;&#598;&oacute;',
'entree_nom_pseudo_1' => ' ny&igrave;k&#596; mi t&#596;n &agrave;lo s&ugrave;ny&igrave;k&#596; t&#596;n ',
'entree_nom_site' => 'gbl&ograve;gbl&ograve;j&iacute; t&#596;n sin ny&igrave;k&#596;',
'entree_nouveau_passe' => 'c&aacute;v&igrave; &#598;&eacute;v&oacute;',
'entree_passe_ldap' => 'c&aacute;v&igrave; ',
'entree_port_annuaire' => 'num&#603;lo we&#780;ma t&#596;n',
'entree_signature' => '&agrave;l&#596; &#598;&oacute; we&#780;m&aacute; m&#603;',
'entree_texte_breve' => 'we&#780;m&aacute; kl&eacute;wun',
'entree_titre_obligatoire' => 'x&oacute;t&aacute; dandan',
'entree_url' => 'g&eacute;si gblogboji ton',


// I
'ical_info1' => 'n&uacute; mi n&aacute; &#598;&oacute; &agrave;c&eacute;j&iacute; kp&oacute;&#598;&oacute; gblogbloj&iacute; &eacute; l&#596; mi kp&#596;n w&agrave;l&#596; t&ograve;b&uacute;t&ograve;b&uacute; &eacute; l&ograve; we&#780;kp&aacute; j&iacute; &#596; .',
'ical_info2' => 'N&uacute; mi l&#603; l&ograve; x&oacute;gb&egrave; xw&iacute;t&iacute;xw&iacute;t&iacute; b&agrave; w&#603; &#596; mi s&iacute;k&uacute; y&iacute; s&ugrave;p&iacute;p&uacute; s&iacute;n x&oacute;x&ograve;kpl&eacute;m&#603;.',
'ical_info_calendrier' => 'Y&egrave; s&#603; k&agrave;l&agrave;n&#598;ly&eacute; w&egrave; &#598;&oacute; m&iacute;. &#598;&ograve;kp&oacute; ny&iacute; gblogbloj&iacute; &#596; s&iacute;n t&igrave;t&ograve;m&#603; t&#596;n b&oacute; n&#596; xl&#603; we&#780; &#598;&eacute; y&egrave; wl&agrave;n l&#603; b&iacute;. W&egrave;g&#596; &#596; &eacute; ny&iacute; x&oacute;gb&egrave;&#598;&ograve;t&agrave;j&igrave; kp&oacute; w&#603;n m&igrave; t&#596;n v&iacute;v&#603;n&aacute; l&#603; kp&oacute; j&iacute; : mi &#598;&oacute; c&agrave;v&igrave; mi t&#596;n, b&#596; mi l&#603; h&#603;n &#596; mi n&aacute; l&#603;  n&#596; &#598;y&#596; &#603; kp&oacute;d&oacute; gb&egrave;t&aacute;k&#603;n. .',
'ical_methode_http' => '&#598;&igrave;&#598;&#596;n ',
'ical_methode_webcal' => 'm&igrave;m&aacute;',
'ical_texte_js' => '&#598;&igrave;d&egrave;m&#603; javas&ugrave;clip&ugrave; t&#596;n  n&aacute; s&iacute;w&uacute; n&#596; mi n&aacute; xl&#603; we&#780;kp&aacute; g&ugrave;d&oacute;g&ugrave;d&oacute; t&#596;n l&#603; &#598;&ograve; gblogbloj&iacute; &#598;&eacute;b&uacute;j&iacute;..',
'ical_texte_prive' => 'k&agrave;l&agrave;n&#598;ly&eacute; &eacute; l&#596; &eacute; ny&iacute; mi&#598;&#603;s&uacute; t&#596;n &#596;n, n&#596; n&aacute; x&oacute;gb&egrave; &#598;&oacute; x&oacute;gb&egrave;&#598;&ograve;t&agrave;j&igrave;z&#596; gblogbloj&iacute; &#596; t&#596; w&uacute;',
'ical_texte_public' => 'k&agrave;l&agrave;n&#598;ly&eacute; n&aacute; n&aacute; b&#596; n&ugrave;k&uacute;n mi t&#596;n n&aacute; n&#596; gblogbloj&iacute; &#596; s&iacute;n &agrave;z&#596;n&ugrave;k&ugrave;n&#598;&eacute;j&iacute; &#596; j&iacute;.',
'ical_texte_rss' => 'M&iacute; h&#603;n &#596; mi siw&uacute; m&aacute; x&oacute;gb&egrave; y&#596;y&#596; &eacute; l&ograve; gblogblo &#596; j&iacute; &eacute;, mi s&igrave;k&uacute; l&#603; z&aacute;n x&igrave;x&agrave;t&#596; &#598;&eacute;b&uacute; b&oacute;&#598;&oacute; x&agrave;  XML/RSS/. ',
'ical_titre_js' => 'Javasucriptu',
'ical_titre_mailing' => 'Mailing-list',
'ical_titre_rss' => 'X&oacute;t&aacute; &laquo; backend &raquo;',
'icone_activer_cookie' => 'Zin kw&iacute;n &eacute; j&#603; &#598;&oacute;',
'icone_afficher_auteurs' => 'Z&eacute; ny&#596;wl&aacute;nt&#596; l&#603; xl&#603;',
'icone_afficher_visiteurs' => '&#598;&egrave; jon&#596; l&#603; xl&#603;',
'icone_arret_discussion' => '&eacute; m&aacute; s&#596; k&#603;nudo x&oacute;m&#603; o',
'icone_calendrier' => 'k&agrave;l&aacute;n&#598;ly&eacute;',
'icone_creation_groupe_mots' => 'Mi &#598;&egrave; &agrave;g&ugrave;n we&#780;kwin y&#596;y&#596; d&eacute;v&oacute; t&#596;n ',
'icone_creation_mots_cles' => 'Mi &#598;&egrave; gb&egrave;tak&#603;n y&#596;y&#596; d&eacute;v&oacute; t&#596;n ',
'icone_creer_auteur' => 'Mi &#598;&egrave; gb&egrave;tak&#603;n y&#596;y&#596; d&eacute;v&oacute; t&#596;n ',
'icone_creer_rubrique_2' => 'Mi &#598;&egrave; &agrave;kp&aacute;xw&eacute; d&eacute;v&oacute; t&#596;n',
'icone_ecrire_nouvel_article' => 'x&oacute; kl&eacute;w&uacute;n &#598;&eacute; l&ograve; &agrave;kp&aacute;xw&eacute; &eacute; l&#596; m&#603; &#596;',
'icone_envoyer_message' => 's&#603; wh&#603;n &#598;&oacute;',
'icone_evolution_visites' => 'k&agrave;nd&iacute;&#598;r&#603;n j&ograve;n&#596;b&iacute;b&agrave;m&#603; t&#596;n ',
'icone_modif_groupe_mots' => 'mi v&#596; &#598;y&#596; x&oacute;x&ograve;kpl&eacute; l&#603;',
'icone_modifier_article' => 'mi v&#596; &#598;y&#596; w&eacute;kp&aacute;',
'icone_modifier_breve' => 'mi v&#596; &#598;y&#596; x&oacute;kl&eacute;w&uacute;n',
'icone_modifier_message' => 'mi v&#596; &#598;y&#596; w&#603;n &#596; ',
'icone_modifier_rubrique' => 'mi v&#596; &#598;y&#596; &agrave;kp&aacute;xw&eacute; &#596;',
'icone_modifier_site' => 'mi v&#596; &#598;y&#596; gblogbloj&iacute;',
'icone_poster_message' => 's&#603; w&#603;n d&oacute;',
'icone_publier_breve' => 's&#596; x&oacute; kl&eacute;w&uacute;n &eacute; l&#596; &#598;&oacute; &agrave;t&#603;',
'icone_referencer_nouveau_site' => 'd&oacute; &agrave;c&#603; gblogbloj&iacute; ',
'icone_refuser_breve' => 'gb&#603; x&oacute; kl&eacute;w&uacute;n &#596;',
'icone_retour' => 'l&#603;k&#596;',
'icone_retour_article' => 'l&#603;k&#596; y&igrave; we&#780;kp&aacute; &#596; j&iacute;',
'icone_suivi_forum' => 'n&#596;k&#596;n xw&iacute;xwl&eacute;t&eacute; &agrave;g&ugrave;n &#596; t&#596;n ',
'icone_supprimer_cookie' => 'gb&igrave;&#598;&iacute; kw&iacute;n j&#603; &#598;&eacute; w&uacute; l&#603;',
'icone_supprimer_groupe_mots' => 'gb&igrave;&#598;&iacute; gb&#603;t&aacute; l&#603;',
'icone_supprimer_rubrique' => 'gb&igrave;&#598;&iacute; &agrave;kp&aacute;xw&eacute; &eacute; l&#596;',
'icone_supprimer_signature' => 'gb&igrave;&#598;&iacute; &agrave;l&#596;&#598;&oacute;we&#780;m&aacute;m&#603; &eacute; l&#596;',
'icone_valider_signature' => 's&#596; k&#603;n n&uacute; &agrave;l&#596;&#598;&oacute;we&#780;m&aacute;m&#603; &eacute; l&#596;',
'icone_voir_sites_references' => 'Mi kp&#596;n gblogbloj&iacute; y&egrave; n&aacute; &agrave;c&#603; &#596;',
'icone_voir_tous_mots_cles' => 'Mi kp&#596;n gb&egrave;t&aacute;k&#603;n l&#603; b&iacute;',
'image_administrer_rubrique' => 'Mi s&iacute;w t&ograve; &agrave;kp&aacute;xw&eacute; &eacute; l&#596;',
'info_1_article' => 'we&#780;kp&aacute; &#598;&ograve;kp&oacute;',
'info_1_breve' => 'x&oacute; kl&eacute;w&uacute;n &#598;&ograve;kp&oacute;',
'info_1_site' => 'gblogbloj&iacute; &#598;&ograve;kp&oacute;',
'info_activer_cookie' => 'Mi s&iacute; wl&aacute;n x&oacute;gb&egrave; &eacute; s&#596;gb&egrave;b&#596; mi n&aacute; d&oacute; j&#603; &agrave;gun d&eacute;v&oacute;m&#603;.',
'info_activer_forum_public' => 'n&uacute; mi n&aacute; z&#596;n b&#596; ax&igrave; n&aacute; j&#603; &#598;&ograve; &agrave;gun &#596; m&#603; &#596; ',
'info_admin_gere_rubriques' => 't&igrave;t&ograve;t &eacute; l&#596; n&#596; bl&oacute; &agrave;kp&aacute;xw&eacute; &eacute; l&#596; l&#603; &#598;&oacute;:',
'info_admin_gere_toutes_rubriques' => 't&igrave;t&ograve;t &eacute; l&#596; n&#596; bl&oacute; &agrave;kp&aacute;xw&eacute; &eacute; l&#596; l&#603; &#598;&oacute;',
'info_administrateur' => ' t&igrave;t&ograve;t&#596; ',
'info_administrateur_1' => 't&igrave;t&ograve;t&#596;',
'info_administrateur_2' => 'gblogbloj&iacute;  y&egrave; z kp&oacute; y&#603;y&igrave;',
'info_administrateur_site_01' => 'n&uacute; mi ny&iacute; t&igrave;t&ograve;t&#596;  gblogbloj&iacute; t&#596;n &#596; mi k&#603;nkly&#603;n b&oacute;',
'info_administrateur_site_02' => 'mi z&iacute;n f&iacute;',
'info_administrateurs' => 't&igrave;t&ograve;t&#596; l&#603;',
'info_administrer_rubrique' => 'mi h&#603;n &#596; mi n&aacute; to &agrave;kp&aacute;xw&eacute; &eacute; l&#596; ',
'info_adresse' => 'n&#596;t&#603;n',
'info_adresse_email' => 'e-mail&ugrave;:',
'info_adresse_url' => 'n&#596;t&#603;n gblogbloj&iacute; &#596; t&#596;n ',
'info_afficher_visites' => 'mi xl&#603; j&ograve;n&#596;b&iacute;b&agrave; &#603;:',
'info_affichier_visites_articles_plus_visites' => 'mi xl&#603; j&ograve;n&#596;b&iacute;b&agrave; we&#780;kp&aacute; &eacute; y&eacute; k&ograve; b&#603; kp&iacute;kp&#596;n s&igrave;n b&igrave;b&#603;m&#603; l&#603; j&iacute; ',
'info_aide_en_ligne' => '&agrave;l&#596;d&oacute; s&ugrave;p&iacute;p&ugrave; t&#596;n',
'info_ajout_image' => '&agrave;l&#596;d&oacute; s&ugrave;p&iacute;p&ugrave; t&#596;n.',
'info_ajout_participant' => 'm&#603; d&oacute;kp&oacute; l&#603; g&#596;n&aacute;:',
'info_ajouter_rubrique' => 'mi g&#596; x&oacute;kw&iacute;n d&oacute;kp&oacute;  n&aacute;:',
'info_annonce_nouveautes' => 'x&oacute;j&iacute;jl&aacute; y&#596;y&#596; l&#603;',
'info_annuler_blocage_priori' => 'gb&igrave;&#598;&iacute; ',
'info_anterieur' => '&#598;&agrave;y&iacute; x&oacute;x&oacute;',
'info_appliquer_choix_moderation' => 'mi z&aacute;n w&agrave;l&#596; &eacute; l&#596; &#598;&#603;&#598;&#603;:',
'info_article' => 'we&#780;kp&aacute;',
'info_article_2' => 'we&#780;kp&aacute;',
'info_article_a_paraitre' => 'we&#780;kp&aacute; y&eacute; &#598;&oacute; &agrave;z&aacute;n n&aacute;',
'info_articles_02' => ' we&#780;ma&#770;',
'info_articles_2' => 'we&#780;ma&#770;',
'info_articles_auteur' => 'ny&#596;wl&aacute;nt&#596; &eacute; l&#596; s&iacute;n we&#780;m&agrave;',
'info_articles_lies_mot' => 'we&#780;m&agrave; &eacute; c&aacute;&#598;&oacute; &agrave;l&#596; z&iacute;nt&#603;n &eacute; l&#596; l&#603; w&uacute;',
'info_articles_trouves' => 'we&#780;m&agrave; y&egrave; m&#596; &eacute;',
'info_articles_trouves_dans_texte' => 'we&#780;m&agrave; y&egrave; m&#596; &eacute;',
'info_attente_validation' => 'mi &#598;&ograve;t&egrave; b&ograve; n&aacute; s&#596; k&#603;n n&uacute; we&#780;m&agrave; l&#603; ',
'info_aujourdhui' => '&eacute;gb&eacute;:',
'info_auteur_message' => 'W&#603;n s&#603;&#598;&oacute;t&#596; :',
'info_auteurs' => 'Ny&#596;wl&aacute;nt&#596; l&#603;&#770;',
'info_auteurs_par_tri' => 'Ny&#596;wl&aacute;nt&#596; (l&#603;&#770;)',
'info_auteurs_trouves' => 'Ny&#596;wl&aacute;nt&#596; l&#603;&#770; &#598;e&#770; mi m&#596; &#596;',
'info_authentification_externe' => 'Ac&#603; y&iacute;y&iacute;',
'info_avertissement' => 'Mi c&oacute; mi &#598;&eacute;',
'info_base_installee' => 'T&igrave;t&ograve;m&#603; gb&egrave;t&aacute;k&#603;nx&ograve;kpl&eacute; mi t&#596;n o&#770; s&#596;gb&egrave;.',
'info_base_restauration' => 'gb&egrave;t&aacute;k&#603;nx&ograve;kpl&eacute; k&ograve; j&agrave; &agrave;f&#596; &#598;&egrave; j&iacute;.',
'info_breves' => 'gblogbloj&iacute; mi t&#596;n n&#596; y&iacute; x&oacute; kl&eacute;w&uacute;n &aacute;?',
'info_breves_03' => 'x&oacute; kl&eacute;w&uacute;n l&#603;',
'info_breves_liees_mot' => 'x&oacute; kl&eacute;w&uacute;n l&#603; &#598;&ecirc; c&aacute;d&oacute; gb&egrave;t&aacute;k&#603;n l&#603; w&uacute; &#596;',
'info_breves_touvees' => 'x&oacute; kl&eacute;w&uacute;n l&#603; &#598;&ecirc; y&egrave; m&#596; &#596;',
'info_breves_touvees_dans_texte' => 'x&oacute; kl&eacute;w&uacute;n l&#603; &#598;&ecirc; y&egrave; m&#596; &#596;',
'info_changer_nom_groupe' => 'mi &#598;y&#596; ny&iacute;k&#596; gb&#603;t&aacute; &#596; t&#596;n:',
'info_chapeau' => 'gb&agrave;k&uacute;n',
'info_chapeau_2' => 'gb&agrave;k&uacute;n:',
'info_chemin_acces_1' => '&agrave;l&igrave; y&eacute; n&aacute; d&oacute; by&#596; m&#603; &#596;',
'info_chemin_acces_2' => '&agrave;l&igrave; y&eacute; n&aacute; d&oacute; by&#596; m&#603; &#596;.',
'info_chemin_acces_annuaire' => '&agrave;l&igrave; y&eacute; n&aacute; d&oacute; by&#596; m&#603; &#596;',
'info_choix_base' => 'N&#596;t&#603;n &agrave;t&#596;n g&#596;&#770;:',
'info_classement_1' => ' @list&ugrave;@',
'info_classement_2' => '@list&ugrave;@',
'info_code_acces' => 'Mi m&agrave; w&#596;n gb&egrave;t&#603;n mi t&#596;n l&#603; &oacute;!',
'info_comment_lire_tableau' => 'N&#603;&#780; n&aacute; x&agrave; &agrave;t&#603; &eacute; l&#596; gb&#596;n 	',
'info_config_suivi' => '<N&#603;&#780; n&aacute; x&agrave; &agrave;t&#603; &eacute; l&#596; gb&#596;n 	',
'info_config_suivi_explication' => 'Mi h&#603;n &#596; mi n&aacute; &aacute; ny&iacute;k&#596; &#598;&ograve; fi',
'info_confirmer_passe' => 'Mi v&#596; gb&egrave;t&aacute;k&#603;n mi t&#596;n s&#603;&#598;&oacute;:',
'info_connexion_base' => 'N&#596;t&#603;n w&egrave; g&#596;&#770;',
'info_connexion_ldap_ok' => 'c&aacute;c&aacute;&#598;&oacute; &#596; f&#603;w&uacute;, mi h&#603;n me n&aacute; y&iacute; N&#596;t&#603;n w&egrave; g&#596;&#770; j&iacute;.',
'info_connexion_mysql' => 'N&#596;t&#603;n &#331;k&#596;n&#331;k&#596;n t&#596;n &#596; ',
'info_connexion_ok' => 'c&aacute;c&aacute;&#598;&oacute; &#596; f&#603;w&uacute;.',
'info_contact' => 'N&#596;t&#603;n',
'info_contenu_articles' => 'w&eacute;kp&aacute; l&#603; ',
'info_creation_mots_cles' => 'mi bl&oacute; b&oacute; s&#596; gb&egrave;t&#603;n l&#603; s&iacute;n &agrave;f&#596;&#598;&oacute;t&eacute;',
'info_creation_paragraphe' => 'n&uacute; mi n&aacute; x&ograve; w&eacute;kp&aacute; kpl&eacute; &#596; mi n&#596; l&#596;n &#598;&ograve;kp&oacute; &#598;&ograve;kp&oacute;',
'info_creation_rubrique' => 'c&oacute;hw&#603; mi n&#603; n&uacute; wl&aacute;n j&iacute; &#596;, mi &#598;&oacute; n&aacute; &#598;&egrave; &agrave;kp&aacute;xw&eacute; t&#596;n hw&#603;',
'info_creation_tables' => 'N&#596;t&#603;n &#603;n&#603; g&#596;&#770;',
'info_creer_base' => '&#598;&egrave; gbet&aacute; xokpl&eacute; d&eacute;v&oacute;',
'info_dans_groupe' => '&#598;&ograve; &agrave;gun &#596; m&#603;:',
'info_dans_rubrique' => '&#598;&ograve; &agrave;kp&aacute;xw&eacute;  &#596; m&#603; :',
'info_date_publication_anterieure' => '&agrave;z&aacute;n g&ugrave;d&oacute; t&#596;n :',
'info_date_referencement' => '&agrave;z&aacute;n g&ugrave;d&oacute; t&#596;n :',
'info_delet_mots_cles' => '&agrave;z&aacute;n g&ugrave;d&oacute; t&#596;n ',
'info_demander_blocage_priori' => 'mi k&aacute;nby&#596;, n&uacute; &#598;&eacute; j&aacute;n',
'info_derniere_etape' => 'N&#596;t&#603;n g&ugrave;d&oacute; t&#596;n &#596;!',
'info_derniere_syndication' => 'Min&aacute; g&ugrave;d&oacute; t&#596;n &#596;',
'info_derniers_articles_publies' => 'w&eacute;kp&aacute; g&ugrave;d&oacute; t&#596;n &#596;',
'info_desactiver_forum_public' => 'kpl&eacute;kpl&eacute;n&#596; l&#603; n&iacute; j&oacute; x&oacute; d&oacute;',
'info_desactiver_messagerie_personnelle' => 'mi h&#603;n mi n&aacute; s&uacute; k&agrave;b&iacute; mi n&aacute; h&ugrave;n wl&aacute;nt&#603;n gblogbloj&iacute; &eacute; l&#596; t&#596;n.',
'info_descriptif' => '&#598;&igrave;&#598;&egrave;m&#603; :',
'info_discussion_cours' => 'x&oacute; kp&oacute; &#598;&ograve; y&igrave;y&igrave; w&#603;',
'info_ecrire_article' => 'c&oacute; hw&#603; mi n&#603; n&uacute; wl&aacute;n j&iacute; &#596;, mi &#598;&oacute; n&aacute; &#598;&egrave; &agrave;kp&aacute;xw&eacute; t&#596;n hw&#603;',
'info_email_envoi' => 'e-mail&ugrave;',
'info_email_envoi_txt' => 'mi d&oacute; gesi b&oacute; n&aacute; s&#603; e-mail&ugrave; l&#603; &#598;&oacute;:',
'info_email_webmestre' => 't&igrave;t&ograve;t&igrave; s&iacute;n e-mail&ugrave;',
'info_entrer_code_alphabet' => 'mi s&#596; gb&egrave;t&aacute;k&#603;n e&#770; mi j&aacute;n z&aacute;n &#596;:',
'info_envoi_email_automatique' => 's&#603; e-mail&ugrave; &#598;&oacute; &agrave;z&#596;n &#598;&oacute;kp&oacute;',
'info_envoi_forum' => 'mi s&#603; w&#603;n &agrave;g&uacute;n m&#603; t&#596;n l&#603; &#598;&oacute; ny&#596;nwl&aacute;nt&#596; l&#603; ',
'info_envoyer_maintenant' => 's&#603;&#598;&oacute; &#598;&igrave;n',
'info_erreur_restauration' => 'b&iacute;bl&ograve; &#596; j&agrave;y&igrave;, gb&egrave;t&aacute; &#596; &#598;&eacute; &aacute;.',
'info_etape_suivante' => 'mi y&iacute; t&#603;n&#596;t&#603; &eacute; b&#596;&#598;&eacute;w&uacute; &#596; j&iacute;',
'info_etape_suivante_1' => 'mi y&iacute; t&#603;n&#596;t&#603; &eacute; b&#596;&#598;&eacute;w&uacute; &#596; j&iacute;.',
'info_etape_suivante_2' => 'mi y&iacute; t&#603;n&#596;t&#603; &eacute; b&#596;&#598;&eacute;w&uacute; &#596; j&iacute;.',
'info_exportation_base' => 'b&iacute;b&#603; x&oacute;x&oacute;kpl&eacute; s&#596; y&igrave;',
'info_facilite_suivi_activite' => 'b&iacute;b&#603; x&oacute;x&oacute;kpl&eacute; s&#596; y&igrave;',
'info_fichiers_authent' => 'x&oacute; x&oacute;kpl&eacute; ',
'info_fonctionnement_forum' => 'Kpl&eacute;kpl&eacute; &#596; s&iacute;n y&iacute;y&iacute;:',
'info_forum_administrateur' => 'T&igrave;t&ograve;t&#596; l&#603; s&iacute;n kp&iacute;kpl&eacute;',
'info_forum_interne' => 'Kp&eacute;kpl&eacute; x&#596;m&#603; t&#596;n ',
'info_forum_ouvert' => 'ny&#596;wl&aacute;nt&#596; l&#603; sin &agrave;g&ugrave;n ',
'info_forum_statistiques' => 'jo&#772;n&#596; b&iacute;b&agrave; s&iacute;n ak&#596;n&#331;t&agrave;',
'info_forums_abo_invites' => 'jo&#772;n&#596; l&#603; n&iacute; n&aacute; ny&iacute;k&#596;.',
'info_gauche_admin_effacer' => ' w&eacute;m&agrave; &eacute; l&#596; T&igrave;t&ograve;t&#596; l&#603; k&#603;&#598;&#603; w&#603; s&iacute;w&uacute; d&agrave;l&#596;m&#603;.',
'info_gauche_admin_tech' => 'w&eacute;m&agrave; &eacute; l&#596; T&igrave;t&ograve;t&#596; l&#603; k&#603;&#598;&#603; w&#603; s&iacute;w&uacute; d&agrave;l&#596;m&#603;',
'info_gauche_admin_vider' => 'w&eacute;m&agrave; &eacute; l&#596; T&igrave;t&ograve;t&#596; l&#603; k&#603;&#598;&#603; w&#603; s&iacute;w&uacute; d&agrave;l&#596;m&#603;',
'info_gauche_auteurs' => 'D&ograve; fy&#596;, m&iacute; n&aacute; m&#596; T&igrave;t&ograve;t&#596; gblogbloj&iacute; &#596; t&#596;n l&#603; .',
'info_gauche_auteurs_exterieurs' => 'D&ograve; fy&#596;, m&iacute; n&aacute; m&#596; T&igrave;t&ograve;t&#596; gblogbloj&iacute; &#596; t&#596;n l&#603; .',
'info_gauche_messagerie' => 'Winwl&aacute;nt&#603;nm&#603; n&#596; n&aacute; b&#596; ny&#596;wl&aacute;nt&#596; s&iacute;w&uacute; n&#596; &#598;&#596;x&oacute; &#598;&oacute; kp&#596;.',
'info_gauche_numero_auteur' => 'ny&#596;wl&aacute;nt&#596; n&ugrave;m&#603;l&oacute;',
'info_gauche_numero_breve' => 'x&oacute; kl&eacute;wu&#770;n n&ugrave;m&#603;l&oacute;',
'info_gauche_statistiques_referers' => 'w&eacute;m&agrave; &eacute; l&#596; T&igrave;t&ograve;t&#596; l&#603; k&#603;&#598;&#603; w&#603; s&iacute;w&uacute; d&agrave;l&#596;m&#603;',
'info_gauche_suivi_forum' => 'w&eacute;m&agrave; &eacute; l&#596; T&igrave;t&ograve;t&#596; l&#603; k&#603;&#598;&#603; w&#603; s&iacute;w&uacute; d&agrave;l&#596;m&#603;',
'info_gauche_suivi_forum_2' => 'w&eacute;m&agrave; &eacute; l&#596; T&igrave;t&ograve;t&#596; l&#603; k&#603;&#598;&#603; w&#603; s&iacute;w&uacute; d&agrave;l&#596;m&#603;',
'info_gauche_visiteurs_enregistres' => 'jo&#772;n&#596; b&iacute;b&agrave; s&iacute;n ak&#596;n&#331;t&agrave;',
'info_generation_miniatures_images' => 'N&uacute; t&iacute;t&#603; l&#603; &#598;e&#770; ye&#772; z&eacute; bl&oacute; gb&egrave;t&aacute;k&#603;n n&aacute;',
'info_gerer_trad' => 'T&igrave;t&ograve; t&iacute;m&#603; t&#596;n l&#603;?',
'info_groupe_important' => 'Ag&ugrave;n tr&iacute;tr&iacute;',
'info_hebergeur_desactiver_envoi_email' => 'e-mail&ugrave; c&agrave;c&agrave;.',
'info_hier' => 's&#596; t&oacute; f&iacute;:',
'info_historique' => 's&#596; t&oacute; f&iacute;:',
'info_historique_activer' => 's&#596; t&oacute; f&iacute;',
'info_historique_affiche' => 'z&eacute; w&agrave;l&#596; &#596; xl&#603;',
'info_historique_comparaison' => 'kp&#596;n&#598;&eacute;w&uacute;',
'info_historique_desactiver' => 'mi j&oacute; kp&#596;n&#598;&eacute;w&uacute; &#596; d&oacute;',
'info_historique_lien' => 'mi z&eacute; &#598;&igrave;dy&#596; s&iacute;n &agrave;f&#596; &#598;&igrave;&#598;&egrave; xl&#603;',
'info_historique_texte' => 'mi z&eacute; &#598;&igrave;dy&#596; s&iacute;n &agrave;f&#596; &#598;&igrave;&#598;&egrave; xl&#603;.',
'info_historique_titre' => 'mi z&eacute; &#598;&igrave;dy&#596; s&iacute;n &agrave;f&#596; &#598;&igrave;&#598;&egrave; xl&#603;',
'info_identification_publique' => 'Ny&iacute;k&#596; mi t&#596;n t&ograve;b&iacute;t&ugrave;n...',
'info_image_process' => 'Mi cy&aacute;n w&agrave;l&#596; &#598;&agrave;gb&egrave; l&#603;.',
'info_image_process2' => 'Mi cy&aacute;n w&agrave;l&#596; &#598;&agrave;gb&egrave; l&#603;',
'info_informations_personnelles' => 'T&#603;nn&#596;t&#603;n &agrave;t&#596;&#770;n g&#596;&#770;',
'info_inscription_automatique' => 'ny&iacute;k&#596;n&iacute;n&aacute; ny&#596;wl&aacute;nt&#596; l&#603; t&#596;n',
'info_jeu_caractere' => 'W&eacute;kw&iacute;n &agrave;j&igrave; gblogbloji',
'info_jours' => 'Az&aacute;n l&#603;',
'info_laisser_champs_vides' => 'Mi j&ograve; t&#603;nm&#603; d&oacute;',
'info_langues' => 'Gb&egrave; gblogbloj&iacute; &#596; t&#596;n',
'info_ldap_ok' => 'j&iacute;jl&#603;m&#603;.',
'info_lien_hypertexte' => 'c&agrave;c&agrave;d&oacute; :',
'info_liens_syndiques_1' => 'c&agrave;c&agrave;d&oacute; mim&aacute;m&#603;',
'info_liens_syndiques_2' => 'y&eacute; b&oacute;n&uacute; y&eacute; n&iacute; s&#596; k&#603;n n&aacute;.',
'info_liens_syndiques_3' => 'kpl&eacute;kpl&eacute; l&#603;',
'info_liens_syndiques_4' => 'Y&eacute; &#598;&ograve;',
'info_liens_syndiques_5' => 'kpl&eacute;kpl&eacute;',
'info_liens_syndiques_6' => 'E &#598;&ograve;',
'info_liens_syndiques_7' => 'y&eacute; b&oacute;n&uacute; y&eacute; n&iacute; s&#596; k&#603;n n&aacute;',
'info_liste_redacteurs_connectes' => 'ny&#596;wl&aacute;t&#596; &eacute; &#598;&ograve; ka&#770;n&uacute; &eacute;',
'info_login_existant' => 'ny&iacute;k&#596; &eacute; l&#596; k&ograve;&#598;&egrave;.',
'info_login_trop_court' => 'ny&iacute;k&#596;&#770; hw&egrave;.',
'info_maximum' => 'B&iacute;s&eacute;s&eacute;:',
'info_meme_rubrique' => 'Akp&aacute;xw&eacute; &#598;&oacute;kp&oacute; &#596;',
'info_message' => 'w&#603;n',
'info_message_efface' => 'y&egrave; s&uacute;s&uacute; w&#603;n',
'info_message_en_redaction' => 'y&egrave; kp&ograve; &#598;&ograve; w&#603;n wl&agrave;n w&#603;',
'info_message_technique' => 'w&#603;n xw&iacute;txw&iacute;t&iacute; :',
'info_messagerie_interne' => 'Winwl&aacute;nt&#603;nm&#603;',
'info_mise_a_niveau_base' => 'Mi l&#603; v&#596; bl&oacute; MySQL',
'info_mise_a_niveau_base_2' => 'Mi l&#603; v&#596; bl&oacute;',
'info_mode_fonctionnement_defaut_forum_public' => '&agrave;z&#596; yiyi w&#603;',
'info_modifier_breve' => '&#598;y&#596; x&oacute; kl&eacute;w&uacute;n &#596;:',
'info_modifier_rubrique' => '&#598;y&#596; Akp&aacute;xw&eacute; &#596;:',
'info_modifier_titre' => '&#598;y&#596; Akp&aacute;xw&eacute; &#596;: @xota@',
'info_mon_site_spip' => 'gblogbloj&iacute; supipu t&#596;n c&egrave;',
'info_mot_sans_groupe' => '(x&oacute;kw&iacute;n m&aacute;&#598;&oacute; &agrave;g&ugrave;n...)',
'info_moteur_recherche' => 'M&#596; m&#596;j&#603;m&#603;b&aacute;t&#596;',
'info_mots_cles' => 'Gb&egrave;t&aacute;k&#603;n',
'info_mots_cles_association' => 'Y&egrave; h&#603;n &#596; y&egrave; n&aacute; c&aacute; Gb&egrave;t&aacute;k&#603;n &eacute; l&#596; &agrave;g&ugrave;n &eacute;l&#596; m&#603; &#596; :',
'info_moyenne' => 'T&#603;nt&iacute;m&#603;:',
'info_multi_articles' => 'Gb&egrave; l&#603; s&iacute;n Akp&aacute;xw&eacute; n&iacute; y&iacute; &agrave;z&#596;?',
'info_multi_cet_article' => 'Gb&egrave; w&eacute;kp&aacute; &eacute; l&#596; t&#596;n :',
'info_multi_langues_choisies' => 'Mi k&#603;nkl&#603;n b&oacute; s&#596; gb&egrave; &eacute; jl&oacute; my&#596;',
'info_multi_rubriques' => 'Gb&egrave; l&#603; s&iacute;n Akp&aacute;xw&eacute; n&iacute; y&iacute; &agrave;z&#596;?',
'info_multi_secteurs' => 'Akp&aacute;xw&eacute; &eacute; l&ograve; &#598;&ograve;k&#596; l&#603; k&#603;&#598;&#603; a ?',
'info_nom' => 'E w&oacute;',
'info_nom_destinataire' => 'ny&iacute;k&#596; m&#603; n&aacute; y&iacute; &#596; t&#596;n',
'info_nom_site' => 'gblogbloj&iacute; mi t&#596;n s&iacute;n ny&iacute;k&#596;',
'info_nom_site_2' => 'gblogbloj&iacute;  s&iacute;n ny&iacute;k&#596;[d&ograve;d&ograve;]',
'info_nombre_articles' => '@nb_articles@ w&eacute;kp&aacute;,',
'info_nombre_breves' => '@nb_breves@ x&oacute; kl&eacute;w&uacute;n,',
'info_nombre_partcipants' => 'mi by&#596; kpl&eacute; m&#603;:',
'info_nombre_rubriques' => '@nb_rubriques@ &agrave;kp&aacute;xw&eacute; l&#603;,',
'info_nombre_sites' => '@nb_sites@ gblogbloj&iacute; ,',
'info_non_deplacer' => 'y&egrave; m&agrave; s&#603; w&oacute;...',
'info_non_envoi_annonce_dernieres_nouveautes' => 'Supipu h&#603;n &eacute; n&aacute; s&#603; w&#603;n g&ugrave;d&oacute;t&#596;n l&#603; &#598;&oacute;.',
'info_non_envoi_liste_nouveautes' => 'Mi s&#603; w&#603;n y&#596;y&#596; l&#603; d&oacute; &ograve;',
'info_non_modifiable' => 'Y&eacute; s&iacute;n &#598;y&#596; &aacute;',
'info_non_suppression_mot_cle' => '&#331; j&oacute; n&aacute; s&uacute;ns&uacute;n gb&egrave;t&#603;n &#596; &aacute;.',
'info_notes' => 'we&#770;',
'info_nouveaux_message' => 'w&#603;n y&#596;y&#596;',
'info_nouvel_article' => 'w&eacute;kp&aacute; y&#596;y&#596;',
'info_nouvelle_traduction' => 'T&iacute;nm&#603; &#598;&eacute;v&oacute;:',
'info_numero_article' => 'W&eacute;kp&aacute; n&ugrave;m&eacute;l&oacute;:',
'info_obligatoire_02' => '[d&oacute;d&oacute;]',
'info_option_accepter_visiteurs' => 'Mi y&iacute; gb&egrave; n&uacute; j&ograve;n&#596; &eacute; n&aacute; ny&iacute;k&#596; l&#603; ',
'info_option_email' => 'Mi y&iacute; gb&egrave; n&uacute; j&ograve;n&#596; &eacute; n&aacute; ny&iacute;k&#596; l&#603; ',
'info_option_faire_suivre' => 'Mi n&#596; kp&#596;n w&#603;n l&#603; &#598;&ograve; kpl&eacute;kpl&eacute; &#596; m&#603;',
'info_option_ne_pas_accepter_visiteurs' => 'Mi gb&#603; ny&iacute;k&#596; j&oacute;n&#596; &eacute; l&#596; t&#596;n ',
'info_option_ne_pas_faire_suivre' => 'Mi m&agrave; n&#596; kp&#596;n w&#603;n l&#603; &#598;&ograve; kpl&eacute;kpl&eacute; &#596; m&#603; w&oacute;',
'info_options_avancees' => 'w&agrave;l&#596; &eacute; &#598;r&#603;n &agrave;f&#596; ',
'info_ortho_activer' => 'mi vl&#596;n n&uacute; &eacute; n&#596; wl&aacute;n g&agrave;nj&iacute; &#596; ',
'info_ortho_desactiver' => 'mi m&aacute; vl&#596;n n&uacute; &eacute; n&#596; wl&aacute;n g&agrave;nj&iacute; &#596; ',
'info_ou' => 'f&iacute;t&#603;...',
'info_oui_suppression_mot_cle' => '&#331; j&oacute; n&aacute; s&uacute;ns&uacute;n gb&egrave;t&aacute;k&#603;n b&iacute;s&eacute;s&eacute;.',
'info_page_interdite' => '&agrave;l&igrave; s&uacute;',
'info_par_nombre_article' => '(&#598;&igrave;&#598;&egrave;m&#603; w&eacute;kp&aacute; )',
'info_par_tri' => '(par @tri@)',
'info_pas_de_forum' => 'kpl&eacute;kpl&eacute; m&agrave; t&iacute;n',
'info_passe_trop_court' => 'gb&egrave;t&aacute;k&#603;n &#596; hw&egrave;.',
'info_passes_identiques' => 'gb&egrave;t&aacute;k&#603;n w&egrave; l&#603; s&#596;gb&egrave; &aacute;.',
'info_pense_bete_ancien' => 'L&igrave;nt&aacute;m&#603;-Ag&uacute;&#598;&agrave;g&#596; x&oacute;x&oacute; mi t&#596;n l&#603;',
'info_plus_cinq_car' => 'E h&uacute; w&eacute;kw&iacute;n &agrave;t&#596;&#770;n',
'info_plus_cinq_car_2' => '(E h&uacute; w&eacute;kw&iacute;n &agrave;t&#596;&#770;n)',
'info_plus_trois_car' => '(E h&uacute; w&eacute;kw&iacute;n &agrave;t&#596;n)',
'info_popularite' => 'T&ograve;b&iacute;t&ugrave;:&nbsp;@popularite@&nbsp;; Jo&#772;n&#596;:&nbsp;@visites@',
'info_popularite_2' => 'm&#603; b&iacute; t&ugrave;n gblogbloj&iacute; &#596;&nbsp;:',
'info_popularite_3' => 'T&ograve;b&iacute;t&ugrave;n&nbsp;:&nbsp;@popularite@&nbsp;; Jo&#772;n&#596;&nbsp;:&nbsp;@visites@',
'info_popularite_4' => 'T&ograve;b&iacute;t&ugrave;n&nbsp;:&nbsp;@popularite@&nbsp;; Jo&#772;n&#596;&nbsp;:&nbsp;@visites@',
'info_popularite_5' => 'T&ograve;b&iacute;t&ugrave;n&nbsp;:',
'info_post_scriptum' => 'Gb&egrave; n&iacute; n&aacute;',
'info_post_scriptum_2' => 'Gb&egrave; n&iacute; n&aacute; :',
'info_pour' => 'gb&#596;n',
'info_preview_admin' => 'T&igrave;t&ograve;t&#596; l&#603; j&#603;n s&iacute;w&uacute; kp&#596;n gblogbloj&iacute; &#596; hw&#603;',
'info_preview_comite' => 'Ny&#596;wl&aacute;nt&#596; l&#603; j&#603;n s&iacute;w&uacute; kp&#596;n gblogbloj&iacute; &#596; hw&#603;',
'info_preview_desactive' => 'w&agrave;l&#596; kp&iacute;kp&#596;n t&#596;n s&#596; &#598;&ograve; gb&#603; &aacute;',
'info_preview_texte' => 'w&agrave;l&#596; kp&iacute;kp&#596;n t&#596;n s&#596; &#598;&ograve; gb&#603; &aacute;',
'info_principaux_correspondants' => 'X&#596;nt&#596;n m&igrave;t&#596;n &agrave;l&#596; m&agrave; y&igrave; m&#603; l&#603;',
'info_procedez_par_etape' => 'w&agrave;l&#596; &#598;&ograve;kp&oacute; &#598;&ograve;kp&oacute;',
'info_procedure_maj_version' => 'w&agrave;l&#596; &#598;&ograve;kp&oacute; &#598;&ograve;kp&oacute;.',
'info_ps' => 'P.S',
'info_publies' => 'y&egrave; s&#596; k&#603;n n&aacute;',
'info_question_accepter_visiteurs' => 'N&#603; ny&iacute; &#598;&#596; t&igrave;t&ograve;m&#603; mi t&#596;n b&agrave; &#598;&#596; &eacute; mi n&aacute; wl&iacute; jo&#772;n&#596; l&#603; h&#603;n &#596;&nbsp;:',
'info_question_gerer_statistiques' => 'Gblogbloj&iacute; mi t&#596;n &#598;&ograve; n&aacute; wl&iacute; jo&#772;n&#596; l&#603; h&#603;n &agrave;&nbsp;?',
'info_question_inscription_nouveaux_redacteurs' => 'Mi y&iacute; gb&egrave; n&uacute; ny&#596;w&aacute;nt&#596; y&#596;y&#596; l&#603; &agrave;.',
'info_question_mots_cles' => 'Mi j&oacute; n&aacute; z&aacute;n gb&egrave;t&aacute;k&#603;n &agrave;&nbsp;?',
'info_question_proposer_site' => 'm&#603; siw&uacute; s&#596; gblogbloj&iacute; y&eacute; s&#596; k&#603;n n&aacute; s&#596; xl&#603;&nbsp;?',
'info_question_utilisation_moteur_recherche' => 'mi jl&oacute; n&aacute; z&aacute;n m&#596;b&igrave;b&agrave;t&#596; supip&ugrave; t&#596;n &agrave;',
'info_qui_attribue_mot_cle' => 'y&eacute; siw&uacute; s&#596; gb&egrave;t&aacute;k&#603;n &agrave;g&ugrave;n &eacute; l&#596; t&#596;n &#598;&oacute;&nbsp;:',
'info_racine_site' => 'gblogbloj&iacute; &#596; s&iacute;n d&#596;',
'info_recharger_page' => 'mi l&#603; v&#596; jl&#596; w&eacute;m&agrave; &eacute; l&#596; &#598;&ograve; c&#603;j&uacute; yw&#603;yw&#603;m&#603;.',
'info_recherche_auteur_a_affiner' => 'x&oacute;kw&igrave;n l&#603; s&uacute;kp&#596; &#598;&iacute;"@cherche_auteur@" ; mi l&#603; v&#596; b&agrave;',
'info_recherche_auteur_ok' => 'y&egrave; m&#596; ny&#596;wl&aacute;t&#596; g&eacute;g&eacute;"@cherche_auteur@":',
'info_recherche_auteur_zero' => 'x&oacute;kw&igrave;n l&#603; &laquo;&nbsp;@cherche_auteur@&nbsp;&raquo;.',
'info_recommencer' => 'Mi l&#603; &#957;&#596; b&#603;.',
'info_redacteur_1' => 'Ny&#596;wl&aacute;nt&#596; ',
'info_redacteur_2' => 'M&#603; &#598;&oacute; &agrave;c&#603; b&oacute; by&#596; m&#603;(<i>recommand&eacute;</i>)',
'info_redacteurs' => 'Ny&#596;wl&aacute;nt&#596; l&#603;',
'info_redaction_en_cours' => 'Y&eacute; kp&oacute; &#598;&oacute; w&iacute;wl&aacute;n w&#603;',
'info_redirection' => 'Mi l&#603; v&#596; jl&#603;',
'info_refuses' => 'W&eacute;kp&aacute; mi t&#596;n y&egrave; gb&#603; &#596;',
'info_reglage_ldap' => 'w&agrave;l&#596;  : jl&#596;jl&#596; t&#603;nme',
'info_renvoi_article' => 'w&agrave;l&#596;.W&eacute;kp&aacute; s&#603; y&iacute; e&#770;:',
'info_reserve_admin' => 'T&igrave;t&ograve;t&#596; l&#603; k&#603;&#598;&#603; j&#603;n s&iacute;n &#598;y&#596; n&#596;t&#603;n &#596;.',
'info_restauration_sauvegarde' => 'Mi l&#603; v&#596; wl&iacute;h&#603;n bl&oacute; @archive@',
'info_restreindre_rubrique' => 'Mi &#598;&egrave; t&igrave;t&ograve; &agrave;kp&aacute;xw&eacute; &#596; t&#596;n kp&ograve; :',
'info_resultat_recherche' => 'X&oacute;gb&egrave; y&egrave; m&#596; l&#603; :',
'info_rubriques' => '&agrave;kp&aacute;xw&eacute;',
'info_rubriques_02' => '&agrave;kp&aacute;xw&eacute; l&#603;',
'info_rubriques_liees_mot' => '&agrave;kp&aacute;xw&eacute; l&#603; &#598;e&#770; b&#596;&#598;&oacute; gb&egrave;t&aacute;k&#603;n l&#603; w&uacute; &#596;',
'info_rubriques_trouvees' => '&agrave;kp&aacute;xw&eacute; l&#603; &#598;e&#770; y&egrave; m&#596;&#770;',
'info_rubriques_trouvees_dans_texte' => '&agrave;kp&aacute;xw&eacute; l&#603; &#598;e&#770; y&egrave; m&#596;&#770; (&#598;&ograve; we&#780;m&agrave; l&#603; m&#603;) ',
'info_sans_titre' => 'X&oacute;t&aacute; &#598;&egrave; &aacute;',
'info_sauvegarde' => 'wl&iacute;h&#603;n',
'info_sauvegarde_articles' => 'Wl&iacute;  W&eacute;kp&aacute; l&#603;  h&#603;n',
'info_sauvegarde_articles_sites_ref' => 'Mi Wl&iacute;  W&eacute;kp&aacute; l&#603; &#598;e&#770; s&#596; k&#603;n na&#770; h&#603;n',
'info_sauvegarde_auteurs' => 'Wl&iacute; ny&#596;wl&aacute;nt&#596; l&#603; h&#603;n',
'info_sauvegarde_breves' => 'Wl&iacute; x&oacute; kl&eacute;w&uacute;n l&#603; h&#603;n',
'info_sauvegarde_documents' => 'Wl&iacute; we&#780;m&agrave; l&#603; h&#603;n',
'info_sauvegarde_echouee' => 'N&uacute; mi m&agrave; s&iacute;w&uacute; wl&iacute;h&#603;n &agrave;,',
'info_sauvegarde_forums' => 'Mi wl&iacute; kpl&eacute;kpl&eacute; &#596; h&#603;n',
'info_sauvegarde_groupe_mots' => 'Mi wl&iacute; x&oacute;x&oacute;kpl&eacute; l&#603; h&#603;n',
'info_sauvegarde_messages' => 'Mi wl&iacute; w&#603;n l&#603; h&#603;n',
'info_sauvegarde_mots_cles' => 'Mi wl&iacute; gb&egrave;t&aacute; k&#603;n l&#603; h&#603;n',
'info_sauvegarde_petitions' => 'Mi wl&iacute; x&oacute;j&iacute;jl&aacute; l&#603; h&#603;n',
'info_sauvegarde_refers' => 'Mi wl&iacute; referers l&#603; h&#603;n',
'info_sauvegarde_reussi_01' => 'Wl&iacute;h&#603;n ny&#596;.',
'info_sauvegarde_reussi_02' => 'Y&eacute; wl&iacute; x&oacute;x&oacute;kpl&eacute; &#596; &#598;&oacute; Winwl&aacute;n s&iacute;n gb&agrave;v&iacute;m&#603; /x&oacute;x&oacute;kpl&eacute;/@archive at . M&igrave; s&iacute;w&uacute;',
'info_sauvegarde_reussi_03' => 'Mi l&#603; v&#596; y&igrave; t&igrave;t&ograve;m&#603; &#596; j&iacute;',
'info_sauvegarde_reussi_04' => 'Gblogbloj&iacute; m&igrave; t&#596;n.',
'info_sauvegarde_rubriques' => 'Mi wl&iacute; &agrave;kp&aacute;xw&eacute; l&#603; h&#603;n',
'info_sauvegarde_signatures' => 'Mi wl&iacute; &agrave;l&#596;&#598;&oacute;we&#780;m&aacute; kp&oacute; x&oacute;j&iacute;jl&aacute; l&#603; h&#603;n',
'info_sauvegarde_sites_references' => 'Mi wl&iacute; gblogbloj&iacute; y&eacute; &#598;&egrave;k&uacute;n&uacute; n&aacute;  l&#603; h&#603;n',
'info_sauvegarde_type_documents' => 'Mi wl&iacute; we&#780;m&aacute; &agrave;kp&aacute;&#598;&eacute;  l&#603; h&#603;n',
'info_sauvegarde_visites' => 'Mi jo&#772;n&#596; b&iacute;b&agrave;  l&#603; h&#603;n',
'info_selection_chemin_acces' => 'Mi cy&aacute;n  &agrave;l&igrave; &eacute; byo&#596; w&eacute;gb&oacute; &#596; m&#603; &#596;&nbsp;:',
'info_selection_un_seul_mot_cle' => 'Mi gb&egrave;t&aacute;k&#603;n &#598;&ograve;kp&oacute; j&#603;n mi s&iacute;w&uacute; z&eacute;.',
'info_signatures' => 'Al&#596;&#598;&oacute;we&#780;m&aacute;m&#603; l&#603;',
'info_site' => 'gblogbloj&iacute;',
'info_site_2' => 'gblogbloj&iacute;:',
'info_site_min' => 'gblogbloj&iacute;',
'info_site_propose' => ' Gblogbloj&iacute; y&egrave; s&#603;&#598;&oacute; &#598;&ograve; :',
'info_site_reference_2' => 'Gblogbloj&iacute; y&eacute; &#598;&egrave;k&uacute;n&uacute; n&aacute; ',
'info_site_syndique' => 'Y&egrave; m&aacute; gblogbloj&iacute; &#596; ...',
'info_site_valider' => 'Gblogbloj&iacute; y&egrave; n&aacute; s&#596; k&#603;n n&aacute;',
'info_site_web' => 'Gblogbloj&iacute; :',
'info_sites' => 'Gblogbloj&iacute;',
'info_sites_lies_mot' => 'Gblogbloj&iacute; &#598;e&#770; c&aacute;&#598;&oacute; gb&egrave;t&aacute;k&#603;n &#596; n&uacute; &#596; ',
'info_sites_proxy' => 'Mi z&aacute;n  proxy',
'info_sites_refuses' => 'gblogbloj&iacute; y&eacute; gb&#603; l&#603;',
'info_sites_trouves' => 'gblogbloj&iacute; &#598;e&#770; m&#596; l&#603;',
'info_sites_trouves_dans_texte' => 'gblogbloj&iacute; &#598;e&#770; m&#596; l&#603;(&#598;&ograve; we&#780;m&aacute;m&#603;)',
'info_sous_titre' => 'x&oacute;t&aacute;kp&#603;v&iacute;:',
'info_statut_administrateur' => 'T&igrave;t&ograve;t&#596;',
'info_statut_auteur' => 'Ny&#596;wl&aacute;n s&iacute;n t&igrave;t&ograve;m&#603;:',
'info_statut_efface' => 's&uacute;ns&uacute;n',
'info_statut_redacteur' => 'Ny&#596;wl&aacute;nt&#596;',
'info_statut_site_1' => 'Gblogbloj&iacute; &eacute; l&#596; &nbsp;:',
'info_statut_site_2' => '&#598;&#596;d&oacute;t&ograve;j&igrave;',
'info_statut_site_3' => 's&#603;&#598;&oacute;',
'info_statut_site_4' => 's&#596; ny&igrave;z&ugrave;nk&#596;gb&aacute;m&#603;',
'info_statut_utilisateurs_1' => 'n&#596;t&egrave; kp&ograve;h&ugrave;n',
'info_statut_utilisateurs_2' => 'mi cy&aacute;n n&#596;t&egrave; m&#603;&#770; &#598;&ograve; LDAP s&iacute;n we&#780;m&aacute;m&#603; &eacute; n&uacute; y&eacute; s&#596; y&eacute;&#598;&eacute; xl&#603; &#596; n&uacute;k&#596;nn&uacute;k&#596;nt&#596;&#770;n..',
'info_suivi_activite' => 'mi &#598;&ograve; we&#780;gb&oacute; &#596;  w&agrave;l&#596; kp&#596;n w&#603;',
'info_supprimer_mot' => 'gb&igrave;d&iacute;  &#596;&nbsp;w&eacute;kw&iacute;n &eacute; l&#596;&nbsp;',
'info_surtitre' => 'x&oacute;t&aacute; &#598;&agrave;x&oacute; :',
'info_taille_maximale_vignette' => 'jl&#603;jl&#603;m&#603; &#598;&igrave;d&egrave; l&#603; t&#596;n&nbsp;:',
'info_terminer_installation' => 'mi h&#603;n &#596; mi s&iacute;w&uacute; f&oacute; t&#603;nm&#603; b&iacute;bl&oacute;.',
'info_texte' => 'we&#780;',
'info_texte_explicatif' => 'we&#780; t&igrave;nm&#603;',
'info_texte_long' => '&eacute; y&aacute; &#596; mi n&aacute; s&#596; k&#603;n n&iacute;.)',
'info_texte_message' => 'we&#780; w&#603;n mi t&#596;n :',
'info_texte_message_02' => 'we&#780; w&#603;n mi t&#596;n',
'info_titre' => 'x&oacute;t&aacute; :',
'info_titre_mot_cle' => 'ny&iacute;k&#596; x&oacute;t&aacute; &#596; k&agrave;b&iacute; gb&egrave;t&aacute;k&#603;n &#596; t&#596;n ',
'info_total' => 'B&iacute;s&eacute;s&eacute;:',
'info_tous_articles_en_redaction' => 'W&eacute;kp&aacute; l&#603; kp&oacute;  ny&iacute; wl&aacute;nwl&aacute;nt&#596;',
'info_tous_articles_presents' => 'W&eacute;kp&aacute; l&#603; y&egrave; z&eacute;&#598;&ograve; &agrave;kp&aacute;xw&eacute; &eacute; l&#596;&#770;',
'info_tous_les' => 'Y&eacute; bi&#770;:',
'info_tous_redacteurs' => 'ny&#596;wl&aacute;nt&#596; l&#603; b&iacute; x&oacute;gb&egrave;',
'info_tout_site' => 'Gbl&ograve;gbl&ograve;j&iacute; &#596; b&iacute;',
'info_tout_site2' => 'Y&eacute; t&igrave;nm&#603; we&#780;kpa&#770; &#598;&oacute; gb&egrave; &#598;&eacute; m&#603; &aacute;.',
'info_tout_site3' => 'Y&eacute; t&igrave;nm&#603; we&#780;kpa&#770; &#598;&oacute; gb&egrave; &#598;&eacute; m&#603; &aacute;',
'info_tout_site4' => 'Y&eacute; t&igrave;nm&#603; we&#780;kpa&#770; &#598;&oacute; gb&egrave; &#598;&eacute; m&#603; .',
'info_tout_site5' => 'we&#780;kpa&#770; f&#603;w&uacute;.',
'info_tout_site6' => 'we&#780;kpa&#770; f&#603;w&uacute; j&#603;n y&eacute; s&#596; xl&#603;
&nbsp;:',
'info_travail_colaboratif' => 'mi w&agrave;z&#596; &#598;&oacute; kp&#596; &#598;&ograve; w&eacute;kp&aacute; l&#603; j&iacute;',
'info_un_article' => 'we&#780;kpa&#770;,',
'info_un_mot' => 'x&oacute;kw&iacute;n &#598;&ograve;kp&oacute;',
'info_un_site' => 'Gbl&ograve;gbl&ograve;j&iacute; ,',
'info_une_breve' => 'x&oacute; kl&eacute;w&uacute;n,',
'info_une_rubrique' => '&agrave;kp&aacute;xw&eacute;,',
'info_une_rubrique_02' => '&agrave;kp&aacute;xw&eacute;',
'info_url' => 'URL :',
'info_url_site' => 'URL Gbl&ograve;gbl&ograve;j&iacute; &#596; t&#596;n :',
'info_urlref' => '&agrave;l&#596;wl&iacute;&nbsp;:',
'info_utilisation_spip' => 'mi s&iacute;w&uacute; j&#603; t&igrave;t&ograve; &#598;i&#598;&egrave;xl&#603; t&#596;n z&aacute;n j&iacute;...',
'info_visites_par_mois' => '&#598;&igrave;d&egrave;xl&#603; s&ugrave;n &#598;&ograve;kp&oacute; m&#603; t&#596;n:',
'info_visites_plus_populaires' => 'xl&#603; j&oacute;n&#596; b&igrave;b&aacute;',
'info_visiteur_1' => 'j&oacute;n&#596; ',
'info_visiteur_2' => 'Gbl&ograve;gbl&ograve;j&iacute;',
'info_visiteurs' => 'j&oacute;n&#596; l&#603;',
'info_visiteurs_02' => 'j&oacute;n&#596; Gbl&ograve;gbl&ograve;j&iacute; t&#596;n',
'install_select_langue' => 'b&#596; mi j&#603; t&#603;nm&#603; bl&oacute;&#598;&oacute; j&iacute;.',
'intem_redacteur' => 'ny&#596;wl&aacute;nt&#596;',
'item_accepter_inscriptions' => 'mi y&iacute;gb&egrave; n&uacute; ny&iacute;k&#596;n&aacute;n&aacute; l&#603;',
'item_activer_forum_administrateur' => 't&igrave;t&ograve;t&#596; l&#603; s&iacute;n kpl&eacute;kpl&eacute; n&iacute; j&#603; &agrave;z&#596; w&agrave; j&iacute;',
'item_activer_messages_avertissement' => 'mi j&#603; s&#603;n d&oacute; j&iacute;',
'item_administrateur_2' => 'T&igrave;t&oacute;t&#596; ',
'item_afficher_calendrier' => 'Mi &#598;&egrave; kal&aacute;n&#598;ly&eacute; l&#603; xl&#603;',
'item_ajout_mots_cles' => 'Mi s&#596; gb&egrave;tak&#603;n l&#603; g&#596;n&aacute;',
'item_autoriser_documents_joints' => 'Mi s&#596; w&eacute;m&agrave; d&#596;&#598;&oacute; w&eacute;kp&aacute; w&uacute;',
'item_autoriser_documents_joints_rubriques' => 'Mi s&#596; w&eacute;m&agrave; d&#596;&#598;&oacute; &agrave;kp&aacute;xw&eacute; &#596; m&#603;',
'item_bloquer_liens_syndiques' => 'Mi j&aacute;n &agrave;l&#596;wl&iacute; n&uacute; k&#603;ns&iacute;s&#596;',
'item_breve_refusee' => '&Eacute;w&oacute; - y&eacute; gb&#603; x&oacute; kl&eacute;w&uacute;n',
'item_breve_validee' => 'N&uacute;gb&oacute; w&#603; - y&eacute; s&#596; k&#603;n nu x&oacute; kl&eacute;w&uacute;n',
'item_choix_administrateurs' => 'T&igrave;t&oacute;t&#596; l&#603;',
'item_choix_generation_miniature' => 'Mi t&ograve; &#598;&eacute;xl&#603; l&#603; c&iacute;k&iacute;c&iacute;k&iacute;.',
'item_choix_non_generation_miniature' => 'Mi m&agrave; t&ograve; &#598;&eacute;xl&#603; l&#603; c&iacute;k&iacute;c&iacute;k&iacute;.',
'item_choix_redacteurs' => 'ny&#596;wl&aacute;nt&#596; l&#603;',
'item_choix_visiteurs' => 'j&oacute;n&#596; l&#603;',
'item_creer_fichiers_authent' => 'Gb&egrave;t&aacute;x&oacute; l&#603;.htpasswd',
'item_desactiver_forum_administrateur' => 'T&igrave;t&oacute;t&#596; l&#603;',
'item_gerer_annuaire_site_web' => 'T&ograve; ny&iacute;k&#596; l&#603;',
'item_gerer_statistiques' => 'T&ograve; ny&iacute;k&#596; l&#603;',
'item_limiter_recherche' => 'T&ograve; ny&iacute;k&#596; l&#603;',
'item_login' => ' ny&iacute;k&#596; ',
'item_mots_cles_association_articles' => 'W&eacute;kp&aacute; l&#603;',
'item_mots_cles_association_breves' => 'x&oacute; kl&eacute;w&uacute;n',
'item_mots_cles_association_rubriques' => '&agrave;kp&aacute;xw&eacute; &#596; ',
'item_mots_cles_association_sites' => 'm&iacute;m&agrave;m&#603;.',
'item_non' => '&eacute;w&oacute;',
'item_non_accepter_inscriptions' => 'y&iacute; gb&egrave; n&uacute; ny&iacute;k&#596; l&#603; ',
'item_non_activer_messages_avertissement' => 'mi j&#603; s&#603;n d&oacute; j&iacute;',
'item_non_afficher_calendrier' => 'Mi &#598;&egrave; kal&aacute;n&#598;ly&eacute; l&#603; xl&#603; wo',
'item_non_ajout_mots_cles' => 'mi m&aacute; s&#596; z&aacute;n x&oacute;gb&egrave; l&#603; &#598;&ograve; kpl&eacute;kpl&eacute; &#596; m&#603; w&oacute;',
'item_non_autoriser_documents_joints' => 'Mi s&#596; w&eacute;m&agrave; d&#596;&#598;&oacute; &agrave;kp&aacute;xw&eacute; &#596; m&#603;',
'item_non_autoriser_documents_joints_rubriques' => 'Mi s&#596; w&eacute;m&agrave; d&#596;&#598;&oacute; &agrave;kp&aacute;xw&eacute; &#596; m&#603;',
'item_non_bloquer_liens_syndiques' => 'Mi j&aacute;n &agrave;l&#596;wl&iacute; n&uacute; k&#603;ns&iacute;s&#596;',
'item_non_creer_fichiers_authent' => 'mi m&aacute; s&#596; bl&oacute; x&oacute;t&aacute; o&#770;',
'item_non_gerer_annuaire_site_web' => 'Mi m&agrave; T&ograve; ny&iacute;k&#596; l&#603; o&#770;',
'item_non_gerer_statistiques' => 'Mi m&agrave; Mi bl&oacute; t&igrave;t&ograve; l&#603;',
'item_non_limiter_recherche' => 'mi vl&#596;n k&agrave;n n&uacute; b&igrave;b&agrave; s&#596; y&iacute; Gbl&ograve;gbl&ograve;j&iacute; b&agrave;&#598;&eacute;m&#603; j&iacute; ',
'item_non_publier_articles' => 'mi m&aacute; s&#596; xl&#603; w&eacute;kp&aacute; l&#603; c&oacute; &agrave;z&aacute;n l&#603; n&iacute; wa&#770;.',
'item_non_utiliser_breves' => 'mi m&aacute; z&aacute;n x&oacute;kl&eacute;w&uacute;n l&#603;',
'item_non_utiliser_config_groupe_mots_cles' => 'mi vl&#596;n k&agrave;n n&uacute; b&igrave;b&agrave; s&#596; y&iacute; Gbl&ograve;gbl&ograve;j&iacute; b&agrave;&#598;&eacute;m&#603; j&iacute; ',
'item_non_utiliser_moteur_recherche' => 'mi m&aacute; z&aacute;n m&#596; &#596; ',
'item_non_utiliser_mots_cles' => 'mi m&aacute; z&aacute;n gb&egrave;t&aacute;k&#603;n l&#603; o',
'item_non_utiliser_syndication' => 'mi m&aacute; z&aacute;n mim&aacute;m&#603; c&agrave;c&agrave; o',
'item_nouvel_auteur' => 'ny&#596;wl&aacute;nt&#596; y&#596;y&#596;',
'item_nouvelle_breve' => 'x&oacute; kl&eacute;w&uacute;n',
'item_nouvelle_rubrique' => '&agrave;kp&aacute;xw&eacute; y&#596;y&#596;',
'item_oui' => '&#603;&#770;',
'item_publier_articles' => 'mi z&eacute; w&eacute;kp&aacute; &eacute; l&#596; l&#603; s&#596;, &eacute; n&aacute; b&ograve; t&#603; ny&iacute; &agrave;zan&#598;&eacute;b&uacute;.',
'item_reponse_article' => 'y&iacute;gb&egrave; n&uacute; w&eacute;kp&aacute;',
'item_utiliser_breves' => 'mi z&aacute;n x&oacute; kl&eacute;w&uacute;n l&#603;',
'item_utiliser_config_groupe_mots_cles' => 'mi z&aacute;n x&oacute; kl&eacute;w&uacute;n l&#603;',
'item_utiliser_moteur_recherche' => 'mi z&aacute;n x&oacute; kl&eacute;w&uacute;n l&#603;',
'item_utiliser_mots_cles' => 'mi z&aacute;n x&oacute; kl&eacute;w&uacute;n l&#603;',
'item_utiliser_syndication' => 'mi z&aacute;n x&oacute; kl&eacute;w&uacute;n l&#603;',
'item_visiteur' => 'j&ograve;n&#596;',


// J
'jour_non_connu_nc' => 'n.c.',


// L
'lien_ajout_destinataire' => 'mi z&eacute; m&#603;&#770; g&#596;n &eacute; n&aacute; y&iacute; &#596; z&eacute; g&#596;n n&aacute;',
'lien_ajouter_auteur' => 'mi z&eacute; ny&#596;wl&aacute;t&#596;  z&eacute; g&#596;n n&aacute;',
'lien_ajouter_participant' => 'mi z&eacute; ny&#596;wl&aacute;t&#596;  z&eacute; g&#596;n n&aacute;',
'lien_email' => 'e-mailu',
'lien_forum_public' => 'mi t&ograve; m&#603; &#598;&ograve; kpl&eacute;kpl&eacute; m&#603; &#596; l&#603;',
'lien_mise_a_jour_syndication' => 'mi l&#603; v&oacute; bl&oacute; &#598;&igrave;n',
'lien_nom_site' => 'ny&iacute;k&#596; gblogbloj&iacute; &#596; t&#596;n  :',
'lien_nouvelle_recuperation' => 'mi l&#603;v&#596; j&#603; b&iacute;bl&oacute;j&iacute;',
'lien_reponse_article' => 'y&iacute;gbj&egrave; n&uacute; w&eacute;kp&aacute; &eacute; l&#596;',
'lien_reponse_breve' => 'y&iacute;gbj&egrave; n&uacute; x&oacute; kl&eacute;w&uacute;n &eacute; l&#596;',
'lien_reponse_breve_2' => 'y&iacute;gbj&egrave; n&uacute; x&oacute; kl&eacute;w&uacute;n &eacute; l&#596;',
'lien_reponse_rubrique' => 'y&iacute;gbj&egrave; n&uacute; &agrave;kp&aacute;xw&eacute;  &eacute; l&#596;',
'lien_reponse_site_reference' => 'y&iacute;gbj&egrave; n&uacute; gblogbloj&iacute; &#596;  &eacute; l&#596; :',
'lien_retirer_auteur' => 'mi &#598;&egrave; ny&#596;wl&aacute;t&#596; s&iacute;n ',
'lien_retrait_particpant' => 'mi &#598;&egrave; ny&#596;wl&aacute;t&#596; s&iacute;n ',
'lien_site' => 'gblogbloj&iacute;',
'lien_supprimer_rubrique' => 'S&ugrave;ns&ugrave;n &agrave;kp&aacute;xw&eacute; &eacute; l&#596;',
'lien_tout_deplier' => 'mi vl&#596;n b&iacute;',
'lien_tout_replier' => 'mi bl&aacute;n b&iacute;',
'lien_trier_nom' => 'mi cy&aacute;n ny&igrave;k&#596;m&#603;',
'lien_trier_nombre_articles' => 'mi cy&aacute;n w&eacute;kp&aacute;m&#603;',
'lien_trier_statut' => 'mi cy&aacute;n t&egrave;n&igrave;n&#596;m&#603;',
'lien_voir_en_ligne' => 'mi kp&#596;n &#598;&ograve; k&agrave;nn&uacute;:',
'logo_article' => 's&#596;s&iacute; w&eacute;kp&aacute; &#596; t&#596;n',
'logo_auteur' => 's&#596;s&iacute; ny&#596;wl&aacute;nt&#596; t&#596;n',
'logo_breve' => 's&#596;s&iacute; x&oacute; kl&eacute;w&uacute;n &#596; t&#596;n',
'logo_mot_cle' => 's&#596;s&iacute; x&oacute;gb&egrave; &#596; t&#596;n',
'logo_rubrique' => 's&#596;s&iacute; &agrave;kp&aacute;xw&eacute; &#596; t&#596;n',
'logo_site' => 's&#596;s&iacute; gblogblj&iacute;  &#596; t&#596;n',
'logo_standard_rubrique' => 's&#596;s&iacute; &agrave;kp&aacute;xw&eacute; &#596; t&#596;n',
'logo_survol' => 's&#596;s&iacute; z&igrave;wl&#596;n t&#596;n ',


// M
'menu_aide_installation_choix_base' => 'mi cy&aacute;n x&oacute;gb&egrave; l&#603; ',
'module_fichier_langue' => 'gb&egrave; l&#603; s&iacute;n we&#780;m&agrave; ',
'module_raccourci' => 'x&aacute;s&aacute;d&oacute;m&#603;',
'module_texte_affiche' => 'we&#780;m&agrave;  y&egrave; &#598;&eacute;xl&#603;',
'module_texte_explicatif' => 'mi z&eacute; x&aacute;s&aacute;d&oacute;m&#603; &#598;&eacute; m&#603;, y&eacute; n&aacute; t&igrave;nm&#603; bl&eacute;w&uacute;n &#598;&ograve; gb&#603; l&#603; m&#603; .',
'module_texte_traduction' => 'gb&egrave;  s&iacute;n we&#780;m&agrave;  &laquo;&nbsp;@module@&nbsp;&raquo; ',
'mois_non_connu' => ' y&eacute; t&ugrave;n &aacute; ',


// O
'onglet_repartition_actuelle' => 'Hw&eacute; &eacute;l&#596; n&uacute;',
'ortho_ajouter_ce_mot' => 'Z&eacute; g&#596; n&aacute; we&#780;m&aacute;m&#603;',
'ortho_aucune_suggestion' => 'Y&eacute; m&#596; &agrave;y&igrave; &#598;&eacute; &#598;&oacute; w&eacute;kw&iacute;n &eacute; l&#596; w&uacute; &aacute;.',
'ortho_avis_privacy' => 'Am&#596; c&oacute; n&uacute; mi n&aacute; s&#596; we&#780;m&agrave; mi t&#596;n &#598;&eacute; xl&#603; h&uacute;n mi v&aacute;n n&uacute;k&uacute;n &#598;&eacute;m&#603; &#598;&eacute;s&uacute; hw&#603;',
'ortho_avis_privacy2' => 'Am&#596; c&oacute; n&uacute; mi n&aacute; s&#596; we&#780;m&agrave; mi t&#596;n &#598;&eacute; xl&#603; h&uacute;n mi v&aacute;n n&uacute;k&uacute;n &#598;&eacute;m&#603; &#598;&eacute;s&uacute; hw&#603;',
'ortho_ce_mot_connu' => 'w&eacute;kw&iacute;n &eacute; l&#596; &#598;&ograve; we&#780;m&aacute;m&#603;',
'ortho_dico_absent' => 'y&eacute; m&#596; we&#780;m&agrave; &#598;&eacute; &#598;&ograve; gb&egrave; &eacute; l&#596; m&#603; &aacute;',
'ortho_mode_demploi' => 'w&eacute;kw&iacute;n &#598;e&#770; y&eacute; m&agrave; t&ugrave;n &agrave; l&#603; &#596; &#598;&ograve; v&#596;v&#596;m&#603;. Z&igrave;n y&eacute; b&oacute; kp&#596;n &agrave;y&igrave; &eacute; y&egrave; b &#598;&oacute; y&egrave;w&uacute; &#596;.',
'ortho_mots_a_corriger' => 'bl&oacute; w&eacute;kw&iacute;n &#596; &#598;&oacute;',
'ortho_orthographe' => 'winwl&aacute;n f&#596; &#598;&igrave;&#598;&eacute;',
'ortho_supprimer_ce_mot' => 'B&#603; w&eacute;kw&iacute;n s&iacute;n we&#780;m&aacute;m&#603;',
'ortho_trop_de_fautes' => 'Vl&#603; mi kl&#603;n &agrave;f&#596; s&uacute;kp&#596; &#598;&ograve; we&#780;m&agrave; mi t&#596;n m&#603; ',
'ortho_verif_impossible' => 'Mi j&#603; we&#780;m&agrave; l&#603; bl&oacute;&#598;&oacute; j&iacute; n&uacute; mi m&aacute; w&aacute; w&agrave;z&#596; g&#596;n&aacute; &oacute;.',
'ortho_verifier' => 'mi kp&#596;n winwl&aacute;n f&#596; &#598;&igrave;&#598;&eacute;',


// S
'statut_admin_restreint' => '(t&igrave;to kl&eacute;w&uacute;n)',


// T
'taille_cache_infinie' => 't&igrave;to kl&eacute;w&uacute;n.',
'taille_cache_maxi' => 't&igrave;to kl&eacute;w&uacute;n',
'taille_cache_octets' => 't&igrave;to kl&eacute;w&uacute;n de @octets at .',
'taille_cache_vide' => 'gb&agrave;v&iacute; &#596; j&#603; v&#596;.',
'taille_repertoire_cache' => 'gb&agrave;v&iacute; &#596; j&#603; v&#596;',
'text_article_propose_publication' => 'mi k&#603;nkl&#603;&#770;n b&oacute; n&aacute; l&igrave;nl&igrave;n mi t&#596;n &#598;&eacute; w&uacute;&#598;&ograve; kpl&eacute;kpl&eacute; y&eacute; s&#596; &#598;&oacute; d&ograve; w&#596; m&#603;.',
'texte_acces_ldap_anonyme_1' => 'mi k&#603;nkl&#603;&#770;n b&oacute; n&aacute; l&igrave;nl&igrave;n mi t&#596;n &#598;&eacute; w&uacute;&#598;&ograve; kpl&eacute;kpl&eacute; y&eacute; s&#596; &#598;&oacute; d&ograve; w&#596; m&#603;',
'texte_admin_effacer_01' => 'mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute;r&eacute;installation de SPIP pour recr&eacute;er une nouvelle base ainsi qu\'un premier acc&egrave;s administrateur.',
'texte_admin_tech_01' => 'mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute;.',
'texte_admin_tech_02' => 'mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute;... ',
'texte_admin_tech_03' => 'mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute;.',
'texte_adresse_annuaire_1' => 'mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute; &laquo;localhost&raquo;.)',
'texte_ajout_auteur' => 'mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute; :',
'texte_annuaire_ldap_1' => 'mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute;.',
'texte_article_statut' => ':',
'texte_article_virtuel' => 'w&eacute;kp&aacute; &eacute; l&#596;',
'texte_article_virtuel_reference' => 'w&eacute;kp&aacute; &eacute; l&#596;.',
'texte_aucun_resultat_auteur' => 'x&oacute;gb&egrave; l&#603; "@cherche_auteur@"',
'texte_auteur_messagerie' => 'ny&#596;wl&aacute;nt&#596; l&#603; .',
'texte_auteur_messagerie_1' => 'gblogbloj&iacute; &eacute; l&#596; n&#596; z&#596;n b&#596; mi n&#596; s&#603;  w&#603;n &#598;&oacute; b&oacute; n&#596; l&#603; y&iacute; w&#603;n.',
'texte_auteurs' => 'ny&#596;wl&aacute;nt&#596; l&#603; ',
'texte_breves' => 'b&#596; y&eacute; n&#596; z&#596;n b&#596; x&oacute; l&#603; n&#596; y&iacute; &agrave;t&#603;j&iacute; g&agrave;nm&#603;g&agrave;nm&#603;...',
'texte_choix_base_1' => 'mi s&#596; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; mi t&#596;n :',
'texte_choix_base_2' => 'm&#596; MySQL n&#596; h&#603;nx&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute;',
'texte_choix_base_3' => 'mi cy&iacute;an &#598;e&#770; j&#603; &#598;&eacute;w&uacute; &#596;:',
'texte_commande_vider_tables_indexation' => 'mi cy&iacute;an &#598;e&#770; j&#603; &#598;&eacute;w&uacute; &#596;.',
'texte_comment_lire_tableau' => 'gblogbloj&iacute; &eacute; l&#596; n&#596; z&#596;n b&#596; mi n&#596; s&#603;  w&#603;n &#598;&oacute; b&oacute; n&#596; l&#603; y&iacute; w&#603;nx&oacute; kl&eacute;wun l&#603; we&#780;m&agrave; kl&eacute;w&uacute;n &#598;&eacute; l&#603; w&#603;b&#596; y&eacute; n&#596; z&#596;n b&#596; x&oacute; l&#603; n&#596; y&iacute; &agrave;t&#603;j&iacute; g&agrave;nm&#603;g&agrave;nm&#603;mi s&#596; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; mi t&#596;n ',
'texte_compresse_ou_non' => '(E l&#596;&#770; y&eacute; s&iacute;w&uacute; x&oacute;klp&eacute;)',
'texte_compte_element' => '@count@ kw&iacute;n',
'texte_compte_elements' => '@count@ kw&iacute;n',
'texte_config_groupe_mots_cles' => ' x&oacute;gb&egrave; l&#603; ny&#596;wl&aacute;nt&#596; l&#603; gblogbloj&iacute; &eacute; l&#596; n&#596; z&#596;n b&#596; mi n&#596; s&#603;  w&#603;n &#598;&oacute; b&oacute; n&#596; l&#603; y&iacute; w&#603;nx&oacute; kl&eacute;wun l&#603; we&#780;m&agrave; kl&eacute;w&uacute;n &#598;&eacute; l&#603; w&#603;b&#596; y&eacute; n&#596; z&#596;n b&#596; x&oacute; l&#603; n&#596; y&iacute; &agrave;t&#603;j&iacute; g&agrave;nm&#603;g&agrave;nm&#603;mi s&#596; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; mi t&#596;n ',
'texte_connexion_mysql' => 't&ograve;b&iacute;t&ugrave;nt&igrave;to kl&eacute;w&uacute;ngb&agrave;v&iacute; &#596; j&#603; v&#596;w&#603;n &eacute; l&#596; y&eacute; s&#603; &#598;&oacute; &#596; mi k&#603;nkl&#603;&#770;n b&oacute; n&aacute; l&igrave;nl&igrave;n mi t&#596;n &#598;&eacute; w&uacute;MySQL, kpl&eacute;kpl&eacute; y&eacute; s&#596; &#598;&oacute; d&ograve; w&#596; m&#603; MySQL.',
'texte_contenu_article' => '(Mi wl&aacute;n w&eacute;kp&aacute; s&iacute;n x&ograve;m&#603; &#598;&oacute; x&aacute;s&aacute;d&oacute;m&#603;.)',
'texte_contenu_articles' => 'gblogbloj&iacute; &eacute; l&#596; n&#596; z&#596;n b&#596; mi n&#596; s&#603;  w&#603;n &#598;&oacute; b&oacute; n&#596; l&#603; y&iacute; w&#603;nx&oacute; kl&eacute;wun l&#603; we&#780;m&agrave; kl&eacute;w&uacute;n &#598;&eacute; l&#603; w&#603;b&#596; y&eacute; n&#596; z&#596;n b&#596; x&oacute; l&#603; n&#596; y&iacute; &agrave;t&#603;j&iacute; g&agrave;nm&#603;g&agrave;nm&#603;mi s&#596; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; mi t&#596;n m&#596;.',
'texte_crash_base' => 'N&uacute; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; gbl&egrave; &#596; mi s&iacute;w&uacute; l&#603; v&#596; bl&oacute;&#598;&oacute;.',
'texte_creer_rubrique' => 'C&oacute; mi n&aacute; wl&aacute;n we&#780;m&agrave; &#596; mi &#598;&oacute; n&aacute; bl&oacute; &agrave;kp&aacute;xw&eacute; &#598;&ograve;kp&oacute; hw&#603;.',
'texte_date_creation_article' => 'Gbe&#770;gb&egrave; y&eacute; wl&aacute;n we&#780;m&agrave; &#596;&nbsp;:',
'texte_date_publication_anterieure' => 'AZAN &#393;E&#770; YE S&#390; WE&#780;MA S&#390; XL&#400; &#390;&nbsp;:',
'texte_date_publication_anterieure_nonaffichee' => 'Mi s&#596; Az&aacute;n &#598;e&#770; y&eacute; s&#596; we&#780;m&agrave; s&#596; xl&#603;.',
'texte_date_publication_article' => 'Mi s&#596; Az&aacute;n &#598;e&#770; y&eacute; s&#596; we&#780;m&agrave; s&#596; xl&#603;&nbsp;:',
'texte_demander_blocage_priori' => '&agrave;l&#596;wl&iacute; &#598;&eacute;v&oacute; l&#603; &#598;e&#770; g&ograve;s&iacute;n gblogbloj&iacute; &eacute; l&#596; j&aacute;n .',
'texte_descriptif_petition' => 'mi t&igrave;nm&#603; x&oacute;j&iacute;jl&aacute; &#596;',
'texte_descriptif_rapide' => 'mi t&igrave;nm&#603; c&agrave;c&agrave;c&agrave;',
'texte_documents_joints' => 'Z&eacute; g&#596; n&aacute; we&#780;m&aacute;m&#603;Y&eacute; m&#596; &agrave;y&igrave; &#598;&eacute; &#598;&oacute; w&eacute;kw&iacute;n &eacute; l&#596; w&uacute; &aacute;Y&eacute; s&#596; m&#596; &#598;e&#770; n&aacute; n&#596; kp&#596;n w&eacute;kw&iacute;n s&iacute;n winwl&aacute;n g&agrave;nj&iacute; &#596; &#598;&oacute; s&ugrave;p&iacute;p&ugrave;m&#603;.Am&#596; c&oacute; n&uacute; mi n&aacute; s&#596; we&#780;m&agrave; mi t&#596;n &#598;&eacute; xl&#603; h&uacute;n mi v&aacute;n n&uacute;k&uacute;n &#598;&eacute;m&#603; &#598;&eacute;s&uacute; hw&#603;',
'texte_documents_joints_2' => 'mi s&#596; &#598;id&eacute; &#598;&oacute; we&#780;m&agrave; l&#603; m&#603;.',
'texte_effacer_base' => 'mi s&ugrave;ns&ugrave;n x&oacute;x&ograve;kpl&eacute; s&ugrave;p&iacute;p&ugrave; t&#596;n ',
'texte_effacer_donnees_indexation' => 'mi s&ugrave;ns&ugrave;n x&oacute;x&ograve;kpl&eacute; ind&#603;s&ugrave; t&#596;n',
'texte_en_cours_validation' => 'w&eacute;kw&iacute;n &eacute; l&#596; &#598;&ograve; we&#780;m&aacute;m&#603;y&eacute; m&#596; we&#780;m&agrave; &#598;&eacute; &#598;&ograve; gb&egrave; &eacute; l&#596; m&#603; &aacute;w&eacute;kw&iacute;n &#598;e&#770; y&eacute; m&agrave; t&ugrave;n &agrave; l&#603; &#596; &#598;&ograve; v&#596;v&#596;m&#603;. Z&igrave;n y&eacute; b&oacute; kp&#596;n &agrave;y&igrave; &eacute; y&egrave; b &#598;&oacute; y&egrave;w&uacute; &#596;.',
'texte_enrichir_mise_a_jour' => 'mi s&iacute;w&uacute; z&aacute;n kw&iacute;n &eacute; l&#596; l&#603;&raquo;.',
'texte_fichier_authent' => 'x&oacute; kl&eacute;wun l&#603; we&#780;m&agrave; kl&eacute;w&uacute;n &#598;&eacute; l&#603; w&#603;b&#596; y&eacute; n&#596; z&#596;n b&#596; x&oacute; l&#603; n&#596; y&iacute; &agrave;t&#603;j&iacute; g&agrave;nm&#603;g&agrave;nm&#603;mi s&#596; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; mi t&#596;n m&#596;n&#596; h&#603;nmi cy&iacute;an &#598;e&#770; j&#603; &#598;&eacute;w&uacute; &#596;',
'texte_informations_personnelles_1' => 'T&igrave;t&ograve;m&#603; &#596; n&aacute; mi &agrave;c&#603; mi &#598;&eacute; s&uacute; t&#596;n mi .',
'texte_informations_personnelles_2' => 'N&uacute; mi l&#603; j&aacute;n bl&oacute; b&#596; &agrave;c&#603; mi t&#596;n &#598;&ograve; &agrave;z&#596; w&agrave;w&#603; t&#603;gb&#603; &#596; mi s&iacute;w&uacute;',
'texte_introductif_article' => '(C&oacute; n&uacute; mi n&aacute; b&#603; x&oacute; &#596;.)',
'texte_jeu_caractere' => 'vl&agrave;v&ograve; n&uacute; mi g&ograve;s&iacute;nb&ograve; d&oacute;z&ograve; n&uacute; &#598;&eacute;xl&#603;t&#596; mi t&#596;n  mi k&nbsp;p&#596;n &agrave;c&#603; winwl t&#596;n E &#598;&ograve; &agrave;kp&aacute;xw&eacute; &#596; m&#603; T&igrave;t&ograve;m&#603; &#596; n&aacute; mi &agrave;c&#603; mi &#598;&eacute; s&uacute; t&#596;n mi N&uacute; mi l&#603; j&aacute;n bl&oacute; b&#596; &agrave;c&#603; mi t&#596;n &#598;&ograve; &agrave;z&#596; w&agrave;w&#603; t&#603;gb&#603; &#596; mi s&iacute;w&uacute;(balise <tt>#CHARSET</tt>).',
'texte_jeu_caractere_2' => 'vl&agrave;v&ograve; n&uacute; mi g&ograve;s&iacute;nb&ograve; d&oacute;z&ograve; n&uacute; &#598;&eacute;xl&#603;t&#596; mi t&#596;n  mi k&nbsp;p&#596;n &agrave;c&#603; winwl t&#596;n E &#598;&ograve; &agrave;kp&aacute;xw&eacute; &#596; m&#603; T&igrave;t&ograve;m&#603; &#596; n&aacute; mi &agrave;c&#603; mi &#598;&eacute; s&uacute; t&#596;n mi N&uacute; mi l&#603; j&aacute;n bl&oacute; b&#596; &agrave;c&#603; mi t&#596;n &#598;&ograve; &agrave;z&#596; w&agrave;w&#603; t&#603;gb&#603; &#596; mi s&iacute;w&uacute;',
'texte_lien_hypertexte' => '(n&#603; ny&iacute; &#598;&#596; w&#603;n &eacute; l&#596; k&ograve; y&iacute; &agrave;t&#603; &#596; j&iacute; &#598;&aacute; y&iacute; &#596; mi xl&#603; n&#596;t&#603;n  URL.)',
'texte_liens_sites_syndiques' => 'mi s&#596; &#598;id&eacute; &#598;&oacute; we&#780;m&agrave; l&#603; m&#603;s&ugrave;p&iacute;p&ugrave; t&#596;n n&uacute; mi n&aacute; t&ograve; we&#780;m&agrave; mi t&#596;n g&agrave;nj&iacute; &#596; mi s&iacute;w&uacute; z&aacute;n kw&iacute;n &eacute; l&#596; l&#603;mi k&oacute; m&#596; mi &agrave;m&#596; mi s&#596; &#598;&ograve; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; &#596; m&#603; &aacute;mi l&#603; v&#596; y&iacute; k&agrave;nj&iacute;',
'texte_liens_syndication' => '&agrave;l&#596;wl&iacute; y&#596;y&#596; l&#603; n&aacute; j&#603; &agrave;t&#603; &#596; j&iacute;,mi n&aacute; s&#596; y&eacute; xl&#603; &agrave;z&#596;n &#598;&oacute;kp&oacute;.',
'texte_login_ldap_1' => 'vl&agrave;v&ograve; n&uacute; mi g&ograve;s&iacute;nb&ograve; d&oacute;z&ograve; n&uacute; &#598;&eacute;xl&#603;t&#596; mi t&#596;n  mi k&nbsp;p&#596;n &agrave;c&#603; winwl t&#596;n E &#598;&ograve; &agrave;kp&aacute;xw&eacute; &#596; m&#603; T&igrave;t&ograve;m&#603; &#596; n&aacute; mi &agrave;c&#603; mi &#598;&eacute; s&uacute; t&#596;n mi N&uacute; mi l&#603; j&aacute;n bl&oacute; b&#596; &agrave;c&#603; mi t&#596;n &#598;&ograve; &agrave;z&#596; w&agrave;w&#603; t&#603;gb&#603; &#596; mi s&iacute;w&uacute;',
'texte_login_precaution' => 'vl&agrave;v&ograve; n&uacute; mi g&ograve;s&iacute;nb&ograve; d&oacute;z&ograve; n&uacute; &#598;&eacute;xl&#603;t&#596; mi t&#596;n  mi k&nbsp;p&#596;n &agrave;c&#603; winwl t&#596;n E &#598;&ograve; &agrave;kp&aacute;xw&eacute; &#596; m&#603; T&igrave;t&ograve;m&#603; &#596; n&aacute; mi &agrave;c&#603; mi &#598;&eacute; s&uacute; t&#596;n mi N&uacute; mi l&#603; j&aacute;n bl&oacute; b&#596; &agrave;c&#603; mi t&#596;n &#598;&ograve; &agrave;z&#596; w&agrave;w&#603; t&#603;gb&#603; &#596; mi s&iacute;w&uacute;...',
'texte_message_edit' => 'Gbe&#770;gb&egrave; y&eacute; wl&aacute;n we&#780;m&agrave; &#596;Mi s&#596; Az&aacute;n &#598;e&#770; y&eacute; s&#596; we&#780;m&agrave; s&#596; xl&#603;&agrave;l&#596;wl&iacute; &#598;&eacute;v&oacute; l&#603; &#598;e&#770; g&ograve;s&iacute;n gblogbloj&iacute; &eacute; l&#596; j&aacute;n mi t&igrave;nm&#603; c&agrave;c&agrave;c&agrave;x&oacute;j&iacute;jl&aacute; &#596;mi s&#596; &#598;id&eacute; &#598;&oacute; we&#780;m&agrave; l&#603; m&#603;s&ugrave;p&iacute;p&ugrave; t&#596;n ',
'texte_messages_publics' => 'w&#603;n w&eacute;kp&aacute; t&#596;n y&eacute; s&#596; xl&#603; :',
'texte_mise_a_niveau_base_1' => 'w&#603;n w&eacute;kp&aacute; t&#596;n y&eacute; s&#596; xl&#603;&agrave;l&#596;wl&iacute; y&#596;y&#596; l&#603; n&aacute; j&#603; &agrave;t&#603; &#596; j&iacute;mi n&aacute; s&#596; y&eacute; xl&#603; &agrave;z&#596;n &#598;&oacute;kp&oacute;',
'texte_modifier_article' => '&#598;y&#596; w&eacute;kp&aacute; &#596;:',
'texte_moteur_recherche_active' => 'vl&agrave;v&ograve; n&uacute; mi g&ograve;s&iacute;nb&ograve; d&oacute;z&ograve; n&uacute; &#598;&eacute;xl&#603;t&#596; mi t&#596;n  mi k&nbsp;p&#596;n &agrave;c&#603; winwl t&#596;n E &#598;&ograve; &agrave;kp&aacute;xw&eacute; &#596; m&#603; T&igrave;t&ograve;m&#603; &#596; n&aacute; mi &agrave;c&#603; mi &#598;&eacute; s&uacute; t&#596;n mi N&uacute; mi l&#603; j&aacute;n bl&oacute; b&#596; &agrave;c&#603; mi t&#596;n &#598;&ograve; &agrave;z&#596; w&agrave;w&#603; t&#603;gb&#603; &#596; mi s&iacute;w&uacute;C&oacute; n&uacute; mi n&aacute; b&#603; x&oacute; &#596; n&#603; ny&iacute; &#598;&#596; w&#603;n &eacute; l&#596; k&ograve; y&iacute; &agrave;t&#603; &#596; j&iacute; &#598;&aacute; y&iacute; &#596; mi xl&#603; n&#596;t&#603;n &agrave;l&#596;wl&iacute; y&#596;y&#596; l&#603; n&aacute; j&#603; &agrave;t&#603; &#596; j&iacute;mi n&aacute; s&#596; y&eacute; xl&#603; &agrave;z&#596;n &#598;&oacute;kp&oacute;',
'texte_moteur_recherche_non_active' => 'm&#596;&#770; &#598;&ograve; &agrave;z&#596; w&agrave; w&#603; &aacute;.',
'texte_mots_cles' => 'Gbe&#770;gb&egrave; y&eacute; wl&aacute;n we&#780;m&agrave; &#596;Mi s&#596; Az&aacute;n &#598;e&#770; y&eacute; s&#596; we&#780;m&agrave; s&#596; xl&#603;&agrave;l&#596;wl&iacute; &#598;&eacute;v&oacute; l&#603; &#598;e&#770; g&ograve;s&iacute;n gblogbloj&iacute; &eacute; l&#596; j&aacute;n mi t&igrave;nm&#603; c&agrave;c&agrave;c&agrave;x&oacute;j&iacute;jl&aacute; &#596;mi s&#596; &#598;id&eacute; &#598;&oacute; we&#780;m&agrave; l&#603; m&#603;s&ugrave;p&iacute;p&ugrave; t&#596;n n&uacute; mi n&aacute; t&ograve; we&#780;m&agrave; mi t&#596;n g&agrave;nj&iacute; &#596; mi s&iacute;w&uacute; z&aacute;n kw&iacute;n &eacute; l&#596; l&#603;mi k&oacute; m&#596; mi &agrave;m&#596; mi s&#596; &#598;&ograve; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; &#596; m&#603; &aacute;mi l&#603; v&#596; y&iacute; k&agrave;nj&iacute;',
'texte_mots_cles_dans_forum' => 'Gbe&#770;gb&egrave; y&eacute; wl&aacute;n we&#780;m&agrave; &#596;Mi s&#596; Az&aacute;n &#598;e&#770; y&eacute; s&#596; we&#780;m&agrave; s&#596; xl&#603;&agrave;l&#596;wl&iacute; &#598;&eacute;v&oacute; l&#603; &#598;e&#770; g&ograve;s&iacute;n gblogbloj&iacute; &eacute; l&#596; j&aacute;n mi t&igrave;nm&#603; c&agrave;c&agrave;c&agrave;x&oacute;j&iacute;jl&aacute; &#596;mi s&#596; &#598;id&eacute; &#598;&oacute; we&#780;m&agrave; l&#603; m&#603;s&ugrave;p&iacute;p&ugrave; t&#596;n n&uacute; mi n&aacute; t&ograve; we&#780;m&agrave; mi t&#596;n g&agrave;nj&iacute; &#596; mi s&iacute;w&uacute; z&aacute;n kw&iacute;n &eacute; l&#596; l&#603;',
'texte_multilinguisme' => 'vl&agrave;v&ograve; n&uacute; mi g&ograve;s&iacute;nb&ograve; d&oacute;z&ograve; n&uacute; &#598;&eacute;xl&#603;t&#596; mi t&#596;n  mi k&nbsp;p&#596;n &agrave;c&#603; winwl t&#596;n E &#598;&ograve; &agrave;kp&aacute;xw&eacute; &#596; m&#603; T&igrave;t&ograve;m&#603; &#596; n&aacute; mi &agrave;c&#603; mi &#598;&eacute; s&uacute; t&#596;n mi N&uacute; mi l&#603; j&aacute;n bl&oacute; b&#596; &agrave;c&#603; mi t&#596;n &#598;&ograve; &agrave;z&#596; w&agrave;w&#603; t&#603;gb&#603; &#596; mi s&iacute;w&uacute;C&oacute; n&uacute; mi n&aacute; b&#603; x&oacute; &#596; n&#603; ny&iacute; &#598;&#596; w&#603;n &eacute; l&#596; k&ograve; y&iacute; &agrave;t&#603; &#596; j&iacute; &#598;&aacute; y&iacute; &#596; mi xl&#603; n&#596;t&#603;n ',
'texte_multilinguisme_trad' => 'w&#603;n w&eacute;kp&aacute; t&#596;n y&eacute; s&#596; xl&#603;mi jl&aacute;&#598;y&#596; w&eacute;kp&aacute; &#596;m&#596;&#770; &#598;&ograve; &agrave;z&#596; w&agrave; w&#603; &aacute;.',
'texte_non_compresse' => 'x&oacute;kpl&eacute;(m&#596; mi t&#596;n s&igrave;w&uacute; y&iacute; w&agrave;l&#596; &eacute; n&#603; l&#603; &aacute;)',
'texte_non_fonction_referencement' => 'mi h&#603;n mi n&aacute; z&aacute;n w&agrave;l&#596; c&agrave;c&agrave;c&agrave; &#596; &aacute;mi &#598;&eacute; s&uacute; mi bl&oacute; j&#603; x&aacute; my&#596;  ...',
'texte_nouveau_message' => 'w&#603;n y&#596;y&#596;',
'texte_nouveau_mot' => 'w&eacute;kw&iacute;n y&#596;y&#596;',
'texte_nouvelle_version_spip_1' => 'w&agrave;l&#596; s&ugrave;p&iacute;p&ugrave; &#598;&eacute;v&oacute; w&#603; mi s&#596;.',
'texte_nouvelle_version_spip_2' => 'C&oacute; n&uacute; mi n&aacute; b&#603; x&oacute; &#596; n&#603; ny&iacute; &#598;&#596; w&#603;n &eacute; l&#596; k&ograve; y&iacute; &agrave;t&#603; &#596; j&iacute; &#598;&aacute; y&iacute; &#596; mi xl&#603; n&#596;t&#603;n &agrave;l&#596;wl&iacute; y&#596;y&#596; l&#603; n&aacute; j&#603; &agrave;t&#603; &#596; j&iacute;mi n&aacute; s&#596; y&eacute; xl&#603; &agrave;z&#596;n &#598;&oacute;kp&oacute;w&#603;n w&eacute;kp&aacute; t&#596;n y&eacute; s&#596; xl&#603;mi jl&aacute;&#598;y&#596; w&eacute;kp&aacute; &#596;m&#596;&#770; &#598;&ograve; &agrave;z&#596; w&agrave; w&#603; &aacute;x&oacute;kpl&eacute;m&#596; mi t&#596;n s&igrave;w&uacute; y&iacute; w&agrave;l&#596; &eacute; n&#603; l&#603; &aacute;mi h&#603;n mi n&aacute; z&aacute;n w&agrave;l&#596; c&agrave;c&agrave;c&agrave; &#596; &aacute;mi &#598;&eacute; s&uacute; mi bl&oacute; j&#603; x&aacute; my&#596;  w&eacute;kw&iacute;n y&#596;y&#596;...)',
'texte_operation_echec' => 'mi l&#603; v&#596; y&iacute; w&eacute;kp&aacute; &#598;&eacute; w&aacute; &#596; j&iacute; mi l&#603; v&#596; kp&#596;n x&oacute; &eacute; xw&eacute;t&#596;&#770; s&#603;&#598;&oacute; &#596;.',
'texte_plus_trois_car' => 'E z&#603; kw&iacute;n &agrave;t&#596;n  w&uacute;',
'texte_plusieurs_articles' => 'y&eacute; m&#596; ny&#596;wl&aacute;nt&#596; g&eacute;g&eacute;"@cherche_auteur@":',
'texte_port_annuaire' => '(&agrave;c&#603; y&eacute; n&#596; n&aacute; n&#596; j&#603;&#598;&oacute;.)',
'texte_proposer_publication' => 'N&uacute; mi wl&aacute;n we&#780;m&agrave; mi t&#596;n f&oacute; &#596; mi s&iacute;w&uacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute; .',
'texte_proxy' => 'Gbe&#770;gb&egrave; y&eacute; wl&aacute;n we&#780;m&agrave; &#596;Mi s&#596; Az&aacute;n &#598;e&#770; y&eacute; s&#596; we&#780;m&agrave; s&#596; xl&#603;&agrave;l&#596;wl&iacute; &#598;&eacute;v&oacute; l&#603; &#598;e&#770; g&ograve;s&iacute;n gblogbloj&iacute; &eacute; l&#596; j&aacute;n mi t&igrave;nm&#603; c&agrave;c&agrave;c&agrave;x&oacute;j&iacute;jl&aacute; &#596;mi s&#596; &#598;id&eacute; &#598;&oacute; we&#780;m&agrave; l&#603; m&#603;s&ugrave;p&iacute;p&ugrave; t&#596;n n&uacute; mi n&aacute; t&ograve; we&#780;m&agrave; mi t&#596;n g&agrave;nj&iacute; &#596; mi s&iacute;w&uacute; z&aacute;n kw&iacute;n &eacute; l&#596; l&#603;mi k&oacute; m&#596; mi &agrave;m&#596; mi s&#596; &#598;&ograve; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; &#596; m&#603; &aacute;mi l&#603; v&#596; y&iacute; k&agrave;nj&iacute;.',
'texte_publication_articles_post_dates' => 'W&agrave;l&#596;t&#603; s&ugrave;p&iacute;p&ugrave; k&agrave;s&iacute;w&uacute; bl&oacute; w&eacute;m&agrave; &#598;e&#770; jl&oacute; n&aacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute; hw&egrave; &#598;&eacute; v&oacute; n&uacute; &#596;?',
'texte_rappel_selection_champs' => '[Mi m&aacute; w&#596;n b&oacute; s&#596; k&#603;n n&uacute; t&#603;nm&#603; &oacute;.]',
'texte_recalcul_page' => 'Mi w&#596;n w&eacute;kp&aacute; &#598;&ograve;kp&oacute; s&iacute;n &agrave;k&#596;w&uacute;nt&agrave; bl&oacute; mi &#598;&egrave;.Mi l&#603; v&#596; b&oacute; z&iacute;n .',
'texte_recapitiule_liste_documents' => 'w&eacute;kp&aacute; n&#596; bl&oacute; &agrave;k&#596;w&uacute;nt&agrave; w&eacute;m&agrave; &eacute; &#598;&ograve; &agrave;kp&eacute;xw&eacute; l&#603;&#770; m&#603;.',
'texte_recuperer_base' => 'mi bl&oacute; x&oacute;x&ograve;kpl&eacute; &#596; &#598;&oacute;',
'texte_reference_mais_redirige' => 'w&eacute;m&agrave; &eacute; l&#596; s&ugrave;p&iacute;p&ugrave; m&#603; w&#603; &eacute; m&#596; &agrave;c&#603; &#598;&eacute; &agrave;m&#596; n&#596;t&#603;n &#598;&eacute;v&#596; m&#603; w&#603; &eacute; xw&egrave;',
'texte_referencement_automatique' => 'gb&agrave;v&iacute; &#596; j&#603; v&#596;w&#603;n &eacute; l&#596; y&eacute; s&#603; &#598;&oacute; &#596; mi k&#603;nkl&#603;&#770;n b&oacute; n&aacute; l&igrave;nl&igrave;n mi t&#596;n &#598;&eacute; w&uacute;&#598;&ograve; kpl&eacute;kpl&eacute; y&eacute; s&#596; &#598;&oacute; d&ograve; w&#596; m&#603;n&uacute; &agrave;t&#603; wo&#770; m&aacute; m&igrave; &#596; mi z&igrave;n f&iacute;mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute;w&eacute;kp&aacute; &eacute; l&#596;x&oacute;gb&egrave; l&#603; ny&#596;wl&aacute;nt&#596; l&#603; gblogbloj&iacute; &eacute; l&#596; n&#596; z&#596;n b&#596; mi n&#596; s&#603;  w&#603;n &#598;&oacute; b&oacute; n&#596; l&#603; y&iacute; w&#603;nx&oacute; kl&eacute;wun l&#603; we&#780;m&agrave; kl&eacute;w&uacute;n &#598;&eacute; l&#603; w&#603;b&#596; y&eacute; n&#596; z&#596;n b&#596; x&oacute; l&#603; n&#596; y&iacute; &agrave;t&#603;j&iacute; g&agrave;nm&#603;g&agrave;nm&#603;mi s&#5!
 96; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; mi t&#596;n m&#596;n&#596; h&#603;nmi cy&iacute;an &#598;e&#770; j&#603; &#598;&eacute;w&uacute; &#596;...).',
'texte_requetes_echouent' => 'T&igrave;t&ograve;m&#603; S&ugrave;p&iacute;p&ugrave; t&#596;n s&#596; gb&#596;n uZine j&iacute;Et&#603; w&#603; ny&iacute; s&ugrave;p&iacute;p&ugrave;We&#780;m&agrave;x&ograve;kpl&eacute; s&ugrave;p&iacute;p&ugrave; t&#596;nt&#603;m&#603;b&igrave;b&aacute;  - bl&ograve;&#598;&oacute;T&igrave;t&ograve;m&#603; &eacute; n&#596; z&#596;n b&#596; y&egrave; n&#596; &#598;&egrave; n&#603; &#598;&ograve; gblogbl&ograve;j&iacute; E z&#603; kw&iacute;n &agrave;t&#596;n  w&uacute;&agrave;c&#603; y&eacute; n&#596; n&aacute; n&#596; j&#603;&#598;&oacute;N&uacute; mi wl&aacute;n we&#780;m&agrave; mi t&#596;n f&oacute; &#596; mi s&iacute;w&uacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute; W&agrave;l&#596;t&#603; s&ugrave;p&iacute;p&ugrave; k&agrave;s&iacute;w&uacute; bl&oacute; w&eacute;m&agrave; &#598;e&#770; jl&oacute; n&aacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute; hw&egrave; &#598;&eacute; v&oacute; n&uacute; &#596;Mi w&#596;n w&eacute;kp&!
 aacute; &#598;&ograve;kp&oacute; s&iacute;n &agrave;k&#596;w&uacute;nt&agrave; bl&oacute; mi &#598;&egrave;.Mi l&#603; v&#596; b&oacute; z&iacute;n b&oacute; s&#596; k&#603;n n&uacute; t&#603;nm&#603; &oacute;w&eacute;kp&aacute; n&#596; bl&oacute; &agrave;k&#596;w&uacute;nt&agrave; w&eacute;m&agrave; &eacute; &#598;&ograve; &agrave;kp&eacute;xw&eacute; l&#603;&#770; m&#603;',
'texte_restaurer_base' => 'mi l&#603; x&ograve;m&#603; &#596; wl&iacute;h&#603;n',
'texte_restaurer_sauvegarde' => 'mi l&#603; x&ograve;m&#603; &#596; wl&iacute;h&#603;n E z&#603; kw&iacute;n &agrave;t&#596;n  w&uacute;&agrave;c&#603; y&eacute; n&#596; n&aacute; n&#596; j&#603;&#598;&oacute;N&uacute; mi wl&aacute;n we&#780;m&agrave; mi t&#596;n f&oacute; &#596; mi s&iacute;w&uacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute; W&agrave;l&#596;t&#603; s&ugrave;p&iacute;p&ugrave; k&agrave;s&iacute;w&uacute; bl&oacute; w&eacute;m&agrave; &#598;e&#770; jl&oacute; n&aacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute; hw&egrave; &#598;&eacute; v&oacute; n&uacute; &#596;Mi w&#596;n w&eacute;kp&aacute; &#598;&ograve;kp&oacute; s&iacute;n &agrave;k&#596;w&uacute;nt&agrave; bl&oacute; mi &#598;&egrave;.',
'texte_sauvegarde' => 'mi l&#603; x&ograve;m&#603; &#596; wl&iacute;h&#603;n',
'texte_sauvegarde_base' => 'mi wl&iacute; x&ograve;x&ograve;k&nbsp;pl&eacute; &#596; h&#603;n',
'texte_sauvegarde_compressee' => 'mi n&aacute; wl&iacute;h&#603;n &#598;&ograve; gb&egrave;t&aacute; &#596; m&#603;<b>ecrire/data/dump.xml</b>.',
'texte_selection_langue_principale' => 'S&ugrave;p&iacute;p&ugrave; &#596; t&igrave;t&oacute;m&#603; n&ugrave; j&iacute;jl&aacute; t&#596;n &#598;e&#770; minir&eacute;zo k&eacute;j&eacute; b&oacute; l&#603; vl&#596;nk&aacute;n n&uacute; b&iacute;bl&oacute; gbl&ograve;gbl&ograve;j&iacute; uZine t&#596;n &#596;. M&igrave; s&#596; k&#603; m&iacute; &#598;&ograve; &agrave;c&#603; w&agrave;l&#596; GPl t&#596;n m&#603;. Mi&#772; z&eacute; b&ograve; z&aacute;n b&oacute; d&oacute; bl&oacute; gbl&ograve;gbl&ograve;j&iacute; l&#603;&#770; n&aacute; : &eacute; s&iacute;w&uacute; ny&iacute; m&igrave; t&#596;n &#598;&eacute; s&uacute; k&agrave;b&iacute; gb&#603;t&aacute; &#598;&eacute; t&#596;n, k&agrave;b&iacute; t&ograve;x&oacute;&#598;&#596;gb&#603; &#598;&eacute; t&#596;n, &agrave;l&oacute; &agrave;j&#596;w&iacute;w&aacute; w&uacute;.Gbl&ograve;gbl&ograve;j&iacute; &eacute; l&#596;&#770;, &eacute; w&#603; ny&iacute;  We&#780;m&agrave;x&ograve;kpl&eacute; s&ugrave;p&iacute;p&ugrave; t!
 &#596;n &#598;&ograve; t&aacute;j&iacute;. M&iacute; n&aacute; l&#603; m&#596; &agrave;l&#596;wl&iacute; g&eacute;g&eacute; &#598;e&#770; n&aacute; &#598;&#596;n mi&#770; y&igrave; gbl&ograve;gbl&ograve;j&iacute; &#598;e&#770; j&iacute; kpl&eacute;kpl&eacute; l&#603;&#770; n&#596; ti&#770;n &#598;&egrave; &#596; T&igrave;t&ograve;m&#603; S&ugrave;p&iacute;p&ugrave; t&#596;n s&#596; gb&#596;n uZine j&iacute;Et&#603; w&#603; ny&iacute; s&ugrave;p&iacute;p&ugrave;We&#780;m&agrave;x&ograve;kpl&eacute; s&ugrave;p&iacute;p&ugrave; t&#596;n',
'texte_signification' => 'mi n&aacute; s&#596; m&#596; &agrave;l&igrave; g&eacute;g&eacute;w&eacute;kp&aacute; &eacute; l&#596;x&oacute;gb&egrave; l&#603; ny&#596;wl&aacute;nt&#596; l&#603; gblogbloj&iacute; &eacute; l&#596; n&#596; z&#596;n b&#596; mi n&#596; s&#603;  w&#603;n &#598;&oacute; b&oacute; n&#596; l&#603; y&iacute; w&#603;nx&oacute; kl&eacute;wun l&#603; we&#780;m&agrave; kl&eacute;w&uacute;n &#598;&eacute; l&#603; w&#603;b&#596; y&eacute; n&#596; z&#596;n b&#596; x&oacute; l&#603; n&#596; y&iacute; &agrave;t&#603;j&iacute; g&agrave;nm&#603;g&agrave;nm&#603;mi s&#596; x&oacute;x&ograve;kpl&eacute;gb&agrave;v&iacute; mi t&#596;n m&#596;n&#596; h&#603;nmi cy&iacute;an &#598;e&#770; j&#603; &#598;&eacute;w&uacute; &#596;.',
'texte_sous_titre' => 'X&oacute;t&aacute; g&uacute;d&oacute;',
'texte_statistiques_visites' => '(barres fonc&eacute;es : v&ograve;d&ugrave;ngb&egrave; / courbe fonc&eacute;e : &eacute;volution de la moyenne)',
'texte_statut_attente_validation' => 'E kp&oacute; b&#596; y&eacute; n&aacute; s&#596; k&#603;n n&aacute;',
'texte_statut_publies' => 's&#596;&#598;&ograve; &agrave;t&#603;j&iacute;',
'texte_statut_refuses' => 'gb&#603; b&iacute;',
'texte_suppression_fichiers' => 't&#603;m&#603;b&igrave;b&aacute;  - bl&ograve;&#598;&oacute;T&igrave;t&ograve;m&#603; &eacute; n&#596; z&#596;n b&#596; y&egrave; n&#596; &#598;&egrave; n&#603; &#598;&ograve; gblogbl&ograve;j&iacute; E z&#603; kw&iacute;n &agrave;t&#596;n  w&uacute;&agrave;c&#603; y&eacute; n&#596; n&aacute; n&#596; j&#603;&#598;&oacute;N&uacute; mi wl&aacute;n we&#780;m&agrave; mi t&#596;n f&oacute; &#596; mi s&iacute;w&uacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute; W&agrave;l&#596;t&#603; s&ugrave;p&iacute;p&ugrave; k&agrave;s&iacute;w&uacute; bl&oacute; w&eacute;m&agrave; &#598;e&#770; jl&oacute; n&aacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute; hw&egrave; &#598;&eacute; v&oacute; n&uacute; &#596;Mi w&#596;n w&eacute;kp&aacute; &#598;&ograve;kp&oacute; s&iacute;n &agrave;k&#596;w&uacute;nt&agrave; bl&oacute; mi &#598;&egrave;.Mi l&#603; v&#596; b&oacute; z&iacute;n b&oacute; s&#596; k&#603;n n&uacute; t&#603;nm&#603; &oacute;',
'texte_sur_titre' => 'x&oacute;t&aacute;j&iacute;',
'texte_syndication' => 'w&eacute;kw&iacute;n &eacute; l&#596; &#598;&ograve; we&#780;m&aacute;m&#603;y&eacute; m&#596; we&#780;m&agrave; &#598;&eacute; &#598;&ograve; gb&egrave; &eacute; l&#596; m&#603; &aacute;w&eacute;kw&iacute;n &#598;e&#770; y&eacute; m&agrave; t&ugrave;n &agrave; l&#603; &#596; &#598;&ograve; v&#596;v&#596;m&#603;. Z&igrave;n y&eacute; b&oacute; kp&#596;n &agrave;y&igrave; &eacute; y&egrave; b &#598;&oacute; y&egrave;w&uacute; &#596;bl&oacute; w&eacute;kw&iacute;n &#596; &#598;&oacute;mi kp&#596;n winwl&aacute;n f&#596; &#598;&igrave;&#598;&eacute;B&#603; w&eacute;kw&iacute;n s&iacute;n we&#780;m&aacute;m&#603;Vl&#603; mi kl&#603;n &agrave;f&#596; s&uacute;kp&#596; &#598;&ograve; we&#780;m&agrave; mi t&#596;n m&#603; Mi j&#603; we&#780;m&agrave; l&#603; bl&oacute;&#598;&oacute; j&iacute; n&uacute; mi m&aacute; w&aacute; w&agrave;z&#596; g&#596;n&aacute; &oacute;Mi s&#596; c&agrave;v&igrave; &#598;&eacute;v&oacute;kl&#603;n &agrave;f&#596; &#598;&ograve;!
  f&iacute; &aacute;mi s&#596; y&iacute; gblogblo &eacute; l&#596; j&iacute; &aacute;y&eacute; h&ugrave;n f&iacute; n&uacute; m&#603; b&iacute; &aacute;mi by&#596; &#598;&#596; &eacute; mi n&aacute; &#598;&#596; x&oacute; &#598;&ograve; kpl&eacute;kpl&eacute; &#596; m&#603;mi s&#596; e-mail&uacute; mi t&#596;n xl&#603; W&#603;n &eacute; l&#596; w&#603;n c&agrave;c&agrave; w&#603; N&uacute; mi n&aacute; &#598;&oacute; m&#596; n&#596;t&#603;n gblogbloj&iacute;  &eacute; l&#596; t&#596;n  mi y&igrave;w&agrave;l&#596; b&igrave;b&#603; t&#596;ns&#596; &#598;&eacute;m&#603; &#598;e&#770; &#598;&eacute; gb&#596;n &#596; gb&egrave;t&aacute; &#596; kl&oacute; &#598;&iacute;n',
'texte_table_ok' => 'w&agrave;l&#596;&#770; s&#596; gb&egrave;.',
'texte_tables_indexation_vides' => 'w&agrave;l&#596;&#770; l&#603; j&#603; v&#596;.',
'texte_tentative_recuperation' => 't&#603;nkp&#596;n b&iacute;bl&oacute;&#598;&oacute; t&#596;n',
'texte_tenter_reparation' => 't&#603;nkp&#596;n b&iacute;bl&oacute;&#598;&oacute; t&#596;n',
'texte_test_proxy' => 't&#603;nkp&#596;n  proxy,E z&#603; kw&iacute;n &agrave;t&#596;n  w&uacute;&agrave;c&#603; y&eacute; n&#596; n&aacute; n&#596; j&#603;&#598;&oacute;N&uacute; mi wl&aacute;n we&#780;m&agrave; mi t&#596;n f&oacute; &#596; mi s&iacute;w&uacute; s&#596;&#598;&oacute; &agrave;t&#603; j&iacute;  .',
'texte_titre_02' => 'x&oacute;t&aacute; :',
'texte_titre_obligatoire' => 'x&oacute;t&aacute;[d&oacute;d&oacute;]',
'texte_travail_article' => '@nom_auteur_modif@ &eacute; w&agrave;z&#596; &#598;&oacute; w&eacute;kp&aacute; &eacute; l&#596; w&uacute; @date_diff@ c&#603;j&uacute;',
'texte_travail_collaboratif' => 'S&ugrave;p&iacute;p&ugrave; &#596; t&igrave;t&oacute;m&#603; n&ugrave; j&iacute;jl&aacute; t&#596;n &#598;e&#770; minir&eacute;zo k&eacute;j&eacute; b&oacute; l&#603; vl&#596;nk&aacute;n n&uacute; b&iacute;bl&oacute; gbl&ograve;gbl&ograve;j&iacute; uZine t&#596;n &#596;. M&igrave; s&#596; k&#603; m&iacute; &#598;&ograve; &agrave;c&#603; w&agrave;l&#596; GPl t&#596;n m&#603;. Mi&#772; z&eacute; b&ograve; z&aacute;n b&oacute; d&oacute; bl&oacute; gbl&ograve;gbl&ograve;j&iacute; l&#603;&#770; n&aacute; : &eacute; s&iacute;w&uacute; ny&iacute; m&igrave; t&#596;n &#598;&eacute; s&uacute; k&agrave;b&iacute; gb&#603;t&aacute; &#598;&eacute; t&#596;n, k&agrave;b&iacute; t&ograve;x&oacute;&#598;&#596;gb&#603; &#598;&eacute; t&#596;n, &agrave;l&oacute; &agrave;j&#596;w&iacute;w&aacute; w&uacute;.Gbl&ograve;gbl&ograve;j&iacute; &eacute; l&#596;&#770;, &eacute; w&#603; ny&iacute;  We&#780;m&agrave;x&ograve;kpl&eacute; s&ugrave;p&iacute;p&ugrave; t&#596;n!
  &#598;&ograve; t&aacute;j&iacute;. M&iacute; n&aacute; l&#603; m&#596; &agrave;l&#596;wl&iacute; g&eacute;g&eacute; &#598;e&#770; n&aacute; &#598;&#596;n mi&#770; y&igrave; gbl&ograve;gbl&ograve;j&iacute; &#598;e&#770; j&iacute; kpl&eacute;kpl&eacute; l&#603;&#770; n&#596; ti&#770;n &#598;&egrave; &#596; ',
'texte_trop_resultats_auteurs' => 'x&oacute;gb&egrave; s&uacute;kp&#596; "@cherche_auteur@" ; mi l&#603; v&#596; b&agrave;',
'texte_unpack' => 'mi &#598;on w&agrave;l&#596; y&#596;y&#596; w&aacute;',
'texte_utilisation_moteur_syndiques' => 'S&ugrave;p&iacute;p&ugrave; &#596; t&igrave;t&oacute;m&#603; n&ugrave; j&iacute;jl&aacute; t&#596;n &#598;e&#770; minir&eacute;zo k&eacute;j&eacute; b&oacute; l&#603; vl&#596;nk&aacute;n n&uacute; b&iacute;bl&oacute; gbl&ograve;gbl&ograve;j&iacute; uZine t&#596;n &#596;. M&igrave; s&#596; k&#603; m&iacute; &#598;&ograve; &agrave;c&#603; w&agrave;l&#596; GPl t&#596;n m&#603;. Mi&#772; z&eacute; b&ograve; z&aacute;n b&oacute; d&oacute; bl&oacute; gbl&ograve;gbl&ograve;j&iacute; l&#603;&#770; n&aacute; : &eacute; s&iacute;w&uacute; ny&iacute; m&igrave; t&#596;n &#598;&eacute; s&uacute; k&agrave;b&iacute; gb&#603;t&aacute; &#598;&eacute; t&#596;n, k&agrave;b&iacute; t&ograve;x&oacute;&#598;&#596;gb&#603; &#598;&eacute; t&#596;n, &agrave;l&oacute; &agrave;j&#596;w&iacute;w&aacute; w&uacute;.Gbl&ograve;gbl&ograve;j&iacute; &eacute; l&#596;&#770;, &eacute; w&#603; ny&iacute;  We&#780;m&agrave;x&ograve;kpl&eacute; s&ugrave;p&iacute;p&ugrave; !
 t&#596;n &#598;&ograve; t&aacute;j&iacute;. M&iacute; n&aacute; l&#603; m&#596; &agrave;l&#596;wl&iacute; g&eacute;g&eacute; &#598;e&#770; n&aacute; &#598;&#596;n mi&#770; y&igrave; gbl&ograve;gbl&ograve;j&iacute; &#598;e&#770; j&iacute; kpl&eacute;kpl&eacute; l&#603;&#770; n&#596; ti&#770;n &#598;&egrave; &#596; T&igrave;t&ograve;m&#603; S&ugrave;p&iacute;p&ugrave; t&#596;n s&#596; gb&#596;n uZine j&iacute;Et&#603; w&#603; ny&iacute; s&ugrave;p&iacute;p&ugrave;We&#780;m&agrave;x&ograve;kpl&eacute; s&ugrave;p&iacute;p&ugrave; t&#596;nt&#603;m&#603;b&igrave;b&aacute;  - bl&ograve;&#598;&oacute;T&igrave;t&ograve;m&#603; &eacute; n&#596; z&#596;n b&#596; y&egrave; n&#596; &#598;&egrave; n&#603; &#598;&ograve; gblogbl&ograve;j&iacute; E z&#603; kw&iacute;n &agrave;t&#596;n  w&uacute;&agrave;c&#603; y&eacute; n&#596; n&aacute; n&#596; j&#603;&#598;&oacute;',
'texte_utilisation_moteur_syndiques_2' => 'w&agrave;l&#596; &eacute; l&#596; n&#596; z&#596;n b&#596; s&ugrave;p&iacute;p&ugrave; n&#596; .',
'texte_vide' => 'j&#603; v&#596;',
'texte_vider_cache' => 'gb&agrave;v i &#596; j&#603; v&#596;',
'titre_admin_effacer' => 'w&agrave;l&#596; z&#596;',
'titre_admin_tech' => 'w&agrave;l&#596; z&#596;',
'titre_admin_vider' => 'w&agrave;l&#596; z&#596;',
'titre_articles_syndiques' => 'w&eacute;kp&aacute; &#598;e&#770; y&eacute; m&aacute; s&iacute;n gblogblo &eacute; l&#596; j&iacute;',
'titre_breves' => 'x&oacute; kl&eacute;w&uacute;n ',
'titre_cadre_afficher_article' => 'xl&#603; w&eacute;kp&aacute; l&#603;',
'titre_cadre_afficher_traductions' => 'mi xl&#603; &#598;e&#770; gb&egrave; l&#603; t&igrave;nm&#603; gb&#596;n w&#603; &eacute;&nbsp;:',
'titre_cadre_ajouter_auteur' => 'mi g&#596; ny&#596;wl&aacute;nt&#596; &#598;&ograve;kp&oacute; n&aacute; :',
'titre_cadre_forum_administrateur' => 't&igrave;t&ograve;t&#596; l&#603; s&iacute;&#331; kpl&eacute;kpl&eacute;',
'titre_cadre_forum_interne' => 'kpl&eacute;kpl&eacute;',
'titre_cadre_interieur_rubrique' => '&agrave;kp&aacute;xw&eacute; &#596; m&#603;',
'titre_cadre_numero_auteur' => 'n&uacute;m&eacute;l&oacute; ny&#596;wl&aacute;nt&#596; t&#596;n',
'titre_cadre_signature_obligatoire' => '&#598;&aacute;l&#596;we&#780;m&agrave;m&#603; [d&oacute;d&oacute;]',
'titre_config_fonctions' => 't&ograve; gblogbloj&iacute; &#596; ',
'titre_config_groupe_mots_cles' => 't&ograve; gb&egrave;t&agrave;k&#603;nx&oacute;pkl&eacute;l&#603; ',
'titre_configuration' => 't&ograve; gblogbloj&iacute; &#596; ',
'titre_connexion_ldap' => 'w&agrave;l&#596; :c&agrave;c&agrave;d&oacute; LDAP',
'titre_dernier_article_syndique' => 'w&eacute;kp&aacute; g&ugrave;d&oacute; t&#596;n e&#770; m&aacute; &#596;',
'titre_documents_joints' => 'we&#780;m&agrave; y&eacute; g&#596;n&aacute;',
'titre_evolution_visite' => 'n&uacute;k&#596;n y&iacute;y&iacute; j&oacute;n&#596; y&iacute;yi t&#596;n',
'titre_forum_suivi' => 'B&#596; n&uacute;k&uacute;n n&uacute; kpl&eacute;kpl&eacute; &#596;',
'titre_gauche_mots_edit' => 'Num&#603;l&oacute; we&#780;kw&iacute;n &#596; t&#596;n :',
'titre_groupe_mots' => 'X&oacute;x&ograve;kpl&eacute; l&#603; :',
'titre_langue_article' => 'Gb&egrave;z&aacute;n w&eacute;kpa&#770; t&#596;n',
'titre_langue_breve' => 'Gb&egrave;z&aacute;n x&oacute; kl&eacute;w&uacute;n &#596; t&#596;n',
'titre_langue_rubrique' => 'Gb&egrave;z&aacute;n &agrave;kp&aacute;xw&eacute;  &#596; t&#596;n',
'titre_langue_trad_article' => 'Gb&egrave;z&aacute;n kp&oacute; t&igrave;nm&#603; w&eacute;kpa&#770; t&#596;n ',
'titre_les_articles' => 'W&eacute;kpa l&#603;  ',
'titre_mots_cles_dans_forum' => 'gb&egrave;t&aacute;k&#603;n &eacute; &#598;&ograve; kpl&eacute;kpl&eacute; gblogbloj&iacute; &#596; t&#596;n m&#603;',
'titre_mots_tous' => 'gb&egrave;t&aacute;k&#603;n l&#603;',
'titre_naviguer_dans_le_site' => 'k&eacute;j&eacute;n&uacute;m&#603; &#598;&ograve; gblogblo &#596; j&iacute; ...',
'titre_nouveau_groupe' => '&agrave;g&ugrave;n y&#596;y&#596;',
'titre_nouvelle_breve' => 'x&oacute; kl&eacute;w&uacute;n l&#603;',
'titre_nouvelle_rubrique' => '&agrave;kp&aacute;xw&eacute; y&#596;y&#596;',
'titre_numero_rubrique' => 'n&uacute;m&#603;l&oacute; &agrave;kp&aacute;xw&eacute; t&#596;n :',
'titre_page_admin_effacer' => 'b&igrave;bl&oacute;&#598;&oacute;: s&ugrave;ns&ugrave;n x&oacute;x&ograve;kpl&eacute; &#596;',
'titre_page_articles_edit' => '&#598;y&#596; : @titre@',
'titre_page_articles_page' => 'w&eacute;kp&aacute; l&#603;',
'titre_page_articles_tous' => 'gblogbloj&iacute;  &#596;  b&iacute; ',
'titre_page_auteurs' => 'J&oacute;n&#596; l&#603;',
'titre_page_breves' => 'x&oacute; kl&eacute;w&uacute;n l&#603;',
'titre_page_breves_edit' => '&#598;y&#596; x&oacute; kl&eacute;w&uacute;n l&#603; : &laquo; @titre@ &raquo;',
'titre_page_calendrier' => 'k&agrave;lan&#598;ly&eacute;@nom_mois@ @annee@',
'titre_page_config_contenu' => 'T&igrave;t&ograve; gblogbloj&iacute;  &#596;  t&#596;n',
'titre_page_config_fonctions' => 'T&igrave;t&ograve; gblogbloj&iacute;  &#596;  t&#596;n',
'titre_page_configuration' => 'T&igrave;t&ograve; gblogbloj&iacute;  &#596;  t&#596;n',
'titre_page_controle_petition' => 'B&#596; n&uacute;k&uacute;n n&uacute; x&agrave;j&iacute;jl&aacute; l&#603;',
'titre_page_delete_all' => 'S&ugrave;ns&ugrave;n b&oacute; gb&igrave;d&iacute; b&iacute;',
'titre_page_documents_liste' => 'we&#780;m&agrave; &agrave;kp&aacute;xw&eacute; l&#603; t&#596;n ',
'titre_page_forum' => 't&igrave;t&ograve;t&#596; l&#603; s&iacute;n kpl&eacute;kpl&eacute;',
'titre_page_forum_envoi' => 's&#603; w&#603;n d&oacute;',
'titre_page_forum_suivi' => 'B&#596;n&uacute;k&uacute;n kpl&eacute;kpl&eacute; &#596; j&iacute;',
'titre_page_index' => 't&#603;nk&aacute;n&#598;&oacute;v&ograve;',
'titre_page_message_edit' => 'wl&aacute;n w&#603;n ',
'titre_page_messagerie' => 'w&#603;ngb&agrave;v&iacute;',
'titre_page_mots_tous' => 'gb&egrave;t&aacute;k&#603;n',
'titre_page_recherche' => 'x&oacute;gb&egrave; &eacute; t&#596;n &#598;&ograve; n&uacute; b&iacute;b&agrave; &#596; m&#603; &#596; @recherche@',
'titre_page_sites_tous' => 'gblogbloj&iacute; y&eacute; &#598;&oacute; &agrave;c&#603; n&aacute;',
'titre_page_statistiques' => '&agrave;k&#596;&#331;t&aacute; &agrave;kp&aacute;xw&eacute; &agrave;kp&aacute;xw&eacute;',
'titre_page_statistiques_referers' => '&agrave;k&#596;&#331;t&aacute; ',
'titre_page_statistiques_visites' => '&agrave;k&#596;&#331;t&aacute; j&oacute;n&#596; l&#603; t&#596;n',
'titre_page_upgrade' => 'mi v&#603; j&#596;w&uacute; n&uacute; s&ugrave;p&iacute;p&ugrave; &#596; ',
'titre_publication_articles_post_dates' => '&#598;&eacute;xl&#603; w&eacute;kp&aacute; &eacute; n&aacute; w&agrave; l&#603; t&#596;n',
'titre_referencement_sites' => '&agrave;c&#603; y&iacute;y&iacute; &#598;&ograve; gblogbloj&iacute; kp&oacute; m&igrave;m&aacute;m&#603;',
'titre_referencer_site' => '&agrave;c&#603; y&iacute;y&iacute; &#598;&ograve; gblogbloj&iacute; :',
'titre_rendez_vous' => 'g&agrave;m&#603; &#598;&oacute;&#598;&oacute; :',
'titre_reparation' => 'B&igrave;bl&ograve;&#598;&oacute;',
'titre_site_numero' => 'n&uacute;m&#603;l&oacute; gblogbloj&iacute; &#596; t&#596;n :',
'titre_sites_proposes' => 'gblogbloj&iacute; y&eacute; s&#603; &#598;&oacute;',
'titre_sites_references_rubrique' => 'gblogbloj&iacute; y&eacute; n&aacute; &agrave;c&#603; n&aacute; &#598;&ograve; &agrave;kp&aacute;xw&eacute; &eacute; l&#596;',
'titre_sites_syndiques' => 'gblogbloj&iacute; y&eacute; m&aacute;',
'titre_sites_tous' => 'gblogbloj&iacute; y&eacute; n&aacute; &agrave;c&#603; n&aacute; ',
'titre_suivi_petition' => 'B&#596; n&uacute;k&uacute;n &#598;&oacute; x&oacute;j&iacute;jl&aacute; l&#603; j&iacute;',
'titre_syndication' => ' M&iacute;m&aacute; &#596; Gblogbloj&iacute; t&#596;n',
'trad_article_inexistant' => 'n&uacute;m&#603;l&oacute; &#598;&eacute; s&#596;gb&egrave; &#598;&oacute; w&eacute;pk&aacute; &eacute; l&#596; &aacute;.',
'trad_article_traduction' => 'w&agrave;l&#596; w&eacute;pk&aacute; &eacute; l&#596; t&#596;n l&#603; b&iacute;',
'trad_deja_traduit' => 'w&eacute;pk&aacute; &eacute; l&#596; k&ograve; ny&iacute; t&igrave;nm&#603; w&eacute;kp&aacute; &#598;&eacute;v&oacute; t&#596;n.',
'trad_delier' => 'y&eacute; m&aacute; c&aacute; w&eacute;pk&aacute; &eacute; l&#596; &#598;&oacute; t&igrave;nm&#603; &eacute; l&#596; w&uacute; &oacute;',
'trad_lier' => 'k&ograve; ny&iacute; t&igrave;nm&#603; w&eacute;kp&aacute; &#598;&eacute;v&oacute; t&#596;n&nbsp;:',
'trad_new' => 'L&#603; wl&aacute;n t&igrave;nm&#603; w&eacute;kp&aacute; &#598;&eacute;v&oacute; t&#596;n',


// V
'version_initiale' => 'w&agrave;l&#596; b&igrave;b&#603; t&#596;n'

);


?>

--- NEW FILE: ecrire_vi.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Ph&#7853;n gi&uacute;p &#273;&#7905; n&agrave;y ch&#432;a &#273;&#432;&#7907;c d&#7883;ch sang ti&#7871;ng n&agrave;y.',
'avis_acces_interdit' => 'Qu&yacute; v&#7883; kh&ocirc;ng c&oacute; quy&#7873;n v&agrave;o &#273;&acirc;y.',
'avis_article_modifie' => 'Coi ch&#7915;ng, @nom_auteur_modif@ v&#7915;a s&#7917;aa b&agrave;i n&agrave;y c&aacute;ch &#273;&acirc;y @date_diff@ ph&uacute;t',
'avis_aucun_resultat' => 'Kh&ocirc;ng c&oacute; k&#7871;t qu&#7843;.',
'avis_chemin_invalide_1' => 'H&#432;&#7899;ng &#273;i m&agrave; b&#7841;n &#273;&atilde; ch&#7885;n',
'avis_chemin_invalide_2' => 'd&#432;&#7901;ng nh&#432; kh&ocirc;ng &#273;&uacute;ng. Xin vui l&ograve;ng tr&#7903; l&#7841;i trang tr&#432;&#7899;c v&agrave; xem l&#7841;i c&aacute;c d&#7919; ki&#7879;n cung c&#7845;p.',
'avis_connexion_echec_1' => 'Kh&ocirc;ng n&#7889;i v&agrave;o MySQL &#273;&#432;&#7907;c.',
'avis_connexion_echec_2' => 'Tr&#7903; l&#7841;i trang tr&#432;&#7899;c v&agrave; ki&#7875;m l&#7841;i c&aacute;c d&#7919; ki&#7879;n v&#7915;a cho v&agrave;o.',
'avis_connexion_echec_3' => '<b>T.B.</b> Trong m&#7897;t s&#7889; server, b&#7841;n ph&#7843;i <b>y&ecirc;u c&#7847;u</b> quy&#7873;n &#273;&#432;&#7907;c s&#7917; d&#7909;ng MySQL database tr&#432;&#7899;c khi d&ugrave;ng. N&#7871;u b&#7841;n kh&ocirc;ng n&#7889;i v&agrave;o &#273;&#432;&#7907;c, h&atilde;y xem l&#7841;i coi b&#7841;n c&oacute; y&ecirc;u c&#7847;u ch&#432;a.',
'avis_connexion_ldap_echec_1' => 'Kh&ocirc;ng n&#7889;i v&agrave;o LDAP server &#273;&#432;&#7907;c.',
'avis_connexion_ldap_echec_2' => 'Tr&#7903; l&#7841;i trang tr&#432;&#7899;c v&agrave; xem l&#7841;i c&aacute;c d&#7919; ki&#7879;n &#273;&atilde; cung c&#7845;p.',
'avis_connexion_ldap_echec_3' => 'M&#7897;t c&aacute;ch kh&aacute;c, &#273;&#7915;ng d&ugrave;ng LDAP support &#273;&#7875; &#273;em t&ecirc;n ng&#432;&#7901;i d&ugrave;ng v&agrave;o.',
'avis_conseil_selection_mot_cle' => '<b>Nh&oacute;m quan tr&#7885;ng</b>: &#273;&#7873; ngh&#7883; b&#7841;n n&ecirc;n ch&#7885;n m&#7897;t t&#7915; then ch&#7889;t trong nh&oacute;m n&agrave;y.',
'avis_deplacement_rubrique' => 'L&#431;U &Yacute;! &#272;&#7873; m&#7909;c n&agrave;y ch&#7913;a @contient_breves@ c&aacute;c tin ng&#7855;n @scb@: n&#7871;u b&#7841;n d&#7901;i n&oacute; &#273;i, xin &#273;&aacute;nh d&#7845;u v&agrave;o &ocirc; n&agrave;y &#273;&#7875; x&aacute;c nh&#7853;n.',
'avis_destinataire_obligatoire' => 'Ph&#7843;i ch&#7885;n m&#7897;t ng&#432;&#7901;i nh&#7853;n tr&#432;&#7899;c khi g&#7917;i th&#432; t&iacute;n n&agrave;y &#273;i.',
'avis_erreur_connexion_mysql' => 'C&oacute; L&#7895;i-kh&ocirc;ng n&#7889;i v&#7899;i MySQL',
'avis_erreur_version_archive' => '<B>B&aacute;o &#273;&#7897;ng! H&#7891; s&#417; @archive@ thu&#7897;c d&#7841;ng SPIP kh&aacute;c v&#7899;i d&#7841;ng m&agrave; b&#7841;n c&oacute;.</b>
 B&#7841;n s&#7869; g&#7863;p r&#7845;t nhi&#7873;u r&#7855;c r&#7889;i: c&oacute; th&#7875; database b&#7883; ti&ecirc;u h&#7911;y, website b&#7883; tr&#7855;c tr&#7903;, v.v...
 Xin &#273;&#7915;ng n&#7897;p b&agrave;i n&agrave;y v&agrave;o.<P> &#272;&#7875; bi&#7871;t th&ecirc;m chi ti&#7871;t, xem b&agrave;i <A HREF=\'http://www.spip.net/fr_article1489.html\'>
H&#7891; s&#417; SPIP</a>.',
'avis_espace_interdit' => '<b>V&ugrave;ng c&#7845;m &#273;&#7883;a</b><p>SPIP &#273;&atilde; &#273;&#432;&#7907;c thi&#7871;t tr&iacute; r&#7891;i.',
'avis_lecture_noms_bases_1' => 'Nhu li&#7879;u thi&#7871;t tr&iacute; kh&ocirc;ng &#273;&#7885;c &#273;&#432;&#7907;c t&ecirc;n c&#7911;a database thi&#7871;t tr&iacute;.',
'avis_lecture_noms_bases_2' => 'Kh&ocirc;ng c&oacute; database n&agrave;o h&#7871;t, ho&#7863;c &#273;&#7863;c &#273;i&#7875;m cho ph&eacute;p li&#7879;t k&ecirc; t&ecirc;n database b&#7883; t&#7855;t &#273;i v&igrave; l&yacute; do an ninh (th&#432;&#7901;ng l&agrave; nh&#432; v&#7853;y cho nhi&#7873;u m&aacute;y ch&#7911;)',
'avis_lecture_noms_bases_3' => 'Trong tr&#432;&#7901;ng h&#7907;p l&#7921;a ch&#7885;n th&#7913; nh&igrave; x&#7843;y ra, sau khi b&#7841;n login v&agrave;o, c&oacute; th&#7875; m&#7897;t database c&oacute; t&ecirc;n l&uacute;c &#273;&oacute; c&oacute; th&#7875; d&ugrave;ng &#273;&#432;&#7907;c: ',
'avis_non_acces_message' => 'B&#7841;n kh&ocirc;ng c&oacute; quy&#7873;n xem th&#432; t&iacute;n n&agrave;y.',
'avis_non_acces_page' => 'B&#7841;n kh&ocirc;ng c&oacute; quy&#7873;n v&agrave;o trang n&agrave;y.',
'avis_operation_echec' => 'Thao t&aacute;c th&#7845;t b&#7841;i.',
'avis_probleme_archive' => 'C&oacute; l&#7895;i khi &#273;&#7885;c h&#7891; s&#417; @archive@',
'avis_site_introuvable' => 'Kh&ocirc;ng t&igrave;m &#273;&#432;&#7907;c trang web',
'avis_site_syndique_probleme' => 'C&#7843;nh b&aacute;o: g&#7863;p tr&#7903; ng&#7841;i khi syndicate website n&agrave;y; th&agrave;nh ra h&#7879; th&#7889;ng b&#7883; gi&aacute;n &#273;o&#7841;n t&#7841;m th&#7901;i. Xin xem l&#7841;i &#273;&#7883;a ch&#7881; c&#7911;a h&#7891; s&#417; syndication c&#7911;a website (<b>@url_syndic@</b>), v&agrave; l&agrave;m l&#7841;i vi&#7879;c thu h&#7891;i d&#7919; ki&#7879;n. B&aacute;o &#272;&#7897;ng: l&uacute;c syndicate trang web n&agrave;y th&igrave; g&#7863;p v&#7845;n &#273;&#7873;; v&igrave; v&#7853;y m&agrave; h&#7879; th&#7889;ng b&#7883; gi&aacute;n &#273;o&#7841;n t&#7841;m th&#7901;i. Xin xem l&#7841;i &#273;&#7883;a ch&#7881; c&#7911;a h&#7891; s&#417; syndication c&#7911;a trang web n&agrave;y (<b>@url_syndic@</b>), v&agrave; t&igrave;m c&aacute;ch th&acirc;u h&#7891;i d&#7919; ki&#7879;n l&#7841;i.',
'avis_sites_probleme_syndication' => 'Trang web n&agrave;y g&#7863;p ph&#7843;i v&#7845;n &#273;&#7873; khi xu&#7845;t b&#7843;n',
'avis_sites_syndiques_probleme' => 'Nh&#7919;ng website xu&#7845;t b&#7843;n song h&agrave;nh n&agrave;y cho bi&#7871;t c&oacute; v&#7845;n &#273;&#7873;',
'avis_suppression_base' => 'B&Aacute;O &#272;&#7896;NG, x&oacute;a d&#7919; ki&#7879;n r&#7891;i s&#7869; kh&ocirc;ng l&#7845;y l&#7841;i &#273;&#432;&#7907;c',
'avis_version_mysql' => '&#7844;n b&#7843;n MySQL n&agrave;y (@version_mysql@) kh&ocirc;ng cho ph&eacute;p s&#7917;a ch&#7919;a t&#7921; &#273;&#7897;ng c&aacute;c b&#7843;n trong database.',


// B
'bouton_acces_ldap' => 'Th&ecirc;m h&#7891; s&#417; v&agrave;o LDAP >>',
'bouton_ajouter' => 'Th&ecirc;m',
'bouton_ajouter_participant' => 'TH&Ecirc;M M&#7896;T THAM D&#7920; VI&Ecirc;N:',
'bouton_annonce' => 'TH&Ocirc;NG B&Aacute;O',
'bouton_checkbox_envoi_message' => 'C&oacute; th&#7875; vi&#7871;t v&agrave;i ch&#7919; ',
'bouton_checkbox_indiquer_site' => 'Q&uacute;y v&#7883; ph&#7843;i ghi t&ecirc;n m&#7897;t trang Web',
'bouton_checkbox_qui_attribue_mot_cle_administrateurs' => 'qu&#7843;n tr&#7883; vi&ecirc;n',
'bouton_checkbox_qui_attribue_mot_cle_redacteurs' => 't&aacute;c gi&#7843;',
'bouton_checkbox_qui_attribue_mot_cle_visiteurs' => '&#272;&#7897;c gi&#7843; l&uacute;c g&#7917;i g&oacute;p &yacute; tr&ecirc;n di&#7877;n &#273;&agrave;n.',
'bouton_checkbox_signature_unique_email' => 'Ch&#7881; m&#7897;t ch&#7919; k&yacute; cho m&#7897;t &#273;&#7883;a ch&#7881; email ',
'bouton_checkbox_signature_unique_site' => 'Ch&#7881; m&#7897;t ch&#7919; k&yacute; cho m&#7897;t &#273;&#7883;a ch&#7881; Web',
'bouton_demande_publication' => '&#272;&#7873; ngh&#7883; b&agrave;i n&agrave;y cho ban bi&ecirc;n t&#7853;p',
'bouton_effacer_index' => 'Xo&aacute; b&#7843;n index',
'bouton_effacer_tout' => 'Xo&aacute; T&#7844;T C&#7842;',
'bouton_envoi_message_02' => 'G&#7916;I TH&#431; T&Iacute;N',
'bouton_envoyer_message' => 'Tin th&#432; &#273;&#7847;y &#273;&#7911;: G&#7917;i &#273;i ',
'bouton_forum_petition' => 'DI&#7876;N &#272;&Agrave;N &amp; TH&#7880;NH NGUY&#7878;N TH&#431;',
'bouton_modifier' => 'Thay &#273;&#7893;i',
'bouton_pense_bete' => 'GHI NH&#7898; C&Aacute; NH&Acirc;N',
'bouton_radio_activer_messagerie' => 'S&#7917; d&#7909;ng th&#432; t&iacute;n n&#7897;i b&#7897;  ',
'bouton_radio_activer_messagerie_interne' => 'S&#7917; d&#7909;ng th&#432; t&iacute;n n&#7897;i b&#7897;',
'bouton_radio_activer_petition' => 'D&ugrave;ng th&#7881;nh nguy&#7879;n th&#432; ',
'bouton_radio_afficher' => 'Hi&#7875;n th&#7883;',
'bouton_radio_apparaitre_liste_redacteurs_connectes' => 'Hi&#7879;n t&ecirc;n ra',
'bouton_radio_articles_futurs' => 'ch&#7881; t&aacute;c &#273;&#7897;ng &#273;&#7871;n b&agrave;i v&#7903; m&#7899;i (kh&ocirc;ng l&agrave;m thay &#273;&#7893;i database) ',
'bouton_radio_articles_tous' => 'cho t&#7845;t c&#7843; b&agrave;i v&#7903;.',
'bouton_radio_articles_tous_sauf_forum_desactive' => 'cho t&#7845;t c&#7843; b&agrave;i v&#7903; tr&#7915; nh&#7919;ng b&agrave;i kh&ocirc;ng c&oacute; di&#7877;n &#273;&agrave;n.',
'bouton_radio_desactiver_messagerie' => 'Kh&ocirc;ng s&#7917; d&#7909;ng th&#432; t&iacute;n n&#7897;i b&#7897;',
'bouton_radio_enregistrement_obligatoire' => 'Ph&#7843;i ghi danh (&#273;&#7897;c gi&#7843; ph&#7843;i ghi t&ecirc;n v&agrave; cho &#273;&#7883;a ch&#7881; email tr&#432;&#7899;c khi g&#7917;i th&#432; t&iacute;n v&agrave;o di&#7877;n &#273;&agrave;n).',
'bouton_radio_envoi_annonces_adresse' => 'G&#7917;i th&ocirc;ng b&aacute;o &#273;&#7871;n &#273;&#7883;a ch&#7881;:',
'bouton_radio_envoi_liste_nouveautes' => 'G&#7917;i c&aacute;c tin t&#7913;c m&#7899;i nh&#7845;t',
'bouton_radio_moderation_priori' => 'Ph&#7843;i &#273;&#432;&#7907;c ch&#7845;p thu&#7853;n tr&#432;&#7899;c (th&#432; t&iacute;n ch&#7881; &#273;&#432;&#7907;c &#273;&#259;ng sau khi &#273;&#432;&#7907;c qu&#7843;n tr&#7883; vi&ecirc;n ch&#7845;p thu&#7853;n).',
'bouton_radio_modere_abonnement' => 'ghi danh m&#7899;i &#273;&#432;&#7907;c &#273;&#259;ng',
'bouton_radio_modere_posteriori' => '&#273;&#259;ng tr&#432;&#7899;c, x&eacute;t sau',
'bouton_radio_modere_priori' => 'x&eacute;t tr&#432;&#7899;c, &#273;&#259;ng sau',
'bouton_radio_non_apparaitre_liste_redacteurs_connectes' => 'Kh&ocirc;ng hi&#7879;n t&ecirc;n ra  ',
'bouton_radio_non_envoi_annonces_editoriales' => '&#272;&#7915;ng g&#7917;i b&#7845;t c&#7913; th&ocirc;ng b&aacute;o x&atilde; lu&#7853;n n&agrave;o',
'bouton_radio_non_syndication' => 'Kh&ocirc;ng c&oacute; syndication',
'bouton_radio_occidental' => 'B&#7897; ch&#7919; T&acirc;y ph&#432;&#417;ng (<tt>iso-8859-1</tt>) d&ugrave;ng &#273;&#432;&#7907;c v&#7899;i t&#7845;t c&#7843; browser, tuy nhi&ecirc;n ch&#7881; hi&#7875;n th&#7883; c&aacute;c ng&ocirc;n ng&#7919; T&acirc;y &Acirc;u (Anh, Ph&aacute;p, &#272;&#7913;c...).Tuy nhi&ecirc;n, SPIP hi&#7875;n th&#7883; kh&aacute; t&#7889;t v&#7899;i c&aacute;c ng&ocirc;n ng&#7919; kh&aacute;c.',
'bouton_radio_pas_petition' => 'Kh&ocirc;ng d&ugrave;ng',
'bouton_radio_personnalise' => 'B&#7843;ng m&atilde; ri&ecirc;ng: ch&#7885;n &#273;&#7863;c t&iacute;nh n&agrave;y n&#7871;u b&#7841;n mu&#7889;n d&ugrave;ng m&#7897;t b&#7843;ng m&atilde; &#273;&#7863;c bi&#7879;t',
'bouton_radio_petition_activee' => 'Th&#7881;nh nguy&#7879;n th&#432; &#273;&#432;&#7907;c m&#7903; l&ecirc;n',
'bouton_radio_publication_immediate' => 'Ph&aacute;t h&agrave;nh th&#432; t&iacute;n ngay l&#7853;p t&#7913;c (th&#432; g&#7917;i &#273;i s&#7869; hi&#7879;n l&ecirc;n ngay, qu&#7843;n tr&#7883; vi&ecirc;n c&oacute; th&#7875; x&oacute;a ch&uacute;ng sau &#273;&oacute;).',
'bouton_radio_sauvegarde_compressee' => 'l&#432;u tr&#7919; l&#7841;i d&#432;&#7899;i d&#7841;ng n&eacute;n trong
<b>ecrire/data/dump.xml.gz</b>',
'bouton_radio_sauvegarde_non_compressee' => 'l&#432;u tr&#7919; l&#7841;i d&#432;&#7899;i d&#7841;ng th&#432;&#7901;ng trong
<b>ecrire/data/dump.xml</b>',
'bouton_radio_supprimer_petition' => 'X&oacute;a th&#7881;nh nguy&#7879;n th&#432;',
'bouton_radio_syndication' => 'Syndication:',
'bouton_radio_universel' => 'B&#7843;ng m&atilde; to&agrave;n c&#7847;u (<tt>utf-8</tt>): hi&#7875;n th&#7883; m&#7885;i ng&ocirc;n ng&#7919;, tuy nhi&ecirc;n c&oacute; th&#7875; c&oacute; tr&#7903; ng&#7841;i v&#7899;i ch&#432;&#417;ng tr&igrave;nh m&agrave; b&#7841;n d&ugrave;ng &#273;&#7875; s&#7917;a &#273;&#7893;i c&aacute;c b&#7843;n m&#7851;u c&#7911;a b&#7841;n ho&#7863;c v&#7899;i m&#7897;t v&agrave;i ch&#432;&#417;ng tr&igrave;nh &#273;&#7885;c email.',
'bouton_redirection' => 'CHUY&#7874;N T&#7898;I',
'bouton_relancer_installation' => 'Thi&#7871;t tr&iacute; l&#7841;i',
'bouton_restaurer_base' => 'Ph&#7909;c h&#7891;i database',
'bouton_suivant' => 'K&#7871; ti&#7871;p',
'bouton_tenter_recuperation' => 'T&igrave;m c&aacute;ch s&#7917;a ch&#7919;a',
'bouton_test_proxy' => 'Th&#7917; nghi&#7879;m proxy',
'bouton_vider_cache' => 'L&agrave;m s&#7841;ch cache',
'bouton_voir_message' => 'Xem l&#7841;i tr&#432;&#7899;c khi g&#7917;i',


// C
'cache_mode_compresse' => '<NEW>Les fichiers du cache sont enregistr&eacute;s en mode compress&eacute;.',
'cache_mode_non_compresse' => '<NEW>Les fichiers du cache sont enregistr&eacute;s en mode non compress&eacute;.',
'cache_modifiable_webmestre' => '<NEW>Ces param&egrave;tres sont modifiables par le webmestre du site.',
'calendrier_synchro' => 'N&#7871;u b&#7841;n c&oacute; thi&#7871;t tr&iacute; nhu li&#7879;u nh&#7853;t k&yacute; t&#432;&#417;ng &#7913;ng v&#7899;i <b>iCal</b>, b&#7841;n c&oacute; th&#7875; &#273;&#7891;ng b&#7897; h&oacute;a n&oacute; v&#7899;i trang web.',


// D
'date_mot_heures' => 'Gi&#7901;',
'diff_para_ajoute' => '<NEW>Paragraphe ajout&eacute;',
'diff_para_deplace' => '<NEW>Paragraphe d&eacute;plac&eacute;',
'diff_para_supprime' => '<NEW>Paragraphe supprim&eacute;',
'diff_texte_ajoute' => '<NEW>Texte ajout&eacute;',
'diff_texte_deplace' => '<NEW>Texte d&eacute;plac&eacute;',
'diff_texte_supprime' => '<NEW>Texte supprim&eacute;',


// E
'email' => '&ETH;i&#7879;n th&#432;',
'email_2' => '&ETH;i&#7879;n th&#432;:',
'entree_adresse_annuaire' => '&#272;&#7883;a ch&#7881; ng&#259;n',
'entree_adresse_email' => '&#272;i&#7841; ch&#7881; email c&#7911;a b&#7841;n',
'entree_adresse_fichier_syndication' => '&#272;&#7883;a ch&#7881; c&#7911;a h&#7891; s&#417; &laquo;backend&raquo; &#273;&#7875; syndicate:',
'entree_adresse_site' => '<b>&#272;&#7883;a ch&#7881; Website</b> [B&#7855;t bu&#7897;c]',
'entree_base_donnee_1' => '&#272;&#7883;a ch&#7881; database',
'entree_base_donnee_2' => '(Th&ocirc;ng th&#432;&#7901;ng, &#273;&#7883;a ch&#7881; n&agrave;y gi&#7889;ng &#273;&#7883;a ch&#7881; website c&#7911;a b&#7841;n, &#273;&ocirc;i khi n&oacute; mang t&ecirc;n &laquo;localhost&raquo;, v&agrave; c&oacute; khi n&oacute; &#273;&#7875; tr&#7889;ng.)',
'entree_biographie' => 'Ti&#7875;u s&#7917; ng&#7855;n g&#7885;n (m&#7897;t v&agrave;i ch&#7919;).',
'entree_breve_publiee' => '&#272;&#259;ng t&#7843;i tin ng&#7855;n n&agrave;y kh&ocirc;ng?',
'entree_chemin_acces' => '<B>Xin cho bi&#7871;t</B> t&ecirc;n ng&#259;n:',
'entree_cle_pgp' => 'Kh&oacute;a PGP c&#7911;a b&#7841;n',
'entree_contenu_rubrique' => '(M&ocirc; t&#7843; ng&#7855;n g&#7885;n n&#7897;i dung c&#7911;a &#273;&#7873; m&#7909;c)',
'entree_description_site' => 'M&ocirc; t&#7843; website',
'entree_identifiants_connexion' => 'T&ecirc;n g&#7885;i l&uacute;c n&#7889;i v&agrave;o c&#7911;a b&#7841;n...',
'entree_informations_connexion_ldap' => 'Xin &#273;i&#7873;n v&agrave;o m&#7851;u n&agrave;y v&#7899;i c&aacute;c d&#7919; ki&#7879;n m&oacute;c n&#7889;i LDAP. B&#7841;n s&#7869; &#273;&#432;&#7907;c ng&#432;&#7901;i qu&#7843;n l&yacute; m&#7841;ng ho&#7863;c h&#7879; &#273;i&#7873;u h&agrave;nh cho bi&#7871;t c&aacute;c d&#7919; ki&#7879;n n&agrave;y.',
'entree_infos_perso' => 'B&#7841;n l&agrave; ai?',
'entree_interieur_rubrique' => 'Trong &#273;&#7873; m&#7909;c:',
'entree_liens_sites' => '<B>&#272;i&#7875;m n&#7889;i hypertext</B> (tham kh&#7843;o, website &#273;&#7871;n vi&#7871;ng...)',
'entree_login' => 'Login c&#7911;a b&#7841;n',
'entree_login_connexion_1' => 'N&#7889;i v&agrave;o',
'entree_login_connexion_2' => '(&#272;&ocirc;i khi gi&#7889;ng v&#7899;i k&yacute; danh FTP c&#7911;a b&#7841;n v&agrave; &#273;&ocirc;i khi &#273;&#7875; tr&#7889;ng)',
'entree_login_ldap' => 'N&#7889;i s&#417; kh&#7903;i v&agrave;o LDAP',
'entree_mot_passe' => 'M&#7853;t m&atilde; c&#7911;a b&#7841;n',
'entree_mot_passe_1' => 'M&#7853;t m&atilde; &#273;&#7875; n&#7889;i v&agrave;o',
'entree_mot_passe_2' => '(&#272;&ocirc;i khi gi&#7889;ng m&#7853;t m&atilde; FTP c&#7911;a b&#7841;n v&agrave; &#273;&ocirc;i khi &#273;&#7875; tr&#7889;ng)',
'entree_nom_fichier' => 'Xin &#273;i&#7873;n t&ecirc;n h&#7891; s&#417; @texte_compresse@:',
'entree_nom_pseudo' => 'T&ecirc;n ho&#7863;c b&iacute; danh c&#7911;a b&#7841;n',
'entree_nom_pseudo_1' => '(T&ecirc;n hay b&iacute; danh c&#7911;a b&#7841;n)',
'entree_nom_site' => 'T&ecirc;n website c&#7911;a b&#7841;n',
'entree_nouveau_passe' => 'M&#7853;t m&atilde; m&#7899;i',
'entree_passe_ldap' => 'M&#7853;t m&atilde;',
'entree_port_annuaire' => 'S&#7889; c&#7893;ng c&#7911;a th&#432; m&#7909;c',
'entree_signature' => 'Ch&#7919; k&yacute;',
'entree_texte_breve' => 'N&#7897;i dung tin ng&#7855;n',
'entree_titre_obligatoire' => '<B>T&#7921;a &#273;&#7873;</B> [B&#7855;t bu&#7897;c]<BR>',
'entree_url' => '&#272;&#7883;a ch&#7881; website c&#7911;a b&#7841;n',


// I
'ical_info1' => 'Trang n&agrave;y cho b&#7841;n bi&#7871;t c&aacute;c c&aacute;ch &#273;&#7875; theo d&otilde;i c&aacute;c ho&#7841;t &#273;&#7897;ng c&#7911;a trang web n&agrave;y.',
'ical_info2' => '&#272;&#7875; bi&#7871;t th&ecirc;m chi ti&#7871;t xin v&agrave;o xem trang web <a href="http://www.spip.net/fr_suivi">SPIP\'s documentation</a>.',
'ical_info_calendrier' => 'B&#7841;n c&oacute; 2 th&#7901;i bi&#7875;u &#273;&#7875; s&#7917; d&#7909;ng. Th&#7901;i bi&#7875;u th&#7913; nh&#7845;t li&#7879;t k&ecirc; t&#7845;t c&#7843; c&aacute;c b&agrave;i vi&#7871;t &#273;&#432;&#7907;c &#273;&#259;ng. Th&#7901;i bi&#7875;u th&#7913; hai li&#7879;t k&ecirc; c&aacute;c th&ocirc;ng b&aacute;o c&#7911;a Ban Bi&ecirc;n T&#7853;p v&agrave; nh&#7919;ng th&ocirc;ng tin c&aacute; nh&acirc;n c&#7911;a b&#7841;n. Ph&#7847;n n&agrave;y &#273;&#432;&#7907;c d&agrave;nh cho b&#7841;n qua m&#7897;t m&#7853;t m&atilde; ri&ecirc;ng m&agrave; b&#7841;n c&oacute; th&#7875; thay &#273;&#7893;i b&#7857;ng c&aacute;ch thay &#273;&#7893;i m&#7853;t m&atilde; c&#7911;a m&igrave;nh.',
'ical_methode_http' => '&#272;ang t&#7843;i xu&#7889;ng',
'ical_methode_webcal' => '&#272;&#7891;ng b&#7897; ho&aacute; (webcal://)',
'ical_texte_js' => 'M&#7897;t m&#7879;nh l&#7879;nh javascript c&oacute; th&#7875; &#273;&#432;&#7907;c s&#7917; d&#7909;ng &#273;&#7875; hi&#7875;n th&#7883; nh&#7919;ng b&agrave;i v&#7905; m&#7899;i nh&#7845;t &#273;&#432;&#7907;c &#273;&#259;ng c&#7911;a trang web n&agrave;y tr&ecirc;n b&#7845;t k&#7923; trang web n&agrave;o c&#7911;a b&#7841;n m&#7897;t c&aacute;ch r&#7845;t d&#7877; d&agrave;ng.',
'ical_texte_prive' => 'Th&#7901;i bi&#7875;u n&agrave;y, v&#7899;i t&iacute;nh c&aacute;ch c&aacute; nh&acirc;n, s&#7869; cho b&#7841;n bi&#7871;t c&aacute;c ho&#7841;t &#273;&#7897;ng c&aacute; nh&acirc;n c&#7911;a Ban Bi&ecirc;n T&#7853;p (c&ocirc;ng vi&#7879;c, c&aacute;c cu&#7897;c h&#7865;n, c&aacute;c b&agrave;i &#273;&atilde; n&#7897;p v&agrave; c&aacute;c tin t&#7913;c...).',
'ical_texte_public' => 'Th&#7901;i bi&#7875;u n&agrave;y gi&uacute;p b&#7841;n theo d&otilde;i c&aacute;c ho&#7841;t &#273;&#7897;ng chung c&#7911;a trang web (c&aacute;c b&agrave;i vi&#7871;t v&agrave; c&aacute;c tin t&#7913;c &#273;&atilde; &#273;&#432;&#7907;c &#273;&#259;ng).',
'ical_texte_rss' => 'B&#7841;n c&oacute; th&#7875; &#273;&#7897;ng b&#7897; ho&aacute; c&aacute;c tin t&#7913;c m&#7899;i nh&#7845;t c&#7911;a trang web n&agrave;y b&#7857;ng b&#7845;t k&#7923; h&#7879; th&#7889;ng &#273;&#7885;c d&#7841;ng XML/RSS (Rich Site Summary) n&agrave;o. XML/RSS c&#361;ng l&agrave; d&#7841;ng h&#7891; s&#417; m&agrave; SPIP c&oacute; th&#7875; d&ugrave;ng &#273;&#7875; &#273;&#7885;c c&aacute;c tin t&#7913;c m&#7899;i nh&#7845;t &#273;&#259;ng t&#7843;i b&#7903;i c&aacute;c trang web d&ugrave;ng c&ugrave;ng m&#7897;t h&#7879; trao &#273;&#7893;i t&#432;&#417;ng &#7913;ng.',
'ical_titre_js' => 'Javascript',
'ical_titre_mailing' => 'Mailing-list',
'ical_titre_rss' => 'H&#7891; s&#417; &laquo;Backend&raquo;',
'icone_activer_cookie' => 'D&ugrave;ng Cookie',
'icone_afficher_auteurs' => 'Tr&igrave;nh b&agrave;y t&ecirc;n t&aacute;c gi&#7843; ',
'icone_afficher_visiteurs' => 'Tr&igrave;nh b&agrave;y s&#7889; &#273;&#7897;c gi&#7843;',
'icone_arret_discussion' => 'Kh&ocirc;ng tham gia v&agrave;o cu&#7897;c th&#7843;o lu&#7853;n n&agrave;y n&#7919;a',
'icone_calendrier' => 'L&#7883;ch',
'icone_creation_groupe_mots' => 'Th&ecirc;m NH&Oacute;M t&#7915; m&#7899;i  ',
'icone_creation_mots_cles' => 'Th&ecirc;m t&#7915; then ch&#7889;t m&#7899;i ',
'icone_creer_auteur' => 'Th&ecirc;m t&ecirc;n m&#7897;t t&aacute;c gi&#7843; m&#7899;i v&agrave; ghi v&agrave;o b&agrave;i n&agrave;y',
'icone_creer_rubrique_2' => 'Th&ecirc;m m&#7897;t &#273;&#7873; m&#7909;c m&#7899;i ',
'icone_ecrire_nouvel_article' => 'Tin ng&#7855;n trong &#273;&#7873; m&#7909;c n&agrave;y',
'icone_envoyer_message' => 'G&#7917;i th&#432; t&iacute;n n&agrave;y',
'icone_evolution_visites' => 'Th&#7889;ng k&ecirc;<br>@visites@ &#273;&#7897;c gi&#7843;',
'icone_modif_groupe_mots' => 'S&#7917;a NH&Oacute;M t&#7915; n&agrave;y',
'icone_modifier_article' => 'S&#7917;a b&agrave;i n&agrave;y',
'icone_modifier_breve' => 'S&#7917;a tin ng&#7855;n n&agrave;y',
'icone_modifier_message' => 'S&#7917;a th&#432; t&iacute;n n&agrave;y',
'icone_modifier_rubrique' => 'S&#7917;a &#273;&#7873; m&#7909;c n&agrave;y',
'icone_modifier_site' => 'S&#7917;a li&ecirc;n k&#7871;t n&agrave;y',
'icone_poster_message' => 'G&#7917;i m&#7897;t th&#432; t&iacute;n ',
'icone_publier_breve' => '&ETH;&#259;ng m&#7851;u tin n&agrave;y',
'icone_referencer_nouveau_site' => 'Th&ecirc;m m&#7897;t &#273;i&#7875;m n&#7889;i v&agrave;o trang Web kh&aacute;c',
'icone_refuser_breve' => 'T&#7915; ch&#7889;i tin ng&#7855;n n&agrave;y',
'icone_retour' => 'Tr&#7903; l&#7841;i',
'icone_retour_article' => 'Tr&#7903; v&#7873; b&agrave;i tr&#432;&#7899;c',
'icone_suivi_forum' => 'Theo d&otilde;i di&#7877;n &#273;&agrave;n : @nb_forums@ d&oacute;ng g&oacute;p',
'icone_supprimer_cookie' => 'x&oacute;a b&#7887; cookie',
'icone_supprimer_groupe_mots' => 'X&oacute;a NH&Oacute;M t&#7915; n&agrave;y ',
'icone_supprimer_rubrique' => 'Xo&aacute; &#273;&#7873; m&#7909;c n&agrave;y',
'icone_supprimer_signature' => 'Xo&aacute; ch&#7919; k&yacute; n&agrave;y',
'icone_valider_signature' => 'Ch&#7845;p thu&#7853;n',
'icone_voir_sites_references' => 'Xem nh&#7919;ng li&ecirc;n k&#7871;t',
'icone_voir_tous_mots_cles' => 'Xem nh&#7919;ng t&#7915; then ch&#7889;t',
'image_administrer_rubrique' => 'B&#7841;n c&oacute; th&#7875; qu&#7843;n tr&#7883; &#273;&#7873; m&#7909;c n&agrave;y',
'info_1_article' => '1 b&agrave;i',
'info_1_breve' => '1 b&#7843;n tin ng&#7855;n',
'info_1_site' => '1 trang web',
'info_activer_cookie' => 'B&#7841;n c&oacute; th&#7875; cho ch&#7841;y <b>administration cookie</b> &#273;&#7875; b&#7841;n c&oacute; th&#7875; qua l&#7841;i gi&#7919;a trang web c&ocirc;ng c&#7897;ng v&agrave; khu v&#7921;c ri&ecirc;ng.',
'info_activer_forum_public' => '<i>&#272;&#7875; di&#7877;n &#273;&agrave;n c&ocirc;ng c&#7897;ng ho&#7841;t &#273;&#7897;ng, xin ch&#7885;n m&#7897;t trong nh&#7919;ng ph&#432;&#417;ng th&#7913;c &#273;i&#7873;u h&#7907;p sau &#273;&acirc;y</i>',
'info_admin_gere_rubriques' => 'Nh&acirc;n v&#7853;t n&agrave;y c&oacute; quy&#7873;n qu&#7843;n tr&#7883; c&aacute;c &#273;&#7873; m&#7909;c sau &#273;&acirc;y:',
'info_admin_gere_toutes_rubriques' => 'Nh&acirc;n v&#7853;t n&agrave;y c&oacute; quy&#7873;n qu&#7843;n tr&#7883; <b>t&#7845;t c&#7843; c&aacute;c &#273;&#7873; m&#7909;c</b>.',
'info_administrateur' => 'Qu&#7843;n l&yacute;',
'info_administrateur_1' => 'Qu&#7843;n l&yacute;',
'info_administrateur_2' => 'c&#7911;a trang web (<i>s&#7917; d&#7909;ng c&#7849;n th&#7853;n</i>)',
'info_administrateur_site_01' => 'N&#7871;u b&#7841;n l&agrave; qu&#7843;n tr&#7883; vi&ecirc;n c&#7911;a website, xin',
'info_administrateur_site_02' => 'B&#7845;m v&agrave;o &#273;i&#7875;m n&#7889;i n&agrave;y',
'info_administrateurs' => 'Nh&#7919;ng ng&#432;&#7901;i qu&#7843;n l&yacute;',
'info_administrer_rubrique' => 'B&#7841;n c&oacute; th&#7875; qu&#7843;n tr&#7883; &#273;&#7873; m&#7909;c n&agrave;y',
'info_adresse' => '&#273;&#7871;n &#273;&#7883;a ch&#7881;:',
'info_adresse_email' => '&#272;&#7882;A CH&#7880; EMAIL:',
'info_adresse_url' => '&#272;&#7883;a ch&#7881; trang web c&#7911;a b&#7841;n',
'info_afficher_visites' => 'Li&#7879;t k&ecirc; nh&#7919;ng l&#7847;n vi&#7871;ng th&#259;m cho:',
'info_affichier_visites_articles_plus_visites' => 'Cho th&#7845;y s&#7889; l&#7847;n v&agrave;o xem c&#7911;a <b>nh&#7919;ng b&agrave;i &#273;&#432;&#7907;c &#273;&#7885;c nhi&#7873;u nh&#7845;t t&#7915; ban &#273;&#7847;u:</b>',
'info_aide_en_ligne' => 'Gi&uacute;p &#273;&#7905; SPIP online',
'info_ajout_image' => 'Khi b&#7841;n &#273;&iacute;nh k&egrave;m h&igrave;nh (trong d&#7841;ng h&#7891; s&#417;) v&agrave;o m&#7897;t b&agrave;i, SPIP c&oacute; th&#7875; t&#7921; &#273;&#7897;ng ch&#7871; ra c&aacute;c h&igrave;nh m&#7851;u &#273;&#7875; xem tr&#432;&#7899;c (t&#7913;c thumbnails) t&#7915; t&#7845;m h&igrave;nh nguy&ecirc;n th&#7911;y. V&#7899;i &#273;&#7863;c &#273;i&#7875;m n&agrave;y c&oacute; th&#7875; t&#7921; &#273;&#7897;ng thi&#7871;t l&#7853;p ra m&#7897;t t&#7853;p/b&#7897; h&igrave;nh &#7843;nh, album.',
'info_ajout_participant' => 'Nh&#7919;ng tham d&#7921; vi&ecirc;n sau &#273;&acirc;y &#273;&atilde; &#273;&#432;&#7907;c th&ecirc;m v&agrave;o:',
'info_ajouter_rubrique' => 'Th&ecirc;m m&#7897;t &#273;&#7873; m&#7909;c kh&aacute;c &#273;&#7875; qu&#7843;n tr&#7883;:',
'info_annonce_nouveautes' => 'Th&ocirc;ng tin m&#7899;i nh&#7845;t',
'info_annuler_blocage_priori' => 'H&#7911;y b&#7887; ph&#7847;n ng&#259;n ch&#7863;n tr&#432;&#7899;c n&#224;y',
'info_anterieur' => 'tr&#432;&#7899;c &#273;&oacute;',
'info_appliquer_choix_moderation' => 'D&ugrave;ng ph&#432;&#417;ng th&#7913;c &#273;i&#7873;u h&#7907;p n&agrave;y:',
'info_article' => 'b&agrave;i',
'info_article_2' => 'b&agrave;i',
'info_article_a_paraitre' => 'Nh&#7919;ng b&agrave;i &#273;&atilde; &#273;&#7873; ng&agrave;y &#273;&#7875; ph&aacute;t h&agrave;nh',
'info_articles_02' => ' b&agrave;i',
'info_articles_2' => 'B&agrave;i',
'info_articles_auteur' => 'B&agrave;i c&#7911;a t&aacute;c gi&#7843; n&agrave;y',
'info_articles_lies_mot' => 'Nh&#7919;ng b&agrave;i li&ecirc;n h&#7879; &#273;&#7871;n t&#7915; then ch&#7889;t n&agrave;y',
'info_articles_trouves' => 'Nh&#7919;ng b&agrave;i t&igrave;m th&#7845;y',
'info_articles_trouves_dans_texte' => 'Nh&#7919;ng b&agrave;i t&igrave;m th&#7845;y (trong v&#259;n b&#7843;n)',
'info_attente_validation' => 'B&agrave;i v&#7903; c&#7911;a b&#7841;n &#273;ang ch&#7901; th&ocirc;ng qua',
'info_aujourdhui' => 'h&ocirc;m nay:',
'info_auteur_message' => 'NG&#431;&#7900;I G&#7916;I:',
'info_auteurs' => 'T&aacute;c gi&#7843;',
'info_auteurs_par_tri' => 'T&aacute;c gi&#7843;@partri@',
'info_auteurs_trouves' => 'Nh&#7919;ng t&aacute;c gi&#7843; t&igrave;m th&#7845;y',
'info_authentification_externe' => 'X&aacute;c nh&#7853;n t&#7915; b&ecirc;n ngo&agrave;i',
'info_avertissement' => 'B&aacute;o &#273;&#7897;ng',
'info_base_installee' => 'C&#7845;u tr&uacute;c database c&#7911;a b&#7841;n &#273;&atilde; &#273;&#432;&#7907;c thi&#7871;t tr&iacute;.',
'info_base_restauration' => '&#272;ang h&#7891;i ph&#7909;c l&#7841;i database.',
'info_breves' => 'Trang web c&#7911;a b&#7841;n c&oacute; s&#7917; d&#7909;ng h&#7879; th&#7889;ng tin ng&#7855;n kh&ocirc;ng?',
'info_breves_03' => ' tin ng&#7855;n',
'info_breves_liees_mot' => 'Nh&#7919;ng tin ng&#7855;n li&ecirc;n h&#7879; &#273;&#7871;n t&#7915; then ch&#7889;t n&agrave;y',
'info_breves_touvees' => 'Nh&#7919;ng tin ng&#7855;n t&igrave;m th&#7845;y',
'info_breves_touvees_dans_texte' => 'Nh&#7919;ng tin ng&#7855;n t&igrave;m th&#7845;y (trong v&#259;n b&#7843;n)',
'info_changer_nom_groupe' => '&#272;&#7893;i t&ecirc;n c&#7911;a nh&oacute;m n&agrave;y:',
'info_chapeau' => 'D&#7851;n nh&#7853;p',
'info_chapeau_2' => 'D&#7851;n nh&#7853;p:',
'info_chemin_acces_1' => ' Ch&#7885;n l&#7921;a: <B>ng&#245; v&#224;o trong th&#432; m&#7909;c</B>',
'info_chemin_acces_2' => 'T&#7915; &#273;&#226;y tr&#7903; &#273;i, b&#7841;n ph&#7843;i c&#7845;u t&#7841;o l&#7889;i v&#224;o th&#244;ng tin th&#432; m&#7909;c. D&#7919; ki&#7879;n n&#224;y c&#7847;n thi&#7871;t &#273;&#7875; &#273;&#7885;c h&#7891; s&#417; ng&#432;&#7901;i s&#7917; d&#7909;ng trong danh b&#7841;.',
'info_chemin_acces_annuaire' => 'Ch&#7885;n l&#7921;a: <B>ng&#245; v&#224;o trong th&#432; m&#7909;c</B>',
'info_choix_base' => 'B&#432;&#7899;c th&#7913; ba:',
'info_classement_1' => ' trong s&#7889; @liste@',
'info_classement_2' => ' trong s&#7889; @liste@',
'info_code_acces' => '&#272;&#7915;ng qu&#234;n m&#227; s&#7889; &#273;&#7875; v&#224;o c&#7911;a b&#7841;n!',
'info_comment_lire_tableau' => 'C&#225;ch &#273;&#7885;c &#273;&#7891; th&#7883; n&#224;y',
'info_config_suivi' => 'N&#7871;u &#273;&#7883;a ch&#7881; n&agrave;y l&agrave; c&#7911;a m&#7897;t mailing list,  b&#7841;n cho bi&#7871;t &#273;&#7883;a ch&#7881; &#273;&#7875; ghi danh. &#272;&#7883;a ch&#7881; ghi danh c&oacute; th&#7875; l&agrave; URL (th&iacute; d&#7909; trang ghi danh qua web), hay &#273;&#7883;a ch&#7881; email c&oacute; ghi r&otilde; t&#7921;a &#273;&#7873; (subject). Th&iacute; d&#7909;: <tt>@adresse_suivi@?subject=subscribe</tt>):',
'info_config_suivi_explication' => 'B&#7841;n c&oacute; th&#7875; ghi danh v&agrave;o mailing list d&#432;&#7899;i &#273;&acirc;y, n&#7871;u b&#7841;n mu&#7889;n nh&#7853;n th&ocirc;ng tin c&aacute;c b&agrave;i &#273;&#432;&#7907;c n&#7897;p v&agrave;o trang web n&agrave;y.',
'info_confirmer_passe' => 'X&#225;c nh&#7853;n l&#7841;i m&#7853;t m&#227; m&#7899;i:',
'info_connexion_base' => 'B&#432;&#7899;c th&#7913; nh&igrave;: <b>th&#7917; n&#7889;i v&agrave;o database</b>',
'info_connexion_ldap_ok' => '<MODIF><B>N&#7889;i v&agrave;o LDAP t&#7889;t &#273;&#7865;p.</b><p> B&#7841;n c&oacute; th&#7875; qua b&#432;&#7899;c k&#7871; ti&#7871;p.',
'info_connexion_mysql' => 'B&#432;&#7899;c th&#7913; nh&#7845;t: <B>N&#7889;i v&agrave;o MySQL c&#7911;a b&#7841;n</B>',
'info_connexion_ok' => 'N&#7889;i v&agrave;o t&#7889;t &#273;&#7865;p.',
'info_contact' => 'Li&ecirc;n l&#7841;c',
'info_contenu_articles' => 'N&#7897;i dung b&#224;i',
'info_creation_mots_cles' => 'Th&ecirc;m b&#7899;t, s&#7917;a &#273;&#7893;i, s&#7855;p x&#7871;p c&aacute;c t&#7915; then ch&#7889;t c&#7911;a website',
'info_creation_paragraphe' => '(&#272;&#7875; b&#7855;t &#273;&#7847;u &#273;o&#7841;n v&#259;n m&#7899;i, b&#7841;n ch&#7881; c&#7847;n ch&#7915;a h&#224;ng tr&#7889;ng)',
'info_creation_rubrique' => 'Tr&#432;&#7899;c khi &#273;&#432;&#7907;c ph&#233;p vi&#7871;t m&#7897;t b&#224;i m&#7899;i, b&#7841;n ph&#7843;i l&#7853;p ra &#237;t nh&#7845;t m&#7897;t &#273;&#7873; m&#7909;c.',
'info_creation_tables' => 'B&#432;&#7899;c th&#7913; t&#432;: <B>T&#7841;o l&#7853;p ra c&#225;c b&#7843;ng trong database</B>',
'info_creer_base' => '<B>T&#7841;o l&#7853;p</B> ra m&#7897;t database m&#7899;i:',
'info_dans_groupe' => 'Trong nh&#243;m:',
'info_dans_rubrique' => 'Trong &#273;&#7873; m&#7909;c:',
'info_date_publication_anterieure' => 'Ng&agrave;y th&aacute;ng c&#7911;a b&agrave;i &#273;&atilde; &#273;&#259;ng:',
'info_date_referencement' => 'NG&#192;Y N&#7888;I K&#7870;T WEBSITE N&#192;Y:',
'info_delet_mots_cles' => 'B&#7841;n y&#234;u c&#7847;u x&#243;a t&#7915; then ch&#7889;t
<B>@titre_mot@</b> (@type_mot@). T&#7915; then ch&#7889;t n&#224;y c&#243; n&#7889;i qua
<b>@texte_lie@</b> b&#7841;n ph&#7843;i x&#225;c nh&#7853;n quy&#7871;t &#273;&#7883;nh n&#224;y:',
'info_demander_blocage_priori' => 'Y&#234;u c&#7847;u m&#7897;t c&#250; ng&#259;n ch&#7863;n tr&#432;&#7899;c',
'info_derniere_etape' => 'B&#432;&#7899;c ch&#243;t: <B>Ho&#224;n t&#7845;t!</B>',
'info_derniere_syndication' => 'Xu&#7845;t b&#7843;n song h&#224;nh ch&#243;t c&#7911;a website n&#224;y x&#7843;y ra v&#224;o ',
'info_derniers_articles_publies' => 'Nh&#7919;ng b&#224;i ph&#225;t h&#224;nh m&#7899;i nh&#7845;t c&#7911;a b&#7841;n',
'info_desactiver_forum_public' => 'Kh&oacute;a vi&#7879;c s&#7917; d&#7909;ng di&#7877;n &#273;&agrave;n c&ocirc;ng c&#7897;ng. Di&#7877;n &#273;&agrave;n c&ocirc;ng c&#7897;ng c&oacute; th&#7875; &#273;&#432;&#7907;c cho ph&eacute;p theo t&#7915;ng tr&#432;&#7901;ng h&#7907;p m&#7897;t cho c&aacute;c b&agrave;i v&#7903;; tuy nhi&ecirc;n s&#7869; c&#7845;m kh&ocirc;ng &#273;&#432;&#7907;c d&ugrave;ng cho c&aacute;c &#273;&#7873; m&#7909;c, tin ng&#7855;n, v.v...',
'info_desactiver_messagerie_personnelle' => 'B&#7841;n c&oacute; th&#7875; t&#7855;t/m&#7903; h&#7897;p th&#432; t&iacute;n c&aacute; nh&acirc;n c&#7911;a b&#7841;n.',
'info_descriptif' => 'T&oacute;m l&#432;&#7907;c:',
'info_discussion_cours' => '&#272;ang trao &#273;&#7893;i',
'info_ecrire_article' => '&#272;&#7875; c&oacute; th&#7875; so&#7841;n m&#7897;t b&agrave;i v&#7903;, b&#7841;n ph&#7843;i l&#7853;p ra m&#7897;t &#273;&#7873; m&#7909;c tr&#432;&#7899;c &#273;&atilde;. <Tr&#432;&#7899;c khi c&#243; th&#7875; vi&#7871;t b&#224;i, b&#7841;n ph&#7843;i l&#7853;p ra &#237;t nh&#7845;t m&#7897;t &#273;&#7873; m&#7909;c.',
'info_email_envoi' => '&#272;&#7883;a ch&#7881; email c&#7911;a ng&#432;&#7901;i g&#7917;i (kh&ocirc;ng b&#7855;t bu&#7897;c)',
'info_email_envoi_txt' => '&#272;&aacute;nh v&agrave;o &#273;&#7883;a ch&#7881; ng&#432;&#7901;i g&#7917;i &#273;&#7875; g&#7917;i email (theo &#273;&#7883;nh s&#7861;n, th&igrave; &#273;&#7883;a ch&#7881; ng&#432;&#7901;i nh&#7853;n s&#7869; &#273;&#432;&#7907;c d&ugrave;ng l&agrave;m &#273;&#7883;a ch&#7881; g&#7917;i)&nbsp;:',
'info_email_webmestre' => '&#272;&#7883;a ch&#7881; email c&#7911;a webmaster (kh&#244;ng b&#7855;t bu&#7897;c) ',
'info_entrer_code_alphabet' => 'Cho bi&#7871;t b&#7843;ng m&#227; s&#7917; d&#7909;ng: ',
'info_envoi_email_automatique' => 'G&#7917;i email t&#7921; &#273;&#7897;ng',
'info_envoi_forum' => 'G&#7917;i th&#432; t&iacute;n di&#7877;n &#273;&agrave;n &#273;&#7871;n t&aacute;c gi&#7843; b&agrave;i vi&#7871;t',
'info_envoyer_maintenant' => 'G&#7917;i b&#226;y gi&#7901;',
'info_erreur_restauration' => 'L&#7895;i ph&#7909;c h&#7891;i: kh&#244;ng t&#236;m th&#7845;y h&#7891; s&#417;.',
'info_etape_suivante' => 'Qua b&#432;&#7899;c k&#7871;',
'info_etape_suivante_1' => 'B&#7841;n c&#243; th&#7875; qua b&#432;&#7899;c k&#7871; ti&#7871;p.',
'info_etape_suivante_2' => ' B&#7841;n c&#243; th&#7875; qua b&#432;&#7899;c k&#7871; ti&#7871;p.',
'info_exportation_base' => '&#272;em database ra ngo&#224;i v&#224;o @archive@',
'info_facilite_suivi_activite' => '&#272;&#7875; l&agrave;m nh&#7865; c&ocirc;ng vi&#7879;c c&#7911;a Ban Bi&ecirc;n T&#7853;p, SPIP g&#7917;i b&#7857;ng email c&aacute;c th&ocirc;ng b&aacute;o xin ph&eacute;p &#273;&#259;ng v&agrave; ch&#7845;p thu&#7853;n b&agrave;i v&#7903; (&#273;&#7871;n mailing list c&#7911;a ch&#7911; b&uacute;t ch&#7859;ng h&#7841;n) ',
'info_fichiers_authent' => 'H&#7891; s&#417; x&#225;c nh&#7853;n ".htpasswd"',
'info_fonctionnement_forum' => 'Thao t&#225;c c&#7911;a di&#7877;n &#273;&#224;n: ',
'info_forum_administrateur' => 'Di&#7877;n &#273;&#224;n qu&#7843;n tr&#7883; vi&#234;n',
'info_forum_interne' => 'Di&#7877;n &#273;&agrave;n n&#7897;i b&#7897;',
'info_forum_ouvert' => 'Trong v&ugrave;ng ri&ecirc;ng, m&#7897;t di&#7877;n &#273;&agrave;n &#273;&#432;&#7907;c m&#7903; ra cho m&#7885;i ch&#7911; b&uacute;t &#273;&atilde; c&oacute; ghi danh. B&#7841;n c&oacute; th&#7875; t&#7855;t/m&#7903; m&#7897;t di&#7877;n &#273;&agrave;n ph&#7909; tr&#7897;i d&agrave;nh ri&ecirc;ng cho c&aacute;c qu&#7843;n tr&#7883; vi&ecirc;n.',
'info_forum_statistiques' => 'Th&#7889;ng k&#234; th&#259;m vi&#7871;ng',
'info_forums_abo_invites' => '<NEW>Votre site comporte des forums sur abonnement&nbsp;; les visiteurs sont donc invit&eacute;s &agrave; s\'enregistrer sur le site public.',
'info_gauche_admin_effacer' => '<MODIF><B>Ch&#7881; c&oacute; qu&#7843;n tr&#7883; vi&ecirc;n &#273;&#432;&#7907;c ph&eacute;p v&agrave;o trang n&agrave;y.</B><P> N&#417;i &#273;&acirc;y cho ph&eacute;p b&#7841;n th&#7921;c hi&#7879;n m&#7897;t s&#7889; vi&#7879;c qu&#7843;n tr&#7883; k&#7929; thu&#7853;t. M&#7897;t s&#7889; vi&#7879;c &#273;&ograve;i h&#7887;i ph&#7843;i c&oacute; ch&#7913;ng nh&#7853;n &#273;&#7863;c bi&#7879;t, v&agrave; c&#7847;n ph&#7843;i d&ugrave;ng FTP &#273;&#7875; v&agrave;o trang web.',
'info_gauche_admin_tech' => '<MODIF><B>Ch&#7881; c&oacute; qu&#7843;n tr&#7883; vi&ecirc;n &#273;&#432;&#7907;c ph&eacute;p v&agrave;o trang n&agrave;y.</B><P> N&#417;i &#273;&acirc;y cho ph&eacute;p b&#7841;n th&#7921;c hi&#7879;n m&#7897;t s&#7889; c&ocirc;ng vi&#7879;c b&#7843;o tr&igrave;. M&#7897;t s&#7889; vi&#7879;c c&#7847;n ph&#7843;i c&oacute; ch&#7913;ng nh&#7853;n &#273;&#7863;c bi&#7879;t, c&#7847;n ph&#7843;i d&ugrave;ng FTP &#273;&#7875; v&agrave;o trang web.',
'info_gauche_admin_vider' => '<MODIF><B>Ch&#7881; c&oacute; qu&#7843;n tr&#7883; vi&ecirc;n &#273;&#432;&#7907;c ph&eacute;p v&agrave;o trang n&agrave;y.</B><P> N&#417;i &#273;&acirc;y cho ph&eacute;p b&#7841;n th&#7921;c hi&#7879;n m&#7897;t s&#7889; c&ocirc;ng vi&#7879;c b&#7843;o tr&igrave;. M&#7897;t s&#7889; vi&#7879;c c&#7847;n ph&#7843;i c&oacute; ch&#7913;ng nh&#7853;n &#273;&#7863;c bi&#7879;t, v&agrave; c&#7847;n ph&#7843;i d&ugrave;ng FTP &#273;&#7875; v&agrave;o trang web.',
'info_gauche_auteurs' => '<MODIF>Danh s&aacute;ch t&#7845;t c&#7843; t&aacute;c gi&#7843; &#273;&#432;&#7907;c li&#7879;t k&ecirc; n&#417;i &#273;&acirc;y. Tr&aacute;ch nhi&#7879;m c&#7911;a m&#7895;i ng&#432;&#7901;i &#273;&#432;&#7907;c bi&#7875;u hi&#7879;n qua m&agrave;u c&#7911;a icon (ch&#7911; b&uacute;t=m&agrave;u xanh l&aacute; c&acirc;y; qu&#7843;n l&yacute;=m&agrave;u v&agrave;ng).',
'info_gauche_auteurs_exterieurs' => 'C&aacute;c t&aacute;c gi&#7843; b&ecirc;n ngo&agrave;i (kh&ocirc;ng &#273;&#432;&#7907;c ph&eacute;p v&agrave;o trang web) &#273;&#432;&#7907;c bi&#7875;u hi&#7879;n b&#7857;ng icon m&agrave;u xanh d&#432;&#417;ng; T&aacute;c gi&#7843; n&agrave;o b&#7883; x&oacute;a t&ecirc;n &#273;&#432;&#7907;c bi&#7875;u hi&#7879;n b&#7857;ng icon th&ugrave;ng r&aacute;c.',
'info_gauche_messagerie' => 'Ph&#432;&#417;ng ti&#7879;n th&#432; t&iacute;n cho ph&eacute;p b&#7841;n trao &#273;&#7893;i th&#432; t&iacute;n gi&#7919;a c&aacute;c ch&#7911; b&uacute;t v&#7899;i nhau, l&#432;u tr&#7919; b&#7843;n ghi nh&#7899; (&#273;&#7875; s&#7917; d&#7909;ng ri&ecirc;ng) ho&#7863;c hi&#7875;n th&#7883; th&ocirc;ng b&aacute;o tr&ecirc;n trang nh&agrave; c&#7911;a v&ugrave;ng ri&ecirc;ng (n&#7871;u b&#7841;n l&agrave; ng&#432;&#7901;i qu&#7843;n tr&#7883;).',
'info_gauche_numero_auteur' => 'S&#7888; TH&#7912; T&#7920; T&Aacute;C GI&#7842;:',
'info_gauche_numero_breve' => 'S&#7888; TH&#7912; T&#7920; TIN NG&#7854;N',
'info_gauche_statistiques_referers' => '<MODIF>Trang n&agrave;y li&#7879;t k&ecirc; danh s&aacute;ch <I>referrers</I>, t&#7913;c l&agrave; c&aacute;c trang c&oacute; ch&#7913;a &#273;i&#7875;m n&#7889;i &#273;&#7871;n trang c&#7911;a b&#7841;n, ch&#7881; cho h&ocirc;m nay m&agrave; th&ocirc;i: th&#7853;t ra danh s&aacute;ch n&agrave;y &#273;&#432;&#7907;c so&#7841;n m&#7895;i 24 gi&#7901;.',
'info_gauche_suivi_forum' => 'Trang <I>Qu&#7843;n tr&#7883; Di&#7877;n &#272;&agrave;n</i> l&agrave; m&#7897;t ph&#432;&#417;ng ti&#7879;n qu&#7843;n tr&#7883; c&#7911;a trang web (kh&ocirc;ng d&ugrave;ng &#273;&#7875; trao &#273;&#7893;i hay s&#7917;a &#273;&#7893;i). Trang n&agrave;y li&#7879;t k&ecirc; t&#7845;t c&#7843; m&#7885;i th&#432; t&iacute;n trong di&#7877;n &#273;&agrave;n c&ocirc;ng c&#7897;ng c&#7911;a b&agrave;i n&agrave;y v&agrave; cho ph&eacute;p b&#7841;n qu&#7843;n tr&#7883; nh&#7919;ng th&#432; t&iacute;n n&agrave;y.',
'info_gauche_suivi_forum_2' => 'Trang <I>Qu&#7843;n tr&#7883; Di&#7877;n &#272;&agrave;n</i> l&agrave; m&#7897;t ph&#432;&#417;ng ti&#7879;n qu&#7843;n tr&#7883; c&#7911;a trang web (kh&ocirc;ng d&ugrave;ng &#273;&#7875; trao &#273;&#7893;i hay s&#7917;a &#273;&#7893;i). Trang n&agrave;y li&#7879;t k&ecirc; t&#7845;t c&#7843; m&#7885;i th&#432; t&iacute;n trong di&#7877;n &#273;&agrave;n c&ocirc;ng c&#7897;ng c&#7911;a b&agrave;i n&agrave;y v&agrave; cho ph&eacute;p b&#7841;n qu&#7843;n tr&#7883; nh&#7919;ng th&#432; t&iacute;n n&agrave;y.',
'info_gauche_visiteurs_enregistres' => 'Danh s&aacute;ch nh&#7919;ng ng&#432;&#7901;i kh&aacute;ch ghi danh trong v&ugrave;ng c&ocirc;ng c&#7897;ng c&#7911;a trang web (theo di&#7877;n &#273;&agrave;n)',
'info_generation_miniatures_images' => 'H&igrave;nh m&#7851;u xem tr&#432;&#7899;c (thumbnail)',
'info_gerer_trad' => 'Qu&#7843;n tr&#7883; ph&#7847;n n&#7889;i d&#7883;ch thu&#7853;t?',
'info_groupe_important' => 'Nh&oacute;m quan tr&#7885;ng',
'info_hebergeur_desactiver_envoi_email' => 'M&#7897;t s&#7889; m&aacute;y ch&#7911; kh&ocirc;ng cho ph&eacute;p g&#7917;i email t&#7921; &#273;&#7897;ng t&#7915; server. Trong tr&#432;&#7901;ng h&#7907;p n&agrave;y, nh&#7919;ng &#273;&#7863;c &#273;i&#7875;m sau &#273;&acirc;y c&#7911;a SPIP kh&ocirc;ng th&#7875; thi&#7871;t l&#7853;p &#273;&#432;&#7907;c.',
'info_hier' => 'h&#244;m qua: ',
'info_historique' => '<NEW>R&eacute;visions&nbsp;:',
'info_historique_activer' => '<NEW>Activer le suivi des r&eacute;visions',
'info_historique_affiche' => '<NEW>Afficher cette version',
'info_historique_comparaison' => '<NEW>comparaison',
'info_historique_desactiver' => '<NEW>D&eacute;sactiver le suivi des r&eacute;visions',
'info_historique_lien' => '<NEW>Afficher l\'historique des modifications',
'info_historique_texte' => '<NEW>Le suivi des r&eacute;visions permet de conserver un historique de toutes les modifications apport&eacute;es au contenu d\'un article, et d\'afficher les diff&eacute;rences entre les versions successives.',
'info_historique_titre' => '<NEW>Suivi des r&eacute;visions',
'info_identification_publique' => 'Danh t&#225;nh c&#244;ng c&#7897;ng c&#7911;a b&#7841;n...',
'info_image_process' => 'Xin ch&#7885;n c&aacute;ch t&#7841;o ra h&igrave;nh trang tr&iacute; b&#7857;ng b&#7845;m tr&ecirc;n h&igrave;nh &#273;&#7865;p nh&#7845;t.',
'info_image_process2' => '<NEW><b>N.B.</b> <i>Si aucune image n\'appara&icirc;t, alors le serveur qui h&eacute;berge votre site n\'a pas &eacute;t&eacute; configur&eacute; pour utiliser de tels outils. Si vous souhaitez utiliser ces fonctions, contactez le responsable technique et demandez les extensions &laquo;GD&raquo; ou &laquo;Imagick&raquo;.</i>',
'info_informations_personnelles' => 'B&#432;&#7899;c th&#7913; n&#259;m: <B>D&#7919; ki&#7879;n c&#225; nh&#226;n</B>',
'info_inscription_automatique' => 'T&#7921; &#273;&#7897;ng ghi danh c&#225;c ch&#7911; b&#250;t m&#7899;i',
'info_jeu_caractere' => 'B&#7843;ng m&#227; c&#7911;a website',
'info_jours' => 'ng&agrave;y',
'info_laisser_champs_vides' => '&#273;&#7875; tr&#7889;ng nh&#7919;ng ph&#7847;n n&#224;y)',
'info_langues' => 'Ng&#244;n ng&#7919; c&#7911;a website',
'info_ldap_ok' => '&#272;&#7863;c &#273;i&#7875;m x&#225;c nh&#7853;n LDAP &#273;&#432;&#7907;c thi&#7871;t tr&#237;.',
'info_lien_hypertexte' => '&#272;i&#7875;m k&#7871;t n&#7889;i:',
'info_liens_syndiques_1' => '&#273;i&#7875;m k&#7871;t n&#7889;i syndicated',
'info_liens_syndiques_2' => 'ch&#7901; th&#244;ng qua.',
'info_liens_syndiques_3' => ' di&#7877;n &#273;&#224;n',
'info_liens_syndiques_4' => ' l&#224;',
'info_liens_syndiques_5' => 'di&#7877;n &#273;&#224;n',
'info_liens_syndiques_6' => ' l&#224;',
'info_liens_syndiques_7' => 'ch&#7901; th&#244;ng qua.',
'info_liste_redacteurs_connectes' => 'Danh s&#225;ch c&#225;c ch&#7911; b&#250;t &#273;ang n&#7889;i v&#224;o',
'info_login_existant' => 'Login n&#224;y &#273;&#227; c&#243;.',
'info_login_trop_court' => 'Login ng&#7855;n qu&#225;.',
'info_maximum' => 't&#7889;i &#273;a:',
'info_meme_rubrique' => 'C&#361;ng &#273;&#7873; m&#7909;c',
'info_message' => 'Th&#432; t&iacute;n t&#7915; ',
'info_message_efface' => 'TH&#431; T&Iacute;N &#272;&#431;&#7906;C X&Oacute;A',
'info_message_en_redaction' => 'Th&#432; t&iacute;n &#273;ang so&#7841;n',
'info_message_technique' => 'Th&#432; t&iacute;n k&#7929; thu&#7853;t:',
'info_messagerie_interne' => 'Tin t&#7913;c n&#7897;i b&#7897;',
'info_mise_a_niveau_base' => 'N&#226;ng c&#7845;p database MySQL',
'info_mise_a_niveau_base_2' => '{{C&#7843;nh b&#225;o!}}B&#7841;n v&#7915;a thi&#7871;t tr&#237; m&#7897;t &#7845;n b&#7843;n SPIP c&#361; h&#417;n &#7845;n b&#7843;n thi&#7871;t tr&#237; tr&#432;&#7899;c &#273;&#226;y: database c&#7911;a b&#7841;n c&#243; th&#7875; g&#7863;p r&#7911;i ro m&#7845;t m&#225;t v&#224; webiste kh&#244;ng ho&#7841;t &#273;&#7897;ng &#273;&#250;ng n&#7919;a.{{T&#225;i thi&#7871;t tr&#237; c&#225;c h&#7891; s&#417; SPIP.}} ',
'info_mode_fonctionnement_defaut_forum_public' => 'C&#225;ch th&#7913;c &#273;i&#7873;u h&#224;nh &#273;&#7883;nh s&#7861;n c&#7911;a di&#7877;n &#273;&#224;n c&#244;ng',
'info_modifier_breve' => 'S&#7917;a &#273;&#7893;i tin ng&#7855;n:',
'info_modifier_rubrique' => 'S&#7917;a &#273;&#7893;i &#273;&#7873; m&#7909;c:',
'info_modifier_titre' => 'S&#7917;a &#273;&#7893;i: @titre@',
'info_mon_site_spip' => 'Website SPIP c&#7911;a t&#244;i',
'info_mot_sans_groupe' => '(T&#7915; then ch&#7889;t kh&ocirc;ng thu&#7897;c m&#7897;t nh&oacute;m...)',
'info_moteur_recherche' => 'C&#417; ph&#7853;n t&igrave;m ki&#7871;m',
'info_mots_cles' => 'C&#225;c t&#7915; then ch&#7889;t',
'info_mots_cles_association' => 'C&aacute;c t&#7915; then ch&#7889;t trong nh&oacute;m n&agrave;y c&oacute; th&#7875; &#273;&#432;&#7907;c d&ugrave;ng cho:',
'info_moyenne' => 'trung b&#236;nh: ',
'info_multi_articles' => 'Cho ph&eacute;p d&#7909;ng nhi&#7873;u th&#7913; ti&#7871;ng trong nh&#7919;ng b&agrave;i&nbsp;?',
'info_multi_cet_article' => 'B&agrave;i ti&#7871;ng:',
'info_multi_langues_choisies' => 'Xin ch&#7885;n ng&ocirc;n ng&#7919; c&oacute; s&#7861;n cho c&aacute;c ch&#7911; b&uacute;t.
  Ng&ocirc;n ng&#7919; &#273;&atilde; d&ugrave;ng cho trang web th&igrave; kh&ocirc;ng t&#7855;t &#273;&#432;&#7907;c.',
'info_multi_rubriques' => 'Cho ph&eacute;p d&#7909;ng nhi&#7873;u th&#7913; ti&#7871;ng trong nh&#7919;ng &#273;&#7873; m&#7909;c&nbsp;?',
'info_multi_secteurs' => '... ch&#7881; d&agrave;nh cho c&aacute;c &#273;&#7873; m&#7909;c &#7903; g&#7889;c trang web ?',
'info_nom' => 'T&#234;n',
'info_nom_destinataire' => 'T&#234;n ng&#432;&#7901;i nh&#7853;n',
'info_nom_site' => 'T&#234;n website c&#7911;a b&#7841;n',
'info_nom_site_2' => '<b>T&#234;n website</b> [B&#7855;t bu&#7897;c]',
'info_nombre_articles' => '@nb_articles@ b&agrave;i,',
'info_nombre_breves' => '@nb_breves@ tin ng&#7855;n, ',
'info_nombre_partcipants' => 'THAM D&#7920; VI&#202;N V&#192;O CU&#7896;C TH&#7842;O LU&#7852;N:',
'info_nombre_rubriques' => '@nb_rubriques@ &#273;&#7873; m&#7909;c, ',
'info_nombre_sites' => '@nb_sites@ website, ',
'info_non_deplacer' => '&#272;&#7915;ng d&#7901;i...',
'info_non_envoi_annonce_dernieres_nouveautes' => 'SPIP c&oacute; th&#7875; th&#432;&#7901;ng xuy&ecirc;n g&#7917;i tin t&#7913;c th&ocirc;ng b&aacute;o c&#7911;a website (b&agrave;i v&agrave; tin v&#7915;a &#273;&#259;ng t&#7843;i).',
'info_non_envoi_liste_nouveautes' => '&#272;&#7915;ng g&#7917;i danh s&#225;ch tin m&#7899;i nh&#7845;t',
'info_non_modifiable' => 'kh&#244;ng th&#7875; s&#7917;a &#273;&#7893;i &#273;&#432;&#7907;c',
'info_non_suppression_mot_cle' => 'T&#244;i kh&#244;ng mu&#7889;n x&#243;a t&#7915; then ch&#7889;t n&#224;y.',
'info_notes' => 'Ch&#250; th&#237;ch',
'info_nouveaux_message' => 'Th&#432; t&iacute;n m&#7899;i',
'info_nouvel_article' => 'B&#224;i m&#7899;i',
'info_nouvelle_traduction' => 'B&#7843;n d&#7883;ch m&#7899;i:',
'info_numero_article' => 'S&#7888; TH&#7912; T&#7920; B&#192;I:',
'info_obligatoire_02' => '[B&#7855;t bu&#7897;c] ',
'info_option_accepter_visiteurs' => '<NEW>Accepter l\'inscription de visiteurs du site public',
'info_option_email' => 'Khi m&#7897;t v&#7883; kh&aacute;ch g&#7917;i th&#432; t&iacute;n v&agrave;o di&#7877;n &#273;&agrave;n c&oacute; li&ecirc;n h&#7879; t&#7899;i m&#7897;t b&agrave;i vi&#7871;t, t&aacute;c gi&#7843; b&agrave;i vi&#7871;t &#273;&oacute; c&oacute; th&#7875; &#273;&#432;&#7907;c th&ocirc;ng b&aacute;o qua email. B&#7841;n c&oacute; mu&#7889;n d&ugrave;ng &#273;&#7863;c &#273;i&#7875;m n&agrave;y kh&ocirc;ng? ',
'info_option_faire_suivre' => 'Chuy&#7875;n th&#432; t&iacute;n trong di&#7877;n &#273;&agrave;n &#273;&#7871;n t&aacute;c gi&#7843; b&agrave;i',
'info_option_ne_pas_accepter_visiteurs' => '<NEW>Refuser l\'inscription des visiteurs',
'info_option_ne_pas_faire_suivre' => '&#272;&#7915;ng chuy&#7875;n th&#432; t&iacute;n c&#7911;a di&#7877;n &#273;&agrave;n',
'info_options_avancees' => '&#272;&#7862;C T&Iacute;NH PH&#7908; TR&#7896;I',
'info_ortho_activer' => '<NEW>Activer le v&eacute;rificateur d\'orthographe',
'info_ortho_desactiver' => '<NEW>D&eacute;sactiver le v&eacute;rificateur d\'orthographe',
'info_ou' => 'ho&#7863;c... ',
'info_oui_suppression_mot_cle' => 'T&#244;i mu&#7889;n x&#243;a lu&#244;n t&#7915; then ch&#7889;t n&#224;y.',
'info_page_interdite' => 'Trang c&#7845;m v&#224;o',
'info_par_nombre_article' => '(theo s&#7889; l&#432;&#7907;ng b&#224;i) ',
'info_par_tri' => ' (B&#7903;i @tri@)',
'info_pas_de_forum' => 'kh&#244;ng c&#243; di&#7877;n &#273;&#224;n',
'info_passe_trop_court' => 'M&#7853;t m&#227; ng&#7855;n qu&#225;.',
'info_passes_identiques' => 'Hai m&#7853;t m&#227; kh&#244;ng gi&#7889;ng h&#7879;t nhau.',
'info_pense_bete_ancien' => 'B&#7843;n ghi nh&#7899; c&#361; c&#7911;a b&#7841;n',
'info_plus_cinq_car' => 'h&#417;n 5 m&#7851;u t&#7921;',
'info_plus_cinq_car_2' => '(H&#417;n 5 m&#7851;u t&#7921;) ',
'info_plus_trois_car' => '(H&#417;n 3 m&#7851;u t&#7921;) ',
'info_popularite' => 'M&#7913;c ph&#7893; th&#244;ng: @popularite@; l&#7847;n vi&#7871;ng: @visites@',
'info_popularite_2' => 'M&#7913;c ph&#7893; th&#244;ng c&#7911;a website: ',
'info_popularite_3' => 'M&#7913;c ph&#7893; th&ocirc;ng: @popularite@; l&#7847;n vi&#7871;ng: @visites@',
'info_popularite_4' => 'M&#7913;c ph&#7893; th&ocirc;ng: @popularite@; l&#7847;n vi&#7871;ng: @visites@',
'info_popularite_5' => ' ph&#7893; th&#244;ng:',
'info_post_scriptum' => 'T&#225;i b&#250;t',
'info_post_scriptum_2' => 'T&#225;i b&#250;t:',
'info_pour' => 'cho',
'info_preview_admin' => '<NEW>Seuls les administrateurs peuvent pr&eacute;visualiser le site',
'info_preview_comite' => '<NEW>Tous les r&eacute;dacteurs peuvent pr&eacute;visualiser le site',
'info_preview_desactive' => '<NEW>La pr&eacute;visualisation est totalement d&eacute;sactiv&eacute;e',
'info_preview_texte' => '<NEW>Il est possible de pr&eacute;visualiser le site comme si tous les articles et les br&egrave;ves (ayant au moins le statut &laquo;&nbsp;propos&eacute;&nbsp;&raquo;) &eacute;taient publi&eacute;s. Cette possibilit&eacute; doit-elle &ecirc;tre ouverte aux administrateurs seulement, &agrave; tous les r&eacute;dacteurs, ou &agrave; personne&nbsp;?',
'info_principaux_correspondants' => 'Nh&#7919;ng ng&#432;&#7901;i li&ecirc;n l&#7841;c ch&iacute;nh',
'info_procedez_par_etape' => 'Xin ti&#7871;p di&#7877;n t&#7915;ng b&#432;&#7899;c m&#7897;t',
'info_procedure_maj_version' => 'Quy tr&#236;nh n&#226;ng c&#7845;p c&#7847;n &#273;&#432;&#7907;c ch&#7841;y &#273;&#7875; database th&#237;ch &#7913;ng v&#7899;i &#7845;n b&#7843;n SPIP m&#7899;i.',
'info_ps' => 'T&#225;i b&#250;t.',
'info_publies' => 'B&agrave;i c&#7911;a b&#7841;n &#273;&#432;&#7907;c &#273;&#259;ng online',
'info_question_accepter_visiteurs' => '<NEW>Si les squelettes de votre site pr&eacute;voient l\'enregistrement de visiteurs sans acc&egrave;s &agrave; l\'espace priv&eacute;, veuillez activer l\'option ci-dessous&nbsp;:',
'info_question_gerer_statistiques' => 'C&oacute; mu&#7889;n qu&#7843;n tr&#7883; c&aacute;c con s&#7889; th&#7889;ng k&ecirc;?',
'info_question_inscription_nouveaux_redacteurs' => 'B&#7841;n c&oacute; cho ph&eacute;p ghi danh c&aacute;c ch&#7911; b&uacute;t m&#7899;i t&#7915; website c&ocirc;ng c&#7897;ng kh&ocirc;ng? N&#7871;u &#273;&#7891;ng &yacute;, kh&aacute;ch c&oacute; th&#7875; ghi danh qua m&#7897;t m&#7851;u t&#7921; &#273;&#7897;ng, v&agrave; s&#7869; &#273;&#432;&#7907;c ph&eacute;p v&agrave;o v&ugrave;ng ri&ecirc;ng c&#7911;a h&#7885; &#273;&#7875; so&#7841;n b&agrave;i. <blockquote><i>Trong qu&aacute; tr&igrave;nh ghi danh, ng&#432;&#7901;i d&ugrave;ng s&#7869; nh&#7853;n &#273;&#432;&#7907;c email cho bi&#7871;t login/m&#7853;t m&atilde; v&agrave;o ch&#7895; ri&ecirc;ng c&#7911;a h&#7885;. M&#7897;t s&#7889; m&aacute;y ch&#7911; t&#7855;t &#273;&#7863;c &#273;i&#7875;m n&agrave;y: trong tr&#432;&#7901;ng h&#7907;p &#273;&oacute;, ghi danh t&#7921; &#273;&#7897;ng kh&ocirc;ng d&ugrave;ng &#273;&#432;&#7907;c.</i>',
'info_question_mots_cles' => 'B&#7841;n c&#243; mu&#7889;n d&#249;ng t&#7915; then ch&#7889;t trong website? ',
'info_question_proposer_site' => 'Ai c&oacute; quy&#7873;n &#273;&#7873; ngh&#7883; c&aacute;c website n&#7889;i k&#7871;t?',
'info_question_utilisation_moteur_recherche' => 'B&#7841;n c&oacute; mu&#7889;n d&ugrave;ng c&#417; ph&#7853;n t&igrave;m ki&#7871;m c&oacute; s&#7861;n c&#7911;a SPIP? (<i>N&#7871;u t&#7855;t n&oacute; &#273;i s&#7869; l&agrave;m h&#7879; th&#7889;ng ch&#7841;y l&#7865; h&#417;n</i>) ',
'info_qui_attribue_mot_cle' => 'Nh&#7919;ng ng&#432;&#7901;i c&oacute; quy&#7873;n &#7845;n &#273;&#7883;nh c&aacute;c t&#7915; then ch&#7889;t n&agrave;y:',
'info_racine_site' => 'G&#7889;c c&#7911;a website',
'info_recharger_page' => 'Xin n&#7841;p l&#7841;i trang n&#224;y trong gi&#226;y l&#225;t.',
'info_recherche_auteur_a_affiner' => 'Qu&#225; nhi&#7873;u k&#7871;t qu&#7843; cho "@cherche_auteur@"; Xin l&#7885;c l&#7921;a l&#7841;i vi&#7879;c t&#236;m ki&#7871;m.',
'info_recherche_auteur_ok' => 'T&#236;m th&#7845;y m&#7897;t s&#7889; ch&#7911; b&#250;t cho "@cherche_auteur@":',
'info_recherche_auteur_zero' => '<MODIF><B>Kh&#244;ng c&#243; k&#7871;t qu&#7843; cho "@cherche_auteur@"</B>.',
'info_recommencer' => 'Xin th&#7917; l&#7841;i.',
'info_redacteur_1' => 'T&aacute;c gi&#7843;',
'info_redacteur_2' => ' c&#243; l&#7889;i v&#224;o v&#249;ng t&#432; (<i>&#273;&#7873; ngh&#7883;</i>)',
'info_redacteurs' => 'Ch&#7911; b&#250;t',
'info_redaction_en_cours' => '&#272;ANG SO&#7840;N',
'info_redirection' => 'Chuy&#7875;n h&#432;&#7899;ng',
'info_refuses' => 'B&#224;i c&#7911;a b&#7841;n b&#7883; t&#7915; ch&#7889;i',
'info_reglage_ldap' => 'Ch&#7885;n l&#7921;a: <B>&#272;i&#7873;u ch&#7881;nh vi&#7879;c nh&#7853;p LDAP</b>',
'info_renvoi_article' => '<B>Chuy&#7875;n h&#432;&#7899;ng.</B> B&#224;i n&#224;y n&#7889;i &#273;&#7871;n trang: ',
'info_reserve_admin' => 'Ch&#7881; c&#243; qu&#7843;n tr&#7883; vi&#234;n m&#7899;i c&#243; th&#7875; s&#7917;a &#273;&#7893;i &#273;&#7883;a ch&#7881; n&#224;y.',
'info_restauration_sauvegarde' => 'Ph&#7909;c h&#7891;i h&#7891; s&#417; d&#7921; tr&#7919; @archive@',
'info_restreindre_rubrique' => 'Gi&#7899;i h&#7841;n vi&#7879;c qu&#7843;n tr&#7883; trong &#273;&#7873; m&#7909;c:',
'info_resultat_recherche' => 'K&#7871;t qu&#7843; t&#236;m ki&#7871;m:',
'info_rubriques' => '&#272;&#7873; m&#7909;c',
'info_rubriques_02' => '&#273;&#7873; m&#7909;c',
'info_rubriques_liees_mot' => '&#272;&#7873; m&#7909;c c&#243; li&#234;n h&#7879; v&#7899;i t&#7915; then ch&#7889;t n&#224;y',
'info_rubriques_trouvees' => 'T&#236;m th&#7845;y &#273;&#7873; m&#7909;c',
'info_rubriques_trouvees_dans_texte' => 'T&#236;m th&#7845;y &#273;&#7873; m&#7909;c (trong v&#259;n t&#432;)',
'info_sans_titre' => 'Kh&#244;ng t&#7921;a &#273;&#7873;',
'info_sauvegarde' => 'D&#7921; tr&#7919;',
'info_sauvegarde_articles' => 'D&#7921; tr&#7919; c&#225;c b&#224;i v&#7903;',
'info_sauvegarde_articles_sites_ref' => 'D&#7921; tr&#7919; b&#224;i v&#7903; c&#7911;a c&#225;c website n&#7889;i k&#7871;t',
'info_sauvegarde_auteurs' => 'D&#7921; tr&#7919; c&#225;c t&#225;c gi&#7843;',
'info_sauvegarde_breves' => 'D&#7921; tr&#7919; c&aacute;c tin ng&#7855;n',
'info_sauvegarde_documents' => 'D&#7921; tr&#7919; t&#224;i li&#7879;u',
'info_sauvegarde_echouee' => 'N&#7871;u d&#7921; tr&#7919; th&#7845;t b&#7841;i (&#38;laquo;qu&#225; t&#7889;i &#273;a th&#7901;i gian th&#7921;c hi&#7879;n&#38;raquo;),',
'info_sauvegarde_forums' => 'D&#7921; tr&#7919; c&#225;c di&#7877;n &#273;&#224;n',
'info_sauvegarde_groupe_mots' => 'D&#7921; tr&#7919; nh&#243;m t&#7915; then ch&#7889;t',
'info_sauvegarde_messages' => 'D&#7921; tr&#7919; nh&#7855;n tin',
'info_sauvegarde_mots_cles' => 'D&#7921; tr&#7919; c&#225;c t&#7915; then ch&#7889;t',
'info_sauvegarde_petitions' => 'D&#7921; tr&#7919; c&#225;c th&#7881;nh nguy&#7879;n th&#432;',
'info_sauvegarde_refers' => 'D&#7921; tr&#7919; referrers',
'info_sauvegarde_reussi_01' => 'D&#7921; tr&#7919; th&#224;nh c&#244;ng.',
'info_sauvegarde_reussi_02' => 'Database &#273;&#432;&#7907;c l&#432;u tr&#7919; trong <b>ecrire/data/@archive@</b>. B&#7841;n c&#243; th&#7875; ',
'info_sauvegarde_reussi_03' => 'tr&#7903; l&#7841;i vi&#7879;c qu&#7843;n tr&#7883;',
'info_sauvegarde_reussi_04' => 'website c&#7911;a b&#7841;n.',
'info_sauvegarde_rubriques' => 'D&#7921; tr&#7919; c&#225;c &#273;&#7873; m&#7909;c',
'info_sauvegarde_signatures' => 'D&#7921; tr&#7919; c&#225;c ch&#7919; k&#253; th&#7881;nh nguy&#7879;n th&#432;',
'info_sauvegarde_sites_references' => 'D&#7921; tr&#7919; c&#225;c website n&#7889;i k&#7871;t',
'info_sauvegarde_type_documents' => 'D&#7921; tr&#7919; t&#234;n lo&#7841;i t&#224;i li&#7879;u',
'info_sauvegarde_visites' => 'D&#7921; tr&#7919; c&#225;c vi&#7871;ng th&#259;m',
'info_selection_chemin_acces' => '<b>Ch&#7885;n</b> d&#432;&#7899;i &#273;&#226;y &#273;&#432;&#7901;ng v&#224;o trong th&#432; m&#7909;c:',
'info_selection_un_seul_mot_cle' => 'B&#7841;n c&#243; th&#7875; ch&#7885;n <b>m&#7897;t t&#7915; then ch&#7889;t duy nh&#7845;t</b> m&#7895;i l&#7847;n trong nh&#243;m n&#224;y.',
'info_signatures' => 'ch&#7919; k&#253;',
'info_site' => 'Website',
'info_site_2' => 'website: ',
'info_site_min' => 'website',
'info_site_propose' => 'website &#273;&#227; n&#7897;p l&#250;c:',
'info_site_reference_2' => 'Website n&#7889;i k&#7871;t',
'info_site_syndique' => 'Website n&#224;y &#273;&#432;&#7907;c syndicated...',
'info_site_valider' => 'Website ch&#7901; ch&#7845;p thu&#7853;n',
'info_site_web' => 'WEB SITE:',
'info_sites' => 'website',
'info_sites_lies_mot' => 'Nh&#7919;ng website n&#7889;i k&#7871;t li&#234;n &#273;&#7899;i v&#7899;i t&#7915; then ch&#7889;t n&#224;y',
'info_sites_proxy' => 'D&#249;ng m&#7897;t proxy',
'info_sites_refuses' => 'Website b&#7883; t&#7915; ch&#7889;i',
'info_sites_trouves' => 'T&#236;m th&#7845;y website',
'info_sites_trouves_dans_texte' => 'T&#236;m th&#7845;y website (trong v&#259;n t&#7921;)',
'info_sous_titre' => 'T&#7921;a &#273;&#7873; ph&#7909;:',
'info_statut_administrateur' => 'Qu&#7843;n tr&#7883; vi&#234;n',
'info_statut_auteur' => 'Quy&#7873;n h&#7841;n c&#7911;a t&aacute;c gi&#7843;:',
'info_statut_efface' => 'X&#243;a',
'info_statut_redacteur' => 'Ch&#7911; b&#250;t',
'info_statut_site_1' => 'Website n&#224;y l&#224;:',
'info_statut_site_2' => '&#272;&#227; ph&#225;t h&#224;nh',
'info_statut_site_3' => '&#272;&#227; n&#7897;p v&#224;o',
'info_statut_site_4' => 'V&#244; th&#249;ng r&#225;c',
'info_statut_utilisateurs_1' => 'Tr&#7841;ng th&#225;i &#273;&#7883;nh s&#7861;n c&#7911;a ng&#432;&#7901;i d&#249;ng &#273;&#432;&#7907;c &#273;&#432;a v&#224;o',
'info_statut_utilisateurs_2' => 'Ch&#7885;n tr&#7841;ng th&#225;i cho nh&#7919;ng ng&#432;&#7901;i li&#7879;t k&#234; trong th&#432; m&#7909;c LDAP khi h&#7885; n&#7889;i v&#224;o l&#7847;n &#273;&#7847;u. V&#7873; sau, b&#7841;n c&#243; th&#7875; s&#7917;a &#273;&#7893;i tr&#7883; gi&#225; n&#224;y cho t&#7915;ng t&#225;c gi&#7843; theo t&#7915;ng tr&#432;&#7901;ng h&#7907;p m&#7897;t.',
'info_suivi_activite' => 'Th&ocirc;ng tin cho Ban Bi&ecirc;n T&#7853;p',
'info_supprimer_mot' => 'x&#243;a t&#7915; then ch&#7889;t n&#224;y',
'info_surtitre' => '&#272;&#7847;u &#273;&#7873;:',
'info_taille_maximale_vignette' => 'K&iacute;ch th&#432;&#7899;c t&#7889;i &#273;a c&#7911;a h&igrave;nh m&#7851;u:',
'info_terminer_installation' => 'B&#7841;n c&#243; th&#7875; k&#7871;t th&#250;c quy tr&#236;nh thi&#7871;t tr&#237; c&#259;n b&#7843;n.',
'info_texte' => 'Th&acirc;n b&agrave;i',
'info_texte_explicatif' => 'Gi&#7843;ng gi&#7843;i',
'info_texte_long' => 'V&#259;n t&#7921; qu&#225; d&#224;i: n&#243; s&#7869; &#273;&#432;&#7907;c cho xem qua nhi&#7873;u ph&#7847;n v&#224; &#273;&#432;&#7907;c g&#244;m &#7841;i sau khi &#273;&#432;&#7907;c ch&#7845;p thu&#7853;n.)',
'info_texte_message' => 'Th&acirc;n b&agrave;i:',
'info_texte_message_02' => 'Th&acirc;n b&agrave;i',
'info_titre' => 'T&#7921;a &#273;&#7873;:',
'info_titre_mot_cle' => 'T&#234;n hay t&#7921;a c&#7911;a t&#7915; then ch&#7889;t n&#224;y',
'info_total' => 't&#7893;ng c&#7897;ng: ',
'info_tous_articles_en_redaction' => 'T&#7845;t c&#7843; b&#224;i v&#7903; &#273;ang &#273;&#432;&#7907;c so&#7841;n',
'info_tous_articles_presents' => 'T&#7845;t c&#7843; b&#224;i v&#7903; &#273;&#227; ph&#225;t h&#224;nh trong &#273;&#7873; m&#7909;c n&#224;y',
'info_tous_les' => 'm&#7895;i:',
'info_tous_redacteurs' => 'Th&#244;ng b&#225;o &#273;&#7871;n t&#7845;t c&#7843; ch&#7911; b&#250;t',
'info_tout_site' => 'To&#224;n b&#7897; website',
'info_tout_site2' => 'B&agrave;i n&#7847;y ch&#432;a &#273;&#432;&#7907;c d&#7883;ch qua ng&ocirc;n ng&#7919; n&#7847;y.',
'info_tout_site3' => 'B&agrave;i n&#7847;y &#273;&atilde; &#273;&#432;&#7907;c d&#7883;ch qua ng&ocirc;n ng&#7919; n&#7847;y r&#7891;i, nh&#432;ng b&agrave;i g&#7889;c &#273;&atilde; &#273;&#432;&#7907;c s&#7917;a. C&aacute;c b&#7843;n d&#7883;ch c&#7847;n &#273;&#432;&#7907;c c&#7853;p nh&#7853;t.  ',
'info_tout_site4' => 'B&agrave;i n&#7847;y &#273;&atilde; &#273;&#432;&#7907;c d&#7883;ch qua ng&ocirc;n ng&#7919; n&#7847;y r&#7891;i, v&agrave; b&#7843;n d&#7883;ch &#273;&atilde; &#273;&#432;&#7907;c c&#7853;p nh&#7853;t.',
'info_tout_site5' => 'B&agrave;i g&#7889;c.',
'info_tout_site6' => '<b>Ghi ch&uacute;:&nbsp;:</b> ch&#7881; c&oacute; b&agrave;i g&#7889;c m&#7899;i hi&#7879;n ra trong trang n&agrave;y.
B&agrave;i d&#7883;ch s&#7869; &#273;&#432;&#7907;c li&ecirc;n &#273;&#7899;i v&#7899;i b&agrave;i g&#7889;c,
v&agrave; hi&#7875;n ra v&#7899;i nh&#7919;ng m&agrave;u kh&aacute;c nhau t&ugrave;y theo t&igrave;nh tr&#7841;ng b&agrave;i v&#7903;&nbsp;:',
'info_travail_colaboratif' => 'S&#7917;a &#273;&#7893;i/So&#7841;n b&agrave;i chung v&#7899;i nhau',
'info_un_article' => 'm&#7897;t b&#224;i, ',
'info_un_mot' => 'M&#7895;i l&#7847;n m&#7897;t t&#7915; then ch&#7889;t th&#244;i',
'info_un_site' => 'm&#7897;t website, ',
'info_une_breve' => 'm&#7897;t tin ng&#7855;n, ',
'info_une_rubrique' => 'm&#7897;t &#273;&#7873; m&#7909;c, ',
'info_une_rubrique_02' => '1 &#273;&#7873; m&#7909;c',
'info_url' => 'URL:',
'info_url_site' => 'URL C&#7910;A WEBSITE:',
'info_urlref' => 'N&#7889;i k&#7871;t:',
'info_utilisation_spip' => 'SPIP s&#7861;n s&#224;ng &#273;&#7875; s&#7917; d&#7909;ng...',
'info_visites_par_mois' => 'Hi&#7875;n th&#7883; h&#224;ng th&#225;ng:',
'info_visites_plus_populaires' => 'Cho th&#7845;y s&#7889; l&#7847;n v&agrave;o xem c&#7911;a <b>nh&#7919;ng b&agrave;i &#273;&#432;&#7907;c chu&#7897;ng nh&#7845;t</b> v&agrave; c&#7911;a <b>nh&#7919;ng b&agrave;i &#273;&#259;ng t&#7843;i sau c&ugrave;ng:</b>',
'info_visiteur_1' => 'Kh&#225;ch',
'info_visiteur_2' => ' c&#7911;a website c&#244;ng',
'info_visiteurs' => 'Kh&#225;ch',
'info_visiteurs_02' => 'Kh&#225;ch c&#7911;a website c&#244;ng',
'install_select_langue' => 'Ch&#7885;n m&#7897;t ng&ocirc;n ng&#7919;, r&#7891;i b&#7845;m v&agrave;o n&uacute;t "K&#7871; ti&#7871;p" &#273;&#7875; b&#7855;t &#273;&#7847;u th&#7875; th&#7913;c thi&#7871;t tr&iacute;.',
'intem_redacteur' => 'ch&#7911; b&uacute;t',
'item_accepter_inscriptions' => 'Cho ph&eacute;p ghi danh',
'item_activer_forum_administrateur' => 'M&#7903; di&#7877;n &#273;&agrave;n qu&#7843;n tr&#7883;',
'item_activer_messages_avertissement' => 'Cho ph&eacute;p c&#7843;nh b&aacute;o',
'item_administrateur_2' => 'qu&#7843;n l&yacute;',
'item_afficher_calendrier' => 'Hi&#7879;n ra trong l&#7883;ch',
'item_ajout_mots_cles' => 'Cho ph&eacute;p th&ecirc;m c&aacute;c t&#7915; then ch&#7889;t v&agrave;o di&#7877;n &#273;&agrave;n',
'item_autoriser_documents_joints' => 'Cho ph&eacute;p &#273;&iacute;nh k&egrave;m t&agrave;i li&#7879;u v&agrave;o b&agrave;i v&#7903;',
'item_autoriser_documents_joints_rubriques' => 'Cho ph&eacute;p &#273;&iacute;nh k&egrave;m t&agrave;i li&#7879;u trong &#273;&#7873; m&#7909;c',
'item_bloquer_liens_syndiques' => 'Ng&#259;n l&#7841;i, kh&ocirc;ng ch&#7845;p thu&#7853;n c&aacute;c &#273;i&#7875;m n&#7889;i syndicated',
'item_breve_refusee' => 'T&#7914; CH&#7888;I - kh&ocirc;ng &#273;&#259;ng',
'item_breve_validee' => 'CH&#7844;P THU&#7852;N &#273;&#259;ng t&#7843;i',
'item_choix_administrateurs' => 'qu&#7843;n tr&#7883; vi&#234;n',
'item_choix_generation_miniature' => 'T&#7921; &#273;&#7897;ng t&#7841;o ra c&aacute;c h&igrave;nh m&#7851;u.',
'item_choix_non_generation_miniature' => '&#272;&#7915;ng t&#7841;o ra h&igrave;nh m&#7851;u.',
'item_choix_redacteurs' => 'ch&#7911; b&#250;t',
'item_choix_visiteurs' => 'Kh&#225;ch c&#7911;a website c&#244;ng',
'item_creer_fichiers_authent' => 'L&#7853;p ra h&#7891; s&#417; .htpasswd',
'item_desactiver_forum_administrateur' => 'Kh&#243;a di&#7877;n &#273;&#224;n qu&#7843;n tr&#7883; vi&#234;n',
'item_gerer_annuaire_site_web' => 'Qu&#7843;n tr&#7883; th&#432; m&#7909;c website',
'item_gerer_statistiques' => 'Qu&#7843;n tr&#7883; s&#7889; th&#7889;ng k&#234;',
'item_limiter_recherche' => 'Gi&#7899;i h&#7841;n vi&#7879;c t&#236;m ki&#7871;m trong kh&#7889;i l&#432;&#7907;ng tin c&#7911;a website b&#7841;n',
'item_login' => 'Login',
'item_mots_cles_association_articles' => 'b&#224;i v&#7903;',
'item_mots_cles_association_breves' => 'tin ng&#7855;n',
'item_mots_cles_association_rubriques' => 'c&#225;c &#273;&#7873; m&#7909;c',
'item_mots_cles_association_sites' => 'Website n&#7889;i k&#7871;t hay syndicated.',
'item_non' => 'Kh&ocirc;ng d&ugrave;ng',
'item_non_accepter_inscriptions' => 'Kh&#244;ng cho ph&#233;p ghi danh',
'item_non_activer_messages_avertissement' => 'Kh&ocirc;ng c&#7847;n c&#7843;nh b&aacute;o',
'item_non_afficher_calendrier' => 'Kh&ocirc;ng hi&#7879;n ra trong l&#7883;ch',
'item_non_ajout_mots_cles' => 'Kh&ocirc;ng cho ph&eacute;p th&ecirc;m c&aacute;c t&#7915; then ch&#7889;t v&agrave;o di&#7877;n &#273;&agrave;n',
'item_non_autoriser_documents_joints' => 'Kh&ocirc;ng cho ph&eacute;p &#273;&iacute;nh k&egrave;m t&agrave;i li&#7879;u v&agrave;o b&agrave;i v&#7903;',
'item_non_autoriser_documents_joints_rubriques' => 'Kh&ocirc;ng cho ph&eacute;p &#273;&iacute;nh k&egrave;m t&agrave;i li&#7879;u trong &#273;&#7873; m&#7909;c',
'item_non_bloquer_liens_syndiques' => 'Kh&#244;ng ng&#259;n ch&#7863;n c&#225;c &#273;i&#7875;m n&#7889;i k&#7871;t t&#7915; syndication',
'item_non_creer_fichiers_authent' => '&#272;&#7915;ng l&#7853;p ra c&#225;c h&#7891; s&#417; n&#224;y',
'item_non_gerer_annuaire_site_web' => 'T&#7855;t th&#432; m&#7909;c websites',
'item_non_gerer_statistiques' => 'Kh&#244;ng qu&#7843;n tr&#7883; c&#225;c th&#7889;ng k&#234;',
'item_non_limiter_recherche' => 'N&#7899;i r&#7897;ng vi&#7879;c t&#236;m ki&#7871;m qua &#273;&#7871;n n&#7897;i dung c&#7911;a c&#225;c website n&#7889;i k&#7871;t',
'item_non_publier_articles' => 'Kh&ocirc;ng &#273;&#259;ng t&#7843;i b&agrave;i tr&#432;&#7899;c ng&agrave;y &#273;&#432;&#7907;c ph&eacute;p &#273;&#259;ng.',
'item_non_utiliser_breves' => 'Kh&ocirc;ng d&ugrave;ng tin ng&#7855;n',
'item_non_utiliser_config_groupe_mots_cles' => 'Kh&ocirc;ng d&ugrave;ng c&#7845;u h&igrave;nh cao c&#7845;p c&#7911;a nh&oacute;m t&#7915; then ch&#7889;t',
'item_non_utiliser_moteur_recherche' => '&#272;&#7915;ng d&ugrave;ng',
'item_non_utiliser_mots_cles' => 'Kh&ocirc;ng d&ugrave;ng t&#7915; then ch&#7889;t',
'item_non_utiliser_syndication' => '&#272;&#7915;ng d&#249;ng syndication t&#7921; &#273;&#7897;ng',
'item_nouvel_auteur' => 'T&#225;c gi&#7843; m&#7899;i',
'item_nouvelle_breve' => 'Tin ng&#7855;n m&#7899;i',
'item_nouvelle_rubrique' => '&#272;&#7873; m&#7909;c m&#7899;i',
'item_oui' => 'D&ugrave;ng',
'item_publier_articles' => 'C&#7913; &#273;&#259;ng t&#7843;i b&agrave;i b&#7845;t k&#7875; ng&agrave;y ghi.',
'item_reponse_article' => 'H&#7891;i &#273;&#225;p b&#224;i ',
'item_utiliser_breves' => 'D&ugrave;ng tin ng&#7855;n',
'item_utiliser_config_groupe_mots_cles' => 'D&#249;ng c&#7845;u h&#236;nh cao c&#7845;p c&#7911;a nh&#243;m t&#7915; then ch&#7889;t',
'item_utiliser_moteur_recherche' => 'D&#249;ng c&#417; ph&#7853;n t&#236;m ki&#7871;m',
'item_utiliser_mots_cles' => 'D&ugrave;ng t&#7915; then ch&#7889;t',
'item_utiliser_syndication' => 'D&ugrave;ng syndication t&#7921; &#273;&#7897;ng',
'item_visiteur' => 'kh&aacute;ch',


// J
'jour_non_connu_nc' => 'k.b.',


// L
'lien_ajout_destinataire' => 'Th&#234;m ng&#432;&#7901;i nh&#7853;n n&#224;y',
'lien_ajouter_auteur' => 'Th&#234;m t&#225;c gi&#7843; n&#224;y',
'lien_ajouter_participant' => 'Th&#234;m m&#7897;t tham d&#7921; vi&#234;n',
'lien_email' => 'email',
'lien_forum_public' => 'Qu&#7843;n tr&#7883; di&#7877;n &#273;&#224;n c&#244;ng c&#7911;a b&#224;i n&#224;y',
'lien_mise_a_jour_syndication' => 'C&#7853;p nh&#7853;t b&#226;y gi&#7901;',
'lien_nom_site' => 'T&#202;N WEBSITE:',
'lien_nouvelle_recuperation' => 'Th&#7917; t&#236;m c&#225;ch thu h&#7891;i d&#7919; ki&#7879;n',
'lien_reponse_article' => 'H&#7891;i &#226;m b&#224;i n&#224;y',
'lien_reponse_breve' => 'H&#7891;i &acirc;m tin ng&#7855;n',
'lien_reponse_breve_2' => 'H&#7891;i &acirc;m tin ng&#7855;n',
'lien_reponse_rubrique' => 'H&#7891;i &#226;m &#273;&#7873; m&#7909;c n&#224;y',
'lien_reponse_site_reference' => 'H&#7891;i &#226;m website n&#7889;i k&#7871;t:',
'lien_retirer_auteur' => 'Lo&#7841;i b&#7887; t&#225;c gi&#7843;',
'lien_retrait_particpant' => 'Lo&#7841;i b&#7887; tham d&#7921; vi&#234;n n&#224;y',
'lien_site' => 'website',
'lien_supprimer_rubrique' => 'x&#243;a &#273;&#7873; m&#7909;c n&#224;y',
'lien_tout_deplier' => 'M&#7903; ra t&#7845;t c&#7843;',
'lien_tout_replier' => 'G&#7897;p t&#7845;t c&#7843; l&#7841;i',
'lien_trier_nom' => 'X&#7871;p theo t&ecirc;n',
'lien_trier_nombre_articles' => 'S&#7855;p th&#7913; t&#7921; theo s&#7889; b&agrave;i',
'lien_trier_statut' => 'S&#7855;p th&#7913; t&#7921; theo t&igrave;nh tr&#7841;ng',
'lien_voir_en_ligne' => 'XEM ONLINE :',
'logo_article' => 'LOGO C&#7910;A B&Agrave;I',
'logo_auteur' => 'LOGO C&#7910;A T&Aacute;C GI&#7842;',
'logo_breve' => 'LOGO C&#7910;A TIN NG&#7854;N',
'logo_mot_cle' => 'LOGO C&#7910;A T&#7914; THEN CH&#7888;T',
'logo_rubrique' => 'LOGO C&#7910;A &#272;&#7872; M&#7908;C',
'logo_site' => 'LOGO C&#7910;A WEBSITE N&Agrave;Y',
'logo_standard_rubrique' => 'LOGO C&#7910;A &#272;&#7872; M&#7908;C',
'logo_survol' => 'LOGO N&#7892;I',


// M
'menu_aide_installation_choix_base' => 'Ch&#7885;n database c&#7911;a b&#7841;n',
'module_fichier_langue' => 'H&#7891; s&#417; ng&ocirc;n ng&#7919;',
'module_raccourci' => 'L&#7889;i t&#7855;t',
'module_texte_affiche' => 'V&#259;n b&#7843;n hi&#7875;n th&#7883;',
'module_texte_explicatif' => 'B&#7841;n c&oacute; th&#7875; th&ecirc;m c&aacute;c l&#7889;i t&#7855;t sau &#273;&acirc;y v&agrave;o m&#7851;u c&#7911;a trang web. Ch&uacute;ng s&#7869; &#273;&#432;&#7907;c t&#7921; &#273;&#7897;ng d&#7883;ch qua c&aacute;c ng&ocirc;n ng&#7919; kh&aacute;c (n&#7871;u c&oacute; h&#7891; s&#417; ng&ocirc;n ng&#7919; &#273;&oacute;).',
'module_texte_traduction' => 'H&#7891; s&#417; ng&ocirc;n ng&#7919; &laquo;&nbsp;@module@&nbsp;&raquo; n&agrave;y c&oacute; b&#7857;ng ti&#7871;ng:',
'mois_non_connu' => 'kh&ocirc;ng nh&#7853;n ra th&aacute;ng n&agrave;y &#273;&#432;&#7907;c',


// O
'onglet_repartition_actuelle' => 'hi&#7879;n nay',
'ortho_ajouter_ce_mot' => '<NEW>Ajouter ce mot au dictionnaire',
'ortho_aucune_suggestion' => '<NEW>Aucune suggestion n\'a &eacute;t&eacute; trouv&eacute;e pour ce mot.',
'ortho_avis_privacy' => '<NEW>Un v&eacute;rificateur d\'orthographe est int&eacute;gr&eacute; &agrave; SPIP. Toutefois, avant d\'activer cette fonctionnalit&eacute;, veuillez lire avec attention le paragraphe suivant&nbsp;:',
'ortho_avis_privacy2' => '<NEW>Pour v&eacute;rifier l\'orthographe d\'un texte, le site va envoyer la liste des mots &agrave; contr&ocirc;ler vers l\'un des &laquo;&nbsp;serveurs d\'orthographe&nbsp;&raquo; externes mis &agrave; votre disposition par diff&eacute;rents membres de la communaut&eacute; SPIP. Les mots sont envoy&eacute;s dans le d&eacute;sordre afin d\'assurer un minimum de confidentialit&eacute;. Si vous avez des craintes pour vos donn&eacute;es, n\'activez pas cette option (et retirez tout de suite vos informations du Web).',
'ortho_ce_mot_connu' => '<NEW>Ce mot fait partie du dictionnaire du site.',
'ortho_dico_absent' => '<NEW>Aucun dictionnaire n\'a &eacute;t&eacute; trouv&eacute; pour cette langue',
'ortho_mode_demploi' => '<NEW>Les mots non reconnus sont surlign&eacute;s en rouge. Vous pouvez cliquer sur chaque mot pour afficher des suggestions de correction.',
'ortho_mots_a_corriger' => '<NEW>mots &agrave; corriger',
'ortho_orthographe' => '<NEW>Orthographe',
'ortho_supprimer_ce_mot' => '<NEW>Enlever ce mot du dictionnaire',
'ortho_trop_de_fautes' => '<NEW>Attention&nbsp;: votre texte contient trop de fautes, aucune correction n\'est sugg&eacute;r&eacute;e afin de ne pas surcharger le syst&egrave;me.',
'ortho_verif_impossible' => '<NEW>Le syst&egrave;me ne peut pas v&eacute;rifier l\'orthographe de ce texte.',
'ortho_verifier' => '<NEW>V&eacute;rifier l\'orthographe',


// S
'statut_admin_restreint' => '(Qu&#7843;n tr&#7883; vi&ecirc;n c&#243; gi&#7899;i h&#7841;n)',


// T
'taille_cache_infinie' => '<NEW>Ce site ne pr&eacute;voit pas de limitation de taille du r&eacute;pertoire <code>CACHE/</code>.',
'taille_cache_maxi' => '<NEW>SPIP essaie de limiter la taille du r&eacute;pertoire <code>CACHE/</code> de ce site &agrave; environ <b>@octets@</b> de donn&eacute;es.',
'taille_cache_octets' => '<NEW>La taille du cache est actuellement de @octets at .',
'taille_cache_vide' => '<NEW>Le cache est vide.',
'taille_repertoire_cache' => '<NEW>Taille du r&eacute;pertoire cache',
'text_article_propose_publication' => 'B&agrave;i n&#7897;p &#273;&#7875; chu&#7849;n b&#7883; ph&aacute;t h&agrave;nh. Xin &#273;&#7915;ng ng&#7847;n ng&#7841;i cho &yacute; ki&#7871;n c&#7911;a b&#7841;n qua di&#7877;n &#273;&agrave;n &#273;&iacute;nh k&egrave;m theo b&agrave;i n&agrave;y (&#7903; cu&#7889;i trang).',
'texte_acces_ldap_anonyme_1' => 'M&#7897;t s&#7889; server LDAP kh&#244;ng cho ph&#233;p v&#224;o &#7849;n danh. Trong tr&#432;&#7901;ng h&#7907;p n&#224;y b&#7841;n ph&#7843;i d&#249;ng m&#7897;t k&#253; danh &#273;&#7847;u ti&#234;n &#273;&#7875; c&#243; th&#7875; &#273;i t&#236;m t&#242;i d&#7919; ki&#7879;n trong danh b&#7841; sau &#273;&#243;. Tuy nhi&#234;n, trong h&#7847;u h&#7871;t tr&#432;&#7901;ng h&#7907;p, nh&#7919;ng kho&#7843;ng sau &#273;&#226;y c&#243; th&#7875; &#273;&#7875; tr&#7889;ng.',
'texte_admin_effacer_01' => 'M&#7879;nh l&#7879;nh n&agrave;y x&oacute;a <i>t&#7845;t c&#7843;</i> n&#7897;i dung c&#7911;a database, lu&ocirc;n c&#7843; login/m&#7853;t m&atilde; c&#7911;a c&aacute;c ch&#7911; b&uacute;t v&agrave; qu&#7843;n l&yacute;. Sau khi ch&#7841;y m&#7879;nh l&#7879;nh n&agrave;y xong, b&#7841;n n&ecirc;n thi&#7871;t tr&iacute; l&#7841;i SPIP &#273;&#7875; t&aacute;i l&#7853;p l&#7841;i m&#7897;t database m&#7899;i c&ugrave;ng v&#7899;i login/m&#7853;t m&atilde; c&#7911;a qu&#7843;n tr&#7883; vi&ecirc;n &#273;&#7847;u ti&ecirc;n.',
'texte_admin_tech_01' => 'Ch&#7885;n l&#7921;a n&agrave;y cho ph&eacute;p b&#7841;n gi&#7919; l&#7841;i n&#7897;i dung c&#7911;a database v&agrave;o trong m&#7897;t h&#7891; s&#417; &#273;&#7921;ng trong ng&#259;n <i>ecrire/data/</i>. V&agrave; c&#361;ng &#273;&#7915;ng qu&ecirc;n c&#7845;t gi&#7919; l&#7841;i l&#7841;i to&agrave;n b&#7897; ng&#259;n <i>IMG/</i>, ch&#7913;a &#273;&#7921;ng c&aacute;c h&igrave;nh &#7843;nh d&ugrave;ng trong c&aacute;c b&agrave;i v&#7903; v&agrave; &#273;&#7873; m&#7909;c.',
'texte_admin_tech_02' => '<B>C&#7843;nh b&aacute;o</b>: CH&#7880; C&Oacute; TH&#7874; ph&#7909;c h&#7891;i b&#7843;n d&#7921; tr&#7919; n&agrave;y trong m&#7897;t website c&oacute; c&ugrave;ng &#7845;n b&#7843;n SPIP.
 L&#7895;i l&#7847;m th&#432;&#7901;ng hay v&#7845;p ph&#7843;i l&agrave; th&#7921;c hi&#7879;n vi&#7879;c d&#7921; tr&#7919; database tr&#432;&#7899;c khi n&acirc;ng c&#7845;p SPIP...
 &#272;&#7875; bi&#7871;t th&ecirc;m, xin &#273;&#7885;c [t&agrave;i li&#7879;u SPIP->http://www.spip.net/fr_article1489.html].',
'texte_admin_tech_03' => 'B&#7841;n c&oacute; th&#7875; ch&#7885;n gi&#7919; h&#7891; s&#417; trong d&#7841;ng n&eacute;n &#273;&#7875; sao ch&eacute;p, chuy&#7875;n t&#7843;i cho l&#7865;, c&#361;ng nh&#432; ti&#7871;t ki&#7879;m &#273;&#432;&#7907;c ch&#7895; trong d&#297;a.',
'texte_adresse_annuaire_1' => '(N&#7871;u ng&#259;n c&#7911;a b&#7841;n &#273;&#432;&#7907;c thi&#7871;t tr&#237; tr&#234;n c&#249;ng m&#225;y v&#7899;i website c&#7911;a b&#7841;n, t&#234;n n&#243; th&#432;&#7901;ng l&#224; &#38;laquo;localhost&#38;raquo;.)',
'texte_ajout_auteur' => 'T&#225;c gi&#7843; sau &#273;&#226;y &#273;&#432;&#7907;c th&#234;m v&#224;o cho b&#224;i: ',
'texte_annuaire_ldap_1' => 'N&#7871;u b&#7841;n v&#224;o &#273;&#432;&#7907;c m&#7897;t danh b&#7841; (LDAP), b&#7841;n c&#243; th&#7875; d&#249;ng n&#243; &#273;&#7875; nh&#7853;p v&#224;o t&#7921; &#273;&#7897;ng nh&#7919;ng ng&#432;&#7901;i s&#7917; d&#7909;ng trong SPIP.',
'texte_article_statut' => 'T&igrave;nh tr&#7841;ng b&agrave;i v&#7903;:',
'texte_article_virtuel' => 'B&#224;i &#7843;o',
'texte_article_virtuel_reference' => '<B>B&#224;i &#7843;o:</B> ch&#7881; v&#224;o m&#7897;t b&#224;i kh&#225;c trong SPIP c&#7911;a b&#7841;n, nh&#432;ng chuy&#7875;n qua m&#7897;t &#273;&#7883;a ch&#7881; kh&#225;c. &#272;&#7875; lo&#7841;i b&#7887; vi&#7879;c chuy&#7875;n qua, x&#243;a &#273;&#7883;a ch&#7881; URL tr&#234;n.',
'texte_aucun_resultat_auteur' => 'Kh&#244;ng c&#243; k&#7871;t qu&#7843; cho "@cherche_auteur@".',
'texte_auteur_messagerie' => '<MODIF>Website n&agrave;y c&oacute; th&#7875; gi&aacute;m s&aacute;t li&ecirc;n t&#7909;c danh s&aacute;ch nh&#7919;ng ch&#7911; b&uacute;t &#273;ang v&agrave;o, v&agrave; cho ph&eacute;p b&#7841;n trao &#273;&#7893;i th&#432; t&iacute;n ngay l&#7853;p t&#7913;c (n&#7871;u h&#7879; th&#432; t&iacute;n b&#7883; t&#7855;t th&igrave; danh s&aacute;ch c&aacute;c ch&#7911; b&uacute;t &#273;ang v&agrave;o c&#361;ng b&#7883; t&#7855;t theo). B&#7841;n c&oacute; th&#7875; ch&#7885;n kh&ocirc;ng xu&#7845;t hi&#7879;n trong danh s&aacute;ch n&agrave;y (&#273;&#7889;i v&#7899;i nh&#7919;ng ng&#432;&#7901;i kh&aacute;c, b&#7841;n s&#7869; &laquo;v&ocirc; h&igrave;nh&raquo;).',
'texte_auteur_messagerie_1' => 'Website n&agrave;y cho ph&eacute;p trao &#273;&#7893;i th&#432; t&iacute;n v&agrave; cho l&#7853;p ra nh&#7919;ng di&#7877;n &#273;&agrave;n trao &#273;&#7893;i ri&ecirc;ng t&#432; c&#7911;a c&aacute;c tham d&#7921; vi&ecirc;n. B&#7841;n c&oacute; th&#7875; ch&#7885;n kh&ocirc;ng tham gia v&agrave;o s&#7921; trao &#273;&#7893;i n&agrave;y. ',
'texte_auteurs' => 'T&#193;C GI&#7842;',
'texte_breves' => 'Tin ng&#7855;n l&agrave; &#273;o&#7841;n v&#259;n ng&#7855;n g&#7885;n &#273;&#417;n gi&#7843;n &#273;&#7875; c&oacute; th&#7875; th&ocirc;ng b&aacute;o online c&aacute;c chi ti&#7871;t c&ocirc; &#273;&#7885;ng, qu&#7843;n tr&#7883; c&aacute;c th&ocirc;ng c&aacute;o b&aacute;o ch&iacute;, l&#7883;ch tr&igrave;nh s&#7921; vi&#7879;c ...',
'texte_choix_base_1' => 'Ch&#7885;n database c&#7911;a b&#7841;n:',
'texte_choix_base_2' => 'Server MySQL ch&#7913;a nhi&#7873;u database.',
'texte_choix_base_3' => '<B>Ch&#7885;n</B> m&#7897;t trong s&#7889; d&#432;&#7899;i &#273;&#226;y thu&#7897;c v&#7873; b&#7841;n:',
'texte_commande_vider_tables_indexation' => 'D&#249;ng m&#7879;nh l&#7879;nh n&#224;y &#273;&#7875; d&#7885;n s&#7841;ch b&#7843;n index d&#249;ng b&#7903;i c&#417; ph&#7853;n t&#236;m ki&#7871;m c&#7911;a SPIP. L&#224;m th&#7871; &#273;&#7875; ti&#7871;t ki&#7879;m &#273;&#432;&#7907;c m&#7897;t s&#7889; ch&#7895; tr&#7889;ng trong d&#297;a.',
'texte_comment_lire_tableau' => 'B&agrave;i v&#7903; &#273;&#432;&#7907;c s&#7855;p h&#7841;ng theo m&#7913;c &#273;&#7897; ph&#7893; th&ocirc;ng (xem c&#7897;t tr&aacute;i). &#272;&#7875; xem m&#7913;c &#273;&#7897; ph&#7893; th&ocirc;ng (&#432;&#7899;c l&#432;&#7907;ng s&#7889; l&#7847;n v&agrave;o xem h&agrave;ng ng&agrave;y theo &#273;&agrave; hi&#7879;n t&#7841;i) v&agrave; s&#7889; l&#7847;n v&agrave;o xem c&#7911;a m&#7895;i b&agrave;i, b&#7841;n di chuy&#7875;n con chu&#7897;t l&ecirc;n tr&ecirc;n t&ecirc;n b&agrave;i.',
'texte_compresse_ou_non' => '(c&oacute; th&#7875; trong d&#7841;ng n&eacute;n ho&#7863;c d&#7841;ng th&#432;&#7901;ng) ',
'texte_compte_element' => '@count@ m&#243;n',
'texte_compte_elements' => '@count@ m&#243;n',
'texte_config_groupe_mots_cles' => 'B&#7841;n c&#243; mu&#7889;n m&#7903; &#273;&#7863;c &#273;i&#7875;m c&#7845;u h&#236;nh cao c&#7845;p c&#7911;a nh&#243;m t&#7915; then ch&#7889;t, b&#7857;ng c&#225;ch, l&#7845;y th&#237; d&#7909; nh&#432; m&#7897;t ch&#7919; &#273;&#7863;c th&#249; cho m&#7895;i nh&#243;m c&#243; th&#7875; &#273;&#432;&#7907;c ch&#7885;n, nh&#243;m quan tr&#7885;ng...? ',
'texte_connexion_mysql' => 'Xem l&#7841;i t&#224;i li&#7879;u cung c&#7845;p b&#7903;i m&#225;y ch&#7911;: n&#7871;u d&#249;ng MySQL, m&#225;y ch&#7911; cho b&#7841;n m&#227; s&#7889; ra v&#224;o server MySQL. ',
'texte_contenu_article' => '(M&#244; t&#7843; ng&#7855;n g&#7885;n n&#7897;i dung c&#7911;a b&#224;i) ',
'texte_contenu_articles' => 'D&#7921;a v&agrave;o c&#7845;u tr&uacute;c ch&#7885;n l&#7921;a cho website n&agrave;y, b&#7841;n c&oacute; th&#7875; quy&#7871;t &#273;&#7883;nh nh&#7919;ng ph&#7847;n n&agrave;o c&#7911;a b&agrave;i v&#7903; kh&ocirc;ng c&#7847;n d&ugrave;ng. Chi&#7871;u theo danh s&aacute;ch d&#432;&#7899;i &#273;&acirc;y &#273;&#7875; ch&#7885;n nh&#7919;ng ph&#7847;n n&agrave;o c&#7911;a b&agrave;i v&#7903; d&ugrave;ng &#273;&#432;&#7907;c.',
'texte_crash_base' => 'N&#7871;u database b&#7883; h&#432;, b&#7841;n c&#243; th&#7875; t&#236;m c&#225;ch s&#7917;a ch&#7919;a t&#7921; &#273;&#7897;ng.',
'texte_creer_rubrique' => '&#272;&#7875; vi&#7871;t b&#224;i,<BR>b&#7841;n ph&#7843;i l&#7853;p ra m&#7897;t &#273;&#7873; m&#7909;c. ',
'texte_date_creation_article' => 'NG&Agrave;Y VI&#7870;T B&Agrave;I:',
'texte_date_publication_anterieure' => 'NG&Agrave;Y PH&Aacute;T H&Agrave;NH TR&#431;&#7898;C &#272;&Oacute;&nbsp;:',
'texte_date_publication_anterieure_nonaffichee' => 'D&#7845;u ng&#224;y ph&#225;t h&#224;nh tr&#432;&#7899;c &#273;&#243;.',
'texte_date_publication_article' => 'NG&Agrave;Y &#272;&#258;NG T&#7842;I ONLINE&nbsp;:',
'texte_demander_blocage_priori' => 'Nh&#7919;ng m&#7889;i n&#7889;i t&#432;&#417;ng lai t&#7915; website n&#224;y s&#7869; b&#7883; ng&#7863;n ch&#7863;n tr&#432;&#7899;c.',
'texte_descriptif_petition' => 'M&#244; t&#7843; Th&#7881;nh nguy&#7879;n th&#432;',
'texte_descriptif_rapide' => 'T&oacute;m l&#432;&#7907;c',
'texte_documents_joints' => '<MODIF>B&#7841;n c&oacute; th&#7875; cho ph&eacute;p &#273;&iacute;nh k&egrave;m th&ecirc;m c&aacute;c t&agrave;i li&#7879;u (h&#7891; s&#417;, h&igrave;nh &#7843;nh, v.v...) v&agrave;o c&aacute;c b&agrave;i v&#7903; v&agrave;/ho&#7863;c &#273;&#7873; m&#7909;c. Nh&#7919;ng h&#7891; s&#417; n&agrave;y c&oacute; th&#7875; &#273;&#432;&#7907;c n&#7889;i k&#7871;t trong b&agrave;i ho&#7863;c hi&#7879;n ri&ecirc;ng ra.<p>',
'texte_documents_joints_2' => 'L&#431;U &Yacute;: B&#7889; tr&iacute; hi&#7879;n nay kh&ocirc;ng ng&#259;n ng&#7915;a vi&#7879;c nh&eacute;t h&igrave;nh tr&#7921;c ti&#7871;p v&agrave;o b&agrave;i v&#7903;.',
'texte_effacer_base' => 'X&#243;a database SPIP',
'texte_effacer_donnees_indexation' => 'X&#243;a d&#7919; ki&#7879;n indexing',
'texte_en_cours_validation' => 'B&agrave;i v&#7903; v&agrave; tin ng&#7855;n sau &#273;&acirc;y &#273;&#432;&#7907;c n&#7897;p &#273;&#7875; ch&#7901; ph&aacute;t h&agrave;nh. Xin g&oacute;p &yacute; qua di&#7877;n &#273;&agrave;n &#273;&iacute;nh k&egrave;m. ',
'texte_enrichir_mise_a_jour' => 'B&#7841;n c&oacute; th&#7875; tr&igrave;nh b&agrave;y v&#259;n b&#7843;n g&#7885;n &#273;&#7865;p h&#417;n b&#7857;ng c&aacute;ch d&ugrave;ng nh&#7919;ng <B>&laquo;l&#7889;i x&#7871;p b&agrave;i t&#7855;t&raquo;</B>.',
'texte_fichier_authent' => '<MODIF>SPIP c&#243; n&#234;n l&#7853;p ra h&#7891; s&#417; &#273;&#7863;c bi&#7879;t <tt>.htpasswd</tt> v&#224; <tt>.htpasswd-admin</tt> trong th&#432; m&#7909;c <tt>ecrire/data/</tt>?</b><p> Hai h&#7891; s&#417; n&#224;y d&#249;ng &#273;&#7875; gi&#7899;i h&#7841;n c&#225;c t&#225;c gi&#7843; v&#224; qu&#7843;n l&#253; vi&#234;n ra/v&#224;o c&#225;c n&#417;i kh&#225;c trong website.<p>N&#7871;u b&#7841;n ch&#432;a t&#7915;ng s&#7917; d&#7909;ng &#273;&#7863;c t&#237;nh n&#224;y, h&#227;y &#273;&#7875; nguy&#234;n l&#7921;a ch&#7885;n n&#224;y v&#7899;i c&#225;c gi&#225; tr&#7883; &#273;&#7883;nh s&#7861;n (kh&#244;ng l&#7853;p ra h&#7891; s&#417;). ',
'texte_informations_personnelles_1' => 'H&#7879; th&#7889;ng s&#7869; cung c&#7845;p cho b&#7841;n l&#7889;i ra/v&#224;o website.',
'texte_informations_personnelles_2' => '(Ghi ch&#250;: n&#7871;u &#273;&#226;y l&#224; t&#225;i thi&#7871;t tr&#237;, v&#224; vi&#7879;c ra/v&#224;o c&#7911;a b&#7841;n v&#7851;n b&#236;nh th&#432;&#7901;ng, b&#7841;n ti&#7871;p t&#7909;c v&#7853;y ',
'texte_introductif_article' => '(L&#7901;i m&#7903; &#273;&#7847;u cho b&#224;i vi&#7871;t.) ',
'texte_jeu_caractere' => 'Ch&#7885;n l&#7921;a n&agrave;y th&iacute;ch h&#7907;p n&#7871;u website b&#7841;n d&ugrave;ng ng&ocirc;n ng&#7919; kh&aacute;c v&#7899;i m&#7851;u t&#7921; latinh (t&#7913;c "western") v&agrave; c&aacute;c ng&ocirc;n ng&#7919; c&ugrave;ng h&#7879;.
 Trong tr&#432;&#7901;ng h&#7907;p n&agrave;y, ph&#7843;i ch&#7885;n m&#7897;t b&#7897; m&atilde; kh&aacute;c. V&agrave; c&#361;ng n&ecirc;n nh&#7899; s&#7917;a &#273;&#7893;i website &#273;&#7875; th&iacute;ch &#7913;ng (<tt>#CHARSET</tt> tag).',
'texte_jeu_caractere_2' => 'S&#7917;a &#273;&#7893;i n&agrave;y kh&ocirc;ng c&oacute; hi&#7879;u l&#7921;c tr&#7903; v&#7873; tr&#432;&#7899;c. Do &#273;&oacute;, b&agrave;i v&#7903; &#273;&atilde; cho v&agrave;o c&oacute; th&#7875; hi&#7879;n ra kh&ocirc;ng &#273;&uacute;ng sau khi s&#7917;a b&#7843;ng m&atilde; l&#7841;i. Tuy nhi&ecirc;n, b&#7841;n v&#7851;n c&oacute; th&#7875; ch&#7885;n tr&#7903; l&#7841;i b&#7843;ng m&atilde; tr&#432;&#7899;c &#273;&oacute;. ',
'texte_lien_hypertexte' => '(N&#7871;u th&#432; t&iacute;n c&oacute; &#273;&#7873; c&#7853;p &#273;&#7871;n b&agrave;i &#273;&atilde; &#273;&#259;ng t&#7843;i tr&ecirc;n web, hay &#273;&#7873; c&#7853;p &#273;&#7871;n m&#7897;t trang web c&oacute; th&ecirc;m d&#7919; ki&#7879;n, xin &#273;i&#7873;n v&agrave;o &#273;&acirc;y t&#7921;a &#273;&#7873; v&agrave; &#273;&#7883;a ch&#7881;.)',
'texte_liens_sites_syndiques' => 'Nh&#7919;ng &#273;i&#7875;m n&#7889;i t&#7915; website syndicated c&#243; th&#7875; &#273;&#432;&#7907;c ch&#7863;n tr&#432;&#7899;c; l&#7889;i b&#7889; tr&#237; sau &#273;&#226;y cho th&#7845;y c&#225;ch b&#7889; tr&#237; &#273;&#7883;nh s&#7861;n cho nh&#7919;ng website syndicated khi &#273;&#432;&#7907;c l&#7853;p ra. C&#243; th&#7875; ng&#259;n ch&#7863;n t&#7915;ng &#273;i&#7875;m n&#7889;i m&#7897;t, ho&#7863;c ch&#7863;n t&#7845;t c&#7843; c&#225;c &#273;i&#7875;m n&#7889;i &#273;&#7871;n t&#7915; b&#7845;t c&#7913; website n&#224;o.',
'texte_liens_syndication' => 'Nh&#7919;ng &#273;i&#7875;m n&#7889;i t&#432;&#417;ng lai t&#7915; website n&#224;y ra s&#7869; &#273;&#432;&#7907;c hi&#7875;n th&#7883; li&#7873;n tr&#234;n trang web public. ',
'texte_login_ldap_1' => '(&#272;&#7875; tr&#7889;ng n&#7871;u mu&#7889;n ra/v&#224;o &#7849;n danh ho&#7863;c cho bi&#7871;t tr&#7885;n v&#7865;n l&#7897; tuy&#7871;n, l&#7845;y th&#237; d&#7909; &#38;laquo;<tt>uid=smith, ou=users, dc=my-domain, dc=com</tt>&#38;raquo;.)',
'texte_login_precaution' => 'C&#7843;nh b&#225;o! &#272;&#226;y l&#224; login b&#7841;n d&#249;ng &#273;&#7875; v&#224;o. D&#249;ng m&#7851;u n&#224;y c&#7849;n th&#7853;n...',
'texte_message_edit' => 'C&#7843;nh b&aacute;o: th&#432; t&iacute;n n&agrave;y c&oacute; th&#7875; &#273;&#432;&#7907;c s&#7917;a b&#7903;i b&#7845;t c&#7913; ng&#432;&#7901;i qu&#7843;n l&yacute; n&agrave;o, v&agrave; m&#7885;i ch&#7911; b&uacute;t &#273;&#7873;u xem &#273;&#432;&#7907;c. Ch&#7881; n&ecirc;n th&ocirc;ng b&aacute;o &#273;&#7875; nh&#7845;n m&#7841;nh nh&#7919;ng vi&#7879;c quan tr&#7885;ng &#273;&#7889;i v&#7899;i website.',
'texte_messages_publics' => 'Th&#432; t&iacute;n c&ocirc;ng c&#7897;ng c&#7911;a b&agrave;i:',
'texte_mise_a_niveau_base_1' => 'B&#7841;n v&#7915;a c&#7853;p nh&#7853;t h&#7891; s&#417; SPIP. B&#226;y gi&#7901; b&#7841;n ph&#7843;i n&#226;ng c&#7845;p database c&#7911;a website.',
'texte_modifier_article' => 'S&#7917;a b&#224;i:',
'texte_moteur_recherche_active' => '<b>C&#417; ph&#7853;n t&igrave;m ki&#7871;m &#273;&#432;&#7907;c ch&#7841;y.</b> D&ugrave;ng m&#7879;nh l&#7879;nh n&agrave;y n&#7871;u b&#7841;n mu&#7889;n re-indexing cho l&#7865; (sau khi ph&#7909;c h&#7891;i c&aacute;c h&#7891; s&#417; d&#7921; tr&#7919; ch&#7859;ng h&#7841;n). L&#432;u &yacute; l&agrave; trong tr&#432;&#7901;ng h&#7907;p b&agrave;i &#273;&#432;&#7907;c s&#7917;a &#273;&#7893;i m&#7897;t c&aacute;ch b&igrave;nh th&#432;&#7901;ng (d&ugrave;ng giao di&#7879;n SPIP) th&igrave; b&agrave;i &#273;&oacute; &#273;&#432;&#7907;c t&#7921; &#273;&#7897;ng &#273;&aacute;nh ch&#7881; s&#7889; (index) l&#7847;n n&#7919;a: do &#273;&oacute; m&#7879;nh l&#7879;nh n&agrave;y ch&#7881; h&#7919;u d&#7909;ng trong tr&#432;&#7901;ng h&#7907;p r&#7845;t &#432; &#273;&#7863;c bi&#7879;t. ',
'texte_moteur_recherche_non_active' => 'C&#417; ph&#7853;n t&igrave;m ki&#7871;m &#273;&atilde; b&#7883; t&#7855;t, kh&ocirc;ng &#273;&#432;&#7907;c ph&eacute;p ch&#7841;y.',
'texte_mots_cles' => 'T&#7915; then ch&#7889;t cho ph&#233;p b&#7841;n l&#7853;p m&#7889;i li&#234;n h&#7879; theo &#273;&#7873; t&#224;i gi&#7919;a c&#225;c b&#224;i v&#7899;i nhau, b&#7845;t k&#7875; ch&#250;ng &#7903; trong &#273;&#7873; m&#7909;c n&#224;o. Nh&#432; th&#7871; vi&#7879;c di chuy&#7875;n trong webiste phong ph&#250; h&#417;n ho&#7863;c b&#7841;n d&#249;ng nh&#7919;ng &#273;&#7863;c t&#237;nh n&#224;y &#273;&#7875; thay &#273;&#7893;i b&#224;i v&#7903; trong khu&#244;n m&#7851;u.',
'texte_mots_cles_dans_forum' => 'B&#7841;n c&#243; mu&#7889;n cho ph&#233;p d&#249;ng c&#225;c t&#7915; then ch&#7889;t &#273;&#7875; kh&#225;ch ch&#7885;n, trong c&#225;c di&#7877;n &#273;&#224;n c&#244;ng c&#7897;ng? (C&#7843;nh b&#225;o: &#273;&#7863;c t&#237;nh n&#224;y kh&#225; ph&#7913;c t&#7841;p &#273;&#7875; s&#7917; d&#7909;ng cho &#273;&#250;ng.)',
'texte_multilinguisme' => 'N&#7871;u b&#7841;n mu&#7889;n qu&#7843;n tr&#7883; c&aacute;c b&agrave;i v&#7905; n&agrave;y trong nhi&#7873;u ng&ocirc;n ng&#7919;, b&#7841;n c&oacute; th&#7875; th&ecirc;m v&agrave;o b&agrave;i/&#273;&#7873; m&#7909;c m&#7897;t m&#7909;c l&#7909;c ch&#7885;n ng&ocirc;n ng&#7919;.',
'texte_multilinguisme_trad' => '&#272;&#7891;ng th&#7901;i, b&#7841;n c&oacute; th&#7875; m&#7903; l&ecirc;n m&#7897;t h&#7879; th&#7889;ng qu&#7843;n tr&#7883; cho c&aacute;c b&#7843;n d&#7883;ch c&#7911;a m&#7897;t b&agrave;i.',
'texte_non_compresse' => '<I>Gi&#7843;n ra</I> (server c&#7911;a b&#7841;n kh&#244;ng d&#249;ng &#273;&#7863;c t&#237;nh n&#224;y)',
'texte_non_fonction_referencement' => 'B&#7841;n c&#243; th&#7875; ch&#7885;n kh&#244;ng d&#249;ng &#273;&#7863;c &#273;i&#7875;m t&#7921; &#273;&#7897;ng n&#224;y, v&#224; t&#7921; tay cho v&#224;o d&#7919; ki&#7879;n... ',
'texte_nouveau_message' => 'Th&#432; t&iacute;n m&#7899;i',
'texte_nouveau_mot' => 'T&#7915; then ch&#7889;t m&#7899;i',
'texte_nouvelle_version_spip_1' => 'B&#7841;n v&#7915;a thi&#7871;t tr&#237; &#7845;n b&#7843;n m&#7899;i c&#7911;a SPIP.',
'texte_nouvelle_version_spip_2' => '<MODIF>&#7844;n b&#7843;n m&#7899;i n&#224;y c&#7847;n c&#7853;p nh&#7853;t
	k&#7929; l&#432;&#7903;ng h&#417;n b&#236;nh th&#432;&#7901;ng.
	N&#7871;u b&#7841;n l&#224; webmaster, h&#227;y x&#243;a h&#7891; s&#417;
	<tt>inc_connect.php3</tt> trong ng&#259;n <tt>ecrire</tt>
	v&#224; cho thi&#7871;t tr&#237; l&#7841;i &#273;&#7875; c&#7853;p nh&#7853;t
	nh&#7919;ng s&#7889; li&#7879;u m&#243;c n&#7889;i v&#224;o database.
	<p>(TB.: n&#7871;u b&#7841;n qu&#234;n m&#7845;t s&#7889; li&#7879;u m&#243;c n&#7889;i
	xem l&#7841;i h&#7891; s&#417; <tt>inc_connect.php3</tt>
	tr&#432;&#7899;c khi x&#243;a ...)',
'texte_operation_echec' => 'Tr&#7903; l&#7841;i trang tr&#432;&#7899;c &#273;&#243;, ch&#7885;n database kh&#225;c ho&#7863;c l&#7853;p ra database m&#7899;i. Ki&#7875;m l&#7841;i c&#225;c d&#7919; ki&#7879;n m&#225;y ch&#7911; cung c&#7845;p.',
'texte_plus_trois_car' => ' h&#417;n 3 m&#7851;u t&#7921;',
'texte_plusieurs_articles' => 'T&#236;m th&#7845;y nhi&#7873;u t&#225;c gi&#7843; cho "@cherche_auteur@":',
'texte_port_annuaire' => 'Gi&#225; tr&#7883; cho s&#7861;n th&#432;&#7901;ng ph&#249; h&#7907;p.',
'texte_proposer_publication' => 'Khi so&#7841;n b&agrave;i xong,<BR>b&#7841;n n&#7897;p v&agrave;o &#273;&#7875; ch&#7901; &#273;&#432;&#7907;c &#273;&#259;ng l&ecirc;n.',
'texte_proxy' => 'Trong m&#7897;t s&#7889; tr&#432;&#7901;ng h&#7907;p (intranet, m&#7841;ng &#273;&#432;&#7907;c b&#7843;o v&#7879; ...), c&#7847;n thi&#7871;t ph&#7843;i d&ugrave;ng <I>proxy HTTP</I> &#273;&#7875; v&#7899;i t&#7899;i c&aacute;c website syndicated. N&#7871;u c&oacute; proxy, cho &#273;&#7883;a ch&#7881; v&agrave;o d&#432;&#7899;i &#273;&acirc;y, 
<tt><html>http://proxy:8080</html></tt>. Th&#432;&#7901;ng th&igrave; b&#7841;n &#273;&#7875; khung n&agrave;y tr&#7889;ng.',
'texte_publication_articles_post_dates' => 'SPIP s&#7869; l&agrave;m g&igrave; khi m&#7897;t b&agrave;i vi&#7871;t c&oacute; &#273;&#7873; ng&agrave;y &#273;&#259;ng t&#7843;i s&#7855;p t&#7899;i (trong t&#432;&#417;ng lai)?',
'texte_rappel_selection_champs' => '[Nh&#7899; ch&#7885;n ph&#7847;n n&agrave;y cho &#273;&uacute;ng]',
'texte_recalcul_page' => 'N&#7871;u b&#7841;n ch&#7881; mu&#7889;n l&agrave;m m&#7899;i l&#7841;i m&#7897;t trang th&ocirc;i, th&igrave; n&ecirc;n l&agrave;m l&#7841;i t&#7915; v&ugrave;ng c&ocirc;ng c&#7897;ng v&agrave; b&#7845;m v&agrave;o n&uacute;t &laquo;refresh&raquo; hay &laquo;reload&raquo;.',
'texte_recapitiule_liste_documents' => '<MODIF>Trang n&#224;y t&#243;m t&#7855;t danh s&#225;ch c&#225;c t&#224;i li&#7879;u b&#7841;n &#273;&#7875; trong c&#225;c &#273;&#7873; m&#7909;c. &#272;&#7875; tu s&#7917;a d&#7919; ki&#7879;n c&#7911;a m&#7895;i t&#224;i li&#7879;u, theo &#273;i&#7875;m n&#7889;i &#273;&#7875; &#273;&#7871;n trang c&#7911;a &#273;&#7873; m&#7909;c &#273;&#243;.',
'texte_recuperer_base' => 'S&#7919;a ch&#7919;a database',
'texte_reference_mais_redirige' => 'B&#224;i n&#7889;i k&#7871;t trong website SPIP, nh&#432;ng chuy&#7875;n h&#432;&#7899;ng qua &#273;&#7883;a ch&#7881; URL kh&#225;c.',
'texte_referencement_automatique' => '<B>N&#7889;i k&#7871;t website t&#7921; &#273;&#7897;ng</B> B&#7841;n c&#243; th&#7875; n&#7889;i k&#7871;t m&#7897;t website nhanh ch&#243;ng b&#7857;ng c&#225;ch cho v&#224;o d&#432;&#7899;i &#273;&#226;y &#273;&#7883;a ch&#7881; URL, hay &#273;&#7883;a ch&#7881; c&#7911;a h&#7891; s&#417; backend. SPIP s&#7869; t&#7921; &#273;&#7897;ng thu th&#7853;p l&#7845;y c&#225;c d&#7919; ki&#7879;n li&#234;n h&#7879; &#273;&#7871;n website &#273;&#243; (t&#7921;a &#273;&#7873;, m&#244; t&#7843; ...).',
'texte_requetes_echouent' => '<MODIF><B>Khi m&#7897;t s&#7889; h&#7887;i-&#273;&#225;p MySQL tr&#432;&#7907;t h&#224;ng lo&#7841;t v&#224; c&#243; v&#7867; nh&#432; kh&#244;ng c&#243; l&#253; do g&#236; c&#7843;, &#273;i&#7873;u &#273;&#243; cho th&#7845;y c&#243; th&#7875; ch&#237;nh database l&#224; th&#7911; ph&#7841;m. </b><p>MySQL c&#243; m&#7897;t &#273;&#7863;c &#273;i&#7875;m s&#7917;a ch&#7919;a c&#225;c b&#7843;n c&#7911;a n&#243; khi ch&#250;ng b&#7883; t&#236;nh c&#7901; h&#432; h&#7841;i. B&#7841;n c&#243; th&#7875; th&#7917; d&#249;ng &#273;&#7863;c &#273;i&#7875;m s&#7917;a ch&#7919;a n&#224;y, trong tr&#432;&#7901;ng h&#7907;p th&#7845;t b&#7841;i, b&#7841;n n&#234;n gi&#7919; l&#7841;i m&#7897;t b&#7843;n sao c&#7911;a m&#224;n &#7843;nh &#273;&#7875; gi&#250;p soi s&#225;ng v&#7845;n &#273;&#7873; ... <P> N&#7871;u v&#7845;n &#273;&#7873; v&#7851;n ti&#7871;p t&#7909;c x&#7843;y ra, li&#234;n l&#7841;c v&#7899;i ch&#7911; nh&#226;n c&#7911;a m&#225;y.',
'texte_restaurer_base' => 'Ph&#7909;c h&#7891;i n&#7897;i dung c&#7911;a kho d&#7921; tr&#7919; database',
'texte_restaurer_sauvegarde' => 'Ch&#7885;n l&#7921;a n&#224;y cho ph&#233;p b&#7841;n ph&#7909;c h&#7891;i m&#7897;t h&#7891; s&#417; d&#7921; tr&#7919; tr&#432;&#7899;c &#273;&#243; c&#7911;a database. &#272;&#7875; th&#7921;c hi&#7879;n &#273;i&#7873;u n&#224;y, h&#7891; s&#417; ch&#7913;a ph&#7847;n d&#7921; tr&#7919; ph&#7843;i &#273;&#432;&#7907;c n&#234;n gi&#7919; &#7903; th&#432; m&#7909;c <i>ecrire/data/</i>. C&#7849;n th&#7853;n v&#7899;i &#273;&#7863;c &#273;i&#7875;m n&#224;y: <B>B&#7845;t c&#7913; s&#7917;a &#273;&#7893;i hay th&#7845;t tho&#225;t n&#224;o x&#7843;y ra l&#224; kh&#244;ng l&#224;m ng&#432;&#7907;c l&#7841;i &#273;&#432;&#7907;c.</b>',
'texte_sauvegarde' => 'D&#7921; tr&#7919; n&#7897;i dung c&#7911;a database',
'texte_sauvegarde_base' => 'D&#7921; tr&#7919; database',
'texte_sauvegarde_compressee' => 'D&#7921; tr&#7919; s&#7869; ch&#7913;a trong h&#7891; s&#417; kh&#244;ng n&#233;n <b>ecrire/data/dump.xml</b>.',
'texte_selection_langue_principale' => 'B&#7841;n ch&#7885;n m&#7897;t "ng&ocirc;n ng&#7919; ch&iacute;nh" sau &#273;&acirc;y cho website. &#272;i&#7873;u n&agrave;y kh&ocirc;ng c&oacute; ngh&#297;a l&agrave; b&#7841;n ch&#7881; c&oacute; th&#7875; d&ugrave;ng ng&ocirc;n ng&#7919; &#273;&oacute; cho c&aacute;c b&agrave;i v&#7903;, m&agrave; b&#7841;n mu&#7889;n d&ugrave;ng ng&ocirc;n ng&#7919; n&agrave;o trong b&agrave;i c&#361;ng &#273;&#432;&#7907;c. Ch&#7885;n ng&ocirc;n ng&#7919; ch&iacute;nh cho web site ch&#7881; &#273;&#7875;
<ul>
<li> ch&#7885;n c&aacute;ch ghi ng&agrave;y th&aacute;ng cho ph&ugrave; h&#7907;p v&#7899;i ng&ocirc;n ng&#7919; &#273;&atilde; ch&#7885;n</li>
<li> gi&uacute;p c&#417; ph&#7853;n tr&igrave;nh b&agrave;y c&#7911;a SPIP bi&#7871;t c&aacute;ch tr&igrave;nh b&agrave;y v&#259;n t&#7921; c&#7911;a b&agrave;i v&#7903; cho &#273;&uacute;ng c&aacute;ch.</i>
<li> ng&ocirc;n ng&#7919; d&ugrave;ng trong c&aacute;c m&#7851;u &#273;&#417;n c&#7911;a website</i>
<li> ng&ocirc;n ng&#7919; ch&iacute;nh hi&#7875;n tr&#7883; trong c&aacute;c v&ugrave;ng ri&ecirc;ng</li>
</ul>',
'texte_signification' => '<MODIF>L&#7857;n &#273;&#7887; bi&#7875;u hi&#7879;n t&#7845;t c&#7843; s&#7889; ph&#7847;n (t&#7893;ng c&#7897;ng c&#7911;a c&aacute;c &#273;&#7873; m&#7909;c ph&#7909;), l&#7857;n xanh l&aacute; c&acirc;y bi&#7875;u hi&#7879;n s&#7889; l&#7847;n v&agrave;o xem c&#7911;a m&#7895;i &#273;&#7873; m&#7909;c. ',
'texte_sous_titre' => 'T&#7921;a &#273;&#7873; ph&#7909;',
'texte_statistiques_visites' => 'Thah &#273;&#7853;m: Ch&#7911; nh&#7853;t / v&#242;ng cong &#273;&#7853;m: &#273;&#7907;t trung b&#236;nh)',
'texte_statut_attente_validation' => '&#273;ang ch&#7901; ch&#7845;p thu&#7853;n',
'texte_statut_publies' => '&#273;&#432;&#7907;c &#273;&#259;ng l&ecirc;n',
'texte_statut_refuses' => 'b&#7883; t&#7915; ch&#7889;i',
'texte_suppression_fichiers' => 'D&ugrave;ng m&#7879;nh l&#7879;nh n&agrave;y &#273;&#7875; x&oacute;a t&#7845;t c&#7843; h&#7891; s&#417; trong SPIP cache. L&agrave;m v&#7853;y &#273;&#7875; bu&#7897;c l&agrave;m m&#7899;i l&#7841;i m&#7885;i trang web, trong tr&#432;&#7901;ng h&#7907;p b&#7841;n v&#7915;a c&oacute; m&#7897;t s&#7889; thay &#273;&#7893;i v&#7873; &#273;&#7891; h&#7885;a hay c&#7845;u tr&uacute;c c&#7911;a website.',
'texte_sur_titre' => '&#272;&#7847;u &#273;&#7873;',
'texte_syndication' => 'N&#7871;u website cho ph&#233;p, b&#7841;n c&#243; th&#7875; truy t&#236;m t&#7921; &#273;&#7897;ng danh s&#225;ch c&#225;c d&#7919; li&#7879;u m&#7899;i nh&#7845;t. &#272;&#7875; l&#224;m chuy&#7879;n n&#224;y, b&#7841;n ph&#7843;i m&#7903; &#273;&#7863;c &#273;i&#7875;m syndication l&#234;n. <blockquote><i>M&#7897;t s&#7889; m&#225;y kh&#244;ng cho ph&#233;p d&#249;ng ch&#7913;c n&#259;ng n&#224;y, trong tr&#432;&#7901;ng h&#7907;p &#273;&#243;, b&#7841;n kh&#244;ng d&#249;ng &#273;&#7863;c &#273;i&#7875;m syndication t&#7915; website c&#7911;a b&#7841;n &#273;&#432;&#7907;c.</i></blockquote>',
'texte_table_ok' => ': b&#7843;n n&#224;y OK.',
'texte_tables_indexation_vides' => 'B&#7843;n indexing c&#7911;a m&#225;y tr&#7889;ng r&#7895;ng. ',
'texte_tentative_recuperation' => 'T&#236;m c&#225;ch s&#7917;a ch&#7919;a',
'texte_tenter_reparation' => 'T&#236;m c&#225;ch s&#7917;a ch&#7919;a database',
'texte_test_proxy' => '&#272;&#7875; th&#7917; proxy n&#224;y, &#273;&#225;nh v&#224;o &#273;&#7883;a ch&#7881; m&#7897;t website b&#7841;n mu&#7889;n th&#7917;.',
'texte_titre_02' => 'T&#7921;a &#273;&#7873;:',
'texte_titre_obligatoire' => '<B>T&#7921;a &#273;&#7873;</B> [B&#7855;t bu&#7897;c] ',
'texte_travail_article' => '@nom_auteur_modif@ &#273;&#227; so&#7841;n/b&#7893; t&#250;c b&#224;i n&#224;y c&#225;ch &#273;&#226;y @date_diff@ ph&#250;t',
'texte_travail_collaboratif' => 'N&#7871;u c&oacute; nhi&#7873;u ng&#432;&#7901;i c&ugrave;ng so&#7841;n/s&#7917;a &#273;&#7893;i m&#7897;t b&agrave;i, h&#7879; th&#7889;ng c&oacute; th&#7875; cho th&#7845;y nh&#7919;ng b&agrave;i &#273;ang &#273;&#432;&#7907;c &laquo;l&agrave;m vi&#7879;c&raquo; &#273;&#7875; tr&aacute;nh tr&#432;&#7901;ng h&#7907;p s&#7917;a &#273;&#7893;i c&ugrave;ng m&#7897;t l&uacute;c. 
B&#7841;n c&oacute; th&#7875; cho ph&eacute;p c&#7843;nh b&aacute;o hay kh&ocirc;ng:',
'texte_trop_resultats_auteurs' => 'Qu&#225; nhi&#7873;u k&#7871;t qu&#7843; khi t&#236;m "@cherche_auteur@"; h&#227;y duy&#7879;t l&#7841;i vi&#7879;c t&#236;m ki&#7871;m.',
'texte_unpack' => '&#272;ang t&#7843;i xu&#7889;ng &#7845;n b&#7843;n m&#7899;i nh&#7845;t',
'texte_utilisation_moteur_syndiques' => 'N&#7871;u b&#7841;n d&#249;ng c&#417; ph&#7853;n t&#236;m ki&#7871;m c&#7911;a SPIP, b&#7841;n c&#243; th&#7875; t&#236;m trong webiste v&#224; b&#224;i v&#7903; syndicated b&#7857;ng nhi&#7873;u c&#225;ch kh&#225;c nhau. <br><img src=\'puce.gif\'>C&#225;ch &#273;&#417;n gi&#7843;n nh&#7845;t l&#224; t&#236;m trong t&#7921;a &#273;&#7873; v&#224; ph&#7847;n m&#244; t&#7843; b&#224;i. <br><img src=\'puce.gif\'> C&#225;ch th&#7913; nh&#7845;t, m&#7841;nh h&#417;n, cho ph&#233;p SPIP t&#236;m ki&#7871;m trong v&#259;n b&#7843;n c&#7911;a website n&#7889;i k&#7871;t. N&#7871;u b&#7841;n n&#7889;i k&#7871;t m&#7897;t website, SPIP s&#7869; t&#236;m trong v&#259;n b&#7843;n c&#7911;a website &#273;&#243;. ',
'texte_utilisation_moteur_syndiques_2' => 'Ph&#432;&#417;ng ph&#225;p n&#224;y bu&#7897;c SPIP &#273;&#7871;n vi&#7871;ng th&#432;&#7901;ng xuy&#234;n nh&#7919;ng website k&#7871;t n&#7889;i; vi&#7879;c n&#224;y c&#243; th&#7875; l&#224;m gi&#7843;m hi&#7879;u su&#7845;t c&#7911;a website b&#7841;n.',
'texte_vide' => 'Tr&#7889;ng r&#7895;ng',
'texte_vider_cache' => 'D&#7885;n s&#7841;ch cache',
'titre_admin_effacer' => 'B&#7843;o tr&igrave; k&#7929; thu&#7853;t',
'titre_admin_tech' => 'B&#7843;o tr&igrave; k&#7929; thu&#7853;t',
'titre_admin_vider' => 'B&#7843;o tr&igrave; k&#7929; thu&#7853;t',
'titre_articles_syndiques' => 'Nh&#7919;ng b&agrave;i v&#7905; t&#7915;ng xu&#7845;t b&#7843;n b&#7883; thu h&#7891;i ra kh&#7887;i trang web.',
'titre_breves' => 'Tin ng&#7855;n',
'titre_cadre_afficher_article' => 'Li&#7879;t k&ecirc; nh&#7919;ng b&agrave;i',
'titre_cadre_afficher_traductions' => 'Cho xem t&igrave;nh tr&#7841;ng d&#7883;ch thu&#7853;t c&#7911;a ng&ocirc;n ng&#7919; n&agrave;y.',
'titre_cadre_ajouter_auteur' => 'TH&Ecirc;M M&#7896;T T&Aacute;C GI&#7842;:',
'titre_cadre_forum_administrateur' => 'Di&#7877;n &#273;&agrave;n d&agrave;nh ri&ecirc;ng cho qu&#7843;n tr&#7883; vi&ecirc;n',
'titre_cadre_forum_interne' => 'Di&#7877;n &#273;&agrave;n n&#7897;i b&#7897;',
'titre_cadre_interieur_rubrique' => 'Trong &#273;&#7873; m&#7909;c',
'titre_cadre_numero_auteur' => 'S&#7888; TH&#7912; T&#7920; T&Aacute;C GI&#7842;',
'titre_cadre_signature_obligatoire' => '<B>Danh t&aacute;nh</b> [B&#7855;t bu&#7897;c]<BR>',
'titre_config_fonctions' => 'C&#7845;u h&igrave;nh c&#7911;a website',
'titre_config_groupe_mots_cles' => 'C&#7845;u h&igrave;nh c&aacute;c nh&oacute;m t&#7915; then ch&#7889;t',
'titre_configuration' => 'C&#7845;u h&igrave;nh c&#7911;a website',
'titre_connexion_ldap' => '<MODIF>T&ugrave;y ch&#7885;n : <B>K&#7871;t n&#7889;i v&agrave;o LDAP</b>',
'titre_dernier_article_syndique' => 'Nh&#7919;ng b&agrave;i v&#7915;a &#273;&#432;&#7907;c li&ecirc;n k&#7871;t',
'titre_documents_joints' => 'T&agrave;i li&#7879;u &#273;&iacute;nh k&egrave;m',
'titre_evolution_visite' => 'Th&#7889;ng K&ecirc;',
'titre_forum_suivi' => 'Qu&#7843;n tr&#7883; Di&#7877;n &#273;&agrave;n',
'titre_gauche_mots_edit' => 'S&#7888; TH&#7912; T&#7920; C&#7910;A T&#7914; THEN CH&#7888;T:',
'titre_groupe_mots' => 'NH&Oacute;M T&#7914; THEN CH&#7888;T:',
'titre_langue_article' => 'NG&Ocirc;N NG&#7918; C&#7910;A B&Agrave;I',
'titre_langue_breve' => 'NG&Ocirc;N NG&#7918; C&#7910;A TIN NG&#7854;N',
'titre_langue_rubrique' => 'NG&Ocirc;N NG&#7918; C&#7910;A &#272;&#7872; M&#7908;C',
'titre_langue_trad_article' => 'NG&Ocirc;N NG&#7918; V&Agrave; D&#7882;CH THU&#7852;T C&#7910;A B&Agrave;I',
'titre_les_articles' => 'B&Agrave;I V&#7902;',
'titre_mots_cles_dans_forum' => 'Nh&#7919;ng t&#7915; then ch&#7889;t trong di&#7877;n &#273;&agrave;n c&ocirc;ng c&#7897;ng',
'titre_mots_tous' => 'T&#7915; then ch&#7889;t',
'titre_naviguer_dans_le_site' => 'Xem trang web...',
'titre_nouveau_groupe' => 'Nh&oacute;m m&#7899;i',
'titre_nouvelle_breve' => 'Tin ng&#7855;n m&#7899;i',
'titre_nouvelle_rubrique' => '&#272;&#7873; m&#7909;c m&#7899;i',
'titre_numero_rubrique' => 'S&#7888; TH&#7912; T&#7920; &#272;&#7872; M&#7908;C:',
'titre_page_admin_effacer' => 'B&#7843;o tr&igrave; k&#7929; thu&#7853;t: x&oacute;a database',
'titre_page_articles_edit' => 'B&#7893; t&uacute;c: @titre@',
'titre_page_articles_page' => 'B&agrave;i v&#7905;',
'titre_page_articles_tous' => 'To&agrave;n b&#7897; trang web',
'titre_page_auteurs' => 'Kh&aacute;ch',
'titre_page_breves' => 'Tin ng&#7855;n',
'titre_page_breves_edit' => 'S&#7917;a &#273;&#7893;i tin ng&#7855;n: &laquo;@titre@&raquo;',
'titre_page_calendrier' => 'L&#7883;ch @nom_mois@ @annee@',
'titre_page_config_contenu' => 'C&#7845;u h&igrave;nh website',
'titre_page_config_fonctions' => 'C&#7845;u h&igrave;nh website',
'titre_page_configuration' => 'C&#7845;u h&igrave;nh website',
'titre_page_controle_petition' => 'Ti&#7871;p theo Th&#7881;nh nguy&#7879;n th&#432;',
'titre_page_delete_all' => 'x&oacute;a lu&ocirc;n v&agrave; kh&ocirc;ng l&#7845;y l&#7841;i &#273;&#432;&#7907;c',
'titre_page_documents_liste' => 'T&agrave;i li&#7879;u c&#7911;a &#273;&#7873; m&#7909;c',
'titre_page_forum' => 'Di&#7877;n &#273;&agrave;n cho c&aacute;c qu&#7843;n l&yacute;',
'titre_page_forum_envoi' => 'G&#7917;i th&#432; t&iacute;n',
'titre_page_forum_suivi' => 'Qu&#7843;n tr&#7883; di&#7877;n &#273;&agrave;n',
'titre_page_index' => 'V&ugrave;ng ri&ecirc;ng c&#7911;a b&#7841;n',
'titre_page_message_edit' => 'Vi&#7871;t th&#432; t&iacute;n',
'titre_page_messagerie' => 'Th&#432; t&iacute;n c&#7911;a b&#7841;n',
'titre_page_mots_tous' => 'T&#7915; then ch&#7889;t',
'titre_page_recherche' => 'K&#7871;t qu&#7843; t&igrave;m ki&#7871;m @recherche@',
'titre_page_sites_tous' => 'Trang n&#7889;i k&#7871;t',
'titre_page_statistiques' => 'Th&#7889;ng k&ecirc; theo t&#7915;ng &#273;&#7873; m&#7909;c',
'titre_page_statistiques_referers' => 'Th&#7889;ng k&ecirc; (c&aacute;c &#273;i&#7875;m n&#7889;i v&agrave;o)',
'titre_page_statistiques_visites' => 'Th&#7889;ng k&ecirc; v&#7873; th&#259;m vi&#7871;ng',
'titre_page_upgrade' => 'n&acirc;ng c&#7845;p SPIP',
'titre_publication_articles_post_dates' => '&#272;&#259;ng t&#7843;i b&agrave;i v&#7903; c&oacute; &#273;&#7873; ng&agrave;y',
'titre_referencement_sites' => 'N&#7889;i k&#7871;t v&agrave; syndicate website',
'titre_referencer_site' => 'N&#7889;i qua website:',
'titre_rendez_vous' => 'V&Ocirc; S&#7892; L&#7882;CH:',
'titre_reparation' => 'S&#7917;a ch&#7919;a',
'titre_site_numero' => 'S&#7888; TH&#7912; T&#7920; WEBSITE:',
'titre_sites_proposes' => 'Trang &#273;&atilde; n&#7897;p',
'titre_sites_references_rubrique' => 'C&aacute;c trang tham kh&#7843;o trong m&#7909;c n&agrave;y',
'titre_sites_syndiques' => 'Trang &#273;&atilde; xu&#7845;t b&#7843;n',
'titre_sites_tous' => 'Trang tham kh&#7843;o',
'titre_suivi_petition' => 'Qu&#7843;n tr&#7883; Th&#7881;nh nguy&#7879;n th&#432;',
'titre_syndication' => 'Syndicate trang web',
'trad_article_inexistant' => 'Kh&ocirc;ng c&oacute; b&agrave;i n&agrave;o v&#7899;i s&#7889; n&agrave;y',
'trad_article_traduction' => 'T&#7845;t c&#7843; &#7845;n b&#7843;n c&#7911;a b&agrave;i n&agrave;y:',
'trad_deja_traduit' => 'B&agrave;i n&agrave;y l&agrave; b&#7843;n d&#7883;ch c&#7911;a b&agrave;i hi&#7879;n th&#7901;i',
'trad_delier' => '&#272;&#7915;ng n&#7889;i b&agrave;i n&agrave;y qua b&#7843;n d&#7883;ch',
'trad_lier' => 'B&agrave;i n&agrave;y l&agrave; b&#7843;n d&#7883;ch c&#7911;a b&agrave;i s&#7889;',
'trad_new' => 'D&#7883;ch b&agrave;i n&agrave;y',


// V
'version_initiale' => '<NEW>Version initiale'

);


?>

--- NEW FILE: ecrire_fr.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Cette partie de l\'aide en ligne n\'est pas encore disponible dans cette langue.',
'avis_acces_interdit' => 'Acc&egrave;s interdit.',
'avis_article_modifie' => 'Attention, @nom_auteur_modif@ a travaill&eacute; sur cet article il y a @date_diff@ minutes',
'avis_aucun_resultat' => 'Aucun r&eacute;sultat.',
'avis_chemin_invalide_1' => 'Le chemin que vous avez choisi',
'avis_chemin_invalide_2' => 'ne semble pas valide. Veuillez retourner &agrave; la page pr&eacute;c&eacute;dente et v&eacute;rifier les informations fournies.',
'avis_connexion_echec_1' => 'La connexion au serveur MySQL a &eacute;chou&eacute;.',
'avis_connexion_echec_2' => 'Revenez &agrave; la page pr&eacute;c&eacute;dente, et v&eacute;rifiez les informations que vous avez fournies.',
'avis_connexion_echec_3' => '<b>N.B.</b> Sur de nombreux serveurs, vous devez <b>demander</b> l\'activation de votre acc&egrave;s &agrave; la base MySQL avant de pouvoir l\'utiliser. Si vous ne pouvez vous connecter, v&eacute;rifiez que vous avez effectu&eacute; cette d&eacute;marche.',
'avis_connexion_ldap_echec_1' => 'La connexion au serveur LDAP a &eacute;chou&eacute;.',
'avis_connexion_ldap_echec_2' => 'Revenez &agrave; la page pr&eacute;c&eacute;dente, et v&eacute;rifiez les informations que vous avez fournies.',
[...1033 lines suppressed...]
'titre_sites_references_rubrique' => 'Les sites r&eacute;f&eacute;renc&eacute;s dans cette rubrique',
'titre_sites_syndiques' => 'Les sites syndiqu&eacute;s',
'titre_sites_tous' => 'Les sites r&eacute;f&eacute;renc&eacute;s',
'titre_suivi_petition' => 'Suivi des p&eacute;titions',
'titre_syndication' => 'Syndication de sites',
'trad_article_inexistant' => 'Il n\'y a pas d\'article portant ce num&eacute;ro.',
'trad_article_traduction' => 'Toutes les versions de cet article&nbsp;:',
'trad_deja_traduit' => 'Cet article est d&eacute;j&agrave; une traduction du pr&eacute;sent article.',
'trad_delier' => 'Ne plus lier cet article &agrave; ces traductions',
'trad_lier' => 'Cet article est une traduction de l\'article num&eacute;ro&nbsp;:',
'trad_new' => '&Eacute;crire une nouvelle traduction de cet article',


// V
'version_initiale' => 'Version initiale'

);


?>

--- NEW FILE: ecrire_de.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Teil der Online-Hilfe in dieser Sprache noch nicht verf&uuml;gbar.',
'avis_acces_interdit' => 'Zugang verweigert.',
'avis_article_modifie' => 'Achtung, @nom_auteur_modif@ hat vor @date_diff@ Minute(n) an diesem Artikel gearbeitet.',
'avis_aucun_resultat' => 'Kein Ergebnis.',
'avis_chemin_invalide_1' => 'Der gew&auml;hlte Pfad',
'avis_chemin_invalide_2' => 'scheint nicht zu stimmen. Bitte kehren Sie zur vorigen Seite zur&uuml;ck und &uuml;berpr&uuml;fen Sie die Angaben.',
'avis_connexion_echec_1' => 'Die Verbindung zum MySQL-Server ist fehlgeschlagen.',
'avis_connexion_echec_2' => 'Kehren Sie zur vorigen Seite zur&uuml;ck und &uuml;berpr&uuml;fen Sie die Angaben.',
'avis_connexion_echec_3' => '<B>N.B.</b> Bei vielen Providern m&uuml;ssen Sie Ihre Datenbank ausdr&uuml;cklich <B>aktivieren lassen</b> um sie nutzen zu k&ouml;nnen. Wenn die Verbindung wieder fehlschl&auml;gt, stellen Sie bitte sicher, dass Ihre Datenbank aktiviert wurde.',
'avis_connexion_ldap_echec_1' => 'Die Verbindung zum LDAP-Server ist fehlgeschlagen.',
'avis_connexion_ldap_echec_2' => 'Kehren Sie zur vorigen Seite zur&uuml;ck und &uuml;berpr&uuml;fen Sie die Angaben.',
'avis_connexion_ldap_echec_3' => 'Sie k&ouml;nnen Benutzer auch ohne LDAP-Support importieren.',
'avis_conseil_selection_mot_cle' => '<b>Wichtige Kategorie:</b> Bitte w&auml;hlen Sie ein Schl&uuml;sselwort dieser Gruppe.',
'avis_deplacement_rubrique' => 'Achtung! diese Rubrik enth&auml;lt @contient_breves@ Meldungen at scb@: wenn Sie Rubrik verschieben wollen, markieren Sie bitte zur Best&auml;tigung dieses K&auml;stchen.',
'avis_destinataire_obligatoire' => 'Sie m&uuml;ssen einen Empf&auml;nger angeben, bevor Sie die Nachricht abschicken.',
'avis_erreur_connexion_mysql' => 'Verbindungsfehler (MySQL)',
'avis_erreur_version_archive' => '<B>Achtung! Die Datei @archive@ entspricht nicht der von Ihnen installierten Version von SPIP.</b> Bitte brechen Sie den Import jetzt ab. Sie riskieren anderenfalls die Funktionalit&auml;t Ihrer Website zu beeintr&auml;chtigen oder sogar die Datenbank zu zerst&ouml;ren. Bitte brechen Sie den Vorgang jetzt ab.<p> Mehr dazu finden Sie in der <A HREF="http://www.spip.net/fr_article2632.html"> franz&ouml;sischen SPIP-Dokumentation</a>.',
'avis_espace_interdit' => '<B>Gesperrter Bereich</b><p>SPIP ist bereits installiert.',
'avis_lecture_noms_bases_1' => 'Das Installationsprogramm konnte die Namen der vorhandenen Datenbanken nicht lesen.',
'avis_lecture_noms_bases_2' => 'Entweder ist keine Datenbank vorhanden oder die Funktion zum Auflisten der Datenbanken ist abgeschaltet (Das ist bei vielen Webhostern der Fall).',
'avis_lecture_noms_bases_3' => 'Im zweiten Fall ist wahrscheinlich eine Datenbank vorhanden, die Ihren Anmeldenamen tr&auml;gt:',
'avis_non_acces_message' => 'Sie haben keinen Zugriff auf diese Nachricht.',
'avis_non_acces_page' => 'Sie haben keinen Zugriff auf diese Seite.',
'avis_operation_echec' => 'Operation fehlgeschlagen.',
'avis_probleme_archive' => 'Fehler beim Lesen der Archivdatei @archive@',
'avis_site_introuvable' => 'Website nicht auffindbar',
'avis_site_syndique_probleme' => 'Achtung! Bei der Syndikation dieser Website ist ein Problem aufgetreten und das System ist vor&uuml;bergehend unterbrochen. &Uuml;berpr&uuml;fen Sie die Adresse der backend-Datei der Website (<b>@url_syndic@</b>) und versuchen Sie, die Informationen erneut abzurufen.',
'avis_sites_probleme_syndication' => 'Es gab ein Problem mit der Syndikation dieser Websites',
'avis_sites_syndiques_probleme' => 'Es gab ein Problem mit der Syndikation dieser Websites',
'avis_suppression_base' => 'ACHTUNG, Daten werden unwiderruflich gel&ouml;scht.',
'avis_version_mysql' => 'Ihre MySQL-Version (@version_mysql@) erlaubt keine automatische Reparatur der Tabellen.',


// B
'bouton_acces_ldap' => 'LDAP Zugang hinzuf&uuml;gen >>',
'bouton_ajouter' => 'Hinzuf&uuml;gen',
'bouton_ajouter_participant' => 'TEILNEHMER HINZUF&Uuml;GEN:',
'bouton_annonce' => 'ANK&Uuml;NDIGUNG',
'bouton_checkbox_envoi_message' => 'Verschicken einer Nachricht erm&ouml;glichen',
'bouton_checkbox_indiquer_site' => 'obligatorische Angabe einer Website',
'bouton_checkbox_qui_attribue_mot_cle_administrateurs' => 'Administratoren der Website',
'bouton_checkbox_qui_attribue_mot_cle_redacteurs' => 'Redakteure',
'bouton_checkbox_qui_attribue_mot_cle_visiteurs' => 'Besucher der Website die einen Beitrag in ein Forum geschrieben haben.',
'bouton_checkbox_signature_unique_email' => 'eine einzige Unterschrift pro E-Mail Adresse',
'bouton_checkbox_signature_unique_site' => 'eine einzige Unterschrift pro Website',
'bouton_demande_publication' => 'Artikel zur Ver&ouml;ffentlichung vorschlagen',
'bouton_effacer_index' => 'Indexe l&ouml;schen',
'bouton_effacer_tout' => 'ALLES l&ouml;schen',
'bouton_envoi_message_02' => 'NACHRICHT SENDEN',
'bouton_envoyer_message' => 'Nachricht fertig: Senden',
'bouton_forum_petition' => 'FORUM + PETITION',
'bouton_modifier' => '&Auml;ndern',
'bouton_pense_bete' => 'PERS&Ouml;NLICHER MERKZETTEL',
'bouton_radio_activer_messagerie' => 'Interne Nachrichten aktivieren',
'bouton_radio_activer_messagerie_interne' => 'Interne Nachrichten aktivieren',
'bouton_radio_activer_petition' => 'Petitionen aktivieren',
'bouton_radio_afficher' => 'Anzeigen',
'bouton_radio_apparaitre_liste_redacteurs_connectes' => 'Auf der Liste angemeldeter Redakteure anzeigen',
'bouton_radio_articles_futurs' => 'nur f&uuml;r neue Artikel (hat keine Auswirkungen auf die Datenbank).',
'bouton_radio_articles_tous' => 'f&uuml;r ausnahmslos alle Artikel.',
'bouton_radio_articles_tous_sauf_forum_desactive' => 'nur f&uuml;r Artikel mit aktiviertem Forum.',
'bouton_radio_desactiver_messagerie' => 'Nachrichten abschalten',
'bouton_radio_enregistrement_obligatoire' => 'Obligatorische Anmeldung (Besucher m&uuml;ssen sich mit einer g&uuml;ltigen E-Mail Adresse anmelden, um Forumsbeitr&auml;ge schreiben zu k&ouml;nnen).',
'bouton_radio_envoi_annonces_adresse' => 'Editorische Ank&uuml;ndigungen an diese Adresse senden:',
'bouton_radio_envoi_liste_nouveautes' => 'Liste der neuesten Ver&ouml;ffentlichungen verschicken',
'bouton_radio_moderation_priori' => 'Vorgeschaltete Moderation (Die Benutzerkommentare werden erst nach Best&auml;tigung durch einen Administrator sichtbar). ',
'bouton_radio_modere_abonnement' => 'Nur f&uuml;r Abonnenten (die Benutzer m&uuml;ssen ihre E-Mail-Adresse angeben, bevor sie Beitr&auml;ge ver&ouml;ffentlichen d&uuml;rfen). ',
'bouton_radio_modere_posteriori' => 'Nachtr&auml;gliche Moderation (Benutzerkommentare sind sofort online, ein Administrator kann sie anschliessend l&ouml;schen).',
'bouton_radio_modere_priori' => 'Vorgeschaltete Moderation (Die Benutzerkommentare werden erst nach Best&auml;tigung durch einen Administrator sichtbar). ',
'bouton_radio_non_apparaitre_liste_redacteurs_connectes' => 'Ich will nicht auf dieser Liste zu sehen sein.',
'bouton_radio_non_envoi_annonces_editoriales' => 'Keine editorischen Ank&uuml;ndigungen verschicken',
'bouton_radio_non_syndication' => 'Syndikation nicht verwenden',
'bouton_radio_occidental' => 'Westliches Alphabet (<tt>iso-8859-1</tt>): Erm&ouml;glicht im Wesentlichen
die Anzeige von westeurop&auml;ischen Sprachen (Deutsch, Franz&ouml;sisch, Englisch ...).
 SPIP unterst&uuml;tzt auch die anderen Sprachen.',
'bouton_radio_pas_petition' => 'Keine Petition',
'bouton_radio_personnalise' => 'Individuelle Zeichentabelle: W&auml;hlen Sie diese Option, wenn Sie einen bestimmten Zeichensatz verwenden m&ouml;chten.',
'bouton_radio_petition_activee' => 'Petition aktiviert',
'bouton_radio_publication_immediate' => 'Sofortige Ver&ouml;ffentlichung von Beitr&auml;gen (sie werden sofort nach dem Absenden angezeigt und k&ouml;nnen von Administratoren nachtr&auml;glich gel&ouml;scht werden).',
'bouton_radio_sauvegarde_compressee' => 'komprimiert sichern nach <b>ecrire/data/dump.xml.gz</b>',
'bouton_radio_sauvegarde_non_compressee' => 'unkomprimiert sichern nach <b>ecrire/data/dump.xml</b>',
'bouton_radio_supprimer_petition' => 'Petition l&ouml;schen',
'bouton_radio_syndication' => 'Syndikation:',
'bouton_radio_universel' => 'Universelles Alphabet (<tt>utf-8</tt>): Alle Sprachen k&ouml;nnen angezeigt werden.
Es kann Kompatibilit&auml;tsprobleme bei Webeditoren und manchen Mailprogrammen geben.',
'bouton_redirection' => 'UMLEITUNG',
'bouton_relancer_installation' => 'Installation wiederholen',
'bouton_restaurer_base' => 'Datenbank wieder herstellen',
'bouton_suivant' => 'weiter',
'bouton_tenter_recuperation' => 'Reparatur versuchen',
'bouton_test_proxy' => 'Proxy testen',
'bouton_vider_cache' => 'Cache leeren',
'bouton_voir_message' => 'Beitrag vor dem Absenden ansehen',


// C
'cache_mode_compresse' => 'Cache-Dateien werden komprimiert gespeichert.',
'cache_mode_non_compresse' => 'Cache-Dateien werden unkomprimiert gespeichert.',
'cache_modifiable_webmestre' => 'Diese Parameter k&ouml;nnen vom Webmaster eingestellt werden.',
'calendrier_synchro' => 'Wenn Sie eine mit <b>iCal</b> kompatibles PIM-Programm verwenden, k&ouml;nne Sie es mit den Eintr&auml;gen dieser Website synchronisieren.',


// D
'date_mot_heures' => 'Stunden',
'diff_para_ajoute' => 'Neuer Absatz',
'diff_para_deplace' => 'Absatz verschoben',
'diff_para_supprime' => 'Absatz gel&ouml;scht',
'diff_texte_ajoute' => 'Neuer Text',
'diff_texte_deplace' => 'Text verschoben',
'diff_texte_supprime' => 'Text gel&ouml;scht',


// E
'email' => 'E-Mail',
'email_2' => 'E-Mail:',
'entree_adresse_annuaire' => 'Adresse des Verzeichnisses',
'entree_adresse_email' => 'Ihre E-Mail Adresse',
'entree_adresse_fichier_syndication' => 'Adresse der &bdquo;backend&ldquo;-Datei:',
'entree_adresse_site' => '<b>Adresse der Website</b> [Pflichtfeld]',
'entree_base_donnee_1' => 'Adresse des Datenbankservers',
'entree_base_donnee_2' => '(Oftmals entspricht diese Adresse der Ihrer Website, sie kann auch einfach &bdquo;localhost&ldquo; lauten und gelegentlich darf das Feld leer bleiben.)',
'entree_biographie' => 'Ganz kurze Vorstellung / Lebenslauf',
'entree_breve_publiee' => 'Soll diese Meldung ver&ouml;ffentlicht werden?',
'entree_chemin_acces' => 'Bitte den <b>Pfad angeben</b>:',
'entree_cle_pgp' => 'Ihr &ouml;ffentlicher PGP-Schl&uuml;ssel',
'entree_contenu_rubrique' => '(Inhalt der Rubrik)',
'entree_description_site' => 'Beschreibung der Website',
'entree_identifiants_connexion' => 'Ihre Verbindungsdaten ...',
'entree_informations_connexion_ldap' => 'Bitte tragen Sie in dieses Formular die Zugangsdaten zu Ihrem LDAP-Verzeichnis ein. Sie erhalten diese Informationen von Ihrem System- oder Netzwerkadministrator.',
'entree_infos_perso' => 'Wer sind Sie?',
'entree_interieur_rubrique' => 'In der Rubrik:',
'entree_liens_sites' => '<B>Hyperlink</b> (Quelle, Website zum Thema ...)',
'entree_login' => 'Ihr Login-Name',
'entree_login_connexion_1' => 'Login f&uuml;r die Verbindung',
'entree_login_connexion_2' => '(Dieser entspricht h&auml;ufig Ihrem FTP-Login, bleibt in manchen F&auml;llen leer)',
'entree_login_ldap' => 'LDAP Basis-Login',
'entree_mot_passe' => 'Ihr Passwort',
'entree_mot_passe_1' => 'Passwort f&uuml;r die Verbindung',
'entree_mot_passe_2' => '(Entspricht h&auml;ufig Ihrem FTP-Login, bleibt in manchen F&auml;llen leer)',
'entree_nom_fichier' => 'Bitte geben Sie den Namen der Datei @texte_compresse@ an:',
'entree_nom_pseudo' => 'Ihr Name oder Pseudonym',
'entree_nom_pseudo_1' => '(Ihr Name oder Nickname)',
'entree_nom_site' => 'Der Titel Ihrer Website',
'entree_nouveau_passe' => 'Neues Passwort',
'entree_passe_ldap' => 'Passwort',
'entree_port_annuaire' => 'Port (Nummer) des Verzeichnisses',
'entree_signature' => 'Unterschrift',
'entree_texte_breve' => 'Text der Meldung',
'entree_titre_obligatoire' => '<B>Titel</b> [Pflichtfeld]<BR>',
'entree_url' => 'Adresse (URL) Ihrer Website',


// I
'ical_info1' => 'Diese Seite erm&ouml;glicht auf mehrere Arten an der Entwicklung der Website teilzunehmen.',
'ical_info2' => 'Um mehr &uuml;ber diese Techniken zu erfahren, lesen Sie bitte die <a href="http://www.spip.net/de_suivi">SPIP Dokumentation</a>.',
'ical_info_calendrier' => 'Sie verf&uuml;gen &uuml;ber zwei Kalender. Einer gibt Ihnen eine &Uuml;bersicht &uuml;ber die Website und alle dort ver&ouml;ffentlichten Artikel. Der zweite enth&auml;lt editorische Ank&uuml;ndigungen und Ihre pers&ouml;nlichen Nachrichten. Sie allein haben Zugriff auf ihn indem Sie Ihr Passwort eingeben. Sie k&ouml;nne es &auml;ndern, indem Sie Ihr Zugangspasswort f&uuml;r diese Website &auml;ndern.',
'ical_methode_http' => 'Download',
'ical_methode_webcal' => 'Synchronisieren (webcal://)',
'ical_texte_js' => 'Mit nur einer Zeile Javascript k&ouml;nnen Sie auf Ihrer Website die neuesten Artikel dieser Website anzeigen.',
'ical_texte_prive' => 'Dieser nur f&uuml;r Sie selbst zug&auml;ngliche Kalender h&auml;lt Sie auf dem Laufenden &uuml;ber die internen redaktionellen Vorg&auml;nge dieser Website (Aufgaben und pers&ouml;nliche Termine, vorgeschlagene Artikel und Meldungen ...).',
'ical_texte_public' => 'Dieser Kalender gibt Ihnen einen &Uuml;berblick &uuml;ber die Ereignisse im &ouml;ffentlichen Bereich der Website.',
'ical_texte_rss' => 'Sie k&ouml;nnen die Neuheiten dieser Website mit einem beliebigen Programm anzeigen, dass das Format XML/RSS (Rich Site Summary) beherrscht. SPIP nutz dieses Protokoll auch, um neue Eintr&auml;ge aus anderen Websites zu &uuml;bernehmen (sog. syndizierte Websites).',
'ical_titre_js' => 'Javascript',
'ical_titre_mailing' => 'Mailing-List',
'ical_titre_rss' => '"Backend" Datei',
'icone_activer_cookie' => 'Verwaltungs-Cookie setzen',
'icone_afficher_auteurs' => 'Autoren anzeigen',
'icone_afficher_visiteurs' => 'Besucher anzeigen',
'icone_arret_discussion' => 'Aus dieser Diskussion aussteigen',
'icone_calendrier' => 'Kalender',
'icone_creation_groupe_mots' => 'Neue Schlagwort-Kategorie anlegen',
'icone_creation_mots_cles' => 'Neues Schlagwort anlegen',
'icone_creer_auteur' => 'Neuen Autor anlegen und diesem Artikel zuordnen',
'icone_creer_rubrique_2' => 'Neue Rubrik anlegen',
'icone_ecrire_nouvel_article' => 'Meldungen in dieser Rubrik',
'icone_envoyer_message' => 'Nachricht abschicken',
'icone_evolution_visites' => 'Besuchsentwicklung<br>@visites@ Abrufe',
'icone_modif_groupe_mots' => 'Schlagwort-Kategorie bearbeiten',
'icone_modifier_article' => 'Artikel bearbeiten',
'icone_modifier_breve' => 'Meldung bearbeiten',
'icone_modifier_message' => 'Nachricht bearbeiten',
'icone_modifier_rubrique' => 'Rubrik bearbeiten',
'icone_modifier_site' => 'Website bearbeiten',
'icone_poster_message' => 'Nachricht schicken',
'icone_publier_breve' => 'Meldung ver&ouml;ffentlichen',
'icone_referencer_nouveau_site' => 'Neue Website verlinken',
'icone_refuser_breve' => 'Kurzmeldung ablehnen',
'icone_retour' => 'Zur&uuml;ck',
'icone_retour_article' => 'Zur&uuml;ck zum Artikel',
'icone_suivi_forum' => '&Ouml;ffentliches Forum: @nb_forums@ Beitr&auml;ge',
'icone_supprimer_cookie' => 'Verwaltungs-Cookie l&ouml;schen',
'icone_supprimer_groupe_mots' => 'Schlagwort-Kategorie l&ouml;schen',
'icone_supprimer_rubrique' => 'Rubrik l&ouml;schen',
'icone_supprimer_signature' => 'Unterschrift l&ouml;schen',
'icone_valider_signature' => 'Unterschrift best&auml;tigen',
'icone_voir_sites_references' => 'Verlinkte Websites anzeigen',
'icone_voir_tous_mots_cles' => 'Alle Schlagworte anzeigen',
'image_administrer_rubrique' => 'Sie k&ouml;nnen diese Rubrik verwalten',
'info_1_article' => '1 Artikel',
'info_1_breve' => '1 Meldung',
'info_1_site' => '1 Website',
'info_activer_cookie' => 'Sie k&ouml;nnen ein <b>Verwaltungs-Cookie</b> setzen. Es erlaubt Ihnen, Artikel und Rubriken direkt aus der Website zu bearbeiten.',
'info_activer_forum_public' => '<I>Um die &ouml;ffentlichen Foren zu aktivieren, w&auml;hlen Sie bitte die Moderation im Standardmodus:</i>',
'info_admin_gere_rubriques' => 'Dieser Administrator verwaltet die folgenden Rubriken:',
'info_admin_gere_toutes_rubriques' => 'Dieser Administrator verwaltet <b>alle Rubriken</b>.',
'info_administrateur' => 'Administrator',
'info_administrateur_1' => 'Administrator',
'info_administrateur_2' => 'der Website (<i>vorsichtig einsetzen</i>)',
'info_administrateur_site_01' => 'Wenn Sie Administrator der Website sind, bitte',
'info_administrateur_site_02' => 'auf diesen Link klicken.',
'info_administrateurs' => 'Administratoren',
'info_administrer_rubrique' => 'Sie k&ouml;nnen diese Rubrik verwalten',
'info_adresse' => 'an Adresse:',
'info_adresse_email' => 'E-MAIL ADRESSE:',
'info_adresse_url' => 'Adresse (URL) der &ouml;ffentlichen Website',
'info_afficher_visites' => 'Besuche anzeigen f&uuml;r:',
'info_affichier_visites_articles_plus_visites' => 'Besuche der <b>beliebtesten Artikel seit Start der Website</b> anzeigen:',
'info_aide_en_ligne' => 'SPIP Online-Hilfe',
'info_ajout_image' => 'Wenn Sie Bilder als Dokumente anlegen, die einem Artikel zugeordnet sind, kann SPIP automatisch (Miniatur-)Vorschaubilder dazu erstellen. Sie k&ouml;nnen so eine automatische Galerie oder Bildermappe einrichten.',
'info_ajout_participant' => 'Dieser Teilnehmer wurde hinzugef&uuml;gt:',
'info_ajouter_rubrique' => 'Eine weitere zu verwaltende Rubrik hinzuf&uuml;gen:',
'info_annonce_nouveautes' => 'Ank&uuml;ndigung der Neuigkeiten',
'info_annuler_blocage_priori' => 'Vorab-Sperre aufheben',
'info_anterieur' => 'vorige',
'info_appliquer_choix_moderation' => 'Moderationstyp anwenden:',
'info_article' => 'Artikel',
'info_article_2' => 'Artikel',
'info_article_a_paraitre' => 'Vordatierte Artikel, die noch nicht erschienen sind.',
'info_articles_02' => 'Artikel',
'info_articles_2' => 'Artikel',
'info_articles_auteur' => 'Alle Artikel dieses Autors',
'info_articles_lies_mot' => 'Alle Artikel zu diesem Schlagwort',
'info_articles_trouves' => 'Gefundene Artikel',
'info_articles_trouves_dans_texte' => 'Gefundene Artikel (im Text)',
'info_attente_validation' => 'Ihre zur Ver&ouml;ffentlichung vorgeschlagenen Artikel',
'info_aujourdhui' => 'heute: ',
'info_auteur_message' => 'AUTOR DES BEITRAGS:',
'info_auteurs' => 'Autoren',
'info_auteurs_par_tri' => 'Autoren at partri@',
'info_auteurs_trouves' => 'Gefundene Autoren',
'info_authentification_externe' => 'Externe Authentifizierung',
'info_avertissement' => 'Warnung',
'info_base_installee' => 'Die Struktur Ihrer Datenbank wurde angelegt.',
'info_base_restauration' => 'Datenbank wird wieder hergestellt.',
'info_breves' => 'Verwendet Ihre Website Meldungen?',
'info_breves_03' => ' Meldungen',
'info_breves_liees_mot' => 'Mit diesem Schlagwort verkn&uuml;pfte Meldungen',
'info_breves_touvees' => 'Gefundene Meldungen',
'info_breves_touvees_dans_texte' => 'Gefundene Meldungen (im Text)',
'info_changer_nom_groupe' => 'Namen dieser Kategorie &auml;ndern:',
'info_chapeau' => 'Kopf',
'info_chapeau_2' => 'Kopf:',
'info_chemin_acces_1' => 'Optionen: <b>Pfad im Verzeichnis</b>',
'info_chemin_acces_2' => 'Sie m&uuml;ssen jetzt den Pfad zu den Informationen im Verzeichnis angeben. Diese Information ist unbedingt erforderlich, um die Benutzerprofile im Verzeichnis lesen zu k&ouml;nnen.',
'info_chemin_acces_annuaire' => 'Optionen: <b>Pfad im Verzeichnis',
'info_choix_base' => 'Schritt 3: ',
'info_classement_1' => ' von @liste@',
'info_classement_2' => 'von @liste@',
'info_code_acces' => 'Vergessen Sie ihre Zugangsdaten nicht!',
'info_comment_lire_tableau' => 'Interpretation der Tabelle',
'info_config_suivi' => 'Wenn es sich bei dieser Adresse um eine Mailing-Liste handelt, k&ouml;nnen Sie unten die Adresse angeben, unter der sich Teilnehmer der Website anmelden k&ouml;nnen. Es kann sich um den URL einer Webseite handeln (die ein Anmeldeformular enth&auml;lt) oder um eine E-Mail Adresse mit angeh&auml;ngtem Parameter (z.B. <tt>@adresse_suivi@?subject=subscribe</tt>):',
'info_config_suivi_explication' => 'Sie k&ouml;nnen die Mailing-Liste dieser Website abonnieren. Sie werden dann per E-Mail &uuml;ber neu zur Ver&ouml;ffentlichung vorgeschlagene Artikel informiert.',
'info_confirmer_passe' => 'Neues Passwort best&auml;tigen:',
'info_connexion_base' => 'Schritt 2: <B>Test der Verbindung zur Datenbank</b>',
'info_connexion_ldap_ok' => 'Die Verbindung zum LDAP-Verzeichnis wurde hergestellt.</b><P> Sie k&ouml;nnen mit dem n&auml;chsten Schritt fortfahren.',
'info_connexion_mysql' => 'Schritt 1: <B>Verbindung zur MySQL-Datenbank herstellen</b>',
'info_connexion_ok' => 'Die Verbindung wurde hergestellt.',
'info_contact' => 'Kontakt',
'info_contenu_articles' => 'Inhalt der Artikel',
'info_creation_mots_cles' => 'Hier verwalten Sie die Schlagworte der Website',
'info_creation_paragraphe' => '(Um einen Absatz einzuf&uuml;gen, lassen Sie einfach eine Zeile frei.)',
'info_creation_rubrique' => 'Bevor Sie Artikel schreiben k&ouml;nnen,<BR> m&uuml;ssen Sie eine Rubrik anlegen.<BR>',
'info_creation_tables' => 'Schritt 4: <B>Anlegen der Datenbanktabellen</b>',
'info_creer_base' => 'Neue <B>Datenbank anlegen</b>:',
'info_dans_groupe' => 'In der Kategorie:',
'info_dans_rubrique' => 'In der Rubrik:',
'info_date_publication_anterieure' => 'Datum einer fr&uuml;heren Ver&ouml;ffentlichung:',
'info_date_referencement' => 'DATUM DER VERLINKUNG DIESER WEBSITE:',
'info_delet_mots_cles' => 'Das Schlagwort <B>@titre_mot@</b> (@type_mot@) ist mit dem Artikel <b>@texte_lie@</b> verkn&uuml;pft. Sie m&uuml;ssen deshalb das L&ouml;schen ausdr&uuml;cklich best&auml;tigen:',
'info_demander_blocage_priori' => 'Bitte zun&auml;chst sperren',
'info_derniere_etape' => 'Letzter Schritt: <B>Und fertig!',
'info_derniere_syndication' => 'Datum der letzten Syndikation dieser Website: ',
'info_derniers_articles_publies' => 'Ihre letzten ver&ouml;ffentlichten Artikel',
'info_desactiver_forum_public' => '&Ouml;ffentliche Foren abschalten. Es ist immer noch m&ouml;glich, ein Forum f&uuml;r einen Artikel einzurichten. F&uuml;r Rubriken, Meldungen, etc. stehen dann keine Foren zur Verf&uuml;gung.',
'info_desactiver_messagerie_personnelle' => 'Sie k&ouml;nnen die Nutzung Ihrer pers&ouml;nlichen Nachrichten abschalten.',
'info_descriptif' => 'Beschreibung:',
'info_discussion_cours' => 'Aktuelle Diskussionen',
'info_ecrire_article' => 'Bevor Sie Artikel schreiben k&ouml;nnnen, m&uuml;ssen Sie mindestens eine Rubrik anlegen.',
'info_email_envoi' => 'Absenderadresse (freiwillige Angabe)',
'info_email_envoi_txt' => 'Geben Sie hier die Absenderadresse der E-Mails an (ohne diese Angabe wird die Empf&auml;ngeradresse als Absender eingetragen). ',
'info_email_webmestre' => 'E-Mail des Webmasters (freiwillige Angabe)',
'info_entrer_code_alphabet' => 'Geben Sie die Bezeichnung des gew&uuml;nschten Zeichensatz an: ',
'info_envoi_email_automatique' => 'Automatischer Mailversand',
'info_envoi_forum' => 'Forumsbeitr&auml;ge an Autoren der Artikel schicken',
'info_envoyer_maintenant' => 'Jetzt schicken',
'info_erreur_restauration' => 'Fehler bei der Wiederherstellung: Datei nicht vorhanden.',
'info_etape_suivante' => 'Weiter',
'info_etape_suivante_1' => 'Sie k&ouml;nnen den n&auml;chsten Schritt ausf&uuml;hren.',
'info_etape_suivante_2' => 'Sie k&ouml;nnen den n&auml;chsten Schritt ausf&uuml;hren.',
'info_exportation_base' => 'Export der Datenbank nach @archive@',
'info_facilite_suivi_activite' => 'Um die editorische Arbeit zu erleichtern kann SPIP Ver&ouml;ffentlichungsvorschl&auml;ge und Freischaltungen z.B. an eine Mailing-Liste der Redakteure schicken.',
'info_fichiers_authent' => '&#8220;.htpasswd&#8221; Dateien',
'info_fonctionnement_forum' => 'Funktionsweise des Forums:',
'info_forum_administrateur' => 'Forum der Administratoren',
'info_forum_interne' => 'Internes Forum',
'info_forum_ouvert' => 'Im Redaktionssystem der Website gibt es ein Forum f&uuml;r alle Redakteure. Sie k&ouml;nnen hier ein Forum <i>nur f&uuml;r Administratoren</i> einschalten.',
'info_forum_statistiques' => 'Besucherstatistiken',
'info_forums_abo_invites' => 'Ihre Website hat Foren f&uuml;r eingetragene Teilnehmer. Ihre Leser werden aus diesem Gund aufgefordert, sich bei Ihrer Website anzumelden.',
'info_gauche_admin_effacer' => '<B>Diese Seite ist nur f&uuml;r den Verantwortlichen der Website zug&auml;nglich.</b><P>Sie erlaubt bestimmte technische Wartungsvorg&auml;nge auszul&ouml;sen. F&uuml;r manche Funktionen ist die Authentifizierung per FTP Voraussetzung.',
'info_gauche_admin_tech' => '<B>Diese Seite ist nur f&uuml;r den Verantwortlichen der Website zug&auml;nglich.</b><P>Sie erlaubt bestimmte technische Wartungsvorg&auml;nge auszul&ouml;sen. F&uuml;r manche Funktionen ist die Authentifizierung per FTP Voraussetzung.',
'info_gauche_admin_vider' => '<B>Diese Seite ist nur f&uuml;r den Verantwortlichen der Website zug&auml;nglich.</b><P>Sie erlaubt bestimmte technische Wartungsvorg&auml;nge auszul&ouml;sen. F&uuml;r manche Funktionen ist die Authentifizierung per FTP Voraussetzung.',
'info_gauche_auteurs' => 'Hier sehen Sie alle Autoren der Website.
Ihr Status wird durch die Farbe ihres Symbols angezeigt (Redakteur = gr&uuml;n; Administrator = gelb). ',
'info_gauche_auteurs_exterieurs' => 'Externe Autoren ohne Zugang zum Redaktionssystem werden mit einem blauen Symbol gekennzeichnet, gel&ouml;schte Autoren haben eine M&uuml;lltonne als Symbol.',
'info_gauche_messagerie' => 'Nachrichtensystem: SPIP erm&ouml;glicht den Austausch von Nachrichten zwischen Redakteuren, pers&ouml;nliche Merkzettel und Ank&uuml;ndigungen im privaten Arbeitsbereich der Redakteure (nur Administratoren k&ouml;nnen diese verschicken).',
'info_gauche_numero_auteur' => 'AUTOR NUMMER',
'info_gauche_numero_breve' => 'MELDUNG NUMMER',
'info_gauche_statistiques_referers' => 'Diese Seite zeigt Ihnen <I>REFERER</i>, d.h. Webadressen mit Links zu Ihrer Website. Angezeigt werden nur Links von gestern und heute, diese Liste wird alle 24 Stunden auf Null gesetzt.',
'info_gauche_suivi_forum' => 'Die Seite zum Verwalten der Foren hat eine administrative Funktion und dient nicht zum Diskutieren mit den Lesern. Es werden alle Eintr&auml;ge im &ouml;ffentlichen Forum des Artikels gezeigt, so dass Sie diese einzeln ein- und ausschalten k&ouml;nnen.',
'info_gauche_suivi_forum_2' => 'Die Seite zum Verwalten der Foren hat eine administrative Funktion und dient nicht zum Diskutieren mit den Lesern. Es werden alle Eintr&auml;ge in &ouml;ffentlichen und internen Foren gezeigt, so dass Sie diese einzeln ein- und ausschalten k&ouml;nnen.',
'info_gauche_visiteurs_enregistres' => 'Hier sehen Sie die im &ouml;ffentlichen Bereich der Website angemeldeten Besucher (Teilnahme an Foren nur mit g&uuml;ltiger E-Mail Adresse).',
'info_generation_miniatures_images' => 'Anlegen der Vorschaubilder',
'info_gerer_trad' => '&Uuml;bersetzungslinks verwalten?',
'info_groupe_important' => 'Wichtige Kategorie',
'info_hebergeur_desactiver_envoi_email' => 'Manche ISPs verhindern den Versand von Mails mit PHP. Die Mailfunktionen von SPIP funktionieren dann nicht.',
'info_hier' => 'Gestern:',
'info_historique' => 'Versionen:',
'info_historique_activer' => 'Versionskontrolle aktivieren',
'info_historique_affiche' => 'Version anzeigen',
'info_historique_comparaison' => 'Vergleich',
'info_historique_desactiver' => 'Versionskontrolle abschalten',
'info_historique_lien' => 'Versionen anzeigen',
'info_historique_texte' => 'Die Versionskontrolle erm&ouml;glicht es, alle &Auml;nderungen an einem Artikel aufzuzeichnen und die Unterschiede zwischen aufeinander folgenden Versionen anzuzeigen.',
'info_historique_titre' => 'Versionskontrolle',
'info_identification_publique' => 'Ihre &ouml;ffentliche Identit&auml;t ...',
'info_image_process' => 'Bitte w&auml;hlen Sie das beste Verfahren zum Generieren der Miniaturbilder, indem Sie auf ein Bild klicken.',
'info_image_process2' => '<b>Bemerkung:</b> <i>Wenn kein Bild angezeigt wird, ist der Server ihrer Website nicht f&uuml;r die Verwendung solcher Werkzeuge eingerichtet. Wenn Sie diese Funktionen nutzen m&ouml;chten, wenden Sie sich bitte an den verantwortlichen Techniker und bitten ihn, die Erweiterungen &laquo;GD&raquo; oder &laquo;Imagick&raquo; einzurichten.</i>',
'info_informations_personnelles' => 'Schritt 5: <B>Pers&ouml;nliche Informationen</b>',
'info_inscription_automatique' => 'Automatische Anmeldung neuer Redakteure',
'info_jeu_caractere' => 'Zeichensatz der Website',
'info_jours' => 'Tage',
'info_laisser_champs_vides' => 'diese Felder frei lassen)',
'info_langues' => 'Sprachen der Website',
'info_ldap_ok' => 'Die LDAP-Authentifizierung ist installiert.',
'info_lien_hypertexte' => 'Hyperlink:',
'info_liens_syndiques_1' => 'Links (Syndikation)',
'info_liens_syndiques_2' => 'warten auf Freigabe.',
'info_liens_syndiques_3' => 'Foren',
'info_liens_syndiques_4' => 'sind',
'info_liens_syndiques_5' => 'Forum',
'info_liens_syndiques_6' => 'ist',
'info_liens_syndiques_7' => 'warten auf Freigabe',
'info_liste_redacteurs_connectes' => 'Liste der zur Zeit angemeldeten Redakteure',
'info_login_existant' => 'Dieser Login-Name ist bereits vergeben.',
'info_login_trop_court' => 'Login-Name zu kurz.',
'info_maximum' => 'Maximum:',
'info_meme_rubrique' => 'In der gleichen Rubrik',
'info_message' => 'Nachricht vom ',
'info_message_efface' => 'NACHRICHT GEL&Ouml;SCHT',
'info_message_en_redaction' => 'IHRE NACHRICHTEN IN BEARBEITUNG',
'info_message_technique' => 'Technische Nachricht:',
'info_messagerie_interne' => 'Interne Nachrichten',
'info_mise_a_niveau_base' => 'Update Ihrer MySQL-Datenbank',
'info_mise_a_niveau_base_2' => '{{ACHTUNG!}} Sie haben eine {&auml;ltere} Version der SPIP-Dateien installiert als sich vorher auf Ihrem Server befand. Ihre Datenbank wird m&ouml;glicherweise zerst&ouml;rt und Ihre Website wird nict mehr funktionieren.<br>{{Installieren Sie noch einmal die aktuelle Version von SPIP.}}',
'info_mode_fonctionnement_defaut_forum_public' => 'Standardmodus der &ouml;ffentlichen Foren',
'info_modifier_breve' => 'Meldung bearbeiten:',
'info_modifier_rubrique' => 'Rubrik bearbeiten:',
'info_modifier_titre' => 'Bearbeiten: @titre@',
'info_mon_site_spip' => 'Meine SPIP-Site',
'info_mot_sans_groupe' => '(Ohne Kategorie...)',
'info_moteur_recherche' => 'Integrierte Suchfunktion',
'info_mots_cles' => 'Schlagworte',
'info_mots_cles_association' => 'Schlagworte dieser Kategorie k&ouml;nnen zugeordnet werden:',
'info_moyenne' => 'Durchschnitt: ',
'info_multi_articles' => 'Sprachauswahl f&uuml;r Artikel aktivieren?',
'info_multi_cet_article' => 'Dieser Artikel ist auf:&nbsp;',
'info_multi_langues_choisies' => 'Bitte w&auml;hlen Sie hier die Sprachen aus, die den Redakteuren Ihrer Website zur Verf&uuml;gung stehen sollen. Die Sprachen, welche bereits in Ihrer Website verwendet werden (oben auf der Liste), k&ouml;nnen nicht abgeschaltet werden.',
'info_multi_rubriques' => 'Sprachauswahl f&uuml;r Rubriken aktivieren?',
'info_multi_secteurs' => '... nur f&uuml;r Rubriken der obersten Ebene?',
'info_nom' => 'Name',
'info_nom_destinataire' => 'Name des Empf&auml;ngers',
'info_nom_site' => 'Name Ihrer Website',
'info_nom_site_2' => '<b>Name der Website</b> [Pflichtfeld]',
'info_nombre_articles' => '@nb_articles@ Artikel,',
'info_nombre_breves' => '@nb_breves@ Kurzmeldugen, ',
'info_nombre_partcipants' => 'TEILNEHMER DER DISKUSSION:',
'info_nombre_rubriques' => '@nb_rubriques@ Rubriken, ',
'info_nombre_sites' => '@nb_sites@ Websites, ',
'info_non_deplacer' => 'Bitte nicht verschieben...',
'info_non_envoi_annonce_dernieres_nouveautes' => 'SPIP kann regelm&auml;&szlig;ig die letzten Neuigkeiten der Website verschicken. (vor Kurzem erschienene Artikel und Meldungen).',
'info_non_envoi_liste_nouveautes' => 'Keine Liste der Neuigkeiten verschicken.',
'info_non_modifiable' => 'kann nicht ge&auml;ndert werden.',
'info_non_suppression_mot_cle' => 'ich m&ouml;chte dieses Schlagwort nicht l&ouml;schen.',
'info_notes' => 'Notizen',
'info_nouveaux_message' => 'Neue Nachrichten',
'info_nouvel_article' => 'Neuer Artikel',
'info_nouvelle_traduction' => 'Neue &Uuml;bersetzung:',
'info_numero_article' => 'ARTIKEL NUMMER:',
'info_obligatoire_02' => '[Erforderlich]',
'info_option_accepter_visiteurs' => 'Besucher d&uuml;rfen sich als Leser der Website anmelden.',
'info_option_email' => 'Wenn ein Besucher einen Beitrag im Forum eines Artikels postet, kann SPIP ihn an den Autor des Artikels schicken. M&ouml;chten Sie diese Funktion nutzen?',
'info_option_faire_suivre' => 'Forumsbeitr&auml;ge an Autoren der Artikel schicken.',
'info_option_ne_pas_accepter_visiteurs' => 'Anmeldung von Lesern verhindern',
'info_option_ne_pas_faire_suivre' => 'Keine Beitr&auml;ge aus den Foren an die Autoren verschicken.',
'info_options_avancees' => 'SPEZIALFUNKTIONEN',
'info_ortho_activer' => 'Rechtschreibpr&uuml;fung aktivieren',
'info_ortho_desactiver' => 'Rechtschreibpr&uuml;fung abschalten',
'info_ou' => 'oder ... ',
'info_oui_suppression_mot_cle' => ' ich m&ouml;chte dieses Schlagwort endg&uuml;ltig l&ouml;schen.',
'info_page_interdite' => 'Seite gesperrt',
'info_par_nombre_article' => ' (nach Anzahl der Artikel)',
'info_par_tri' => ' (nach @tri@)',
'info_pas_de_forum' => 'kein Forum',
'info_passe_trop_court' => 'Passwort zu kurz.',
'info_passes_identiques' => 'Die zwei Passworte stimmen nicht &uuml;berein.',
'info_pense_bete_ancien' => 'Ihre alten Merkzettel',
'info_plus_cinq_car' => 'mehr als 5 Zeichen',
'info_plus_cinq_car_2' => '(mehr als 5 Zeichen)',
'info_plus_trois_car' => '(mehr als 3 Zeichen)',
'info_popularite' => 'Beliebtheit: @popularite@ ; Besuche: @visites@',
'info_popularite_2' => 'Beliebtheit der Website: ',
'info_popularite_3' => 'Beliebtheit: @popularite@ ; Besuche: @visites@',
'info_popularite_4' => 'Beliebtheit: @popularite@ ; Besuche: @visites@',
'info_post_scriptum' => 'Post-Scriptum',
'info_post_scriptum_2' => 'Post-scriptum:',
'info_pour' => 'f&uuml;r',
'info_preview_admin' => 'Nur Administratoren k&ouml;nnen die Vorschau nutzen',
'info_preview_comite' => 'Alle Redakteure k&ouml;nnen die Vorschau nutzen',
'info_preview_desactive' => 'Vorschau deaktiviert',
'info_preview_texte' => 'Man kann sich die Website so anzeigen lassen, als ob alle Artikel ver&ouml;ffentlicht w&auml;ren, die mindestens den Status &laquo;&nbsp;vorgeschlagen&nbsp;&raquo; haben. Wem soll diese M&ouml;glichkeit zur Verf&uuml;gung stehen (Adminsitratoren, Redakteure, niemand)?',
'info_principaux_correspondants' => 'Ihre wichtigsten Korrespondezpartner',
'info_procedez_par_etape' => 'gehen Sie Schritt f&uuml;r Schritt vor',
'info_procedure_maj_version' => 'Sie m&uuml;ssen die Update-Funktion starten, um Ihre Datenbank an die neue Version von SPIP anzupassen.',
'info_ps' => 'P.S.',
'info_publies' => 'Ihre ver&ouml;ffentlichten Artikel',
'info_question_accepter_visiteurs' => 'Bitte aktivieren Sie die folgende Option, wenn sich Besucher Ihrer Website als <i>Leser ohne Zugang zum Redaktionssystem</i> anmelden k&ouml;nnen.',
'info_question_gerer_statistiques' => 'Soll SPIP Besucherstatistiken anlegen?',
'info_question_inscription_nouveaux_redacteurs' => 'M&ouml;chten Sie, dass sich neue Redakteure vom &ouml;ffentlichen Bereich aus anmelden k&ouml;nnen? Wenn Sie das erm&ouml;glichen, k&ouml;nnen sich Besucher &uuml;ber ein automatisch erstelltes Formular anmelden und Artikel vorschlagen. <blockquote><i>Nach der Anmeldung erhalten die neuen Redakteure automatisch eine E-Mail mit ihren Zugangsdaten. manche Webhoster unterbinden den Mailversand von ihren Webservern aus. In diesem Fall funktioniert die automatische Anmeldung nicht.',
'info_question_mots_cles' => 'M&ouml;chten Sie Schlagworte f&uuml;r Ihre Website verwenden?',
'info_question_proposer_site' => 'Wer darf Websites zur Verlinkung vorschlagen?',
'info_question_utilisation_moteur_recherche' => 'Wollen Sie die integrierte Suchfunktion von SPIP verwenden? (ohne Suchfunktion wird Ihr System schneller.)',
'info_qui_attribue_mot_cle' => 'Schlagworte dieser Kategorie k&ouml;nnen zugeordnet werden von:',
'info_racine_site' => 'OBERSTE EBENE DER WEBSITE',
'info_recharger_page' => 'Bitte laden Sie diese Seite in ein paar Augenblicken erneut.',
'info_recherche_auteur_a_affiner' => 'Zu viele Fundstellen f&uuml;r R20;@cherche_auteur at R21; - bitte grenzen Sie die Suche ein.',
'info_recherche_auteur_ok' => 'Zu &bdquo;@cherche_auteur@&ldquo; wurde mehrere Autoren gefunden:',
'info_recherche_auteur_zero' => 'Dem Kriterium ?@cherche_auteur@? entspricht kein Autor.',
'info_recommencer' => 'Bitte wiederholen.',
'info_redacteur_1' => 'Redakteur',
'info_redacteur_2' => 'mit Zugang zum Redaktionssystem (<i>empfohlen</i>)',
'info_redacteurs' => 'Redakteure',
'info_redaction_en_cours' => 'IN BEARBEITUNG',
'info_redirection' => 'Umleitung',
'info_refuses' => 'Ihre abgelehnten Artikel',
'info_reglage_ldap' => 'Optionen: <B>LDAP-Import Einstellungen</b>',
'info_renvoi_article' => '<B>Umleitung.</b> Dieser Artikel zeigt auf die Seite: ',
'info_reserve_admin' => 'Nur Administratoren k&ouml;nnen diese Seite &auml;ndern.',
'info_restauration_sauvegarde' => 'Wiederherstellung der Sicherung @archive@',
'info_restreindre_rubrique' => 'Administrationsrechte auf diese Rubrik beschr&auml;nken:',
'info_resultat_recherche' => 'Suchergebnisse:',
'info_rubriques' => 'Rubriken',
'info_rubriques_02' => 'Rubriken',
'info_rubriques_liees_mot' => 'Mit diesem Schlagwort verkn&uuml;pfte Rubriken',
'info_rubriques_trouvees' => 'Rubriken gefunden',
'info_rubriques_trouvees_dans_texte' => 'Rubriken gefunden (im Text)',
'info_sans_titre' => 'Ohne Titel',
'info_sauvegarde' => 'Sicherung',
'info_sauvegarde_articles' => 'Artikel sichern',
'info_sauvegarde_articles_sites_ref' => 'Artikel der verlinkten Sites sichern',
'info_sauvegarde_auteurs' => 'Autoren sichern',
'info_sauvegarde_breves' => 'Meldungen sichern',
'info_sauvegarde_documents' => 'Dokumente sichern',
'info_sauvegarde_echouee' => 'Falls die Sicherung fehlgeschlagen ist(&bdquo;Maximum execution time exceeded&ldquo;),',
'info_sauvegarde_forums' => 'Foren sichern',
'info_sauvegarde_groupe_mots' => 'Schlagwort-Kategorien sichern',
'info_sauvegarde_messages' => 'Nachrichten sichern',
'info_sauvegarde_mots_cles' => 'Schlagworte sichern',
'info_sauvegarde_petitions' => 'Petitionen sichern',
'info_sauvegarde_refers' => 'Referer sichern',
'info_sauvegarde_reussi_01' => 'Sicherung abgeschlossen.',
'info_sauvegarde_reussi_02' => 'Die Datenbank wurde in<b>ecrire/data/@archive@</b> gesichert. Sie k&ouml;nnen ',
'info_sauvegarde_reussi_03' => 'zur Administration',
'info_sauvegarde_reussi_04' => 'Ihrer Site zur&uuml;ckkehren.',
'info_sauvegarde_rubriques' => 'Rubriken sichern',
'info_sauvegarde_signatures' => 'Unterschriften der Petitionen sichern',
'info_sauvegarde_sites_references' => 'Verlinkte Websites sichern',
'info_sauvegarde_type_documents' => 'Dokumenttypen sichern',
'info_sauvegarde_visites' => 'Besucherzahlen sichern',
'info_selection_chemin_acces' => '<b>W&auml;hlen Sie</b> hier den Pfad zu Ihrem Verzeichnis:',
'info_selection_un_seul_mot_cle' => 'In dieser Kategorie kann man nur <b>ein Schlagwort auf einmal</b> ausw&auml;hlen.',
'info_signatures' => 'Unterschriften',
'info_site' => 'Website',
'info_site_2' => 'Website: ',
'info_site_min' => 'Website',
'info_site_propose' => 'Website vorgeschlagen am:',
'info_site_reference_2' => 'Verlinkte Website',
'info_site_syndique' => 'Diese Website ist syndiziert...',
'info_site_valider' => 'Websites, die auf Freigabe warten',
'info_site_web' => 'WEBSITE:',
'info_sites' => 'Websites',
'info_sites_lies_mot' => 'Mit dieser Website verkn&uuml;pfte Schlagworte',
'info_sites_proxy' => 'HTTP-Proxy verwenden',
'info_sites_refuses' => 'Abgelehnte Websites',
'info_sites_trouves' => 'Gefundene Websites',
'info_sites_trouves_dans_texte' => 'Gefundene Websites (im Text)',
'info_sous_titre' => 'Untertitel:',
'info_statut_administrateur' => 'Administrator',
'info_statut_auteur' => 'Status des Autors:',
'info_statut_efface' => 'Gel&ouml;scht',
'info_statut_redacteur' => 'Redakteur',
'info_statut_site_1' => 'Diese Website ist:',
'info_statut_site_2' => 'Ver&ouml;ffentlicht',
'info_statut_site_3' => 'Vorgeschlagen',
'info_statut_site_4' => 'Gel&ouml;scht',
'info_statut_utilisateurs_1' => 'Vorgegebener Status der importierten Benutzer',
'info_statut_utilisateurs_2' => 'W&auml;hlen Sie den Status, der Personen im LDAP-Verzeichnis zugeordnet wird, wenn sie sich zum ersten Mal anmelden. Sie k&ouml;nnen diesen Wert sp&auml;ter f&uuml;r jeden Autor individuell einstellen.',
'info_suivi_activite' => 'Unterst&uuml;tzung der Redaktionsabl&auml;ufe',
'info_supprimer_mot' => 'Wort l&ouml;schen',
'info_surtitre' => 'Einleitender Titel:',
'info_taille_maximale_vignette' => 'Maximale Gr&ouml;sse der Icons des Systems:',
'info_terminer_installation' => 'Sie k&ouml;nnen jetzt die Standardinstallation abschliessen.',
'info_texte' => 'Text',
'info_texte_explicatif' => 'Beschreibung',
'info_texte_long' => '(Das ist ein langer Text. Er wird in mehreren Teilen angezeigt, die nach der Ver&ouml;ffentlichung zusammen gef&uuml;gt werden.)',
'info_texte_message' => 'Text Ihrer Nachricht:',
'info_texte_message_02' => 'Text Ihrer Nachricht',
'info_titre' => 'Titel:',
'info_titre_mot_cle' => 'Name oder Titel des Schlagworts',
'info_total' => 'Gesamt: ',
'info_tous_articles_en_redaction' => 'Alle Artikel in Bearbeitung',
'info_tous_articles_presents' => 'Alle ver&ouml;ffentlichten Artikel dieser Rubrik',
'info_tous_les' => 'alle',
'info_tous_redacteurs' => 'Ank&uuml;ndigung f&uuml;r alle Redakteure',
'info_tout_site' => 'Ganze Website',
'info_tout_site2' => 'Der Artikel wurde nicht in diese Sprache &uuml;bersetzt.',
'info_tout_site3' => 'Der Artikel wurde in diese Sprache &uuml;bersetzt, aber der Originalartikel wurde erneut ver&auml;ndert. Die &Uuml;bersetzung muss &uuml;berarbeitet werden.',
'info_tout_site4' => 'Der Artikel wurde in diese Sprache &uuml;bersetzt und die &Uuml;bersetzung ist aktuel.',
'info_tout_site5' => 'Originalartikel.',
'info_tout_site6' => '<b>Achtung:</b> Nur die Originalartikel werden aufgelistet..
Die &Uuml;bersetzungen entsprechen dem Original,
in einer Farbe, die den Status anzeigt&nbsp;:',
'info_travail_colaboratif' => 'Gemeinsame Arbeit an den Artikeln',
'info_un_article' => ' ein Artikel, ',
'info_un_mot' => 'Nur ein Wort auf einmal',
'info_un_site' => ' eine Website, ',
'info_une_breve' => 'Eine Meldung, ',
'info_une_rubrique' => ' eine Rubrik, ',
'info_une_rubrique_02' => '1 Rubrik',
'info_url' => 'URL:',
'info_url_site' => 'URL DER WEBSITE:',
'info_urlref' => 'Hyperlink:',
'info_utilisation_spip' => 'Sie k&ouml;nnen jetzt das CMS verwenden ...',
'info_visites_par_mois' => 'Anzeige pro Monat:',
'info_visites_plus_populaires' => 'Seitenabrufe f&uuml;r die <b>beliebtesten Artikel</b> und die <b>letzten ver&ouml;ffentlichten Artikel:</b>',
'info_visiteur_1' => 'Besucher',
'info_visiteur_2' => 'des &ouml;ffentlichen Bereichs',
'info_visiteurs' => 'Besucher',
'info_visiteurs_02' => 'Besucher des &ouml;ffentlichen Bereichs',
'install_select_langue' => 'W&auml;hlen Sie eine Sprache aus und klicken Sie auf &laquo;Weiter&raquo;, um die Installation zu starten.',
'intem_redacteur' => 'Redakteur',
'item_accepter_inscriptions' => 'Anmeldungen erlauben',
'item_activer_forum_administrateur' => 'Admin-Forum aktivieren',
'item_activer_messages_avertissement' => 'Aktuelle Benachrichtigungen einschalten',
'item_administrateur_2' => 'Administrator',
'item_afficher_calendrier' => 'Im Kalender anzeigen',
'item_ajout_mots_cles' => 'Schlagworte der Foren erlauben',
'item_autoriser_documents_joints' => 'Dokumente zu Artikeln erlauben',
'item_autoriser_documents_joints_rubriques' => 'Dokumente zu Rubriken erlauben',
'item_bloquer_liens_syndiques' => 'Syndizierte Websites bis zur Freigabe sperren',
'item_breve_refusee' => 'NEIN - Meldung abgelehnt',
'item_breve_validee' => 'JA - Meldung freigegeben',
'item_choix_administrateurs' => 'Administratoren',
'item_choix_generation_miniature' => 'Vorschaubilder automatisch generieren.',
'item_choix_non_generation_miniature' => 'Keine Vorschaubilder generieren.',
'item_choix_redacteurs' => 'Redakteure',
'item_choix_visiteurs' => 'Besucher im &ouml;ffentlichen Bereich',
'item_creer_fichiers_authent' => '.htpasswd-Dateien anlegen',
'item_desactiver_forum_administrateur' => 'Admin-Forum abschalten',
'item_gerer_annuaire_site_web' => 'Website-Verzeichnis verwalten',
'item_gerer_statistiques' => 'Statistiken verwalten',
'item_limiter_recherche' => 'Suche auf eigene Website begrenzen',
'item_login' => 'Login',
'item_mots_cles_association_articles' => 'Artikeln zuordnen',
'item_mots_cles_association_breves' => 'Meldungen zuordnen',
'item_mots_cles_association_rubriques' => 'Rubriken zuordnen',
'item_mots_cles_association_sites' => 'syndizierten Websites zuordnen.',
'item_non' => 'Nein',
'item_non_accepter_inscriptions' => 'Anmeldungen verhindern',
'item_non_activer_messages_avertissement' => 'Keine aktuellen Benachrichtigungen',
'item_non_afficher_calendrier' => 'Nicht im Kalender anzeigen',
'item_non_ajout_mots_cles' => 'Verwendung von Schlagworten f&uuml;r Foren verhindern',
'item_non_autoriser_documents_joints' => 'Zuordnung von Dokumenten zu Artikeln abschalten',
'item_non_autoriser_documents_joints_rubriques' => 'Verwendung von Dokumenten in Rubriken abschalten',
'item_non_bloquer_liens_syndiques' => 'Links zu syndizierten Websites nicht sperren',
'item_non_creer_fichiers_authent' => 'Diese Dateien nicht anlegen',
'item_non_gerer_annuaire_site_web' => 'Website-Verzeichnis abschalten',
'item_non_gerer_statistiques' => 'Keine Statistiken anlegen',
'item_non_limiter_recherche' => 'Inhalt verlinkter Websites in die Suchmaschine aufnehmen',
'item_non_publier_articles' => 'Artikel nicht vor dem eingestellten Datum ver&ouml;ffentlichen.',
'item_non_utiliser_breves' => 'Keine Meldungen verwenden.',
'item_non_utiliser_config_groupe_mots_cles' => 'Keine erweiterte Schlagwortkonfiguration verwenden.',
'item_non_utiliser_moteur_recherche' => 'Suchmaschine nicht verwenden.',
'item_non_utiliser_mots_cles' => 'Keine Schlagworte verwenden',
'item_non_utiliser_syndication' => 'Keine automatische Syndikation verwenden',
'item_nouvel_auteur' => 'Neuer Autor',
'item_nouvelle_breve' => 'Neue Meldung',
'item_nouvelle_rubrique' => 'Neue Rubrik',
'item_oui' => 'Ja',
'item_publier_articles' => 'Sofort ver&ouml;ffentlichen, egal welches Datum ein Artikel tr&auml;gt. ',
'item_reponse_article' => 'Antwort auf Artikel',
'item_utiliser_breves' => 'Meldungen verwenden',
'item_utiliser_config_groupe_mots_cles' => 'Erweiterte Schlagwortkonfiguration verwenden',
'item_utiliser_moteur_recherche' => 'Suchmaschine verwenden',
'item_utiliser_mots_cles' => 'Schlagworte verwenden',
'item_utiliser_syndication' => 'Automatische Syndikation verwenden',
'item_visiteur' => 'Besucher',


// J
'jour_non_connu_nc' => 'unbekannt',


// L
'lien_ajout_destinataire' => 'Empf&auml;nger hinzuf&uuml;gen',
'lien_ajouter_auteur' => 'Autor hinzuf&uuml;gen',
'lien_ajouter_participant' => 'Teilnehmer hinzuf&uuml;gen',
'lien_email' => 'E-Mail',
'lien_forum_public' => '&Ouml;ffentliches Forum f&uuml;r diesen Artikel verwalten',
'lien_mise_a_jour_syndication' => 'Jetzt aktualisieren',
'lien_nom_site' => 'NAME DER WEBSITE:',
'lien_nouvelle_recuperation' => 'Abruf der Daten erneut versuchen',
'lien_reponse_article' => 'Antwort auf Artikel',
'lien_reponse_breve' => 'Antwort auf Meldung',
'lien_reponse_breve_2' => 'Antwort auf Meldung',
'lien_reponse_rubrique' => 'Antwort auf Rubrik',
'lien_reponse_site_reference' => 'Antwort auf verlinkte Website:',
'lien_retirer_auteur' => 'Autor entfernen',
'lien_retrait_particpant' => 'Teilnehmer entfernen',
'lien_site' => 'Website',
'lien_supprimer_rubrique' => 'Rubrik l&ouml;schen',
'lien_tout_deplier' => 'Alle anzeigen',
'lien_tout_replier' => 'Alle ausblenden',
'lien_trier_nom' => 'Nach Namen sortieren',
'lien_trier_nombre_articles' => 'Nach Zahl der Artikel sortieren',
'lien_trier_statut' => 'Nach Status sortieren',
'lien_voir_en_ligne' => 'ONLINE ANZEIGEN:',
'logo_article' => 'ARTIKEL-LOGO',
'logo_auteur' => 'AUTOREN-LOGO',
'logo_breve' => 'MELDUNGS-LOGO',
'logo_mot_cle' => 'SCHLAGWORT-LOGO',
'logo_rubrique' => 'RUBRIK-LOGO',
'logo_site' => 'WEBSITE-LOGO',
'logo_standard_rubrique' => 'STANDARD-LOGO F&Uuml;R RUBRIKEN',
'logo_survol' => 'MOUSEOVER-LOGO',


// M
'menu_aide_installation_choix_base' => 'Datenbank ausw&auml;hlen',
'module_fichier_langue' => 'Sprachdatei',
'module_raccourci' => 'Abk&uuml;rzung',
'module_texte_affiche' => 'angezeigter Text',
'module_texte_explicatif' => 'Sie k&ouml;nnen die folgenden Abk&uuml;rzungen in den HTML-Vorlagen Ihrer Website verwenden. Sie werden automatisch in den Sprachen angezeigt, f&uuml;r die eine Sprachdatei existiert.',
'module_texte_traduction' => 'Die Sprachdatei f&uuml;r &laquo;&nbsp;@module@&nbsp;&raquo; liegt vor auf&nbsp;',
'mois_non_connu' => 'unbekannt',


// O
'onglet_repartition_actuelle' => 'zur Zeit',
'ortho_ajouter_ce_mot' => 'Wort zum W&ouml;rterbuch hinzuf&uuml;gen',
'ortho_aucune_suggestion' => 'F&uuml;r dieses Wort wurde kein Vorschlag gefunden.',
'ortho_avis_privacy' => 'SPIP hat eine integrierte Rechtschreibkorrektur. Vor dem Aktivieren lesen sie bitte diesen Text aufmerksam durch:',
'ortho_avis_privacy2' => 'Damit die Rechtschreibung eines Texts &uuml;berpr&uuml;ft werden kann, schickt SPIP die Worte an &laquo;Orthographieserver&raquo;, die von Mitgliedern der SPIP-Gemeinde zur Verf&uuml;gung gestellt werden. Die Worte werden in zuf&auml;lliger Reihenfolge &uuml;bertragen, um ein Maximun an Vertraulichkeit zu erm&ouml;glichen. Wenn Ihnen diese Methode nicht sicher genug ist, verzichten sie bitte darauf, die Rechtschreibpr&uuml;fung zu aktivieren (und entfernen ihre Informationen sofort aus dem Internet).',
'ortho_ce_mot_connu' => 'Dieses Wort steht im W&ouml;rterbuch der Website.',
'ortho_dico_absent' => 'F&uuml;r diese Sprache wurde kein W&ouml;rterbuch gefunden.',
'ortho_mode_demploi' => 'Nicht erkannte Worte sind rot markiert. Sie k&ouml;nnen auf jedes Wort klicken, um die Korrekturvorschl&auml;ge anzuzeigen.',
'ortho_mots_a_corriger' => 'Zu korrigieren',
'ortho_orthographe' => 'Orthographie',
'ortho_supprimer_ce_mot' => 'Wort aus dem W&ouml;rerbuch l&ouml;schen',
'ortho_trop_de_fautes' => 'Achtung: Ihr Text enth&auml;lt zu viele Fehler. Es wurden keine Korrekturvorschl&auml;ge gemacht, um das System nicht zu &uuml;berlasten.',
'ortho_verif_impossible' => 'Das System kann die Rechtschreibung dieses Texts nicht pr&uuml;fen.',
'ortho_verifier' => 'Rechtschreibung pr&uuml;fen',


// S
'statut_admin_restreint' => '(Rubrik-Admin)',


// T
'taille_cache_infinie' => 'Die Gr&ouml;sse des <code>CACHE/</code> dieser Website wird nicht begrenzt.',
'taille_cache_maxi' => 'SPIP versucht die Gr&ouml;sse des <code>CACHE/</code> der Website auf ca. <b>@octets@</b> Byte zu begrenzen.',
'taille_cache_octets' => 'Aktuelle Gr&ouml;sse des Cache: @octets@ Byte',
'taille_cache_vide' => 'Der Cache ist leer.',
'taille_repertoire_cache' => 'Gr&ouml;sse des Cache-Verzeichnis',
'text_article_propose_publication' => 'Dieser Artikel ist zur Ver&ouml;ffentlichung vorgeschlagen. Bitte teilen Sie den anderen Autoren Ihre Meinung im Forum zu diesem Artikel mit. Sie finden es weiter unten auf dieser Seite.',
'texte_acces_ldap_anonyme_1' => 'Manche LDAP-Server erlauben keinen anonymen Zugriff. In diesem Fall muss man Zugangsdaten f&uuml;r die erste Anmeldung eingeben, um Informationen im Verzeichnis suchen zu k&ouml;nnen. Meistens kann man hingegen die folgenden Felder frei lassen.',
'texte_admin_effacer_01' => 'Dieser Befehl l&ouml;scht den <i>gesamten</i> Inhalt der Datenbank mit <i>allen</i> Redakteuren und Administratoren. Nach der Ausf&uuml;hrung dieses Befehls m&uuml;ssen Sie SPIP neu installieren und einen ersten Administrator anlegen.',
'texte_admin_tech_01' => 'Diese Option erm&ouml;glicht es, den Inhalt der Datenbank in das Verzeichnis <i>ecrire/data/</i> zu sichern. Vergessen Sie bitte nicht, ebenfalls den Inhalt des Verzeichnisses <i>IMG/</i> zu sichern, denn es enth&auml;lt s&auml;mtliche Bilder und Grafiken, die f&uuml;r Rubriken und Artikel verwendet werden.',
'texte_admin_tech_02' => 'Achtung: Diese Sicherungskopie kann AUSSCHLIESSLICH in eine Website wieder eingespielt werden, die unter der gleichen Version von SPIP l&auml;uft. Bitte verwenden Sie keine Sicherungskopie, um den Inhalt einer Website nach einem Update wieder einzuspielen. Mehr dazu steht in der <a href="http://www.spip.net/fr_article1489.html">die SPIP Dokumentation</a>.



',
'texte_admin_tech_03' => 'Sie k&ouml;nnen die Daten in komprimierter Form sichern und damit Speicherplatz auf dem Server und Downloadzeit sparen.',
'texte_adresse_annuaire_1' => '(Wenn Ihr Verzeichnis auf dem selben Rechner installiert ist wie diese Website, m&uuml;ssen Sie wahrscheinlich &bdquo;localhost&ldquo; angeben.)',
'texte_ajout_auteur' => 'Folgender Autor ist diesem Artikel zugeordnet worden:',
'texte_annuaire_ldap_1' => 'Wenn Sie Zugang zu einem LDAP-Verzeichnis haben, k&ouml;nnen Sie es verwenden, um Benutzer automatisch nach SPIP zu importieren.',
'texte_article_statut' => 'Dieser Artikel ist:',
'texte_article_virtuel' => 'Virtueller Artikel',
'texte_article_virtuel_reference' => '<b>Virtueller Artikel:</b> Dieser Artikel ist Teil Ihrer Website, leitet Besucher aber zu einer anderen URL um. Sie k&ouml;nnen die Umleitung abschalten, indem Sie den URL oben l&ouml;schen.',
'texte_aucun_resultat_auteur' => 'Kein Ergebnis f&uuml;r &#8220;@cherche_auteur@&#8221;',
'texte_auteur_messagerie' => 'Die Website kann Ihnen eine Liste aktuell eingelogter Redakteure anzeigen, so dass Sie sofort miteinander in Kontakt treten k&ouml;nnen (Wenn das Nachrichtensystem abgeschaltet ist, gibt es auch keine Liste angemeldeter Redakteure). Sie haben die M&ouml;glichkeit, nicht in diese Liste aufgenommen zu werden (damit sind Sie f&uuml;r andere Benutzer ?unsichtbar?).',
'texte_auteur_messagerie_1' => 'Diese Webbsite erm&ouml;glicht den Austausch interner Nachrichten und das Anlegen von Foren f&uuml;r Diskussionen zwischen Teilnehmern der Site. Sie k&ouml;nnen Ihre Teilnahme daran abschalten.',
'texte_auteurs' => 'AUTOREN',
'texte_breves' => 'Meldungen sind kurze einfache Texte, um schnell und unkompliziert Nachrichten, eine Presseschau oder einen Veranstaltungskalender zu publizieren ...',
'texte_choix_base_1' => 'W&auml;hlen Sie die Datenbank:',
'texte_choix_base_2' => 'Der MySQL-Server enth&auml;lt mehrere Datenbanken.',
'texte_choix_base_3' => '<B>W&auml;hlen</b> Sie die von Ihrem Webhoster f&uuml;r Sie angelegte aus:',
'texte_commande_vider_tables_indexation' => 'Verwenden Sie diese Funktion, um die Tabellen der integrierten Suchmaschine zu l&ouml;schen. Damit sparen Sie Speicherplatz.',
'texte_comment_lire_tableau' => 'Die Position eines Artikels wird durch einen Balken angezeigt. Seine Popularit&auml;t (eine Sch&auml;tzung der t&auml;glichen Besucher im Fall, dass die Zugriffe konstant bleiben) und die Anzahl der Besuche von Anfang an werden angezeigt, wenn der Mauszeiger &uuml;ber den Titel bewegt wird.',
'texte_compresse_ou_non' => '(kann komprimiert oder unkomprimiert sein)',
'texte_compte_element' => '@count@ Element',
'texte_compte_elements' => '@count@ Elemente',
'texte_config_groupe_mots_cles' => 'M&ouml;chten Sie die erweiterten Einstellungen f&uuml;r Schlagworte einschalten? Sie k&ouml;nnen dann z.B. die Zuordnungen auf ein Wort pro Kategorie begrenzen, eine Kategorie als besonders wichtig definieren etc.',
'texte_connexion_mysql' => 'Sie erhalten die erforderlichen Informationen von Ihrem Webspace-Provider. Sie erfahren von ihm, ob Ihr Server MySQL unterst&uuml;tzt und welche Verbindungsdaten erforderlich sind.',
'texte_contenu_article' => '(Zusammenfassung des Artikels in wenigen Worten.)',
'texte_contenu_articles' => 'Ja nach Vorlage, die Sie f&uuml;r Ihre Website verwenden, k&ouml;nnen Sie Elemente von Artikeln aktivieren oder abschalten. Bitte bestimmen Sie mit dieser Liste, welche Elemente verf&uuml;gbar sein sollen.',
'texte_crash_base' => 'Wenn Ihre Datenbank abgest&uuml;rzt ist, k&ouml;nnen Sie eine automatische Reparatur versuchen.',
'texte_creer_rubrique' => 'Bevor Sie Artikel schreiben k&ouml;nnen,<BR> m&uuml;ssen Sie eine Rubrik anlegen.',
'texte_date_creation_article' => 'ARTIKEL ANGELEGT AM:',
'texte_date_publication_anterieure' => 'DATUM EINER FR&Uuml;HEREN VER&Ouml;FFENTLICHUNG',
'texte_date_publication_anterieure_nonaffichee' => 'Kein Datum einer fr&uuml;heren Ver&ouml;ffentlichung anzeigen.',
'texte_date_publication_article' => 'ONLINE VER&Ouml;FFENTLICHT AM:',
'texte_demander_blocage_priori' => 'Die n&auml;chsten Links dieser Website werden zun&auml;chst gesperrt.',
'texte_descriptif_petition' => 'Beschreibung der Petition',
'texte_descriptif_rapide' => 'Kurzbeschreibung',
'texte_documents_joints' => 'Sie k&ouml;nnen die Zuordnung von Dokumenten (Office-Dokumente, Bilder, Multimedia-Dateien, etc.) zu Artikeln und/oder Rubriken erlauben. Diese Dokumente k&ouml;nnen anschliessend innerhalb von Artikeln verlinkt oder separat angezeigt werden.<p>',
'texte_documents_joints_2' => 'Diese Einstellung widerspricht nicht dem Einf&uuml;gen von Bildern in Artikel.',
'texte_effacer_base' => 'SPIP-Datenbank l&ouml;schen',
'texte_effacer_donnees_indexation' => 'Indexe l&ouml;schen',
'texte_en_cours_validation' => 'Die folgenden Artikel und Meldungen sind zur Ver&ouml;ffentlichung vorgeschlagen. Bitte teilen Sie den anderen Autoren Ihre Meinung in den Foren mit, die Ihnen zugeordnet sind.',
'texte_enrichir_mise_a_jour' => 'Sie k&ouml;nnen Ihren Text ansprechend gestalten, indem Sie die &bdquo;typografischen Abk&uuml;rzungen&ldquo; verwenden.',
'texte_fichier_authent' => 'Soll SPIP die Dateien <tt>.htpasswd</tt> und <tt>.htpasswd-admin</tt> im Verzeichnis <tt>ecrire/data/</tt> anlegen?</b><p> Mit diesen Dateien k&ouml;nnen Sie den Zugang zu anderen Bereichen Ihrer Website (z.B. externe Logfile-Auswertungen) auf Redakteure und Administratoren beschr&auml;nken.<p>Wenn Sie diese M&ouml;glickeit nicht nutzen, k&ouml;nnn Sie hier die Grundeinstellung (Dateien werden nicht angelegt) beibehalten.',
'texte_informations_personnelles_1' => 'Das System nun pers&ouml;nliche Zugangsdaten f&uuml;r Sie anlegen.',
'texte_informations_personnelles_2' => '(Wenn Sie die Site erneut installieren, und Ihre Zugangsdaten funktionieren, k&ouml;nnen Sie',
'texte_introductif_article' => '(Einleitender Text des Artikels.)',
'texte_jeu_caractere' => 'Sie ben&ouml;tigen diese Option, wenn Ihre Website einen anderen Zeichensatz als den des r&ouml;mischen (bzw. &bdquo;westlichen&ldquo;) Alphabets und seiner Ableitungen anzeigen soll. In diesem Fall m&uuml;ssen Sie die Grundeinstellungen auf den passenden Zeichensatz &auml;ndern. Es ist empfehlenswert, dazu einige Tests durchzuf&uuml;hren. Bitte vergessen Sie nicht, den &ouml;ffentlichen Bereich entsprechend zu &auml;ndern (SPIP-Tag <tt>#CHARSET</tt>).',
'texte_jeu_caractere_2' => 'Diese Einstellung funktioniert nicht r&uuml;ckwirkend. Folglich kann es dazu kommen, dass bereits vorhandene Texte fehlerhaft angezeigt werden. Sie k&ouml;nnen dann jederzeit die vorige Einstellung wieder herstellen.',
'texte_lien_hypertexte' => '(Wenn sich Ihr Beitrag auf einen Artikel im WWW bezieht oder es eine Seite mit Zusatzinformationen gibt, geben Sie bitte die Bezeichnung der Seite und ihren URL an.)',
'texte_liens_sites_syndiques' => 'Links zu syndizierten Websites k&ouml;nnen bis zur Freigabe durch einen Administrator gesperrt bleiben. Hier legen Sie die Grundeinstellung fest. Sie k&ouml;nnen diese Einstellung f&uuml;r jede Site einzeln &auml;ndern, bzw. nach und nach entscheiden, wie die neuen Links einer Website behandelt werden sollen.',
'texte_liens_syndication' => 'Neue Links dieser Website werden sofort im &ouml;ffentlichen Bereich angezeigt.',
'texte_login_ldap_1' => '(Keine Angabe bzw. vollst&auml;ndiger Pfad, z.B. &bdquo;<tt>uid=meier, ou=mitglieder, dc=MeineDom&auml;ne, dc=com</tt>&ldquo;.)',
'texte_login_precaution' => 'Achtung! Sie sind zur Zeit mit diesem Namen angemeldet. Bitte verwenden Sie diese Seite mit der erforderlichen Vorsicht.',
'texte_message_edit' => 'Achtung! Diese Nachricht kann von allen Administratoren der Website bearbeitet werden und ist f&uuml;r alle Redakteure sichtbar. Verwenden Sie Ank&uuml;ndigungen nur f&uuml;r wichtige Ereignisse, die alle Teilnehmer kennen m&uuml;ssen.',
'texte_messages_publics' => '&Ouml;ffentliche Beitr&auml;ge des Artikels:',
'texte_mise_a_niveau_base_1' => 'Sie haben den Programmcode von SPIP aktualisiert. Jetzt muss die Datenbank aktualisiert werden.',
'texte_modifier_article' => 'Artikel bearbeiten:',
'texte_moteur_recherche_active' => '<b>Die integrierte Suchmaschine ist eingeschaltet.</b> Damit k&ouml;nnen Sie eine erneute Erfassung aller Seiten erzwingen, wenn Sie z.B. wesentliche &Auml;nderungen am Inhalt und Layout Ihrer Site gemacht haben oder eine Sicherungskopie eingespielt haben. Dokumente, die im SPIP Redaktionssystem eingegeben werden, erfasst die Suchmaschine automatisch. Sie ben&ouml;tigen diese Funktion deshalb nur in Ausnahmef&auml;llen.',
'texte_moteur_recherche_non_active' => 'Suchmaschine ist abgeschaltet.',
'texte_mots_cles' => 'Mit Schlagworten k&ouml;nnen Verbindungen zu thematisch verwandten Artikeln hergestellt werden, die sich in einer anderen Rubrik befinden. Dadurch k&ouml;nnen Sie eine flexible Navigationsstruktur schaffen oder in Ihren Layoutvorlagen individuelle Benutzer-Layouts erm&ouml;glichen.',
'texte_mots_cles_dans_forum' => 'D&uuml;rfen Ihre Besucher Forumsbeitr&auml;ge verschlagworten? (Achtung! Diese Option hat weitreichende Auswirkungen und sollte gut &uuml;berlegt sein.)',
'texte_multilinguisme' => 'Wenn Sie Artikel in mehreren Sprachen mit entsprecher komplexer Navigation verwalten m&ouml;chten, k&ouml;nnen Sie den Rubriken und/oder den Artikeln ein Men&uuml; zur Sprachauswahl hinzuf&uuml;gen. Diese Funktion ist abh&auml;ngig von der Struktur Ihrer Website.',
'texte_multilinguisme_trad' => 'Sie k&ouml;nnen auch ein System zur automatischen Verlinkung der verschiedenen Sprachversionen eines Artikels aktivieren.',
'texte_non_compresse' => '<i>unkomprimiert</i> (ihr Server unterst&uuml;tzt diese Funktion nicht)',
'texte_non_fonction_referencement' => 'Sie k&ouml;nnen diese automatische Funktion ignorieren und die f&uuml;r Ihre Website wichtigen Elemente selber angeben ...',
'texte_nouveau_message' => 'Neue Nachricht',
'texte_nouveau_mot' => 'Neues Wort',
'texte_nouvelle_version_spip_1' => 'Sie haben eine neue Version von SPIP installiert.',
'texte_nouvelle_version_spip_2' => 'Diese Version erfordert eine weiter gehende Aktualisierung Ihres Systems als bisherige SPIP-Updates.
        Wenn Sie Webmaster dieser Site sind, l&ouml;schen Sie bitte die Datei
        <tt>inc_connect.php3</tt> im Verzeichnis <tt>ecrire</tt>
        und nehmen Sie die Installation wieder auf, indem Sie
        die Verbindungsdaten zur Datenbank neu eingeben.
        <p>(Tipp: Sollten Sie Ihre Verbindungsdaten vergessen haben,
        schauen Sie in der Datei <tt>inc_connect.php3</tt> nach,
        bevor Sie sie l&ouml;schen ...)',
'texte_operation_echec' => 'Gehen Sie zur vorigen Seite zur&uuml;ck und w&auml;hlen Sie eine andere Datenbank aus bzw. legen Sie eine neue an. &Uuml;berpr&uuml;fen Sie die Angaben Ihres Providers.',
'texte_plus_trois_car' => 'mehr als 3 Zeichen',
'texte_plusieurs_articles' => 'Mehrere Autoren f&uuml;r &bdquo;@cherche_auteur@&ldquo; gefunden:',
'texte_port_annuaire' => '(Der Standardwert kann meistens beibehalten werden.)',
'texte_proposer_publication' => 'Wenn Ihr Artikel fertig ist,<br> k&ouml;nnen Sie ihn zur Ver&ouml;ffentlichung vorschlagen.',
'texte_proxy' => 'In manchen F&auml;llen (Intranet, Rechner hinter einer Firewall...), kann ein <I>HTTP-Proxy</i> erforderlich sein, um die syndizierten Websites zu erreichen. In diesem Fall geben Sie seine Adresse im Format <tt><html>http://proxy:8080</html></tt>. an. Meistens kann dieses Feld aber leer bleiben.',
'texte_publication_articles_post_dates' => 'Wie soll SPIP Artikel behandeln, deren Erscheinungsdatum in die Zukunft gelegt wurde?',
'texte_rappel_selection_champs' => '[Vergessen Sie nicht, dieses Feld korrekt auszuf&uuml;llen.]',
'texte_recalcul_page' => 'Wenn Sie nur eine einzelne Seite aktualisieren wollen, verwenden Sie besser den Schalter &bdquo;Seite aus Cache l&ouml;schen&ldquo;.',
'texte_recapitiule_liste_documents' => 'Diese Seite enth&auml;lt eine Liste der Dokumente, die Sie in Rubriken eingeordnet haben. Um die Angaben zu den Dokumenten zu bearbeiten, benutzen Sie bitte den Link zur jeweiligen Rubrik.',
'texte_recuperer_base' => 'Datenbank reparieren',
'texte_reference_mais_redirige' => 'Artikel Ihrer Website, der eine Umleitung zu einem anderen URL enth&auml;lt.',
'texte_referencement_automatique' => '<b>Automatische Verlinkung einer Website</b><br>Sie k&ouml;nnen eine Website im Schnellverfahren verlinken, indem Sie seinen URL oder den seiner Backend-Datei angeben. SPIP wird dann die Daten der Website selbst&auml;ndig einlesen (Titel, Beschreibung ...).',
'texte_requetes_echouent' => '<b>Wenn manche SQL-Befehle ohne ersichtlichen Grund systematisch fehlschlagen, kann es an einer besch&auml;digten Datenbank liegen.</b><p>
MySQL kann Tabellen reparieren, die besch&auml;digt worden sind. Starten Sie hier einen Reparaturversuch. Sollte das fehlschlagen, notieren Sie bitte die Fehlermeldung, die u.U. einen Hinweis auf den Grund des Problems gibt ...<p>
Wenn das Problem weiter besteht, nehmen Sie bitte Kontakt mit Ihrem Provider auf.<p>',
'texte_restaurer_base' => 'Wiederherstellung des Inhalts der Datenbank',
'texte_restaurer_sauvegarde' => 'Mit dieser Funktion k&ouml;nnen Sie eine Sicherungskopie Ihrer Datenbank wieder einspielen. Dazu muss die Sicherungsdatei in das Verzeichnis <i>ecrire/data/</i> kopiert werden. Verwenden Sie diese Funktion mit der n&ouml;tigen Vorsicht. <b>Die &Auml;nderungen k&ouml;nnen nicht wieder r&uuml;ckg&auml;ngig gemacht werden.</b>',
'texte_sauvegarde' => 'Inhalt der Datenbank sichern',
'texte_sauvegarde_base' => 'Datenbank sichern',
'texte_sauvegarde_compressee' => 'Die Sicherung wird als unkomprimierte Datei <b>ecrire/data/dump.xml</b> angelegt.',
'texte_selection_langue_principale' => 'Hier k&ouml;nnen Sie die &laquo;Hauptsprache&raquo; der Website ausw&auml;hlen. Das zwingt Sie - zum Gl&uuml;ck - nicht, Ihre Artikel in dieser Sprache zu schreiben, sondern erm&ouml;glicht:
        <ul><li> das Format der Datumsanzeige einzustellen;</li>
        <li> die Art der typografischen Korrekturen von SPIP zu bestimmen;</li>
        <li> &uuml;ber die Sprachversion der eingebauten Formulare zu entscheiden;</li>
        <li> die Standardsprache des Redaktionssystems zu ver&auml;ndern.</li></ul>',
'texte_signification' => 'Die roten Balken stellen die Summe der Eintr&auml;ge dar (Summe der Unterrubriken), die hellen Balken symbolisieren die Anzahl der Seitenabrufe pro Rubrik.',
'texte_sous_titre' => 'Untertitel',
'texte_statistiques_visites' => '(dunkle Balken : Sonntag / dunkle Kurve : Entwicklung der Durchschnittswerte)',
'texte_statut_attente_validation' => 'vorgeschlagen',
'texte_statut_publies' => 'ver&ouml;ffentlicht',
'texte_statut_refuses' => 'abgelehnt',
'texte_suppression_fichiers' => 'Benutzen Sie diesen Befehl, um alle Dateien aus dem Zwischenspeicher von SPIP zu l&ouml;schen. Damit k&ouml;nnen Sie eine erneute Berechnung aller Seiten erzwingen, wenn Sie z.B. wesentliche &Auml;nderungen am Inhalt und Layout Ihrer Site gemacht haben. ',
'texte_sur_titre' => 'Einleitender Titel',
'texte_syndication' => 'Manche Websites erm&ouml;glichen den automatischen Abruf einer Liste von neuen Artikeln. Um diese Daten nutzen zu k&ouml;nnen, m&uuml;ssen Sie die Syndikation aktivieren.
                <blockquote><i>Manche Provider unterbinden die Nutzung dieser Funktion. Dann k&ouml;nnen Sie keine syndizierten Inhalte nutzen.</i></blockquote>',
'texte_table_ok' => ': Tabelle OK.',
'texte_tables_indexation_vides' => 'Indextabellen der Suchmaschine sind leer.',
'texte_tentative_recuperation' => 'Reparaturversuch',
'texte_tenter_reparation' => 'Reparatur der Datenbank versuchen',
'texte_test_proxy' => 'Um den Proxy zu testen, geben Sie hier die Adresse einer gew&uuml;nschten Website ein.',
'texte_titre_02' => 'Titel:',
'texte_titre_obligatoire' => '<B>Titel</b> [obligatorisch]',
'texte_travail_article' => '@nom_auteur_modif@ hat diesen Artikel vor @date_diff@ Minuten bearbeitet',
'texte_travail_collaboratif' => 'Wenn es &ouml;fter vorkommt, dass mehrere Redakteure gemeinsam an Artikeln arbeiten, kann SPIP die vor kurzem &bdquo;ge&ouml;ffneten&ldquo; Artikel anzeigen, um gleichzeitige &Auml;nderungen vorzubeugen. Diese Funktion ist normalerweise abgeschaltet, um st&ouml;rende Meldungen zu reduzieren.',
'texte_trop_resultats_auteurs' => 'Zu viele Ergebnisse f&uuml;r &bdquo;@cherche_auteur@&ldquo;. Bitte pr&auml;zisieren Sie Ihre Suchanfrage.',
'texte_unpack' => 'neue Version laden.',
'texte_utilisation_moteur_syndiques' => 'Wenn Sie die Suchmaschine von SPIP einsetzen, k&ouml;nnen Sie syndizierte Artikel und Websites auf zwei Arten behandeln. <br><img src=\'puce.gif\'> Im einfachen Fall werden nur Titel und Beschreibung der Artikel durchsucht. <br><img src=\'puce.gif\'> Die zweite, wesentlich leistungsf&auml;higere Methode erlaubt es, auch den Text der syndizierten Websites zu durchsuchen. Wenn Sie eine Website verlinken, erfasst SPIP vollautomatisch den Inhalt der Website selber. ',
'texte_utilisation_moteur_syndiques_2' => 'Diese Methode zwingt SPIP, die verlinkten Websites in regelm&auml;ssigen Abst&auml;nden abzurufen, wodurch Ihre Website etwas langsamer werden kann.',
'texte_vide' => 'leer',
'texte_vider_cache' => 'Cache leeren',
'titre_admin_effacer' => 'Wartung',
'titre_admin_tech' => 'Wartung',
'titre_admin_vider' => 'Wartung',
'titre_articles_syndiques' => 'Syndizierte Artikel dieser Website',
'titre_breves' => 'Meldungen',
'titre_cadre_afficher_article' => 'Artikel anzeigen',
'titre_cadre_afficher_traductions' => 'Stand der &Uuml;bersetzungen f&uuml;r diese Sprachen anzeigen',
'titre_cadre_ajouter_auteur' => 'AUTOR HINZUF&Uuml;GEN: ',
'titre_cadre_forum_administrateur' => 'Administratorforum',
'titre_cadre_forum_interne' => 'Internes Forum',
'titre_cadre_interieur_rubrique' => 'In der Rubrik',
'titre_cadre_numero_auteur' => 'AUTOR NUMMER',
'titre_cadre_signature_obligatoire' => '<B>Unterschrift</b> [obligatorisch]<BR>',
'titre_config_fonctions' => 'Website konfigurieren',
'titre_config_groupe_mots_cles' => 'Schlagwort-Kategorien einrichten',
'titre_configuration' => 'Website konfigurieren',
'titre_connexion_ldap' => 'Optionen: <B>LDAP-Verbindung</b>',
'titre_dernier_article_syndique' => 'Neue syndizierte Artikel',
'titre_documents_joints' => 'beigef&uuml;gte Dokumente',
'titre_evolution_visite' => 'Entwicklung der Seitenabrufe',
'titre_forum_suivi' => 'Foren moderieren',
'titre_gauche_mots_edit' => 'WORT NUMMER:',
'titre_groupe_mots' => 'KATEGORIE:',
'titre_langue_article' => 'SPRACHE DES ARTIKELS',
'titre_langue_breve' => 'SPRACHE DER MELDUNG',
'titre_langue_rubrique' => 'SPRACHE DER RUBRIK',
'titre_langue_trad_article' => 'SPRACHE UND &Uuml;BERSETZUNGEN DES ARTIKELS',
'titre_les_articles' => 'ARTIKEL',
'titre_mots_cles_dans_forum' => 'Schlagworte in &ouml;ffentlichen Foren',
'titre_mots_tous' => 'Schlagworte',
'titre_naviguer_dans_le_site' => 'Sitenavigation ...',
'titre_nouveau_groupe' => 'Neue Kategorie',
'titre_nouvelle_breve' => 'Neue Meldung',
'titre_nouvelle_rubrique' => 'Neue Rubrik',
'titre_numero_rubrique' => 'RUBRIK NUMMER:',
'titre_page_admin_effacer' => 'Wartung: Datenbank l&ouml;schen',
'titre_page_articles_edit' => 'Bearbeiten: @titre@',
'titre_page_articles_page' => 'Artikel',
'titre_page_articles_tous' => 'Ganze Website',
'titre_page_auteurs' => 'Besucher',
'titre_page_breves' => 'Meldungen',
'titre_page_breves_edit' => 'Meldung bearbeiten: &#8220;@titre@&#8221;',
'titre_page_calendrier' => 'Kalender @nom_mois@ @annee@',
'titre_page_config_contenu' => 'Website konfigurieren',
'titre_page_config_fonctions' => 'Website konfigurieren',
'titre_page_configuration' => 'Website konfigurieren',
'titre_page_controle_petition' => 'Petitionen verwalten',
'titre_page_delete_all' => 'vollst&auml;ndig unwiderruflich l&ouml;schen',
'titre_page_documents_liste' => 'Dokumente in Rubriken',
'titre_page_forum' => 'Administratorforum',
'titre_page_forum_envoi' => 'Nachricht schicken',
'titre_page_forum_suivi' => 'Foren moderieren',
'titre_page_index' => 'Ihr Bereich',
'titre_page_message_edit' => 'Nachricht weiterleiten',
'titre_page_messagerie' => 'Ihr Nachrichtensystem',
'titre_page_mots_tous' => 'Schlagworte',
'titre_page_recherche' => 'Ergebnisse der Suche nach @recherche@',
'titre_page_sites_tous' => 'Verlinkte Websites',
'titre_page_statistiques' => 'Statistiken pro Rubrik',
'titre_page_statistiques_referers' => 'Statistik (Referer)',
'titre_page_statistiques_visites' => 'Statistik der Seitenabrufe',
'titre_page_upgrade' => 'Aktualisierung von SPIP',
'titre_publication_articles_post_dates' => 'Ver&ouml;ffentlichung von vordatierten Artikeln',
'titre_referencement_sites' => 'Verlinkung und Syndikation',
'titre_referencer_site' => 'Website verlinken:',
'titre_rendez_vous' => 'TERMIN:',
'titre_reparation' => 'Reparatur',
'titre_site_numero' => 'WEBSITE NUMMER:',
'titre_sites_proposes' => 'Vorgeschlagene Websites',
'titre_sites_references_rubrique' => 'Verlinkte Websites in dieser Rubrik',
'titre_sites_syndiques' => 'Syndizierte Websites',
'titre_sites_tous' => 'Verlinkte Websites',
'titre_suivi_petition' => 'Petitionen verwalten',
'titre_syndication' => 'Website Syndikation',
'trad_article_inexistant' => 'Es gibt keinen Artikel mit dieser Nummer.',
'trad_article_traduction' => 'Alle Fassungen dieses Artikels:',
'trad_deja_traduit' => 'Dieser Artikel ist bereits eine &Uuml;bersetzung des aktuellen Artikels.',
'trad_delier' => 'Artikel nicht mehr mit diesen &Uuml;bersetzungen verbinden',
'trad_lier' => 'Dieser Artikel ist eine &Uuml;bersetzung des Artikels Nummer&nbsp;',
'trad_new' => 'Neue &Uuml;bersetzung dieses Artikels beginnen',


// V
'version_initiale' => 'Urspr&uuml;ngliche Fassung'

);


?>

--- NEW FILE: ecrire_ca.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Aquesta part de l\'ajuda en l&iacute;nia no est&agrave; encara disponible en Catal&agrave;.',
'avis_acces_interdit' => 'Acc&egrave;s prohibit',
'avis_article_modifie' => 'Atenci&oacute;, @nom_auteur_modif@ ha treballat en aquest article fa @date_diff@ minuts',
'avis_aucun_resultat' => 'Cap resultat',
'avis_chemin_invalide_1' => 'El cam&iacute; que heu triat',
'avis_chemin_invalide_2' => 'no sembla pas v&agrave;lid. Voleu tornar a la p&agrave;gina precedent i constrastar les informacions donades.',
'avis_connexion_echec_1' => 'La connexi&oacute; al servidor MySQL ha acabat.',
'avis_connexion_echec_2' => 'Tornar a la p&agrave;gina precedent per verificar les dades que heu ficat.',
'avis_connexion_echec_3' => '<B>N.B.</b> A molts dels servidors, heu de <b>demanar</b> l\'activaci&oacute; del vostre acc&eacute;s a la base de dades MySQL abans de poder utilitzar-la. Si no podeu connectar-vos, verifiqueu que heu efectuat aquest pas.',
'avis_connexion_ldap_echec_1' => ' La connexi&oacute; amb el servidor LDAP ha caigut.',
'avis_connexion_ldap_echec_2' => 'Tornar a la p&agrave;gina precedent per verificar les dades que heu ficat.',
'avis_connexion_ldap_echec_3' => 'Alternativament, no utilitzeu el support LDAP per a importar els usuaris.',
'avis_conseil_selection_mot_cle' => '<b>Grup important&nbsp;:</b> &eacute;s molt aconssellable seleccionar una contrasenya a aquest grup. ',
'avis_deplacement_rubrique' => 'Atenci&oacute;&nbsp;! Aquesta secci&oacute; cont&eacute; @contient_breves@ breu at scb@&nbsp;: si la moveu, assenyaleu-ho en aquesta casella de confirmaci&oacute;.',
'avis_destinataire_obligatoire' => 'Ha d\'escriure un destinatari abans d\'enviar el missatge.',
'avis_erreur_connexion_mysql' => 'Error de connexi&oacute; MySQL',
'avis_erreur_version_archive' => '<B>Atenci&oacute;! El fitxer @archive@ correspon a una
    versi&oacute; diferent d\'SPIP de la instal&middot;lada.</B> Us
    podeu trobar amb grans dificultats: risc de
      destrucci&oacute; de la base de dades, mal funcionament
    del lloc, etc. Cal que no valideu aquesta sol&middot;licitud
    d\'importaci&oacute;.<p>Si voleu m&eacute;s informaci&oacute;, consulteu
    <A HREF=\'http://www.spip.net/fr_article1489.html\'>
                                la documentaci&oacute; d\'SPIP</A>.',
'avis_espace_interdit' => '<B>Zona prohibida</B><p>SPIP ja est&agrave; instal&middot;lat.',
'avis_lecture_noms_bases_1' => 'El programa d\'instal&middot;laci&oacute; no ha pogut llegir els noms de les bases de dades instal&middot;lades.',
'avis_lecture_noms_bases_2' => 'O b&eacute; cap base de dades no est&agrave; disponible, o b&eacute; la funci&oacute; que permet de llistar les bases ha estat
desactivada per raons de seguretat (cosa normal en molts prove&iuml;dors d\'hostatge).',
'avis_lecture_noms_bases_3' => 'En la segona alternativa, &eacute;s probable que una base que porti el vostre nom d\'usuari sigui utilitzable:',
'avis_non_acces_message' => 'No teniu acc&eacute;s a aquest missatge.',
'avis_non_acces_page' => 'No teniu acc&eacute;s a aquesta p&agrave;gina.',
'avis_operation_echec' => 'L\'operaci&oacute; ha fracassat.',
'avis_probleme_archive' => 'Problema de lectura del fitxer @archive@',
'avis_site_introuvable' => 'Lloc il&middot;localitzable',
'avis_site_syndique_probleme' => 'Atenci&oacute;: la sindicaci&oacute; d\'aquest lloc troba un problema&nbsp;; el sistema queda de moment interromput. Verifiqueu l\'adre&ccedil;a del fitxer de sindicaci&oacute; d\'aquest lloc (<b>@url_syndic@</b>), i intenteu una nova recuperaci&oacute; de les informacions.',
'avis_sites_probleme_syndication' => 'Aquests llocs han trobat un problema de sindicaci&oacute;',
'avis_sites_syndiques_probleme' => 'Aquests llocs sindicats donen un problema ',
'avis_suppression_base' => 'ATENCI&Oacute;, la supressi&oacute; de dades &eacute;s irreversible.',
'avis_version_mysql' => 'La seva versi&oacute; de MySQL (@version_mysql@) no permet l\'autoreparaci&oacute; de les taules de la base de dades.',


// B
'bouton_acces_ldap' => 'Afegir l\'acc&eacute;s a LDAP >>',
'bouton_ajouter' => 'Afegir',
'bouton_ajouter_participant' => 'AFEGIR UN PARTICIPANT&nbsp;:',
'bouton_annonce' => 'ANUNCI',
'bouton_checkbox_envoi_message' => 'possibilitat d\'enviar un missatge',
'bouton_checkbox_indiquer_site' => 'indicar obligat&ograve;riament un lloc Web',
'bouton_checkbox_qui_attribue_mot_cle_administrateurs' => 'els administradors del lloc',
'bouton_checkbox_qui_attribue_mot_cle_redacteurs' => 'els redactors',
'bouton_checkbox_qui_attribue_mot_cle_visiteurs' => 'els visitants del lloc p&uacute;blic quan posen un missatge a un f&ograve;rum.',
'bouton_checkbox_signature_unique_email' => 'una sola signatura per adre&ccedil;a electr&ograve;nica ',
'bouton_checkbox_signature_unique_site' => 'una sola signatura per lloc Web',
'bouton_demande_publication' => 'Demanar la publicaci&oacute; d\'aquest article',
'bouton_effacer_index' => 'Esborrar els &iacute;ndex',
'bouton_effacer_tout' => 'Esborrar-ho TOT',
'bouton_envoi_message_02' => 'ENVIAR UN MISSATGE',
'bouton_envoyer_message' => 'Missatge definitiu : enviar',
'bouton_forum_petition' => 'F&Ograve;RUM &amp; PETICI&Oacute;',
'bouton_modifier' => 'Modificar',
'bouton_pense_bete' => 'RECORDATORI D\'&Uacute;S PERSONAL',
'bouton_radio_activer_messagerie' => 'Activar la missatgeria',
'bouton_radio_activer_messagerie_interne' => 'Activar la missatgeria interna',
'bouton_radio_activer_petition' => 'Activar la petici&oacute;',
'bouton_radio_afficher' => 'Mostrar',
'bouton_radio_apparaitre_liste_redacteurs_connectes' => 'Apar&egrave;ixer a la llista de redactors connectats',
'bouton_radio_articles_futurs' => 'nom&eacute;s als futurs articles (no afecta a la base de dades).',
'bouton_radio_articles_tous' => 'a tots els articles sense cap excepci&oacute;.',
'bouton_radio_articles_tous_sauf_forum_desactive' => 'a tots els articles, excepte aquells que tenen el f&ograve;rum desactivat. ',
'bouton_radio_desactiver_messagerie' => 'Desactivar la missatgeria',
'bouton_radio_enregistrement_obligatoire' => 'Enregistrament obligatori (els usuaris
  s\'han d\'inscriure facilitant la seva adre&ccedil;a electr&ograve;nica abans de poder
  afegir les seves contribucions).',
'bouton_radio_envoi_annonces_adresse' => 'Enviar els anuncis a l\'adre&ccedil;a:',
'bouton_radio_envoi_liste_nouveautes' => 'Enviar la llista de novetats',
'bouton_radio_moderation_priori' => 'Moderat a priori (les
 contribucions no apareixen p&uacute;blicament fins que no han estat
 validades des de l\'adminsitraci&oacute; del
 lloc).',
'bouton_radio_modere_abonnement' => 'moderat (nom&eacute;s per abonats)',
'bouton_radio_modere_posteriori' => 'moderat a posteriori',
'bouton_radio_modere_priori' => 'moderat a priori',
'bouton_radio_non_apparaitre_liste_redacteurs_connectes' => 'No apar&egrave;ixer a la llista de redactors/es ',
'bouton_radio_non_envoi_annonces_editoriales' => 'No enviar anuncis editorials',
'bouton_radio_non_syndication' => 'Cap sindicaci&oacute;',
'bouton_radio_occidental' => 'Alfabet occidental&nbsp; (<tt>iso-8859-1</tt>): permet principalment mostrar les lleng&uuml;es de l\'oest europeu (angl&egrave;s, franc&egrave;s, alemany...)&nbsp;;
SPIP permet no obstant administrar relativament b&eacute; les altres lleng&uuml;es.',
'bouton_radio_pas_petition' => 'Cap petici&oacute;',
'bouton_radio_personnalise' => 'Joc de car&agrave;cter personalitzat: Seleccioneu aquesta opci&oacute; per utilitzar
 un joc de car&agrave;cters espec&iacute;fic',
'bouton_radio_petition_activee' => 'Petici&oacute; activada',
'bouton_radio_publication_immediate' => 'Publicaci&oacute; immediata dels missatges (es poden suprimir posteriorment des de l\'administraci&oacute;). ',
'bouton_radio_sauvegarde_compressee' => 'c&ograve;pia de seguretat comprimida a <b>ecrire/data/dump.xml.gz</b>',
'bouton_radio_sauvegarde_non_compressee' => 'c&ograve;pia de seguretat no comprimida a <b>ecrire/data/dump.xml</b>',
'bouton_radio_supprimer_petition' => 'Suprimir la petici&oacute;',
'bouton_radio_syndication' => 'Sindicaci&oacute;:',
'bouton_radio_universel' => 'Alfabet universal&nbsp; (<tt>utf-8</tt>): permet la publicaci&oacute; de totes les lleng&uuml;es, per&ograve; pot posar problemes d\'incompatibilitat amb els  programes utilitzats per modificar les vostres plantilles, i alguns lectors de correu electr&ograve;nic. ',
'bouton_redirection' => 'REDIRECCI&Oacute;',
'bouton_relancer_installation' => 'Tornar a llan&ccedil;ar la instal&middot;laci&oacute;',
'bouton_restaurer_base' => 'Restaurar la base',
'bouton_suivant' => 'Seg&uuml;ent',
'bouton_tenter_recuperation' => 'Intentar reparar',
'bouton_test_proxy' => 'Provar el proxy',
'bouton_vider_cache' => 'Buidar la mem&ograve;ria cau',
'bouton_voir_message' => 'Veure el missatge abans de ser validat ',


// C
'cache_mode_compresse' => 'Els fitxers de la mem&ograve;ria cau s&oacute;n desats en mode comprimit.',
'cache_mode_non_compresse' => 'Els fitxers de la mem&ograve;ria cau s&oacute;n desats en mode no comprimit.',
'cache_modifiable_webmestre' => 'Aquests par&agrave;metres s&oacute;n modificables pel webmestre del lloc web.',
'calendrier_synchro' => 'Si utilitzeu un programari d\'agenda compatible <b>iCal</b>, el podeu sincronitzar amb les informacions d\'aquest lloc.',


// D
'date_mot_heures' => 'hores',
'diff_para_ajoute' => 'Par&agrave;graf afegit',
'diff_para_deplace' => 'Par&agrave;graf despla&ccedil;at',
'diff_para_supprime' => 'Par&agrave;graf suprimit',
'diff_texte_ajoute' => 'Text afegit',
'diff_texte_deplace' => 'Text despla&ccedil;at',
'diff_texte_supprime' => 'Text suprimit',


// E
'email' => 'correu electr&ograve;nic',
'email_2' => 'correu electr&ograve;nic:',
'entree_adresse_annuaire' => 'Adre&ccedil;a del directori',
'entree_adresse_email' => 'L\'adre&ccedil;a electr&ograve;nica ',
'entree_adresse_fichier_syndication' => 'Adre&ccedil;a del fitxer &laquo;&nbsp;backend&nbsp;&raquo; per la sindicaci&oacute;&nbsp;:',
'entree_adresse_site' => '<b>Adre&ccedil;a del lloc</b> [Obligat&ograve;ria]',
'entree_base_donnee_1' => 'Adre&ccedil;a de la base de dades',
'entree_base_donnee_2' => '(Sovint aquesta adre&ccedil;a correspon a la del vostre lloc, a vegades correspon a la menci&oacute; &laquo;localhost&raquo;, altres vegades es deixa totalment buida.)',
'entree_biographie' => 'Biografia curta i en poques paraules.',
'entree_breve_publiee' => 'Aquesta breu s\'ha de publicar?',
'entree_chemin_acces' => '<B>Entrar</B> el cam&iacute; d\'acc&eacute;s:',
'entree_cle_pgp' => 'La vostra clau PGP',
'entree_contenu_rubrique' => '(Contingut de la secci&oacute;, en poques paraules.)',
'entree_description_site' => 'Descripci&oacute; del lloc',
'entree_identifiants_connexion' => 'Els vostres identificadors de connexi&oacute;...',
'entree_informations_connexion_ldap' => 'Entreu en aquest formulari les informacions de connexi&oacute; del vostre directori LDAP.
 L\'administrador del sistema o de la xarxa us pot donar aquestes informacions.
   ',
'entree_infos_perso' => 'Qui s&oacute;u?',
'entree_interieur_rubrique' => 'A l\'interior de la secci&oacute;:',
'entree_liens_sites' => '<B>Enlla&ccedil; hipertext</B> (refer&egrave;ncia, indret a visitar...)',
'entree_login' => 'El vostre nom d\'usuari',
'entree_login_connexion_1' => 'El nom d\'usuari de connexi&oacute;',
'entree_login_connexion_2' => '(A vegades correspon al vostre nom d\'usuari d\'acc&egrave;s a l\'FTP; a vegades s\'ha de deixar buit)',
'entree_login_ldap' => 'Nom d\'usuari LDAP inicial',
'entree_mot_passe' => 'La contrasenya',
'entree_mot_passe_1' => 'La contrasenya de connexi&oacute;',
'entree_mot_passe_2' => 'A vegades correspon a la vostra contrasenya FTP; a vegades es deixa buit)',
'entree_nom_fichier' => 'Introduir el nom del fitxer @texte_compresse@:',
'entree_nom_pseudo' => 'El vostre nom o pseud&ograve;nim',
'entree_nom_pseudo_1' => '(El vostre nom o el vostre pseud&ograve;nim)',
'entree_nom_site' => 'El nom del vostre lloc',
'entree_nouveau_passe' => 'Una nova contrasenya',
'entree_passe_ldap' => 'Contrasenya',
'entree_port_annuaire' => 'N&uacute;mero de port del directori',
'entree_signature' => 'Secci&oacute;',
'entree_texte_breve' => 'Text de la breu',
'entree_titre_obligatoire' => '<B>T&iacute;tol</B> [Obligatori]<BR>',
'entree_url' => 'L\'adre&ccedil;a (URL) del vostre lloc',


// I
'ical_info1' => 'Aquesta p&agrave;gina mostra diferents maneres per estar en contacte amb la vida d\'aquest lloc.',
'ical_info2' => 'Per tenir m&eacute;s informacions sobre aquestes t&egrave;cniques, no dubteu a consultar <a href="http://www.spip.net/fr_suivi">la documentation de SPIP</a>.',
'ical_info_calendrier' => 'Hi ha dos calendaris a la vostra disposici&oacute;. El primer &eacute;s un mapa del lloc que anuncia tots els articles publicats. El segon cont&eacute; els anuncis editorials a m&eacute;s dels vostres darrers missatges privats: est&agrave; reservat per vosaltres gr&agrave;cies a una clau personal, que podeu modificar en tot moment renovant la vostra contrasenya. ',
'ical_methode_http' => 'Desc&agrave;rrega',
'ical_methode_webcal' => 'Sincronitzaci&oacute; (webcal://)',
'ical_texte_js' => 'Els articles publicats en aquest lloc poden ser mostrats f&agrave;cilment, en qualsevol lloc vostre, mitjan&ccedil;ant una l&iacute;nia de javascript. ',
'ical_texte_prive' => 'Aquest calendari, d\'&uacute;s estrictament personal, us informa de l\'activitat editorial privada d\'aquest lloc (feines i cites personals, articles i breus proposats...).',
'ical_texte_public' => 'Aquest calendari us permet seguir l\'activitat p&uacute;blica d\'aquest lloc (articles i breus publicats).',
'ical_texte_rss' => 'Podeu sindicar les novetats d\'aquest lloc mitjan&ccedil;ant qualsevol lector de fitxers en format XML/RSS (Rich Site Summary). Aquest &eacute;s tamb&eacute; el format que permet a SPIP llegir les novetats publicades en altres llocs que utilitzen un format d\'intercanvi compatible. ',
'ical_titre_js' => 'Javascript',
'ical_titre_mailing' => 'Llista de correu',
'ical_titre_rss' => 'Fitxers &laquo; backend &raquo;',
'icone_activer_cookie' => 'Activar la galeta de correspond&egrave;ncia',
'icone_afficher_auteurs' => 'Mostrar els autors',
'icone_afficher_visiteurs' => 'Mostrar els visitants',
'icone_arret_discussion' => 'No participar m&eacute;s en aquesta conversa',
'icone_calendrier' => 'Calendari',
'icone_creation_groupe_mots' => 'Crear un nou grup de paraules',
'icone_creation_mots_cles' => 'Crear una nova paraula clau',
'icone_creer_auteur' => 'Crear un nou autor i associar-lo a aquest article',
'icone_creer_rubrique_2' => 'Crear una nova secci&oacute;',
'icone_ecrire_nouvel_article' => 'Les breus contingudes en aquesta secci&oacute;',
'icone_envoyer_message' => 'Enviar aquest missatge',
'icone_evolution_visites' => 'Evoluci&oacute; de les visites<br>@visites@ visites',
'icone_modif_groupe_mots' => 'Modificar aquest grup de paraules',
'icone_modifier_article' => 'Modificar aquest article',
'icone_modifier_breve' => 'Modificar aquesta breu',
'icone_modifier_message' => 'Modificar aquest missatge',
'icone_modifier_rubrique' => 'Modificar aquesta secci&oacute;',
'icone_modifier_site' => 'Modificar aquest lloc',
'icone_poster_message' => 'Enviar un missatge',
'icone_publier_breve' => 'Publicar aquesta breu',
'icone_referencer_nouveau_site' => 'Referenciar un nou lloc',
'icone_refuser_breve' => 'Refusar aquesta breu',
'icone_retour' => 'Tornar',
'icone_retour_article' => 'Tornar a l\'article',
'icone_suivi_forum' => 'Seguiment del f&ograve;rum p&uacute;blic: @nb_forums@&nbsp;contribution(s)',
'icone_supprimer_cookie' => 'Suprimir la galeta de correspond&egrave;ncia',
'icone_supprimer_groupe_mots' => 'Suprimir aquest grup',
'icone_supprimer_rubrique' => 'Suprimir aquesta secci&oacute;',
'icone_supprimer_signature' => 'Suprimir aquesta secci&oacute;',
'icone_valider_signature' => 'Validar aquesta signatura',
'icone_voir_sites_references' => 'Mostrar els llocs referenciats',
'icone_voir_tous_mots_cles' => 'Mostrar totes les paraules clau',
'image_administrer_rubrique' => 'Podeu administrar aquesta secci&oacute;',
'info_1_article' => '1 article',
'info_1_breve' => '1 breu',
'info_1_site' => '1 lloc',
'info_activer_cookie' => 'Podeu activar una <b>galeta de correspond&egrave;ncia</b>, us permetr&agrave; passar f&agrave;cilment del lloc p&uacute;blic al lloc privat.',
'info_activer_forum_public' => '<I>Per activar els f&ograve;rums p&uacute;blics, escolliu el seu mode de moderaci&oacute; per defecte:</I>',
'info_admin_gere_rubriques' => 'Aquest administrador gestiona les seg&uuml;ents seccions:',
'info_admin_gere_toutes_rubriques' => 'Aquest administrador gestiona <b>totes les seccions</b>.',
'info_administrateur' => 'Administrador',
'info_administrateur_1' => 'Administrador',
'info_administrateur_2' => ' del lloc (<i>utilitzar amb precauci&oacute;</i>)',
'info_administrateur_site_01' => 'Si s&oacute;u administrador del lloc, vulgueu ',
'info_administrateur_site_02' => 'feu un clic sobre aquest link',
'info_administrateurs' => 'Administradors',
'info_administrer_rubrique' => 'Podeu administrar aquesta secci&oacute;',
'info_adresse' => 'a l\'adre&ccedil;a:',
'info_adresse_email' => 'ADRE&Ccedil;A ELECTR&Ograve;NICA:',
'info_adresse_url' => 'Adre&ccedil;a (URL) del lloc p&uacute;blic',
'info_afficher_visites' => 'Mostrar les visites per:',
'info_affichier_visites_articles_plus_visites' => 'Mostrar les visites pels <b>articles m&eacute;s visitats des del comen&ccedil;ament:</b>',
'info_aide_en_ligne' => 'Ajuda en l&iacute;nia d\'SPIP',
'info_ajout_image' => 'Quan afegiu imatges com a documents adjunts en un article, l\'SPIP pot crear autom&agrave;ticament imatges en miniatura de les imatges inserides. Aix&ograve; permet, per exemple, la creaci&oacute; autom&agrave;tica d\'una galeria o d\'un portafoli.',
'info_ajout_participant' => 'El seg&uuml;ent participant ha estat afegit:',
'info_ajouter_rubrique' => 'Afegir una altra secci&oacute; per administrar:',
'info_annonce_nouveautes' => 'Av&iacute;s de les novetats',
'info_annuler_blocage_priori' => 'Anular el bloqueig a priori',
'info_anterieur' => 'anterior',
'info_appliquer_choix_moderation' => 'Aplicar aquesta opci&oacute; de moderaci&oacute;:',
'info_article' => 'article',
'info_article_2' => 'articles',
'info_article_a_paraitre' => 'Els articles per publicar amb data posterior ',
'info_articles_02' => 'articles',
'info_articles_2' => 'Articles',
'info_articles_auteur' => 'Articles d\'aquest autor',
'info_articles_lies_mot' => 'Articles lligats a aquesta paraula clau',
'info_articles_trouves' => 'Articles trobats',
'info_articles_trouves_dans_texte' => 'Articles trobats (en el text)',
'info_attente_validation' => 'Els vostres articles en espera de validaci&oacute;',
'info_aujourdhui' => 'avui:',
'info_auteur_message' => 'AUTOR DEL MISSATGE:',
'info_auteurs' => 'Els autors',
'info_auteurs_par_tri' => 'Autors at partri@',
'info_auteurs_trouves' => 'Autors trobats',
'info_authentification_externe' => 'Autenticaci&oacute; externa',
'info_avertissement' => 'Av&iacute;s',
'info_base_installee' => 'L\'estructura de la vostra bases de dades s\'ha instal&middot;lat.',
'info_base_restauration' => 'La restauraci&oacute; de la base de dades est&agrave; en curs.',
'info_breves' => 'El vostre lloc fa servir el sistema de breus?',
'info_breves_03' => 'breus',
'info_breves_liees_mot' => 'Les breus lligades a aquesta paraula clau',
'info_breves_touvees' => 'Breus trobades',
'info_breves_touvees_dans_texte' => 'Breus trobades (en el text)',
'info_changer_nom_groupe' => 'Canviar el nom d\'aquest grup:',
'info_chapeau' => 'Encap&ccedil;alament',
'info_chapeau_2' => 'Encap&ccedil;alament:',
'info_chemin_acces_1' => 'Opcions: <B>Cam&iacute; d\'acc&eacute;s al directori</B>',
'info_chemin_acces_2' => 'Des d\'ara, heu de configurar el cam&iacute; d\'acc&eacute;s a la informaci&oacute; del directori. Aquesta informaci&oacute; &eacute;s essencial per llegir els perfils dels usuaris guardats al directori.',
'info_chemin_acces_annuaire' => 'Opcions: <B>Cam&iacute; d\'acc&eacute;s al directori',
'info_choix_base' => 'Tercer pas:',
'info_classement_1' => '<sup>r</sup> a la @liste@',
'info_classement_2' => '<sup>n</sup> a la @liste@',
'info_code_acces' => 'No oblideu els vostres codis d\'acc&eacute;s!',
'info_comment_lire_tableau' => 'Com llegir aquest quadre',
'info_config_suivi' => 'Si aquesta adre&ccedil;a correspon a una llista de correu, podeu indicar m&eacute;s avall l\'adre&ccedil;a a la que els participants es poden registrar. Aquesta adre&ccedil;a pot ser una URL (per exemple la p&agrave;gina de registre a la llista per la Web), o un correu electr&ograve;nic amb un assumpte espec&iacute;fic: <tt>@adresse_suivi@?assumpte=subscriure\'s</tt>):',
'info_config_suivi_explication' => 'Us podeu subscriure a la llista de correu d\'aquest lloc. Si ho feu, rebreu per correu electr&ograve;nic els anuncis dels articles i de les breus que es proposen per ser publicats.',
'info_confirmer_passe' => 'Confirmar la nova contrasenya:',
'info_connexion_base' => 'Segon pas: <B>Intent de connexi&oacute; a la base de dades</B>',
'info_connexion_ldap_ok' => 'La connexio LDAP ha reexit.</B><P> Podeu passar al seg&uuml;ent pas.',
'info_connexion_mysql' => 'Primer pas: <B>La vostra connexi&oacute; MySQL</B>',
'info_connexion_ok' => 'La connexi&oacute; ha reexit.',
'info_contact' => 'Contacte',
'info_contenu_articles' => 'Contingut dels articles',
'info_creation_mots_cles' => 'Crear i configurar aqu&iacute; les paraules clau del lloc',
'info_creation_paragraphe' => '(Per crear par&agrave;grafs, deixeu simplement  unes l&iacute;nies buides.)',
'info_creation_rubrique' => 'Abans de poder crear articles, <BR> heu de crear com a m&iacute;nim una secci&oacute;.<BR>',
'info_creation_tables' => 'Quart pas: <B>Creaci&oacute; de les taules de la base</B>',
'info_creer_base' => '<B>Crear</B> una nova base de dades:',
'info_dans_groupe' => 'Dins el grup:',
'info_dans_rubrique' => 'Dins la secci&oacute;:',
'info_date_publication_anterieure' => 'Data de publicaci&oacute; anterior:',
'info_date_referencement' => 'DATA DE REFER&Egrave;NCIA D\'AQUEST LLOC:',
'info_delet_mots_cles' => 'Heu sol&middot;licitat la supressi&oacute; de la
 paraula clau <B>@titre_mot@</B> (@type_mot@). Donat que la paraula-clau est&agrave; lligada a
<b>@texte_lie@</b> heu de confirmar aquesta decisi&oacute;:',
'info_demander_blocage_priori' => 'Sol&middot;licitar
    un blocatge a priori',
'info_derniere_etape' => '&Uacute;ltim pas: <B>S\'ha acabat!',
'info_derniere_syndication' => 'La &uacute;ltima sindicaci&oacute; d\'aquest lloc ha estat realitzada el',
'info_derniers_articles_publies' => 'El m&eacute;s nou dels vostres articles editats',
'info_desactiver_forum_public' => 'Inhabilitar l\'&uacute;s dels f&ograve;rums p&uacute;blics.
  Els f&ograve;rums p&uacute;blics es podran permetre, cas per cas, en els articles;
  estaran prohibits a les seccions, breus, etc.',
'info_desactiver_messagerie_personnelle' => 'Podeu habilitar o inhabilitar la missatgeria personal en aquest lloc.',
'info_descriptif' => 'Descripci&oacute;:',
'info_discussion_cours' => 'Discussions en curs',
'info_ecrire_article' => 'Abans de poder escriure un article, heu de crear com a m&iacute;nim una secci&oacute;.',
'info_email_envoi' => 'L\'adre&ccedil;a electr&ograve;nica del remitent (opcional)',
'info_email_envoi_txt' => 'Introduiu aqu&iacute; l\'adre&ccedil;a a fer servir per enviar els correus electr&ograve;nics (per defecte, l\'adre&ccedil;a del destinatari ser&agrave; utilitzada com a adre&ccedil;a del remitent):',
'info_email_webmestre' => 'Adre&ccedil;a electr&ograve;nica del webmestre (opcional)',
'info_entrer_code_alphabet' => 'Entreu el codi del joc de car&agrave;cters a fer servir:',
'info_envoi_email_automatique' => 'Enviament autom&agrave;tic de correus electr&ograve;nics',
'info_envoi_forum' => 'Enviar els f&ograve;rums als autors dels articles',
'info_envoyer_maintenant' => 'Envia-ho ara',
'info_erreur_restauration' => 'Error de restauraci&oacute;: fitxer inexistent.',
'info_etape_suivante' => 'Passar a l\'etapa seg&uuml;ent',
'info_etape_suivante_1' => 'Pot passar a l\'etapa seg&uuml;ent.',
'info_etape_suivante_2' => 'Pot passar a l\'etapa seg&uuml;ent.',
'info_exportation_base' => ' exportaci&oacute; de la base cap a @archive@',
'info_facilite_suivi_activite' => 'Per tal de facilitat el seguiment de l\'activitat editorial, SPIP pot fer arribar per correu electr&ograve;nic, per exemple a una llista de correu dels redactors, l\'av&iacute;s de les peticions de publicaci&oacute; i de les validacions dels articles.',
'info_fichiers_authent' => 'Fitxers d\'autentificaci&oacute; &laquo;&nbsp;.htpasswd&nbsp;&raquo;',
'info_fonctionnement_forum' => 'Funcionament del f&ograve;rum&nbsp;:',
'info_forum_administrateur' => ' f&ograve;rum dels administradors',
'info_forum_interne' => 'f&ograve;rum intern',
'info_forum_ouvert' => 'Dins l\'espai privat del lloc, hi ha un f&ograve;rum obert a tots
  els redactors registrats. M&eacute;s avall, podeu activar un f&ograve;rum suplementari,
  reservat nom&eacute;s als adminsitradors. ',
'info_forum_statistiques' => 'Estad&iacute;stiques de les visites',
'info_forums_abo_invites' => 'El seu lloc Web proporciona f&ograve;rums pels abonats; en el lloc p&uacute;blic els visitants s&oacute;n convidats a enregistrar-se.',
'info_gauche_admin_effacer' => '<B>Nom&eacute;s els responsables del site tenen acc&eacute;s a aquesta p&agrave;gina.</B><P> D&oacute;na acc&eacute;s a les diferents funcions de manteniment t&egrave;cnic. Algunes d\'aquestes necessiten un proc&eacute;s d\'autenticaci&oacute; espec&iacute;fic que requereix disposar d\'un acc&eacute;s FTP al lloc Web.',
'info_gauche_admin_tech' => '<B>Nom&eacute;s els responsables del site tenen acc&eacute;s a aquesta p&agrave;gina.</B><P> D&oacute;na acc&eacute;s a les diferents funcions de manteniment t&egrave;cnic. Algunes d\'aquestes necessiten un proc&eacute;s d\'autenticaci&oacute; espec&iacute;fic que requereix disposar d\'un acc&eacute;s FTP al lloc Web.',
'info_gauche_admin_vider' => '<B>Nom&eacute;s els responsables del site tenen acc&eacute;s a aquesta p&agrave;gina.</B><P> D&oacute;na acc&eacute;s a les diferents funcions de manteniment t&egrave;cnic. Algunes d\'aquestes necessiten un proc&eacute;s d\'autenticaci&oacute; espec&iacute;fic que requereix disposar d\'un acc&eacute;s FTP al lloc Web.',
'info_gauche_auteurs' => 'Aqu&iacute; hi trobareu tots els autors del lloc.
 El seu estat s\'indica pel color de la seva icona (administrador = verd; redactor = groc).',
'info_gauche_auteurs_exterieurs' => 'Els autors externs, sense acc&eacute;s al lloc, estan indicats amb una icona blava;
 els autors esborrats amb una paperera.',
'info_gauche_messagerie' => 'La missatgeria us permet intercanviar missatges entre els redactors, conservar recordatoris (pel vostre &uacute;s personal) o mostrar avisos a la p&agrave;gina inicial de l\'espai privat (si s&oacute;u administrador).',
'info_gauche_numero_auteur' => 'AUTOR N&Uacute;MERO',
'info_gauche_numero_breve' => 'BREU N&Uacute;MERO',
'info_gauche_statistiques_referers' => 'Aquesta p&agrave;gina mostra la llista de  <I>referidors</I>, &eacute;s a dir, dels llocs que contenen enlla&ccedil;os cap al vostre propi lloc Web, &uacute;nicament per ahir i avui; aquesta llista es posa a zero cada 24 hores. ',
'info_gauche_suivi_forum' => 'La p&agrave;gina de <I>seguiment dels f&ograve;rums</I> &eacute;s una eina de gesti&oacute; del vostre lloc (i no un espai de discussi&oacute; o de redacci&oacute;). Mostra totes les contribucions del f&ograve;rum p&uacute;blic d\'aquest article i us pemet de gestionar aquestes contribucions.',
'info_gauche_suivi_forum_2' => 'La p&agrave;gina de <I>seguiment dels f&ograve;rums</I> &eacute;s una eina de gesti&oacute; del vostre lloc (i no un espai de discussi&oacute; o de redacci&oacute;). Mostra totes les contribucions dels f&ograve;rums del lloc, tan les de l\'espai p&uacute;blic com les de l\'espai privat i us permet de gestionar aquestes contribucions.',
'info_gauche_visiteurs_enregistres' => 'Aqu&iacute; hi trobareu els visitants registrats
 a l\'espai p&uacute;blic del lloc (f&ograve;rums per subscripci&oacute;).',
'info_generation_miniatures_images' => 'Generaci&oacute; de miniatures d\'imatges',
'info_gerer_trad' => 'Gestionar els enlla&ccedil;os de traducci&oacute;?',
'info_groupe_important' => 'Grup important',
'info_hebergeur_desactiver_envoi_email' => 'Alguns prove&iuml;dors d\'hostatge desactiven l\'enviament autom&agrave;tic de correus electr&ograve;nics des dels seus servidors. En aquest cas, les seg&uuml;ents funcions d\'SPIP no funcionen. ',
'info_hier' => 'ahir:',
'info_historique' => 'Revisions:',
'info_historique_activer' => 'Activar el seguiment de les revisions',
'info_historique_affiche' => 'Mostrar aquesta versi&oacute;',
'info_historique_comparaison' => 'comparaci&oacute;',
'info_historique_desactiver' => 'Desactivar el seguiment de les revisions',
'info_historique_lien' => 'Mostrar l\'hist&ograve;ric de les modificacions',
'info_historique_texte' => 'El seguiment de les revisions permet conservar un hist&ograve;ric de totes les modificacions fetes al contingut d\'un article, i mostrar les difer&egrave;ncies entre les versions successives. ',
'info_historique_titre' => 'Seguiment de les revisions',
'info_identification_publique' => 'La vostra identitat p&uacute;blica...',
'info_image_process' => 'Vulgueu seleccionar el millor m&egrave;tode de fabricaci&oacute; de vinyetes fent un clic damunt de la imatge corresponent. ',
'info_image_process2' => '<b>N.B.</b> <i>Si no apareix cap imatge, aleshores &eacute;s que el servidor que allotja la vostra web no ha estat configurat per utilitzar aquestes eines. Si desitgeu emprar aquestes funcions, poseu-vos en contacte amb el responsable t&egrave;cnic i demaneu les extensions &laquo;GD&raquo; o &laquo;Imagick&raquo;.</i>',
'info_informations_personnelles' => 'Cinqu&egrave; pas: <B>Informacions personals</B>',
'info_inscription_automatique' => 'Inscripci&oacute; autom&agrave;tica dels nous redactors',
'info_jeu_caractere' => 'Joc de car&agrave;cters del lloc',
'info_jours' => 'dies',
'info_laisser_champs_vides' => 'deixar els camps buits)',
'info_langues' => 'Idiomes del lloc',
'info_ldap_ok' => 'L\'autenticaci&oacute; LDAP est&agrave; instal&middot;lada.',
'info_lien_hypertexte' => 'Enlla&ccedil; hipertext:',
'info_liens_syndiques_1' => 'enlla&ccedil;os sindicats',
'info_liens_syndiques_2' => 'estan pendents de validaci&oacute;.',
'info_liens_syndiques_3' => 'f&ograve;rums',
'info_liens_syndiques_4' => 's&oacute;n',
'info_liens_syndiques_5' => 'f&ograve;rum',
'info_liens_syndiques_6' => '&eacute;s',
'info_liens_syndiques_7' => 'pendent de validaci&oacute;',
'info_liste_redacteurs_connectes' => 'Llista de redactors connectats',
'info_login_existant' => 'Aquest nom d\'usuari ja existeix.',
'info_login_trop_court' => 'Nom d\'usuari massa curt.',
'info_maximum' => 'm&agrave;xim:',
'info_meme_rubrique' => 'Dins la mateixa secci&oacute;',
'info_message' => 'Missatge de',
'info_message_efface' => 'MISSATGE ESBORRAT',
'info_message_en_redaction' => 'Els vostres missatges en curs de redacci&oacute;',
'info_message_technique' => 'Missatge t&egrave;cnic:',
'info_messagerie_interne' => 'Missatgeria interna',
'info_mise_a_niveau_base' => 'actualitzaci&oacute; de la vostra base de dades MySQL',
'info_mise_a_niveau_base_2' => '{{Atenci&oacute;!}} Heu instal&middot;lat una versi&oacute; dels fitxers d\'SPIP {anterior} a la que es trobava anteriorment al vostre lloc: correu el risc de perdre la vostra base de dades i que el vostre lloc deixi de funcionar.<br>{{Torneu a instal&middot;lar els fitxers d\'SPIP.}}',
'info_mode_fonctionnement_defaut_forum_public' => 'Mode de funcionament per defecte dels f&ograve;rums p&uacute;blics',
'info_modifier_breve' => 'Modificar la breu:',
'info_modifier_rubrique' => 'Modificar la secci&oacute;:',
'info_modifier_titre' => 'Modificar : @titre@',
'info_mon_site_spip' => 'El meu lloc SPIP',
'info_mot_sans_groupe' => '(Paraules sense grup...)',
'info_moteur_recherche' => 'Motor de cerca integrat',
'info_mots_cles' => 'Les paraules clau',
'info_mots_cles_association' => 'Les paraules clau d\'aquest grup poden ser associades:',
'info_moyenne' => 'mitjana:',
'info_multi_articles' => 'Activar el men&uacute; d\'idioma pels articles?',
'info_multi_cet_article' => 'Idioma d\'aquest article:',
'info_multi_langues_choisies' => 'Seleccioneu a continuaci&oacute; els idiomes a disposici&oacute; dels redactors del vostre lloc.
  Els idiomes ja utilitzats en el vostre lloc (visualitzats en primer lloc) no es poden desactivar.',
'info_multi_rubriques' => 'Activar el men&uacute; d\'idioma a les seccions?',
'info_multi_secteurs' => '... nom&eacute;s per les seccions situades a l\'arrel?',
'info_nom' => 'Nom',
'info_nom_destinataire' => 'Nom del destinatari',
'info_nom_site' => 'Nom del vostre lloc',
'info_nom_site_2' => '<b>Nom del lloc</b> [Obligatori]',
'info_nombre_articles' => '@nb_articles@ articles,',
'info_nombre_breves' => '@nb_breves@ breus,',
'info_nombre_partcipants' => 'PARTICIPANTS A LA DISCUSSI&Oacute;:',
'info_nombre_rubriques' => '@nb_rubriques@ seccions,',
'info_nombre_sites' => '@nb_sites@ llocs,',
'info_non_deplacer' => 'No despla&ccedil;ar...',
'info_non_envoi_annonce_dernieres_nouveautes' => 'SPIP pot enviar, regularment, un av&iacute;s amb les darreres novetats del lloc
  (articles i breus publicats recentment).',
'info_non_envoi_liste_nouveautes' => 'No enviar la llista de novetats',
'info_non_modifiable' => 'no pot ser modificat',
'info_non_suppression_mot_cle' => 'no vull suprimir aquesta paraula clau.',
'info_notes' => 'Notes',
'info_nouveaux_message' => 'Nous missatges',
'info_nouvel_article' => 'Nou article',
'info_nouvelle_traduction' => 'Nova traducci&oacute;:',
'info_numero_article' => 'ARTICLE N&Uacute;MERO:',
'info_obligatoire_02' => '[Obligatori]',
'info_option_accepter_visiteurs' => 'Acceptar la inscripci&oacute; dels visitants del lloc p&uacute;blic',
'info_option_email' => 'Quan un visitant del lloc envia un nou missatge en el f&ograve;rum associat a un article, els autors de l\'article poden ser informats d\'aquest missatge per correu electr&ograve;nic. Voleu fer servir aquesta opci&oacute;?',
'info_option_faire_suivre' => 'Reenviar els missatges del f&ograve;rum als autors dels articles',
'info_option_ne_pas_accepter_visiteurs' => 'Refusar la inscripci&oacute; de visitants',
'info_option_ne_pas_faire_suivre' => 'No reenviar els missatges dels f&ograve;rums',
'info_options_avancees' => 'OPCIONS AVAN&Ccedil;ADES',
'info_ortho_activer' => 'Activar la verificaci&oacute; ortogr&agrave;fica.',
'info_ortho_desactiver' => 'Desactivar la verificaci&oacute; ortogr&agrave;fica',
'info_ou' => 'o...',
'info_oui_suppression_mot_cle' => 'vull suprimir definitivament aquesta paraula clau.',
'info_page_interdite' => 'P&agrave;gina prohibida',
'info_par_nombre_article' => '(per nombre d\'articles)',
'info_par_tri' => '(per @tri@)',
'info_pas_de_forum' => 'sense f&ograve;rum',
'info_passe_trop_court' => 'Contrasenya massa curta.',
'info_passes_identiques' => 'Les dues contrasenyes no s&oacute;n id&egrave;ntiques.',
'info_pense_bete_ancien' => 'Els vostres antics recordatoris',
'info_plus_cinq_car' => 'm&eacute;s de 5 car&agrave;cters',
'info_plus_cinq_car_2' => '(M&eacute;s de 5 car&agrave;cters)',
'info_plus_trois_car' => '(M&eacute;s de 3 car&agrave;cters)',
'info_popularite' => 'popularitat:&nbsp;@popularite@&nbsp;; visites:&nbsp;@visites@',
'info_popularite_2' => 'popularitat del lloc:',
'info_popularite_3' => 'popularitat:&nbsp;@popularite@&nbsp;; visites:&nbsp;@visites@',
'info_popularite_4' => 'popularitat:&nbsp;@popularite@&nbsp;; visites:&nbsp;@visites@',
'info_post_scriptum' => 'Postdata',
'info_post_scriptum_2' => 'Postdata:',
'info_pour' => 'per',
'info_preview_admin' => 'Nom&eacute;s els administradors poden previsualitzar el lloc web',
'info_preview_comite' => 'Tots els redactors poden previsualitzar el lloc web',
'info_preview_desactive' => 'La previsualitzaci&oacute; est&agrave; totalment desactivada',
'info_preview_texte' => '&Eacute;s possible previsualitzar el lloc com si tots els articles i breus (que almenys tinguen l\'estat de "proposats") estigueren publicats. Aquesta possibilitat ha d\'estar oberta nom&eacute;s als administradors, a tots els redactors, o a ning&uacute;?',
'info_principaux_correspondants' => 'Els vostres principals corresponsals',
'info_procedez_par_etape' => 'procediu pas per pas',
'info_procedure_maj_version' => 'El proc&eacute;s d\'actualitzaci&oacute; s\'ha de tornar a arrancar per tal d\'adaptar la base de dades a la nova versi&oacute; d\'SPIP.',
'info_ps' => 'P.D.',
'info_publies' => 'Els vostres articles publicats en l&iacute;nia',
'info_question_accepter_visiteurs' => 'Si a les plantilles (esquelets) del vostre lloc Web es preveu l\'enregistrament de visitants sense acc&eacute;s a l\'espai privat, vulgueu activar la seg&uuml;ent opci&oacute;:',
'info_question_gerer_statistiques' => 'El vostre lloc ha de gestionar les estad&iacute;stiques de les visites?',
'info_question_inscription_nouveaux_redacteurs' => 'Accepteu les inscripcions de nous redactors a partir del lloc p&uacute;blic? Si ho accepteu, els visitants es podran inscriure mitjan&ccedil;ant un formulari automatitzat i accediran a l\'espai privat per proposar els seus propis articles. <blockquote><i>Durant el proc&eacute;s d\'inscripci&oacute;, els usuaris reben un correu electr&ograve;nic autom&agrave;tic en el que se\'ls d&oacute;na els seus codis d\'acc&eacute;s al lloc privat. Alguns prove&iuml;dors d\'hostatge desactiven l\'enviament de correus electr&ograve;nics des dels seus servidors: en aquest cas, la inscripci&oacute; autom&agrave;tica &eacute;s impossible.',
'info_question_mots_cles' => 'Voleu utilitzar les paraules clau en la vostra web&nbsp;?',
'info_question_proposer_site' => 'Qui pot proposar llocs referenciats?',
'info_question_utilisation_moteur_recherche' => 'Voleu fer servir el motor de cerca integrat a l\'SPIP?
 (inhabilitar-lo accelera el funcionament del sistema.)',
'info_qui_attribue_mot_cle' => 'Les paraules clau d\'aquest grup poden ser assignades per:',
'info_racine_site' => 'Arrel del lloc',
'info_recharger_page' => 'Actualitzeu aquesta p&agrave;gina en breus instants.',
'info_recherche_auteur_a_affiner' => 'Massa resultats per "@cherche_auteur@"; afineu la cerca.',
'info_recherche_auteur_ok' => 'Diversos redactors trobats per "@cherche_auteur@":',
'info_recherche_auteur_zero' => 'Cap resultat per &laquo;&nbsp;@cherche_auteur@&nbsp;&raquo;.',
'info_recommencer' => 'Torneu-ho a provar.',
'info_redacteur_1' => 'Redactor',
'info_redacteur_2' => 'tenint acc&eacute;s a l\'espai privat (<i>recomanat</i>)',
'info_redacteurs' => 'Redactors',
'info_redaction_en_cours' => 'En proc&eacute;s de redacci&oacute;',
'info_redirection' => 'Redireccionament',
'info_refuses' => 'Els vostres articles rebutjats',
'info_reglage_ldap' => 'Opcions: <B>Posta a punt de l\'importaci&oacute; LDAP</B>',
'info_renvoi_article' => '<B>Redirecci&oacute;.</B> Aquest article et porta a la p&agrave;gina:',
'info_reserve_admin' => 'Nom&eacute;s els adminsitradors poden modificar aquesta adre&ccedil;a.',
'info_restauration_sauvegarde' => 'restauraci&oacute; de la c&ograve;pia de seguretat @archive@',
'info_restreindre_rubrique' => 'Restringir la gesti&oacute; a les seccions:',
'info_resultat_recherche' => 'Resultats de la cerca:',
'info_rubriques' => 'Seccions',
'info_rubriques_02' => 'seccions',
'info_rubriques_liees_mot' => 'Seccions associades a aquesta paraula clau',
'info_rubriques_trouvees' => 'Seccions trobades',
'info_rubriques_trouvees_dans_texte' => 'Seccions trobades (dins del text)',
'info_sans_titre' => 'Sense t&iacute;tol',
'info_sauvegarde' => 'C&ograve;pia de seguretat',
'info_sauvegarde_articles' => 'Crear c&ograve;pia de seguretat dels articles',
'info_sauvegarde_articles_sites_ref' => 'Crear c&ograve;pia de seguretat dels articles dels llocs referenciats',
'info_sauvegarde_auteurs' => 'Crear c&ograve;pia de seguretat dels autors',
'info_sauvegarde_breves' => 'Crear c&ograve;pia de seguretat de les breus',
'info_sauvegarde_documents' => 'Crear c&ograve;pia de seguretat dels documents',
'info_sauvegarde_echouee' => 'Si la c&ograve;pia de seguretat fracassa (&laquo;Maximum execution time exceeded&raquo;),',
'info_sauvegarde_forums' => 'Crear c&ograve;pia de seguretat dels f&ograve;rums',
'info_sauvegarde_groupe_mots' => 'Crear c&ograve;pia de seguretat dels grups de paraules',
'info_sauvegarde_messages' => 'Crear c&ograve;pia de seguretat dels missatges',
'info_sauvegarde_mots_cles' => 'Crear c&ograve;pia de seguretat de les paraules clau',
'info_sauvegarde_petitions' => 'Crear c&ograve;pia de seguretat de les peticions',
'info_sauvegarde_refers' => 'Crear c&ograve;pia de seguretat de les refer&egrave;ncies',
'info_sauvegarde_reussi_01' => 'C&ograve;pia de seguretat amb &egrave;xit.',
'info_sauvegarde_reussi_02' => 'La base de dades s\'ha desat a <b>ecrire/data/@archive@</b>. Podeu',
'info_sauvegarde_reussi_03' => 'tornar a la gesti&oacute;',
'info_sauvegarde_reussi_04' => 'del vostre lloc.',
'info_sauvegarde_rubriques' => 'Crear c&ograve;pia de seguretat de les seccions',
'info_sauvegarde_signatures' => 'Crear c&ograve;pia de seguretat de les firmes de petici&oacute;',
'info_sauvegarde_sites_references' => 'Guardar els llocs referenciats',
'info_sauvegarde_type_documents' => 'Crear c&ograve;pia de seguretat dels tipus de documents',
'info_sauvegarde_visites' => 'Crear c&ograve;pia de seguretat de les visites',
'info_selection_chemin_acces' => '<b>Seleccioneu</b> a continuaci&oacute; el cam&iacute; d\'acc&eacute;s en el directori:',
'info_selection_un_seul_mot_cle' => 'Podeu seleccionar <b>nom&eacute;s una paraula clau</b> cada vegada en aquest grup.',
'info_signatures' => 'signatures',
'info_site' => 'Lloc',
'info_site_2' => 'lloc:',
'info_site_min' => 'lloc',
'info_site_propose' => 'Lloc proposat el:',
'info_site_reference_2' => 'Lloc referenciat',
'info_site_syndique' => 'Aquest lloc est&aacute; sindicat...',
'info_site_valider' => 'Llocs a validar',
'info_site_web' => 'LLOC WEB:',
'info_sites' => 'llocs',
'info_sites_lies_mot' => 'Els llocs referenciats lligats a aquesta paraula clau',
'info_sites_proxy' => 'Utilitzar un proxy',
'info_sites_refuses' => 'Els llocs rebutjats',
'info_sites_trouves' => 'Llocs trobats',
'info_sites_trouves_dans_texte' => 'Llocs trobats (en el text)',
'info_sous_titre' => 'Subt&iacute;tol:',
'info_statut_administrateur' => 'Administrador',
'info_statut_auteur' => 'Estat d\'aquest autor:',
'info_statut_efface' => 'Suprimit',
'info_statut_redacteur' => 'Redactor',
'info_statut_site_1' => 'Aquest lloc &eacute;s:',
'info_statut_site_2' => 'Publicat',
'info_statut_site_3' => 'Proposat',
'info_statut_site_4' => 'A la paperera',
'info_statut_utilisateurs_1' => 'Estat per defecte dels usuaris importats',
'info_statut_utilisateurs_2' => 'Escolliu l\'estat atribu&iuml;t a les persones que hi ha al directori LDAP quan es connecten per primera vegada. Posteriorment podreu podreu modificar aquest valor cas per cas.',
'info_suivi_activite' => 'Seguiment de l\'activitat editorial',
'info_supprimer_mot' => 'suprimir aquesta paraula',
'info_surtitre' => 'Subt&iacute;tol:',
'info_taille_maximale_vignette' => 'Mida m&agrave;xima de les vinyetes generades pel sistema:',
'info_terminer_installation' => 'Ara podeu finalitzar el proc&eacute;s d\'instal&middot;laci&oacute; est&agrave;ndard. ',
'info_texte' => 'Text',
'info_texte_explicatif' => 'Text explicatiu',
'info_texte_long' => '(el text &eacute;s llarg: es mostra en diverses parts que seran ajuntades despr&eacute;s de la validaci&oacute;.)',
'info_texte_message' => 'Text del vostre missatge:',
'info_texte_message_02' => 'Text del missatge',
'info_titre' => 'T&iacute;tol:',
'info_titre_mot_cle' => 'Nom o t&iacute;tol de la paraula clau',
'info_total' => 'total :',
'info_tous_articles_en_redaction' => 'Tots els articles en proc&eacute;s de redacci&oacute;',
'info_tous_articles_presents' => 'Tots els articles publicats en aquesta secci&oacute;',
'info_tous_les' => 'tots els:',
'info_tous_redacteurs' => 'Avisos a tots els redactors',
'info_tout_site' => 'Tot el lloc',
'info_tout_site2' => 'L\'article no ha estat tradu&iuml;t a aquesta llengua. ',
'info_tout_site3' => 'L\'article ha estat tradu&iuml;t a aquesta llengua, per&ograve; s\'han fet modificacions a l\'article de refer&egrave;ncia. La traducci&oacute; s\'ha de posar al dia.',
'info_tout_site4' => 'L\'article ha estat tradu&iuml;t a aquesta llengua i la traducci&oacute; posada al dia. ',
'info_tout_site5' => 'Article original.',
'info_tout_site6' => '<b>Atenci&oacute;:</b> nom&eacute;s es mostren els articles originals.
Les traduccions estan associades a l\'original,
amb un color que indica el seu estat:',
'info_travail_colaboratif' => 'Treball col&middot;lectiu en els articles',
'info_un_article' => 'un article,',
'info_un_mot' => 'Una sola paraula a la vegada',
'info_un_site' => 'un lloc,',
'info_une_breve' => 'una breu,',
'info_une_rubrique' => 'una secci&oacute;,',
'info_une_rubrique_02' => '1 secci&oacute;',
'info_url' => 'URL:',
'info_url_site' => 'URL DEL LLOC:',
'info_urlref' => 'Enlla&ccedil; hipertext:',
'info_utilisation_spip' => 'Podeu comen&ccedil;ar a utilitzar el sistema de publicaci&oacute; assistida...',
'info_visites_par_mois' => 'Mostrar per mes:',
'info_visites_plus_populaires' => 'Mostrar les visites pels <b>articles m&eacute;s populars</b> i pels <b>&uacute;ltims articles publicats:</b>',
'info_visiteur_1' => 'Visitant',
'info_visiteur_2' => 'del lloc p&uacute;blic',
'info_visiteurs' => 'Visitants',
'info_visiteurs_02' => 'Visitants del lloc p&uacute;blic',
'install_select_langue' => 'Seleccioneu un idioma i despr&eacute;s feu un clic en el bot&oacute; &laquo;&nbsp;seg&uuml;ent&nbsp;&raquo; per iniciar el proc&eacute;s d\'instal&middot;laci&oacute;.',
'intem_redacteur' => 'redactor',
'item_accepter_inscriptions' => 'Acceptar les inscripcions',
'item_activer_forum_administrateur' => 'Activar el f&ograve;rum dels administradors',
'item_activer_messages_avertissement' => 'Activar els missatges d\'advert&egrave;ncia',
'item_administrateur_2' => 'administrador',
'item_afficher_calendrier' => 'Mostrar en el calendari',
'item_ajout_mots_cles' => 'Autoritzar l\'afegit de paraules clau als f&ograve;rums',
'item_autoriser_documents_joints' => 'Autoritzar els documents adjunts als articles',
'item_autoriser_documents_joints_rubriques' => 'Autoritzar els documents en les seccions',
'item_bloquer_liens_syndiques' => 'Bloquejar els enlla&ccedil;os sindicats per validar',
'item_breve_refusee' => 'NO - Breu rebutjada',
'item_breve_validee' => 'SI - Breu validada',
'item_choix_administrateurs' => 'els administradors',
'item_choix_generation_miniature' => 'Generar autom&agrave;ticament les miniatures de les imatges.',
'item_choix_non_generation_miniature' => 'No generar miniatures d\'aquestes imatges.',
'item_choix_redacteurs' => 'els redactors',
'item_choix_visiteurs' => 'els visitants del lloc p&uacute;blic',
'item_creer_fichiers_authent' => 'Crear els fitxers .htpasswd',
'item_desactiver_forum_administrateur' => 'Desactivar el f&ograve;rum dels administradors',
'item_gerer_annuaire_site_web' => 'Gestionar un directori de llocs web',
'item_gerer_statistiques' => 'Gestionar les estad&iacute;stiques',
'item_limiter_recherche' => 'Limitar la cerca a les informacions que hi ha en aquest lloc',
'item_login' => 'Login',
'item_mots_cles_association_articles' => 'als articles',
'item_mots_cles_association_breves' => 'a les breus',
'item_mots_cles_association_rubriques' => 'a les seccions',
'item_mots_cles_association_sites' => 'als llocs referenciats o sindicats.',
'item_non' => 'No',
'item_non_accepter_inscriptions' => 'No acceptar les inscripcions',
'item_non_activer_messages_avertissement' => 'Sense missatges d\'advert&egrave;ncia',
'item_non_afficher_calendrier' => 'No mostrar-ho en el calendari',
'item_non_ajout_mots_cles' => 'Prohibir la utilitzaci&oacute; de les paraules clau en els f&ograve;rums',
'item_non_autoriser_documents_joints' => 'Impedir la inclusi&oacute; de documents en els articles',
'item_non_autoriser_documents_joints_rubriques' => 'Impedir la inclusi&oacute; de documents en les seccions',
'item_non_bloquer_liens_syndiques' => 'No bloquejar els enlla&ccedil;os sortits de la sindicaci&oacute;',
'item_non_creer_fichiers_authent' => 'No crear aquests fitxers',
'item_non_gerer_annuaire_site_web' => 'Desactivar el directori de llocs Web',
'item_non_gerer_statistiques' => 'No gestionar les estad&iacute;stiques',
'item_non_limiter_recherche' => 'Ampliar la cerca als continguts dels llocs referenciats',
'item_non_publier_articles' => 'No publicar els articles abans de la data de publicaci&oacute; fixada.',
'item_non_utiliser_breves' => 'No utilitzar les breus',
'item_non_utiliser_config_groupe_mots_cles' => 'No utilitzar la configuraci&oacute; avan&ccedil;ada dels grup de paraules clau',
'item_non_utiliser_moteur_recherche' => 'No utilitzar el motor',
'item_non_utiliser_mots_cles' => 'No utilitzar les paraules clau',
'item_non_utiliser_syndication' => 'No utilitzar la sindicaci&oacute; autom&agrave;tica',
'item_nouvel_auteur' => 'Nou autor',
'item_nouvelle_breve' => 'Nova breu',
'item_nouvelle_rubrique' => 'Nova secci&oacute;',
'item_oui' => 'Si',
'item_publier_articles' => 'Publicar els articles sense tenir en compte la data de la seva publicaci&oacute;.',
'item_reponse_article' => 'Resposta a l\'article',
'item_utiliser_breves' => 'Utilitzar les breus',
'item_utiliser_config_groupe_mots_cles' => 'Utilitzar la configuraci&oacute; avan&ccedil;ada dels grups de paraules clau',
'item_utiliser_moteur_recherche' => 'Utilitzar el motor de cerca',
'item_utiliser_mots_cles' => 'Utilitzar les paraules clau',
'item_utiliser_syndication' => 'Utilitzar la sindicaci&oacute; autom&agrave;tica',
'item_visiteur' => 'visitant',


// J
'jour_non_connu_nc' => 'n.c.',


// L
'lien_ajout_destinataire' => 'Afegir aquest destinatari',
'lien_ajouter_auteur' => 'Afegir aquest autor',
'lien_ajouter_participant' => 'Afegir un participant',
'lien_email' => 'correu electr&ograve;nic',
'lien_forum_public' => 'Gestionar el f&ograve;rum p&uacute;blic d\'aquest article',
'lien_mise_a_jour_syndication' => 'Actualitzar ara',
'lien_nom_site' => 'NOM DEL LLOC:',
'lien_nouvelle_recuperation' => 'Intentar una nova recuperaci&oacute; de les dades',
'lien_reponse_article' => 'Resposta a l\'article',
'lien_reponse_breve' => 'Resposta a la breu',
'lien_reponse_breve_2' => 'Resposta a la breu',
'lien_reponse_rubrique' => 'Resposta a la secci&oacute;',
'lien_reponse_site_reference' => 'Resposta al lloc referenciat:',
'lien_retirer_auteur' => 'Retirar aquest autor',
'lien_retrait_particpant' => 'retirar aquest participant',
'lien_site' => 'lloc',
'lien_supprimer_rubrique' => 'suprimir aquesta secci&oacute;',
'lien_tout_deplier' => 'Obrir-ho tot',
'lien_tout_replier' => 'Tancar-ho tot',
'lien_trier_nom' => 'Classificar per nom',
'lien_trier_nombre_articles' => 'Classificar per n&uacute;mero d\'articles',
'lien_trier_statut' => 'Classificar per estat',
'lien_voir_en_ligne' => 'VEURE EN L&Iacute;NIA:',
'logo_article' => 'LOGOTIP DE L\'ARTICLE',
'logo_auteur' => 'LOGOTIP DE L\'AUTOR',
'logo_breve' => 'LOGOTIP DE LA BREU',
'logo_mot_cle' => 'LOGOTIP DE LA PARAULA CLAU',
'logo_rubrique' => 'LOGOTIP DE LA SECCI&Oacute;',
'logo_site' => 'LOGOTIP D\'AQUEST LLOC',
'logo_standard_rubrique' => 'LOGOTIP EST&Agrave;NDARD DE LES SECCIONS',
'logo_survol' => 'Logotip canviant',


// M
'menu_aide_installation_choix_base' => 'Trieu la vostra base de dades',
'module_fichier_langue' => 'Fitxer de llengua',
'module_raccourci' => 'Drecera',
'module_texte_affiche' => 'Text publicat',
'module_texte_explicatif' => 'Podeu inserir els recursos seg&uuml;ents a les plantilles del vostre lloc p&uacute;blic. Es traduiran autom&agrave;ticament a les diferents lleng&uuml;es per les que existeix un fitxer de llengua.',
'module_texte_traduction' => 'El fitxer de llengua &laquo;&nbsp;@module@&nbsp;&raquo; es troba disponible a:',
'mois_non_connu' => 'desconegut',


// O
'onglet_repartition_actuelle' => 'actualment',
'ortho_ajouter_ce_mot' => 'Afegir aquest mot al diccionari',
'ortho_aucune_suggestion' => 'No s\'ha trobat cap sugger&egrave;ncia per aquesta paraula.',
'ortho_avis_privacy' => 'La verificaci&oacute; ortogr&agrave;fica ha estat integrada a l\'SPIP. Abans d\'activar aquesta funcionalitat, si us plau llegeisca el seg&uuml;ent par&agrave;graf amb atenci&oacute;: ',
'ortho_avis_privacy2' => 'Per verificar l\'ortografia d\'un text, el lloc enviar&agrave; la llista de les paraules a controlar cap un dels "servidors ortogr&agrave;fics" externs posats a la vostra disposici&oacute; per diferents membres de la comunitat SPIP. Les paraules s&oacute;n enviades desordenades per tal d\'assegurar un m&iacute;nim de confidencialitat. Si patiu per la confidencialitat de les vostres dades no activeu aquesta opci&oacute; (i retireu immediatament les vostres informacions del lloc Web).',
'ortho_ce_mot_connu' => 'Aquesta paraula forma part del diccionari del lloc Web.',
'ortho_dico_absent' => 'No ha estat trobat cap diccionari per aquesta llengua',
'ortho_mode_demploi' => 'Les paraules no reconegudes s&oacute;n subratllades en roig. Podeu clicar a sobre de cada mot per afegir alguna de les paraules suggerides.',
'ortho_mots_a_corriger' => 'paraules a corregir',
'ortho_orthographe' => 'Ortografia',
'ortho_supprimer_ce_mot' => 'Treure aquesta paraula del diccionari',
'ortho_trop_de_fautes' => 'Atenci&oacute;: el vostre text cont&eacute; massa errades, no es suggereix cap correci&oacute; per tal de no sobrecarregar el sistema.',
'ortho_verif_impossible' => 'El sistema no pot verificar l\'ortografia d\'aquest text.',
'ortho_verifier' => 'Verificar l\'ortografia',


// S
'statut_admin_restreint' => '(admin restringida)',


// T
'taille_cache_infinie' => 'Aquest lloc no preveu limitar la mida del directori <code>CACHE/</code>.',
'taille_cache_maxi' => 'SPIP prova de limitar la mida del directori <code>CACHE/</code> d\'aquest lloc a aproximadament <b>@octets@</b> de dades.',
'taille_cache_octets' => 'La mida de la mem&ograve;ria cau &eacute;s actualment de @octets at .',
'taille_cache_vide' => 'La mem&ograve;ria cau est&agrave; buida.',
'taille_repertoire_cache' => 'Mida del directori de la mem&ograve;ria cau',
'text_article_propose_publication' => 'Article proposat a la seva publicaci&oacute;. No dubteu a donar la vostra opini&oacute; gr&agrave;cies al f&ograve;rum adjunt a aquest article (al capdavall de la p&agrave;gina).',
'texte_acces_ldap_anonyme_1' => 'Alguns servidors LDAP no accepten accessos an&ograve;nims. En aquest cas &eacute;s necessari especificar un identificador d\'acc&eacute;s inicial per tal de poder buscar informacions en el directori. En la majoria de casos tanmateix, els camps seg&uuml;ents es podr&aacute;n deixar buits.',
'texte_admin_effacer_01' => 'Aquesta comanda esborra <i>tot</i> el contingut de la base de dades,
la qual compren <i>tots</i> els accessos dels redactors i administradors. Despr&eacute;s d\'haver-la executat, haureu de reinstal.lar l\'SPIP per refer una nova base i un primer acc&eacute;s per l\'administrador.',
'texte_admin_tech_01' => 'Aquesta opci&oacute; permet desar el contigut de la base a un fitxer que ser&agrave; guardat al directori <i>ecrire/data/</i>. No oblide igualment recuperar integrament el directori <i>IMG/</i>, que cont&eacute; les imatges i els documents utilitzats als articles i les seccions.',
'texte_admin_tech_02' => 'Atenci&oacute;: aquesta c&ograve;pia de seguretat NOM&Eacute;S podr&agrave; ser restaurada en un lloc Web que estigui instal&middot;lat en la mateixa versi&oacute; d\'SPIP. Per tant, cal sobretot no &laquo;&nbsp;buidar la base&nbsp;&raquo; esperant reinstal&middot;lar la c&ograve;pia de seguretat despr&eacute;s de l\'actualitzaci&oacute;... Consulteu per m&eacute;s detalls <a href="http://www.spip.net/fr_article1489.html">la documentaci&oacute; d\'SPIP</a>.',
'texte_admin_tech_03' => 'Es pot triar guardar el fitxer comprimit per retallar temps de transfer&egrave;ncia fins a casa seva o guardar-lo en un servidor per a c&ograve;pies de seguretat, i estalviar l\'espai de disc.',
'texte_adresse_annuaire_1' => '(Si el vostre anuari est&agrave; instal.lat a la mateixa maquina que aquesta web, es tracta probablement de "localhost".)',
'texte_ajout_auteur' => 'L\'autor seg&uuml;ent ha estat afegit a l\'article:',
'texte_annuaire_ldap_1' => 'Si se disposa d\'un acc&eacute;s a un anuari (LDAP), es pot utilitzar per a importar autom&agrave;ticament els/les usuaris/es baix SPIP.',
'texte_article_statut' => 'Aquest article &eacute;s:',
'texte_article_virtuel' => ' Article virtual',
'texte_article_virtuel_reference' => ' <b>Article virtual:</b> article referenciat en la web amb SPIP, per&ograve; redirigit cap un altre URL. Per suprimir la redirecci&oacute;, esborreu l\'URL que apareix dalt.',
'texte_aucun_resultat_auteur' => 'Cap resultat per "@cherche_auteur@"',
'texte_auteur_messagerie' => 'Aquest lloc us pot mostrar permanentment la llista dels redactors que estan connectats, permetent-vos intercanviar missatges en directe. Podeu decidir no apar&egrave;ixer en aquesta llista (i ser &laquo;invisibles&raquo; pels altres usuaris).',
'texte_auteur_messagerie_1' => 'Aquest lloc permet l\'intercanvi de missatges i la constituci&oacute; de f&ograve;rums privats entre els participants. Podeu decidir no participar en aquests f&ograve;rums.',
'texte_auteurs' => 'ELS AUTORS',
'texte_breves' => 'Els breus son textes curts i simples que permeten de
 posar en l&iacute;nia r&agrave;pidament informacions consices, generar
  una revista de premsa, un calendari d\'esveniments...',
'texte_choix_base_1' => 'Trie la seua base:',
'texte_choix_base_2' => 'El servidor MySQL cont&eacute; diverses  bases de dades.',
'texte_choix_base_3' => '<B>Seleccioneu</B> d\'aqu&iacute; sota quina us ha atribu&iuml;t el vostre prove&iuml;dor d\'hostatge:',
'texte_commande_vider_tables_indexation' => 'Utiliceu aquesta comanda per buidar les taules d\'indexaci&oacute; emprades
 pel motor de recerca integrat en SPIP. Aix&ograve; vos permetr&agrave;
  guanyar espai a disc.',
'texte_comment_lire_tableau' => 'El rang de l\'article,
 dins de la classificaci&oacute; per popularitat, est&agrave; indicat al marge; la popularitat de l\'article (una estimaci&oacute; del nombre de visites quotidianes que rebr&agrave; l\'article si es mant&eacute; el ritme actual de
  consultes) i el nombre de visites rebudes
 des que va estar per primer cop en l&iacute;nia est&agrave;n visibles al men&uacute; que apareix quan passem el ratol&iacute; per sobre del t&iacute;tol.',
'texte_compresse_ou_non' => '(a&ccedil;&ograve; pot ser comprimit o no)',
'texte_compte_element' => ' @count@ element',
'texte_compte_elements' => ' @count@ elements',
'texte_config_groupe_mots_cles' => 'Desitja activar la configuraci&oacute; avan&ccedil;ada de les paraules clau,
 indicant per exemple que es pot seleccionar un mot &uacute;nic
 per grup, quin grup &eacute;s important...?',
'texte_connexion_mysql' => 'Consulteu les informacions aportades pel vostre prove&iuml;dor d\'hostatge: heu de trobar-hi, si el vostre prove&iuml;dor d&oacute;na suport MyQSL, els codis de connexi&oacute; al servidor MySQL.',
'texte_contenu_article' => ' (Contingut de l\'article en poques paraules.)',
'texte_contenu_articles' => 'Segons l\'esquelet triat per la vostra web, podeu decidir
 que certs elements dels articles  no siguen emprats.
 Useu la llista d\'ac&iacute; baix per a indicar quins elements estaran disponibles.',
'texte_crash_base' => 'Si la bbdd ha deixat de funcionar correctament, es pot intentar fer una reparaci&oacute; autom&agrave;tica.',
'texte_creer_rubrique' => 'Abans de poder escriure els articles, <BR> s\'ha de crear una  secci&oacute;.',
'texte_date_creation_article' => 'DATA DE CREACI&Oacute; DE L\'ARTICLE&nbsp;:',
'texte_date_publication_anterieure' => 'DATA DE PUBLICACI&Oacute; ANTERIOR&nbsp;:',
'texte_date_publication_anterieure_nonaffichee' => 'No publicar els articles abans de la data de publicaci&oacute; indicada.',
'texte_date_publication_article' => 'DATA DE PUBLICACI&Oacute; EN L&Iacute;NIA&nbsp;:',
'texte_demander_blocage_priori' => 'Els pr&ograve;xims enlla&ccedil;os 
 procedents d\'aquest lloc ser&agrave;n bloquejats a priori.',
'texte_descriptif_petition' => 'Descripci&oacute; de la petici&oacute;',
'texte_descriptif_rapide' => 'Descripci&oacute; r&agrave;pida',
'texte_documents_joints' => 'Es pot permetre afegir documents (fitxers ofim&agrave;tics, imatges, multim&egrave;dia, etc.) als articles i/o a les seccions. Aquests fitxers poden estar referenciats dins l\'article, o mostrats separadament.<p>',
'texte_documents_joints_2' => 'Aquesta regla no impideix pas l\'inserci&oacute; d\'imatges directament als articles.',
'texte_effacer_base' => 'Esborrar la base de dades SPIP',
'texte_effacer_donnees_indexation' => 'Borrar les dades d\'indexaci&oacute;',
'texte_en_cours_validation' => 'Els articles i breus d\'ac&iacute; sota estan proposats per a la seua publicaci&oacute;. No vos estigueu de fer-ne algun comentari al respecte als f&ograve;rums que tenen assignats.',
'texte_enrichir_mise_a_jour' => 'Podeu enriquir la compaginaci&oacute; del text emprant "dreceres tipogr&agrave;fiques".',
'texte_fichier_authent' => '<b>SPIP ha de crear els fitxers especials <tt> .htpasswd</tt>
i <tt>.htpasswd-admin</tt>en el directori <tt>ecrire/date/</tt>? </b></p>
 Aquests fitxers poden servir per a restringir l\'acc&eacute;s als autors i als administradors en altres llocs de la vostra web (programa extern d\'estad&iacute;stiques, per exemple).<p>
 Si no li veuieu cap utilitat podeu deixar aquesta opci&oacute; amb el seu valor per defecte (no creaci&oacute; dels fitxers).',
'texte_informations_personnelles_1' => ' El sistema va ara a fer-vos un acc&eacute;s personalitzat al web.',
'texte_informations_personnelles_2' => ' (Nota: si es tracta d\'una reinstal.laci&oacute; mantenint el vostre acc&eacute;s pot',
'texte_introductif_article' => ' (Texte introductiu de l\'article.)',
'texte_jeu_caractere' => 'Aquesta opci&oacute; &eacute;s &uacute;til si el vostre lloc Web ha de publicar alfabets diferents de l\'alfabet rom&agrave; (o &laquo;occidental&raquo;) i els seus derivats.
 En aquest cas, pot ser preferible canviar les regles per defecte per un joc de car&agrave;cters apropiat; us aconsellem en tot cas de fer proves per tal de trobar una soluci&oacute; satisfact&ograve;ria. Si modifiqueu aquest par&agrave;metre, no oblideu com a conseq&uuml;&egrave;ncia adaptar tamb&eacute; el lloc p&uacute;blic (etiqueta <tt>#CHARSET</tt>).',
'texte_jeu_caractere_2' => 'Aquesta norma no t&eacute; efectes retroactius. Com
 a consequ&egrave;ncia, els textos ja inserits es poden mostrar incorrectament a partir de la modificaci&oacute; de la regla. En tots
 els casos, es pot retornar a la regla precedent sense cap problema.',
'texte_lien_hypertexte' => '(Si el vostre missatge se refereix a un article publicat sobre el Web, o a una p&agrave;gina donant m&eacute;s informacions, si us plau indiqueu a continuaci&oacute; el nom de la p&agrave;gina i la seua adre&ccedil;a URL.)',
'texte_liens_sites_syndiques' => 'Els enlla&ccedil;os provenents de les webs sindicades poden
ser bloquejats a priori; la norma
que apareix a continuaci&oacute; indica  la regla per defecte dels llocs sindicats despr&eacute;s de la seua creaci&oacute;. &Eacute;s
possible inmediatament desbloquejar cada enlla&ccedil; de forma individual, o 
triar, web per web, bloquejar els enlla&ccedil;os que vinguen d\'un o altre web.',
'texte_liens_syndication' => 'Els pr&ograve;xims enlla&ccedil;os que provinguen d\'aquesta web seran afegits inmediatament al lloc p&uacute;blic.',
'texte_login_ldap_1' => '(Deixar buit per un acc&eacute;s an&ograve;nim, o ficar l\'ordre sencera, per exemple "&nbsp;<tt>uid=Ferrer, ou=users, dc=el-meu-domini, dc=com</tt>".)',
'texte_login_precaution' => 'Atenci&oacute;! Aquest &eacute;s el login o nom d\'usuari amb el qual esteu connectats actualment.
Useu aquest formulari amb precauci&oacute;...',
'texte_message_edit' => 'Atenci&oacute;: aquest missatge pot ser modificat per tots els administradors del lloc, i &eacute;s invisible per a tots els redactors. No feu servir els anuncis per a res que no siga realment important pel manteniment del site.',
'texte_messages_publics' => 'Missatges p&uacute;blics de l\'article:',
'texte_mise_a_niveau_base_1' => 'S\'han actualitzat els fitxers d\'SPIP.
 Cal ara actualitzar la base de dades del lloc.',
'texte_modifier_article' => 'Modificar l\'article:',
'texte_moteur_recherche_active' => '<b>El motor de cerca est&agrave; activat.</b> Utilitzeu aquesta comanda
 si desitgeu fer una reindexaci&oacute; r&agrave;pida (despr&eacute;s de la restauraci&oacute;
 d\'una c&ograve;pia de seguretat, per exemple). Heu d\'adonar-vos que els documents modificats de forma normal(des de la interf&iacute;cie d\'SPIP) s&oacute;n autom&agrave;ticament
reindexats: aquesta comanda no &eacute;s &uacute;til nom&eacute;s que de manera excepcional.',
'texte_moteur_recherche_non_active' => 'El motor de recerca no est&agrave; activat.',
'texte_mots_cles' => 'Les paraules clau permeten crear enlla&ccedil;os tematics entre els articles
independement del seu empla&ccedil;ament a les seccions.Es pot aix&iacute;
enriquir la navegaci&oacute; del vostre lloc, incl&uacute;s utilitzar aquestes propietats
 per a personalitzar la presentaci&oacute; dels articles dintre dels esquelets.',
'texte_mots_cles_dans_forum' => 'Si es desitja es pot permetre la utilitzaci&oacute; de les paraules clau, seleccionables per part dels visitants, dins dels f&ograve;rums del lloc p&uacute;blic?. (Atenci&oacute;: aquesta opci&oacute; &eacute;s relativament complexa d\'utilitzar correctament) ',
'texte_multilinguisme' => 'Si es desitja es pot generar els articles es diversos idiomes, amb una navegaci&oacute; complexa, es pot tamb&eacute; afegir un men&uacute; per seleccionar l\'idioma dels articles i/o de les seccions, en funci&oacute; de l\'organitzaci&oacute; del lloc web.',
'texte_multilinguisme_trad' => 'Es pot igualment activar un sistema de gesti&oacute; d\'enlla&ccedil;os entre les diferents traduccions d\'un article.',
'texte_non_compresse' => ' <i>no comprimit</i> (el servidor no suporta aquesta funcionalitat)',
'texte_non_fonction_referencement' => 'Es pot preferir no utilitzar aquesta funci&oacute; autom&agrave;tica i indicar vost&eacute; mateix els elements referits a aquest lloc...',
'texte_nouveau_message' => 'Missatge nou',
'texte_nouveau_mot' => 'Nova paraula',
'texte_nouvelle_version_spip_1' => 'Heu instal.lat una nova versi&oacute; d\'SPIP.',
'texte_nouvelle_version_spip_2' => 'Aquesta nova versi&oacute; necessita una actualitzaci&oacute; m&eacute;s complerta que la normal. Si sou el webmestre del lloc, vulgueu esborrar el fitxer <tt>inc_connect.php3</tt> del directori <tt>ecrire</tt> i reprendre la instal&middot;laci&oacute; per tal d\'actualitzar els par&agrave;metres de connexi&oacute; a la base de dades.<p />(NB.: si heu oblidat els vostres par&agrave;metres de connexi&oacute;, doneu un cop d\'ull al fitxer <tt>inc_connect.php3</tt> abans de suprimir-lo...)',
'texte_operation_echec' => 'Torneu a la p&agrave;gina anterior, seleccioneu una altra base o creeu-ne una de nova. Verifiqueu les dades donades pel vostre prove&iuml;dor d\'hostatge.',
'texte_plus_trois_car' => 'm&eacute;s de 3 car&agrave;cters',
'texte_plusieurs_articles' => 'Diversos autors trobats per  "@cherche_auteur@":',
'texte_port_annuaire' => ' (El valor indicat per defecte es en general convenient.)',
'texte_proposer_publication' => 'Despr&eacute;s que un article est&agrave; acabat, <br> es pot proposar la seua publicaci&oacute;.',
'texte_proxy' => 'En alguns casos (intranet, xarxes protegides...),
pot caldre utilitzar un <I>proxy HTTP</I> per enlla&ccedil;ar amb els llocs sindicats.
En aquest cas, indiqueu a continuaci&oacute; la seua adre&ccedil;a, baix la forma
  <tt><html>http://proxy:8080</html></tt>. En general,
 es deixar&agrave; buida aquesta opci&oacute;.',
'texte_publication_articles_post_dates' => 'Que ha de fer SPIP quan els articles tinguen una data de publicaci&oacute; posterior a l\'actual?',
'texte_rappel_selection_champs' => ' [No oblide pas seleccionar correctament aquest camp.]',
'texte_recalcul_page' => 'Si es vol recarregar una sola p&agrave;gina, cal passar abans per l\'espai p&uacute;blic i premer el bot&oacute; "recarregar".',
'texte_recapitiule_liste_documents' => 'Aquesta p&agrave;gina recull un llistat de documents que hi ha a cada secci&oacute; de la seua web. Per modificar la informaci&oacute; de cada document premer el enlla&ccedil; cap a la p&agrave;gina de la seua secci&oacute;.',
'texte_recuperer_base' => 'Reparar la base de dades',
'texte_reference_mais_redirige' => 'article referenciat a la web SPIP, pero redirigit cap a un altre URL.',
'texte_referencement_automatique' => '<b>Referenciament automatitzat d\'un web</b><br> Es pot referenciar r&agrave;pidament un lloc Web nom&eacute;s indicant ac&iacute; baix l\'adre&ccedil;a URL desitjada, o l\'adre&ccedil;a del fitxer final. SPIP recuperar&agrave; autom&agrave;ticament les dades que referents a aquesta web (T&iacute;tol, descripci&oacute;...)',
'texte_requetes_echouent' => '<b>Quan algunes peticions MySQL fracassen sistem&agrave;ticament i sense ra&oacute; aparent, &eacute;s possible que sigui per culpa de la pr&ograve;pia base de dades.</b><p>
  MySQL disposa d\'una facultat de reparaci&oacute; de les seves taules quan aquestes han estat deteriorades per accident. Aqu&iacute; podeu provar aquesta reparaci&oacute;; en cas de frac&agrave;s, conserveu una c&ograve;pia del resultat, que possiblement cont&eacute; indicis de quines coses no funcionen...<p>
  Si el problema persisteix, poseu-vos en contacte amb el vostre prove&iuml;dor d\'hostatge.<p>',
'texte_restaurer_base' => 'Restaurar el contingut d\'una c&ograve;pia de seguretat de la base',
'texte_restaurer_sauvegarde' => 'Aquesta opci&oacute; permet restaurar una c&ograve;pia de seguretat de la base de dades realitzada anteriorment. Perqu&egrave; aix&iacute; sigui, el fitxer que cont&eacute; la c&ograve;pia de seguretat s\'ha d\'haver situat en el directori <i>ecrire/data/</i>.
Sigueu prudents amb aquesta funcionalitat: <b>les modificacions o p&egrave;rdues eventuals s&oacute;n irreversibles.</b>',
'texte_sauvegarde' => 'Desar el contigut de la base',
'texte_sauvegarde_base' => 'Desar la base',
'texte_sauvegarde_compressee' => 'La c&ograve;pia de seguretat ser&agrave; feta a l\'arxiu no comprimit <b>ecrire/data/dump.xml</b>.',
'texte_selection_langue_principale' => 'A continuaci&oacute; podeu seleccionar la &laquo;llengua principal&raquo; del lloc. Aquesta selecci&oacute; no us obliga - afortunadament! - a escriure els vostres articles en la llengua escollida, per&ograve; permet determinar:
<ul><li> el format per defecte de les dates en el lloc p&uacute;blic;</li>
<li> la naturalesa del motor tipogr&agrave;fic que l\'SPIP ha d\'utilitzar per la reproducci&oacute; dels textos;</li>
<li> l\'idioma utilitzat en els formularis del lloc p&uacute;blic;</li>
<li> l\'idioma mostrat per defecte en l\'espai privat.</li></ul>',
'texte_signification' => 'Les columnes fosques representen les entrades acumulades (total de les subseccions), les columnes clares el n&uacute;mero de visites per a cada secci&oacute;.',
'texte_sous_titre' => 'Subt&iacute;tol',
'texte_statistiques_visites' => '(columnes sombrejades:  diumenge/corba obscura: evoluci&oacute; de la mitjana)',
'texte_statut_attente_validation' => 'esperant la validaci&oacute;',
'texte_statut_publies' => 'publicats en l&iacute;nia',
'texte_statut_refuses' => 'refusats',
'texte_suppression_fichiers' => 'Useu aquesta comanda per suprimir tots els fitxers presents
a la cach&eacute; d\'SPIP. Aix&ograve; permet per exemple for&ccedil;ar un rec&agrave;lcul de totes les p&agrave;gines si s\'ha
fet modificacions importants gr&agrave;ficament o estructurals del lloc web.',
'texte_sur_titre' => 'Sobret&iacute;tol',
'texte_syndication' => '&Eacute;s possible recuperar autom&agrave;ticament, quan el lloc Web ho permet, la llista de novetats. Per aix&ograve;, heu d\'activar la sindicaci&oacute;.
<blockquote><i>Alguns prove&iuml;dors d\'hostatge desactiven aquesta funcionalitat; en aquest cas, no podreu utilitzar la sindicaci&oacute; de contingut des del vostre lloc.</i></blockquote>',
'texte_table_ok' => ': aquesta taula est&agrave; OK.',
'texte_tables_indexation_vides' => 'Les taules d\'indexaci&oacute; del motor estan buides.',
'texte_tentative_recuperation' => 'Intent de reparaci&oacute;',
'texte_tenter_reparation' => 'Intentar una reparaci&oacute; de la base de dades',
'texte_test_proxy' => 'Per fer una prova d\'aquest proxy, indicar ac&iacute; l\'adre&ccedil;a del lloc Web
que es vol testar.',
'texte_titre_02' => 'T&iacute;tol:',
'texte_titre_obligatoire' => ' <B>T&iacute;tol</B> [Obligatori]',
'texte_travail_article' => '@nom_auteur_modif@ ha treballat amb aquest article fa @date_diff@ minuts',
'texte_travail_collaboratif' => 'Si &eacute;s freq&uuml;ent que diversos redactors treballin en un mateix article, el sistema pot mostrar els articles "oberts" recentment per tal d\'evitar les modificacions simult&agrave;nies.
Aquesta opci&oacute; est&agrave; desactivada per defecte amb la finalitat d\'evitar mostrar  missatges d\'advert&egrave;ncia intempestius.',
'texte_trop_resultats_auteurs' => 'Massa resultats "@cherche_auteur@" ; si us plau, fa&ccedil;a una recerca m&eacute;s acurada.',
'texte_unpack' => 'desc&agrave;rrega de la darrera versi&oacute;',
'texte_utilisation_moteur_syndiques' => 'Quan utilitzeu el motor de cerca integrat a l\'SPIP, podeu efectuar les cerques sobre els llocs i els articles sindicats de dues maneres diferents.<br><img src=\'puce.gif\'>
La m&eacute;s simple consisteix en buscar &uacute;nicament dins dels t&iacute;tols i les descripcions dels articles. <br><img src=\'puce.gif\'>
Un segon m&egrave;tode, molt m&eacute;s potent, permet a l\'SPIP buscar tamb&eacute; dins dels texts dels llocs referenciats. Si referencieu un lloc, l\'SPIP efectuar&agrave; llavors la cerca dins del text d\'aquest lloc.',
'texte_utilisation_moteur_syndiques_2' => 'Aquest metode obliga SPIP a visitar
regularment les webs referenciades,
el que pot provocar un lleuger alentiment de la vostra pr&ograve;pia web.',
'texte_vide' => 'buit',
'texte_vider_cache' => 'buidar la mem&ograve;ria cau',
'titre_admin_effacer' => 'Manteniment t&egrave;cnic',
'titre_admin_tech' => 'Manteniment t&egrave;cnic',
'titre_admin_vider' => 'Manteniment t&egrave;cnic',
'titre_articles_syndiques' => 'Articles sindicats extrets d\'aquest lloc.',
'titre_breves' => 'Les breus',
'titre_cadre_afficher_article' => 'Afegir els articles',
'titre_cadre_afficher_traductions' => 'Mostrar l\'estat de les traduccions per les seg&uuml;ents lleng&uuml;es:',
'titre_cadre_ajouter_auteur' => 'AFEGIR UN AUTOR:',
'titre_cadre_forum_administrateur' => 'F&ograve;rum privat dels administradors',
'titre_cadre_forum_interne' => 'F&ograve;rum intern',
'titre_cadre_interieur_rubrique' => 'A l\'interior de la secci&oacute;',
'titre_cadre_numero_auteur' => 'AUTOR N&Uacute;MERO',
'titre_cadre_signature_obligatoire' => '<B>Signatura</B> [Obligatoria]<BR>',
'titre_config_fonctions' => 'Configuraci&oacute; del web',
'titre_config_groupe_mots_cles' => 'Configuraci&oacute; dels grups de paraules clau',
'titre_configuration' => 'Configuraci&oacute; del lloc',
'titre_connexion_ldap' => 'Opcions: <B>Vostre connexi&oacute; LDAP</B>',
'titre_dernier_article_syndique' => 'Darrers articles sindicats',
'titre_documents_joints' => 'Documents adjunts',
'titre_evolution_visite' => 'Evaluaci&oacute; de les visites',
'titre_forum_suivi' => 'Seguiment dels f&ograve;rums',
'titre_gauche_mots_edit' => 'MOT N&Uacute;MERO:',
'titre_groupe_mots' => 'GRUP DE MOTS:',
'titre_langue_article' => 'LLENGUA DE L\'ARTICLE',
'titre_langue_breve' => 'LLENGUA DEL BREU',
'titre_langue_rubrique' => 'LLENGUA DE LA SECCI&Oacute;',
'titre_langue_trad_article' => 'LLENGUA I TRADUCCIONS DE L\'ARTICLE',
'titre_les_articles' => 'ELS ARTICLES',
'titre_mots_cles_dans_forum' => 'Paraules clau dins dels f&ograve;rums del lloc p&uacute;blic',
'titre_mots_tous' => 'Les paraules clau',
'titre_naviguer_dans_le_site' => 'Navegar dins el web...',
'titre_nouveau_groupe' => 'Grup nou',
'titre_nouvelle_breve' => 'Nova breu',
'titre_nouvelle_rubrique' => 'Nova secci&oacute;',
'titre_numero_rubrique' => 'SECCI&Oacute; N&Uacute;MERO:',
'titre_page_admin_effacer' => 'Manteniment t&egrave;cnic: esborrar la base',
'titre_page_articles_edit' => 'Modificar: @titre@',
'titre_page_articles_page' => 'Els articles',
'titre_page_articles_tous' => 'Tota la web',
'titre_page_auteurs' => 'Visitants',
'titre_page_breves' => 'Breus',
'titre_page_breves_edit' => ' Modificar la breu: " @titre@ "',
'titre_page_calendrier' => 'Calendari @nom_mois@ @annee@',
'titre_page_config_contenu' => 'Configuraci&oacute; del lloc',
'titre_page_config_fonctions' => 'Configuraci&oacute; del lloc',
'titre_page_configuration' => 'Configuraci&oacute; del lloc',
'titre_page_controle_petition' => 'Control de peticions',
'titre_page_delete_all' => 'supresi&oacute; total i irreversible',
'titre_page_documents_liste' => 'Els documents de les seccions',
'titre_page_forum' => 'F&ograve;rum dels administradors',
'titre_page_forum_envoi' => 'Enviar un missatge',
'titre_page_forum_suivi' => 'Seguiment dels f&ograve;rums',
'titre_page_index' => 'El vostre espai privat',
'titre_page_message_edit' => 'Enviar un misstge',
'titre_page_messagerie' => 'La vostra missatgeria',
'titre_page_mots_tous' => 'Paraules clau',
'titre_page_recherche' => ' Resultats de la recerca @recherche@',
'titre_page_sites_tous' => 'Webs enlla&ccedil;ades',
'titre_page_statistiques' => 'Estadistiques per seccions',
'titre_page_statistiques_referers' => 'Estadistiques (vincles entrants)',
'titre_page_statistiques_visites' => 'Estatistiques de les visites',
'titre_page_upgrade' => 'Actualitzar SPIP',
'titre_publication_articles_post_dates' => 'Publicaci&oacute; dels articles datats posteriorment',
'titre_referencement_sites' => 'Enlla&ccedil;ament de webs i sindicaci&oacute;',
'titre_referencer_site' => 'Referenciar el lloc Web:',
'titre_rendez_vous' => 'CITA:',
'titre_reparation' => ' Reparaci&oacute;',
'titre_site_numero' => 'LLOC WEB N&Uacute;MERO:',
'titre_sites_proposes' => 'Les webs proposades',
'titre_sites_references_rubrique' => 'Les webs enlla&ccedil;ades a aquesta secci&oacute;',
'titre_sites_syndiques' => 'Les webs sindicades',
'titre_sites_tous' => 'Les webs enlla&ccedil;ades',
'titre_suivi_petition' => 'Seguiment de les peticions',
'titre_syndication' => 'Sindicaci&oacute; de webs',
'trad_article_inexistant' => 'No existeix cap article que porte aquest n&uacute;mero.',
'trad_article_traduction' => 'Totes les versions d\'aquest article:',
'trad_deja_traduit' => 'Aquest article &eacute;s ja una traducci&oacute; del present article.',
'trad_delier' => 'No enlla&ccedil;ar aquest article amb aquestes traduccions',
'trad_lier' => 'Aquest article &eacute;s una traducci&oacute; de l\'article n&uacute;mero:',
'trad_new' => 'Escriure una nova traducci&oacute; d\'aquest article',


// V
'version_initiale' => 'Versi&oacute; inicial'

);


?>

--- NEW FILE: ecrire_nl.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Dit deel van de online handleiding is nog niet beschikbaar in het Nederlands.',
'avis_acces_interdit' => 'Toegang verboden',
'avis_article_modifie' => 'Opgelet, @nom_auteur_modif@ heeft @date_diff@  minuten geleden aan dit artikel gewerkt.',
'avis_aucun_resultat' => 'Geen resultaat.',
'avis_chemin_invalide_1' => 'De toegang die je hebt gekozen',
'avis_chemin_invalide_2' => 'lijkt niet geldig. Gelieve terug te keren naar de vorige pagina en de ingevulde gegevens na te kijken.',
'avis_connexion_echec_1' => 'De verbinding met de MySQL server is mislukt.',
'avis_connexion_echec_2' => 'Keer terug naar de vorige pagina en kijk de gegevens na die je hebt ingevuld.',
'avis_connexion_echec_3' => '<b>N.B.</b> Op veel servers dien je de activatie van je toegang tot de MySQL-server te <b>vragen</b> vooraleer je ze kan gebruiken. Als je geen verbinding kan maken, kijk dan na of je deze actie hebt ondernomen..',
'avis_connexion_ldap_echec_1' => 'De verbinding met de LDAP-server is mislukt.',
'avis_connexion_ldap_echec_2' => 'Ga terug naar de vorige pagina en kijk na of de ingevulde gegevens correct zijn.',
[...1014 lines suppressed...]
'titre_sites_references_rubrique' => 'Gekoppelde sites in deze rubriek',
'titre_sites_syndiques' => 'Gesyndiceerde sites',
'titre_sites_tous' => 'Gekoppelde sites',
'titre_suivi_petition' => 'Vervolg van de petities',
'titre_syndication' => 'Syndicatie van websites',
'trad_article_inexistant' => 'Er is geen artikel met dit nummer.',
'trad_article_traduction' => 'Alle versies van dit artikel:',
'trad_deja_traduit' => 'Dit artikel is reeds een vertaling van het aanwezige artikel.',
'trad_delier' => 'Dit artikel niet meer koppelen aan zijn vertalingen',
'trad_lier' => 'Dit artikel is een vertaling van artikelnummer:',
'trad_new' => 'Een nieuwe vertaling maken van dit artikel',


// V
'version_initiale' => 'Beginversie'

);


?>

--- NEW FILE: ecrire_oc_auv.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article qu&ograve; fai @date_diff@ minutas',
'avis_aucun_resultat' => 'Gran de resultat.',
'avis_chemin_invalide_1' => 'Lo chamin qu\'av&egrave;tz chausit',
'avis_chemin_invalide_2' => 'sembla pas valid. Volhatz tornar v&egrave;rs la pagina anteriora per verificar las informacions fornidas.',
'avis_connexion_echec_1' => 'La connexion au servidor MySQL a patracat.',
'avis_connexion_echec_2' => 'Tornatz v&egrave;rs la pagina anteriora, e verificatz las informacions qu\'av&egrave;tz fornidas.',
'avis_connexion_echec_3' => '<b>N.B.</b> Sus ben de servidors, dev&egrave;tz <B>demandar</b> qu\'activen v&ograve;stre acc&egrave;s v&egrave;rs la basa MySQL avans de la poder utilizar. Se vos pod&egrave;tz pas connectar, verificatz qu\'ajatz be realizat aquel procediment.',
'avis_connexion_ldap_echec_1' => 'La connexion au servidor LDAP a patracat.',
'avis_connexion_ldap_echec_2' => 'Tornatz a la pagina anteriora, e verificatz las informacions qu\'av&egrave;tz fornidas. ',
[...995 lines suppressed...]
'titre_sites_references_rubrique' => 'Los sits referenciats dins aquela rubrica',
'titre_sites_syndiques' => 'Los sits sindicats',
'titre_sites_tous' => 'Los sits referenciats',
'titre_suivi_petition' => 'Segut de las peticions',
'titre_syndication' => 'Sindicacion de sits',
'trad_article_inexistant' => 'I a gran d\'article que p&ograve;rte aquel num&egrave;ro.',
'trad_article_traduction' => 'Totas las versions d\'aquel article:',
'trad_deja_traduit' => 'Aquel article ja z-es una revirada de l\'article present.',
'trad_delier' => 'Pas mai liar aqueste article a sas reviradas ',
'trad_lier' => 'Aqueste article es una revirada de l\'article num&egrave;ro:',
'trad_new' => 'Escriure una revirada nov&egrave;la d\'aqueste article',


// V
'version_initiale' => 'Version iniciala'

);


?>

--- NEW FILE: ecrire_it.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Questa parte della guida in linea non &egrave; ancora disponibile in italiano.',
'avis_acces_interdit' => 'Accesso vietato.',
'avis_article_modifie' => 'Attenzione, @nom_auteur_modif@ ha lavorato su quest\'articolo @date_diff@ minuti fa',
'avis_aucun_resultat' => 'Nessun risultato.',
'avis_chemin_invalide_1' => 'il percorso che hai scelto',
'avis_chemin_invalide_2' => 'non sembra valido. Torna alla pagina precedente e verifica le informazioni fornite.',
'avis_connexion_echec_1' => 'il collegamento al server MySQL &egrave; fallito.',
'avis_connexion_echec_2' => 'torna alla pagina precedente e verifica le informazioni fornite.',
'avis_connexion_echec_3' => '<B>N.B.</B> Spesso sul server si deve <B>chiedere</B> l\'attivazione dell\'accesso al database MySQL prima di poterlo utilizzare. Se &egrave; impossibile collegarsi, verificare la configurazione per la connessione con l\'amministratore del sistema.',
'avis_connexion_ldap_echec_1' => 'La connessione al server LDAP &egrave; fallita.',
'avis_connexion_ldap_echec_2' => 'Torna alla pagina precedente e verifica le informazioni fornite. ',
[...997 lines suppressed...]
'titre_sites_references_rubrique' => 'I siti repertoriati in questa rubrica',
'titre_sites_syndiques' => 'I siti in syndication',
'titre_sites_tous' => 'I siti repertoriati',
'titre_suivi_petition' => 'Monitoraggio delle petizioni',
'titre_syndication' => 'Syndication di siti',
'trad_article_inexistant' => 'Non esiste un articolo con questo numero.',
'trad_article_traduction' => 'Tutte le versioni di questo articolo:',
'trad_deja_traduit' => 'L\'articolo indicato &egrave; gi&agrave; una traduzione di questo articolo.',
'trad_delier' => 'Non collegare pi&ugrave; questo articolo alle sue traduzioni',
'trad_lier' => 'Questo articolo &egrave; una traduzione dell\'articolo numero:',
'trad_new' => 'Scrivere una nuova traduzione dell\'articolo',


// V
'version_initiale' => 'Versione iniziale'

);


?>

--- NEW FILE: ecrire_oc_gsc.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Aquera part de l\'ajuda en linha n\'ei pas enq&uuml;&egrave;ra disponibla t&agrave; aquesta lenga.',
'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ qu\'a trabalhat sus aqueth article h&egrave; @date_diff@ minutas',
'avis_aucun_resultat' => 'Nat resultat.',
'avis_chemin_invalide_1' => 'Lo camin qui avetz causit',
'avis_chemin_invalide_2' => 'non sembla pas valid. Volhatz tornar a la pagina anteriora t&agrave; verificar las informacions hornidas.',
'avis_connexion_echec_1' => 'La connexion au servider MySQL que s\'i ei mauescaduda.',
'avis_connexion_echec_2' => 'Tornatz a la pagina anteriora, e verificatz las informacions qui avetz hornidas.',
'avis_connexion_echec_3' => '<B>N.B.</b> Sus h&egrave;ra de serviders, que devetz <B>demandar</b> qu\'activen lo v&ograve;ste acc&egrave;s a la basa MySQL abans de poder utilizar-la. Se ne\'vs podetz pas connectar, verificatz qu\'ajatz plan realizat aqueth procediment.',
'avis_connexion_ldap_echec_1' => 'La connexion au servider LDAP que s\'i ei mauescaduda.',
'avis_connexion_ldap_echec_2' => 'Tornatz a la pagina anteriora, e verificatz las informacions qui avetz hornidas. ',
[...996 lines suppressed...]
'titre_sites_references_rubrique' => 'Los sits referenciats dens aquera rubrica',
'titre_sites_syndiques' => 'Los sits sindicats',
'titre_sites_tous' => 'Los sits referenciats',
'titre_suivi_petition' => 'Seguit de las peticions',
'titre_syndication' => 'Sindicacion de sits',
'trad_article_inexistant' => 'N\'i a pas nat article qui p&ograve;rte aqueth num&egrave;ro.',
'trad_article_traduction' => 'Totas las versions d\'aqueth article:',
'trad_deja_traduit' => 'Aqueth article qu\'ei ja ua arrevirada de l\'article present.',
'trad_delier' => 'Non ligar plus aqueste article a las soas arreviradas ',
'trad_lier' => 'Aqueste article qu\'ei ua arrevirada de l\'article num&egrave;ro:',
'trad_new' => 'Escr&iacute;ver ua arrevirada nav&egrave;ra d\'aqueste article',


// V
'version_initiale' => 'Version iniciau'

);


?>

--- NEW FILE: ecrire_oc_lms.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Quela part de l\'ajuda en linha es pas enquera disponibla per questa lenga.',
'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article qu&ograve; fai @date_diff@ minutas',
'avis_aucun_resultat' => 'Brisa de resultat.',
'avis_chemin_invalide_1' => 'Lo chamin qu\'avetz chausit',
'avis_chemin_invalide_2' => 'sembla pas valid. Volhatz tornar vers la pagina anteriora per verificar las informacions fornidas.',
'avis_connexion_echec_1' => 'La connexion au servidor MySQL a frolhat.',
'avis_connexion_echec_2' => 'Tornatz a la pagina anteriora, e verificatz las informacions qu\'avetz fornidas.',
'avis_connexion_echec_3' => '<B>N.B.</b> Sus ben daus servidors, devetz <B>demandar</b> qu\'activen v&ograve;stre acc&egrave;s a la basa MySQL avans de la poder utilizar. Se vos podetz pas connectar, verificatz qu\'ajatz be realizat queu procediment.',
'avis_connexion_ldap_echec_1' => 'La connexion au servidor LDAP a frolhat.',
'avis_connexion_ldap_echec_2' => 'Tornatz a la pagina anteriora, e verificatz las informacions qu\'avetz fornidas. ',
[...997 lines suppressed...]
'titre_sites_references_rubrique' => 'Los sits referenciats dins quela rubrica',
'titre_sites_syndiques' => 'Los sits sindicats',
'titre_sites_tous' => 'Los sits referenciats',
'titre_suivi_petition' => 'Segut de las peticions',
'titre_syndication' => 'Sindicacion de sits',
'trad_article_inexistant' => 'I a brisa d\'article que p&ograve;rte queu numero.',
'trad_article_traduction' => 'Totas las versions de quel article:',
'trad_deja_traduit' => 'Quel article ja es una revirada de l\'article present.',
'trad_delier' => 'Pas mai liar queste article a sas reviradas ',
'trad_lier' => 'Queste article es una revirada de l\'article numero:',
'trad_new' => 'Escriure una revirada novela de queste article',


// V
'version_initiale' => 'Version iniciala'

);


?>

--- NEW FILE: ecrire_eo.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Tiu parto de la konektita helpilo ankora&#365; ne estas disponebla en tiu lingvo.',
'avis_acces_interdit' => 'Malpermesita aliro.',
'avis_article_modifie' => 'Atentu, @nom_auteur_modif@ loboris pri tiu artikolo anta&#365; @date_diff@ minutoj',
'avis_aucun_resultat' => 'Neniu rezulto.',
'avis_chemin_invalide_1' => 'La alirvojo, kiun vi elektis, ',
'avis_chemin_invalide_2' => 'ne ta&#365;gas. Bonvolu reveni al la anta&#365;a pa&#285;o kaj kontroli la enmetitajn datenojn.',
'avis_connexion_echec_1' => 'Konekto al servilo MySQL fiaskis.',
'avis_connexion_echec_2' => 'Revenu al la anta&#365;a pa&#285;o, kaj kontrolu enmetitajn datenojn.',
'avis_connexion_echec_3' => '<B>N.B.</b> &#264;e multaj serviloj, vi devas <b>peti</b> aktivadon de via aliro al MySQL-datenbazo anta&#365; ol uzi &#285;in. Se vi ne povas konekti&#285;i, kontrolu ke vi efektivigis tiun taskon.',
'avis_connexion_ldap_echec_1' => 'Konekto al servilo LDAP malsukcesis.',
'avis_connexion_ldap_echec_2' => 'Revenu al la anta&#365;a pa&#285;o, kaj kontrolu la enmetitajn datenojn. ',
[...996 lines suppressed...]
'titre_sites_references_rubrique' => 'La teksejoj referencitaj en tiu &#265;i rubriko',
'titre_sites_syndiques' => 'La kunligitaj teksejoj',
'titre_sites_tous' => 'La referencitaj teksejoj',
'titre_suivi_petition' => 'Kontrolo de la subskriblistoj',
'titre_syndication' => 'Kunligado de teksejoj',
'trad_article_inexistant' => 'Neniu artikolo kun tiu numero.',
'trad_article_traduction' => '&#264;iuj versioj de tiu artikolo&nbsp;:',
'trad_deja_traduit' => 'Tiu artikolo jam estas traduko de la kuranta artikolo.',
'trad_delier' => 'Ne plu ligi tiun artikolon kun &#285;iaj tradukoj',
'trad_lier' => 'Tiu artikolo estas traduko de la artikolo numerita&nbsp;:',
'trad_new' => 'Skribi novan tradukon de tiu artikolo',


// V
'version_initiale' => 'Komenca versio'

);


?>

--- NEW FILE: ecrire_gl.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Esta parte da axuda en li&ntilde;a a&iacute;nda non est&aacute; dispo&ntilde;ible nesta lingua.',
'avis_acces_interdit' => 'Acceso prohibido.',
'avis_article_modifie' => 'Atenci&oacute;n, @nom_auteur_modif@ ten traballado neste artigo hai @date_diff@ minutos',
'avis_aucun_resultat' => 'Ning&uacute;n resultado.',
'avis_chemin_invalide_1' => 'A ruta que elexiches',
'avis_chemin_invalide_2' => 'non semella ser v&aacute;lida. Volva &aacute; p&aacute;xina anterior e verifique as informaci&oacute;ns introducidas.',
'avis_connexion_echec_1' => 'A conexi&oacute;n ao servidor MySQL fallou.',
'avis_connexion_echec_2' => 'Volva &aacute; p&aacute;xina anterior, e verifique as informaci&oacute;ns introducidas.',
'avis_connexion_echec_3' => '<B>N.B.</B> En moitos servidores, ter&aacute; que <B>pedir</B> a activaci&oacute;n do seu acceso &aacute; base MySQL antes de podela usar. Se non d&aacute; conectado, verifique ter dado ese paso.',
'avis_connexion_ldap_echec_1' => 'A conexi&oacute;n ao servidor LDAP fallou.',
'avis_connexion_ldap_echec_2' => 'Volva &aacute; p&aacute;xina anterior, e verifique as informaci&oacute;ns introducidas.',
[...1003 lines suppressed...]
'titre_sites_references_rubrique' => 'Os lugares referidos neste tema',
'titre_sites_syndiques' => 'Os lugares afiliados',
'titre_sites_tous' => 'Os lugares referidos',
'titre_suivi_petition' => 'Seguimento das petici&oacute;ns',
'titre_syndication' => 'Afiliaci&oacute;n de lugares',
'trad_article_inexistant' => 'Non hai artigo que leve este n&uacute;mero.',
'trad_article_traduction' => 'Todas as versi&oacute;ns deste artigo&nbsp;:',
'trad_deja_traduit' => 'Este artigo xa &eacute; unha traduci&oacute;n do presente artigo.',
'trad_delier' => 'Non ligar xa este artigo a estas traduci&oacute;ns',
'trad_lier' => 'Este artigo &eacute; unha traduci&oacute;n do artigo n&uacute;mero&nbsp;:',
'trad_new' => 'Escribir unha nova traduci&oacute;n deste artigo',


// V
'version_initiale' => 'Versi&oacute;n inicial'

);


?>

--- NEW FILE: ecrire_fa.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => '&#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1603;&#1605;&#1603;&#1609; &#1576;&#1585;&#1575;&#1609; &#1575;&#1610;&#1606; &#1586;&#1576;&#1575;&#1606; &#1607;&#1606;&#1608;&#1586; &#1583;&#1585; &#1583;&#1587;&#1578;&#1585;&#1587; &#1606;&#1605;&#1609; &#1576;&#1575;&#1588;&#1583;',
'avis_acces_interdit' => '&#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1605;&#1605;&#1606;&#1608;&#1593; &#1605;&#1609; &#1576;&#1575;&#1588;&#1583;',
'avis_article_modifie' => '&#1578;&#1608;&#1580;&#1607; &#1548;              @nom_auteur_modif@                                        &#1585;&#1608;&#1609; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; @date_diff@ &#1662;&#1610;&#1588; &#1603;&#1575;&#1585; &#1605;&#1610;&#1603;&#1585;&#1583;&#1607;',
'avis_aucun_resultat' => '.&#1576;&#1583;&#1608;&#1606; &#1606;&#1578;&#1610;&#1580;&#1607;',
'avis_chemin_invalide_1' => '&#1585;&#1575;&#1607;&#1609; &#1603;&#1607; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1585;&#1583;&#1607; &#1575;&#1610;&#1583;',
'avis_chemin_invalide_2' => '&#1605;&#1593;&#1578;&#1576;&#1585; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;. &#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1576;&#1607; &#1589;&#1601;&#1581;&#1607; &#1662;&#1610;&#1588;&#1610;&#1606; &#1576;&#1585;&#1711;&#1585;&#1583;&#1610;&#1583; &#1608; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1583;&#1575;&#1583;&#1607; &#1588;&#1583;&#1607; &#1585;&#1575; &#1576;&#1575;&#1586;&#1606;&#1711;&#1585;&#1609; &#1603;&#1606;&#1610;&#1583;',
'avis_connexion_echec_1' => '(MySQL).&#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1576;&#1575; &#1587;&#1585;&#1608;&#1585;  &#1576;&#1585;&#1602;&#1585;&#1575;&#1585; &#1606;&#1588;&#1583;',
'avis_connexion_echec_2' => '&#1576;&#1607; &#1589;&#1601;&#1581;&#1607; &#1662;&#1610;&#1588;&#1610;&#1606; &#1576;&#1585;&#1711;&#1585;&#1583;&#1610;&#1583; &#1608; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578;&#1610; &#1585;&#1575; &#1603;&#1607; &#1583;&#1575;&#1583;&#1607; &#1575;&#1610;&#1583; &#1576;&#1575;&#1586;&#1606;&#1711;&#1585;&#1609; &#1603;&#1606;&#1610;&#1583;',
'avis_connexion_echec_3' => ' &#1576;&#1585;&#1575;&#1609; &#1578;&#1593;&#1583;&#1575;&#1583;&#1609; &#1575;&#1586; &#1587;&#1585;&#1608;&#1585;&#1607;&#1575; &#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578; &#1601;&#1593;&#1575;&#1604; &#1603;&#1585;&#1583;&#1606; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1605;&#1575;&#1609; &#1575;&#1587; &#1603;&#1610;&#1608; &#1575;&#1604; &#1585;&#1575; &#1662;&#1610;&#1588; &#1575;&#1586; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1570;&#1606; &#1576;&#1603;&#1606;&#1610;&#1583;. &#1575;&#1711;&#1585; &#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1576;&#1585;&#1602;&#1585;&#1575;&#1585; &#1606;&#1588;&#1583; &#1605;&#1591;&#1605;&#1574;&#1606; &#1588;&#1608;&#1610;&#1583; &#1603;&#1607; &#1575;&#1610;&#1606; &#1603;&#1575;&#1585; &#1585;&#1575; &#1575;&#1606;&#1580;&#1575;&#1605; &#1583;&#1575;&#1583;&#1607; &#1575;!
 &#1610;&#1583;              ',
'avis_connexion_ldap_echec_1' => 'LDAP.&#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1576;&#1575; &#1587;&#1585;&#1608;&#1585; &#1575;&#1604; &#1583;&#1609; &#1575; &#1662;&#1609; &#1576;&#1585;&#1602;&#1585;&#1575;&#1585; &#1606;&#1588;&#1583;                ',
'avis_connexion_ldap_echec_2' => '&#1576;&#1607; &#1589;&#1601;&#1581;&#1607; &#1662;&#1610;&#1588; &#1576;&#1585;&#1711;&#1585;&#1583;&#1610;&#1583; &#1608; &#1576;&#1576;&#1610;&#1606;&#1610;&#1583; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578;&#1610; &#1585;&#1575; &#1603;&#1607; &#1583;&#1575;&#1583;&#1607; &#1575;&#1610;&#1583; &#1589;&#1581;&#1610;&#1581; &#1605;&#1610;&#1576;&#1575;&#1588;&#1606;&#1583;',
'avis_connexion_ldap_echec_3' => '&#1575;&#1586; &#1587;&#1610;&#1587;&#1578;&#1605; &#1575;&#1604; &#1583;&#1609; &#1575; &#1662;&#1609; &#1576;&#1607; &#1591;&#1608;&#1585; &#1662;&#1609; &#1583;&#1585; &#1662;&#1609; &#1576;&#1585;&#1575;&#1609; &#1608;&#1585;&#1608;&#1583; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1606;&#1603;&#1606;&#1610;&#1583;',
'avis_conseil_selection_mot_cle' => '<b>&#1711;&#1585;&#1608;&#1607; &#1605;&#1607;&#1605;&nbsp;:</b>&#1578;&#1608;&#1589;&#1610;&#1607; &#1605;&#1610;&#1588;&#1608;&#1583; &#1603;&#1607; &#1610;&#1603; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583; &#1583;&#1585; &#1575;&#1610;&#1606; &#1711;&#1585;&#1608;&#1607; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583; ',
'avis_deplacement_rubrique' => '&#1578;&#1608;&#1580;&#1607; ! &#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1583;&#1575;&#1585;&#1575;&#1609;@contient_breves@ br&egrave;ve at scb@&nbsp;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583; : &#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1583;&#1585;&#1589;&#1608;&#1585;&#1578; &#1580;&#1575;&#1576;&#1580;&#1575;&#1574;&#1610; &#1570;&#1606;&#1548; &#1593;&#1604;&#1575;&#1605;&#1578; &#1605;&#1585;&#1576;&#1608;&#1591;&#1607; &#1585;&#1575; &#1578;&#1575;&#1574;&#1610;&#1583; &#1603;&#1606;&#1610;&#1583; ',
'avis_destinataire_obligatoire' => '&#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1711;&#1610;&#1585;&#1606;&#1583;&#1607; &#1585;&#1575; &#1662;&#1610;&#1588; &#1575;&#1586; &#1601;&#1585;&#1587;&#1578;&#1575;&#1583;&#1606; &#1662;&#1610;&#1575;&#1605; &#1605;&#1588;&#1582;&#1589; &#1606;&#1605;&#1575;&#1610;&#1610;&#1583;.',
'avis_erreur_connexion_mysql' => 'MySQL  &#1582;&#1591;&#1575;&#1609; &#1575;&#1578;&#1589;&#1575;&#1604;    ',
'avis_erreur_version_archive' => '<B>&#1578;&#1608;&#1580;&#1607; ! &#1601;&#1575;&#1610;&#1604;    @archive@ &#1576;&#1575; &#1606;&#1587;&#1582;&#1607; &#1583;&#1610;&#1711;&#1585;&#1609; &#1594;&#1610;&#1585; &#1575;&#1586; &#1606;&#1587;&#1582;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1588;&#1605;&#1575; &#1605;&#1591;&#1575;&#1576;&#1602;&#1578; &#1605;&#1610;&#1603;&#1606;&#1583;. </b> :&#1588;&#1605;&#1575; &#1576;&#1607; &#1605;&#1588;&#1603;&#1604;&#1575;&#1578; &#1593;&#1605;&#1583;&#1607; &#1575;&#1609; &#1576;&#1585;&#1582;&#1608;&#1585;&#1583; &#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1603;&#1585;&#1583; : &#1575;&#1586; &#1576;&#1610;&#1606; &#1585;&#1601;&#1578;&#1606; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;&#1548; &#1575;&#1582;&#1578;&#1604;&#1575;&#1604;&#1575;&#1578; &#1711;&#1608;&#1606;&#1575;&#1711;&#1608;&#1606; &#1583;&#1585; &#1603;&#1575;&#1585; &#1587;&#1575;&#1610;&#1578;&#1548; &#1608; &#1594;&#1610;&#1585;&#1607;. &#158!
 3;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578; &#1608;&#1575;&#1585;&#1583;&#1575;&#1578; &#1585;&#1575; &#1578;&#1575;&#1574;&#1610;&#1583; &#1606;&#1603;&#1606;&#1610;&#1583;. &#1576;&#1585;&#1575;&#1609; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1576;&#1610;&#1588;&#1578;&#1585; &#1585;&#1580;&#1608;&#1593; &#1603;&#1606;&#1610;&#1583; &#1576;&#1607; : HREF=\'http://www.spip.net/fr_article1489.html\'>
                                la documentation de SPIP</a>.',
'avis_espace_interdit' => '<B>&#1576;&#1582;&#1588; &#1605;&#1605;&#1606;&#1608;&#1593;</b><p> &#1575;&#1587;&#1662;&#1610;&#1662; &#1575;&#1586; &#1662;&#1610;&#1588; &#1606;&#1589;&#1576; &#1588;&#1583;&#1607;',
'avis_lecture_noms_bases_1' => '  &#1576;&#1585;&#1606;&#1575;&#1605;&#1607; &#1606;&#1589;&#1576;&#1609; &#1606;&#1578;&#1608;&#1575;&#1606;&#1587;&#1578; &#1606;&#1575;&#1605; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;&#1609; &#1605;&#1587;&#1578;&#1602;&#1585; &#1588;&#1583;&#1607; &#1585;&#1575; &#1576;&#1582;&#1608;&#1575;&#1606;&#1583; ',
'avis_lecture_noms_bases_2' => '  &#1610;&#1575; &#1607;&#1610;&#1670; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607;&#1609; &#1605;&#1608;&#1580;&#1608;&#1583; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;&#1548; &#1610;&#1575; &#1603;&#1575;&#1585;&#1603;&#1585;&#1583;&#1609; &#1603;&#1607; &#1575;&#1580;&#1575;&#1586;&#1607; &#1601;&#1607;&#1585;&#1587;&#1578; &#1711;&#1584;&#1575;&#1585;&#1609; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1607;&#1575; &#1585;&#1575;&#1605;&#1610;&#1583;&#1607;&#1583; &#1576;&#1583;&#1604;&#1575;&#1610;&#1604; &#1575;&#1610;&#1605;&#1606;&#1609; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1588;&#1583;&#1607; &#1575;&#1587;&#1578;     (&#1605;&#1608;&#1585;&#1583; &#1576;&#1593;&#1590;&#1609; &#1575;&#1586; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1575;&#1606; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;)',
'avis_lecture_noms_bases_3' => ' &#1583;&#1585;  &#1711;&#1586;&#1610;&#1606;&#1588; &#1583;&#1608;&#1605;&#1548; &#1575;&#1610;&#1606; &#1575;&#1581;&#1578;&#1605;&#1575;&#1604; &#1608;&#1580;&#1608;&#1583; &#1583;&#1575;&#1585;&#1583; &#1603;&#1607; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607;&#1609;   &#1603;&#1607; &#1581;&#1575;&#1605;&#1604; &#1606;&#1575;&#1605; &#1588;&#1605;&#1575; &#1576;&#1585;&#1575;&#1609; &#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1588;&#1583;&#1607; &#1576;&#1575;&#1588;&#1583;',
'avis_non_acces_message' => '&#1575;&#1610;&#1606; &#1662;&#1610;&#1575;&#1605; &#1583;&#1585; &#1583;&#1587;&#1578;&#1585;&#1587; &#1588;&#1605;&#1575; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'avis_non_acces_page' => '&#1575;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607; &#1583;&#1585; &#1583;&#1587;&#1578;&#1585;&#1587; &#1588;&#1605;&#1575; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'avis_operation_echec' => ' .&#1593;&#1605;&#1604;&#1610;&#1575;&#1578; &#1588;&#1603;&#1587;&#1578; &#1582;&#1608;&#1585;&#1583;',
'avis_probleme_archive' => '@archive@  &#1575;&#1588;&#1603;&#1575;&#1604; &#1583;&#1585; &#1582;&#1608;&#1575;&#1606;&#1583;&#1606; &#1601;&#1575;&#1610;&#1604;',
'avis_site_introuvable' => '&#1587;&#1575;&#1610;&#1578; &#1662;&#1610;&#1583;&#1575; &#1606;&#1605;&#1610;&#1588;&#1608;&#1583;',
'avis_site_syndique_probleme' => '&#1578;&#1608;&#1580;&#1607;: &#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1576;&#1575; &#1583;&#1610;&#1711;&#1585; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1578;&#1576;&#1591; &#1576;&#1607; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1576;&#1607; &#1605;&#1588;&#1603;&#1604;&#1609; &#1576;&#1585;&#1582;&#1608;&#1585;&#1583; &#1603;&#1585;&#1583;&#1607; &#1575;&#1587;&#1578;&#1563; &#1608; &#1587;&#1610;&#1587;&#1578;&#1605; &#1605;&#1608;&#1602;&#1578;&#1571;  &#1602;&#1591;&#1593; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; . &#1576;&#1607; &#1601;&#1575;&#1610;&#1604; &#1601;&#1607;&#1585;&#1587;&#1578; &#1578;&#1575;&#1586;&#1607; &#1607;&#1575; &#1609; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578;  &#1606;&#1711;&#1575;&#1607; &#1603;&#1606;&#1610;&#1583;&#1548; (<b>@url_syndic@</b>)&#1608; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1576;&#1585;&#1575;&#1609; &#1583;&#1585;&#1610;&#1575;&#1601;&!
 #1578; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1580;&#1583;&#1610;&#1583; &#1575;&#1602;&#1583;&#1575;&#1605; &#1603;&#1606;&#1610;&#1583;. ',
'avis_sites_probleme_syndication' => '&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575; &#1605;&#1588;&#1603;&#1604; &#1662;&#1610;&#1608;&#1606;&#1583; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1583;&#1610;&#1711;&#1585; &#1585;&#1575; &#1583;&#1575;&#1585;&#1606;&#1583; ',
'avis_sites_syndiques_probleme' => '&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1576;&#1607; &#1605;&#1588;&#1603;&#1604;&#1609; &#1576;&#1585;&#1582;&#1608;&#1585;&#1583;&#1607; &#1575;&#1606;&#1583;',
'avis_suppression_base' => ' &#1578;&#1608;&#1580;&#1607;! &#1581;&#1584;&#1601; &#1583;&#1575;&#1583;&#1607; &#1607;&#1575; &#1594;&#1610;&#1585; &#1602;&#1575;&#1576;&#1604; &#1576;&#1585;&#1711;&#1588;&#1578; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'avis_version_mysql' => '      &#1606;&#1587;&#1582;&#1607; &#1578;&#1575;&#1606; &#1575;&#1580;&#1575;&#1586;&#1607; &#1578;&#1593;&#1605;&#1610;&#1585; &#1582;&#1608;&#1583; &#1576;&#1582;&#1608;&#1583; &#1580;&#1583;&#1575;&#1608;&#1604; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1585;&#1575; &#1606;&#1605;&#1610;&#1583;&#1607;&#1583; MySQL (@version_mysql@)',


// B
'bouton_acces_ldap' => '  << &#1585;&#1575; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583; LDAP &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607;',
'bouton_ajouter' => '&#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;',
'bouton_ajouter_participant' => ':&nbsp;&#1610;&#1603; &#1588;&#1585;&#1603;&#1578; &#1603;&#1606;&#1606;&#1583;&#1607; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;',
'bouton_annonce' => '&#1582;&#1576;&#1585;',
'bouton_checkbox_envoi_message' => '&#1575;&#1605;&#1603;&#1575;&#1606; &#1601;&#1585;&#1587;&#1578;&#1575;&#1583;&#1606; &#1662;&#1610;&#1575;&#1605;',
'bouton_checkbox_indiquer_site' => '&#1610;&#1603; &#1587;&#1575;&#1610;&#1578; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1585;&#1575; &#1575;&#1604;&#1586;&#1575;&#1605;&#1571; &#1605;&#1588;&#1582;&#1589; &#1603;&#1606;&#1610;&#1583;',
'bouton_checkbox_qui_attribue_mot_cle_administrateurs' => '&#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;',
'bouton_checkbox_qui_attribue_mot_cle_redacteurs' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606;',
'bouton_checkbox_qui_attribue_mot_cle_visiteurs' => '&#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1607;&#1606;&#1711;&#1575;&#1605;&#1609; &#1603;&#1607; &#1662;&#1610;&#1575;&#1605;&#1609; &#1583;&#1585; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1605;&#1610;&#1601;&#1585;&#1587;&#1578;&#1606;&#1583;',
'bouton_checkbox_signature_unique_email' => '&#1578;&#1606;&#1607;&#1575; &#1610;&#1603; &#1575;&#1605;&#1590;&#1575;&#1569; &#1576;&#1585;&#1575;&#1609; &#1607;&#1585; &#1570;&#1583;&#1585;&#1587; &#1575;&#1604;&#1603;&#1578;&#1585;&#1608;&#1606;&#1610;&#1603;&#1609;',
'bouton_checkbox_signature_unique_site' => '&#1578;&#1606;&#1607;&#1575; &#1610;&#1603; &#1575;&#1605;&#1590;&#1575;&#1569; &#1576;&#1585;&#1575;&#1609; &#1607;&#1585; &#1587;&#1575;&#1610;&#1578; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575;',
'bouton_demande_publication' => '&#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1585;&#1575; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578; &#1603;&#1606;&#1610;&#1583;  ',
'bouton_effacer_index' => '&#1601;&#1607;&#1585;&#1587;&#1578; &#1585;&#1575; &#1662;&#1575;&#1603; &#1603;&#1606;&#1610;&#1583;',
'bouton_effacer_tout' => '&#1607;&#1605;&#1607; &#1585;&#1575; &#1662;&#1575;&#1603; &#1603;&#1606;&#1610;&#1583;',
'bouton_envoi_message_02' => '&#1610;&#1603; &#1662;&#1610;&#1575;&#1605; &#1576;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'bouton_envoyer_message' => '&#1662;&#1610;&#1575;&#1605; &#1570;&#1605;&#1575;&#1583;&#1607; : &#1576;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'bouton_forum_petition' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1608; &#1583;&#1585; &#1582;&#1608;&#1575;&#1587;&#1578; ',
'bouton_modifier' => '&#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583;',
'bouton_pense_bete' => '&#1610;&#1575;&#1583;&#1583;&#1575;&#1588;&#1578; &#1576;&#1585;&#1575;&#1609; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1588;&#1582;&#1589;&#1609;',
'bouton_radio_activer_messagerie' => '&#1662;&#1610;&#1575;&#1605; &#1711;&#1610;&#1585; &#1583;&#1575;&#1582;&#1604;&#1609; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'bouton_radio_activer_messagerie_interne' => '&#1662;&#1610;&#1575;&#1605; &#1711;&#1610;&#1585; &#1583;&#1575;&#1582;&#1604;&#1609; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'bouton_radio_activer_petition' => '&#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'bouton_radio_afficher' => '&#1606;&#1588;&#1575;&#1606; &#1583;&#1607;&#1610;&#1583;',
'bouton_radio_apparaitre_liste_redacteurs_connectes' => '&#1583;&#1585; &#1601;&#1607;&#1585;&#1587;&#1578; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606;&#1609; &#1603;&#1607; &#1576;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1608;&#1589;&#1604; &#1607;&#1587;&#1578;&#1606;&#1583; &#1592;&#1575;&#1607;&#1585; &#1588;&#1608;&#1583;',
'bouton_radio_articles_futurs' => ' ( &#1605;&#1606;&#1581;&#1589;&#1585;&#1571; &#1576;&#1585;&#1575;&#1609; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1570;&#1610;&#1606;&#1583;&#1607; (&#1576;&#1585; &#1585;&#1608;&#1609;  &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575; &#1576;&#1609; &#1578;&#1571;&#1579;&#1610;&#1585; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'bouton_radio_articles_tous' => '&#1576;&#1607; &#1578;&#1605;&#1575;&#1605;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1548; &#1576;&#1583;&#1608;&#1606; &#1575;&#1587;&#1578;&#1579;&#1606;&#1575;&#1569;',
'bouton_radio_articles_tous_sauf_forum_desactive' => '&#1576;&#1607; &#1578;&#1605;&#1575;&#1605;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1548; &#1576;&#1580;&#1586; &#1570;&#1606;&#1607;&#1575;&#1574;&#1609; &#1603;&#1607; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607;&#1588;&#1575;&#1606; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1575;&#1587;&#1578;. ',
'bouton_radio_desactiver_messagerie' => '&#1662;&#1662;&#1575;&#1605; &#1711;&#1610;&#1585; &#1585;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'bouton_radio_enregistrement_obligatoire' => '&#1590;&#1576;&#1591; &#1575;&#1580;&#1576;&#1575;&#1585;&#1609;&#1548; (&#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1576;&#1575;&#1610;&#1583;, &#1576;&#1585;&#1575;&#1609; &#1583;&#1575;&#1588;&#1578;&#1606; &#1570;&#1583;&#1585;&#1587; &#1575;&#1604;&#1603;&#1578;&#1585;&#1608;&#1606;&#1610;&#1603;&#1609;  &#1605;&#1588;&#1578;&#1585;&#1603; &#1588;&#1608;&#1606;&#1583; &#1578;&#1575; &#1576;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1662;&#1610;&#1575;&#1605;&#1607;&#1575;&#1610;&#1588;&#1575;&#1606; &#1585;&#1575; &#1662;&#1587;&#1578; &#1603;&#1606;&#1606;&#1583;)      ',
'bouton_radio_envoi_annonces_adresse' => ':&#1582;&#1576;&#1585;&#1607;&#1575; &#1585;&#1575; &#1576;&#1607; &#1575;&#1610;&#1606; &#1570;&#1583;&#1585;&#1587; &#1576;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'bouton_radio_envoi_liste_nouveautes' => '&#1601;&#1607;&#1585;&#1587;&#1578; &#1578;&#1575;&#1586;&#1607; &#1607;&#1575; &#1585;&#1575; &#1576;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;:',
'bouton_radio_moderation_priori' => '&#1662;&#1610;&#1575;&#1605;&#1607;&#1575; &#1662;&#1587; &#1575;&#1586; &#1578;&#1571;&#1574;&#1610;&#1583; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1606;&#1605;&#1575;&#1610;&#1575;&#1606; &#1605;&#1610;&#1588;&#1608;&#1606;&#1583;',
'bouton_radio_modere_abonnement' => '&#1576;&#1585;&#1575;&#1609; &#1605;&#1588;&#1578;&#1585;&#1603;&#1610;&#1606;',
'bouton_radio_modere_posteriori' => '&#1575;&#1593;&#1604;&#1575;&#1606; &#1662;&#1610;&#1588; &#1575;&#1586; &#1578;&#1571;&#1574;&#1610;&#1583;',
'bouton_radio_modere_priori' => '&#1575;&#1593;&#1604;&#1575;&#1606; &#1662;&#1587; &#1575;&#1586; &#1578;&#1571;&#1574;&#1610;&#1583;',
'bouton_radio_non_apparaitre_liste_redacteurs_connectes' => '&#1583;&#1585; &#1601;&#1607;&#1585;&#1587;&#1578; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607;&#1575; &#1606;&#1605;&#1575;&#1610;&#1575;&#1606; &#1606;&#1588;&#1608;&#1583;',
'bouton_radio_non_envoi_annonces_editoriales' => '&#1582;&#1576;&#1585;&#1607;&#1575;&#1609; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1587;&#1585; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575; &#1585;&#1575; &#1606;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'bouton_radio_non_syndication' => '&#1576;&#1583;&#1608;&#1606; &#1662;&#1610;&#1608;&#1606;&#1583; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1583;&#1610;&#1711;&#1585;',
'bouton_radio_occidental' => ' (<tt>iso-8859-1</tt>):&#1575;&#1604;&#1601;&#1576;&#1575;&#1609; &#1594;&#1585;&#1576;&#1609; &#1603;&#1607; &#1607;&#1605;&#1607; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1605;&#1610;&#1603;&#1606;&#1606;&#1583; &#1601;&#1602;&#1591; &#1575;&#1605;&#1603;&#1575;&#1606; &#1585;&#1608;&#1610;&#1578; &#1586;&#1576;&#1575;&#1606;&#1607;&#1575;&#1609; &#1575;&#1585;&#1608;&#1662;&#1575;&#1609; &#1594;&#1585;&#1576;&#1609; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;  &#1575;&#1606;&#1711;&#1604;&#1610;&#1587;&#1609;&#1548; &#1601;&#1585;&#1575;&#1606;&#1587;&#1608;&#1609;&#1548; &#1570;&#1604;&#1605;&#1575;&#1606;&#1609;...',
'bouton_radio_pas_petition' => '&#1576;&#1583;&#1608;&#1606; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578;',
'bouton_radio_personnalise' => '&#1606;&#1608;&#1610;&#1587;&#1607; &#1607;&#1575;&#1609; &#1608;&#1610;&#1688;&#1607; : &#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1585;&#1575;&#1576;&#1585;&#1575;&#1609; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1606;&#1608;&#1610;&#1587;&#1607; &#1607;&#1575;&#1609; &#1608;&#1610;&#1688;&#1607; &#1576;&#1603;&#1575;&#1585; &#1576;&#1585;&#1610;&#1583;',
'bouton_radio_petition_activee' => '&#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578;&#1548; &#1601;&#1593;&#1575;&#1604; &#1588;&#1583;&#1607;',
'bouton_radio_publication_immediate' => '&#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1601;&#1608;&#1585;&#1609; &#1662;&#1610;&#1575;&#1605;&#1607;&#1575; 
 (&#1662;&#1610;&#1575;&#1605;&#1607;&#1575; &#1576;&#1605;&#1581;&#1590; &#1601;&#1585;&#1587;&#1578;&#1575;&#1583;&#1607; &#1588;&#1583;&#1606; &#1606;&#1605;&#1575;&#1610;&#1575;&#1606; &#1605;&#1610;&#1588;&#1608;&#1606;&#1583; &#1587;&#1662;&#1587; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1570;&#1606;&#1607;&#1575; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1606;&#1583;)',
'bouton_radio_sauvegarde_compressee' => '&#1584;&#1582;&#1610;&#1585;&#1607; &#1601;&#1588;&#1585;&#1583;&#1607; &#1583;&#1585;  <b>ecrire/data/dump.xml.gz</b>',
'bouton_radio_sauvegarde_non_compressee' => '&#1584;&#1582;&#1610;&#1585;&#1607; &#1601;&#1588;&#1585;&#1583;&#1607; &#1606;&#1588;&#1583;&#1607; &#1583;&#1585;<b>ecrire/data/dump.xml</b>',
'bouton_radio_supprimer_petition' => '&#1581;&#1584;&#1601; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578;',
'bouton_radio_syndication' => '&#1662;&#1610;&#1608;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1609;',
'bouton_radio_universel' => ' (<tt>utf-8</tt>) &#1575;&#1604;&#1601;&#1576;&#1575;&#1609; &#1580;&#1607;&#1575;&#1606;&#1609; : &#1575;&#1605;&#1603;&#1575;&#1606; &#1585;&#1608;&#1610;&#1578; &#1578;&#1605;&#1575;&#1605;&#1609; &#1586;&#1576;&#1575;&#1606;&#1607;&#1575; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;&#1548; &#1575;&#1605;&#1575; &#1583;&#1585; &#1581;&#1575;&#1604; &#1581;&#1575;&#1590;&#1585;&#1576;&#1585;&#1575;&#1609; &#1607;&#1605;&#1607; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1602;&#1575;&#1576;&#1604; &#1588;&#1606;&#1575;&#1587;&#1575;&#1574;&#1609; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'bouton_redirection' => '&#1607;&#1583;&#1575;&#1610;&#1578; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607;',
'bouton_relancer_installation' => '&#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1606;&#1589;&#1576; &#1603;&#1606;&#1610;&#1583;',
'bouton_restaurer_base' => '&#1576;&#1575;&#1586; &#1587;&#1575;&#1586;&#1609; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607;',
'bouton_suivant' => '&#1576;&#1593;&#1583;&#1609;',
'bouton_tenter_recuperation' => '&#1575;&#1602;&#1583;&#1575;&#1605; &#1576;&#1607; &#1578;&#1593;&#1605;&#1610;&#1585; &#1603;&#1606;&#1610;&#1583;',
'bouton_test_proxy' => '&#1662;&#1585;&#1608;&#1603;&#1587;&#1609; &#1585;&#1575; &#1575;&#1605;&#1578;&#1581;&#1575;&#1606; &#1603;&#1606;&#1610;&#1583;',
'bouton_vider_cache' => '&#1601;&#1575;&#1610;&#1604; &#1605;&#1608;&#1602;&#1578; &#1585;&#1575; &#1582;&#1575;&#1604;&#1609; &#1603;&#1606;&#1610;&#1583;',
'bouton_voir_message' => '&#1575;&#1610;&#1606; &#1662;&#1610;&#1575;&#1605; &#1585;&#1575; &#1662;&#1610;&#1588; &#1575;&#1586; &#1605;&#1593;&#1578;&#1576;&#1585; &#1603;&#1585;&#1583;&#1606; &#1576;&#1582;&#1608;&#1575;&#1606;&#1610;&#1583;',


// C
'cache_mode_compresse' => '&#1601;&#1575;&#1610;&#1604;&#1607;&#1575;&#1609; &#1662;&#1606;&#1607;&#1575;&#1606; &#1576;&#1589;&#1608;&#1585;&#1578; &#1601;&#1588;&#1585;&#1583;&#1607; &#1584;&#1582;&#1610;&#1585;&#1607; &#1588;&#1583;&#1607; &#1575;&#1606;&#1583;.',
'cache_mode_non_compresse' => '&#1575;&#1610;&#1606; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575;&#1609; &#1662;&#1606;&#1607;&#1575;&#1606; &#1576;&#1589;&#1608;&#1585;&#1578; &#1601;&#1588;&#1585;&#1583;&#1607; &#1584;&#1582;&#1610;&#1585;&#1607; &#1606;&#1588;&#1583;&#1607; &#1575;&#1606;&#1583;.',
'cache_modifiable_webmestre' => '&#1575;&#1610;&#1606; &#1662;&#1575;&#1585;&#1575;&#1605;&#1578;&#1585;&#1607;&#1575; &#1585;&#1575; &#1608;&#1576; &#1605;&#1587;&#1578;&#1585; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1583;.',
'calendrier_synchro' => ' &#1583;&#1585;&#1589;&#1608;&#1585;&#1578; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1575;&#1586; &#1606;&#1585;&#1605; &#1575;&#1601;&#1586;&#1575;&#1585;&#1607;&#1575;&#1609; &#1585;&#1608;&#1586;&#1588;&#1605;&#1575;&#1585; &#1608;&#1610;&#1688;&#1607;<b>iCal</b>, &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1570;&#1606;&#1585;&#1575; &#1576;&#1575; &#1605;&#1591;&#1575;&#1604;&#1576; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1605;&#1606;&#1591;&#1576;&#1602; &#1603;&#1606;&#1610;&#1583;',


// D
'date_mot_heures' => '&#1587;&#1575;&#1593;&#1578;',
'diff_para_ajoute' => '&#1576;&#1606;&#1583; &#1575;&#1590;&#1575;&#1601;&#1607; &#1588;&#1583;&#1607;',
'diff_para_deplace' => '&#1576;&#1606;&#1583; &#1580;&#1575;&#1576;&#1580;&#1575; &#1588;&#1583;&#1607;',
'diff_para_supprime' => '&#1576;&#1606;&#1583; &#1581;&#1584;&#1601; &#1588;&#1583;&#1607;',
'diff_texte_ajoute' => '&#1605;&#1578;&#1606; &#1575;&#1590;&#1575;&#1601;&#1607; &#1588;&#1583;&#1607;',
'diff_texte_deplace' => '&#1605;&#1578;&#1606; &#1580;&#1575;&#1576;&#1580;&#1575; &#1588;&#1583;&#1607;',
'diff_texte_supprime' => '&#1605;&#1578;&#1606; &#1581;&#1584;&#1601; &#1588;&#1583;&#1607;',


// E
'email' => '&#1575;&#1610;&#1605;&#1610;&#1604;',
'email_2' => ': &#1575;&#1610;&#1605;&#1610;&#1604; ',
'entree_adresse_annuaire' => '&#1570;&#1583;&#1585;&#1587; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;',
'entree_adresse_email' => '&#1570;&#1583;&#1585;&#1587; &#1575;&#1610;&#1605;&#1610;&#1604; &#1588;&#1605;&#1575; ',
'entree_adresse_fichier_syndication' => '&#1570;&#1583;&#1585;&#1587; &#1601;&#1575;&#1610;&#1604; &laquo;&nbsp;backend&nbsp;&raquo; &#1576;&#1585;&#1575;&#1609; &#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1605;&#1610;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;&#1609;                  ',
'entree_adresse_site' => ' </b> &#1570;&#1583;&#1585;&#1587; &#1587;&#1575;&#1610;&#1578; <b>[&#1575;&#1580;&#1576;&#1575;&#1585;&#1609;] ',
'entree_base_donnee_1' => '&#1570;&#1583;&#1585;&#1587; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;',
'entree_base_donnee_2' => '&#1575;&#1594;&#1604;&#1576;, &#1575;&#1610;&#1606; &#1570;&#1583;&#1585;&#1587; &#1576;&#1575; &#1570;&#1583;&#1585;&#1587; &#1587;&#1575;&#1610;&#1578;&#1578;&#1608;&#1606; &#1605;&#1591;&#1575;&#1576;&#1602;&#1578; &#1605;&#1610;&#1603;&#1606;&#1583; &#1711;&#1575;&#1607;&#1609; &#1576;&#1575; &#1711;&#1586;&#1610;&#1606;&#1588; &laquo;localhost&raquo;  &#1605;&#1591;&#1575;&#1576;&#1602;&#1578; &#1608; &#1711;&#1575;&#1607;&#1609; &#1603;&#1575;&#1605;&#1604;&#1571; &#1582;&#1575;&#1604;&#1610;&#1587;&#1578;)',
'entree_biographie' => '&#1586;&#1606;&#1583;&#1711;&#1610;&#1606;&#1575;&#1605;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1583;&#1585; &#1670;&#1606;&#1583; &#1603;&#1604;&#1605;&#1607;',
'entree_breve_publiee' => '&#1570;&#1610;&#1575; &#1575;&#1610;&#1606; &#1605;&#1591;&#1604;&#1576; &#1603;&#1608;&#1578;&#1575;&#1607; &#1576;&#1575;&#1610;&#1583; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1608;&#1583;&#1567;',
'entree_chemin_acces' => ' : &nbsp;&#1585;&#1575;&#1607; &#1608;&#1585;&#1608;&#1583; </b> &#1608;&#1575;&#1585;&#1583; &#1588;&#1608;&#1610;&#1583; <B>',
'entree_cle_pgp' => 'PGP &#1603;&#1604;&#1610;&#1583; &#1588;&#1605;&#1575;          ',
'entree_contenu_rubrique' => '(&#1605;&#1581;&#1578;&#1608;&#1609; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1583;&#1585; &#1670;&#1606;&#1583; &#1603;&#1604;&#1605;&#1607;)',
'entree_description_site' => '&#1578;&#1608;&#1589;&#1610;&#1601; &#1587;&#1575;&#1610;&#1578;',
'entree_identifiants_connexion' => '&#1603;&#1604;&#1605;&#1607; &#1588;&#1606;&#1575;&#1587;&#1575;&#1574;&#1609; &#1576;&#1585;&#1575;&#1609; &#1605;&#1578;&#1589;&#1604; &#1588;&#1583;&#1606;',
'entree_informations_connexion_ldap' => 'LDAP     &#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578;&#1548; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1576;&#1607; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;&#1609;  &#1575;&#1604; &#1583;&#1609; &#1575; &#1662;&#1609; &#1585;&#1575; &#1583;&#1585; &#1575;&#1610;&#1606; &#1662;&#1585;&#1587;&#1588;&#1606;&#1575;&#1605;&#1607; &#1608;&#1575;&#1585;&#1583; &#1603;&#1606;&#1610;&#1583;.
 &#1575;&#1610;&#1606; &#1575;&#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1605;&#1610;&#1576;&#1575;&#1610;&#1583; &#1578;&#1608;&#1587;&#1591; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1607;  &#1587;&#1610;&#1587;&#1578;&#1605; 
&#1610;&#1575; &#1588;&#1576;&#1603;&#1607; &#1576;&#1607; &#1588;&#1605;&#1575; &#1583;&#1575;&#1583;&#1607; &#1588;&#1608;&#1583;',
'entree_infos_perso' => ' &#1603;&#1609; &#1607;&#1587;&#1578;&#1610;&#1583;&#1567;',
'entree_interieur_rubrique' => ':&nbsp;&#1583;&#1585; &#1583;&#1575;&#1582;&#1604; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588;',
'entree_liens_sites' => '<B>&#1575;&#1585;&#1578;&#1576;&#1575;&#1591; hypertexte</b> (.&#1605;&#1585;&#1575;&#1580;&#1593; , &#1587;&#1575;&#1610;&#1578; &#1607;&#1575;&#1610;&#1610; &#1576;&#1585;&#1575;&#1609; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583; )',
'entree_login' => '&#1588;&#1605;&#1575; login',
'entree_login_connexion_1' => '&#1575;&#1585;&#1578;&#1576;&#1575;&#1591; login',
'entree_login_connexion_2' => '(&#1605;&#1591;&#1575;&#1576;&#1602;&#1578; &#1605;&#1610;&#1603;&#1606;&#1583;&#1548; &#1711;&#1575;&#1607;&#1609; &#1582;&#1575;&#1604;&#1609; &#1711;&#1584;&#1575;&#1588;&#1578;&#1607; &#1588;&#1583;&#1607;  FTP&#1608;&#1585;&#1608;&#1583; &#1576;&#1607; login &#1711;&#1575;&#1607;&#1609; &#1576;&#1575;)    ',
'entree_login_ldap' => '&#1606;&#1582;&#1587;&#1578;&#1610;&#1606; Login LDAP',
'entree_mot_passe' => '&#1603;&#1604;&#1605;&#1607; &#1608;&#1585;&#1608;&#1583;&#1578;&#1575;&#1606;',
'entree_mot_passe_1' => '(&#1603;&#1604;&#1605;&#1607; &#1608;&#1585;&#1608;&#1583; &#1576;&#1585;&#1575;&#1609; &#1575;&#1585;&#1578;&#1576;&#1575;&#1591; (&#1603;&#1606;&#1603;&#1588;&#1606;',
'entree_mot_passe_2' => '(&#1605;&#1591;&#1575;&#1576;&#1602;&#1578; &#1605;&#1610;&#1603;&#1606;&#1583;&#1548; &#1711;&#1575;&#1607;&#1609; &#1582;&#1575;&#1604;&#1609; &#1711;&#1584;&#1575;&#1588;&#1578;&#1607; &#1588;&#1583;&#1607; FTP &#1711;&#1575;&#1607;&#1609; &#1576;&#1575; &#1603;&#1604;&#1605;&#1607; &#1608;&#1585;&#1608;&#1583; )      ',
'entree_nom_fichier' => '@texte_compresse@:&#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1606;&#1575;&#1605; &#1601;&#1575;&#1610;&#1604; &#1585;&#1575; &#1583;&#1575;&#1582;&#1604; &#1576;&#1606;&#1605;&#1575;&#1574;&#1610;&#1583;',
'entree_nom_pseudo' => '&#1606;&#1575;&#1605; &#1610;&#1575; &#1606;&#1575;&#1605; &#1605;&#1587;&#1578;&#1593;&#1575;&#1585;&#1578;&#1575;&#1606;',
'entree_nom_pseudo_1' => '(&#1606;&#1575;&#1605; &#1610;&#1575; &#1606;&#1575;&#1605; &#1605;&#1587;&#1578;&#1593;&#1575;&#1585;&#1578;&#1575;&#1606;)',
'entree_nom_site' => '&#1606;&#1575;&#1605; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606;',
'entree_nouveau_passe' => '&#1603;&#1604;&#1605;&#1607; &#1608;&#1585;&#1608;&#1583; &#1580;&#1583;&#1610;&#1583;',
'entree_passe_ldap' => '&#1603;&#1604;&#1605;&#1607; &#1608;&#1585;&#1608;&#1583;',
'entree_port_annuaire' => '&#1588;&#1605;&#1575;&#1585;&#1607; &#1608;&#1585;&#1583;&#1609; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;',
'entree_signature' => '&#1575;&#1605;&#1590;&#1575;&#1569;',
'entree_texte_breve' => '&#1605;&#1578;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'entree_titre_obligatoire' => ' </b>&#1593;&#1606;&#1608;&#1575;&#1606;<B> [&#1575;&#1580;&#1576;&#1575;&#1585;&#1609;]<BR>',
'entree_url' => '(URL) &#1570;&#1583;&#1585;&#1587; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606;',


// I
'ical_info1' => '&#1575;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607; &#1588;&#1610;&#1608;&#1607; &#1607;&#1575;&#1609; &#1711;&#1608;&#1606;&#1575;&#1711;&#1608;&#1606;&#1609; &#1585;&#1575; &#1576;&#1585;&#1575;&#1609; &#1570;&#1711;&#1575;&#1607;&#1609; &#1575;&#1586; &#1605;&#1587;&#1575;&#1610;&#1604; &#1585;&#1608;&#1586;&#1575;&#1606;&#1607; &#1587;&#1575;&#1610;&#1578; &#1605;&#1593;&#1585;&#1601;&#1609; &#1605;&#1610;&#1603;&#1606;&#1583;.',
'ical_info2' => '&#1576;&#1585;&#1575;&#1609; &#1570;&#1711;&#1575;&#1607;&#1609; &#1575;&#1586; &#1580;&#1586;&#1610;&#1610;&#1575;&#1578; &#1601;&#1606;&#1609; &#1576;&#1607;<a href="http://www.spip.net/fr_suivi">  &#1575;&#1587;&#1606;&#1575;&#1583; &#1575;&#1587;&#1662;&#1610;&#1662; </a> &#1605;&#1585;&#1575;&#1580;&#1593;&#1607; &#1603;&#1606;&#1610;&#1583;.',
'ical_info_calendrier' => '&#1634; &#1585;&#1608;&#1586;&#1588;&#1605;&#1575;&#1585; &#1583;&#1585; &#1583;&#1587;&#1578;&#1585;&#1587; &#1588;&#1605;&#1575; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;.  &#1585;&#1608;&#1586;&#1588;&#1605;&#1575;&#1585; &#1575;&#1608;&#1604; &#1608;&#1590;&#1593;&#1610;&#1578; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1607;&#1605;&#1585;&#1575;&#1607; &#1576;&#1575; &#1582;&#1576;&#1585;&#1607;&#1575;&#1609; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1605;&#1606;&#1578;&#1588;&#1585;&#1607; &#1606;&#1588;&#1575;&#1606; &#1605;&#1610;&#1583;&#1607;&#1583;. &#1585;&#1608;&#1586;&#1588;&#1605;&#1575;&#1585; &#1583;&#1608;&#1605; &#1581;&#1575;&#1608;&#1609; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1578;&#1581;&#1585;&#1610;&#1585;&#1610;&#1607; &#1608; &#1570;&#1582;&#1585;&#1610;&#1606; &#1662;&#1610;&#1575;&#1605;&#1607;&#1575;&#1609; &#1582;&#1589;&#1608;&#1589;&#1609; &#1588;&#1605!
 ;&#1575; &#1603;&#1607; &#1576;&#1608;&#1575;&#1587;&#1591;&#1607; &#1610;&#1603; &#1603;&#1583; &#1588;&#1582;&#1589;&#1609; &#1578;&#1606;&#1607;&#1575; &#1583;&#1585; &#1583;&#1585;&#1587;&#1578;&#1585;&#1587; &#1588;&#1605;&#1575; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; &#1575;&#1587;&#1578;. &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1570;&#1606;&#1585;&#1575; &#1583;&#1585; &#1607;&#1585; &#1586;&#1605;&#1575;&#1606;&#1609; &#1603;&#1607; &#1605;&#1575;&#1610;&#1604; &#1576;&#1575;&#1588;&#1610;&#1583; &#1578;&#1594;&#1610;&#1610;&#1585; &#1583;&#1607;&#1610;&#1583;. ',
'ical_methode_http' => '&#1576;&#1575;&#1585;&#1711;&#1584;&#1575;&#1585;&#1609;',
'ical_methode_webcal' => '&#1605;&#1602;&#1575;&#1585;&#1606; &#1603;&#1585;&#1583;&#1606; (webcal://)',
'ical_texte_js' => '&#1610;&#1603; &#1576;&#1585;&#1606;&#1575;&#1605;&#1607; &#1580;&#1575;&#1608;&#1575; &#1575;&#1587;&#1603;&#1585;&#1610;&#1662;&#1578; &#1576;&#1588;&#1605;&#1575; &#1575;&#1605;&#1603;&#1575;&#1606; &#1575;&#1593;&#1604;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1578;&#1575;&#1586;&#1607; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1583;&#1607; &#1583;&#1585; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1583;&#1585; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1583;&#1610;&#1711;&#1585; &#1605;&#1610;&#1583;&#1607;&#1583;.',
'ical_texte_prive' => '&#1575;&#1610;&#1606; &#1585;&#1608;&#1586;&#1588;&#1605;&#1575;&#1585; &#1588;&#1605;&#1575; &#1585;&#1575; &#1583;&#1585; &#1580;&#1585;&#1610;&#1575;&#1606; &#1601;&#1593;&#1575;&#1604;&#1610;&#1578;&#1607;&#1575;&#1609; &#1578;&#1581;&#1585;&#1610;&#1585;&#1610;&#1607; &#1608;&#1610;&#1688;&#1607; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1711;&#1584;&#1575;&#1585;&#1583; (&#1603;&#1575;&#1585;, &#1605;&#1604;&#1575;&#1602;&#1575;&#1578; &#1607;&#1575;&#1609; &#1588;&#1582;&#1589;&#1609;,  &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; ...). ',
'ical_texte_public' => '&#1575;&#1610;&#1606; &#1585;&#1608;&#1586;&#1588;&#1605;&#1575;&#1585; &#1576;&#1588;&#1605;&#1575; &#1575;&#1605;&#1603;&#1575;&#1606; &#1662;&#1610;&#1711;&#1610;&#1585;&#1609; &#1601;&#1593;&#1575;&#1604;&#1610;&#1578; &#1607;&#1575;&#1609; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583; (&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;,...). ',
'ical_texte_rss' => ' &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1578;&#1575;&#1586;&#1607; &#1607;&#1575;&#1609; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1576;&#1575; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575;&#1609; XML/RSS (Rich Site Summary)  &#1576;&#1583;&#1610;&#1711;&#1585; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575; &#1662;&#1610;&#1608;&#1606;&#1583; &#1583;&#1607;&#1610;&#1583;.&#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1575;&#1610;&#1606; &#1606;&#1608;&#1593; &#1601;&#1575;&#1610;&#1604; &#1576;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1575;&#1605;&#1603;&#1575;&#1606; &#1582;&#1608;&#1575;&#1606;&#1583;&#1606; &#1578;&#1575;&#1586;&#1607; &#1607;&#1575;&#1609; &#1583;&#1610;&#1711;&#1585; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;.',
'ical_titre_js' => '&#1580;&#1575;&#1608;&#1575; &#1575;&#1587;&#1603;&#1585;&#1610;&#1662;&#1578;',
'ical_titre_mailing' => '&#1604;&#1610;&#1587;&#1578; &#1575;&#1610;&#1605;&#1610;&#1604;&#1607;&#1575;',
'ical_titre_rss' => ' &#1601;&#1575;&#1610;&#1604; &laquo; backend &raquo;',
'icone_activer_cookie' => '&#1603;&#1608;&#1603;&#1609; &#1605;&#1603;&#1575;&#1578;&#1576;&#1607; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'icone_afficher_auteurs' => '&#1601;&#1607;&#1585;&#1587;&#1578; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606; &#1585;&#1575; &#1576;&#1585;&#1608;&#1609; &#1589;&#1601;&#1581;&#1607; &#1606;&#1588;&#1575;&#1606; &#1583;&#1607;&#1610;&#1583; ',
'icone_afficher_visiteurs' => ' &#1601;&#1607;&#1585;&#1587;&#1578; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1603;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1585;&#1575; &#1576;&#1585;&#1608;&#1609; &#1589;&#1601;&#1581;&#1607; &#1606;&#1588;&#1575;&#1606; &#1583;&#1607;&#1610;&#1583; ',
'icone_arret_discussion' => '&#1583;&#1610;&#1711;&#1585; &#1583;&#1585; &#1575;&#1610;&#1606; &#1576;&#1581;&#1579; &#1588;&#1585;&#1603;&#1578; &#1606;&#1603;&#1606;&#1610;&#1583;',
'icone_calendrier' => '&#1578;&#1602;&#1608;&#1610;&#1605;',
'icone_creation_groupe_mots' => '&#1610;&#1603; &#1711;&#1585;&#1608;&#1607; &#1608;&#1575;&#1688;&#1607; &#1606;&#1608; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;',
'icone_creation_mots_cles' => '&#1610;&#1603; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583; &#1606;&#1608; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;',
'icone_creer_auteur' => '&#1610;&#1603; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1580;&#1583;&#1610;&#1583; &#1575;&#1590;&#1575;&#1601;&#1607; &#1608; &#1576;&#1607; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1605;&#1585;&#1578;&#1576;&#1591;&#1588; &#1603;&#1606;&#1610;&#1583;',
'icone_creer_rubrique_2' => '&#1610;&#1603; &#1576;&#1582;&#1588; &#1580;&#1583;&#1610;&#1583; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;',
'icone_ecrire_nouvel_article' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607; &#1605;&#1608;&#1580;&#1608;&#1583; &#1583;&#1585; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588;',
'icone_envoyer_message' => '&#1575;&#1610;&#1606; &#1662;&#1610;&#1575;&#1605; &#1585;&#1575; &#1576;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'icone_evolution_visites' => '&#1606;&#1605;&#1608;&#1583;&#1575;&#1585; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1607;&#1575; <br> @visites@ &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;  ',
'icone_modif_groupe_mots' => '&#1575;&#1610;&#1606; &#1711;&#1585;&#1608;&#1607; &#1575;&#1586; &#1608;&#1575;&#1688;&#1607; &#1607;&#1575; &#1585;&#1575; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583;',
'icone_modifier_article' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1585;&#1575; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583;',
'icone_modifier_breve' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1585;&#1575; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583;',
'icone_modifier_message' => '&#1575;&#1610;&#1606; &#1662;&#1610;&#1575;&#1605; &#1585;&#1575; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583;',
'icone_modifier_rubrique' => '&#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1585;&#1575; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583;',
'icone_modifier_site' => '&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583;',
'icone_poster_message' => '&#1610;&#1603; &#1662;&#1610;&#1575;&#1605; &#1576;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'icone_publier_breve' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1585;&#1575; &#1605;&#1606;&#1578;&#1588;&#1585; &#1603;&#1606;&#1610;&#1583;',
'icone_referencer_nouveau_site' => '&#1605;&#1588;&#1582;&#1589;&#1575;&#1578; &#1610;&#1603; &#1587;&#1575;&#1610;&#1578; &#1580;&#1583;&#1610;&#1583; &#1585;&#1575; &#1576;&#1583;&#1607;&#1610;&#1583;',
'icone_refuser_breve' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1585;&#1575; &#1585;&#1583; &#1603;&#1606;&#1610;&#1583;',
'icone_retour' => '&#1576;&#1575;&#1586;&#1711;&#1588;&#1578;',
'icone_retour_article' => '&#1576;&#1575;&#1586;&#1711;&#1588;&#1578; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607;',
'icone_suivi_forum' => '                                                                                                  &#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609;&nbsp;: @nb_forums@&nbsp;&#1662;&#1610;&#1575;&#1605;                                                       ',
'icone_supprimer_cookie' => '&#1603;&#1608;&#1603;&#1609; &#1605;&#1603;&#1575;&#1578;&#1576;&#1607; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1610;&#1583;',
'icone_supprimer_groupe_mots' => '&#1575;&#1610;&#1606; &#1711;&#1585;&#1608;&#1607; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1610;&#1583;',
'icone_supprimer_rubrique' => '&#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1610;&#1583;',
'icone_supprimer_signature' => '&#1575;&#1610;&#1606; &#1575;&#1605;&#1590;&#1575;&#1569; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1610;&#1583;',
'icone_valider_signature' => '&#1575;&#1610;&#1606; &#1575;&#1605;&#1590;&#1575;&#1569; &#1585;&#1575; &#1605;&#1593;&#1578;&#1576;&#1585; &#1603;&#1606;&#1610;&#1583;',
'icone_voir_sites_references' => '&#1576;&#1607; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1606;&#1711;&#1575;&#1607; &#1603;&#1606;&#1610;&#1583;',
'icone_voir_tous_mots_cles' => '&#1607;&#1605;&#1607; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1585;&#1575; &#1606;&#1711;&#1575;&#1607; &#1603;&#1606;&#1610;&#1583;',
'image_administrer_rubrique' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_1_article' => '&#1633; &#1605;&#1602;&#1575;&#1604;&#1607;',
'info_1_breve' => '&#1633; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'info_1_site' => '&#1633; &#1587;&#1575;&#1610;&#1578;',
'info_activer_cookie' => ' &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583;  &#1603;&#1608;&#1603;&#1609; &#1605;&#1603;&#1575;&#1578;&#1576;&#1607;  &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1606;&#1605;&#1575;&#1662;&#1610;&#1583; &#1575;&#1610;&#1606;&#1603;&#1575;&#1585; &#1576;&#1607; &#1588;&#1605;&#1575; &#1575;&#1580;&#1575;&#1586;&#1607; &#1582;&#1608;&#1575;&#1607;&#1583; &#1583;&#1575;&#1583; &#1603;&#1607; &#1576;&#1585;&#1575;&#1581;&#1578;&#1609; &#1575;&#1586; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1582;&#1589;&#1608;&#1589;&#1609; &#1576;&#1585;&#1608;&#1610;&#1583;',
'info_activer_forum_public' => '<i> &#1576;&#1585;&#1575;&#1609; &#1601;&#1593;&#1575;&#1604; &#1603;&#1585;&#1583;&#1606; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609;&#1548; &#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1588;&#1610;&#1608;&#1607; &#1575;&#1593;&#1578;&#1576;&#1575;&#1585; &#1662;&#1587; &#1575;&#1586; &#1578;&#1571;&#1574;&#1610;&#1583; &#1585;&#1575; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1606;&#1605;&#1575;&#1574;&#1610;&#1583;</i>',
'info_admin_gere_rubriques' => ':&#1575;&#1610;&#1606; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1607; &#1587;&#1575;&#1610;&#1578; &#1576;&#1582;&#1588;&#1607;&#1575;&#1609; &#1586;&#1610;&#1585; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1605;&#1610;&#1603;&#1606;&#1583;',
'info_admin_gere_toutes_rubriques' => '&#1575;&#1610;&#1606; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1607; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1607; &#1576;&#1582;&#1588;&#1607;&#1575; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1605;&#1610;&#1603;&#1606;&#1583;</b>.',
'info_administrateur' => '&#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;',
'info_administrateur_1' => '&#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1607;  ',
'info_administrateur_2' => '(<i>&#1576;&#1575; &#1575;&#1581;&#1578;&#1610;&#1575;&#1591; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583; </i>) &#1587;&#1575;&#1610;&#1578; ',
'info_administrateur_site_01' => '&#1575;&#1711;&#1585; &#1588;&#1605;&#1575; &#1575;&#1586; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1607;&#1587;&#1578;&#1610;&#1583;&#1548; &#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578;',
'info_administrateur_site_02' => '&#1585;&#1608;&#1609; &#1575;&#1610;&#1606; &#1662;&#1610;&#1608;&#1606;&#1583; &#1603;&#1604;&#1610;&#1603; &#1603;&#1606;&#1610;&#1583;',
'info_administrateurs' => '&#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;',
'info_administrer_rubrique' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_adresse' => ':&nbsp;&#1576;&#1607; &#1570;&#1583;&#1585;&#1587;',
'info_adresse_email' => ':&nbsp;&#1570;&#1583;&#1585;&#1587; &#1575;&#1610;&#1605;&#1610;&#1604;',
'info_adresse_url' => '(URL) &#1570;&#1583;&#1585;&#1587; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609;      ',
'info_afficher_visites' => ' &#1601;&#1607;&#1585;&#1587;&#1578; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1607;&#1575; &#1585;&#1575; &#1606;&#1605;&#1575;&#1610;&#1588; &#1583;&#1607;&#1610;&#1583;:',
'info_affichier_visites_articles_plus_visites' => '&#1601;&#1607;&#1585;&#1587;&#1578; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1574;&#1609; &#1603;&#1607; &#1576;&#1610;&#1588; &#1575;&#1586; &#1583;&#1610;&#1711;&#1585; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575; &#1582;&#1608;&#1575;&#1606;&#1583;&#1607; &#1588;&#1583;&#1606; &#1575;&#1586; &#1575;&#1576;&#1578;&#1583;&#1575; &#1606;&#1588;&#1575;&#1606; &#1583;&#1607;&#1610;&#1583;',
'info_aide_en_ligne' => 'SPIP &#1603;&#1605;&#1603; &#1583;&#1585; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575;',
'info_ajout_image' => '  &#1607;&#1606;&#1711;&#1575;&#1605;&#1609; &#1603;&#1607; &#1578;&#1589;&#1575;&#1608;&#1610;&#1585;&#1609; &#1585;&#1575; &#1590;&#1605;&#1610;&#1605;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1575;&#1609; &#1605;&#1610;&#1603;&#1606;&#1610;&#1583;&#1548; &#1575;&#1587;&#1662;&#1610;&#1662; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1570;&#1606;&#1607;&#1575; &#1585;&#1575; &#1576;&#1589;&#1608;&#1585;&#1578; &#1603;&#1608;&#1670;&#1603; &#1588;&#1583;&#1607; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1583;. &#1576;&#1575; &#1575;&#1610;&#1606; &#1585;&#1608;&#1588; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606; &#1576;&#1585;&#1575;&#1609; &#1605;&#1579;&#1575;&#1604; &#1606;&#1605;&#1575;&#1610;&#1609; &#1575;&#1586; &#1605;&#1580;&#1605;&#1608;&#1593; &#1578;&#1589;&#1575;&#1608;&#1610;&#1585; &#1585;&#1575; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&!
 #1603;&#1575;&#1585; &#1583;&#1585;&#1587;&#1578; &#1603;&#1585;&#1583; ',
'info_ajout_participant' => ':&nbsp;&#1588;&#1585;&#1603;&#1578; &#1603;&#1606;&#1606;&#1583;&#1607; &#1576;&#1593;&#1583;&#1609; &#1575;&#1590;&#1575;&#1601;&#1607; &#1588;&#1583;&#1607;',
'info_ajouter_rubrique' => '&#1610;&#1603; &#1576;&#1582;&#1588; &#1583;&#1610;&#1711;&#1585; &#1585;&#1575; &#1576;&#1585;&#1575;&#1609; &#1575;&#1583;&#1575;&#1607; &#1603;&#1585;&#1583;&#1606; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_annonce_nouveautes' => '&#1582;&#1576;&#1585; &#1578;&#1575;&#1586;&#1607; &#1607;&#1575;',
'info_annuler_blocage_priori' => '&#1575;&#1610;&#1606; &#1606;&#1602;&#1589; &#1585;&#1575; 
 &#1576;&#1585;&#1591;&#1585;&#1601; &#1603;&#1606;&#1610;&#1583;',
'info_anterieur' => '&#1662;&#1610;&#1588;&#1610;&#1606;',
'info_appliquer_choix_moderation' => ':&nbsp;&#1575;&#1610;&#1606; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1605;&#1593;&#1578;&#1583;&#1604; &#1585;&#1575; &#1576;&#1603;&#1575;&#1585; &#1576;&#1585;&#1610;&#1583;',
'info_article' => '&#1605;&#1602;&#1575;&#1604;&#1607;',
'info_article_2' => '&#1605;&#1602;&#1575;&#1604;&#1607;',
'info_article_a_paraitre' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1576;&#1575; &#1578;&#1575;&#1585;&#1610;&#1582; &#1570;&#1610;&#1606;&#1583;&#1607; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1608;&#1606;&#1583;',
'info_articles_02' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
'info_articles_2' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
'info_articles_auteur' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1575;&#1610;&#1606; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607;',
'info_articles_lies_mot' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;',
'info_articles_trouves' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;',
'info_articles_trouves_dans_texte' => ' ( &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;  ( &#1583;&#1585;&#1608;&#1606; &#1605;&#1578;&#1606;',
'info_attente_validation' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1610;&#1578;&#1575;&#1606; &#1583;&#1585; &#1575;&#1606;&#1578;&#1592;&#1575;&#1585; &#1578;&#1571;&#1574;&#1610;&#1583; &#1588;&#1583;&#1606;',
'info_aujourdhui' => ':&nbsp;&#1575;&#1605;&#1585;&#1608;&#1586;',
'info_auteur_message' => ':&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1662;&#1610;&#1575;&#1605; ',
'info_auteurs' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; ',
'info_auteurs_par_tri' => '@partri@ &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1711;&#1575;&#1606;',
'info_auteurs_trouves' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1711;&#1575;&#1606; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;   ',
'info_authentification_externe' => '&#1578;&#1571;&#1574;&#1610;&#1583; &#1575;&#1586; &#1582;&#1575;&#1585;&#1580;',
'info_avertissement' => '&#1578;&#1584;&#1603;&#1585;',
'info_base_installee' => '.&#1587;&#1575;&#1582;&#1578;&#1575;&#1585; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;&#1610;&#1578;&#1575;&#1606; &#1606;&#1589;&#1576; &#1588;&#1583;&#1607;',
'info_base_restauration' => '.&#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575; &#1583;&#1585; &#1581;&#1575;&#1604; &#1576;&#1575;&#1586;&#1587;&#1575;&#1586;&#1609; &#1605;&#1610;&#1576;&#1575;&#1588;&#1606;&#1583;',
'info_breves' => '&#1570;&#1610;&#1575; &#1587;&#1575;&#1610;&#1578; &#1588;&#1605;&#1575; &#1575;&#1586; &#1587;&#1610;&#1587;&#1578;&#1605; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1605;&#1610;&#1603;&#1606;&#1583;&nbsp;&#1567;',
'info_breves_03' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607;',
'info_breves_liees_mot' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;',
'info_breves_touvees' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;',
'info_breves_touvees_dans_texte' => ' (&#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607; (&#1583;&#1585;&#1608;&#1606; &#1605;&#1578;&#1606;',
'info_changer_nom_groupe' => ':&#1606;&#1575;&#1605; &#1575;&#1610;&#1606; &#1711;&#1585;&#1608;&#1607; &#1585;&#1575; &#1578;&#1594;&#1610;&#1610;&#1585; &#1583;&#1607;&#1610;&#1583;',
'info_chapeau' => '&#1587;&#1585; &#1605;&#1578;&#1606;',
'info_chapeau_2' => ':&#1587;&#1585; &#1605;&#1578;&#1606;',
'info_chemin_acces_1' => '&#1575;&#1606;&#1578;&#1582;&#1575;&#1576;&#1609; : <B>&#1605;&#1587;&#1610;&#1585; &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;</b>',
'info_chemin_acces_2' => '&#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1662;&#1587; &#1575;&#1586; &#1575;&#1610;&#1606; &#1605;&#1587;&#1610;&#1585; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1585;&#1575; &#1583;&#1585; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575; &#1578;&#1606;&#1592;&#1610;&#1605; &#1603;&#1606;&#1610;&#1583;. &#1575;&#1610;&#1606; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1576;&#1585;&#1575;&#1609; &#1588;&#1606;&#1575;&#1587;&#1575;&#1574;&#1609; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606;&#1609; &#1603;&#1607; &#1583;&#1585; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575; &#1607;&#1587;&#1578;&#1606;&#1583; &#1590;&#1585;&#1608;&#1585;&#1609; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'info_chemin_acces_annuaire' => '&#1575;&#1606;&#1578;&#1582;&#1575;&#1576;&#1609; : <B>&#1605;&#1587;&#1610;&#1585; &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;',
'info_choix_base' => ':&nbsp;&#1587;&#1608;&#1605;&#1610;&#1606; &#1605;&#1585;&#1581;&#1604;&#1607;',
'info_classement_1' => '<sup>&#1610;&#1606;</sup>&#1583;&#1585; @liste@',
'info_classement_2' => '<sup>&#1610;&#1606;</sup>&#1583;&#1585;@liste@',
'info_code_acces' => '!&nbsp;&#1603;&#1583; &#1607;&#1575; &#1609; &#1608;&#1585;&#1583;&#1610; &#1578;&#1575;&#1606; &#1585;&#1575; &#1601;&#1585;&#1575;&#1605;&#1608;&#1588; &#1606;&#1603;&#1606;&#1610;&#1583;',
'info_comment_lire_tableau' => '&#1591;&#1585;&#1586; &#1582;&#1608;&#1575;&#1606;&#1583;&#1606; &#1575;&#1610;&#1606; &#1580;&#1583;&#1608;&#1604;',
'info_config_suivi' => '&#1575;&#1711;&#1585; &#1575;&#1610;&#1606; &#1570;&#1583;&#1585;&#1587; &#1576;&#1607; &#1601;&#1607;&#1585;&#1587;&#1578; &#1575;&#1610;&#1605;&#1610;&#1604; &#1607;&#1575; mailing-list &#1605;&#1585;&#1576;&#1608;&#1591; &#1605;&#1610;&#1588;&#1608;&#1583;, &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1583;&#1585; &#1586;&#1610;&#1585; &#1570;&#1583;&#1585;&#1587;&#1609; &#1585;&#1575; &#1603;&#1607; &#1588;&#1585;&#1603;&#1578; &#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1583;&#1585; &#1570;&#1606; &#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1603;&#1606;&#1606;&#1583; &#1585;&#1575; &#1605;&#1588;&#1582;&#1589; &#1603;&#1606;&#1610;&#1583;. &#1575;&#1610;&#1606; &#1570;&#1583;&#1585;&#1587; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1610;&#1603;  URL( &#1605;&#1575;&#1606;&#1606;&#1583; &#1589;&#1601;&#1581;&#1607; &#1579;&#1576;&!
 #1578; &#1606;&#1575;&#1605; &#1583;&#1585; &#1601;&#1607;&#1585;&#1587;&#1578;) &#1608; &#1610;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1576;&#1583;&#1610;&#1606; &#1589;&#1608;&#1585;&#1578; &#1576;&#1575;&#1588;&#1583; : <tt>@adresse_suivi@?subject=subscribe</tt>):',
'info_config_suivi_explication' => ' &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1576;&#1608;&#1587;&#1610;&#1604;&#1607; &#1575;&#1610;&#1605;&#1610;&#1604; &#1582;&#1576;&#1585;&#1607;&#1575;&#1609; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1601;&#1593;&#1575;&#1604;&#1610;&#1578; &#1578;&#1581;&#1585;&#1610;&#1585;&#1610;&#1607; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1583;&#1585;&#1610;&#1575;&#1601;&#1578; &#1603;&#1606;&#1610;&#1583;. &#1576;&#1585;&#1575;&#1609; &#1575;&#1610;&#1606; &#1605;&#1606;&#1592;&#1608;&#1585; &#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1583;&#1585; &#1601;&#1607;&#1585;&#1587;&#1578; &#1575;&#1610;&#1605;&#1610;&#1604;&#1607;&#1575; mailing-list &#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1603;&#1606;&#1610;&#1583;.',
'info_confirmer_passe' => ':&#1603;&#1604;&#1605;&#1607; &#1608;&#1585;&#1608;&#1583;&#1609; &#1580;&#1583;&#1610;&#1583;&#1578;&#1575;&#1606; &#1585;&#1575; &#1578;&#1571;&#1574;&#1610;&#1583; &#1603;&#1606;&#1610;&#1583;',
'info_connexion_base' => '<B>&#1570;&#1586;&#1605;&#1575;&#1610;&#1588; &#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1576;&#1575; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607;</b>: &#1605;&#1585;&#1581;&#1604;&#1607; &#1583;&#1608;&#1605;',
'info_connexion_ldap_ok' => '&#1575;&#1585;&#1578;&#1576;&#1575;&#1591; LDAP&#1576;&#1585;&#1602;&#1585;&#1575;&#1585; &#1588;&#1583; .</b><P>&#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1607; &#1605;&#1585;&#1581;&#1604;&#1607; &#1576;&#1593;&#1583;&#1609; &#1576;&#1585;&#1608;&#1610;&#1583;. ',
'info_connexion_mysql' => '<B>&#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1576;&#1575; MySQL</b> : &#1605;&#1585;&#1581;&#1604;&#1607; &#1606;&#1582;&#1587;&#1578;',
'info_connexion_ok' => '.&#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1576;&#1585;&#1602;&#1585;&#1575;&#1585; &#1588;&#1583;',
'info_contact' => '&#1578;&#1605;&#1575;&#1587;',
'info_contenu_articles' => '&#1605;&#1581;&#1578;&#1608;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;',
'info_creation_mots_cles' => '&#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583; &#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1575;&#1610;&#1606;&#1580;&#1575; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;',
'info_creation_paragraphe' => '(&#1576;&#1585;&#1575;&#1609; &#1583;&#1585;&#1587;&#1578; &#1603;&#1585;&#1583;&#1606; &#1662;&#1575;&#1585;&#1575;&#1711;&#1585;&#1575;&#1601;&#1548; &#1603;&#1575;&#1601;&#1610;&#1587;&#1578; &#1603;&#1607; &#1580;&#1575;&#1609; &#1582;&#1591; &#1607;&#1575; &#1585;&#1575; &#1582;&#1575;&#1604;&#1609; &#1576;&#1711;&#1584;&#1575;&#1585;&#1610;&#1583;)',
'info_creation_rubrique' => '&#1662;&#1610;&#1588; &#1575;&#1586; &#1606;&#1608;&#1588;&#1578;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; ,<BR>&#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1583;&#1587;&#1578; &#1603;&#1605; &#1610;&#1603; &#1576;&#1582;&#1588; &#1583;&#1585;&#1587;&#1578; &#1603;&#1606;&#1610;&#1583; <BR>',
'info_creation_tables' => '&#1670;&#1607;&#1575;&#1585;&#1605;&#1610;&#1606; &#1605;&#1585;&#1581;&#1604;&#1607; : <B>&#1583;&#1585;&#1587;&#1578; &#1603;&#1585;&#1583;&#1606; &#1580;&#1583;&#1575;&#1608;&#1604; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607;</b>',
'info_creer_base' => '<B>&#1576;&#1587;&#1575;&#1586;&#1610;&#1583;</b>:&#1610;&#1603; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1580;&#1583;&#1610;&#1583;',
'info_dans_groupe' => ':&#1583;&#1585;&#1608;&#1606; &#1711;&#1585;&#1608;&#1607;',
'info_dans_rubrique' => ':&#1583;&#1585;&#1608;&#1606; &#1576;&#1582;&#1588;',
'info_date_publication_anterieure' => ':&#1586;&#1605;&#1575;&#1606; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1662;&#1610;&#1588;&#1610;&#1606;',
'info_date_referencement' => ':&nbsp;&#1578;&#1575;&#1585;&#1610;&#1582; &#1662;&#1610;&#1608;&#1606;&#1583; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578;',
'info_delet_mots_cles' => '&#1588;&#1605;&#1575; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578; &#1581;&#1584;&#1601; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583; &#1585;&#1575; &#1603;&#1585;&#1583;&#1607; &#1575;&#1610;&#1583;<B>@titre_mot@</b> (@type_mot@).&#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1575;&#1610;&#1606; &#1581;&#1584;&#1601; &#1585;&#1575; &#1578;&#1571;&#1574;&#1610;&#1583; &#1603;&#1606;&#1610;&#1583;&#1548; &#1586;&#1610;&#1585;&#1575; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583; &#1576;&#1607; &#1575;&#1610;&#1606; &#1605;&#1578;&#1606; &#1605;&#1585;&#1576;&#1608;&#1591; &#1575;&#1587;&#1578; :<b>@texte_lie@</b>',
'info_demander_blocage_priori' => '&#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578;
&#1578;&#1608;&#1602;&#1601;',
'info_derniere_etape' => '&#1570;&#1582;&#1585;&#1610;&#1606; &#1605;&#1585;&#1581;&#1604;&#1607;:&#1662;&#1575;&#1610;&#1575;&#1606; <B> !',
'info_derniere_syndication' => ':&#1570;&#1582;&#1585;&#1610;&#1606; &#1662;&#1610;&#1608;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1609; &#1575;&#1606;&#1580;&#1575;&#1605; &#1588;&#1583;&#1607; &#1583;&#1585; &#1578;&#1575;&#1585;&#1610;&#1582; ',
'info_derniers_articles_publies' => '&#1570;&#1582;&#1585;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1583;&#1607; &#1588;&#1605;&#1575; &#1583;&#1585; &#1575;&#1610;&#1606;&#1578;&#1585;&#1606;&#1578;',
'info_desactiver_forum_public' => '&#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1575;&#1586; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1585;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;. &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1575;&#1586; &#1570;&#1606; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1605;&#1608;&#1585;&#1583; &#1576;&#1607; &#1605;&#1608;&#1585;&#1583; &#1583;&#1585;&#1576;&#1575;&#1585;&#1607; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1583;&#1575;&#1583;&#1607; &#1588;&#1608;&#1583;&#1548; &#1608;&#1604;&#1609; &#1583;&#1585; &#1605;&#1608;&#1575;&#1585;&#1583; &#1583;&#1610;&#1711;&#1585; &#1605;&#1605;&#1606;&#1608;&#1593; &#1582;&#1608;&#1575;&#1607;&#1583; &#1576;&#1608;&#1583;',
'info_desactiver_messagerie_personnelle' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1662;&#1610;&#1575;&#1605;&#1711;&#1610;&#1585; &#1588;&#1582;&#1589;&#1609; &#1578;&#1575;&#1606; &#1585;&#1575; &#1585;&#1608;&#1609; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1601;&#1593;&#1575;&#1604; &#1610;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'info_descriptif' => ':&#1578;&#1608;&#1589;&#1610;&#1601;',
'info_discussion_cours' => '&#1583;&#1585; &#1581;&#1575;&#1604; &#1576;&#1581;&#1579;',
'info_ecrire_article' => '&#1662;&#1610;&#1588; &#1575;&#1586; &#1606;&#1608;&#1588;&#1578;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607;&#1548; &#1588;&#1605;&#1575; &#1605;&#1610;&#1576;&#1575;&#1610;&#1583; &#1583;&#1587;&#1578; &#1603;&#1605; &#1610;&#1603; &#1576;&#1582;&#1588; &#1583;&#1585;&#1587;&#1578; &#1603;&#1606;&#1610;&#1583;.',
'info_email_envoi' => '&#1570;&#1583;&#1585;&#1587; &#1575;&#1610;&#1605;&#1610;&#1604; &#1576;&#1585;&#1575;&#1740; &#1575;&#1585;&#1587;&#1575;&#1604; (&#1575;&#1582;&#1578;&#1610;&#1575;&#1585;&#1740;)',
'info_email_envoi_txt' => '&#1570;&#1583;&#1585;&#1587; &#1605;&#1608;&#1585;&#1583; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1578;&#1575;&#1606; &#1585;&#1575; &#1576;&#1585;&#1575;&#1740; &#1575;&#1585;&#1587;&#1575;&#1604; &#1575;&#1610;&#1605;&#1610;&#1604; &#1583;&#1585; &#1575;&#1610;&#1606;&#1580;&#1575; &#1583;&#1585;&#1580; &#1705;&#1606;&#1610;&#1583;  (&#1608;&#1711;&#1585;&#1606;&#1607; &#1575;&#1586; &#1570;&#1583;&#1585;&#1587; &#1711;&#1610;&#1585;&#1606;&#1583;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1582;&#1608;&#1575;&#1607;&#1583; &#1588;&#1583;)',
'info_email_webmestre' => '&#1570;&#1583;&#1585;&#1587; &#1575;&#1610;&#1605;&#1610;&#1604; &#1608;&#1576; &#1605;&#1587;&#1578;&#1585; (&#1575;&#1606;&#1578;&#1582;&#1575;&#1576;&#1609; )',
'info_entrer_code_alphabet' => ':&nbsp;&#1603;&#1583; &#1575;&#1604;&#1601;&#1576;&#1575;&#1609; &#1605;&#1608;&#1585;&#1583; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1578;&#1575;&#1606; &#1585;&#1575; &#1608;&#1575;&#1585;&#1583; &#1603;&#1606;&#1610;&#1583;',
'info_envoi_email_automatique' => '&#1575;&#1585;&#1587;&#1575;&#1604; &#1606;&#1575;&#1605;&#1607; &#1607;&#1575; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585;',
'info_envoi_forum' => '&#1575;&#1585;&#1587;&#1575;&#1604; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1576;&#1607; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;',
'info_envoyer_maintenant' => '&#1575;&#1604;&#1575;&#1606; &#1576;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'info_erreur_restauration' => '.&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; &#1583;&#1585; &#1576;&#1575;&#1586;&#1587;&#1575;&#1586;&#1609; : &#1601;&#1575;&#1610;&#1604; &#1605;&#1608;&#1580;&#1608;&#1583; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'info_etape_suivante' => '&#1576;&#1607; &#1605;&#1585;&#1581;&#1604;&#1607; &#1576;&#1593;&#1583;&#1609; &#1576;&#1585;&#1608;&#1610;&#1583;',
'info_etape_suivante_1' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1607; &#1605;&#1585;&#1581;&#1604;&#1607; &#1576;&#1593;&#1583;&#1609; &#1576;&#1585;&#1608;&#1610;&#1583;',
'info_etape_suivante_2' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1607; &#1605;&#1585;&#1581;&#1604;&#1607; &#1576;&#1593;&#1583;&#1609; &#1576;&#1585;&#1608;&#1610;&#1583;',
'info_exportation_base' => '&#1589;&#1583;&#1608;&#1585; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1576;&#1607;@archive@',
'info_facilite_suivi_activite' => '&#1576;&#1585;&#1575;&#1609; &#1570;&#1587;&#1575;&#1606; &#1588;&#1583;&#1606; &#1605;&#1583;&#1575;&#1608;&#1605; &#1601;&#1593;&#1575;&#1604;&#1610;&#1578; &#1578;&#1581;&#1585;&#1610;&#1585;&#1610;&#1607;&#1548; &#1587;&#1610;&#1587;&#1578;&#1605;  &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1576;&#1585;&#1575;&#1609; &#1605;&#1579;&#1575;&#1604;&#1548; &#1582;&#1576;&#1585; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578;&#1607;&#1575;&#1609; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1608; &#1575;&#1593;&#1578;&#1576;&#1575;&#1585; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1585;&#1575; &#1576;&#1607; &#1601;&#1607;&#1585;&#1587;&#1578; &#1662;&#1610;&#1603;&#1607;&#1575;&#1609; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606; &#1576;&#1601;&#1585;&#1587;&#1578;&#1583;',
'info_fichiers_authent' => '&#1601;&#1575;&#1610;&#1604; &#1607;&#1575;&#1609; &#1578;&#1571;&#1574;&#1610;&#1583;&#1609;&laquo;&nbsp;.htpasswd&nbsp;&raquo;',
'info_fonctionnement_forum' => ':&nbsp;&#1593;&#1605;&#1604;&#1603;&#1585;&#1583; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607;',
'info_forum_administrateur' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1576;&#1585;&#1575;&#1609; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;',
'info_forum_interne' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1583;&#1575;&#1582;&#1604;&#1609;',
'info_forum_ouvert' => '&#1583;&#1585; &#1602;&#1587;&#1605;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1587;&#1575;&#1610;&#1578;&#1548; &#1610;&#1603; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1576;&#1585;&#1575;&#1609; &#1607;&#1605;&#1607; &#1606;&#1711;&#1575;&#1585;&#1606;&#1583; &#1711;&#1575;&#1606; &#1605;&#1608;&#1580;&#1608;&#1583; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;. &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583;&#1548; &#1583;&#1585; &#1586;&#1610;&#1585; &#1610;&#1603; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1575;&#1590;&#1575;&#1601;&#1609; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;.',
'info_forum_statistiques' => '&#1570;&#1605;&#1575;&#1585; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606;',
'info_forums_abo_invites' => '&#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1583;&#1575;&#1585;&#1575;&#1609; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1576;&#1585;&#1575;&#1609; &#1605;&#1588;&#1578;&#1585;&#1603;&#1610;&#1606; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;: &#1575;&#1586; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1583;&#1593;&#1608;&#1578; &#1605;&#1610;&#1588;&#1608;&#1583; &#1603;&#1607; &#1583;&#1585; &#1602;&#1587;&#1605;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1587;&#1575;&#1610;&#1578; &#1579;&#1576;&#1578; &#1606;&#1575;&#1605;  &#1603;&#1606;&#1606;&#1583;.',
'info_gauche_admin_effacer' => '<B>&#1575;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607; &#1601;&#1602;&#1591; &#1576;&#1585;&#1575;&#1609; &#1605;&#1587;&#1574;&#1608;&#1604;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1602;&#1575;&#1576;&#1604; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;.</b><P>  &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1570;&#1606; &#1575;&#1580;&#1575;&#1586;&#1607; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1603;&#1575;&#1585;&#1603;&#1585;&#1607;&#1575;&#1609; &#1711;&#1608;&#1606;&#1575;&#1711;&#1608;&#1606; &#1578;&#1593;&#1605;&#1610;&#1585; &#1608; &#1606;&#1711;&#1607;&#1583;&#1575;&#1585;&#1609; &#1601;&#1606;&#1609; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;. &#1575;&#1586; &#1580;&#1605;&#1604;&#1607; &#1585;&#1608;&#1606;&#1583; &#1576;&#1575;&#1586; &#1588;&#1606;&#1575;&#1587;&#1609; &#1608; &#1578;&#1571;&#1574;&#1610;&#1583; &#1608;&#1610;&#1688;&#1607; &#1575;&#1609; &#!
 1603;&#1607; &#1604;&#1575;&#1586;&#1605;&#1607; &#1575;&#1588; &#1583;&#1575;&#1588;&#1578;&#1606; &#1581;&#1602; &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1575;&#1587;&#1578; (FTP)',
'info_gauche_admin_tech' => '<B>&#1575;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607; &#1601;&#1602;&#1591; &#1576;&#1585;&#1575;&#1609; &#1605;&#1587;&#1574;&#1608;&#1604;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1602;&#1575;&#1576;&#1604; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;.</b><P>  &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1570;&#1606; &#1575;&#1580;&#1575;&#1586;&#1607; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1603;&#1575;&#1585;&#1603;&#1585;&#1583;&#1607;&#1575;&#1609; &#1711;&#1608;&#1606;&#1575;&#1711;&#1608;&#1606; &#1578;&#1593;&#1605;&#1610;&#1585; &#1608;&#1606;&#1711;&#1607;&#1583;&#1575;&#1585;&#1609; &#1601;&#1606;&#1609; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;. &#1575;&#1586; &#1580;&#1605;&#1604;&#1607; &#1585;&#1608;&#1606;&#1583; &#1576;&#1575;&#1586; &#1588;&#1606;&#1575;&#1587;&#1609; &#1608; &#1578;&#1571;&#1574;&#1610;&#1583; &#1608;&#1610;&#1688;&#1607; &#1575;&#1609;!
  &#1603;&#1607; &#1604;&#1575;&#1586;&#1605;&#1607; &#1575;&#1588; &#1583;&#1575;&#1588;&#1578;&#1606; &#1581;&#1602; &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1575;&#1587;&#1578; (FTP)',
'info_gauche_admin_vider' => '<B>&#1575;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607; &#1601;&#1602;&#1591; &#1576;&#1585;&#1575;&#1609; &#1605;&#1587;&#1574;&#1608;&#1604;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1602;&#1575;&#1576;&#1604; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;.</b><P>  &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1570;&#1606; &#1575;&#1580;&#1575;&#1586;&#1607; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1603;&#1575;&#1585;&#1603;&#1585;&#1607;&#1575;&#1609; &#1711;&#1608;&#1606;&#1575;&#1711;&#1608;&#1606; &#1578;&#1593;&#1605;&#1610;&#1585; &#1608;&#1606;&#1711;&#1607;&#1583;&#1575;&#1609; &#1601;&#1606;&#1609; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;. &#1575;&#1586; &#1580;&#1605;&#1604;&#1607; &#1585;&#1608;&#1606;&#1583; &#1576;&#1575;&#1586; &#1588;&#1606;&#1575;&#1587;&#1609; &#1608; &#1578;&#1571;&#1574;&#1610;&#1583; &#1608;&#1610;&#1688;&#1607; &#1575;&#1609; &#1603;&#160!
 7; &#1604;&#1575;&#1586;&#1605;&#1607; &#1575;&#1588; &#1583;&#1575;&#1588;&#1578;&#1606; &#1581;&#1602; &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1575;&#1587;&#1578; (FTP)',
'info_gauche_auteurs' => '&#1588;&#1605;&#1575; &#1606;&#1575;&#1605; &#1578;&#1605;&#1575;&#1605; &#1606;&#1711;&#1575;&#1585;&#1606;&#1583; &#1711;&#1575;&#1606; &#1585;&#1575; &#1583;&#1585; &#1575;&#1610;&#1606;&#1580;&#1575; &#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1610;&#1575;&#1601;&#1578;. &#1606;&#1608;&#1593; &#1605;&#1587;&#1574;&#1608;&#1604;&#1610;&#1578;&#1588;&#1575;&#1606; &#1576;&#1575; &#1585;&#1606;&#1711;&#1607;&#1575;&#1609; &#1575;&#1610;&#1603;&#1608;&#1606;&#1607;&#1575; &#1605;&#1588;&#1582;&#1589; &#1588;&#1583;&#1607; &#1575;&#1587;&#1578; (&#1606;&#1711;&#1575;&#1585;&#1606;&#1583;&#1607;=&#1570;&#1610;&#1603;&#1608;&#1606; &#1587;&#1576;&#1586;&#1548; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;=&#1570;&#1610;&#1603;&#1608;&#1606; &#1586;&#1585;&#1583; )',
'info_gauche_auteurs_exterieurs' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; &#1582;&#1575;&#1585;&#1580; &#1587;&#1575;&#1610;&#1578; &#1576;&#1583;&#1608;&#1606; &#1581;&#1602; &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1576;&#1575; &#1585;&#1606;&#1711; &#1570;&#1610;&#1603;&#1608;&#1606; &#1570;&#1576;&#1609; &#1548; &#1608; &#1581;&#1584;&#1601; &#1588;&#1583;&#1607; &#1711;&#1575;&#1606; &#1576;&#1575; &#1593;&#1604;&#1575;&#1605;&#1578; &#1587;&#1591;&#1604; &#1605;&#1588;&#1582;&#1589; &#1588;&#1583;&#1607; &#1575;&#1606;&#1583;',
'info_gauche_messagerie' => '&#1662;&#1610;&#1575;&#1605; &#1711;&#1610;&#1585; &#1576;&#1588;&#1605;&#1575; &#1575;&#1580;&#1575;&#1586;&#1607; &#1585;&#1583; &#1608; &#1576;&#1583;&#1604; &#1662;&#1610;&#1575;&#1605; &#1585;&#1575; &#1576;&#1575; &#1583;&#1610;&#1711;&#1585; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606;&#1548; &#1606;&#1711;&#1607;&#1583;&#1575;&#1585;&#1609; &#1610;&#1575;&#1583;&#1583;&#1575;&#1588;&#1578;&#1607;&#1575; (&#1576;&#1585;&#1575;&#1609; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1588;&#1582;&#1589;&#1609; ) &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1575;&#1593;&#1604;&#1575;&#1606; &#1582;&#1576;&#1585; &#1583;&#1585; &#1589;&#1601;&#1581;&#1607; &#1662;&#1584;&#1610;&#1585;&#1588; &#1585;&#1575; (&#1583;&#1585; &#1589;&#1608;&#1585;&#1578;&#1609; &#1603;&#1607; &#1575;&#1586; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1576;&#1575;&#1588;&#1610;&#1583;!
  )&#1605;&#1610;&#1583;&#1607;&#1583;.',
'info_gauche_numero_auteur' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1588;&#1605;&#1575;&#1585;&#1607;',
'info_gauche_numero_breve' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1588;&#1605;&#1575;&#1585;&#1607;',
'info_gauche_statistiques_referers' => '&#1575;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607;, &#1601;&#1607;&#1585;&#1587;&#1578; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1585;&#1575; &#1575;&#1585;&#1575;&#1574;&#1607; &#1605;&#1610;&#1583;&#1607;&#1583;&#1548; &#1576;&#1593;&#1576;&#1575;&#1585;&#1578;&#1609; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1610;&#1609; &#1603;&#1607; &#1583;&#1575;&#1585;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583; &#1576;&#1575; &#1587;&#1575;&#1610;&#1578; &#1588;&#1605;&#1575; &#1607;&#1587;&#1578;&#1606;&#1583;&#1548; (&#1601;&#1602;&#1591; &#1576;&#1585;&#1575;&#1609; &#1583;&#1610;&#1585;&#1608;&#1586; &#1608; &#1575;&#1605;&#1585;&#1608;&#1586;) : &#1583;&#1585; &#1608;&#1575;&#1602;&#1593; &#1575;&#1610;&#1606; &#1601;&#1607;&#1585;&#1587;&#1578; &#1607;&#1585; &#1634;&#1636; &#1587;&#1575;&#1593;&#1578; &#1610;&#1603;&#1576;&#1575;&#1585; &#1606;&#1608; &#1605;&#1610;&#1588;&#1608;&#1583;',
'info_gauche_suivi_forum' => '&#1589;&#1601;&#1581;&#1607; &#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1575;&#1586; &#1575;&#1576;&#1586;&#1575;&#1585; &#1575;&#1583;&#1575;&#1585;&#1607; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; (&#1608; &#1606;&#1607; &#1605;&#1603;&#1575;&#1606;&#1609; &#1576;&#1585;&#1575;&#1609; &#1576;&#1581;&#1579; &#1610;&#1575; &#1606;&#1711;&#1575;&#1585;&#1588;) &#1608; &#1575;&#1605;&#1603;&#1575;&#1606; &#1575;&#1593;&#1604;&#1575;&#1606; &#1578;&#1605;&#1575;&#1605; &#1662;&#1610;&#1575;&#1605;&#1607;&#1575; &#1609; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1608; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1575;&#1583;&#1575;&#1585;&#1607; &#1662;&#1610;&#1575;&#1605;&#1607;&#1575; &#1585;&#1575; &#1576;&#1588;&#1605;&#1575; &#1605;&#1610;&#1583;&#!
 1607;&#1583;',
'info_gauche_suivi_forum_2' => '&#1589;&#1601;&#1581;&#1607; &#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1575;&#1586; &#1575;&#1576;&#1586;&#1575;&#1585; &#1575;&#1583;&#1575;&#1585;&#1607; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; (&#1608; &#1606;&#1607; &#1605;&#1603;&#1575;&#1606;&#1609; &#1576;&#1585;&#1575;&#1609; &#1576;&#1581;&#1579; &#1610;&#1575; &#1606;&#1711;&#1575;&#1585;&#1588;) &#1608; &#1575;&#1605;&#1603;&#1575;&#1606; &#1575;&#1593;&#1604;&#1575;&#1606; &#1578;&#1605;&#1575;&#1605; &#1662;&#1610;&#1575;&#1605;&#1607;&#1575; &#1609; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1608; &#1582;&#1589;&#1608;&#1589;&#1609; &#1608; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1575;&#1583;&#1575;&#1585;&#1607; &#1662;&#1610;&#1575;&#1605;&#1607;&#1575; &#1585;&#1575; &#1576;&#1588;&#1605;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;!
 .',
'info_gauche_visiteurs_enregistres' => '&#1588;&#1605;&#1575;, &#1583;&#1585; &#1575;&#1610;&#1606;&#1580;&#1575;, &#1607;&#1605;&#1607; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1579;&#1576;&#1578; &#1588;&#1583;&#1607; &#1583;&#1585; &#1602;&#1587;&#1605;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1585;&#1575; &#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1610;&#1575;&#1601;&#1578;  (&#1576;&#1585;&#1575;&#1609; &#1605;&#1588;&#1578;&#1585;&#1603;&#1610;&#1606;).',
'info_generation_miniatures_images' => '&#1587;&#1575;&#1582;&#1578; &#1578;&#1589;&#1575;&#1608;&#1610;&#1585; &#1603;&#1608;&#1670;&#1603; &#1588;&#1583;&#1607;',
'info_gerer_trad' => '&#1570;&#1610;&#1575; &#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1578;&#1585;&#1580;&#1605;&#1607; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1605;&#1610;&#1603;&#1606;&#1610;&#1583;&#1567;',
'info_groupe_important' => '&#1711;&#1585;&#1608;&#1607; &#1605;&#1607;&#1605;',
'info_hebergeur_desactiver_envoi_email' => '&#1578;&#1593;&#1583;&#1575;&#1583;&#1609; &#1575;&#1586; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1575;&#1606; &#1575;&#1585;&#1587;&#1575;&#1604; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1606;&#1575;&#1605;&#1607; &#1607;&#1575; &#1585;&#1575; &#1575;&#1586; &#1587;&#1585;&#1608;&#1585;&#1607;&#1575;&#1610;&#1588;&#1575;&#1606; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1605;&#1610;&#1603;&#1606;&#1606;&#1583;. &#1583;&#1585; &#1575;&#1610;&#1606; &#1589;&#1608;&#1585;&#1578;&#1548;  &#1593;&#1605;&#1604;&#1603;&#1585;&#1583;&#1607;&#1575;&#1609; &#1576;&#1593;&#1583;&#1609; &#1575;&#1587;&#1662;&#1610;&#1662;  &#1603;&#1575;&#1585; &#1606;&#1582;&#1608;&#1607;&#1606;&#1583; &#1603;&#1585;&#1583;. ',
'info_hier' => ':&nbsp;&#1583;&#1610;&#1585;&#1608;&#1586;',
'info_historique' => '&#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1607;&#1575;&nbsp;:',
'info_historique_activer' => '&#1575;&#1583;&#1575;&#1605;&#1607; &#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1607;&#1575; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'info_historique_affiche' => '&#1606;&#1605;&#1575;&#1610;&#1588; &#1583;&#1575;&#1583;&#1606; &#1575;&#1610;&#1606; &#1606;&#1587;&#1582;&#1607;',
'info_historique_comparaison' => '&#1605;&#1602;&#1575;&#1610;&#1587;&#1607;',
'info_historique_desactiver' => '&#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1585;&#1583;&#1606; &#1575;&#1583;&#1575;&#1605;&#1607; &#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1607;&#1575;',
'info_historique_lien' => '&#1585;&#1608;&#1586;&#1606;&#1711;&#1575;&#1585; &#1575;&#1589;&#1604;&#1575;&#1581;&#1575;&#1578; &#1585;&#1575; &#1606;&#1588;&#1575;&#1606; &#1583;&#1607;&#1610;&#1583;',
'info_historique_texte' => '&#1662;&#1609; &#1711;&#1610;&#1585;&#1609; &#1576;&#1575;&#1586;&#1606;&#1711;&#1585;&#1610;&#1607;&#1575; &#1576;&#1588;&#1605;&#1575; &#1575;&#1605;&#1603;&#1575;&#1606; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1610;&#1603; &#1585;&#1608;&#1586;&#1606;&#1711;&#1575;&#1585; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583; &#1603;&#1607; &#1607;&#1585; &#1711;&#1608;&#1606;&#1607; &#1575;&#1589;&#1604;&#1575;&#1581; &#1583;&#1585; &#1605;&#1581;&#1578;&#1608;&#1609; &#1610;&#1603; &#1605;&#1602;&#1575;&#1604;&#1607; &#1585;&#1575; &#1607;&#1605;&#1585;&#1575;&#1607; &#1576;&#1575; &#1578;&#1601;&#1575;&#1608;&#1578;&#1607;&#1575;&#1609; &#1605;&#1575;&#1576;&#1610;&#1606; &#1606;&#1587;&#1582;&#1607; &#1607;&#1575;&#1609; &#1583;&#1610;&#1711;&#1585; &#1606;&#1588;&#1575;&#1606; &#1605;&#1610;&#1583;&#1607;&#1583;.',
'info_historique_titre' => '&#1662;&#1609; &#1711;&#1610;&#1585;&#1609; &#1576;&#1575;&#1586;&#1606;&#1711;&#1585;&#1610;&#1607;&#1575;',
'info_identification_publique' => '...&#1588;&#1606;&#1575;&#1587;&#1606;&#1575;&#1605;&#1607; &#1588;&#1605;&#1575;',
'info_image_process' => '&#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1576;&#1607;&#1578;&#1585;&#1610;&#1606; &#1588;&#1610;&#1608;&#1607; &#1587;&#1575;&#1582;&#1578; &#1578;&#1589;&#1575;&#1608;&#1610;&#1585; &#1603;&#1608;&#1670;&#1603; &#1585;&#1575; &#1576;&#1575; &#1603;&#1604;&#1610;&#1603; &#1603;&#1585;&#1583;&#1606; &#1576;&#1585;&#1608;&#1610; &#1578;&#1589;&#1608;&#1610;&#1585; &#1605;&#1585;&#1576;&#1608;&#1591;&#1607; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1606;&#1605;&#1575;&#1610;&#1610;&#1583;.',
'info_image_process2' => '<<b>N.B.</b> &#1583;&#1585;&#1589;&#1608;&#1585;&#1578;&#1610;&#1603;&#1607; &#1578;&#1589;&#1608;&#1610;&#1585;&#1609; &#1592;&#1575;&#1607;&#1585; &#1606;&#1588;&#1608;&#1583;, &#1587;&#1585;&#1608;&#1585;&#1609; &#1603;&#1607; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1585;&#1575; &#1662;&#1584;&#1610;&#1585;&#1575;&#1587;&#1578; &#1576;&#1585;&#1575;&#1609; &#1670;&#1606;&#1610;&#1606; &#1575;&#1576;&#1586;&#1575;&#1585;&#1609; &#1662;&#1610;&#1603;&#1585;&#1576;&#1606;&#1583;&#1609; &#1606;&#1588;&#1583;&#1607; &#1575;&#1587;&#1578;. &#1575;&#1711;&#1585; &#1605;&#1575;&#1610;&#1604; &#1576;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1575;&#1586; &#1575;&#1610;&#1606; &#1603;&#1575;&#1585;&#1603;&#1585;&#1583;&#1607;&#1575; &#1607;&#1587;&#1578;&#1610;&#1583; &#1576;&#1575; &#1587;&#1585;&#1662;&#1585;&#1587;&#1578; &#1601;&#1606;&#1609; &#1578;&#1605;&#1575;&#1587; &#1576;&#1711;&#1610;&#1585;&#1610;&#1583; &#1608; &#!
 1578;&#1602;&#1575;&#1590;&#1575;&#1609;GD          &#1610;&#1575;   &laquo;Imagick&raquo; &#1585;&#1575; &#1576;&#1603;&#1606;&#1610;&#1583;.',
'info_informations_personnelles' => '&#1605;&#1585;&#1581;&#1604;&#1607; &#1662;&#1606;&#1580;&#1605; : <B>&#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1588;&#1582;&#1589;&#1609;</b>',
'info_inscription_automatique' => '&#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1582;&#1608;&#1603;&#1575;&#1585; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606; &#1580;&#1583;&#1610;&#1583;',
'info_jeu_caractere' => '&#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1606;&#1608;&#1593; &#1608; &#1588;&#1603;&#1604; &#1581;&#1585;&#1608;&#1601; &#1587;&#1575;&#1610;&#1578;',
'info_jours' => '&#1585;&#1608;&#1586;',
'info_laisser_champs_vides' => '&#1575;&#1610;&#1606; &#1602;&#1587;&#1605;&#1578;&#1607;&#1575; &#1585;&#1575; &#1582;&#1575;&#1604;&#1609; &#1576;&#1711;&#1584;&#1575;&#1585;&#1610;&#1583;)',
'info_langues' => '&#1586;&#1576;&#1575;&#1606;&#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578;',
'info_ldap_ok' => '&#1711;&#1608;&#1575;&#1607;&#1609; &#1583;&#1585;&#1587;&#1578;&#1609; LDAP &#1605;&#1587;&#1578;&#1602;&#1585; &#1588;&#1583;&#1607;',
'info_lien_hypertexte' => ': &#1662;&#1610;&#1608;&#1606;&#1583; &#1607;&#1575;&#1610;&#1662;&#1585;&#1578;&#1603;&#1587;&#1578;',
'info_liens_syndiques_1' => '&#1662;&#1610;&#1608;&#1606;&#1583; &#1605;&#1610;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;&#1609;',
'info_liens_syndiques_2' => '.&#1583;&#1585; &#1575;&#1606;&#1578;&#1592;&#1575;&#1585; &#1578;&#1571;&#1574;&#1610;&#1583; &#1588;&#1583;&#1606; &#1607;&#1587;&#1578;&#1606;&#1583;',
'info_liens_syndiques_3' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607;',
'info_liens_syndiques_4' => '&#1607;&#1587;&#1578;&#1606;&#1583;',
'info_liens_syndiques_5' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607;',
'info_liens_syndiques_6' => '&#1607;&#1587;&#1578;',
'info_liens_syndiques_7' => '&#1583;&#1585; &#1575;&#1606;&#1578;&#1592;&#1575;&#1585; &#1578;&#1571;&#1574;&#1610;&#1583;',
'info_liste_redacteurs_connectes' => '&#1601;&#1607;&#1585;&#1587;&#1578; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1711;&#1575;&#1606; &#1585;&#1608;&#1609; &#1582;&#1591;',
'info_login_existant' => '.&#1605;&#1608;&#1580;&#1608;&#1583; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; login &#1575;&#1610;&#1606;',
'info_login_trop_court' => '&#1576;&#1610;&#1588; &#1575;&#1586; &#1575;&#1606;&#1583;&#1575;&#1586;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; Login .',
'info_maximum' => ':&nbsp;&#1581;&#1583;&#1575;&#1603;&#1579;&#1585;',
'info_meme_rubrique' => '&#1583;&#1585; &#1607;&#1605;&#1575;&#1606; &#1576;&#1582;&#1588;',
'info_message' => '&#1662;&#1610;&#1575;&#1605;',
'info_message_efface' => '&#1662;&#1610;&#1575;&#1605; &#1662;&#1575;&#1603; &#1588;&#1583;&#1607;',
'info_message_en_redaction' => '&#1662;&#1610;&#1575;&#1605; &#1607;&#1575;&#1610;&#1578;&#1575;&#1606; &#1583;&#1585; &#1581;&#1575;&#1604; &#1606;&#1711;&#1575;&#1585;&#1588;',
'info_message_technique' => ':&#1662;&#1610;&#1575;&#1605; &#1601;&#1606;&#1609;',
'info_messagerie_interne' => '&#1662;&#1610;&#1575;&#1605; &#1711;&#1610;&#1585; &#1583;&#1575;&#1582;&#1604;&#1609;',
'info_mise_a_niveau_base' => 'MySQL &#1578;&#1585;&#1575;&#1586;&#1609; &#1711;&#1584;&#1575;&#1585;&#1609; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607;',
'info_mise_a_niveau_base_2' => '{{!&#1578;&#1608;&#1580;&#1607;}}&#1588;&#1605;&#1575; &#1606;&#1587;&#1582;&#1607; { &#1602;&#1583;&#1610;&#1605;&#1609;} &#1575;&#1587;&#1662;&#1610;&#1662; &#1585;&#1575; &#1606;&#1589;&#1576; &#1603;&#1585;&#1583;&#1607; &#1575;&#1610;&#1583; &#1576;&#1585;&#1575;&#1609; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;&#1610;&#1578;&#1575;&#1606; &#1582;&#1591;&#1585;  &#1575;&#1586; &#1576;&#1610;&#1606; &#1585;&#1601;&#1578;&#1606; &#1608;&#1580;&#1608;&#1583; &#1583;&#1575;&#1585;&#1583; &#1608; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1575;&#1586; &#1603;&#1575;&#1585; &#1575;&#1601;&#1578;&#1575;&#1583; &#1711;&#1609; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606;   .<br>{{&#1601;&#1575;&#1610;&#1604;&#1607;&#1575;&#1609; &#1575;&#1587;&#1662;&#1610;&#1662; &#1585;&#1575; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1606;&#1589;&#1576; &#1603;&#1606;&#1610;&#1583;}}',
'info_mode_fonctionnement_defaut_forum_public' => '&#1591;&#1585;&#1586; &#1593;&#1605;&#1604;&#1603;&#1585;&#1583; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1607;&#1575;&#1609; &#1593;&#1605;&#1608;&#1605;&#1609;',
'info_modifier_breve' => ':&#1575;&#1589;&#1604;&#1575;&#1581; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'info_modifier_rubrique' => ':&#1575;&#1589;&#1604;&#1575;&#1581; &#1576;&#1582;&#1588; ',
'info_modifier_titre' => '@titre@ : &#1575;&#1589;&#1604;&#1575;&#1581;       ',
'info_mon_site_spip' => 'SPIP &#1587;&#1575;&#1610;&#1578; &#1605;&#1606;',
'info_mot_sans_groupe' => '(...&#1608;&#1575;&#1688;&#1607; &#1576;&#1583;&#1608;&#1606; &#1711;&#1585;&#1608;&#1607;)',
'info_moteur_recherche' => '&#1605;&#1608;&#1578;&#1608;&#1585; &#1580;&#1587;&#1578;&#1580;&#1608;&#1609; &#1711;&#1606;&#1580;&#1575;&#1606;&#1583;&#1607; &#1588;&#1583;&#1607;',
'info_mots_cles' => '&#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575;',
'info_mots_cles_association' => ':&nbsp;&#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575;&#1609; &#1575;&#1610;&#1606; &#1711;&#1585;&#1608;&#1607; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1587;&#1607;&#1610;&#1605; &#1576;&#1588;&#1608;&#1606;&#1583;',
'info_moyenne' => ':&nbsp;&#1605;&#1578;&#1608;&#1587;&#1591;',
'info_multi_articles' => '&#1570;&#1610;&#1575; &#1605;&#1610;&#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1601;&#1607;&#1585;&#1587;&#1578; &#1586;&#1576;&#1575;&#1606;&#1607;&#1575; &#1585;&#1575; &#1583;&#1585; &#1605;&#1608;&#1585;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;&#1567;',
'info_multi_cet_article' => ' &#1586;&#1576;&#1575;&#1606; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; :',
'info_multi_langues_choisies' => '&#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1603;&#1607; &#1586;&#1576;&#1575;&#1606;&#1607;&#1575;&#1609; &#1605;&#1608;&#1580;&#1608;&#1583; &#1576;&#1585;&#1575;&#1609; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1585;&#1575; &#1583;&#1585; &#1586;&#1610;&#1585; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583;. &#1586;&#1576;&#1575;&#1606;&#1607;&#1575;&#1609; &#1575;&#1586; &#1662;&#1610;&#1588; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1588;&#1583;&#1607; &#1606;&#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1588;&#1608;&#1606;&#1583;.',
'info_multi_rubriques' => '&#1570;&#1610;&#1575; &#1605;&#1610;&#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1601;&#1607;&#1585;&#1587;&#1578; &#1586;&#1576;&#1575;&#1606;&#1607;&#1575; &#1585;&#1575; &#1583;&#1585; &#1605;&#1608;&#1585;&#1583; &#1576;&#1582;&#1588; &#1607;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;&#1567;',
'info_multi_secteurs' => '...&#1578;&#1606;&#1607;&#1575; &#1576;&#1585;&#1575;&#1609; &#1576;&#1582;&#1588;&#1607;&#1575;&#1609; &#1608;&#1575;&#1602;&#1593; &#1583;&#1585; &#1585;&#1610;&#1588;&#1607;&#1567;',
'info_nom' => '&#1606;&#1575;&#1605;',
'info_nom_destinataire' => '&#1606;&#1575;&#1605; &#1711;&#1610;&#1585;&#1606;&#1583;&#1607;',
'info_nom_site' => '&#1606;&#1575;&#1605; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606;',
'info_nom_site_2' => ' [&#1575;&#1580;&#1576;&#1575;&#1585;&#1609;] <b>&#1606;&#1575;&#1605; &#1587;&#1575;&#1610;&#1578;</b>',
'info_nombre_articles' => '&#1605;&#1602;&#1575;&#1604;&#1607; @nb_articles@ ',
'info_nombre_breves' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; @nb_breves@ ',
'info_nombre_partcipants' => ':&#1588;&#1585;&#1603;&#1578; &#1603;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1583;&#1585; &#1575;&#1610;&#1606; &#1711;&#1601;&#1578;&#1711;&#1608;',
'info_nombre_rubriques' => '&#1576;&#1582;&#1588; @nb_rubriques@ ',
'info_nombre_sites' => '&#1587;&#1575;&#1610;&#1578; @nb_sites@',
'info_non_deplacer' => '...&#1580;&#1575;&#1576;&#1580;&#1575; &#1606;&#1603;&#1606;&#1610;&#1583;',
'info_non_envoi_annonce_dernieres_nouveautes' => '&#1575;&#1587;&#1662;&#1610;&#1662; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1576;&#1591;&#1608;&#1585; &#1605;&#1606;&#1592;&#1605; &#1575;&#1582;&#1576;&#1575;&#1585; &#1578;&#1575;&#1586;&#1607; &#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1605;&#1575;&#1606;&#1606;&#1583; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1548; &#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607; &#1578;&#1575;&#1586;&#1607; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1583;&#1607; &#1608;... &#1585;&#1575; &#1576;&#1601;&#1585;&#1587;&#1578;&#1583; ',
'info_non_envoi_liste_nouveautes' => '&#1601;&#1607;&#1585;&#1587;&#1578; &#1578;&#1575;&#1586;&#1607; &#1607;&#1575; &#1585;&#1575; &#1606;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'info_non_modifiable' => '&#1606;&#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1575;&#1589;&#1604;&#1575;&#1581; &#1588;&#1608;&#1583;',
'info_non_suppression_mot_cle' => '&#1606;&#1605;&#1610;&#1582;&#1608;&#1575;&#1607;&#1605; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1605;',
'info_notes' => '&#1610;&#1575;&#1583;&#1583;&#1575;&#1588;&#1578; ',
'info_nouveaux_message' => '&#1662;&#1610;&#1575;&#1605; &#1607;&#1575;&#1609; &#1580;&#1583;&#1610;&#1583;',
'info_nouvel_article' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1580;&#1583;&#1610;&#1583;',
'info_nouvelle_traduction' => '&#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606; &#1580;&#1583;&#1610;&#1583;',
'info_numero_article' => ':&nbsp;&#1605;&#1602;&#1575;&#1604;&#1607; &#1588;&#1605;&#1575;&#1585;&#1607;',
'info_obligatoire_02' => '[&#1575;&#1580;&#1576;&#1575;&#1585;&#1609;]',
'info_option_accepter_visiteurs' => '&#1662;&#1584;&#1610;&#1585;&#1601;&#1578;&#1606; &#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609;',
'info_option_email' => '&#1607;&#1606;&#1711;&#1575;&#1605;&#1610;&#1603;&#1607; &#1610;&#1603;&#1609; &#1575;&#1586; &#1576;&#1610;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1662;&#1610;&#1575;&#1605;&#1609; &#1583;&#1585; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1585;&#1575;&#1580;&#1593; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1575;&#1609; &#1605;&#1610;&#1601;&#1585;&#1587;&#1578;&#1583;&#1548; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607;  &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1575;&#1586; &#1570;&#1606; &#1570;&#1711;&#1575;&#1607; &#1588;&#1608;&#1606;&#1583;. &#1570;&#1610;&#1575; &#1605;&#1610;&#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1585;&#1575; &#1583;&#1575;&#1588;&#1578;&#1607; &#1576;&#1575;&#1588;&#1610;&#1583;&#1567;',
'info_option_faire_suivre' => '&#1662;&#1610;&#1575;&#1605; &#1607;&#1575;&#1609; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1585;&#1575; &#1576;&#1607; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1575;&#1585;&#1587;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'info_option_ne_pas_accepter_visiteurs' => '&#1585;&#1583; &#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606;',
'info_option_ne_pas_faire_suivre' => '&#1662;&#1610;&#1575;&#1605; &#1607;&#1575;&#1609; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1585;&#1575; &#1575;&#1585;&#1587;&#1575;&#1604; &#1606;&#1603;&#1606;&#1610;&#1583;',
'info_options_avancees' => '&#1711;&#1586;&#1610;&#1606;&#1588; &#1607;&#1575;&#1609; &#1662;&#1610;&#1588;&#1585;&#1601;&#1578;&#1607;',
'info_ortho_activer' => '&#1578;&#1589;&#1581;&#1610;&#1581; &#1603;&#1606;&#1606;&#1583;&#1607; &#1609; &#1575;&#1605;&#1604;&#1575; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'info_ortho_desactiver' => '&#1578;&#1589;&#1581;&#1610;&#1581; &#1603;&#1606;&#1606;&#1583;&#1607; &#1609; &#1575;&#1605;&#1604;&#1575; &#1585;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'info_ou' => '...&#1610;&#1575;',
'info_oui_suppression_mot_cle' => '&#1605;&#1610;&#1582;&#1608;&#1575;&#1607;&#1605; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583; &#1585;&#1575; &#1576;&#1585;&#1575;&#1609; &#1607;&#1605;&#1610;&#1588;&#1607; &#1581;&#1584;&#1601; &#1603;&#1606;&#1605;',
'info_page_interdite' => '&#1589;&#1601;&#1581;&#1607; &#1605;&#1605;&#1606;&#1608;&#1593;',
'info_par_nombre_article' => '(&#1583;&#1585; &#1585;&#1575;&#1576;&#1591;&#1607; &#1576;&#1575; &#1578;&#1593;&#1583;&#1575;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;)',
'info_par_tri' => '(@tri@ &#1576;&#1578;&#1585;&#1578;&#1610;&#1576;)',
'info_pas_de_forum' => '&#1576;&#1583;&#1608;&#1606; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607;',
'info_passe_trop_court' => '&#1603;&#1604;&#1605;&#1607; &#1608;&#1585;&#1608;&#1583; &#1582;&#1610;&#1604;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607;',
'info_passes_identiques' => '&#1583;&#1608; &#1603;&#1604;&#1605;&#1607; &#1608;&#1585;&#1608;&#1583; &#1576;&#1575; &#1607;&#1605; &#1610;&#1603;&#1587;&#1575;&#1606; &#1606;&#1610;&#1587;&#1578;&#1606;&#1583;',
'info_pense_bete_ancien' => '&#1610;&#1575;&#1583;&#1583;&#1575;&#1588;&#1578; &#1607;&#1575;&#1609; &#1662;&#1610;&#1588;&#1610;&#1606;&#1578;&#1575;&#1606;',
'info_plus_cinq_car' => '&#1576;&#1610;&#1588; &#1575;&#1586; &#1662;&#1606;&#1580; &#1581;&#1585;&#1601;',
'info_plus_cinq_car_2' => '(&#1576;&#1610;&#1588; &#1575;&#1586; &#1662;&#1606;&#1580; &#1581;&#1585;&#1601;)',
'info_plus_trois_car' => '(&#1576;&#1610;&#1588; &#1575;&#1586; &#1587;&#1607; &#1581;&#1585;&#1601;)',
'info_popularite' => '@popularite@&nbsp;:&nbsp; &#1605;&#1581;&#1576;&#1608;&#1576;&#1610;&#1578;@visites@&nbsp;:&nbsp;&#1576;&#1575;&#1586;&#1583;&#1610;&#1583;',
'info_popularite_2' => ':&nbsp;&#1605;&#1581;&#1576;&#1608;&#1576;&#1610;&#1578; &#1587;&#1575;&#1610;&#1578;',
'info_popularite_3' => '@popularite@&nbsp;:&nbsp;&#1605;&#1581;&#1576;&#1608;&#1576;&#1610;&#1578; &#1587;&#1575;&#1610;&#1578; @visites@&nbsp;:&nbsp;&#1576;&#1575;&#1586;&#1583;&#1610;&#1583;',
'info_popularite_4' => '@popularite@&nbsp;:&nbsp;&#1605;&#1581;&#1576;&#1608;&#1576;&#1610;&#1578;@visites@&nbsp;:&nbsp;&#1576;&#1575;&#1586;&#1583;&#1610;&#1583;',
'info_popularite_5' => ':&nbsp;&#1605;&#1581;&#1576;&#1608;&#1576;&#1610;&#1578;',
'info_post_scriptum' => '&#1606;&#1608;&#1588;&#1578;&#1575;&#1585; &#1662;&#1587; &#1575;&#1586; &#1605;&#1578;&#1606; &#1575;&#1589;&#1604;&#1609;',
'info_post_scriptum_2' => ':&#1606;&#1608;&#1588;&#1578;&#1575;&#1585; &#1662;&#1587; &#1575;&#1586; &#1605;&#1578;&#1606; &#1575;&#1589;&#1604;&#1609;',
'info_pour' => '&#1576;&#1585;&#1575;&#1609;',
'info_preview_admin' => '&#1578;&#1606;&#1607;&#1575; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1605;&#1591;&#1575;&#1604;&#1576; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1603;&#1606;&#1606;&#1583;',
'info_preview_comite' => '&#1607;&#1605;&#1607; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1605;&#1591;&#1575;&#1604;&#1576; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1603;&#1606;&#1606;&#1583;',
'info_preview_desactive' => '&#1603;&#1575;&#1585;&#1603;&#1585;&#1583; &#1662;&#1610;&#1588; &#1570;&#1586;&#1605;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1575;&#1587;&#1578;',
'info_preview_texte' => '&#1575;&#1610;&#1606; &#1575;&#1605;&#1603;&#1575;&#1606; &#1608;&#1580;&#1608;&#1583; &#1583;&#1575;&#1585;&#1583; &#1603;&#1607; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1662;&#1610;&#1588; &#1575;&#1586; &#1570;&#1605;&#1575;&#1583;&#1607; &#1588;&#1583;&#1606; (&#1662;&#1610;&#1588; &#1575;&#1586; &#1662;&#1610;&#1588;&#1606;&#1607;&#1575;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;) &#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1603;&#1585;&#1583; &#1605;&#1575;&#1606;&#1606;&#1583; &#1586;&#1605;&#1575;&#1606;&#1610;&#1603;&#1607; &#1607;&#1605;&#1607; &#1609; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1608; &#1575;&#1582;&#1576;&#1575;&#1585; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1583;&#1607; &#1575;&#1606;&#1583;.&#1575;&#1610;&#1606; &#1575;&#1605;&#1603;&#1575;&#1606; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1578;&#1606;&#1607;&#1575; &#1576;&#1585;&#1575;&#1609; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606!
 ;&#1583; &#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1610;&#1575; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; &#1610;&#1575; &#1576;&#1585;&#1575;&#1609; &#1607;&#1610;&#1670;&#1603;&#1587; &#1606;&#1576;&#1575;&#1588;&#1583;.',
'info_principaux_correspondants' => '&#1605;&#1603;&#1575;&#1578;&#1576;&#1610;&#1606; &#1575;&#1589;&#1604;&#1609; &#1588;&#1605;&#1575;',
'info_procedez_par_etape' => '&#1605;&#1585;&#1581;&#1604;&#1607; &#1576;&#1607; &#1605;&#1585;&#1581;&#1604;&#1607; &#1575;&#1602;&#1583;&#1575;&#1605; &#1603;&#1606;&#1610;&#1583;',
'info_procedure_maj_version' => '&#1585;&#1608;&#1606;&#1583; &#1576;&#1607; &#1585;&#1608;&#1586; &#1603;&#1585;&#1583;&#1606; &#1576;&#1575;&#1610;&#1583; &#1576;&#1607; &#1580;&#1585;&#1610;&#1575;&#1606; &#1576;&#1610;&#1601;&#1578;&#1583; &#1578;&#1575; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575; &#1576;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1576;&#1575; &#1606;&#1587;&#1582;&#1607; &#1580;&#1583;&#1610;&#1583; &#1605;&#1606;&#1591;&#1576;&#1602; &#1588;&#1608;&#1606;&#1583;.',
'info_ps' => 'P.S',
'info_publies' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1609; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1583;&#1607; &#1578;&#1575;&#1606; &#1585;&#1608;&#1609; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575;',
'info_question_accepter_visiteurs' => '&#1575;&#1711;&#1585; &#1575;&#1587;&#1603;&#1604;&#1578; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1579;&#1576;&#1578; &#1588;&#1605;&#1575;&#1585; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606;  &#1585;&#1575; &#1576;&#1609; &#1570;&#1606;&#1603;&#1607; &#1575;&#1580;&#1575;&#1586;&#1607; &#1609; &#1608;&#1585;&#1608;&#1583; &#1576;&#1607; &#1602;&#1587;&#1605;&#1578; &#1582;&#1589;&#1608;&#1589;&#1609; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1583;&#1575;&#1588;&#1578;&#1607; &#1576;&#1575;&#1588;&#1606;&#1583; &#1585;&#1575;  &#1583;&#1575;&#1585;&#1575;&#1587;&#1578; &#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1711;&#1586;&#1610;&#1606;&#1607; &#1609; &#1586;&#1610;&#1585; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;:',
'info_question_gerer_statistiques' => '&#1570;&#1610;&#1575; &#1605;&#1610;&#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1570;&#1605;&#1575;&#1585; &#1576;&#1610;&#1606;&#1606;&#1583; &#1711;&#1575;&#1606; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1603;&#1606;&#1583;&#1567;',
'info_question_inscription_nouveaux_redacteurs' => '&#1570;&#1610;&#1575; &#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583; &#1711;&#1575;&#1606; &#1580;&#1583;&#1610;&#1583; &#1585;&#1575; &#1575;&#1586; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1602;&#1576;&#1608;&#1604; &#1605;&#1610;&#1603;&#1606;&#1610;&#1583;&#1567; &#1575;&#1711;&#1585; &#1605;&#1610;&#1603;&#1606;&#1610;&#1583;&#1548; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1576;&#1575; &#1662;&#1585; &#1603;&#1585;&#1583;&#1606; &#1610;&#1603; &#1662;&#1585;&#1587;&#1588;&#1606;&#1575;&#1605;&#1607; &#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1603;&#1606;&#1606;&#1583; &#1608; &#1576;&#1607; &#1605;&#1581;&#1608;&#1591;&#1607; &#1582;&#1589;&#1608;&#1589;&#1609; &#1585;&#1575;&#1607; &#1610;&#1575;&#1576;&#1606;&#1583;. &#1570;&#1606;&#1607;&#1575; &#1605;&#1610;&#1578;&#1608;&#!
 1575;&#1606;&#1606;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;&#1588;&#1575;&#1606; &#1585;&#1575; &#1605;&#1591;&#1585;&#1581; &#1603;&#1606;&#1606;&#1583; <blockquote><i>&#1583;&#1585; &#1607;&#1606;&#1711;&#1575;&#1605; &#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1610;&#1603; &#1575;&#1610;&#1605;&#1610;&#1604; &#1583;&#1585;&#1610;&#1575;&#1601;&#1578; &#1582;&#1608;&#1575;&#1607;&#1606;&#1583; &#1603;&#1585;&#1583; &#1603;&#1607; &#1588;&#1575;&#1605;&#1604; &#1603;&#1583; &#1608;&#1585;&#1608;&#1583;&#1610; &#1588;&#1575;&#1606; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1582;&#1589;&#1608;&#1589;&#1609; &#1582;&#1608;&#1575;&#1607;&#1583; &#1576;&#1608;&#1583;. &#1578;&#1593;&#1583;&#1575;&#1583;&#1609; &#1575;&#1586; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1575;&#1606;&#1548; &#1575;&#1585;&#1587;&#1575;&#1604; &#1575;&#1610;&#1605;&#1610;&#1604; &#1585;&#1575; &#1575;&#1586; &#1587;&#1585;&#1608;&#15!
 85;&#1607;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &
#1603;&#1585;&#1583;&#1607; &#1575;&#1606;&#1583;: &#1583;&#1585;&#1575;&#1610;&#1606;&#1589;&#1608;&#1585;&#1578; &#1579;&#1576;&#1578; &#1606;&#1575;&#1605; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1594;&#1610;&#1585; &#1605;&#1605;&#1603;&#1606; &#1582;&#1608;&#1575;&#1607;&#1583; &#1576;&#1608;&#1583;.',
'info_question_mots_cles' => '&#1570;&#1610;&#1575; &#1605;&#1610;&#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1575;&#1586; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1583;&#1585; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583; &#1603;&#1606;&#1610;&#1583;&nbsp;&#1567;',
'info_question_proposer_site' => '&#1603;&#1609; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1585;&#1575; &#1662;&#1610;&#1588;&#1606;&#1607;&#1575;&#1583; &#1603;&#1606;&#1583;&nbsp;&#1567;',
'info_question_utilisation_moteur_recherche' => '&#1570;&#1610;&#1575; &#1605;&#1575;&#1610;&#1604; &#1607;&#1587;&#1578;&#1610;&#1583; &#1603;&#1607; &#1575;&#1586; &#1605;&#1608;&#1578;&#1608;&#1585; &#1580;&#1587;&#1578;&#1580;&#1608;&#1609; &#1575;&#1587;&#1662;&#1610;&#1662; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;&nbsp;&#1567;
 (&#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1585;&#1583;&#1606; &#1570;&#1606; &#1587;&#1585;&#1593;&#1578; &#1587;&#1610;&#1587;&#1578;&#1605; &#1585;&#1575; &#1575;&#1601;&#1586;&#1575;&#1610;&#1588; &#1605;&#1610;&#1583;&#1607;&#1583;)',
'info_qui_attribue_mot_cle' => ':&#1605;&#1610;&#1578;&#1608;&#1575;&#1606; &#1608;&#1575;&#1688;&#1607; &#1607;&#1575;&#1609; &#1575;&#1610;&#1606; &#1711;&#1585;&#1608;&#1607; &#1585;&#1575; &#1606;&#1587;&#1576;&#1578; &#1583;&#1575;&#1583; &#1576;&#1607; ',
'info_racine_site' => '&#1585;&#1610;&#1588;&#1607; &#1587;&#1575;&#1610;&#1578;',
'info_recharger_page' => '&#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1575;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607; &#1585;&#1575; &#1578;&#1575; &#1670;&#1606;&#1583; &#1604;&#1581;&#1592;&#1607; &#1576;&#1593;&#1583; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1588;&#1575;&#1585;&#1688; &#1603;&#1606;&#1610;&#1583;',
'info_recherche_auteur_a_affiner' => '&#1662;&#1575;&#1587;&#1582;&#1607;&#1575;&#1609; &#1576;&#1610;&#1588;&#1605;&#1575;&#1585; &#1576;&#1585;&#1575;&#1609; "@cherche_auteur@" ;&#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1662;&#1585;&#1587;&#1588;&#1578;&#1575;&#1606; &#1585;&#1575; &#1576;&#1607;&#1578;&#1585; &#1605;&#1591;&#1585;&#1581; &#1603;&#1606;&#1610;&#1583;.',
'info_recherche_auteur_ok' => '"@cherche_auteur@"&#1670;&#1606;&#1583;&#1610;&#1606; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1576;&#1585;&#1575;&#1609; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;',
'info_recherche_auteur_zero' => '"@cherche_auteur@" : &#1580;&#1587;&#1578;&#1580;&#1608;&#1609; &#1576;&#1583;&#1608;&#1606; &#1606;&#1578;&#1610;&#1580;&#1607; &#1576;&#1585;&#1575;&#1609;',
'info_recommencer' => '.&#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1588;&#1585;&#1608;&#1593; &#1603;&#1606;&#1610;&#1583;',
'info_redacteur_1' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607;',
'info_redacteur_2' => '&#1576;&#1607; &#1576;&#1582;&#1588; &#1582;&#1589;&#1608;&#1589;&#1609; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1583;&#1575;&#1585;&#1583;(<i>&#1578;&#1608;&#1589;&#1610;&#1607; &#1605;&#1610;&#1588;&#1608;&#1583;</i>)',
'info_redacteurs' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606;',
'info_redaction_en_cours' => '&#1583;&#1585; &#1581;&#1575;&#1604; &#1606;&#1711;&#1575;&#1585;&#1588;',
'info_redirection' => '&#1607;&#1583;&#1575;&#1610;&#1578; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1570;&#1583;&#1585;&#1587; ',
'info_refuses' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1607;&#1575;&#1610;&#1578;&#1575;&#1606; &#1603;&#1607; &#1662;&#1584;&#1610;&#1585;&#1601;&#1578;&#1607; &#1606;&#1588;&#1583;&#1607; &#1575;&#1606;&#1583;',
'info_reglage_ldap' => '<B>LDAP &#1578;&#1606;&#1592;&#1610;&#1605; &#1608;&#1585;&#1608;&#1583;</b> : &#1711;&#1586;&#1610;&#1606;&#1588;',
'info_renvoi_article' => '<B>SPIP &#1570;&#1583;&#1585;&#1587; &#1580;&#1583;&#1610;&#1583; &#1605;&#1578;&#1606; &#1583;&#1585;</b> &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1576;&#1607; &#1589;&#1601;&#1581;&#1607; &#1586;&#1610;&#1585; &#1593;&#1608;&#1583;&#1578; &#1605;&#1610;&#1583;&#1607;&#1583;',
'info_reserve_admin' => '&#1578;&#1606;&#1607;&#1575; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1581;&#1602; &#1575;&#1589;&#1604;&#1575;&#1581; &#1575;&#1610;&#1606; &#1570;&#1583;&#1585;&#1587; &#1585;&#1575; &#1583;&#1575;&#1585;&#1606;&#1583;',
'info_restauration_sauvegarde' => '@archive@ &#1576;&#1575;&#1586;&#1587;&#1575;&#1586;&#1609; &#1584;&#1582;&#1610;&#1585;&#1607;',
'info_restreindre_rubrique' => ':&#1605;&#1581;&#1583;&#1608;&#1583;&#1610;&#1578; &#1583;&#1585; &#1575;&#1583;&#1575;&#1585;&#1607; &#1576;&#1582;&#1588;',
'info_resultat_recherche' => ':&#1606;&#1578;&#1610;&#1580;&#1607; &#1580;&#1587;&#1578;&#1580;&#1608;',
'info_rubriques' => '&#1576;&#1582;&#1588; &#1607;&#1575;',
'info_rubriques_02' => '&#1576;&#1582;&#1588; &#1607;&#1575;',
'info_rubriques_liees_mot' => '&#1576;&#1582;&#1588; &#1607;&#1575;&#1609; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;',
'info_rubriques_trouvees' => '&#1576;&#1582;&#1588; &#1607;&#1575;&#1609; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;',
'info_rubriques_trouvees_dans_texte' => '&#1576;&#1582;&#1588; &#1607;&#1575;&#1609; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607; (&#1583;&#1585;&#1608;&#1606; &#1605;&#1578;&#1606;)',
'info_sans_titre' => '&#1576;&#1583;&#1608;&#1606; &#1593;&#1606;&#1608;&#1575;&#1606;',
'info_sauvegarde' => '&#1584;&#1582;&#1610;&#1585;&#1607;',
'info_sauvegarde_articles' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_articles_sites_ref' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_auteurs' => '&#1601;&#1607;&#1585;&#1587;&#1578; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_breves' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1603;&#1608;&#1578;&#1575;&#1607; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_documents' => '&#1575;&#1587;&#1606;&#1575;&#1583; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_echouee' => '&#1575;&#1711;&#1585; &#1584;&#1582;&#1610;&#1585;&#1607; &#1587;&#1575;&#1586;&#1609; &#1588;&#1603;&#1587;&#1578; &#1582;&#1608;&#1585;&#1583;(&laquo;Maximum execution time exceeded&raquo;),',
'info_sauvegarde_forums' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_groupe_mots' => '&#1711;&#1585;&#1608;&#1607; &#1608;&#1575;&#1688;&#1607; &#1607;&#1575; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_messages' => '&#1662;&#1610;&#1575;&#1605; &#1607;&#1575; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_mots_cles' => '&#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_petitions' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_refers' => '&#1605;&#1585;&#1575;&#1580;&#1593; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_reussi_01' => '&#1584;&#1582;&#1610;&#1585;&#1607; &#1587;&#1575;&#1586;&#1609; &#1605;&#1608;&#1601;&#1602;&#1610;&#1578; &#1570;&#1605;&#1610;&#1586;',
'info_sauvegarde_reussi_02' => '&#1584;&#1582;&#1610;&#1585;&#1607; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1583;&#1585;  <b>ecrire/data/@archive@</b>&#1575;&#1606;&#1580;&#1575;&#1605; &#1588;&#1583;. &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583;',
'info_sauvegarde_reussi_03' => '&#1576;&#1607; &#1576;&#1582;&#1588; &#1575;&#1583;&#1575;&#1585;&#1607; &#1576;&#1585;&#1711;&#1585;&#1583;&#1610;&#1583;',
'info_sauvegarde_reussi_04' => '.&#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606;',
'info_sauvegarde_rubriques' => '&#1576;&#1582;&#1588;&#1607;&#1575; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_signatures' => '&#1575;&#1605;&#1590;&#1575;&#1607;&#1575;&#1609; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_sites_references' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_type_documents' => '&#1575;&#1606;&#1608;&#1575;&#1593; &#1575;&#1587;&#1606;&#1575;&#1583; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sauvegarde_visites' => '&#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1607;&#1575; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_selection_chemin_acces' => '<b>&#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583;</b> &#1585;&#1575;&#1607; &#1608;&#1585;&#1608;&#1583;&#1609; &#1585;&#1575; &#1583;&#1585; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;',
'info_selection_un_seul_mot_cle' => '&#1606;&#1605;&#1610;&#1578;&#1608;&#1575;&#1606; &#1607;&#1585; &#1583;&#1601;&#1593;&#1607; &#1576;&#1610;&#1588; &#1575;&#1586; &#1610;&#1603; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;  &#1583;&#1585; &#1575;&#1610;&#1606; &#1711;&#1585;&#1608;&#1607; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1585;&#1583;.',
'info_signatures' => '&#1575;&#1605;&#1590;&#1575;&#1569;',
'info_site' => '&#1587;&#1575;&#1610;&#1578;',
'info_site_2' => ':&#1587;&#1575;&#1610;&#1578;',
'info_site_min' => '&#1587;&#1575;&#1610;&#1578;',
'info_site_propose' => ':&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1583;&#1585; &#1578;&#1575;&#1585;&#1610;&#1582; &#1586;&#1610;&#1585; &#1662;&#1610;&#1588;&#1606;&#1607;&#1575;&#1583; &#1588;&#1583;&#1607; ',
'info_site_reference_2' => '&#1587;&#1575;&#1610;&#1578; &#1605;&#1585;&#1580;&#1593;',
'info_site_syndique' => '...&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1662;&#1610;&#1608;&#1606;&#1583; &#1583;&#1575;&#1585;&#1583;',
'info_site_valider' => '&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1607;&#1575; &#1576;&#1575;&#1610;&#1583; &#1605;&#1593;&#1578;&#1576;&#1585; &#1588;&#1608;&#1606;&#1583;',
'info_site_web' => ':&#1587;&#1575;&#1610;&#1578; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575;',
'info_sites' => '&#1587;&#1575;&#1610;&#1578;',
'info_sites_lies_mot' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;',
'info_sites_proxy' => '&#1575;&#1586; &#1662;&#1585;&#1608;&#1603;&#1587;&#1609; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_sites_refuses' => '&#1587;&#1575;&#1610;&#1578; &#1607;&#1575;&#1609; &#1662;&#1584;&#1610;&#1585;&#1601;&#1578;&#1607; &#1606;&#1588;&#1583;&#1607;',
'info_sites_trouves' => '&#1587;&#1575;&#1610;&#1578; &#1607;&#1575;&#1609; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;',
'info_sites_trouves_dans_texte' => '&#1587;&#1575;&#1610;&#1578; &#1607;&#1575;&#1609; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;  (&#1583;&#1585;&#1608;&#1606; &#1605;&#1578;&#1606;)',
'info_sous_titre' => ':&#1593;&#1606;&#1608;&#1575;&#1606; &#1601;&#1585;&#1593;&#1609;',
'info_statut_administrateur' => '&#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1607; &#1587;&#1575;&#1610;&#1578;',
'info_statut_auteur' => ':&#1608;&#1590;&#1593;&#1610;&#1578; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607;',
'info_statut_efface' => '&#1662;&#1575;&#1603; &#1588;&#1583;&#1607;',
'info_statut_redacteur' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607;',
'info_statut_site_1' => ':&nbsp;&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578;',
'info_statut_site_2' => '&#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1583;&#1607;',
'info_statut_site_3' => '&#1662;&#1610;&#1588;&#1606;&#1607;&#1575;&#1583; &#1588;&#1583;&#1607;',
'info_statut_site_4' => '&#1583;&#1585; &#1587;&#1591;&#1604;',
'info_statut_utilisateurs_1' => '&#1608;&#1590;&#1593;&#1610;&#1578; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1608;&#1585;&#1608;&#1583;&#1609;',
'info_statut_utilisateurs_2' => '&#1608;&#1590;&#1593;&#1610;&#1578; &#1575;&#1588;&#1582;&#1575;&#1589; &#1581;&#1575;&#1590;&#1585; &#1583;&#1585; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;&#1609; &#1575;&#1604; &#1583;&#1609; &#1575; &#1662;&#1609; &#1585;&#1575; &#1603;&#1607; &#1576;&#1585;&#1575;&#1609; &#1575;&#1608;&#1604;&#1610;&#1606; &#1576;&#1575;&#1585; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1662;&#1610;&#1608;&#1606;&#1583;&#1606;&#1583; &#1605;&#1588;&#1582;&#1589; &#1603;&#1606;&#1610;&#1583;. &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1662;&#1587; &#1575;&#1586; &#1570;&#1606;  &#1576;&#1585;&#1575;&#1609; &#1607;&#1585; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1570;&#1606;&#1585;&#1575; &#1605;&#1608;&#1585;&#1583; &#1576;&#1607; &#1605;&#1608;&#1585;&#1583; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583;',
'info_suivi_activite' => '&#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1587;&#1585; &#1605;&#1602;&#1575;&#1604;&#1607;',
'info_supprimer_mot' => '&#1575;&#1610;&#1606;&nbsp; &#1608;&#1575;&#1688;&#1607; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1610;&#1583;',
'info_surtitre' => ':&#1587;&#1585; &#1593;&#1606;&#1608;&#1575;&#1606;',
'info_taille_maximale_vignette' => '&#1581;&#1583; &#1575;&#1603;&#1579;&#1585; &#1575;&#1606;&#1583;&#1575;&#1586;&#1607; &#1576;&#1585;&#1575;&#1609; &#1578;&#1608;&#1604;&#1610;&#1583; &#1578;&#1589;&#1575;&#1608;&#1610;&#1585; &#1603;&#1608;&#1670;&#1603; &#1578;&#1608;&#1587;&#1591; &#1587;&#1610;&#1587;&#1578;&#1605;',
'info_terminer_installation' => '&#1588;&#1605;&#1575; &#1575;&#1603;&#1606;&#1608;&#1606; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1585;&#1608;&#1606;&#1583; &#1575;&#1587;&#1578;&#1602;&#1585;&#1575;&#1585; &#1576;&#1585;&#1606;&#1575;&#1605;&#1607; &#1585;&#1575; &#1662;&#1575;&#1610;&#1575;&#1606; &#1583;&#1607;&#1610;&#1583;.',
'info_texte' => '&#1605;&#1578;&#1606;',
'info_texte_explicatif' => '&#1605;&#1578;&#1606; &#1578;&#1608;&#1590;&#1610;&#1581;&#1609;',
'info_texte_long' => '&#1605;&#1578;&#1606; &#1576;&#1610;&#1588; &#1575;&#1586; &#1575;&#1606;&#1583;&#1575;&#1586;&#1607; &#1576;&#1604;&#1606;&#1583; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; : &#1583;&#1585; &#1575;&#1576;&#1578;&#1583;&#1575; &#1576;&#1607; &#1670;&#1606;&#1583; &#1602;&#1587;&#1605;&#1578; &#1578;&#1602;&#1587;&#1610;&#1605; &#1608; &#1662;&#1587; &#1575;&#1586; &#1578;&#1575;&#1574;&#1610;&#1583;&#1548; &#1602;&#1591;&#1593;&#1575;&#1578; &#1576;&#1607; &#1607;&#1605; &#1605;&#1578;&#1589;&#1604; &#1582;&#1608;&#1575;&#1607;&#1606;&#1583; &#1588;&#1583;.',
'info_texte_message' => ':&#1605;&#1578;&#1606; &#1662;&#1610;&#1575;&#1605;&#1578;&#1575;&#1606;',
'info_texte_message_02' => '&#1605;&#1578;&#1606; &#1662;&#1610;&#1575;&#1605;',
'info_titre' => ':&#1593;&#1606;&#1608;&#1575;&#1606;',
'info_titre_mot_cle' => '&#1606;&#1575;&#1605; &#1610;&#1575; &#1593;&#1606;&#1608;&#1575;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;',
'info_total' => ':&#1603;&#1604;',
'info_tous_articles_en_redaction' => '&#1578;&#1605;&#1575;&#1605; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1583;&#1585; &#1581;&#1575;&#1604; &#1606;&#1711;&#1575;&#1585;&#1588;',
'info_tous_articles_presents' => '&#1578;&#1605;&#1575;&#1605; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1583;&#1607; &#1583;&#1585; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588;',
'info_tous_les' => '&#1578;&#1605;&#1575;&#1605; :',
'info_tous_redacteurs' => '&#1582;&#1576;&#1585; &#1576;&#1585;&#1575;&#1609; &#1578;&#1605;&#1575;&#1605; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606;',
'info_tout_site' => '&#1607;&#1605;&#1607; &#1587;&#1575;&#1610;&#1578;',
'info_tout_site2' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1576;&#1607; &#1575;&#1610;&#1606; &#1586;&#1576;&#1575;&#1606; &#1578;&#1585;&#1580;&#1605;&#1607; &#1606;&#1588;&#1583;&#1607;.',
'info_tout_site3' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1576;&#1607; &#1575;&#1610;&#1606; &#1586;&#1576;&#1575;&#1606; &#1578;&#1585;&#1580;&#1605;&#1607; &#1588;&#1583;&#1607;,  &#1587;&#1662;&#1587; &#1578;&#1594;&#1610;&#1610;&#1585;&#1575;&#1578;&#1609; &#1583;&#1585; &#1605;&#1602;&#1575;&#1604;&#1607; &#1609; &#1575;&#1589;&#1604;&#1609; &#1589;&#1608;&#1585;&#1578; &#1711;&#1585;&#1601;&#1578;&#1607;, &#1576;&#1583;&#1610;&#1606; &#1580;&#1607;&#1578; &#1576;&#1575;&#1610;&#1583; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606; &#1570;&#1606;&#1585;&#1575; &#1576;&#1585;&#1608;&#1586; &#1603;&#1585;&#1583;.',
'info_tout_site4' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1576;&#1607; &#1575;&#1610;&#1606; &#1586;&#1576;&#1575;&#1606; &#1578;&#1585;&#1580;&#1605;&#1607; &#1608; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606; &#1570;&#1606; &#1576;&#1585;&#1608;&#1586; &#1588;&#1583;&#1607;.',
'info_tout_site5' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1609; &#1575;&#1589;&#1604;&#1609;',
'info_tout_site6' => '&nbsp;:<b>&#1578;&#1608;&#1580;&#1607;<b/> &#1578;&#1606;&#1607;&#1575; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1575;&#1589;&#1604;&#1609; &#1575;&#1593;&#1604;&#1575;&#1606; &#1605;&#1610;&#1588;&#1608;&#1606;&#1583; &#1608; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606;&#1607;&#1575;&#1610;&#1588;&#1575;&#1606; &#1576;&#1575; &#1585;&#1606;&#1711;&#1607;&#1575;&#1610;&#1609; &#1603;&#1607; &#1711;&#1608;&#1610;&#1575;&#1609; &#1608;&#1590;&#1593;&#1610;&#1578; &#1570;&#1606;&#1607;&#1575;&#1587;&#1578; &#1576;&#1607; &#1570;&#1606;&#1607;&#1575; &#1605;&#1578;&#1589;&#1604;&#1606;&#1583;.',
'info_travail_colaboratif' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1581;&#1575;&#1589;&#1604; &#1603;&#1575;&#1585; &#1583;&#1587;&#1578; &#1580;&#1605;&#1593;&#1609;',
'info_un_article' => '&#1610;&#1603; &#1605;&#1602;&#1575;&#1604;&#1607;',
'info_un_mot' => '&#1610;&#1603; &#1608;&#1575;&#1688;&#1607;, &#1607;&#1585; &#1576;&#1575;&#1585;',
'info_un_site' => ',&#1610;&#1603; &#1587;&#1575;&#1610;&#1578;',
'info_une_breve' => ',&#1610;&#1603; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'info_une_rubrique' => ',&#1610;&#1603; &#1576;&#1582;&#1588;',
'info_une_rubrique_02' => '&#1633; &#1576;&#1582;&#1588;',
'info_url' => ': URL',
'info_url_site' => ':&#1587;&#1575;&#1610;&#1578; URL',
'info_urlref' => '&#1662;&#1610;&#1608;&#1606;&#1583; &#1607;&#1575;&#1610;&#1662;&#1585;&#1578;&#1705;&#1587;&#1578;:',
'info_utilisation_spip' => '&#1588;&#1605;&#1575; &#1575;&#1603;&#1606;&#1608;&#1606; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1575;&#1586; &#1587;&#1610;&#1587;&#1578;&#1605; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1581;&#1590;&#1608;&#1585;&#1609; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;',
'info_visites_par_mois' => ':&#1606;&#1605;&#1608;&#1583;&#1575;&#1585; &#1605;&#1575;&#1607;&#1575;&#1606;&#1607;',
'info_visites_plus_populaires' => '&#1606;&#1605;&#1608;&#1583;&#1575;&#1585; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1605;&#1581;&#1576;&#1608;&#1576; &#1578;&#1585;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1608; &#1570;&#1582;&#1585;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1583;&#1607; &#1585;&#1575; &#1606;&#1605;&#1575;&#1610;&#1588; &#1583;&#1607;&#1610;&#1583; ',
'info_visiteur_1' => '&#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1607;',
'info_visiteur_2' => '&#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609;',
'info_visiteurs' => '&#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606;',
'info_visiteurs_02' => '&#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609;',
'install_select_langue' => '&#1610;&#1603; &#1586;&#1576;&#1575;&#1606; &#1585;&#1575; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583; &#1587;&#1662;&#1587; &#1585;&#1608;&#1609; &#1583;&#1603;&#1605;&#1607; &nbsp;"&#1576;&#1593;&#1583;&#1609;" &#1603;&#1604;&#1610;&#1603; &#1603;&#1606;&#1610;&#1583;&#1548; &#1585;&#1608;&#1606;&#1583; &#1575;&#1587;&#1578;&#1602;&#1585;&#1575;&#1585; &#1576;&#1585;&#1606;&#1575;&#1605;&#1607; &#1576;&#1603;&#1575;&#1585; &#1582;&#1608;&#1575;&#1607;&#1583; &#1575;&#1601;&#1578;&#1575;&#1583;',
'intem_redacteur' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607;',
'item_accepter_inscriptions' => '&#1579;&#1576;&#1578; &#1606;&#1575;&#1605;&#1607;&#1575; &#1585;&#1575; &#1576;&#1662;&#1584;&#1610;&#1585;&#1610;&#1583;',
'item_activer_forum_administrateur' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'item_activer_messages_avertissement' => '&#1662;&#1610;&#1575;&#1605;&#1607;&#1575;&#1609; &#1575;&#1582;&#1591;&#1575;&#1585; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'item_administrateur_2' => '&#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1607; &#1587;&#1575;&#1610;&#1578;',
'item_afficher_calendrier' => '&#1583;&#1585; &#1576;&#1582;&#1588; &#1578;&#1602;&#1608;&#1610;&#1605; &#1606;&#1605;&#1575;&#1610;&#1588; &#1583;&#1607;&#1610;&#1583;',
'item_ajout_mots_cles' => '&#1575;&#1601;&#1586;&#1608;&#1583;&#1606; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1585;&#1575; &#1576;&#1607; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1605;&#1580;&#1575;&#1586; &#1603;&#1606;&#1610;&#1583;',
'item_autoriser_documents_joints' => '&#1575;&#1601;&#1586;&#1608;&#1583;&#1606; &#1575;&#1587;&#1606;&#1575;&#1583; &#1662;&#1610;&#1608;&#1587;&#1578;&#1607; &#1585;&#1575; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1605;&#1580;&#1575;&#1586; &#1603;&#1606;&#1610;&#1583;',
'item_autoriser_documents_joints_rubriques' => '&#1575;&#1601;&#1586;&#1608;&#1583;&#1606; &#1575;&#1587;&#1606;&#1575;&#1583; &#1585;&#1575; &#1576;&#1607; &#1576;&#1582;&#1588;&#1607;&#1575; &#1605;&#1580;&#1575;&#1586; &#1603;&#1606;&#1610;&#1583;',
'item_bloquer_liens_syndiques' => '&#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578;&#1609; &#1585;&#1575; &#1576;&#1585;&#1575;&#1609; &#1578;&#1571;&#1574;&#1610;&#1583; &#1605;&#1587;&#1583;&#1608;&#1583; &#1603;&#1606;&#1610;&#1583;',
'item_breve_refusee' => '&#1582;&#1610;&#1585; - &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1662;&#1584;&#1610;&#1585;&#1601;&#1578;&#1607; &#1606;&#1588;&#1583;&#1607;',
'item_breve_validee' => '&#1570;&#1585;&#1609; - &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1578;&#1571;&#1574;&#1610;&#1583; &#1588;&#1583;',
'item_choix_administrateurs' => '&#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;',
'item_choix_generation_miniature' => '.&#1578;&#1589;&#1575;&#1608;&#1610;&#1585; &#1603;&#1608;&#1670;&#1603; &#1585;&#1575; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;',
'item_choix_non_generation_miniature' => '.&#1578;&#1589;&#1575;&#1608;&#1610;&#1585; &#1603;&#1608;&#1670;&#1603; &#1585;&#1575; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1606;&#1587;&#1575;&#1586;&#1610;&#1583;',
'item_choix_redacteurs' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606;',
'item_choix_visiteurs' => '&#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609;',
'item_creer_fichiers_authent' => '.htpasswd : &#1575;&#1586; &#1575;&#1610;&#1606; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;',
'item_desactiver_forum_administrateur' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'item_gerer_annuaire_site_web' => '&#1610;&#1603; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575; &#1575;&#1586; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;',
'item_gerer_statistiques' => '&#1570;&#1605;&#1575;&#1585; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583; ',
'item_limiter_recherche' => '&#1580;&#1587;&#1578;&#1580;&#1608; &#1585;&#1575; &#1576;&#1607; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1583;&#1575;&#1582;&#1604; &#1587;&#1575;&#1610;&#1578; &#1605;&#1581;&#1583;&#1608;&#1583; &#1603;&#1606;&#1610;&#1583;',
'item_login' => 'Login',
'item_mots_cles_association_articles' => '&#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
'item_mots_cles_association_breves' => '&#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1603;&#1608;&#1578;&#1575;&#1607;',
'item_mots_cles_association_rubriques' => '&#1576;&#1607; &#1576;&#1582;&#1588;&#1607;&#1575; ',
'item_mots_cles_association_sites' => '&#1576;&#1607; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1610;&#1575; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609;',
'item_non' => '&#1582;&#1610;&#1585;',
'item_non_accepter_inscriptions' => '&#1579;&#1576;&#1578; &#1606;&#1575;&#1605;&#1607;&#1575; &#1585;&#1575; &#1606;&#1662;&#1584;&#1610;&#1585;&#1610;&#1583;',
'item_non_activer_messages_avertissement' => '&#1576;&#1583;&#1608;&#1606; &#1662;&#1610;&#1575;&#1605; &#1575;&#1582;&#1591;&#1575;&#1585;',
'item_non_afficher_calendrier' => '&#1583;&#1585; &#1578;&#1602;&#1608;&#1610;&#1605; &#1606;&#1610;&#1575;&#1610;&#1583;',
'item_non_ajout_mots_cles' => '&#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1575;&#1586; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1585;&#1575; &#1583;&#1585; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1605;&#1605;&#1606;&#1608;&#1593; &#1603;&#1606;&#1610;&#1583;',
'item_non_autoriser_documents_joints' => '&#1575;&#1580;&#1575;&#1586;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1575;&#1586; &#1575;&#1587;&#1606;&#1575;&#1583; &#1583;&#1585; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1585;&#1575; &#1606;&#1583;&#1607;&#1610;&#1583;',
'item_non_autoriser_documents_joints_rubriques' => '&#1575;&#1580;&#1575;&#1586;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1575;&#1586; &#1575;&#1587;&#1606;&#1575;&#1583; &#1583;&#1585; &#1576;&#1582;&#1588;&#1607;&#1575; &#1585;&#1575; &#1606;&#1583;&#1607;&#1610;&#1583;',
'item_non_bloquer_liens_syndiques' => '&#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1606;&#1578;&#1610;&#1580;&#1607; &#1609; &#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1605;&#1610;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;&#1609; &#1585;&#1575; &#1605;&#1587;&#1583;&#1608;&#1583; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_non_creer_fichiers_authent' => '&#1575;&#1610;&#1606; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575; &#1585;&#1575; &#1583;&#1585;&#1587;&#1578; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_non_gerer_annuaire_site_web' => '&#1585;&#1575;&#1607;&#1606;&#1605;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1585;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;',
'item_non_gerer_statistiques' => '&#1570;&#1605;&#1575;&#1585; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_non_limiter_recherche' => '&#1580;&#1587;&#1578;&#1580;&#1608; &#1585;&#1575; &#1576;&#1607; &#1605;&#1581;&#1578;&#1608;&#1609; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1711;&#1587;&#1578;&#1585;&#1588; &#1583;&#1607;&#1610;&#1583;',
'item_non_publier_articles' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1585;&#1575; &#1662;&#1610;&#1588; &#1575;&#1586; &#1578;&#1593;&#1610;&#1610;&#1606; &#1578;&#1575;&#1585;&#1610;&#1582; &#1602;&#1591;&#1593;&#1609; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1605;&#1606;&#1578;&#1588;&#1585; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_non_utiliser_breves' => '&#1575;&#1586; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1603;&#1608;&#1578;&#1575;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_non_utiliser_config_groupe_mots_cles' => '&#1575;&#1586; &#1662;&#1610;&#1603;&#1585; &#1576;&#1606;&#1583;&#1609; &#1662;&#1610;&#1588;&#1585;&#1601;&#1578;&#1607; &#1711;&#1585;&#1608;&#1607;&#1607;&#1575;&#1609; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_non_utiliser_moteur_recherche' => '&#1575;&#1586; &#1605;&#1608;&#1578;&#1608;&#1585; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_non_utiliser_mots_cles' => '&#1575;&#1586; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_non_utiliser_syndication' => '&#1575;&#1586; &#1662;&#1610;&#1608;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1609; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1606;&#1603;&#1606;&#1610;&#1583;',
'item_nouvel_auteur' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1580;&#1583;&#1610;&#1583;',
'item_nouvelle_breve' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1580;&#1583;&#1610;&#1583;',
'item_nouvelle_rubrique' => '&#1576;&#1582;&#1588; &#1580;&#1583;&#1610;&#1583;',
'item_oui' => '&#1570;&#1585;&#1609;',
'item_publier_articles' => '.&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1585;&#1575; &#1593;&#1604;&#1610;&#1585;&#1594;&#1605; &#1578;&#1575;&#1585;&#1610;&#1582; &#1606;&#1588;&#1585;&#1588;&#1575;&#1606; &#1605;&#1606;&#1578;&#1588;&#1585; &#1603;&#1606;&#1610;&#1583;',
'item_reponse_article' => '&#1662;&#1575;&#1587;&#1582; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607;',
'item_utiliser_breves' => '&#1575;&#1586; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1603;&#1608;&#1578;&#1575;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;',
'item_utiliser_config_groupe_mots_cles' => '&#1575;&#1586; &#1662;&#1610;&#1603;&#1585; &#1576;&#1606;&#1583;&#1609; &#1662;&#1610;&#1588;&#1585;&#1601;&#1578;&#1607; &#1711;&#1585;&#1608;&#1607;&#1607;&#1575;&#1609; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;',
'item_utiliser_moteur_recherche' => '&#1575;&#1586; &#1605;&#1608;&#1578;&#1608;&#1585; &#1580;&#1587;&#1578;&#1580;&#1608; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;',
'item_utiliser_mots_cles' => '&#1575;&#1586; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;',
'item_utiliser_syndication' => '&#1575;&#1586; &#1662;&#1610;&#1608;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1609; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;',
'item_visiteur' => '&#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1607;',


// J
'jour_non_connu_nc' => 'n.c.',


// L
'lien_ajout_destinataire' => '&#1606;&#1575;&#1605; &#1575;&#1610;&#1606; &#1711;&#1610;&#1585;&#1606;&#1583;&#1607; &#1585;&#1575; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;',
'lien_ajouter_auteur' => '&#1606;&#1575;&#1605; &#1575;&#1610;&#1606; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1585;&#1575; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;',
'lien_ajouter_participant' => '&#1610;&#1603; &#1588;&#1585;&#1603;&#1578; &#1603;&#1606;&#1606;&#1583;&#1607; &#1585;&#1575; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;',
'lien_email' => '&#1575;&#1610;&#1605;&#1610;&#1604;',
'lien_forum_public' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'lien_mise_a_jour_syndication' => '&#1575;&#1603;&#1606;&#1608;&#1606; &#1576;&#1607; &#1585;&#1608;&#1586; &#1603;&#1606;&#1610;&#1583;',
'lien_nom_site' => ':&#1606;&#1575;&#1605; &#1587;&#1575;&#1610;&#1578;',
'lien_nouvelle_recuperation' => '&#1575;&#1602;&#1583;&#1575;&#1605; &#1576;&#1607; &#1576;&#1575;&#1586;&#1711;&#1610;&#1585;&#1609; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1583;&#1575;&#1583;&#1607; &#1607;&#1575; &#1603;&#1606;&#1610;&#1583;',
'lien_reponse_article' => '&#1662;&#1575;&#1587;&#1582; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607;',
'lien_reponse_breve' => '&#1662;&#1575;&#1587;&#1582; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'lien_reponse_breve_2' => '&#1662;&#1575;&#1587;&#1582; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'lien_reponse_rubrique' => '&#1662;&#1575;&#1587;&#1582; &#1576;&#1607; &#1576;&#1582;&#1588;',
'lien_reponse_site_reference' => ':&#1662;&#1575;&#1587;&#1582; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1605;&#1585;&#1580;&#1593;',
'lien_retirer_auteur' => '&#1582;&#1575;&#1585;&#1580; &#1603;&#1585;&#1583;&#1606; &#1606;&#1575;&#1605; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607;',
'lien_retrait_particpant' => '&#1582;&#1575;&#1585;&#1580; &#1603;&#1585;&#1583;&#1606; &#1575;&#1610;&#1606; &#1588;&#1585;&#1603;&#1578; &#1603;&#1606;&#1606;&#1583;&#1607;',
'lien_site' => '&#1587;&#1575;&#1610;&#1578;',
'lien_supprimer_rubrique' => '&#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1610;&#1583;',
'lien_tout_deplier' => '&#1607;&#1605;&#1607; &#1585;&#1575; &#1576;&#1575;&#1586; &#1603;&#1606;&#1610;&#1583;',
'lien_tout_replier' => '&#1607;&#1605;&#1607; &#1585;&#1575; &#1576;&#1576;&#1606;&#1583;&#1610;&#1583;',
'lien_trier_nom' => '&#1576;&#1578;&#1585;&#1578;&#1610;&#1576; &#1606;&#1575;&#1605;',
'lien_trier_nombre_articles' => '&#1576;&#1578;&#1585;&#1578;&#1610;&#1576; &#1578;&#1593;&#1583;&#1575;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
'lien_trier_statut' => '&#1576;&#1578;&#1585;&#1578;&#1610;&#1576; &#1605;&#1608;&#1602;&#1593;&#1610;&#1578;',
'lien_voir_en_ligne' => '&#1585;&#1608;&#1609; &#1588;&#1576;&#1603;&#1607; &#1576;&#1576;&#1610;&#1606;&#1610;&#1583; :',
'logo_article' => '&#1583;&#1585;&#1580; &#1593;&#1604;&#1575;&#1605;&#1578;(&#1604;&#1608;&#1711;&#1608;) &#1583;&#1585; &#1605;&#1602;&#1575;&#1604;&#1607;',
'logo_auteur' => '&#1583;&#1585;&#1580; &#1593;&#1604;&#1575;&#1605;&#1578; (&#1604;&#1608;&#1711;&#1608;) &#1576;&#1585;&#1575;&#1609; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607;',
'logo_breve' => '&#1583;&#1585;&#1580; &#1593;&#1604;&#1575;&#1605;&#1578;(&#1604;&#1608;&#1711;&#1608;) &#1576;&#1585;&#1575;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'logo_mot_cle' => '&#1583;&#1585;&#1580; &#1593;&#1604;&#1575;&#1605;&#1578; (&#1604;&#1608;&#1711;&#1608;) &#1576;&#1585;&#1575;&#1609; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;',
'logo_rubrique' => '&#1583;&#1585;&#1580; &#1593;&#1604;&#1575;&#1605;&#1578; (&#1604;&#1608;&#1711;&#1608;) &#1576;&#1585;&#1575;&#1609; &#1576;&#1582;&#1588;',
'logo_site' => '&#1593;&#1604;&#1575;&#1605;&#1578; (&#1604;&#1608;&#1711;&#1608;) &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578;',
'logo_standard_rubrique' => '&#1593;&#1604;&#1575;&#1605;&#1578; &#1575;&#1587;&#1578;&#1575;&#1606;&#1583;&#1575;&#1585;&#1583; (&#1604;&#1608;&#1711;&#1608;) &#1576;&#1585;&#1575;&#1609; &#1576;&#1582;&#1588;&#1607;&#1575;',
'logo_survol' => '&#1593;&#1604;&#1575;&#1605;&#1578; (&#1604;&#1608;&#1711;&#1608;) &#1580;&#1575;&#1606;&#1576;&#1609;',


// M
'menu_aide_installation_choix_base' => '&#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607;',
'module_fichier_langue' => '&#1601;&#1575;&#1610;&#1604; &#1586;&#1576;&#1575;&#1606;',
'module_raccourci' => '&#1585;&#1575;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'module_texte_affiche' => '&#1605;&#1578;&#1606; &#1575;&#1593;&#1604;&#1575;&#1606;&#1609;',
'module_texte_explicatif' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1585;&#1575;&#1607; &#1607;&#1575;&#1609; &#1603;&#1608;&#1578;&#1575;&#1607; &#1586;&#1610;&#1585; &#1585;&#1575; &#1583;&#1585; &#1575;&#1587;&#1603;&#1604;&#1578;&#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1576;&#1711;&#1606;&#1580;&#1575;&#1606;&#1610;&#1583;. &#1570;&#1606;&#1607;&#1575; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1576;&#1607; &#1586;&#1576;&#1575;&#1606;&#1607;&#1575;&#1610;&#1609; &#1603;&#1607; &#1583;&#1575;&#1585;&#1575;&#1609; &#1601;&#1575;&#1610;&#1604; &#1586;&#1576;&#1575;&#1606; &#1607;&#1587;&#1578;&#1606;&#1583;, &#1578;&#1585;&#1580;&#1605;&#1607; &#1605;&#1610;&#1588;&#1608;&#1606;&#1583;.',
'module_texte_traduction' => '&#1601;&#1575;&#1610;&#1604; &#1586;&#1576;&#1575;&#1606;&laquo;&nbsp;@module@&nbsp;&raquo;&#1576;&#1589;&#1608;&#1585;&#1578; &#1586;&#1610;&#1585; &#1583;&#1585; &#1583;&#1587;&#1578;&#1585;&#1587; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;:',
'mois_non_connu' => '&#1588;&#1606;&#1575;&#1582;&#1578;&#1607; &#1606;&#1588;&#1583;&#1607;',


// O
'onglet_repartition_actuelle' => '&#1583;&#1585; &#1581;&#1575;&#1604; &#1581;&#1575;&#1590;&#1585;',
'ortho_ajouter_ce_mot' => '&#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607; &#1585;&#1575; &#1576;&#1607; &#1601;&#1585;&#1607;&#1606;&#1711; &#1608;&#1575;&#1688;&#1607; &#1607;&#1575; &#1575;&#1590;&#1575;&#1601;&#1607; &#1606;&#1605;&#1575;&#1610;&#1610;&#1583;',
'ortho_aucune_suggestion' => '&#1607;&#1610;&#1670; &#1605;&#1608;&#1585;&#1583;&#1609; &#1576;&#1585;&#1575;&#1609; &#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607; &#1662;&#1610;&#1583;&#1575; &#1606;&#1588;&#1583;',
'ortho_avis_privacy' => '&#1575;&#1587;&#1662;&#1610;&#1662; &#1583;&#1575;&#1585;&#1575;&#1609; &#1610;&#1603; &#1578;&#1589;&#1581;&#1610;&#1581; &#1603;&#1606;&#1606;&#1583;&#1607; &#1609; &#1575;&#1605;&#1604;&#1575; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;. &#1576;&#1575; &#1608;&#1580;&#1608;&#1583; &#1575;&#1610;&#1606; &#1662;&#1610;&#1588; &#1575;&#1586; &#1601;&#1593;&#1575;&#1604; &#1603;&#1585;&#1583;&#1606; &#1570;&#1606; &#1576;&#1606;&#1583; &#1586;&#1610;&#1585; &#1585;&#1575; &#1576;&#1575; &#1583;&#1602;&#1578; &#1576;&#1582;&#1608;&#1575;&#1606;&#1610;&#1583;:',
'ortho_avis_privacy2' => '&#1576;&#1585;&#1575;&#1609; &#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1575;&#1605;&#1604;&#1575;&#1609; &#1610;&#1603; &#1605;&#1578;&#1606;, &#1587;&#1575;&#1610;&#1578; &#1601;&#1607;&#1585;&#1587;&#1578;&#1609; &#1575;&#1586; &#1608;&#1575;&#1688;&#1607; &#1607;&#1575; &#1585;&#1575; &#1576;&#1607; &#1610;&#1603;&#1609; &#1575;&#1586; &#1587;&#1585;&#1608;&#1585;&#1607;&#1575;&#1609; &#1582;&#1575;&#1585;&#1580;&#1609; &#1608;&#1610;&#1688;&#1607; &#1609; &#1575;&#1605;&#1604;&#1575; &#1603;&#1607; &#1578;&#1608;&#1587;&#1591; &#1575;&#1593;&#1590;&#1575;&#1609; &#1575;&#1587;&#1662;&#1610;&#1662; &#1583;&#1585; &#1575;&#1582;&#1578;&#1610;&#1575;&#1585;&#1578;&#1575;&#1606; &#1711;&#1584;&#1575;&#1588;&#1578;&#1607; &#1588;&#1583;&#1607; &#1575;&#1587;&#1578; &#1605;&#1610;&#1601;&#1585;&#1587;&#1578;&#1583;. &#1576;&#1585;&#1575;&#1609; &#1581;&#1601;&#1592; &#1583;&#1575;&#1583;&#1607; &#1607;&#1575; &#1608;&#1575;&#1688;&#1607; &#1!
 607;&#1575; &#1576;&#1589;&#1608;&#1585;&#1578; &#1606;&#1575;&#1605;&#1606;&#1592;&#1605; &#1601;&#1585;&#1587;&#1578;&#1575;&#1583;&#1607; &#1605;&#1610;&#1588;&#1608;&#1606;&#1583;. &#1575;&#1711;&#1585; &#1606;&#1711;&#1585;&#1575;&#1606; &#1575;&#1605;&#1606;&#1610;&#1578; &#1583;&#1575;&#1583;&#1607; &#1607;&#1575;&#1610;&#1578;&#1575;&#1606; &#1607;&#1587;&#1578;&#1610;&#1583; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1585;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583; (&#1608; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578;&#1578;&#1575;&#1606; &#1585;&#1575; &#1601;&#1608;&#1585;&#1609; &#1575;&#1586; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1582;&#1575;&#1585;&#1580; &#1606;&#1605;&#1575;&#1610;&#1610;&#1583;).',
'ortho_ce_mot_connu' => '&#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607; &#1583;&#1585; &#1601;&#1585;&#1607;&#1606;&#1711;  &#1608;&#1575;&#1688;&#1607; &#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578; &#1605;&#1608;&#1580;&#1608;&#1583; &#1575;&#1587;&#1578;',
'ortho_dico_absent' => '&#1576;&#1585;&#1575;&#1609; &#1575;&#1610;&#1606; &#1586;&#1576;&#1575;&#1606; &#1601;&#1585;&#1607;&#1606;&#1711; &#1608;&#1575;&#1688;&#1607; &#1607;&#1575; &#1605;&#1608;&#1580;&#1608;&#1583; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'ortho_mode_demploi' => '&#1608;&#1575;&#1688;&#1607; &#1607;&#1575;&#1609; &#1606;&#1575;&#1588;&#1606;&#1575;&#1582;&#1578;&#1607; &#1576;&#1575; &#1585;&#1606;&#1711; &#1602;&#1585;&#1605;&#1586; &#1605;&#1588;&#1582;&#1589; &#1588;&#1583;&#1607; &#1575;&#1606;&#1583; &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1575; &#1603;&#1604;&#1610;&#1603; &#1603;&#1585;&#1583;&#1606; &#1585;&#1608;&#1609; &#1570;&#1606;&#1607;&#1575; &#1711;&#1586;&#1610;&#1606;&#1607; &#1607;&#1575;&#1609; &#1583;&#1610;&#1711;&#1585; &#1585;&#1575; &#1576;&#1610;&#1575;&#1576;&#1610;&#1583;',
'ortho_mots_a_corriger' => '&#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607; &#1576;&#1575;&#1610;&#1583; &#1578;&#1589;&#1581;&#1610;&#1581; &#1588;&#1608;&#1583;',
'ortho_orthographe' => '&#1575;&#1605;&#1604;&#1575;',
'ortho_supprimer_ce_mot' => '&#1575;&#1610;&#1606; &#1608;&#1575;&#1688;&#1607; &#1585;&#1575; &#1575;&#1586; &#1601;&#1585;&#1607;&#1606;&#1711; &#1576;&#1585;&#1583;&#1575;&#1585;&#1610;&#1583;',
'ortho_trop_de_fautes' => '&#1578;&#1608;&#1580;&#1607;: &#1605;&#1578;&#1606;&#1578;&#1575;&#1606; &#1581;&#1575;&#1608;&#1609; &#1575;&#1588;&#1578;&#1576;&#1575;&#1607;&#1575;&#1578; &#1576;&#1587;&#1610;&#1575;&#1585;&#1610;&#1587;&#1578;, &#1576;&#1585;&#1575;&#1609; &#1575;&#1588;&#1594;&#1575;&#1604; &#1606;&#1603;&#1585;&#1583;&#1606; &#1587;&#1610;&#1587;&#1578;&#1605; &#1607;&#1610;&#1670;&#1711;&#1608;&#1606;&#1607; &#1578;&#1589;&#1581;&#1610;&#1581;&#1609; &#1589;&#1608;&#1585;&#1578; &#1606;&#1605;&#1610;&#1711;&#1610;&#1585;&#1583;. ',
'ortho_verif_impossible' => '&#1587;&#1610;&#1587;&#1578;&#1605; &#1602;&#1575;&#1583;&#1585; &#1576;&#1607; &#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1575;&#1605;&#1604;&#1575; &#1575;&#1610;&#1606; &#1605;&#1578;&#1606; &#1606;&#1610;&#1587;&#1578;.',
'ortho_verifier' => ' &#1576;&#1575;&#1586;&#1576;&#1610;&#1606;&#1609; &#1575;&#1605;&#1604;&#1575; ',


// S
'statut_admin_restreint' => '(&#1575;&#1583;&#1575;&#1585;&#1607; &#1605;&#1581;&#1583;&#1608;&#1583;)',


// T
'taille_cache_infinie' => '&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1605;&#1581;&#1583;&#1608;&#1583;&#1610;&#1578; &#1575;&#1606;&#1583;&#1575;&#1586;&#1607; &#1609; &#1585;&#1662;&#1585;&#1578;&#1608;&#1575;&#1585;<code>CACHE/</code> &#1585;&#1575; &#1662;&#1610;&#1588; &#1576;&#1610;&#1606;&#1609; &#1606;&#1605;&#1610;&#1603;&#1606;&#1583;.',
'taille_cache_maxi' => '&#1575;&#1587;&#1662;&#1610;&#1662; &#1587;&#1593;&#1609; &#1583;&#1585; &#1605;&#1581;&#1583;&#1608;&#1583; &#1603;&#1585;&#1583;&#1606; &#1575;&#1606;&#1583;&#1575;&#1586;&#1607; &#1609; &#1585;&#1662;&#1585;&#1578;&#1608;&#1575;&#1585; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575;<code>CACHE/</code>&#1576;&#1607; &#1575;&#1610;&#1606; &#1575;&#1606;&#1583;&#1575;&#1586;&#1607; &#1583;&#1575;&#1585;&#1583; <b>@octets@</b>.',
'taille_cache_octets' => '&#1575;&#1606;&#1583;&#1575;&#1586;&#1607; &#1609; &#1601;&#1575;&#1610;&#1604; &#1662;&#1606;&#1607;&#1575;&#1606; &#1583;&#1585; &#1581;&#1575;&#1604; &#1581;&#1575;&#1590;&#1585; @octets at .',
'taille_cache_vide' => '&#1601;&#1575;&#1610;&#1604; &#1662;&#1606;&#1607;&#1575;&#1606; &#1582;&#1575;&#1604;&#1609; &#1575;&#1587;&#1578;.',
'taille_repertoire_cache' => '&#1575;&#1606;&#1583;&#1575;&#1586;&#1607; &#1609; &#1601;&#1575;&#1610;&#1604; &#1662;&#1606;&#1607;&#1575;&#1606;',
'text_article_propose_publication' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1609; &#1662;&#1610;&#1588;&#1606;&#1607;&#1575;&#1583;&#1609; &#1576;&#1585;&#1575;&#1609; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1583;&#1575;&#1583;&#1606;.&#1583;&#1585;  &#1575;&#1576;&#1585;&#1575;&#1586; &#1593;&#1602;&#1610;&#1583;&#1607; &#1578;&#1575;&#1606; &#1578;&#1585;&#1583;&#1610;&#1583; &#1606;&#1603;&#1606;&#1610;&#1583; (&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1605;&#1585;&#1576;&#1608;&#1591;&#1607; &#1583;&#1585; &#1662;&#1575;&#1610;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;) ',
'texte_acces_ldap_anonyme_1' => '&#1578;&#1593;&#1583;&#1575;&#1583;&#1609; &#1575;&#1586; &#1587;&#1585;&#1608;&#1585;&#1607;&#1575;&#1609; &#1575;&#1604; &#1583;&#1609; &#1575;&#1662;&#1609; &#1608;&#1585;&#1608;&#1583; &#1576;&#1583;&#1608;&#1606; &#1606;&#1575;&#1605; &#1585;&#1575; &#1606;&#1605;&#1610;&#1662;&#1584;&#1610;&#1585;&#1606;&#1583;. &#1583;&#1585; &#1575;&#1610;&#1606;&#1589;&#1608;&#1585;&#1578; &#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1610;&#1603; &#1606;&#1575;&#1605; &#1588;&#1606;&#1575;&#1587;&#1575;&#1610;&#1609; &#1585;&#1575; &#1605;&#1588;&#1582;&#1589; &#1603;&#1606;&#1610;&#1583; &#1578;&#1575; &#1576;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1607; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1583;&#1575;&#1588;&#1578;&#1607; &#1576;&#1575;&#1588;&#1610;&#1583;. &#1583;&#1585; &#1576;&#1610;&#1588;&#1578;&#1585; &#1605;&#1608;&#1575!
 ;&#1585;&#1583; &#1605;&#1610;&#1575;&#1583;&#1610;&#1606; &#1576;&#1593;&#1583;&#1609; &#1585;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606; &#1582;&#1575;&#1604;&#1609; &#1711;&#1584;&#1575;&#1588;&#1578;.',
'texte_admin_effacer_01' => '&#1575;&#1610;&#1606; &#1601;&#1585;&#1605;&#1575;&#1606; &#1605;&#1581;&#1578;&#1608;&#1609; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;&#1548; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; &#1608; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1603;&#1575;&#1605;&#1604;&#1571; &#1662;&#1575;&#1603; &#1582;&#1608;&#1575;&#1607;&#1583; &#1603;&#1585;&#1583;&#1548; &#1583;&#1585; &#1589;&#1608;&#1585;&#1578; &#1575;&#1580;&#1585;&#1575;&#1609; &#1570;&#1606; &#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1575;&#1587;&#1662;&#1610;&#1662; &#1585;&#1575; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1606;&#1589;&#1576; &#1603;&#1606;&#1610;&#1583; &#1578;&#1575; &#1576;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1662;&#1575;&#1610;&#1711;&#157!
 5;&#1607; &#1580;&#1583;&#1610;&#1583;&#1609; &#1607;&#1605;&#1585;&#1575;&#1607; &#1576;&#1575; &#1581;&#1602; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1576;&#1585;&#1575;&#1609; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1585;&#1575; &#1583;&#1575;&#1588;&#1578;&#1607; &#1576;&#1575;&#1588;&#1610;&#1583;.',
'texte_admin_tech_01' => '&#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1576;&#1588;&#1605;&#1575; &#1575;&#1605;&#1603;&#1575;&#1606; &#1584;&#1582;&#1610;&#1585;&#1607; &#1605;&#1581;&#1578;&#1608;&#1609; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575; &#1585;&#1575; &#1583;&#1585; &#1601;&#1575;&#1610;&#1604;&#1609; &#1603;&#1607; &#1583;&#1585; &#1601;&#1607;&#1585;&#1587;&#1578; &#1586;&#1610;&#1585; &#1570;&#1605;&#1583;&#1607; &#1575;&#1587;&#1578; &#1605;&#1610;&#1583;&#1607;&#1583;<i>ecrire/data/</i>.&#1601;&#1585;&#1575;&#1605;&#1608;&#1588; &#1606;&#1603;&#1606;&#1610;&#1583; &#1603;&#1607; &#1578;&#1605;&#1575;&#1605;&#1609; &#1605;&#1581;&#1578;&#1608;&#1609; &#1601;&#1607;&#1585;&#1587;&#1578; &#1575;&#1609; &#1575;&#1605; &#1580;&#1609; &#1585;&#1575; &#1603;&#1607; &#1588;&#1575;&#1605;&#1604; &#1578;&#1589;&#1575;&#1608;&#1610;&#1585; &#1608; &#1575;&#1587;&#1606;&#1575;&#1583; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1588!
 ;&#1583;&#1607; &#1608; &#1576;&#1582;&#1588;&#1607;&#1575;&#1587;&#1578; &#1585;&#1575; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1662;&#1587; &#1576;&#1711;&#1610;&#1585;&#1610;&#1583; (IMG). ',
'texte_admin_tech_02' => '   &#1578;&#1608;&#1580;&#1607;! &#1576;&#1575;&#1586;&#1587;&#1575;&#1609; &#1575;&#1610;&#1606; &#1584;&#1582;&#1610;&#1585;&#1607;  &#1578;&#1606;&#1607;&#1575; &#1583;&#1585; &#1589;&#1608;&#1585;&#1578;&#1610; &#1575;&#1605;&#1603;&#1575;&#1606;&#1662;&#1584;&#1610;&#1585; &#1575;&#1587;&#1578; &#1603;&#1607; &#1583;&#1585; &#1587;&#1575;&#1610;&#1578;&#1609; &#1603;&#1607; &#1575;&#1586; &#1607;&#1605;&#1575;&#1606; &#1606;&#1587;&#1582;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1583;&#1575;&#1585;&#1575; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;&#1548; &#1606;&#1589;&#1576; &#1588;&#1608;&#1583;. &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1606;&#1576;&#1575;&#1610;&#1583; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1585;&#1575; &#1576;&#1585;&#1575;&#1610; &#1606;&#1589;&#1576; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1584;&#1582;&#1610;&#1585;&#1607; &#1662;&#1587; &#1575;&#1586; &#1576;&#1585;&#1608;&#1586; &#1603;&#1585;&#1583;&!
 #1606; &#1582;&#1575;&#1604;&#1610; &#1603;&#1585;&#1583;. &#1576;&#1585;&#1575;&#1609; &#1575;&#1591;&#1604;&#1575;&#1593; &#1576;&#1610;&#1588;&#1578;&#1585; &#1585;&#1580;&#1608;&#1593; &#1603;&#1606;&#1610;&#1583; &#1576;&#1607; ; <a href="http://www.spip.net/fr_article1489.html">la &#1575;&#1587;&#1606;&#1575;&#1583; &#1575;&#1587;&#1662;&#1610;&#1662;</a>.',
'texte_admin_tech_03' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1711;&#1586;&#1610;&#1606;&#1588; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1585;&#1583;&#1606; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575; &#1585;&#1575; &#1576;&#1589;&#1608;&#1585;&#1578; &#1601;&#1588;&#1585;&#1583;&#1607; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583; &#1578;&#1575; &#1605;&#1587;&#1610;&#1585; &#1575;&#1606;&#1578;&#1602;&#1575;&#1604;&#1588;&#1575;&#1606; &#1585;&#1575; &#1576;&#1607; &#1582;&#1608;&#1583;&#1578;&#1575;&#1606; &#1610;&#1575; &#1576;&#1607; &#1587;&#1585;&#1608;&#1585; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1578;&#1585; &#1603;&#1606;&#1610;&#1583;. &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1601;&#1590;&#1575;&#1609; &#1603;&#1605;&#1578;&#1585;&#1609; &#1585;&#1575; &#1583;&#1585; &#1583;&#1610;&#1587;&#1603; &#1587;&#1582;&#1578; &#1575;&#1588;&#1594;&#1575;&#1604;!
  &#1603;&#1606;&#1610;&#1583;.',
'texte_adresse_annuaire_1' => '&#1575;&#1711;&#1585; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;&#1578;&#1575;&#1606; &#1583;&#1585; &#1607;&#1605;&#1575;&#1606; &#1585;&#1575;&#1610;&#1575;&#1606;&#1607; &#1575;&#1609; &#1606;&#1589;&#1576; &#1588;&#1583;&#1607; &#1603;&#1607; &#1587;&#1575;&#1610;&#1578; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575;&#1548; &#1575;&#1581;&#1578;&#1605;&#1575;&#1604;&#1575; &#1605;&#1585;&#1576;&#1608;&#1591; &#1575;&#1587;&#1578; &#1576;&#1607; :&laquo;localhost&raquo; ',
'texte_ajout_auteur' => '&#1606;&#1575;&#1605; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1576;&#1593;&#1583;&#1609; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1575;&#1590;&#1575;&#1601;&#1607; &#1588;&#1583; :',
'texte_annuaire_ldap_1' => '&#1575;&#1711;&#1585; &#1588;&#1605;&#1575; &#1576;&#1607; &#1585;&#1575;&#1607;&#1606;&#1605;&#1575;&#1609; &#1575;&#1604; &#1583;&#1609; &#1575; &#1662;&#1609; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1583;&#1575;&#1585;&#1610;&#1583;&#1548; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1585;&#1575; &#1576;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;',
'texte_article_statut' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; :',
'texte_article_virtuel' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1605;&#1580;&#1575;&#1586;&#1609;',
'texte_article_virtuel_reference' => ' <b>&#1605;&#1602;&#1575;&#1604;&#1607; &#1605;&#1580;&#1575;&#1586;&#1609;&nbsp;:</b> &#1605;&#1602;&#1575;&#1604;&#1607; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1588;&#1605;&#1575; &#1583;&#1585; &#1587;&#1575;&#1610;&#1578; &#1575;&#1587;&#1662;&#1610;&#1662; &#1575;&#1587;&#1578;&#1548; &#1575;&#1605;&#1575; &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1570;&#1606;&#1585;&#1575; &#1576;&#1607; &#1570;&#1583;&#1585;&#1587; &#1583;&#1610;&#1711;&#1585;&#1609; &#1607;&#1583;&#1575;&#1610;&#1578; &#1603;&#1606;&#1610;&#1583;.&#1576;&#1585;&#1575;&#1609; &#1575;&#1610;&#1606;&#1603;&#1575;&#1585; &#1576;&#1575;&#1610;&#1583; &#1570;&#1583;&#1585;&#1587; &#1586;&#1610;&#1585;&#1609; &#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1610;&#1583; (URL)',
'texte_aucun_resultat_auteur' => '&#1580;&#1587;&#1578;&#1580;&#1608;&#1609; &#1576;&#1609; &#1606;&#1578;&#1610;&#1580;&#1607; &#1576;&#1585;&#1575;&#1609;"@cherche_auteur@"',
'texte_auteur_messagerie' => ' &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1604;&#1610;&#1587;&#1578; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; &#1605;&#1578;&#1589;&#1604; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1576;&#1591;&#1608;&#1585; &#1583;&#1575;&#1574;&#1605; &#1606;&#1588;&#1575;&#1606; &#1583;&#1607;&#1583; &#1575;&#1610;&#1606; &#1576;&#1588;&#1605;&#1575; &#1575;&#1605;&#1603;&#1575;&#1606; &#1585;&#1583; &#1608; &#1576;&#1583;&#1604; &#1603;&#1585;&#1583;&#1606; &#1662;&#1610;&#1575;&#1605; &#1585;&#1575; &#1576;&#1591;&#1608;&#1585; &#1605;&#1587;&#1578;&#1602;&#1610;&#1605; &#1605;&#1610;&#1583;&#1607;&#1583;. &#1588;&#1605;&#1575; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1711;&#1586;&#1610;&#1606;&#1588; &laquo;&#1606;&#1575;&#1605;&#1585;&#1574;&#1610;&raquo; &#1585;&#1575; &#1575;&#1606;&#1578;&#!
 1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583;',
'texte_auteur_messagerie_1' => '&#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1575;&#1605;&#1603;&#1575;&#1606; &#1578;&#1576;&#1575;&#1583;&#1604; &#1662;&#1610;&#1575;&#1605; &#1608; &#1578;&#1588;&#1603;&#1610;&#1604; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1582;&#1589;&#1608;&#1589;&#1609; &#1585;&#1575; &#1576;&#1610;&#1606; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1605;&#1610;&#1583;&#1607;&#1583;. &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1583;&#1585; &#1575;&#1610;&#1606; &#1605;&#1576;&#1575;&#1581;&#1579;&#1575;&#1578; &#1588;&#1585;&#1603;&#1578; &#1606;&#1603;&#1606;&#1610;&#1583;.',
'texte_auteurs' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606;',
'texte_breves' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1603;&#1608;&#1578;&#1575;&#1607; &#1605;&#1578;&#1606; &#1607;&#1575;&#1609; &#1587;&#1575;&#1583;&#1607; &#1575;&#1609; &#1607;&#1587;&#1578;&#1583; &#1603;&#1607; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606; &#1587;&#1585;&#1610;&#1593;&#1575; &#1576;&#1585;&#1585;&#1608;&#1609; &#1587;&#1575;&#1610;&#1578; &#1602;&#1585;&#1575;&#1585; &#1711;&#1610;&#1585;&#1606;&#1583; &#1608; &#1594;&#1575;&#1604;&#1576;&#1575; &#1576;&#1585;&#1575;&#1609; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1601;&#1588;&#1585;&#1583;&#1607;&#1548; &#1575;&#1583;&#1575;&#1585;&#1607; &#1605;&#1580;&#1604;&#1575;&#1578; &#1608; &#1587;&#1575;&#1604;&#1606;&#1605;&#1575;&#1609; &#1608;&#1602;&#1575;&#1610;&#1593; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1605;&#1610;&#1588;&#1608;&#1606;&#1583;',
'texte_choix_base_1' => '&#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1578;&#1575;&#1606; &#1585;&#1575; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583; :',
'texte_choix_base_2' => '&#1587;&#1585;&#1608;&#1585; &#1605;&#1575;&#1609; &#1575;&#1587; &#1603;&#1610;&#1608; &#1575;&#1604; &#1581;&#1575;&#1608;&#1609; &#1670;&#1606;&#1583; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;.(MySQL)',
'texte_choix_base_3' => '<B>&#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583;</b> &#1662;&#1575;&#1610;&#1711;&#1575;&#1607;&#1609; &#1585;&#1575; &#1603;&#1607; &#1578;&#1608;&#1587;&#1591; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1578;&#1575;&#1606; &#1576;&#1588;&#1605;&#1575; &#1583;&#1575;&#1583;&#1607; &#1588;&#1583;&#1607;:',
'texte_commande_vider_tables_indexation' => '&#1575;&#1586; &#1575;&#1610;&#1606; &#1601;&#1585;&#1605;&#1575;&#1606; &#1576;&#1585;&#1575;&#1609; &#1582;&#1575;&#1604;&#1609; &#1603;&#1585;&#1583;&#1606; &#1589;&#1601;&#1581;&#1575;&#1578; &#1601;&#1607;&#1585;&#1587;&#1578; &#1711;&#1584;&#1575;&#1585;&#1609; &#1588;&#1583;&#1607; &#1576;&#1585;&#1575;&#1609; &#1605;&#1608;&#1578;&#1608;&#1585; &#1580;&#1587;&#1578;&#1580;&#1608; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1606;&#1605;&#1575;&#1610;&#1610;&#1583; &#1603;&#1607; &#1576;&#1588;&#1605;&#1575; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1575;&#1605;&#1603;&#1575;&#1606; &#1587;&#1576;&#1603; &#1603;&#1585;&#1583;&#1606; &#1583;&#1610;&#1587;&#1603; &#1587;&#1582;&#1578;&#1578;&#1575;&#1606; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;',
'texte_comment_lire_tableau' => '&#1585;&#1578;&#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1583;&#1585; &#1585;&#1583;&#1607; &#1576;&#1606;&#1583;&#1609; &#1605;&#1581;&#1576;&#1608;&#1576;&#1610;&#1578;&#1607;&#1575; &#1583;&#1585; &#1581;&#1575;&#1588;&#1610;&#1607; &#1589;&#1601;&#1581;&#1607; &#1605;&#1588;&#1582;&#1589; &#1588;&#1583;&#1607; &#1603;&#1607; &#1606;&#1588;&#1575;&#1606;&#1711;&#1585; &#1578;&#1593;&#1583;&#1575;&#1583; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1607;&#1575;&#1609; &#1585;&#1608;&#1586;&#1575;&#1606;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; &#1608;&#1578;&#1593;&#1583;&#1575;&#1583; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1607;&#1575; &#1575;&#1586; &#1575;&#1576;&#1578;&#1583;&#1575; &#1576;&#1575; &#1602;&#1585;&#1575;&#1585; &#1583;&#1575;&#1583;&#1606; &#1606;&#1608;&#1603; &#1601;&#1604;&#1588; &#1576;&#1585;&#1585;&#1608;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607; &#1605;&#1!
 588;&#1582;&#1589; &#1582;&#1608;&#1575;&#1607;&#1583; &#1588;&#1583;',
'texte_compresse_ou_non' => '(&#1575;&#1586; &#1575;&#1610;&#1606; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606; &#1576;&#1589;&#1608;&#1585;&#1578; &#1601;&#1588;&#1585;&#1583;&#1607; &#1610;&#1575; &#1594;&#1610;&#1585; &#1601;&#1588;&#1585;&#1583;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1585;&#1583;)',
'texte_compte_element' => '&#1593;&#1606;&#1589;&#1585; @count@ ',
'texte_compte_elements' => ' @count@ &#1593;&#1606;&#1589;&#1585;',
'texte_config_groupe_mots_cles' => '&#1570;&#1610;&#1575; &#1605;&#1575;&#1610;&#1604;&#1610;&#1583; &#1662;&#1610;&#1603;&#1585;&#1576;&#1606;&#1583;&#1609; &#1662;&#1610;&#1588;&#1585;&#1601;&#1578;&#1607; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;&#1567;&#1576;&#1585;&#1575;&#1609; &#1605;&#1579;&#1575;&#1604; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606; &#1610;&#1603; &#1608;&#1575;&#1688;&#1607; &#1585;&#1575; &#1576;&#1585;&#1575;&#1609; &#1610;&#1603; &#1711;&#1585;&#1608;&#1607; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1585;&#1583;...',
'texte_connexion_mysql' => '&#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1583;&#1575;&#1583;&#1607; &#1588;&#1583;&#1607; &#1578;&#1608;&#1587;&#1591; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1578;&#1575;&#1606; &#1585;&#1575; &#1576;&#1582;&#1608;&#1575;&#1606;&#1610;&#1583;: &#1575;&#1711;&#1585; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1578;&#1575;&#1606; &#1605;&#1575;&#1609; &#1575;&#1587; &#1603;&#1610;&#1608; &#1575;&#1604; &#1585;&#1575; &#1602;&#1576;&#1608;&#1604; &#1603;&#1606;&#1583; &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583;  &#1583;&#1585; &#1570;&#1606;&#1580;&#1575; &#1603;&#1583;&#1607;&#1575;&#1609; &#1575;&#1578;&#1589;&#1575;&#1604; &#1576;&#1607; &#1587;&#1585;&#1608;&#1585; &#1605;&#1575;&#1609; &#1575;&#1587;&#1603;&#1610;&#1608; &#1575;&#1604; &#1585;&#1575; &#1576;&#1610;&#1575;&#1576;&#1610;&#1583;',
'texte_contenu_article' => '(&#1605;&#1581;&#1578;&#1608;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607; &#1583;&#1585; &#1670;&#1606;&#1583; &#1603;&#1604;&#1605;&#1607;)',
'texte_contenu_articles' => '&#1576;&#1606;&#1575;&#1576;&#1585; &#1605;&#1575;&#1603;&#1578; &#1605;&#1608;&#1585;&#1583; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606;&#1548; &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1578;&#1589;&#1605;&#1610;&#1605; &#1576;&#1607; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1578;&#1606;&#1607;&#1575; &#1578;&#1593;&#1583;&#1575;&#1583;&#1609; &#1575;&#1586; &#1575;&#1580;&#1586;&#1575;&#1609; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1585;&#1575; &#1576;&#1711;&#1610;&#1585;&#1610;&#1583;. &#1575;&#1586; &#1604;&#1610;&#1587;&#1578; &#1586;&#1610;&#1585; &#1576;&#1585;&#1575;&#1609; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1575;&#1580;&#1586;&#1575;&#1609; &#1605;&#1608;&#1585;&#1583; &#1606;&#1610;&#1575;&#1586;&#1578;&#1575;&#1606; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;.',
'texte_crash_base' => '&#1575;&#1711;&#1585; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;&#1610;&#1578;&#1575;&#1606; &#1575;&#1586; &#1576;&#1610;&#1606; &#1585;&#1601;&#1578;&#1606;&#1583;&#1548; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1711;&#1586;&#1610;&#1606;&#1588; &#1578;&#1585;&#1605;&#1610;&#1605; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1585;&#1575; &#1570;&#1586;&#1605;&#1575;&#1610;&#1588; &#1603;&#1606;&#1610;&#1583;',
'texte_creer_rubrique' => '&#1662;&#1610;&#1588; &#1575;&#1586; &#1606;&#1608;&#1588;&#1578;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607;&#1548; &#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1610;&#1603; &#1576;&#1582;&#1588; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;',
'texte_date_creation_article' => ' &#1578;&#1575;&#1585;&#1610;&#1582; &#1606;&#1608;&#1588;&#1578;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607;',
'texte_date_publication_anterieure' => '&#1578;&#1575;&#1585;&#1610;&#1582; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1662;&#1610;&#1588;&#1610;&#1606;',
'texte_date_publication_anterieure_nonaffichee' => '&#1578;&#1575;&#1585;&#1610;&#1582; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1662;&#1610;&#1588;&#1610;&#1606; &#1585;&#1575; &#1575;&#1593;&#1604;&#1575;&#1606; &#1606;&#1603;&#1606;&#1610;&#1583;.',
'texte_date_publication_article' => '&#1578;&#1575;&#1585;&#1610;&#1582; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1576;&#1585;&#1608;&#1609; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575;:',
'texte_demander_blocage_priori' => '&#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1576;&#1593;&#1583;&#1609; &#1575;&#1586; &#1605;&#1576;&#1583;&#1575; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1592;&#1575;&#1607;&#1585;&#1575; &#1605;&#1587;&#1583;&#1608;&#1583; &#1588;&#1583;&#1607; &#1575;&#1606;&#1583;. ',
'texte_descriptif_petition' => '&#1578;&#1608;&#1589;&#1610;&#1601; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607;',
'texte_descriptif_rapide' => '&#1578;&#1608;&#1589;&#1610;&#1601; &#1587;&#1585;&#1610;&#1593;',
'texte_documents_joints' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1575;&#1587;&#1606;&#1575;&#1583; &#1585;&#1575; &#1603;&#1607; &#1588;&#1575;&#1605;&#1604; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575;&#1548; &#1578;&#1589;&#1575;&#1608;&#1610;&#1585;&#1548; &#1605;&#1608;&#1604;&#1578;&#1609; &#1605;&#1583;&#1610;&#1575; &#1608;... &#1605;&#1610;&#1588;&#1608;&#1583; &#1585;&#1575; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1608; &#1610;&#1575; &#1576;&#1607; &#1576;&#1582;&#1588;&#1607;&#1575; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;. &#1575;&#1610;&#1606; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1662;&#1610;&#1608;&#1606;&#1583; &#1586;&#1583;&#1607; &#1588;&#1608;&#1606;&#1583; &#1610;&#1575; &#1575;&#1610;&#1606;&#1603;&#1607; &#1576;&#1591;&#1608;&#1585; &#1580;&#1583;&#1575;!
 &#1711;&#1575;&#1606;&#1607; &#1592;&#1575;&#1607;&#1585; &#1588;&#1608;&#1606;&#1583;.',
'texte_documents_joints_2' => '&#1575;&#1610;&#1606; &#1578;&#1606;&#1592;&#1610;&#1605; &#1575;&#1586; &#1575;&#1604;&#1581;&#1575;&#1602; &#1605;&#1587;&#1578;&#1602;&#1610;&#1605; &#1578;&#1589;&#1575;&#1608;&#1610;&#1585; &#1583;&#1585; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1580;&#1604;&#1608;&#1711;&#1610;&#1585;&#1609; &#1606;&#1605;&#1610;&#1603;&#1606;&#1583;',
'texte_effacer_base' => '&#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;&#1609; &#1575;&#1587;&#1662;&#1610;&#1662; &#1585;&#1575; &#1662;&#1575;&#1603; &#1603;&#1606;&#1610;&#1583;',
'texte_effacer_donnees_indexation' => '&#1583;&#1575;&#1583;&#1607; &#1607;&#1575;&#1609; &#1601;&#1607;&#1585;&#1587;&#1578; &#1711;&#1584;&#1575;&#1585;&#1609; &#1585;&#1575; &#1662;&#1575;&#1603; &#1603;&#1606;&#1610;&#1583;',
'texte_en_cours_validation' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1608; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1603;&#1608;&#1578;&#1575;&#1607; &#1586;&#1610;&#1585; &#1576;&#1585;&#1575;&#1609; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1662;&#1610;&#1588;&#1606;&#1607;&#1575;&#1583; &#1588;&#1583;&#1607; &#1575;&#1606;&#1583;. &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1606;&#1592;&#1585;&#1578;&#1575;&#1606; &#1585;&#1575; &#1583;&#1585; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1605;&#1578;&#1589;&#1604; &#1576;&#1607; &#1570;&#1606;&#1607;&#1575; &#1583;&#1585;&#1580; &#1606;&#1605;&#1575;&#1610;&#1610;&#1583;.',
'texte_enrichir_mise_a_jour' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1589;&#1601;&#1581;&#1607; &#1576;&#1606;&#1583;&#1609; &#1605;&#1578;&#1606; &#1578;&#1575;&#1606; &#1585;&#1575; &#1576;&#1575; &#1576;&#1593;&#1590;&#1609; &#1575;&#1586; &#1593;&#1604;&#1575;&#1574;&#1605; &#1570;&#1585;&#1575;&#1587;&#1578;&#1607; &#1603;&#1606;&#1610;&#1583; (&#1605;&#1575;&#1606;&#1606;&#1583; &#1603;&#1585;&#1608;&#1588;&#1607;&#1548; &#1570;&#1603;&#1608;&#1604;&#1575;&#1583;&#1548;...)',
'texte_fichier_authent' => '&#1570;&#1610;&#1575; &#1605;&#1575;&#1610;&#1604;&#1610;&#1583; &#1603;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575;&#1609; &#1586;&#1610;&#1585; &#1585;&#1575; &#1576;&#1587;&#1575;&#1586;&#1583; <tt>.htpasswd</tt>
&#1608;   <tt>.htpasswd-admin</tt>  &#1583;&#1585;&#1608;&#1606; &#1585;&#1662;&#1585;&#1578;&#1608;&#1575;&#1585;<tt>ecrire/data/</tt> &#1567;</b><p>
&#1575;&#1610;&#1606; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1576;&#1588;&#1605;&#1575; &#1583;&#1585; &#1605;&#1581;&#1583;&#1608;&#1583; &#1603;&#1585;&#1583;&#1606; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; &#1608;&#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1583;&#1585; &#1580;&#1575;&#1607;&#1575;&#1609; &#1583;&#1610;&#1711;&#1585; &#1587;&#1575;&#1610;&#1578; ( &#1576;&#1585;&#1575;&#1609; &#1605;&#1579;&#1575;&#1604; &#1576;&#1585;&#1606;&#1575;&#1605;&#1607; &#1582;&#1575;&#1585;&#1580;&#1609; &#1570;&#1605;&#1575;&#1585; ) &#1603;&#1605;&#1603; &#1603;&#1606;&#1606;&#1583;.<p>
&#1575;&#1711;&#1585; &#1606;&#1610;&#1575;&#1586;&#1609; &#1576;&#1607; &#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1606;&#1605;&#1610;&#1576;&#1610;&#1606;&#1610;&#1583;&#1548; &#1575;&#1587;&#1662;&#1610;&#1578; &#1582;&#1608;&#1583;&#1576;&#1582;&#1608;&#1583; &#1570;&#1606;&#1585;&#1575; &#1575;&#1583;&#1575;&#1585;&#1607; &#1605;&#1610;&#1603;&#1606;&#1583; (&#1576;&#1583;&#1608;&#1606;  &#1587;&#1575;&#1582;&#1578; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575;)',
'texte_informations_personnelles_1' => '&#1575;&#1603;&#1606;&#1608;&#1606; &#1587;&#1610;&#1587;&#1578;&#1605; &#1576;&#1585;&#1575;&#1609; &#1588;&#1605;&#1575; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1575;&#1606;&#1581;&#1589;&#1575;&#1585;&#1609; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1583;&#1585;&#1587;&#1578; &#1605;&#1610;&#1603;&#1606;&#1583;.',
'texte_informations_personnelles_2' => '&#1578;&#1584;&#1603;&#1585; : &#1575;&#1711;&#1585; &#1605;&#1608;&#1590;&#1608;&#1593; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1606;&#1589;&#1576; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;&#1548; &#1608;&#1588;&#1605;&#1575; &#1607;&#1606;&#1608;&#1586; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1583;&#1575;&#1585;&#1610;&#1583;&#1548; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583;',
'texte_introductif_article' => '(&#1605;&#1578;&#1606; &#1605;&#1602;&#1583;&#1605;&#1607; &#1575;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607;.)',
'texte_jeu_caractere' => ' &#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1576;&#1585;&#1575;&#1609; &#1603;&#1575;&#1585;&#1576;&#1585;&#1575;&#1606;&#1610;&#1587;&#1578; &#1603;&#1607; &#1575;&#1586; &#1575;&#1604;&#1601;&#1576;&#1575;&#1610;&#1609; &#1594;&#1610;&#1585; &#1575;&#1586; &#1575;&#1604;&#1601;&#1576;&#1575;&#1609; &#1604;&#1575;&#1578;&#1610;&#1606; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1605;&#1610;&#1603;&#1606;&#1606;&#1583;. &#1583;&#1585;&#1575;&#1610;&#1606;&#1589;&#1608;&#1585;&#1578;&#1548; &#1576;&#1575;&#1610;&#1583; &#1606;&#1608;&#1610;&#1587;&#1607; &#1607;&#1575;&#1609; &#1605;&#1606;&#1575;&#1587;&#1576; &#1585;&#1575; &#1576;&#1603;&#1575;&#1585; &#1576;&#1585;&#1583;. &#1583;&#1585; &#1590;&#1605;&#1606; &#1601;&#1585;&#1575;&#1605;&#1608;&#1588; &#1606;&#1603;&#1606;&#1610;&#1583; &#1603;&#1607; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1585;&#1575; &#1576;&#1575; &#1570;&#1606; &#1578;&#1591;&#1576;&#1610!
 ;&#1602; &#1583;&#1607;&#1610;&#1583;(balise <tt>#CHARSET</tt>).',
'texte_jeu_caractere_2' => '&#1575;&#1610;&#1606; &#1585;&#1711;&#1604;&#1575;&#1688; &#1578;&#1575;&#1579;&#1610;&#1585;&#1609; &#1576;&#1605;&#1575;&#1587;&#1576;&#1602; &#1606;&#1583;&#1575;&#1585;&#1583;. &#1583;&#1585; &#1606;&#1578;&#1610;&#1580;&#1607; &#1605;&#1578;&#1606; &#1607;&#1575;&#1610;&#1609; &#1603;&#1607; &#1602;&#1576;&#1604;&#1575; &#1608;&#1575;&#1585;&#1583; &#1587;&#1575;&#1610;&#1578; &#1588;&#1583;&#1606;&#1583;&#1548; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1583;&#1585; &#1662;&#1609; &#1575;&#1589;&#1604;&#1575;&#1581; &#1585;&#1711;&#1604;&#1575;&#1688;&#1548; &#1576;&#1589;&#1608;&#1585;&#1578; &#1606;&#1575;&#1583;&#1585;&#1587;&#1578; &#1606;&#1605;&#1575;&#1610;&#1575;&#1606; &#1588;&#1608;&#1606;&#1583;.&#1583;&#1585; &#1607;&#1585; &#1589;&#1608;&#1585;&#1578; &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1583;&#1608;&#1606; &#1607;&#1610;&#1670; &#1605;&#1588;&#1603;&#1604;&#1609!
 ; &#1576;&#1607; &#1585;&#1711;&#1604;&#1575;&#1688; &#1587;&#1575;&#1576;&#1602; &#1576;&#1585;&#1711;&#1585;&#1583;&#1610;&#1583;.',
'texte_lien_hypertexte' => '&#1575;&#1711;&#1585; &#1662;&#1610;&#1575;&#1605;&#1578;&#1575;&#1606; &#1576;&#1607; &#1610;&#1603; &#1605;&#1602;&#1575;&#1604;&#1607; &#1583;&#1585; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1605;&#1585;&#1576;&#1608;&#1591; &#1605;&#1610;&#1588;&#1608;&#1583;&#1548; &#1610;&#1575; &#1576;&#1607; &#1610;&#1603; &#1589;&#1601;&#1581;&#1607; &#1576;&#1575; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1576;&#1610;&#1588;&#1578;&#1585;&#1548; &#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1603;&#1607; &#1593;&#1606;&#1608;&#1575;&#1606; &#1589;&#1601;&#1581;&#1607; &#1608; &#1570;&#1583;&#1585;&#1587; &#1570;&#1606;&#1585;&#1575; &#1583;&#1585; &#1586;&#1610;&#1585; &#1605;&#1588;&#1582;&#1589; &#1603;&#1606;&#1610;&#1583;.',
'texte_liens_sites_syndiques' => '&#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1606;&#1583; &#1605;&#1587;&#1583;&#1608;&#1583; &#1588;&#1608;&#1606;&#1583;&#1548; &#1587;&#1662;&#1587; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1570;&#1606;&#1607;&#1575; &#1585;&#1575; &#1578;&#1603; &#1578;&#1603; &#1576;&#1575;&#1586; &#1603;&#1606;&#1610;&#1583; &#1610;&#1575; &#1575;&#1610;&#1606;&#1603;&#1607; &#1587;&#1575;&#1610;&#1578; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578; &#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1570;&#1610;&#1606;&#1583;&#1607; &#1585;&#1575; &#1605;&#1587;&#1583;&#1608;&#1583; &#1603;&#1606;&#1610;&#1583;. ',
'texte_liens_syndication' => '&#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1570;&#1610;&#1606;&#1583;&#1607; &#1575;&#1586; &#1605;&#1576;&#1583;&#1575; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578; &#1601;&#1608;&#1585;&#1575; &#1576;&#1585;&#1608;&#1609; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1606;&#1605;&#1575;&#1610;&#1575;&#1606; &#1582;&#1608;&#1575;&#1607;&#1606;&#1583; &#1588;&#1583;.',
'texte_login_ldap_1' => '(&#1576;&#1585;&#1575;&#1609; &#1608;&#1585;&#1608;&#1583; &#1576;&#1609; &#1606;&#1575;&#1605;&#1548; &#1582;&#1575;&#1604;&#1609; &#1576;&#1711;&#1584;&#1575;&#1585;&#1610;&#1583;&#1548; &#1610;&#1575; &#1578;&#1605;&#1575;&#1605; &#1605;&#1587;&#1610;&#1585; &#1585;&#1575; &#1583;&#1585;&#1580; &#1603;&#1606;&#1610;&#1583;&#1548; &#1576;&#1585;&#1575;&#1609; &#1605;&#1579;&#1575;&#1604;&laquo;&nbsp;<tt>uid=dupont, ou=users, dc=mon-domaine, dc=com</tt>&nbsp;&raquo;.)',
'texte_login_precaution' => '&#1578;&#1608;&#1580;&#1607; ! &#1588;&#1605;&#1575; &#1576;&#1575; &#1575;&#1610;&#1606; &#1603;&#1583; &#1605;&#1578;&#1589;&#1604; &#1588;&#1583;&#1610;&#1583;. &#1575;&#1586; &#1575;&#1610;&#1606; &#1662;&#1585;&#1587;&#1588;&#1606;&#1575;&#1605;&#1607; &#1576;&#1575; &#1575;&#1581;&#1578;&#1610;&#1575;&#1591; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;.',
'texte_message_edit' => '&#1578;&#1608;&#1580;&#1607; ! &#1575;&#1610;&#1606; &#1662;&#1610;&#1575;&#1605; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1578;&#1608;&#1587;&#1591; &#1607;&#1605;&#1607; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578; &#1575;&#1589;&#1604;&#1575;&#1581; &#1588;&#1608;&#1583;&#1548; &#1608; &#1576;&#1585;&#1575;&#1609; &#1607;&#1605;&#1607; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1711;&#1575;&#1606; &#1602;&#1575;&#1576;&#1604; &#1585;&#1608;&#1610;&#1578; &#1575;&#1587;&#1578;. &#1575;&#1586; &#1575;&#1593;&#1604;&#1575;&#1606;&#1575;&#1578; &#1601;&#1602;&#1591; &#1576;&#1585;&#1575;&#1609; &#1593;&#1585;&#1590;&#1607; &#1608;&#1602;&#1575;&#1610;&#1593; &#1605;&#1607;&#1605; &#1587;&#1575;&#1610;&#1578; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;.',
'texte_messages_publics' => '&#1662;&#1610;&#1575;&#1605;&#1607;&#1575;&#1609; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607; :',
'texte_mise_a_niveau_base_1' => '&#1588;&#1605;&#1575; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575;&#1609; &#1575;&#1587;&#1662;&#1610;&#1662; &#1585;&#1575; &#1606;&#1608; &#1603;&#1585;&#1583;&#1610;&#1583;.
&#1575;&#1603;&#1606;&#1608;&#1606; &#1576;&#1575;&#1610;&#1583; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1605;&#1610;&#1586;&#1575;&#1606; &#1603;&#1606;&#1610;&#1583;.
 ',
'texte_modifier_article' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1585;&#1575; &#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583; :',
'texte_moteur_recherche_active' => '<b>&#1605;&#1608;&#1578;&#1608;&#1585; &#1580;&#1587;&#1578;&#1580;&#1608; &#1601;&#1593;&#1575;&#1604; &#1588;&#1583;&#1607;.</b>&#1575;&#1610;&#1606; &#1601;&#1585;&#1605;&#1575;&#1606; &#1585;&#1575; &#1607;&#1606;&#1711;&#1575;&#1605; &#1605;&#1576;&#1575;&#1583;&#1585;&#1578; &#1576;&#1607; &#1601;&#1607;&#1585;&#1587;&#1578; &#1711;&#1584;&#1575;&#1585;&#1609; &#1587;&#1585;&#1610;&#1593; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583; (&#1576;&#1585;&#1575;&#1609; &#1605;&#1579;&#1575;&#1604; &#1662;&#1587; &#1575;&#1586; &#1576;&#1575;&#1587;&#1575;&#1586;&#1609; &#1584;&#1582;&#1610;&#1585;&#1607;). &#1578;&#1608;&#1580;&#1607; &#1583;&#1575;&#1588;&#1578;&#1607; &#1576;&#1575;&#1588;&#1610;&#1583; &#1603;&#1607; &#1575;&#1587;&#1606;&#1575;&#1583; &#1575;&#1589;&#1604;&#1575;&#1581; &#1588;&#1583;&#1607; &#1576;&#1591;&#1585;&#1610;&#1602;&#1607; &#1593;&#1575;&#1583;&#1609; &#1576;&#1591;&#1608;&#1!
 585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1601;&#1607;&#1585;&#1587;&#1578; &#1711;&#1584;&#1575;&#1585;&#1609; &#1605;&#1610;&#1588;&#1608;&#1606;&#1583; : &#1575;&#1610;&#1606; &#1601;&#1585;&#1605;&#1575;&#1606; &#1576;&#1585;&#1575;&#1609;  &#1605;&#1608;&#1575;&#1585;&#1583; &#1575;&#1587;&#1578;&#1579;&#1606;&#1575;&#1610;&#1609; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;.',
'texte_moteur_recherche_non_active' => '&#1605;&#1608;&#1578;&#1608;&#1585; &#1580;&#1587;&#1578;&#1580;&#1608; &#1601;&#1593;&#1575;&#1604; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;. ',
'texte_mots_cles' => '&#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575; &#1575;&#1605;&#1603;&#1575;&#1606; &#1587;&#1575;&#1582;&#1578; &#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1605;&#1585;&#1576;&#1608;&#1591; &#1576;&#1607; &#1610;&#1603; &#1605;&#1608;&#1590;&#1608;&#1593; &#1585;&#1575; &#1605;&#1587;&#1578;&#1602;&#1604; &#1575;&#1586; &#1605;&#1603;&#1575;&#1606;&#1588;&#1575;&#1606; &#1583;&#1585; &#1576;&#1582;&#1588;&#1607;&#1575;&#1548; &#1576;&#1607; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;&#1578;&#1575;&#1606; &#1605;&#1610;&#1583;&#1607;&#1583;. &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1585;&#1575; &#1578;&#1608;&#1587;&#1593;&#1607; &#1583;&#1607;&#1610;&#1583;&#1548; &#1610;&#1575; &#1581;&#1578;&#1609; &#1576;&#1585;&#1575;&#1609; &#1605;&#1593;&#1585;&#1601;&#1609; &#1605;&#1602;&#1575!
 ;&#1604;&#1575;&#1578; &#1583;&#1585; &#1575;&#1587;&#1603;&#1604;&#1578;&#1607;&#1575;&#1610;&#1578;&#1575;&#1606; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;.',
'texte_mots_cles_dans_forum' => '&#1570;&#1610;&#1575; &#1605;&#1575;&#1610;&#1604;&#1610;&#1583; &#1603;&#1607; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1575;&#1586; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575;&#1609; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576;&#1609; &#1583;&#1585; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1606;&#1583;&#1567;(&#1578;&#1608;&#1580;&#1607; : &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1583;&#1585;&#1587;&#1578; &#1575;&#1586; &#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1606;&#1587;&#1576;&#1578;&#1575; &#1662;&#1610;&#1670;&#1610;&#1583;&#1607; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;)',
'texte_multilinguisme' => '&#1575;&#1711;&#1585; &#1588;&#1605;&#1575; &#1605;&#1575;&#1610;&#1604; &#1576;&#1607; &#1575;&#1583;&#1575;&#1585;&#1607; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1576;&#1607; &#1670;&#1606;&#1583; &#1586;&#1576;&#1575;&#1606; &#1576;&#1575;&#1588;&#1610;&#1583;&#1548; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1610;&#1603; &#1601;&#1607;&#1585;&#1587;&#1578; &#1575;&#1586; &#1586;&#1576;&#1575;&#1606;&#1607;&#1575;&#1609; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576;&#1609; &#1585;&#1575; &#1583;&#1585; &#1605;&#1608;&#1585;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1608; &#1576;&#1582;&#1588;&#1607;&#1575; &#1548; &#1583;&#1585; &#1585;&#1575;&#1576;&#1591;&#1607; &#1576;&#1575; &#1578;&#1585;&#1603;&#1610;&#1576; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583;.',
'texte_multilinguisme_trad' => '&#1588;&#1605;&#1575; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1587;&#1610;&#1587;&#1578;&#1605; &#1575;&#1583;&#1575;&#1585;&#1607; &#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1576;&#1610;&#1606; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606; &#1607;&#1575;&#1609; &#1711;&#1608;&#1606;&#1575;&#1711;&#1608;&#1606; &#1575;&#1586; &#1610;&#1603; &#1605;&#1602;&#1575;&#1604;&#1607; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;.',
'texte_non_compresse' => '<i>&#1601;&#1588;&#1585;&#1583;&#1607; &#1606;&#1588;&#1583;&#1607;</i> (&#1587;&#1585;&#1608;&#1585; &#1588;&#1605;&#1575; &#1575;&#1610;&#1606; &#1593;&#1605;&#1604;&#1603;&#1585;&#1583; &#1585;&#1575; &#1602;&#1576;&#1608;&#1604; &#1606;&#1605;&#1610;&#1603;&#1606;&#1583;)',
'texte_non_fonction_referencement' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1575;&#1586; &#1575;&#1610;&#1606; &#1603;&#1575;&#1585;&#1576;&#1585;&#1583; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1606;&#1603;&#1606;&#1610;&#1583;&#1548; &#1583;&#1585;&#1575;&#1610;&#1606;&#1589;&#1608;&#1585;&#1578; &#1582;&#1608;&#1583;&#1578;&#1575;&#1606; &#1576;&#1575;&#1610;&#1583; &#1605;&#1588;&#1582;&#1589;&#1575;&#1578; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1578;&#1593;&#1610;&#1610;&#1606; &#1603;&#1606;&#1610;&#1583;',
'texte_nouveau_message' => '&#1662;&#1610;&#1575;&#1605; &#1580;&#1583;&#1610;&#1583;',
'texte_nouveau_mot' => '&#1608;&#1575;&#1688;&#1607; &#1580;&#1583;&#1610;&#1583;',
'texte_nouvelle_version_spip_1' => '&#1588;&#1605;&#1575; &#1606;&#1587;&#1582;&#1607; &#1580;&#1583;&#1610;&#1583; &#1575;&#1587;&#1662;&#1610;&#1662; &#1585;&#1575; &#1606;&#1589;&#1576; &#1603;&#1585;&#1583;&#1607; &#1575;&#1610;&#1583;.',
'texte_nouvelle_version_spip_2' => '&#1575;&#1610;&#1606; &#1606;&#1587;&#1582;&#1607; &#1580;&#1583;&#1610;&#1583; &#1606;&#1610;&#1575;&#1586; &#1576;&#1607; &#1606;&#1608; &#1588;&#1583;&#1606; &#1603;&#1575;&#1605;&#1604; &#1583;&#1575;&#1585;&#1583;. &#1575;&#1711;&#1585; &#1588;&#1605;&#1575; &#1575;&#1586; &#1608;&#1576; &#1605;&#1587;&#1578;&#1585;&#1607;&#1575;&#1609; &#1587;&#1575;&#1610;&#1578; &#1607;&#1587;&#1578;&#1610;&#1583; &#1604;&#1591;&#1601;&#1575; &#1601;&#1575;&#1610;&#1604; <tt>inc_connect.php3</tt> &#1603;&#1607; &#1583;&#1585; &#1575;&#1610;&#1606; &#1585;&#1662;&#1585;&#1578;&#1608;&#1575;&#1585; &#1602;&#1585;&#1575;&#1585; &#1583;&#1575;&#1585;&#1583; &#1585;&#1575; &#1662;&#1575;&#1603; &#1603;&#1606;&#1610;&#1583; <tt>ecrire</tt> &#1608; &#1583;&#1608;&#1576;&#1575;&#1585;&#1607; &#1606;&#1589;&#1576; &#1575;&#1587;&#1662;&#1610;&#1662; &#1585;&#1575; &#1575;&#1586; &#1587;&#1585; &#1576;&#1711;&#1610;&#1585;&#1610;&#1583; &#1578;&#1575; &#1662!
 ;&#1575;&#1585;&#1575;&#1605;&#1578;&#1585;&#1607;&#1575;&#1609; &#1575;&#1578;&#1589;&#1575;&#1604; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575; &#1606;&#1608; &#1588;&#1608;&#1606;&#1583;.<p>(&#1575;&#1711;&#1585; &#1588;&#1605;&#1575; &#1662;&#1575;&#1585;&#1575;&#1605;&#1578;&#1585;&#1607;&#1575;&#1609; &#1575;&#1578;&#1589;&#1575;&#1604; &#1585;&#1575; &#1601;&#1585;&#1575;&#1605;&#1608;&#1588; &#1603;&#1585;&#1583;&#1610;&#1583;&#1548; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1607; &#1601;&#1575;&#1610;&#1604; &#1586;&#1610;&#1585; &#1605;&#1585;&#1575;&#1580;&#1593;&#1607; &#1603;&#1606;&#1610;&#1583; (&#1662;&#1610;&#1588; &#1575;&#1586; &#1575;&#1610;&#1606;&#1603;&#1607; &#1570;&#1606;&#1585;&#1575; &#1581;&#1584;&#1601; &#1603;&#1606;&#1610;&#1583;...(<tt>inc_connect.php3</tt> )',
'texte_operation_echec' => '&#1576;&#1607; &#1589;&#1601;&#1581;&#1607; &#1662;&#1610;&#1588;&#1610;&#1606; &#1576;&#1585;&#1711;&#1585;&#1583;&#1610;&#1583;&#1548; &#1610;&#1603; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583; &#1610;&#1575; &#1575;&#1610;&#1606;&#1603;&#1607; &#1580;&#1583;&#1610;&#1583;&#1588; &#1585;&#1575; &#1576;&#1587;&#1575;&#1586;&#1610;&#1583;.&#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1583;&#1575;&#1583;&#1607; &#1588;&#1583;&#1607; &#1578;&#1608;&#1587;&#1591; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1578;&#1575;&#1606; &#1585;&#1575; &#1583;&#1585; &#1605;&#1583;&#1606;&#1592;&#1585; &#1583;&#1575;&#1588;&#1578;&#1607; &#1576;&#1575;&#1588;&#1610;&#1583;.',
'texte_plus_trois_car' => '&#1576;&#1610;&#1588; &#1575;&#1586; &#1587;&#1607; &#1581;&#1585;&#1601;',
'texte_plusieurs_articles' => '&#1576;&#1585;&#1575;&#1609; &#1575;&#1610;&#1606; &#1580;&#1587;&#1578;&#1580;&#1608; &#1670;&#1606;&#1583;&#1610;&#1606; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1662;&#1610;&#1583;&#1575; &#1588;&#1583;&#1607;: "@cherche_auteur@"',
'texte_port_annuaire' => '(&#1575;&#1585;&#1586;&#1588; &#1605;&#1588;&#1582;&#1589; &#1588;&#1583;&#1607; &#1593;&#1605;&#1608;&#1605;&#1575; &#1605;&#1606;&#1575;&#1587;&#1576; &#1575;&#1587;&#1578;)',
'texte_proposer_publication' => '&#1607;&#1606;&#1711;&#1575;&#1605;&#1610;&#1603;&#1607; &#1605;&#1602;&#1575;&#1604;&#1607; &#1578;&#1575;&#1606; &#1578;&#1605;&#1575;&#1605; &#1588;&#1583; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1662;&#1610;&#1588;&#1606;&#1607;&#1575;&#1583; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585;&#1588; &#1585;&#1575; &#1576;&#1603;&#1606;&#1610;&#1583;.',
'texte_proxy' => '&#1583;&#1585; &#1576;&#1593;&#1590;&#1609; &#1605;&#1608;&#1575;&#1585;&#1583; (&#1575;&#1610;&#1606;&#1578;&#1585;&#1575;&#1606;&#1578;&#1548; &#1588;&#1576;&#1603;&#1607; &#1607;&#1575;&#1609; &#1605;&#1581;&#1575;&#1601;&#1592;&#1578; &#1588;&#1583;&#1607;&#1548;...) &#1576;&#1585;&#1575;&#1609; &#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1606;&#1610;&#1575;&#1586; &#1576;&#1607; &#1662;&#1585;&#1608;&#1603;&#1587;&#1609; &#1583;&#1575;&#1585;&#1610;&#1583;. <I>proxy HTTP</i> &#1583;&#1585; &#1575;&#1610;&#1606;&#1589;&#1608;&#1585;&#1578; &#1570;&#1583;&#1585;&#1587;&#1607;&#1575; &#1585;&#1575; &#1583;&#1585; &#1586;&#1610;&#1585; &#1576;&#1607; &#1575;&#1610;&#1606; &#1588;&#1603;&#1604; &#1605;&#1588;&#1582;&#1589; &#1603;&#1606;&#1610;&#1583;
  <tt><html>http://proxy:8080</html></tt>&#1605;&#1593;&#1605;&#1608;&#1604;&#1575; &#1576;&#1607;&#1578;&#1585; &#1575;&#1587;&#1578; &#1575;&#1610;&#1606; &#1605;&#1585;&#1576;&#1593; &#1585;&#1575; &#1582;&#1575;&#1604;&#1609; &#1576;&#1711;&#1584;&#1575;&#1585;&#1610;&#1583; ',
'texte_publication_articles_post_dates' => '&#1575;&#1587;&#1662;&#1610;&#1662; &#1576;&#1575;&#1610;&#1583; &#1670;&#1607; &#1608;&#1575;&#1603;&#1606;&#1588;&#1609; &#1585;&#1575; &#1583;&#1585; &#1605;&#1608;&#1585;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;&#1609; &#1603;&#1607; &#1605;&#1608;&#1593;&#1583; &#1578;&#1575;&#1585;&#1610;&#1582; &#1575;&#1606;&#1578;&#1588;&#1575;&#1585;&#1588;&#1575;&#1606; &#1583;&#1585; &#1570;&#1610;&#1606;&#1583;&#1607; &#1605;&#1606;&#1602;&#1590;&#1609; &#1605;&#1610;&#1588;&#1608;&#1583; &#1576;&#1662;&#1584;&#1610;&#1585;&#1583;&#1567;',
'texte_rappel_selection_champs' => '[&#1575;&#1610;&#1606; &#1605;&#1608;&#1575;&#1585;&#1583; &#1585;&#1575; &#1583;&#1585;&#1587;&#1578; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583;.]',
'texte_recalcul_page' => '&#1575;&#1711;&#1585; &#1605;&#1610;&#1582;&#1608;&#1575;&#1607;&#1610;&#1583; &#1578;&#1606;&#1607;&#1575; &#1610;&#1603; &#1589;&#1601;&#1581;&#1607; &#1585;&#1575; &#1606;&#1608; &#1603;&#1606;&#1610;&#1583;&#1548; &#1576;&#1607;&#1578;&#1585; &#1575;&#1587;&#1578; &#1603;&#1607; &#1576;&#1607; &#1602;&#1587;&#1605;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1585;&#1608;&#1610;&#1583; &#1608; &#1576;&#1585;&#1608;&#1609; &#1583;&#1603;&#1605;&#1607; &laquo;&#1578;&#1575;&#1586;&#1607; &#1603;&#1606;&#1610;&#1583;&raquo; &#1603;&#1604;&#1610;&#1603; &#1603;&#1606;&#1610;&#1583;.',
'texte_recapitiule_liste_documents' => '&#1575;&#1610;&#1606; &#1589;&#1601;&#1581;&#1607; &#1601;&#1607;&#1585;&#1587;&#1578; &#1575;&#1587;&#1606;&#1575;&#1583;&#1609; &#1585;&#1575; &#1603;&#1607; &#1588;&#1605;&#1575; &#1583;&#1585; &#1576;&#1582;&#1588;&#1607;&#1575; &#1711;&#1584;&#1575;&#1588;&#1578;&#1607; &#1575;&#1610;&#1583; &#1585;&#1575; &#1576;&#1591;&#1608;&#1585; &#1582;&#1604;&#1575;&#1589;&#1607; &#1606;&#1588;&#1575;&#1606; &#1605;&#1610;&#1583;&#1607;&#1583; &#1576;&#1585;&#1575;&#1609; &#1575;&#1589;&#1604;&#1575;&#1581; &#1607;&#1585; &#1587;&#1606;&#1583;&#1548; &#1662;&#1610;&#1608;&#1606;&#1583; &#1589;&#1601;&#1581;&#1607; &#1585;&#1575; &#1576;&#1575; &#1576;&#1582;&#1588; &#1583;&#1606;&#1576;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;.',
'texte_recuperer_base' => '&#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575; &#1585;&#1575; &#1578;&#1585;&#1605;&#1610;&#1605; &#1603;&#1606;&#1610;&#1583;',
'texte_reference_mais_redirige' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1583;&#1585; &#1587;&#1575;&#1610;&#1578; &#1575;&#1587;&#1662;&#1610;&#1662;&#1548; &#1603;&#1607; &#1576;&#1607; &#1570;&#1583;&#1585;&#1587; &#1583;&#1610;&#1711;&#1585;&#1609; &#1607;&#1583;&#1575;&#1610;&#1578; &#1588;&#1583;&#1607;.',
'texte_referencement_automatique' => '&#1662;&#1610;&#1608;&#1606;&#1583; &#1583;&#1575;&#1583;&#1606; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585; &#1610;&#1603; &#1587;&#1575;&#1610;&#1578;&#1548; <br>&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1610;&#1603; &#1587;&#1575;&#1610;&#1578; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1585;&#1575; &#1576;&#1575; &#1605;&#1588;&#1582;&#1589; &#1603;&#1585;&#1583;&#1606; &#1570;&#1583;&#1585;&#1587; URL&#1608; &#1610;&#1575; &#1570;&#1583;&#1585;&#1587; &#1601;&#1575;&#1610;&#1604;  backend&#1583;&#1585; &#1586;&#1610;&#1585; &#1662;&#1610;&#1608;&#1606;&#1583; &#1583;&#1607;&#1610;&#1583;.&#1575;&#1587;&#1662;&#1610;&#1662; &#1578;&#1605;&#1575;&#1605; &#1575;&#1591;&#1604;&#1575;&#1593;&#1575;&#1578; &#1575;&#1593;&#1605; &#1575;&#1586; &#1593;&#1606;&#1608;&#1575;&#1606;&#1548; &#1578;&#1608;&#1589;&#1610;&#1601;&#1548;... &#1585;&#1575; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#160!
 3;&#1575;&#1585; &#1580;&#1605;&#1593; &#1570;&#1608;&#1585;&#1609; &#1582;&#1608;&#1575;&#1607;&#1583; &#1603;&#1585;&#1583;.',
'texte_requetes_echouent' => '<b>&#1607;&#1606;&#1711;&#1575;&#1605;&#1610;&#1603;&#1607; &#1576;&#1593;&#1590;&#1609; &#1575;&#1586; &#1575;&#1604;&#1586;&#1575;&#1605;&#1575;&#1578; &#1605;&#1575;&#1609; &#1575;&#1587; &#1603;&#1610;&#1608; &#1575;&#1604; &#1576;&#1583;&#1608;&#1606; &#1607;&#1610;&#1670; &#1583;&#1604;&#1610;&#1604;&#1609; &#1662;&#1584;&#1610;&#1585;&#1601;&#1578;&#1607; &#1606;&#1605;&#1610;&#1588;&#1608;&#1606;&#1583;&#1548; &#1575;&#1610;&#1606; &#1575;&#1581;&#1578;&#1605;&#1575;&#1604; &#1608;&#1580;&#1608;&#1583; &#1583;&#1575;&#1585;&#1583; &#1603;&#1607; &#1575;&#1586; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575; &#1576;&#1575;&#1588;&#1583;.    </b><p>
&#1605;&#1575;&#1609; &#1575;&#1587; &#1603;&#1610;&#1608;&#1575;&#1604; &#1578;&#1608;&#1575;&#1606;&#1575;&#1574;&#1609; &#1578;&#1585;&#1605;&#1610;&#1605; &#1580;&#1583;&#1575;&#1608;&#1604;&#1588; &#1585;&#1575; &#1607;&#1606;&#1711;&#1575;&#1605;&#1610;&#1603;&#1607; &#1576;&#1585;&#1575;&#1579;&#1585; &#1581;&#1575;&#1583;&#1579;&#1607; &#1582;&#1585;&#1575;&#1576; &#1588;&#1583;&#1607; &#1576;&#1575;&#1588;&#1606;&#1583; &#1583;&#1575;&#1585;&#1583;.&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1575;&#1602;&#1583;&#1575;&#1605; &#1576;&#1607; &#1578;&#1585;&#1605;&#1610;&#1605; &#1570;&#1606;&#1607;&#1575; &#1603;&#1606;&#1610;&#1583;&#1548; &#1583;&#1585; &#1589;&#1608;&#1585;&#1578; &#1588;&#1603;&#1587;&#1578;&#1548; &#1610;&#1603; &#1603;&#1662;&#1609; &#1575;&#1586; &#1601;&#1607;&#1585;&#1587;&#1578; &#1575;&#1588;&#1603;&#1575;&#1604;&#1575;&#1578; &#1585;&#1575; &#1606;&#1711;&#1607; &#1583;&#1575;&#1585;&#1610;&#1583; <p>
&#1575;&#1711;&#1585; &#1605;&#1588;&#1603;&#1604; &#1581;&#1604; &#1606;&#1588;&#1583;&#1548; &#1576;&#1575; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1578;&#1575;&#1606; &#1578;&#1605;&#1575;&#1587; &#1576;&#1711;&#1610;&#1585;&#1610;&#1583;.',
'texte_restaurer_base' => '&#1605;&#1581;&#1578;&#1608;&#1609; &#1584;&#1582;&#1610;&#1585;&#1607; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1585;&#1575; &#1576;&#1575;&#1586;&#1587;&#1575;&#1586;&#1609; &#1603;&#1606;&#1610;&#1583;',
'texte_restaurer_sauvegarde' => '&#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1576;&#1588;&#1605;&#1575; &#1575;&#1605;&#1603;&#1575;&#1606; &#1576;&#1575;&#1586;&#1587;&#1575;&#1586;&#1609; &#1584;&#1582;&#1610;&#1585;&#1607; &#1575;&#1586; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;. &#1583;&#1585;&#1575;&#1610;&#1606;&#1589;&#1608;&#1585;&#1578; &#1576;&#1575;&#1610;&#1583; &#1601;&#1575;&#1610;&#1604; &#1605;&#1581;&#1578;&#1608;&#1609; &#1584;&#1582;&#1610;&#1585;&#1607; &#1585;&#1575; &#1583;&#1585; &#1575;&#1610;&#1606; &#1585;&#1662;&#1585;&#1578;&#1608;&#1575;&#1585; &#1602;&#1585;&#1575;&#1585; &#1583;&#1607;&#1610;&#1583;.<i>ecrire/data/</i>.
&#1576;&#1575; &#1575;&#1581;&#1578;&#1610;&#1575;&#1591; &#1593;&#1605;&#1604; &#1603;&#1606;&#1610;&#1583; &#1670;&#1608;&#1606; &#1607;&#1585;&#1711;&#1608;&#1606;&#1607; &#1583;&#1587;&#1578;&#1603;&#1575;&#1585;&#1609; &#1610;&#1575; &#1575;&#1586; &#1576;&#1610;&#1606; &#1585;&#1601;&#1578;&#1606; &#1594;&#1610;&#1585;&#1602;&#1575;&#1576;&#1604; &#1576;&#1585;&#1711;&#1588;&#1578; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;.</b>',
'texte_sauvegarde' => '&#1605;&#1581;&#1578;&#1608;&#1609; &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'texte_sauvegarde_base' => '&#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1585;&#1575; &#1584;&#1582;&#1610;&#1585;&#1607; &#1603;&#1606;&#1610;&#1583;',
'texte_sauvegarde_compressee' => '&#1584;&#1582;&#1610;&#1585;&#1607; &#1583;&#1585; &#1601;&#1575;&#1610;&#1604; &#1601;&#1588;&#1585;&#1583;&#1607; &#1606;&#1588;&#1583;&#1607; &#1589;&#1608;&#1585;&#1578; &#1582;&#1608;&#1575;&#1607;&#1583; &#1711;&#1585;&#1601;&#1578;<b>ecrire/data/dump.xml</b>.',
'texte_selection_langue_principale' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1583;&#1585; &#1586;&#1610;&#1585; &#1586;&#1576;&#1575;&#1606; &#1575;&#1589;&#1604;&#1609; &#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576; &#1603;&#1606;&#1610;&#1583;.&#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1588;&#1605;&#1575; &#1585;&#1575; &#1605;&#1580;&#1576;&#1608;&#1585; &#1576;&#1607; &#1606;&#1608;&#1588;&#1578;&#1606; &#1583;&#1585; &#1586;&#1576;&#1575;&#1606; &#1575;&#1606;&#1578;&#1582;&#1575;&#1576;&#1609; &#1606;&#1605;&#1610;&#1603;&#1606;&#1583;&#1548;<ul><li> &#1608;&#1604;&#1609; &#1575;&#1605;&#1603;&#1575;&#1606; &#1578;&#1593;&#1610;&#1610;&#1606; &#1578;&#1575;&#1585;&#1610;&#1582;&#1548; &#1606;&#1608;&#1593; &#1605;&#1608;&#1578;&#1608;&#1585;&#1609; &#1603;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1576;&#1575;&#1610;&#1583; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&!
 #1607; &#1603;&#1606;&#1583; &#1578;&#1575; &#1605;&#1578;&#1608;&#1606; &#1602;&#1575;&#1576;&#1604; &#1585;&#1608;&#1610;&#1578; &#1576;&#1575;&#1588;&#1606;&#1583;&#1548; &#1586;&#1576;&#1575;&#1606; &#1662;&#1585;&#1587;&#1588;&#1606;&#1575;&#1605;&#1607; &#1607;&#1575; &#1583;&#1585; &#1602;&#1587;&#1605;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609; &#1587;&#1575;&#1610;&#1578; &#1608; &#1607;&#1605;&#1670;&#1606;&#1610;&#1606; &#1586;&#1576;&#1575;&#1606; &#1602;&#1587;&#1605;&#1578; &#1582;&#1589;&#1608;&#1589;&#1609; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583;.<ul><li>',
'texte_signification' => '&#1582;&#1591;&#1608;&#1591; &#1662;&#1585; &#1585;&#1606;&#1711; &#1606;&#1605;&#1608;&#1583;&#1575;&#1585; &#1608;&#1585;&#1608;&#1583;&#1610;&#1607;&#1575; (&#1605;&#1580;&#1605;&#1608;&#1593; &#1586;&#1610;&#1585; &#1576;&#1582;&#1588;&#1607;&#1575;) &#1608; &#1582;&#1591;&#1608;&#1591; &#1585;&#1608;&#1588;&#1606; &#1606;&#1588;&#1575;&#1606;&#1711;&#1585; &#1578;&#1593;&#1583;&#1575;&#1583; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1607;&#1585; &#1576;&#1582;&#1588; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;.',
'texte_sous_titre' => '&#1593;&#1606;&#1608;&#1575;&#1606; &#1601;&#1585;&#1593;&#1609;',
'texte_statistiques_visites' => '&#1582;&#1591;&#1608;&#1591; &#1662;&#1585;&#1585;&#1606;&#1711; : &#1610;&#1603;&#1588;&#1606;&#1576;&#1607; /    &#1605;&#1606;&#1581;&#1606;&#1609; &#1662;&#1585;&#1585;&#1606;&#1711; : &#1605;&#1610;&#1575;&#1606;&#1711;&#1610;&#1606; &#1578;&#1581;&#1608;&#1604;&#1575;&#1578;  ',
'texte_statut_attente_validation' => '&#1583;&#1585; &#1575;&#1606;&#1578;&#1592;&#1575;&#1585; &#1578;&#1575;&#1574;&#1610;&#1583;',
'texte_statut_publies' => '&#1576;&#1585;&#1585;&#1608;&#1609; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575; &#1605;&#1606;&#1578;&#1588;&#1585; &#1588;&#1608;&#1583;',
'texte_statut_refuses' => '&#1662;&#1584;&#1610;&#1585;&#1601;&#1578;&#1607; &#1606;&#1588;&#1583;&#1607;',
'texte_suppression_fichiers' => '&#1575;&#1586; &#1575;&#1610;&#1606; &#1601;&#1585;&#1605;&#1575;&#1606; &#1576;&#1585;&#1575;&#1609; &#1581;&#1584;&#1601; &#1578;&#1605;&#1575;&#1605; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575; &#1605;&#1608;&#1580;&#1608;&#1583; &#1583;&#1585; &#1601;&#1575;&#1610;&#1604;&#1607;&#1575;&#1609; &#1605;&#1608;&#1602;&#1578; &#1575;&#1587;&#1662;&#1610;&#1662; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1603;&#1606;&#1610;&#1583;.
&#1575;&#1610;&#1606; &#1576;&#1588;&#1605;&#1575; &#1575;&#1605;&#1603;&#1575;&#1606; &#1606;&#1608; &#1603;&#1585;&#1583;&#1606; &#1578;&#1605;&#1575;&#1605; &#1589;&#1601;&#1581;&#1575;&#1578; &#1585;&#1575; &#1605;&#1610;&#1583;&#1607;&#1583; &#1576;&#1608;&#1610;&#1688;&#1607; &#1575;&#1711;&#1585; &#1588;&#1605;&#1575; &#1578;&#1594;&#1610;&#1610;&#1585;&#1575;&#1578; &#1605;&#1607;&#1605;&#1609; &#1583;&#1585; &#1606;&#1605;&#1575; &#1610;&#1575; &#1583;&#1585; &#1587;&#1575;&#1582;&#1578;&#1575;&#1585; &#1587;&#1575;&#1610;&#1578; &#1583;&#1575;&#1583;&#1607; &#1576;&#1575;&#1588;&#1610;&#1583;.',
'texte_sur_titre' => '&#1587;&#1585; &#1593;&#1606;&#1608;&#1575;&#1606;',
'texte_syndication' => '&#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1591;&#1608;&#1585; &#1582;&#1608;&#1583;&#1603;&#1575;&#1585;&#1548; &#1607;&#1606;&#1711;&#1575;&#1605;&#1610;&#1603;&#1607; &#1587;&#1575;&#1610;&#1578; &#1575;&#1580;&#1575;&#1586;&#1607; &#1583;&#1607;&#1583;&#1548; &#1601;&#1607;&#1585;&#1587;&#1578; &#1578;&#1575;&#1586;&#1607; &#1607;&#1575; &#1585;&#1575; &#1576;&#1711;&#1610;&#1585;&#1610;&#1583;. &#1576;&#1585;&#1575;&#1609; &#1575;&#1610;&#1606; &#1605;&#1606;&#1592;&#1608;&#1585;&#1548; &#1588;&#1605;&#1575; &#1576;&#1575;&#1610;&#1583; &#1711;&#1586;&#1610;&#1606;&#1588; &#1662;&#1610;&#1608;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1609; &#1585;&#1575; &#1601;&#1593;&#1575;&#1604; &#1603;&#1606;&#1610;&#1583;.<blockquote><i>&#1578;&#1593;&#1583;&#1575;&#1583;&#1609; &#1575;&#1586; &#1605;&#1610;&#1586;&#1576;&#1575;&#1606;&#1575;&#1606; &#1575;&#1610;&#1606; &#1593;&#1605;&#1604; &#1585;&#1575; &#!
 1594;&#1610;&#1585;&#1601;&#1593;&#1575;&#1604; &#1603;&#1585;&#1583;&#1607; &#1575;&#1606;&#1583;&#1548; &#1583;&#1585;&#1575;&#1610;&#1606;&#1589;&#1608;&#1585;&#1578; &#1588;&#1605;&#1575; &#1606;&#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1575;&#1586; &#1570;&#1606; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1576;&#1603;&#1606;&#1610;&#1583;.</i></blockquote>',
'texte_table_ok' => '&#1575;&#1610;&#1606; &#1580;&#1583;&#1608;&#1604; &#1583;&#1585;&#1587;&#1578; &#1575;&#1587;&#1578; :',
'texte_tables_indexation_vides' => '&#1580;&#1583;&#1575;&#1608;&#1604; &#1601;&#1607;&#1585;&#1587;&#1578; &#1711;&#1584;&#1575;&#1609; &#1605;&#1608;&#1578;&#1608;&#1585; &#1580;&#1587;&#1578;&#1580;&#1608; &#1582;&#1575;&#1604;&#1609; &#1605;&#1610;&#1576;&#1575;&#1588;&#1606;&#1583;',
'texte_tentative_recuperation' => '&#1603;&#1608;&#1588;&#1588; &#1576;&#1585;&#1575;&#1609; &#1578;&#1593;&#1605;&#1610;&#1585;',
'texte_tenter_reparation' => '&#1575;&#1602;&#1583;&#1575;&#1605; &#1576;&#1607; &#1578;&#1585;&#1605;&#1610;&#1605; &#1583;&#1575;&#1583;&#1607; &#1662;&#1609; &#1607;&#1575; &#1603;&#1606;&#1610;&#1583;',
'texte_test_proxy' => '&#1576;&#1585;&#1575;&#1609; &#1575;&#1605;&#1578;&#1581;&#1575;&#1606; &#1575;&#1610;&#1606; &#1662;&#1585;&#1608;&#1603;&#1587;&#1609;&#1548; &#1570;&#1583;&#1585;&#1587; &#1587;&#1575;&#1610;&#1578; &#1578;&#1575;&#1585;&#1606;&#1605;&#1575;&#1609; &#1605;&#1608;&#1585;&#1583; &#1583;&#1604;&#1582;&#1608;&#1575;&#1607;&#1578;&#1575;&#1606; &#1585;&#1575; &#1583;&#1585; &#1575;&#1610;&#1606;&#1580;&#1575; &#1583;&#1585;&#1580; &#1603;&#1606;&#1610;&#1583;.',
'texte_titre_02' => '&#1593;&#1606;&#1608;&#1575;&#1606; :',
'texte_titre_obligatoire' => '<B>&#1593;&#1606;&#1608;&#1575;&#1606;</b> [&#1575;&#1580;&#1576;&#1575;&#1585;&#1609;]',
'texte_travail_article' => '@nom_auteur_modif@ &#1576;&#1585;&#1608;&#1609; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; @date_diff@ &#1662;&#1610;&#1588; &#1603;&#1575;&#1585; &#1603;&#1585;&#1583;&#1607; &#1575;&#1587;&#1578;.',
'texte_travail_collaboratif' => '&#1575;&#1610;&#1606; &#1575;&#1605;&#1603;&#1575;&#1606; &#1608;&#1580;&#1608;&#1583; &#1583;&#1575;&#1585;&#1583; &#1603;&#1607; &#1610;&#1603; &#1605;&#1602;&#1575;&#1604;&#1607; &#1578;&#1608;&#1587;&#1591; &#1670;&#1606;&#1583; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1606;&#1608;&#1588;&#1578;&#1607; &#1588;&#1583;&#1607; &#1576;&#1575;&#1588;&#1583;. &#1575;&#1587;&#1662;&#1610;&#1662; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1578;&#1575;&#1586;&#1607; &#1608;&#1575;&#1585;&#1583; &#1588;&#1583;&#1607; &#1585;&#1575; &#1606;&#1588;&#1575;&#1606; &#1583;&#1607;&#1583; &#1578;&#1575; &#1575;&#1586; &#1578;&#1594;&#1610;&#1610;&#1585;&#1575;&#1578; &#1607;&#1605;&#1586;&#1605;&#1575;&#1606; &#1580;&#1604;&#1608;&#1711;&#1610;&#1585;&#1609; &#1603;&#1606;&#1583;.
&#1575;&#1610;&#1606; &#1711;&#1586;&#1610;&#1606;&#1588; &#1605;&#1593;&#1605;&#1608;&#1604;&#1575; &#1594;&#1610;&#1585; &#1601;&#1593;&#1575;&#1604; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; &#1578;&#1575; &#1575;&#1586; &#1575;&#1593;&#1604;&#1575;&#1606; &#1582;&#1576;&#1585;&#1607;&#1575;&#1609; &#1576;&#1610;&#1605;&#1608;&#1602;&#1593; &#1580;&#1604;&#1608;&#1711;&#1610;&#1585;&#1609; &#1603;&#1606;&#1583;.
',
'texte_trop_resultats_auteurs' => '&#1575;&#1586;&#1583;&#1610;&#1575;&#1583; &#1606;&#1578;&#1575;&#1610;&#1580; &#1576;&#1585;&#1575;&#1609; :"@cherche_auteur@" &#1582;&#1608;&#1575;&#1607;&#1588;&#1605;&#1606;&#1583; &#1575;&#1587;&#1578; &#1580;&#1587;&#1578;&#1580;&#1608; &#1585;&#1575; &#1583;&#1602;&#1610;&#1602;&#1578;&#1585; &#1603;&#1606;&#1610;&#1583;.',
'texte_unpack' => '&#1575;&#1587;&#1578;&#1602;&#1585;&#1575;&#1585; &#1570;&#1582;&#1585;&#1610;&#1606; &#1606;&#1587;&#1582;&#1607;',
'texte_utilisation_moteur_syndiques' => '&#1607;&#1606;&#1711;&#1575;&#1605;&#1610;&#1603;&#1607; &#1575;&#1586; &#1605;&#1608;&#1578;&#1608;&#1585; &#1580;&#1587;&#1578;&#1580;&#1608;&#1609; &#1575;&#1587;&#1662;&#1610;&#1662; &#1575;&#1587;&#1578;&#1601;&#1575;&#1583;&#1607; &#1605;&#1610;&#1603;&#1606;&#1610;&#1583;&#1548; &#1588;&#1605;&#1575; &#1605;&#1610;&#1578;&#1608;&#1575;&#1606;&#1610;&#1583; &#1576;&#1607; &#1583;&#1608; &#1589;&#1608;&#1585;&#1578; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1608; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575; &#1585;&#1575; &#1580;&#1587;&#1578;&#1580;&#1608; &#1603;&#1606;&#1610;&#1583;.<br><img src=\'puce.gif\'> &#1587;&#1575;&#1583;&#1607; &#1578;&#1585;&#1610;&#1606; &#1585;&#1575;&#1607;&#1548; &#1580;&#1587;&#1578;&#1580;&#1608;&#1609; &#1593;&#1606;&#1575;&#1608;&#1610;&#1606; &#1608; &#1578;&#1608;&#1589;&#1610;&#1601;&#1575;&#1578; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#157!
 5;&#1587;&#1578;. <br><img src=\'puce.gif\'>
&#1585;&#1575;&#1607; &#1583;&#1608;&#1605; &#1603;&#1607; &#1576;&#1587;&#1610;&#1575;&#1585; &#1602;&#1608;&#1609; &#1578;&#1585; &#1575;&#1587;&#1578;&#1548; &#1576;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1575;&#1605;&#1603;&#1575;&#1606; &#1605;&#1610;&#1583;&#1607;&#1583; &#1603;&#1607; &#1583;&#1585;&#1608;&#1606; &#1605;&#1578;&#1608;&#1606; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1585;&#1575; &#1607;&#1605; &#1580;&#1587;&#1578;&#1580;&#1608; &#1603;&#1606;&#1583;.&#1575;&#1711;&#1585; &#1588;&#1605;&#1575; &#1587;&#1575;&#1610;&#1578;&#1609; &#1585;&#1575; &#1662;&#1610;&#1608;&#1606;&#1583; &#1583;&#1607;&#1610;&#1583;&#1548; &#1575;&#1587;&#1662;&#1610;&#1662; &#1580;&#1587;&#1578;&#1580;&#1608; &#1585;&#1575; &#1578;&#1575; &#1605;&#1578;&#1606; &#1587;&#1575;&#1610;&#1578; &#1583;&#1606;&#1576;&#1575;&#1604; &#1605;&#1610;&#1603;&#1606;&#1583;.',
'texte_utilisation_moteur_syndiques_2' => '&#1575;&#1610;&#1606; &#1588;&#1610;&#1608;&#1607; &#1575;&#1587;&#1662;&#1610;&#1662; &#1585;&#1575; &#1605;&#1580;&#1576;&#1608;&#1585; &#1576;&#1607; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1605;&#1606;&#1592;&#1605; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1605;&#1610;&#1603;&#1606;&#1583; 
&#1603;&#1607; &#1576;&#1575;&#1593;&#1579; &#1603;&#1606;&#1583;&#1609; &#1587;&#1585;&#1593;&#1578; &#1583;&#1585; &#1587;&#1575;&#1610;&#1578;&#1578;&#1575;&#1606; &#1582;&#1608;&#1575;&#1607;&#1583; &#1588;&#1583;.',
'texte_vide' => '&#1582;&#1575;&#1604;&#1609;',
'texte_vider_cache' => '&#1601;&#1575;&#1610;&#1604; &#1607;&#1575;&#1609; &#1605;&#1608;&#1602;&#1578; &#1585;&#1575; &#1582;&#1575;&#1604;&#1609; &#1603;&#1606;&#1610;&#1583;',
'titre_admin_effacer' => '&#1606;&#1711;&#1607;&#1583;&#1575;&#1585;&#1609; &#1608; &#1578;&#1593;&#1605;&#1610;&#1585;&#1575;&#1578; &#1601;&#1606;&#1609;',
'titre_admin_tech' => '&#1606;&#1711;&#1607;&#1583;&#1575;&#1585;&#1609; &#1608; &#1578;&#1593;&#1605;&#1610;&#1585;&#1575;&#1578; &#1601;&#1606;&#1609;',
'titre_admin_vider' => '&#1606;&#1711;&#1607;&#1583;&#1575;&#1585;&#1609; &#1608; &#1578;&#1593;&#1605;&#1610;&#1585;&#1575;&#1578; &#1601;&#1606;&#1609;',
'titre_articles_syndiques' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609; &#1711;&#1585;&#1601;&#1578;&#1607; &#1588;&#1583;&#1607; &#1575;&#1586; &#1575;&#1610;&#1606; &#1587;&#1575;&#1610;&#1578;',
'titre_breves' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1603;&#1608;&#1578;&#1575;&#1607;',
'titre_cadre_afficher_article' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1585;&#1575; &#1606;&#1605;&#1575;&#1610;&#1588; &#1583;&#1607;&#1610;&#1583;',
'titre_cadre_afficher_traductions' => ' &#1608;&#1590;&#1593;&#1610;&#1578; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606;&#1607;&#1575; &#1585;&#1575; &#1576;&#1585;&#1575;&#1609; &#1586;&#1576;&#1575;&#1606;&#1607;&#1575;&#1610; &#1586;&#1610;&#1585; &#1606;&#1588;&#1575;&#1606; &#1583;&#1607;&#1610;&#1583; :',
'titre_cadre_ajouter_auteur' => '&#1610;&#1603; &#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1575;&#1590;&#1575;&#1601;&#1607; &#1603;&#1606;&#1610;&#1583; :',
'titre_cadre_forum_administrateur' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1582;&#1589;&#1608;&#1589;&#1609; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;',
'titre_cadre_forum_interne' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1583;&#1575;&#1582;&#1604;&#1609;',
'titre_cadre_interieur_rubrique' => '&#1583;&#1585; &#1583;&#1575;&#1582;&#1604; &#1576;&#1582;&#1588;',
'titre_cadre_numero_auteur' => '&#1606;&#1608;&#1610;&#1587;&#1606;&#1583;&#1607; &#1588;&#1605;&#1575;&#1585;&#1607;',
'titre_cadre_signature_obligatoire' => '<B>&#1575;&#1605;&#1590;&#1575;</b> [&#1575;&#1580;&#1576;&#1575;&#1585;&#1609;]<BR>',
'titre_config_fonctions' => '&#1662;&#1610;&#1603;&#1585;&#1576;&#1606;&#1583;&#1609; &#1587;&#1575;&#1610;&#1578;',
'titre_config_groupe_mots_cles' => '&#1662;&#1610;&#1603;&#1585;&#1576;&#1606;&#1583;&#1609; &#1711;&#1585;&#1608;&#1607; &#1607;&#1575;&#1609; &#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575;',
'titre_configuration' => '&#1662;&#1610;&#1603;&#1585;&#1576;&#1606;&#1583;&#1609; &#1587;&#1575;&#1610;&#1578;',
'titre_connexion_ldap' => '&#1711;&#1586;&#1610;&#1606;&#1588; : <B>&#1575;&#1578;&#1589;&#1575;&#1604; LDAP</b>',
'titre_dernier_article_syndique' => '&#1570;&#1582;&#1585;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609;',
'titre_documents_joints' => '&#1575;&#1587;&#1606;&#1575;&#1583; &#1662;&#1610;&#1608;&#1587;&#1578;&#1607;',
'titre_evolution_visite' => '&#1578;&#1581;&#1608;&#1604; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1607;&#1575;',
'titre_forum_suivi' => '&#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; ',
'titre_gauche_mots_edit' => '&#1608;&#1575;&#1688;&#1607; &#1588;&#1605;&#1575;&#1585;&#1607; :',
'titre_groupe_mots' => '&#1711;&#1585;&#1608;&#1607; &#1608;&#1575;&#1688;&#1607; &#1607;&#1575; :',
'titre_langue_article' => '&#1586;&#1576;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607;',
'titre_langue_breve' => '&#1586;&#1576;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607;',
'titre_langue_rubrique' => '&#1586;&#1576;&#1575;&#1606; &#1576;&#1582;&#1588;',
'titre_langue_trad_article' => '&#1586;&#1576;&#1575;&#1606; &#1608; &#1578;&#1585;&#1580;&#1605;&#1607; &#1607;&#1575;&#1609; &#1605;&#1602;&#1575;&#1604;&#1607; ',
'titre_les_articles' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
'titre_mots_cles_dans_forum' => '&#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575;&#1609; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1587;&#1575;&#1610;&#1578; &#1607;&#1605;&#1711;&#1575;&#1606;&#1609;',
'titre_mots_tous' => '&#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575;',
'titre_naviguer_dans_le_site' => '&#1583;&#1585; &#1587;&#1575;&#1610;&#1578; &#1711;&#1585;&#1583;&#1588; &#1603;&#1606;&#1610;&#1583;',
'titre_nouveau_groupe' => '&#1711;&#1585;&#1608;&#1607; &#1580;&#1583;&#1610;&#1583;',
'titre_nouvelle_breve' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; &#1580;&#1583;&#1610;&#1583;',
'titre_nouvelle_rubrique' => '&#1576;&#1582;&#1588; &#1580;&#1583;&#1610;&#1583;',
'titre_numero_rubrique' => '&#1576;&#1582;&#1588; &#1588;&#1605;&#1575;&#1585;&#1607;&nbsp;:',
'titre_page_admin_effacer' => '&#1606;&#1711;&#1607;&#1583;&#1575;&#1585;&#1609; &#1608; &#1578;&#1593;&#1605;&#1610;&#1585; &#1587;&#1575;&#1610;&#1578; : &#1662;&#1575;&#1610;&#1711;&#1575;&#1607; &#1585;&#1575; &#1662;&#1575;&#1603; &#1603;&#1606;&#1610;&#1583;',
'titre_page_articles_edit' => '&#1575;&#1589;&#1604;&#1575;&#1581; &#1603;&#1606;&#1610;&#1583; :@titre@',
'titre_page_articles_page' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
'titre_page_articles_tous' => '&#1578;&#1605;&#1575;&#1605; &#1587;&#1575;&#1610;&#1578;',
'titre_page_auteurs' => '&#1576;&#1575;&#1586;&#1583;&#1610;&#1583; &#1603;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606;',
'titre_page_breves' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1603;&#1608;&#1578;&#1575;&#1607;',
'titre_page_breves_edit' => ' &#1575;&#1589;&#1604;&#1575;&#1581; &#1605;&#1602;&#1575;&#1604;&#1607; &#1603;&#1608;&#1578;&#1575;&#1607; : &laquo; @titre@ &raquo;',
'titre_page_calendrier' => '&#1587;&#1575;&#1604;&#1606;&#1605;&#1575; @nom_mois@ @annee@',
'titre_page_config_contenu' => '&#1662;&#1610;&#1603;&#1585;&#1576;&#1606;&#1583;&#1609; &#1587;&#1575;&#1610;&#1578;',
'titre_page_config_fonctions' => '&#1662;&#1610;&#1603;&#1585;&#1576;&#1606;&#1583;&#1609; &#1587;&#1575;&#1610;&#1578;',
'titre_page_configuration' => '&#1662;&#1610;&#1603;&#1585;&#1576;&#1606;&#1583;&#1609; &#1587;&#1575;&#1610;&#1578;',
'titre_page_controle_petition' => '&#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578;',
'titre_page_delete_all' => '&#1581;&#1584;&#1601; &#1603;&#1575;&#1605;&#1604; &#1608; &#1594;&#1610;&#1585; &#1602;&#1575;&#1576;&#1604; &#1576;&#1585;&#1711;&#1588;&#1578;',
'titre_page_documents_liste' => '&#1575;&#1587;&#1606;&#1575;&#1583; &#1576;&#1582;&#1588;&#1607;&#1575;',
'titre_page_forum' => '&#1587;&#1582;&#1606;&#1711;&#1575;&#1607; &#1711;&#1585;&#1583;&#1575;&#1606;&#1606;&#1583;&#1711;&#1575;&#1606; &#1587;&#1575;&#1610;&#1578;',
'titre_page_forum_envoi' => '&#1610;&#1603; &#1662;&#1610;&#1575;&#1605; &#1576;&#1601;&#1585;&#1587;&#1578;&#1610;&#1583;',
'titre_page_forum_suivi' => '&#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1587;&#1582;&#1606;&#1711;&#1575;&#1607;',
'titre_page_index' => '&#1605;&#1581;&#1608;&#1591;&#1607; &#1588;&#1582;&#1589;&#1610; &#1578;&#1575;&#1606;',
'titre_page_message_edit' => '&#1610;&#1603; &#1662;&#1610;&#1575;&#1605; &#1576;&#1606;&#1608;&#1610;&#1587;&#1610;&#1583;',
'titre_page_messagerie' => '&#1662;&#1610;&#1575;&#1605; &#1711;&#1610;&#1585;&#1578;&#1575;&#1606;',
'titre_page_mots_tous' => '&#1608;&#1575;&#1688;&#1607;-&#1603;&#1604;&#1610;&#1583;&#1607;&#1575;',
'titre_page_recherche' => '&#1606;&#1578;&#1575;&#1610;&#1580; &#1580;&#1587;&#1578;&#1580;&#1608;&#1609;@recherche@',
'titre_page_sites_tous' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593;',
'titre_page_statistiques' => '&#1570;&#1605;&#1575;&#1585; &#1576;&#1585;&#1575;&#1609; &#1607;&#1585; &#1576;&#1582;&#1588;',
'titre_page_statistiques_referers' => '&#1570;&#1605;&#1575;&#1585; (&#1662;&#1610;&#1608;&#1606;&#1583;&#1607;&#1575;&#1609; &#1608;&#1575;&#1585;&#1583; &#1588;&#1583;&#1607;)',
'titre_page_statistiques_visites' => '&#1570;&#1605;&#1575;&#1585; &#1576;&#1575;&#1586;&#1583;&#1610;&#1583;&#1607;&#1575;',
'titre_page_upgrade' => '&#1607;&#1605;&#1587;&#1575;&#1606; &#1603;&#1585;&#1583;&#1606; &#1575;&#1587;&#1662;&#1610;&#1662;',
'titre_publication_articles_post_dates' => '&#1575;&#1606;&#1578;&#1588;&#1575;&#1585; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1576;&#1575; &#1578;&#1575;&#1585;&#1610;&#1582; &#1570;&#1610;&#1606;&#1583;&#1607;',
'titre_referencement_sites' => '&#1575;&#1585;&#1580;&#1575;&#1593; &#1608; &#1662;&#1610;&#1608;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575; ',
'titre_referencer_site' => '&#1587;&#1575;&#1610;&#1578; &#1585;&#1575; &#1575;&#1585;&#1580;&#1575;&#1593; &#1583;&#1607;&#1610;&#1583; : ',
'titre_rendez_vous' => '&#1605;&#1604;&#1575;&#1602;&#1575;&#1578; :',
'titre_reparation' => '&#1578;&#1593;&#1605;&#1610;&#1585;',
'titre_site_numero' => '&#1587;&#1575;&#1610;&#1578; &#1588;&#1605;&#1575;&#1585;&#1607; :',
'titre_sites_proposes' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1588;&#1606;&#1607;&#1575;&#1583;&#1609;',
'titre_sites_references_rubrique' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1583;&#1585; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588;',
'titre_sites_syndiques' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609;',
'titre_sites_tous' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593;',
'titre_suivi_petition' => '&#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578;&#1607;&#1575;',
'titre_syndication' => '&#1662;&#1610;&#1608;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;',
'trad_article_inexistant' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1575;&#1609; &#1576;&#1575; &#1575;&#1610;&#1606; &#1588;&#1605;&#1575;&#1585;&#1607; &#1610;&#1575;&#1601;&#1578; &#1606;&#1605;&#1610;&#1588;&#1608;&#1583;.',
'trad_article_traduction' => '&#1578;&#1605;&#1575;&#1605; &#1578;&#1585;&#1580;&#1605;&#1607; &#1607;&#1575;&#1609; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; :',
'trad_deja_traduit' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607;&#1548; &#1582;&#1608;&#1583; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1581;&#1575;&#1590;&#1585; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
'trad_delier' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1585;&#1575; &#1583;&#1610;&#1711;&#1585; &#1576;&#1607; &#1575;&#1610;&#1606; &#1578;&#1585;&#1580;&#1605;&#1607; &#1607;&#1575; &#1662;&#1610;&#1608;&#1606;&#1583; &#1606;&#1583;&#1607;&#1610;&#1583;.',
'trad_lier' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1588;&#1605;&#1575;&#1585;&#1607; &#1586;&#1610;&#1585; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; :',
'trad_new' => '&#1610;&#1603; &#1578;&#1585;&#1580;&#1605;&#1607; &#1580;&#1583;&#1610;&#1583; &#1575;&#1586; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1576;&#1603;&#1606;&#1610;&#1583;',


// V
'version_initiale' => '&#1606;&#1587;&#1582;&#1607; &#1609; &#1606;&#1582;&#1587;&#1578;'

);


?>

--- NEW FILE: ecrire_oc_prv.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article fa @date_diff@ minutas',
'avis_aucun_resultat' => 'Ges de resultat.',
'avis_chemin_invalide_1' => 'Lo camin qu\'av&egrave;tz chausit',
'avis_chemin_invalide_2' => 'sembla pas valid. Vougatz tornar a la pagina anteriora per verificar leis informacions fornidas.',
'avis_connexion_echec_1' => 'La connexion au servidor MySQL s\'es encalada.',
'avis_connexion_echec_2' => 'Tornatz a la pagina anteriora, e verificatz leis informacions qu\'av&egrave;tz fornidas.',
'avis_connexion_echec_3' => '<B>N.B.</b> Sus f&ograve;r&ccedil;a servidors, dev&egrave;tz <B>demandar</b> qu\'activen v&ograve;stre acc&egrave;s a la basa MySQL avans de la poder utilizar. Se vos pod&egrave;tz pas connectar, verificatz qu\'agatz ben realizat aqueu procediment.',
'avis_connexion_ldap_echec_1' => 'La connexion au servidor LDAP s\'es encalada.',
'avis_connexion_ldap_echec_2' => 'Tornatz a la pagina anteriora, e verificatz leis informacions qu\'av&egrave;tz fornidas. ',
[...996 lines suppressed...]
'titre_sites_references_rubrique' => 'Lei sits referenciats dins aquela rubrica',
'titre_sites_syndiques' => 'Lei sits sindicats',
'titre_sites_tous' => 'Lei sits referenciats',
'titre_suivi_petition' => 'Seguit dei peticions',
'titre_syndication' => 'Sindicacion de sits',
'trad_article_inexistant' => 'I a ges d\'article que p&ograve;rte aqueu num&egrave;ro.',
'trad_article_traduction' => 'Totei lei versions d\'aquel article:',
'trad_deja_traduit' => 'Aquel article ja es una revirada de l\'article present.',
'trad_delier' => 'Cessar de liar aquest article a sei reviradas ',
'trad_lier' => 'Aquest article es una revirada de l\'article num&egrave;ro:',
'trad_new' => 'Escriure una revirada nov&egrave;la d\'aquest article',


// V
'version_initiale' => 'Version iniciala'

);


?>

--- NEW FILE: ecrire_es.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Esta parte de la ayuda en l&iacute;nea a&uacute;n no est&aacute;  disponible en este idioma.',
'avis_acces_interdit' => 'Acceso prohibido.',
'avis_article_modifie' => 'Atenci&oacute;n, @nom_auteur_modif@ trabaj&oacute; en este art&iacute;culo hace @date_diff@ minutos.',
'avis_aucun_resultat' => 'Ning&uacute;n resultado.',
'avis_chemin_invalide_1' => 'La ruta escogida',
'avis_chemin_invalide_2' => 'no parece correcta. Regresa a la p&aacute;gina precedente y comprueba las informaciones introducidas.',
'avis_connexion_echec_1' => 'Fall&oacute; la conexi&oacute;n al servidor MySQL.',
'avis_connexion_echec_2' => 'Regresa a la p&aacute;gina precedente y verifica las informaciones introducidas.',
'avis_connexion_echec_3' => '<B>OjO:</B> En muchos servidores, es necesario <B>pedir</B> la activaci&oacute;n del acceso a la base MySQL antes de poder usarla. Si no puedes conectarte, verifica que hiciste dicho tr&aacute;mite.',
'avis_connexion_ldap_echec_1' => 'La conexi&oacute;n al servidor LDAP ha fallado.',
'avis_connexion_ldap_echec_2' => 'Regresa a la p&aacute;gina anterior y comprueba las informaciones introducidas.',
'avis_connexion_ldap_echec_3' => 'Alternativamente, no utilices el soporte LDAP para importar usuarios.',
'avis_conseil_selection_mot_cle' => '<b>Grupo importante:</b> Se aconseja seleccionar una palabra clave de este grupo.',
'avis_deplacement_rubrique' => '&iexcl;ATENCI&Oacute;N! Esta secci&oacute;n contiene @contient_breves@ breve at scb@. Si la desplazas, activa esta casilla de confirmaci&oacute;n.',
'avis_destinataire_obligatoire' => 'Debes indicar un destinatario antes de enviar este mensaje.',
'avis_erreur_connexion_mysql' => 'Error de conexi&oacute;n MySQL',
'avis_erreur_version_archive' => '<B>&iexcl;ATENCI&Oacute;N! El fichero @archive@ corresponde a otra versi&oacute;n de SPIP, diferente a la instalada.</b> Te arriesgas a tener grandes problemas: destrucci&oacute;n de tu base de datos, disfuncionamientos varios del sitio, etc. No valides esta importaci&oacute;n.<p>Para mayor informaci&oacute;n, ver
 <a href=\'http://www.spip.net/es_article2436.html\'>la documentaci&oacute;n de SPIP</a>.',
'avis_espace_interdit' => '<B>Espacio prohibido</B><p>SPIP ya est&aacute; instalado.',
'avis_lecture_noms_bases_1' => 'El programa de instalaci&oacute;n no logr&oacute; leer los nombres de las bases de datos instaladas.',
'avis_lecture_noms_bases_2' => 'Dos posibilidades: o no hay ninguna base disponible o la funci&oacute;n de listado de las bases fue desactivada por razones de seguridad (caso frecuente en muchos servidores).',
'avis_lecture_noms_bases_3' => 'En el segundo caso, es probable que una base que tenga como nombre tu login sea utilizable:',
'avis_non_acces_message' => 'No tienes acceso a ese mensaje.',
'avis_non_acces_page' => 'No tienes acceso a esa p&aacute;gina.',
'avis_operation_echec' => 'La operaci&oacute;n ha fallado.',
'avis_probleme_archive' => 'Problema de lectura del fichero @archive@',
'avis_site_introuvable' => 'No se encuentra el sitio',
'avis_site_syndique_probleme' => 'ATENCI&Oacute;N: la sindicaci&oacute;n de ese sitio encuentra problemas. El sistema ha sido interrumpido por el momento. Verifica la direcci&oacute;n del fichero de sindicaci&oacute;n de ese sitio (<b>@url_syndic@</b>), e intenta una nueva recuperaci&oacute;n de las informaciones.',
'avis_sites_probleme_syndication' => 'Estos sitios tienen un problema de sindicaci&oacute;n',
'avis_sites_syndiques_probleme' => 'Estos sitios sindicados tienen problemas',
'avis_suppression_base' => '&iexcl;ATENCI&Oacute;N, la supresi&oacute;n de datos es irreversible!',
'avis_version_mysql' => 'Tu versi&oacute;n de MySQL (@version_mysql@) no permite la auto-reparaci&oacute;n de tablas en la base.',


// B
'bouton_acces_ldap' => 'A&ntilde;adir el acceso a LDAP >>',
'bouton_ajouter' => 'A&ntilde;adir',
'bouton_ajouter_participant' => 'A&Ntilde;ADIR UN PARTICIPANTE:',
'bouton_annonce' => 'ANUNCIO',
'bouton_checkbox_envoi_message' => 'posibilidad de enviar un mensaje',
'bouton_checkbox_indiquer_site' => 'indicar obligatoriamente un sitio Web',
'bouton_checkbox_qui_attribue_mot_cle_administrateurs' => 'los administradores y administradoras del sitio',
'bouton_checkbox_qui_attribue_mot_cle_redacteurs' => 'Redactoras y redactores',
'bouton_checkbox_qui_attribue_mot_cle_visiteurs' => 'visitantes del sitio p&uacute;bico, cuando se expresan en los foros p&uacute;blicos.',
'bouton_checkbox_signature_unique_email' => 'una sola firma por correo electr&oacute;nico',
'bouton_checkbox_signature_unique_site' => 'una sola firma por sitio Web',
'bouton_demande_publication' => 'Pedir la publicaci&oacute;n de este art&iacute;culo',
'bouton_effacer_index' => 'Borrar los &iacute;ndices',
'bouton_effacer_tout' => '&iexcl;Borrar TODO!',
'bouton_envoi_message_02' => 'ENVIAR UN MENSAJE',
'bouton_envoyer_message' => 'Mensaje definitivo: enviar',
'bouton_forum_petition' => 'Foro y petici&oacute;n',
'bouton_modifier' => 'Modificar',
'bouton_pense_bete' => 'RECORDATORIO PERSONAL',
'bouton_radio_activer_messagerie' => 'Activar la mensajer&iacute;a interna',
'bouton_radio_activer_messagerie_interne' => 'Activar la mensajer&iacute;a interna',
'bouton_radio_activer_petition' => 'Activar la petici&oacute;n',
'bouton_radio_afficher' => 'Mostrar',
'bouton_radio_apparaitre_liste_redacteurs_connectes' => 'Aparecer en la lista de redactores y redactoras conectados',
'bouton_radio_articles_futurs' => 'a los art&iacute;culos futuros solamente (no modifica la base de datos).',
'bouton_radio_articles_tous' => 'a todos los art&iacute;culos sin excepci&oacute;n.',
'bouton_radio_articles_tous_sauf_forum_desactive' => 'a todos los art&iacute;culos, salvo aquellos cuyo foro est&aacute; desactivado.',
'bouton_radio_desactiver_messagerie' => 'Desactivar le mensajer&iacute;a',
'bouton_radio_enregistrement_obligatoire' => 'Inscripci&oacute;n obligatoria (es necesario inscribirse dando su correo electr&oacute;nico antes de poder participar en el foro).',
'bouton_radio_envoi_annonces_adresse' => 'Enviar los anuncios a la direcci&oacute;n:',
'bouton_radio_envoi_liste_nouveautes' => 'Enviar la lista de novedades',
'bouton_radio_moderation_priori' => 'Moderado a priori (las contribuciones no aparecen hasta ser validadas por una persona con derechos de administraci&oacute;n en el sitio).',
'bouton_radio_modere_abonnement' => 'moderado (s&oacute;lo para abonados)',
'bouton_radio_modere_posteriori' => 'moderado a posteriori',
'bouton_radio_modere_priori' => 'moderado a priori',
'bouton_radio_non_apparaitre_liste_redacteurs_connectes' => 'No aparecer en la lista de redactores y redactoras',
'bouton_radio_non_envoi_annonces_editoriales' => 'No enviar anuncios editoriales',
'bouton_radio_non_syndication' => 'Ninguna sindicaci&oacute;n',
'bouton_radio_occidental' => 'Alfabeto occidental (<tt>iso-8859-1</tt>):
 permite principalmente visualizar las idiomas de Europa del oeste (ingl&eacute;s, franc&eacute;s, alem&aacute;n...);
 sin embargo SPIP permite manejar relativamente bien los otros idiomas.',
'bouton_radio_pas_petition' => 'Sin petici&oacute;n',
'bouton_radio_personnalise' => 'Juego de caracteres personalizado. Seleccionar esta opci&oacute;n para utilizar un juego de caracteres espec&iacute;fico.',
'bouton_radio_petition_activee' => 'Petici&oacute;n activada',
'bouton_radio_publication_immediate' => 'Publicaci&oacute;n inmediata de los mensajes (las contribuciones aparecen en cuanto enviadas, pueden suprimirse posteriormente desde la administraci&oacute;n).',
'bouton_radio_sauvegarde_compressee' => 'copia comprimida en <b>ecrire/data/dump.xml.gz</b>',
'bouton_radio_sauvegarde_non_compressee' => 'copia no comprimida en <b>ecrire/data/dump.xml</b>',
'bouton_radio_supprimer_petition' => 'Suprimir la petici&oacute;n',
'bouton_radio_syndication' => 'Sindicaci&oacute;n',
'bouton_radio_universel' => 'Alfabeto universal (<tt>utf-8</tt>): permite visualizar todas las lenguas, pero puede plantear problemas de compatibilidad con los sofwares utilizados para modificar los esqueletos y con ciertos lectores de correo electr&oacute;nico.',
'bouton_redirection' => 'Redirecci&oacute;n',
'bouton_relancer_installation' => 'Relanzar la instalaci&oacute;n',
'bouton_restaurer_base' => 'Restaurar la base',
'bouton_suivant' => 'Siguiente',
'bouton_tenter_recuperation' => 'Intentar reparar',
'bouton_test_proxy' => 'Probar el proxy',
'bouton_vider_cache' => 'Vaciar la cach&eacute;',
'bouton_voir_message' => 'Ver el mensaje antes de enviarlo',


// C
'cache_mode_compresse' => 'Los ficheros de cach&eacute; se guardan en modo comprimido.',
'cache_mode_non_compresse' => 'Los ficheros de cach&eacute; se guardan en modo no comprimido.',
'cache_modifiable_webmestre' => 'Estos par&aacute;metros son modificables por la webmistress del sitio.',
'calendrier_synchro' => 'Si utilizas un software de agenda compatible <b>iCal</b>, puedes sincronizarlo con la actualidad editorial de este sitio.',


// D
'date_mot_heures' => 'horas',
'diff_para_ajoute' => 'P&aacute;rrafo a&ntilde;adido',
'diff_para_deplace' => 'P&aacute;rrafo desplazado',
'diff_para_supprime' => 'P&aacute;rrafo suprimido',
'diff_texte_ajoute' => 'Texto a&ntilde;adido',
'diff_texte_deplace' => 'Texto desplazado',
'diff_texte_supprime' => 'Texto suprimido',


// E
'email' => 'correo electr&oacute;nico',
'email_2' => 'correo electr&oacute;nico:',
'entree_adresse_annuaire' => 'Direcci&oacute;n del anuario',
'entree_adresse_email' => 'Tu correo electr&oacute;nico',
'entree_adresse_fichier_syndication' => 'Direcci&oacute;n del fichero "backend" para la sindicaci&oacute;n.',
'entree_adresse_site' => '<b>Direcci&oacute;n del sitio</b> [Obligatorio]',
'entree_base_donnee_1' => 'Direcci&oacute;n de la base de datos',
'entree_base_donnee_2' => '(A menudo esta direcci&oacute;n corresponde a la de tu sitio, a veces corresponde a la menci&oacute;n &laquo;localhost&raquo; y, en ocasiones, se deja totalmente vac&iacute;a.)',
'entree_biographie' => 'Una corta biograf&iacute;a, en pocas palabras...',
'entree_breve_publiee' => '&iquest;Publicamos &eacute;sta breve?',
'entree_chemin_acces' => '<B>Entrar</B> el camino de acceso:',
'entree_cle_pgp' => 'Tu clave PGP',
'entree_contenu_rubrique' => '(Contenido de la secci&oacute;n, en pocas palabras)',
'entree_description_site' => 'Descripci&oacute;n del sitio',
'entree_identifiants_connexion' => 'Tus identificadores de conexi&oacute;n...',
'entree_informations_connexion_ldap' => 'Entra en este formulario las informaciones de conexi&oacute;n a tu anuario LDAP. Tales informaciones te ser&aacute;n transmitidas por el administrador del sistema o de la red.',
'entree_infos_perso' => '&iquest;Qui&eacute;n eres?',
'entree_interieur_rubrique' => 'En el interior de la secci&oacute;n...',
'entree_liens_sites' => '<B>Enlace hipertexto </B>(referencia del sitio a visitar)',
'entree_login' => 'Tu login',
'entree_login_connexion_1' => 'Tu identificante de conexi&oacute;n',
'entree_login_connexion_2' => '(A veces corresponde al login de conexi&oacute;n y a veces se deja vac&iacute;o)',
'entree_login_ldap' => 'Login LDAP inicial',
'entree_mot_passe' => 'Tu contrase&ntilde;a',
'entree_mot_passe_1' => 'Tu contrase&ntilde;a de conexi&oacute;n',
'entree_mot_passe_2' => '(A veces corresponde a tu contrase&ntilde;a FTP y a veces se deja en blanco)',
'entree_nom_fichier' => 'Introducir el nombre del fichero @texte_compresse@:',
'entree_nom_pseudo' => 'Tu nombre o seud&oacute;nimo',
'entree_nom_pseudo_1' => '(Tu nombre o seud&oacute;nimo)',
'entree_nom_site' => 'El nombre de tu sitio',
'entree_nouveau_passe' => 'Nueva contrase&ntilde;a',
'entree_passe_ldap' => 'Tu contrase&ntilde;a',
'entree_port_annuaire' => 'El n&uacute;mero de puerto del anuario',
'entree_signature' => 'Firma',
'entree_texte_breve' => 'Texto de la breve',
'entree_titre_obligatoire' => '<B>T&iacute;tulo</B> [Obligatorio]<BR>',
'entree_url' => 'La direcci&oacute;n (URL) de tu sitio',


// I
'ical_info1' => 'En esta p&aacute;gina se presentan diferentes maneras de quedar en contacto con la vida del sitio.',
'ical_info2' => 'Para mayor informaci&oacute;n sobre todas estas t&eacute;cnicas, no dudes en consultar <a href="http://www.spip.net/fr_suivi">la documentaci&oacute;n de SPIP</a>.',
'ical_info_calendrier' => 'Tienes dos calendarios a tu disposici&oacute;n. El primero es un plano del sitio que anuncia todos los art&iacute;culos publicados. El segundo contiene los anuncios editoriales y tus &uacute;ltimos mensajes privados: s&oacute;lo t&uacute;lo v&eacute;s gracias a una clave personal, que podr&aacute;s modificar en cualquier momento modificando tu contrase&ntilde;a. ',
'ical_methode_http' => 'Descargar',
'ical_methode_webcal' => 'Sincronizaci&oacute;n (webcal://)',
'ical_texte_js' => 'Una l&iacute;nea de javascript te permite mostrar muy simplemente, en cualquier sitio que te pertenece, los art&iacute;culos recientes publicados en este sitio.',
'ical_texte_prive' => 'Este calendario, de uso estrictamente personal, te informa de la actividad editorial privada de este sitio (tareas y citas personales, art&iacute;culos y breves propuestos...)',
'ical_texte_public' => 'Este calendariopermite seguir la actividad p&uacute;blica de este sitio (art&iacute;culos y breves publicados)',
'ical_texte_rss' => 'Puedes sindicar las novedades de este sitio con cualquier lector de ficheros al formato XML/RSS (Rich Site Summary). Igualmente, SPIP puede leer las novedades publicadas en otros sitios que utilizan un formato de intercambio compatible (sitios sindicados). ',
'ical_titre_js' => 'Javascript',
'ical_titre_mailing' => 'Lista de correo',
'ical_titre_rss' => 'Ficheros &laquo;backend&raquo;',
'icone_activer_cookie' => 'Activar la "cookie" de correspondencia',
'icone_afficher_auteurs' => 'Mostrar los autores y autoras',
'icone_afficher_visiteurs' => 'Mostrar los y las visitantes',
'icone_arret_discussion' => 'No participar m&aacute;s en este di&aacute;logo',
'icone_calendrier' => 'Calendario',
'icone_creation_groupe_mots' => 'Crear un nuevo grupo de palabras',
'icone_creation_mots_cles' => 'Crear una nueva palabra clave',
'icone_creer_auteur' => 'Crear un nuevo autor o autora y asociarla a este art&iacute;culo',
'icone_creer_rubrique_2' => 'Crear una nueva secci&oacute;n',
'icone_ecrire_nouvel_article' => 'Las breves de esta secci&oacute;n',
'icone_envoyer_message' => 'Enviar el mensaje',
'icone_evolution_visites' => 'Evoluci&oacute;n de las visitas<br>@visites@ visitas',
'icone_modif_groupe_mots' => 'Modificar este grupo de palabras',
'icone_modifier_article' => 'Modificar este art&iacute;culo',
'icone_modifier_breve' => 'Modificar esta breve',
'icone_modifier_message' => 'Modificar el mensaje',
'icone_modifier_rubrique' => 'Modificar esta secci&oacute;n',
'icone_modifier_site' => 'Modificar este sitio',
'icone_poster_message' => 'Enviar un mensaje',
'icone_publier_breve' => 'Publicar esta breve',
'icone_referencer_nouveau_site' => 'Referenciar un nuevo sitio',
'icone_refuser_breve' => 'Rechazar esta breve',
'icone_retour' => 'Volver',
'icone_retour_article' => 'Volver al art&iacute;culo',
'icone_suivi_forum' => 'Actualidad del foro p&uacute;blico: @nb_forums@ contribuci&oacute;n(es)',
'icone_supprimer_cookie' => 'Suprimir la "cookie" de correspondencia',
'icone_supprimer_groupe_mots' => 'Suprimir este grupo',
'icone_supprimer_rubrique' => 'Suprimir esta secci&oacute;n',
'icone_supprimer_signature' => 'Suprimir esta firma',
'icone_valider_signature' => 'Validar esta firma',
'icone_voir_sites_references' => 'Ver los sitios referenciados',
'icone_voir_tous_mots_cles' => 'Ver todas las palabras clave',
'image_administrer_rubrique' => 'Puedes administrar esta secci&oacute;n',
'info_1_article' => '1 art&iacute;culo',
'info_1_breve' => '1 breve',
'info_1_site' => '1 sitio',
'info_activer_cookie' => 'Puedes activar una <b>"cookie" de correspondencia</b>, que te permite actualizar p&aacute;ginas y pasar f&aacute;cilmente de la parte p&uacute;blica a la redacci&oacute;n.',
'info_activer_forum_public' => '<I>Para activar los foros p&uacute;blicos, seleccionar un modo de moderaci&oacute;n</I>',
'info_admin_gere_rubriques' => 'Esta persona administra las secciones siguientes :',
'info_admin_gere_toutes_rubriques' => 'Este administrador gestiona <b>todas las secciones</b>.',
'info_administrateur' => 'Administrador o administradora',
'info_administrateur_1' => 'Administrador',
'info_administrateur_2' => 'del sitio (<i>a utilizar con precauci&oacute;n</i>)',
'info_administrateur_site_01' => 'Si tienes derechos de administraci&oacute;n, se ruega',
'info_administrateur_site_02' => 'Cliquea en este enlace',
'info_administrateurs' => 'Administradores',
'info_administrer_rubrique' => 'Puedes administrar esta secci&oacute;n',
'info_adresse' => 'a la direcci&oacute;n:',
'info_adresse_email' => 'Direcci&oacute;n de correo electr&oacute;nico:',
'info_adresse_url' => 'Direcci&oacute;n (URL) del sitio p&uacute;blico',
'info_afficher_visites' => 'Mostrar las visitas para:',
'info_affichier_visites_articles_plus_visites' => 'Mostrar las visitas de <b>los art&iacute;culos m&aacute;s visitados desde el inicio:</b>',
'info_aide_en_ligne' => 'Ayuda en l&iacute;nea de SPIP',
'info_ajout_image' => 'Cuando se a&ntilde;aden im&aacute;genes en tanto que documentos SPIP puede crear autom&aacute;ticamente iconos de estas im&aacute;genes insertadas (miniaturas). Resulta &uacute;til, por ejemplo, para crear una galer&iacute;a o portafolio.',
'info_ajout_participant' => 'El participante siguiente ha sido a&ntilde;adido:',
'info_ajouter_rubrique' => 'A&ntilde;adir otra secci&oacute;n para administrar',
'info_annonce_nouveautes' => 'Anunciar novedades',
'info_annuler_blocage_priori' => 'Anular el bloqueo a priori',
'info_anterieur' => 'anterior',
'info_appliquer_choix_moderation' => 'Aplicar este tipo de moderaci&oacute;n',
'info_article' => 'art&iacute;culo',
'info_article_2' => 'art&iacute;culos',
'info_article_a_paraitre' => 'Los art&iacute;culos con fecha posterior a ser publicados',
'info_articles_02' => 'art&iacute;culos',
'info_articles_2' => 'Art&iacute;culos',
'info_articles_auteur' => 'Los art&iacute;culos de esta autora o autor',
'info_articles_lies_mot' => 'Los art&iacute;culos ligados a esta palabra clave',
'info_articles_trouves' => 'Art&iacute;culos localizados',
'info_articles_trouves_dans_texte' => 'Art&iacute;culos encontrados (en el texto)',
'info_attente_validation' => 'Tus art&iacute;culos en espera de validaci&oacute;n',
'info_aujourdhui' => 'hoy:',
'info_auteur_message' => 'AUTOR O AUTORA DEL MENSAJE:',
'info_auteurs' => 'Autores y autoras',
'info_auteurs_par_tri' => 'Autores at partri@',
'info_auteurs_trouves' => 'Autores y autoras encontrados',
'info_authentification_externe' => 'Autentificaci&oacute;n externa',
'info_avertissement' => 'Advertencia',
'info_base_installee' => 'La estructura de tu base de datos ha sido instalada',
'info_base_restauration' => 'La base est&aacute; siendo restaurada',
'info_breves' => 'Puedes utilizar el sisteme de breves',
'info_breves_03' => 'breves',
'info_breves_liees_mot' => 'Las breves ligadas a esta palabra clave',
'info_breves_touvees' => 'Breves localizadas',
'info_breves_touvees_dans_texte' => 'Breves localizadas (en el texto)',
'info_changer_nom_groupe' => 'Cambiar el nombre de este grupo',
'info_chapeau' => 'Ep&iacute;grafe',
'info_chapeau_2' => 'Ep&iacute;grafe:',
'info_chemin_acces_1' => 'Opciones : <B>camino de acceso en el anuario</B>',
'info_chemin_acces_2' => 'Se debe configurar el camino de acceso a las informaciones en el anuario. Esta informaci&oacute;n es indispensable para leer los perfiles de personas almacenados en el anuario.',
'info_chemin_acces_annuaire' => 'Opciones : <B>Camino de acceso en el anuario',
'info_choix_base' => 'Tercera etapa:',
'info_classement_1' => '<sup>o</sup> sobre @liste@',
'info_classement_2' => '<sup>o</sup> sobre @liste@',
'info_code_acces' => '&iexcl;No olvides tus c&oacute;digos de acceso!',
'info_comment_lire_tableau' => 'Como leer este cuadro',
'info_config_suivi' => 'Si esta direcci&oacute;n corresponde a una lista de correo, puedes idicar aqu&iacute; abajo la direcci&oacute;n en la cual los participantes al sitio pueden inscribirse. Esta direcci&oacute;n puede ser una URL (por ejemplo la p&aacute;gina de inscripci&oacute;n a la lista por la web), o una direcci&oacute;n e-mail con un asunto espec&iacute;fico (por ejemplo: <tt>@adresse_suivi@?subject=subscribe</tt>):',
'info_config_suivi_explication' => 'Puedes suscribirte a la lista de correo de este sitio. Recibir&aacute;s por correo electr&oacute;nico los anuncios de art&iacute;culos y de bereves propuestas a la publicaci&oacute;n.',
'info_confirmer_passe' => 'Confirmar la nueva contrase&ntilde;a:',
'info_connexion_base' => 'Segunda etapa: <B>tentativa de conexi&oacute;n a la base </B>',
'info_connexion_ldap_ok' => 'La conexi&oacute;n LDAP ha funcionado.</b><p> Puedes pasar a la siguiente fase.',
'info_connexion_mysql' => 'Primera etapa: <B>Tu conexi&oacute;n MySQL</b>',
'info_connexion_ok' => 'La conexi&oacute;n ha funcionado.',
'info_contact' => 'Contacto',
'info_contenu_articles' => 'Contenido de los art&iacute;culos',
'info_creation_mots_cles' => 'Crear y configurar las palabras clave del sitio',
'info_creation_paragraphe' => '(Para crear p&aacute;rrafos, deja l&iacute;neas vac&iacute;as.)',
'info_creation_rubrique' => 'Antes de escribir art&iacute;culos<BR> Debes crear una secci&oacute;n.<BR>',
'info_creation_tables' => 'Cuarta etapa: <B>Creaci&oacute;n de las tablas de la base</b>',
'info_creer_base' => '<B>Crear</B> una base de datos:',
'info_dans_groupe' => 'En el grupo',
'info_dans_rubrique' => 'En la secci&oacute;n...',
'info_date_publication_anterieure' => 'Fecha de publicaci&oacute;n anterior',
'info_date_referencement' => 'Fecha de referenciamiento de este sitio',
'info_delet_mots_cles' => 'Has solicitado la supresi&oacute;n de la palabra clave 
<B>@titre_mot@</b> (@type_mot@) que esta ligada a 
<b>@texte_lie@</b>. Por favor, confirma tu decisi&oacute;n.',
'info_demander_blocage_priori' => 'Pedir un bloqueo a priori',
'info_derniere_etape' => 'Ultima etapa: <B>Hemos terminado!',
'info_derniere_syndication' => 'La &uacute;ltima sindicaci&oacute;n de este sitio fue realizada el',
'info_derniers_articles_publies' => 'Tus &uacute;ltimos art&iacute;culos publicados',
'info_desactiver_forum_public' => 'Desactivar los foros p&uacute;blicos. Podr&aacute;n ser activados puntualmente para los art&iacute;culos, pero no para las breves o las secciones.',
'info_desactiver_messagerie_personnelle' => 'Puedes activar o desactivar tu mensajer&iacute;a personal en este sitio.',
'info_descriptif' => 'Descripci&oacute;n:',
'info_discussion_cours' => 'Debates en curso',
'info_ecrire_article' => 'Antes de escribir art&iacute;culos, debes crear una secci&oacute;n.',
'info_email_envoi' => 'Direcci&oacute;n de correo de env&iacute;o (opcional)',
'info_email_envoi_txt' => 'Indica aqui la direcci&oacute;n que se utiliza como expeditor al mandar los correos electr&oacute;nicos (por omisi&oacute;n, se utiliza la direcci&oacute;n del destinatario como direcci&oacute;n de env&iacute;o)&nbsp;:',
'info_email_webmestre' => 'Direcci&oacute;n de correo electr&oacute;nico del/la webmaster (opcional)',
'info_entrer_code_alphabet' => 'Introduce el c&oacute;digo del alfabeto a utilizar',
'info_envoi_email_automatique' => 'Env&iacute;o autom&aacute;tico de correos electr&oacute;nicos',
'info_envoi_forum' => 'Seguimiento de los foros',
'info_envoyer_maintenant' => 'Enviar ahora',
'info_erreur_restauration' => 'Error de restauraci&oacute;n. Fichero inexistente.',
'info_etape_suivante' => 'Pasar a la siguiente etapa ',
'info_etape_suivante_1' => 'Puedes pasar a la siguiente etapa ',
'info_etape_suivante_2' => 'Puedes pasar a la etapa siguiente',
'info_exportation_base' => 'exportaci&oacute;n de la base hacia @archive@',
'info_facilite_suivi_activite' => 'Para facilitar el seguimiento de la actividad editorial, SPIP puede enviar por correo electr&oacute;nico, por ejemplo a un lista de redactores y redactoras, anuncios de solicitudes de publicaci&oacute;n y de validaci&oacute;n de art&iacute;culos.',
'info_fichiers_authent' => 'Ficheros de autentificaci&oacute;n ".htpasswd"',
'info_fonctionnement_forum' => 'Funcinamiento del foro',
'info_forum_administrateur' => 'Foro del grupo de administraci&oacute;n ',
'info_forum_interne' => 'foro interno',
'info_forum_ouvert' => 'En el espacio privado del sitio hay un foro abierto a todas las personas inscritas. A continuaci&oacute;n, puedes activar un foro suplementario reservado a los administradores y administradoras.',
'info_forum_statistiques' => 'Estad&iacute;sticas de las visitas',
'info_forums_abo_invites' => 'Tu sitio tiene foros para abonados; en el sitio p&uacute;blico se invita a los visitantes a que se registren.',
'info_gauche_admin_effacer' => '<B>Esta p&aacute;gina s&oacute;lo es accesible para los/las responsables del sitio.</b><P> Da acceso a las distintas funciones de mantenimiento t&eacute;cnico. Algunas de ellas dan lugar a un proceso de autentificaci&oacute;n para el cual es necesario tener acceso por FTP al sitio web.',
'info_gauche_admin_tech' => '<b>Esta p&aacute;gina s&oacute;lo es accesible para los/las responsables del sitio.</b><p> Da acceso a las distintas funciones de mantenimiento t&eacute;cnico. Algunas de ellas dan lugar a un proceso de autentificaci&oacute;n para el cual es necesario tener acceso por FTP al sitio web.',
'info_gauche_admin_vider' => '<B>Esta p&aacute;gina s&oacute;lo es accesible para los/las responsables del sitio.</b><P> Da acceso a las distintas funciones de mantenimiento t&eacute;cnico. Algunas de ellas dan lugar a un proceso de autentificaci&oacute;n para el cual es necesario tener acceso por FTP al sitio web.',
'info_gauche_auteurs' => 'Aqu&iacute; figuran todos los autores y autoras del sitio.
 Su estado se indica con el color de su icono (administrador/a = verde; redactor/a = amarillo).',
'info_gauche_auteurs_exterieurs' => 'Los autores y autoras exteriores, sin acceso al sitio, est&aacute;n indicados con un icono azul; los que est&aacute;n borrados con una papelera.',
'info_gauche_messagerie' => 'La mensajer&iacute;a permite comunicarse, crear recordatorios para traer a la memoria algo o publicar anuncios (en el caso de pertenecer al grupo de administraci&oacute;n).',
'info_gauche_numero_auteur' => 'AUTOR O AUTORA N&Uacute;MERO',
'info_gauche_numero_breve' => 'Breve',
'info_gauche_statistiques_referers' => 'Esta p&aacute;gina presenta la lista de los <I>referers</i>, es decir de los sitios que contienen enlaces que llevan a tu propio sitio, s&oacute;lo para ayer y hoy; esta lista se pone a cero cada 24 horas.',
'info_gauche_suivi_forum' => 'La p&aacute;gina de <I>gesti&oacute;n de los foros</i> es una herramienta de gesti&oacute;n de tu sitio (y no un espacio de di&aacute;logo o de redacci&oacute;n). Muestra todas las contribuciones del foro p&uacute;blico de este art&iacute;culo y te permite gestionar las contribuciones.',
'info_gauche_suivi_forum_2' => 'La p&aacute;gina de <I>gesti&oacute;n de los foros</i> es una herramienta de gesti&oacute;n de tu sitio (y no un espacio de di&aacute;logo o de redacci&oacute;n). Muestra todas las contribuciones del foro p&uacute;blico de este art&iacute;culo y te permite gestionar las contribuciones.',
'info_gauche_visiteurs_enregistres' => 'Aqu&iacute; se encuentran las personas registradas en el espacio p&uacute;blico del sitio (foros con suscripci&oacute;n).',
'info_generation_miniatures_images' => 'Generaci&oacute;n de las miniaturas de im&aacute;genes',
'info_gerer_trad' => 'Manejar los enlaces de traducci&oacute;n?',
'info_groupe_important' => 'Grupo importante',
'info_hebergeur_desactiver_envoi_email' => 'Algunos servidores no permiten el env&iacute;o autom&aacute;tico de correos electr&oacute;nicos. En esos casos, las siguientes funciones de SPIP no dar&aacute;n ning&uacute;n resultado.',
'info_hier' => 'ayer:',
'info_historique' => 'Revisiones&nbsp;:',
'info_historique_activer' => 'Activar el seguimiento de revisiones',
'info_historique_affiche' => 'Publicar esta versi&oacute;n',
'info_historique_comparaison' => 'comparaci&oacute;n',
'info_historique_desactiver' => 'Desactivar el seguimiento de revisiones',
'info_historique_lien' => 'Mostrar el hist&oacute;rico de las modificaciones',
'info_historique_texte' => 'El seguimiento de revisiones permite conservar un hist&oacute;rico de todas las modificaciones hechas en el contenido de un art&iacute;culo, y mostrar las diferencias entre las sucesivas versiones.',
'info_historique_titre' => 'Seguimiento de revisiones',
'info_identification_publique' => 'Tu identidad p&uacute;blica...',
'info_image_process' => 'Por favor selecciona el mejor m&eacute;todo de fabricaci&oacute;n de vi&ntilde;etas pinchando en la im&aacute;gen correspondiente. ',
'info_image_process2' => '<b>N.B.</b> <i>Si no aparece ninguna imagen, se debe a que el servidor que alberga su sitio web no est&aacute; configurado para usar estas funciones. Si necesita utilizarlas, contacte con el responsable t&eacute;cnico y solicite las extensiones &laquo;GD&raquo; o &laquo;Imagick&raquo;.</i>',
'info_informations_personnelles' => 'Quinta etapa: <B>Informaciones personales</B>',
'info_inscription_automatique' => 'Inscripcci&oacute;n autom&aacute;tica de nuevas personas',
'info_jeu_caractere' => 'Juego de caracteres del sitio',
'info_jours' => 'd&iacute;as',
'info_laisser_champs_vides' => 'dejar estos campos vac&iacute;os)',
'info_langues' => 'Idiomas del sitio',
'info_ldap_ok' => 'La autentificaci&oacute;n LDAP est&aacute; instalada.',
'info_lien_hypertexte' => 'Enlace hipertexto:',
'info_liens_syndiques_1' => 'enlaces sindicados',
'info_liens_syndiques_2' => 'est&aacute;n en espera de validaci&oacute;n.',
'info_liens_syndiques_3' => 'foros',
'info_liens_syndiques_4' => 'est&aacute;n',
'info_liens_syndiques_5' => 'foro',
'info_liens_syndiques_6' => 'est&aacute;',
'info_liens_syndiques_7' => 'en espera de validaci&oacute;n',
'info_liste_redacteurs_connectes' => 'Lista de redactores y redactoras conectadas',
'info_login_existant' => 'Ese login ya existe',
'info_login_trop_court' => 'Login muy corto',
'info_maximum' => 'm&aacute;ximo:',
'info_meme_rubrique' => 'En la misma secci&oacute;n',
'info_message' => 'Mensaje del',
'info_message_efface' => 'Mensaje borrado',
'info_message_en_redaction' => 'Tus mensajes en curso de redacci&oacute;n',
'info_message_technique' => 'Mensaje t&eacute;cnico',
'info_messagerie_interne' => 'Mensajer&iacute;a interna',
'info_mise_a_niveau_base' => 'Actualizaci&oacute;n de tu base MySQL',
'info_mise_a_niveau_base_2' => '{{ATENCION!}} Has instalado una versi&oacute;n de SPIP ant&eacute;rior. Corres el riesgo de perder la base de datos y que el sitio deje de funcionar.<br>{{Reinstala los ficheros de SPIP.}}',
'info_mode_fonctionnement_defaut_forum_public' => 'Modo de funcionamiento de los foros p&uacute;blicos',
'info_modifier_breve' => 'Modificar la breve',
'info_modifier_rubrique' => 'Modificar la secci&oacute;n',
'info_modifier_titre' => 'Modificar @titre@',
'info_mon_site_spip' => 'Mi sitio SPIP',
'info_mot_sans_groupe' => '(Palabras sin grupo...)',
'info_moteur_recherche' => 'Motor de b&uacute;squeda integrado',
'info_mots_cles' => 'Las palabras clave',
'info_mots_cles_association' => 'Las palabras clave de este grupo pueden ser asociadas a...',
'info_moyenne' => 'promedio:',
'info_multi_articles' => '&iquest;Activar el men&uacute; de idioma en los art&iacute;culos?',
'info_multi_cet_article' => 'Idioma de este art&iacute;culo:',
'info_multi_langues_choisies' => 'A continuaci&oacute;n selecciona los idiomas que quieres poner a disposici&oacute;n de los redactores de tu sitio.
Los idiomas que ya se utilizan en el sitio (al principio de la lista) no pueden ser desactivados.
',
'info_multi_rubriques' => '&iquest;Activar el men&uacute; de idioma en las secciones?',
'info_multi_secteurs' => '... s&oacute;lo para las secciones situadas en la ra&iacute;z?',
'info_nom' => 'Nombre',
'info_nom_destinataire' => 'Nombre del destinatario o destinataria',
'info_nom_site' => 'Nombre de tu sitio',
'info_nom_site_2' => '<b>Nombre del sitio</b> [Obligatorio]',
'info_nombre_articles' => '@nb_articles@ art&iacute;culos,',
'info_nombre_breves' => '@nb_breves@ breves,',
'info_nombre_partcipants' => 'Participan en el debate...',
'info_nombre_rubriques' => '@nb_rubriques@ secciones,',
'info_nombre_sites' => '@nb_sites@ sitios,',
'info_non_deplacer' => 'No desplazar...',
'info_non_envoi_annonce_dernieres_nouveautes' => 'SPIP puede enviar regularmente la lista de las novedades del sitio (art&iacute;culos y breves).',
'info_non_envoi_liste_nouveautes' => 'No enviar la lista de novedades',
'info_non_modifiable' => 'no puede ser modificado',
'info_non_suppression_mot_cle' => 'No deseo suprimir esta palabra clave',
'info_notes' => 'Notas',
'info_nouveaux_message' => 'Nuevos mensajes',
'info_nouvel_article' => 'Nuevo art&iacute;culo',
'info_nouvelle_traduction' => 'Nueva traducci&oacute;n:',
'info_numero_article' => 'Art&iacute;culo:',
'info_obligatoire_02' => '[Obligatorio]',
'info_option_accepter_visiteurs' => 'Aceptar la inscripci&oacute;n de los visitantes del sitio p&uacute;blico',
'info_option_email' => 'Cuando se deposita una nueva contribuci&oacute;n a un foro asociado a un art&iacute;culo, se lo puede notificar por correo electr&oacute;nico a los autores y autoras del art&iacute;culo. &iquest;Deseas utilizar esta opci&oacute;n?',
'info_option_faire_suivre' => 'Enviar los mensajes de los foros a los autores y autoras de art&iacute;culos',
'info_option_ne_pas_accepter_visiteurs' => 'Rehusar la inscripci&oacute;n de visitantes',
'info_option_ne_pas_faire_suivre' => 'No enviar los mensajes de los foros',
'info_options_avancees' => 'Opciones avanzadas',
'info_ortho_activer' => 'Activar el corrector ortogr&aacute;fico',
'info_ortho_desactiver' => 'Desactivar el corrector ortogr&aacute;fico',
'info_ou' => 'o...',
'info_oui_suppression_mot_cle' => 'Deseo suprimir esta palabra clave',
'info_page_interdite' => 'P&aacute;gina no accesible',
'info_par_nombre_article' => '(por n&uacute;mero de art&iacute;culos)',
'info_par_tri' => '(por @tri@)',
'info_pas_de_forum' => 'sin foro',
'info_passe_trop_court' => 'Contrase&ntilde;a demasiado corta',
'info_passes_identiques' => 'Hay diferencias entre las dos contrase&ntilde;as',
'info_pense_bete_ancien' => 'Tus antiguos recordatorios',
'info_plus_cinq_car' => 'm&aacute;s de 5 caracteres',
'info_plus_cinq_car_2' => '(M&aacute;s de 5 caracteres)',
'info_plus_trois_car' => '(M&aacute;s de tres caracteres)',
'info_popularite' => 'Popularidad: @popularite@ Visitas: @visites@',
'info_popularite_2' => 'Popularidad del sitio:',
'info_popularite_3' => 'Popularidad: @popularite@  Visitas: @visites@',
'info_popularite_4' => 'Popularidad: @popularite@  Visitas: @visites@',
'info_popularite_5' => 'Popularidad:',
'info_post_scriptum' => 'Post Scr&iacute;ptum',
'info_post_scriptum_2' => 'Post Scr&iacute;ptum:',
'info_pour' => 'para',
'info_preview_admin' => 'S&oacute;lo los administradores pueden previsualizar el sitio',
'info_preview_comite' => 'Todos los redactores pueden previsualizar el sitio',
'info_preview_desactive' => 'La previsualizaci&oacute;n est&aacute; totalmente desactivada',
'info_preview_texte' => 'Es posible previsualizar el sitio como si todos los art&iacute;culos y las breves (que tengan al menos el estado &laquo;&nbsp;propuesto&nbsp;&raquo;) estuviesen publicados. Esta posibilidad debe estar disponible para &iquest;&nbsp;los administradores solamente, todos los redactores, o nadie&nbsp;?',
'info_principaux_correspondants' => 'Tus principales corresponsales',
'info_procedez_par_etape' => 'proceder etapa por etapa',
'info_procedure_maj_version' => 'la actulizaci&oacute;n debe ser realizada para adaptar la base de datos a esta nueva versi&oacute;n de SPIP.',
'info_ps' => 'P.S',
'info_publies' => 'Tus art&iacute;culos publicados',
'info_question_accepter_visiteurs' => 'Si en los esqueletos de tu sitio est&aacute; previsto el registro de visitantes sin acceso al espacio privado, tendr&aacute;s que activar la opci&oacute;n siguiente:',
'info_question_gerer_statistiques' => '&iquest;Deseas que tu sitio gestione las estad&iacute;sticas de las visitas?',
'info_question_inscription_nouveaux_redacteurs' => '&iquest;Aceptas inscripciones al espacio de redacci&oacute;n de nuevas personas apartir del sitio p&uacute;blico? Si aceptas, las personas que visitan el sitio podr&aacute;n inscribirse desde un formulario automatizado y acceder&aacute;n entonces al espacio privado para proponer sus propios art&iacute;culos. <blockquote><i>Durante la fase de inscripci&oacute;n, reciben un correo electr&oacute;nico autom&aacute;tico que les indica sus c&oacute;digos de acceso al sitio privado. Ciertos proveedores de hospedaje desactivan el env&iacute;o de correos electr&oacute;nicos desde sus servidores: en tal caso, se hace imposible la inscripci&oacute;n autom&aacute;tica. ',
'info_question_mots_cles' => '&iquest;Deseas utilizar las palabras clave en tu sitio?',
'info_question_proposer_site' => '&iquest;Qui&eacute;n puede proponer los sitios referenciados?',
'info_question_utilisation_moteur_recherche' => '&iquest;Deseas utilizar el motor de b&uacute;squeda integrado de SPIP? (desactivarlo agiliza el sitio)',
'info_qui_attribue_mot_cle' => 'Las palabres claves de este grupo pueden ser atribu&iacute;das por',
'info_racine_site' => 'Ra&iacute;z del sitio',
'info_recharger_page' => 'Tenga a bien recargar esta p&aacute;gina en algunos instantes',
'info_recherche_auteur_a_affiner' => 'Hay demasiados resultados para "@cherche_auteur@", por favor restrinja los criterios.',
'info_recherche_auteur_ok' => 'Varios autores y/o autoras encontrado para "@cherche_auteur@":',
'info_recherche_auteur_zero' => 'No hay resultados para &laquo;&nbsp;@cherche_auteur@&nbsp;&raquo;.',
'info_recommencer' => 'Vuelve a empezar',
'info_redacteur_1' => 'Redactor/a',
'info_redacteur_2' => 'Accediendo al espacio privado (<i>recomendado</i>)',
'info_redacteurs' => 'Redactores/as',
'info_redaction_en_cours' => 'En curso de redacci&oacute;n...',
'info_redirection' => 'Redirecci&oacute;n',
'info_refuses' => 'Tus art&iacute;culos rechazados',
'info_reglage_ldap' => 'Opciones: <B>Reglajes de la importaci&oacute;n LDAP</B>',
'info_renvoi_article' => '<B>Redirecci&oacute;n </B>Este art&iacute;culo reenv&iacute;a a la p&aacute;gina:',
'info_reserve_admin' => 'S&oacute;lo el equipo de administraci&oacute;n puede modificar esta direcci&oacute;n',
'info_restauration_sauvegarde' => 'Restauraci&oacute;n de la copia de seguridad @archive@',
'info_restreindre_rubrique' => 'Limitar la gesti&oacute;n a la secci&oacute;n...',
'info_resultat_recherche' => 'Resultados de la b&uacute;squeda:',
'info_rubriques' => 'Secciones',
'info_rubriques_02' => 'secciones',
'info_rubriques_liees_mot' => 'Las secciones ligadas a esta palabra clave',
'info_rubriques_trouvees' => 'Secciones localizadas',
'info_rubriques_trouvees_dans_texte' => 'Secciones localizadas (en el texto)',
'info_sans_titre' => 'Sin t&iacute;tulo',
'info_sauvegarde' => 'Copia de seguridad',
'info_sauvegarde_articles' => 'Crear copia de seguridad de los art&iacute;culos',
'info_sauvegarde_articles_sites_ref' => 'Crear copia de seguridad de los art&iacute;culos de los sitios referenciados',
'info_sauvegarde_auteurs' => 'Crear un respaldo de los autores y autoras',
'info_sauvegarde_breves' => 'Crear copia de seguridad de las breves',
'info_sauvegarde_documents' => 'Crear copia de seguridad de los documentos',
'info_sauvegarde_echouee' => 'Si la copia de seguridad falla (&laquo;Maximum execution time exceeded&raquo;),',
'info_sauvegarde_forums' => 'Crear copia de seguridad de los foros',
'info_sauvegarde_groupe_mots' => 'Crear copia de seguridad de los grupos de palabras',
'info_sauvegarde_messages' => 'Crear copia de seguridad de los mensajes',
'info_sauvegarde_mots_cles' => 'Crear copia de seguridad de las palabras clave',
'info_sauvegarde_petitions' => 'Crear copia de seguridad de las peticiones',
'info_sauvegarde_refers' => 'Crear copia de seguridad de los "referers"',
'info_sauvegarde_reussi_01' => 'Copia de seguridad efectuada.',
'info_sauvegarde_reussi_02' => 'La copia de seguridad de la base fue creada en <b>ecrire/data/@archive@</b>. Puedes',
'info_sauvegarde_reussi_03' => 'volver a la gesti&oacute;n',
'info_sauvegarde_reussi_04' => 'del sitio.',
'info_sauvegarde_rubriques' => 'Crear copia de seguridad de las secciones',
'info_sauvegarde_signatures' => 'Crear copia de seguridad de las firmas de las peticiones',
'info_sauvegarde_sites_references' => 'Crear copia de seguridad de los sitios referenciados',
'info_sauvegarde_type_documents' => 'Crear copia de seguridad de los tipos de documentos',
'info_sauvegarde_visites' => 'Crear copia de seguridad de las visitas',
'info_selection_chemin_acces' => 'Selecciona el camino de acceso en el anuario',
'info_selection_un_seul_mot_cle' => 'S&oacute;lo se puede seleccionar <b>una palabra</b> a la vez en este grupo',
'info_signatures' => 'firmas',
'info_site' => 'Sitio',
'info_site_2' => 'sitio:',
'info_site_min' => 'sitio',
'info_site_propose' => 'Sitio propuesto el',
'info_site_reference_2' => 'Sitio referenciado',
'info_site_syndique' => 'Este sitio est&aacute; sindicado...',
'info_site_valider' => 'Sitios a validar',
'info_site_web' => 'Sitio Web:',
'info_sites' => 'sitios',
'info_sites_lies_mot' => 'Los sitios referenciados ligados a esta palabra clave',
'info_sites_proxy' => 'Utilizar un proxy',
'info_sites_refuses' => 'Los sitios rechazados',
'info_sites_trouves' => 'Sitios hallados',
'info_sites_trouves_dans_texte' => 'Sitios encontrados (en el texto)',
'info_sous_titre' => 'Subt&iacute;tulo',
'info_statut_administrateur' => 'Administrador/a',
'info_statut_auteur' => 'Estatuto de este autor o autora:',
'info_statut_efface' => 'Borrado',
'info_statut_redacteur' => 'Redactor/a',
'info_statut_site_1' => 'Este sitio est&aacute;:',
'info_statut_site_2' => 'Publicado',
'info_statut_site_3' => 'Propuesto',
'info_statut_site_4' => 'A la papelera',
'info_statut_utilisateurs_1' => 'Estado por omisi&oacute;n de las personas importadas',
'info_statut_utilisateurs_2' => 'Elegir el estado atribuido a las personas presentes en el anuario LDAP cuando se conectan por primera vez. Posteriormente se podr&aacute; modificar el estado caso por caso.',
'info_suivi_activite' => 'Seguimiento de la actividad editorial',
'info_supprimer_mot' => 'Suprimir esta palabra',
'info_surtitre' => 'Antet&iacute;tulo',
'info_taille_maximale_vignette' => 'Dimensiones m&aacute;ximas de los iconos generados :',
'info_terminer_installation' => 'Terminar la instalaci&oacute;n.',
'info_texte' => 'Texto',
'info_texte_explicatif' => 'Texto explicativo',
'info_texte_long' => '(El texto es largo y aparece en varias partes que se reunir&aacute;n  despu&eacute;s de la validaci&oacute;n)',
'info_texte_message' => 'Texto del mensaje',
'info_texte_message_02' => 'Texto del mensaje',
'info_titre' => 'T&iacute;tulo',
'info_titre_mot_cle' => 'T&iacute;tulo de la palabra clave',
'info_total' => 'Total:',
'info_tous_articles_en_redaction' => 'Todos los art&iacute;culos en curso de redacci&oacute;n',
'info_tous_articles_presents' => 'Todos los art&iacute;culos publicados en esta secci&oacute;n',
'info_tous_les' => 'todos los:',
'info_tous_redacteurs' => 'Anuncios a todos',
'info_tout_site' => 'Todo el sitio',
'info_tout_site2' => 'El art&iacute;culo no ha sido traducido a este idioma.',
'info_tout_site3' => 'El art&iacute;culo ha sido traducido a este idioma, pero posteriormente modificaciones fueron aportadas al art&iacute;culo de referencia. La traducci&oacute;n debe ser actualizada.',
'info_tout_site4' => 'El art&iacute;culo ha sido traducido a este idioma, y la traducci&oacute;n est&aacute; al d&iacute;a. ',
'info_tout_site5' => 'Art&iacute;culo original',
'info_tout_site6' => '<b>Atenci&oacute;n:</b> s&oacute;lo se muestran los art&iacute;culos originales.
Las traducciones est&aacute;n asociadas al original, en un color que indica su estatuto:',
'info_travail_colaboratif' => 'Trabajo colectivo en los art&iacute;culos',
'info_un_article' => 'un art&iacute;culo,',
'info_un_mot' => 'Una sola palabra a la vez',
'info_un_site' => 'un sitio,',
'info_une_breve' => 'una breve,',
'info_une_rubrique' => 'una secci&oacute;n,',
'info_une_rubrique_02' => '1 secci&oacute;n',
'info_url' => 'URL ',
'info_url_site' => 'URL del sitio',
'info_urlref' => 'Enlace hipertexto:',
'info_utilisation_spip' => 'Puedes comenzar a utilizar el sistema de publicaci&oacute;n asistida...',
'info_visites_par_mois' => 'Mostrar por mes :',
'info_visites_plus_populaires' => 'Mostrar las visitas de <b>los art&iacute;culos m&aacute;s populares</b> y de <b>los &uacute;ltimos art&iacute;culos publicados</b>',
'info_visiteur_1' => 'Visitante',
'info_visiteur_2' => 'del sitio p&uacute;blico',
'info_visiteurs' => 'Visitantes',
'info_visiteurs_02' => 'Visitantes del sitio p&uacute;blico',
'install_select_langue' => 'Selecciona un idioma y despu&eacute;s pulsa el bot&oacute;n &laquo;siguiente&raquo; para iniciar el proceso de instalaci&oacute;n.',
'intem_redacteur' => 'redactor/a',
'item_accepter_inscriptions' => 'Aceptar las inscripciones',
'item_activer_forum_administrateur' => 'Activar el foro del equipo de administraci&oacute;n.',
'item_activer_messages_avertissement' => 'Activar los mensajes de advertencia',
'item_administrateur_2' => 'administrador/a',
'item_afficher_calendrier' => 'Mostrar en el calendario',
'item_ajout_mots_cles' => 'Autorizar las palabres claves en los foros',
'item_autoriser_documents_joints' => 'Autorizar los documentos adjuntos a los art&iacute;culos',
'item_autoriser_documents_joints_rubriques' => 'Autorizar los documentos en las secciones',
'item_bloquer_liens_syndiques' => 'Bloquear los enlaces sindicados en validaci&oacute;n',
'item_breve_refusee' => 'Breve rechazada',
'item_breve_validee' => 'Breve validada',
'item_choix_administrateurs' => 'los administradores/as',
'item_choix_generation_miniature' => 'Generar autom&aacute;ticamente las miniaturas de las im&aacute;genes',
'item_choix_non_generation_miniature' => 'No generar miniaturas',
'item_choix_redacteurs' => 'los redactores/as',
'item_choix_visiteurs' => 'los y las visitantes del sitio',
'item_creer_fichiers_authent' => 'Crear los ficheros ".htpasswd"',
'item_desactiver_forum_administrateur' => 'Desactivar el foro de administraci&oacute;n',
'item_gerer_annuaire_site_web' => 'Gestionar un anuario de sitios Web',
'item_gerer_statistiques' => 'Gestionar las estad&iacute;sticas',
'item_limiter_recherche' => 'Limitar la b&uacute;squeda a este sitio',
'item_login' => 'Login',
'item_mots_cles_association_articles' => 'a los art&iacute;culos',
'item_mots_cles_association_breves' => 'a las breves',
'item_mots_cles_association_rubriques' => 'a las secciones',
'item_mots_cles_association_sites' => 'a los sitios referenciados o sindicados',
'item_non' => 'No',
'item_non_accepter_inscriptions' => 'No aceptar inscripciones',
'item_non_activer_messages_avertissement' => 'Sin mensajes de advertencia',
'item_non_afficher_calendrier' => 'No mostrar en el calendario',
'item_non_ajout_mots_cles' => 'Impedir la utilizaci&oacute;n de las palabras clave en los foros',
'item_non_autoriser_documents_joints' => 'Impedir la inclusi&oacute;n de documentos en los art&iacute;culos',
'item_non_autoriser_documents_joints_rubriques' => 'Impedir la inclusi&oacute;n de documentos en las secciones',
'item_non_bloquer_liens_syndiques' => 'No bloquear los enlaces de sindicaci&oacute;n',
'item_non_creer_fichiers_authent' => 'No crear esos ficheros',
'item_non_gerer_annuaire_site_web' => 'Desactivar el anuario de sitios Web',
'item_non_gerer_statistiques' => 'No gestionar las estad&iacute;sticas',
'item_non_limiter_recherche' => 'Buscar en el contenido de los sitios referenciados',
'item_non_publier_articles' => 'No publicar los art&iacute;culos antes de la fecha de publicaci&oacute;n indicada',
'item_non_utiliser_breves' => 'No utilizar las breves',
'item_non_utiliser_config_groupe_mots_cles' => 'No utilizar la configuraci&oacute;n precisa de los grupos de palabras clave',
'item_non_utiliser_moteur_recherche' => 'No utilizar el motor',
'item_non_utiliser_mots_cles' => 'No utilizar las palabras clave',
'item_non_utiliser_syndication' => 'No utilizar la sindicaci&oacute;n autom&aacute;tica',
'item_nouvel_auteur' => 'Nueva autora o autor',
'item_nouvelle_breve' => 'Nueva breve',
'item_nouvelle_rubrique' => 'Nueva secci&oacute;n',
'item_oui' => 'S&iacute;',
'item_publier_articles' => 'Publicar los art&iacute;culos sin tener en cuenta la fecha de publicaci&oacute;n',
'item_reponse_article' => 'Respuesta al art&iacute;culo',
'item_utiliser_breves' => 'Utilizar las breves',
'item_utiliser_config_groupe_mots_cles' => 'Utilizar la configuraci&oacute;n precisa de los grupos de palabras clave',
'item_utiliser_moteur_recherche' => 'Utilizar el motor de b&uacute;squeda',
'item_utiliser_mots_cles' => 'Utilizar las palabras clave',
'item_utiliser_syndication' => 'Utilizar la sindicaci&oacute;n autom&aacute;tica',
'item_visiteur' => 'visitante',


// J
'jour_non_connu_nc' => 'n.c.',


// L
'lien_ajout_destinataire' => 'A&ntilde;adir este destinatario o destinataria',
'lien_ajouter_auteur' => 'A&ntilde;adir esta autor/a',
'lien_ajouter_participant' => 'A&ntilde;adir un/una participante',
'lien_email' => 'correo electr&oacute;nico',
'lien_forum_public' => 'Gestionar el foro de este art&iacute;culo',
'lien_mise_a_jour_syndication' => 'Actualizar ahora',
'lien_nom_site' => 'Nombre del sitio',
'lien_nouvelle_recuperation' => 'Intentar recuperar nuevamente los datos',
'lien_reponse_article' => 'Respuesta al art&iacute;culo',
'lien_reponse_breve' => 'Respuesta a la breve',
'lien_reponse_breve_2' => 'Respuesta a la breve',
'lien_reponse_rubrique' => 'Respuesta a la secci&oacute;n',
'lien_reponse_site_reference' => 'Respuesta al sitio referenciado',
'lien_retirer_auteur' => 'Retirar esta autor/a',
'lien_retrait_particpant' => 'Retirar este/esta participante',
'lien_site' => 'sitio',
'lien_supprimer_rubrique' => 'Suprimir esta secci&oacute;n',
'lien_tout_deplier' => 'Desplegar todo',
'lien_tout_replier' => 'Replegar todo',
'lien_trier_nom' => 'Ordenar por nombre',
'lien_trier_nombre_articles' => 'Ordenar por n&uacute;mero de art&iacute;culos',
'lien_trier_statut' => 'Ordenar por estado',
'lien_voir_en_ligne' => 'Ver en l&iacute;nea...',
'logo_article' => 'Logotipo del art&iacute;culo...',
'logo_auteur' => 'LOGO DEL AUTOR O AUTORA',
'logo_breve' => 'Logotipo de la breve...',
'logo_mot_cle' => 'Logotipo de la palabra clave...',
'logo_rubrique' => 'Logotipo de la secci&oacute;n...',
'logo_site' => 'Logotipo del sitio...',
'logo_standard_rubrique' => 'Logotipo est&aacute;ndar de las secciones...',
'logo_survol' => 'Logotipo paso del rat&oacute;n...',


// M
'menu_aide_installation_choix_base' => 'Elegir tu base',
'module_fichier_langue' => 'Fichero de idioma',
'module_raccourci' => 'Atajo',
'module_texte_affiche' => 'Texto mostrado',
'module_texte_explicatif' => 'Puedes insertar los atajos siguientes en los esqueletos de tu sitio p&uacute;blico. Ser&aacute;n traducidos autom&aacute;ticamente en los diferentes idiomas para los cuales existe un fichero de lengua.',
'module_texte_traduction' => 'El archivo de idioma &laquo;&nbsp;@module@&nbsp;&raquo; est&aacute; disponible en:',
'mois_non_connu' => 'desconocido',


// O
'onglet_repartition_actuelle' => 'actualmente',
'ortho_ajouter_ce_mot' => 'A&ntilde;adir esta palabra al diccionario',
'ortho_aucune_suggestion' => 'No se han encontrado sugerencias para esta palabra.',
'ortho_avis_privacy' => 'En SPIP se integra un corrector ortogr&aacute;fico. Sin embargo, antes de activar esta caracter&iacute;stica, deber&iacute;as leer atentamente el siguiente p&aacute;rrafo:',
'ortho_avis_privacy2' => 'Para comprobar la ortograf&iacute;a de un texto, el sitio web enviar&aacute; la lista de palabras a revisar a uno de los &laquo;&nbsp;servidores ortogr&aacute;ficos&nbsp;&raquo; externos puestos a disposici&oacute;n por distintos miembros de la comunidad SPIP. Las palabras se env&iacute;an desordenadas para asegurar un m&iacute;nimo de confidencialidad. Si sientes preocupaci&oacute;n por tus datos, no actives esta opci&oacute;n (y retira enseguida tu informaci&oacute;n de la Red).',
'ortho_ce_mot_connu' => 'Esta palabra est&aacute; en el diccionario del sitio.',
'ortho_dico_absent' => 'No se ha encontrado ning&uacute;n diccionario para este idioma',
'ortho_mode_demploi' => 'Se han subrayado en rojo las palabras no reconocidas. Puedes pulsar sobre cada palabra para mostrar sugerencias para su correcci&oacute;n.',
'ortho_mots_a_corriger' => 'palabras por corregir',
'ortho_orthographe' => 'Ortograf&iacute;a',
'ortho_supprimer_ce_mot' => 'Suprimir esta palabra del diccionario',
'ortho_trop_de_fautes' => 'Atenci&oacute;n: tu texto contiene demasiadas faltas de ortograf&iacute;a, no se ha sugerido ninguna correcci&oacute;n para no sobrecargar el sistema.',
'ortho_verif_impossible' => 'El sistema no puede comprobar la ortograf&iacute;a de este texto.',
'ortho_verifier' => 'Revisar la ortograf&iacute;a',


// S
'statut_admin_restreint' => '(administrador restringido)',


// T
'taille_cache_infinie' => 'Este sitio no tiene previsto un l&iacute;mite del tama&ntilde;o de la carpeta <code>CACHE/</code>.',
'taille_cache_maxi' => 'SPIP intenta limitar el tama&ntilde;o de la carpeta <code>CACHE/</code> de este sitio a unos <b>@octets@</b> de datos.',
'taille_cache_octets' => 'El tama&ntilde;o de la cache es actualmente de @octets at .',
'taille_cache_vide' => 'La cache est&aacute; vac&iacute;a.',
'taille_repertoire_cache' => 'Tama&ntilde;o de la carpeta cache',
'text_article_propose_publication' => 'Art&iacute;culo propuesto a la publicaci&oacute;n.<br> No dudes en dar tu opini&oacute;n en el foro aferente, que se encuentra m&aacute;s adelante en esta p&aacute;gina.',
'texte_acces_ldap_anonyme_1' => 'Algunos servidores LDAP no aceptan accesos an&oacute;nimos. En ese caso debes especificar un identificador de acceso inicial para poder luego buscar informaciones en el anuario. En la mayor&iacute;a de los casos los campos siguientes pueden estar vac&iacute;os.',
'texte_admin_effacer_01' => 'Este comando borra <i>TODO</i>  el contenido de la base de datos, redactoras y administradores inclu&iacute;dos. Despu&eacute;s de ejecutarlo tendr&aacute;s que volver a instalar SPIP, creando una nueva base al igual que un primer acceso de administraci&oacute;n.',
'texte_admin_tech_01' => 'Esta opci&oacute;n permite crear una copia de seguridad de la base en un fichero que se guardar&aacute; en el directorio <i>ecrire/data/</i>.
No olvides igualmente recuperar la totalidad del directorio <i>IMG/</i>, que contiene las im&aacute;genes utilizadas en los art&iacute;culos y las secciones.',
'texte_admin_tech_02' => '&iexcl;ATENCI&Oacute;N! Esta copia de respaldo S&Oacute;LO PODR&Aacute; ser restaurada en un sitio que utiliza LA MISMA versi&oacute;n de SPIP. Por ning&uacute;n motivo se deber&aacute; &laquo;&nbsp;vaciar la base&nbsp;&raquo; imaginando volver a instalar el respaldo despu&eacute;s de una actualizaci&oacute;n. Consultar la <a href="http://www.spip.net/fr_article12436.html">documentaci&oacute;n de SPIP</a>.',
'texte_admin_tech_03' => 'Puedes comprimir la copia de seguridad y as&iacute; facilitar la transferencia hacia tu ordenador, aparte de ganar espacio en el disco.',
'texte_adresse_annuaire_1' => '(Si tu anuario est&aacute; instalado en la misma m&aacute;quina que el sitio Web, se trata probablemente de "localhost".)',
'texte_ajout_auteur' => 'La siguiente autora o autor fue a&ntilde;adida al art&iacute;culo:',
'texte_annuaire_ldap_1' => 'Si tienes un acceso a un anuario (LDAP), puedes utilizarlo para importar autom&aacute;ticamente usuarios de SPIP.',
'texte_article_statut' => 'Este art&iacute;culo est&aacute;...',
'texte_article_virtuel' => 'Art&iacute;culo virtual',
'texte_article_virtuel_reference' => '<b>Art&iacute;culo virtual</b> O sea un art&iacute;culo referenciado en tu sitio pero redirigido hacia otra URL. Para suprimir la redirecci&oacute;n, borra la URL .',
'texte_aucun_resultat_auteur' => 'Ning&uacute;n resultado por "@cherche_auteur@"',
'texte_auteur_messagerie' => 'Este sitio puede indicarte permanentemente la lista de personas conectadas, lo que permite intercambiar mensajes en directo. Adem&aacute;s, puedes decidir de no aparecer en la lista (est&aacute;s &laquo;invisible&raquo; para las dem&aacute;s personas).',
'texte_auteur_messagerie_1' => 'En este sitio, SPIP permite intercambiar mensajes y realizar foros privados entre los participantes . Puedes participar o no en estos intercambios.',
'texte_auteurs' => 'LOS AUTORES Y AUTORAS',
'texte_breves' => 'Las breves son peque&ntilde;os art&iacute;culos que permiten la puesta en l&iacute;nea r&aacute;pidamente de informaciones concisas.',
'texte_choix_base_1' => 'Elegir la base',
'texte_choix_base_2' => 'El servidor MySQL contiene varias bases de datos.',
'texte_choix_base_3' => '<B>Selecciona</b> aqu&iacute; la que te ha sido atribu&iacute;da por tu proveedor de hospedaje:',
'texte_commande_vider_tables_indexation' => 'Utilice esta comanda para vaciar las tablas de indexaci&oacute;n del motor de b&uacute;squeda integrado de SPIP. Permite ganar espacio en el disco.',
'texte_comment_lire_tableau' => 'El rango del art&iacute;culo, en la clasificaci&oacute;n por popularidad, est&aacute; indicado al margen; la popularidad del art&iacute;culo (una estimaci&oacute;n del n&uacute;mero de visitas cotidianas que recibir&aacute; si el ritmo actual de visitas se mantiene) y el n&uacute;mero de visitas recibidas desde el inicio se muestran en el men&uacute; que aparece cuando pasamos el cursor sobre el t&iacute;tulo.',
'texte_compresse_ou_non' => '(comprimido o no)',
'texte_compte_element' => '@count@ elemento',
'texte_compte_elements' => '@count@ elementos',
'texte_config_groupe_mots_cles' => '&iquest;Deseas activar la configuraci&oacute;n precisa de las palabras clave y permitir que se pueda, por ejemplo, seleccionar solamente una palabra por grupo o declarar un grupo importante?',
'texte_connexion_mysql' => 'Consulta las informaciones facilitadas por tu proveedor de hospedaje: debes encontrar, si tu proveedor soporta MySQL, los c&oacute;digos de conexi&oacute;n al servidor MySQL.',
'texte_contenu_article' => '(Contenido del art&iacute;culo en pocas palabras)',
'texte_contenu_articles' => 'Seg&uacute;n el dise&ntilde;o de tu sitio, puedes seleccionar aqu&iacute; los elementos a utilizar.',
'texte_crash_base' => 'Si la base tiene un problema, se puede intentar aqu&iacute; de repararla.',
'texte_creer_rubrique' => 'Antes de escribir un art&iacute;culo, debes crear una secci&oacute;n.',
'texte_date_creation_article' => 'FECHA DE CREACI&Oacute;N DEL ART&Iacute;CULO:',
'texte_date_publication_anterieure' => 'Fecha de publicaci&oacute;n anterior',
'texte_date_publication_anterieure_nonaffichee' => 'No mostrar fecha de publicaci&oacute;n anterior.',
'texte_date_publication_article' => 'Fecha de publicaci&oacute;n en l&iacute;nea:',
'texte_demander_blocage_priori' => 'Los pr&oacute;ximos enlaces procedentes de este sitio ser&aacute;n, a priori, bloqueados.',
'texte_descriptif_petition' => 'Descripci&oacute;n de la petici&oacute;n',
'texte_descriptif_rapide' => 'Descripci&oacute;n r&aacute;pida',
'texte_documents_joints' => 'Puedes autorizar el a&ntilde;adir documentos (archivos de ofim&aacute;tica, im&aacute;genes,
 multimedia, etc.) a los art&iacute;culos y/o las secciones. Despu&eacute;s, estos archivos
 pueden referenciarse en el art&iacute;culo,
 o mostrarse por separado.<p>',
'texte_documents_joints_2' => 'Este ajuste no impide la inserci&oacute;n de im&aacute;genes directamente en los art&iacute;culos.',
'texte_effacer_base' => 'Borrar la base de datos SPIP',
'texte_effacer_donnees_indexation' => 'Borrar los datos de indexaci&oacute;n',
'texte_en_cours_validation' => 'Los art&iacute;culos y notas breves mostradas m&aacute;s adelante, est&aacute;n propuestas para la publicaci&oacute;n. No dudes en dar tu opini&oacute;n mediante los foros adjuntos.',
'texte_enrichir_mise_a_jour' => 'Puedes enriquecer el formato de tu texto utilizando "atajos tipogr&aacute;ficos"',
'texte_fichier_authent' => '<b>&iquest; SPIP debe crear los ficheros especiales <tt>.htpasswd</tt> y <tt>.htpasswd-admin</tt> en la carpeta <tt>ecrire/data/</tt> ?</b><p>
Estos ficheros pueden servir para restringir el acceso a las autoras y administradores en otros lugares de tu sitio (programa externo de estad&iacute;sticas, por ejemplo).<p>
Si no ves la utilidad puedes dejar esta opci&oacute;n con su valor por omisi&oacute;n (no creaci&oacute;n de los ficheros).',
'texte_informations_personnelles_1' => 'El sistema va a crear ahora un acceso personalizado al sitio.',
'texte_informations_personnelles_2' => '(Nota: si se trata de una reinstalaci&oacute;n, y tu acceso todav&iacute;a funciona, puedes ',
'texte_introductif_article' => '(Introducci&oacute;n del art&iacute;culo.)',
'texte_jeu_caractere' => 'Esta opci&oacute;n es &uacute;til si tu sitio debe visualizar  alfabetos diferentes del alfabeto romano (u &laquo;occidental&raquo;) y sus derivados.
En ese caso, puede ser preferible cambiar el reglaje por omisi&oacute;n para utilizar un juego de caracteres apropiado. En todo caso, se aconseja hacer pruebas para encontrar una soluci&oacute;n satisfactoria. Si modificas este par&aacute;metro, conviene adaptar el sitio p&uacute;blico en consecuencia (baliza <tt>#CHARSET</tt>).',
'texte_jeu_caractere_2' => 'Este reglaje no tiene efecto retroactivo. Por lo tanto, los textos incluidos anteriormente pueden mostrarse incorrectamente despu&eacute;s de una modificaci&oacute;n del reglaje. En todos los casos, puedes, sin riesgos, volver a la configuraci&oacute;n anterior.',
'texte_lien_hypertexte' => '(Si tu mensaje se refiere a un art&iacute;culo publicado en la Web, o a una p&aacute;gina que contiene m&aacute;s informaciones, indica a continuaci&oacute;n el t&iacute;tulo de la p&aacute;gina y su direcci&oacute;n URL.)',
'texte_liens_sites_syndiques' => 'Los enlaces salidos de los sitios sindicados pueden ser bloqueados a priori; el ajuste indicado a continuaci&oacute;n se refiere al ajuste por defecto de los sitios sindicados despu&eacute;s de su creaci&oacute;n. De todos modos, posteriormente se puede desbloquear cada enlace individualmente, o escoger, sitio a sitio, bloquear los enlaces que viene de tal o cual sitio.',
'texte_liens_syndication' => 'Los pr&oacute;ximos enlaces con procedencia de este sitio se mostrar&aacute;n inmediatamente en el sitio p&uacute;blico.',
'texte_login_ldap_1' => '(Dejar en blanco para un acceso an&oacute;nimo, o indicar la ruta completa, por ejemplo "<tt>uid=perez, ou=users, dc=mi-dominio, dc=com</tt>".)',
'texte_login_precaution' => '&iexcl;Atenci&oacute;n! Este es el identificante con el cual est&aacute;s conectado actualmente.
Utiliza este formulario con precauci&oacute;n...',
'texte_message_edit' => 'Atenci&oacute;n: este mensaje puede ser modificado por todos los administradores del sitio, y es visible por todos los redactores. Utilizar los anuncios solamente para exponer acontecimientos importantes de la vida del sitio.',
'texte_messages_publics' => 'Mensajes p&uacute;blicos del art&iacute;culo:',
'texte_mise_a_niveau_base_1' => 'Haz actualizado los ficheros de SPIP y ahora debes actualizar la base de datos del sitio.',
'texte_modifier_article' => 'Modificar el art&iacute;culo:',
'texte_moteur_recherche_active' => '<b>El motor de b&uacute;squeda est&aacute; activado.</b> Utiliza este comando si deseas proceder a una reindexaci&oacute;n r&aacute;pida (despu&eacute;s de la restauraci&oacute;n de una copia de seguridad, por ejemplo). Nota que los documentos modificados de modo normal (mediante la interfaz SPIP) son reindexados autom&aacute;ticamente: esta orden s&oacute;lo es &uacute;til de un modo excepcional.',
'texte_moteur_recherche_non_active' => 'El motor de b&uacute;squeda no est&aacute; activado.',
'texte_mots_cles' => 'Las palabras clave permiten crear enlaces tem&aacute;ticos entre los art&iacute;culos, independientemente de su emplazamiento dentro de las secciones. De este modo, puedes enriquecer la navegaci&oacute;n de tu sitio, o incluso utilizar estas propiedades para personalizar la presentaci&oacute;n de los art&iacute;culos dentro de tus esqueletos.',
'texte_mots_cles_dans_forum' => '&iquest;Quieres permitir el uso de las palabras clave, que los y las visitantes puedan seleccionar en los foros del sitio p&uacute;blico? (Atenci&oacute;n: esta opci&oacute;n es relativamente compleja de usar correctamente.)',
'texte_multilinguisme' => 'Si deseas manejar art&iacute;culos en varios idiomas, con una navegaci&oacute;n compleja, puedes agregar un men&uacute; de selecci&oacute;n de lengua para los art&iacute;culos y/o para las secciones en funci&oacute;n de la organizaci&oacute;n de tu sitio.',
'texte_multilinguisme_trad' => 'Tambi&eacute;n puedes activar un sistema de enlaces entre las diferentes traducciones de un art&iacute;culo. ',
'texte_non_compresse' => '<i>no comprimido</i> (tu servidor no soporta esta funcionalidad)',
'texte_non_fonction_referencement' => 'Puedes preferir no usar esta funci&oacute;n autom&aacute;tica, e indicar tu mismo los elementos concernientes a este sitio...',
'texte_nouveau_message' => 'Nuevo mensaje',
'texte_nouveau_mot' => 'Nueva palabra',
'texte_nouvelle_version_spip_1' => 'Has instalado una versi&oacute;n nueva de SPIP.',
'texte_nouvelle_version_spip_2' => 'Esta nueva versi&oacute;n necesita una actualizaci&oacute;n m&aacute;s completa que de costumbre. Si eres webmaster del sitio, borra el fichero <tt>inc_connect.php3</tt> del directorio <tt>ecrire<tt> y retoma la instalaci&oacute;n con el fin de actualizar los par&aacute;metros de conexi&oacute;n a la base de datos. <p>(NB.: si has olvidado los par&aacute;metros de conexi&oacute;n, mira el fichero <tt>inc_connect.php3</tt> antes de suprimirlo...)',
'texte_operation_echec' => 'Regresa a la p&aacute;gina anterior, selecciona otra base o crea una nueva. Verifica las informaciones facilitadas por tu proveedor de hospedaje.',
'texte_plus_trois_car' => 'm&aacute;s de 3 caracteres',
'texte_plusieurs_articles' => 'Se han encontrado varios autores o autoras para "@cherche_auteur@":',
'texte_port_annuaire' => '(El valor indicado por defecto es correcto en general.)',
'texte_proposer_publication' => 'Cuando tu art&iacute;culo est&eacute; terminado, <br> puedes proponer su publicaci&oacute;n',
'texte_proxy' => 'En algunos casos (Intranet, redes protegidas...), puede ser necesario utilizar un <I>proxy HTTP</i> para llegar a los sitios sindicados.
En ese caso, indica a continuaci&oacute;n su direcci&oacute;n, bajo la forma <tt><html>http://proxy:8080</html></tt>. En general, se dejar&aacute; esta casilla vac&iacute;a.',
'texte_publication_articles_post_dates' => '&iquest;Qu&eacute; comportamiento debe adoptar SPIP frente a los art&iacute;culos cuya fecha de publicaci&oacute;n ha sido fijada con un plazo futuro?',
'texte_rappel_selection_champs' => '[Selecciona correctamente este campo.]',
'texte_recalcul_page' => 'Si deseas recalcular una sola p&aacute;gina utiliza el bot&oacute;n "Recalcular" en el espacio p&uacute;blico.',
'texte_recapitiule_liste_documents' => 'Esta p&aacute;gina recapitula la lista de documentos que has insertado en las secciones. Para modificar las informaciones de cada documento, utiliza el enlace de su secci&oacute;n.',
'texte_recuperer_base' => 'Reparar la base de datos',
'texte_reference_mais_redirige' => 'Art&iacute;culo referenciado en tu sitio y redirigido hacia otra URL.',
'texte_referencement_automatique' => '<b>Referenciar autom&aacute;ticamente un sitio</b><br>Si escribes aqu&iacute; la URL de un sitio o la direcci&oacute;n del fichero "backend" del sitio, SPIP recuperar&aacute; autom&aacute;ticamente las informaciones (t&iacute;tulo, descripcci&oacute;n...).',
'texte_requetes_echouent' => '<B>Cuando algunas peticiones MySQL fallan sistem&aacute;ticamente y sin raz&oacute;n aparente, es posible que sea por culpa de la propia base de datos.</b>
MySQL dispone de una facultad de reparaci&oacute;n de sus tablas cuando han sido da&ntilde;adas por accidente. Aqu&iacute; puedes intentar esta reparaci&oacute;n; en caso de fallo, conserva una copia del resultado, que posiblemente contiene indicios de lo que no funciona...
Si el problema persiste, contacta con tu proveedor de hospedaje.',
'texte_restaurer_base' => 'Restaurar el contenido de la copia de seguridad',
'texte_restaurer_sauvegarde' => 'Esta opci&oacute;n te permite restaurar una copia de seguridad de la base efectuada anteriormente. A este efecto, el fichero que contiene la copia de seguridad se debe haber situado en el directorio <i>ecrire/data/</i>.
Se prudente con  esta funcionalidad: <b>las modificaciones o p&eacute;rdidas eventuales son irreversibles.</b>',
'texte_sauvegarde' => 'Crear una copia de seguridad de la base',
'texte_sauvegarde_base' => 'Crear una copia de seguridad de la base',
'texte_sauvegarde_compressee' => 'La copia de seguridad ser&aacute; realizada en un fichero sin compressi&oacute;n <b>ecrire/data/dump.xml</b>.',
'texte_selection_langue_principale' => 'A continuaci&oacute;n puedes seleccionar el &laquo;idioma principal&raquo; del sitio. Esta selecci&oacute;n no obliga - &iexcl;afortunadamente! - a escribir los art&iacute;culos en el idioma elegido, pero permite determinar:
<ul><li> el formato por defecto de las fechas en el sitio p&uacute;blico;</li>
<li> la naturaleza del motor tipogr&aacute;fico que SPIP debe utilizar para reproducir los textos;</li>
<li> el idioma utilizado en los formularios del sitio p&uacute;blico;</li>
<li> el idioma mostrado por defecto en el espacio privado.</li></ul>',
'texte_signification' => 'Las barras oscuras representan las entradas acumuladas (total de las subsecciones), las barras claras el n&uacute;mero de visitas de cada secci&oacute;n.',
'texte_sous_titre' => 'Subt&iacute;tulo',
'texte_statistiques_visites' => '(Barras oscuras: domingo / curva oscura: evoluci&oacute;n del promedio)',
'texte_statut_attente_validation' => 'En espera de validaci&oacute;n',
'texte_statut_publies' => 'Publicados',
'texte_statut_refuses' => 'Rechazados',
'texte_suppression_fichiers' => 'Utiliza esta instrucci&oacute;n  con el fin de suprimir todos los ficheros presentes en la cach&eacute; de SPIP. Esto permite, por ejemplo, forzar un recalculo de todas las p&aacute;ginas si has hecho importantes  modificaciones gr&aacute;ficas o de la estructura del sitio.',
'texte_sur_titre' => 'Antet&iacute;tulo',
'texte_syndication' => 'Es posible recuperar autom&aacute;ticamente, cuando un sitio Web lo permite, la lista de novedades. Para ello, debes activar la sindicaci&oacute;n.
<blockquote><i>Algunos proveedores de hospedaje desactivan esta funcionalidad ; en ese caso, no podr&aacute;s utilizar la sindicaci&oacute;n de contenido desde tu sitio.</i></blockquote>',
'texte_table_ok' => ': esta tabla est&aacute; bien.',
'texte_tables_indexation_vides' => 'Las tablas del motor de indexaci&oacute;n est&aacute;n vac&iacute;as.',
'texte_tentative_recuperation' => 'Tentativa de reparaci&oacute;n.',
'texte_tenter_reparation' => 'Intentar la reparaci&oacute;n de la base de datos.',
'texte_test_proxy' => 'Para ensayar este "proxy" indique aqu&iacute; la URL del sitio.',
'texte_titre_02' => 'T&iacute;tulo',
'texte_titre_obligatoire' => '<B>T&iacute;tulo</B> [Obligatorio]',
'texte_travail_article' => '@nom_auteur_modif@ ha trabajado sobre este art&iacute;culo hace @date_diff@ minutos.',
'texte_travail_collaboratif' => 'Es frecuente que varios redactores y redactoras trabajen sobre el mismo art&iacute;culo, el sistema puede mostrar los art&iacute;culos recientemente &laquo;abiertos&raquo; para  evitar las modificaciones simult&aacute;neas.
 Esta opci&oacute;n est&aacute; desactivada por omisi&oacute;n para evitar mostrar mensajes de advertencia intempestivos.',
'texte_trop_resultats_auteurs' => 'Demasiados resultados para la b&uacute;squeda de "@cherche_auteur@". Precise los criterios.',
'texte_unpack' => 'Telecargado de la &uacute;ltima versi&oacute;n.',
'texte_utilisation_moteur_syndiques' => 'Cuando utilizas el motor de b&uacute;squeda integrado
    en SPIP, puedes efectuar las b&uacute;squedas sobre los sitios y
    los art&iacute;culos sindicados de dos maneras 
    diferentes. <br><img src="puce.gif"> La m&aacute;s simple consiste en buscar &uacute;nicamente en los 
t&iacute;tulos y las descripciones de los art&iacute;culos. <br><img src="puce.gif"> Un segundo m&eacute;todo, mucho m&aacute;s potente, permite a SPIP buscar tambi&eacute;n en el texto de los sitios referenciados. Si referencias un sitio, SPIP efectuar&aacute; entonces la b&uacute;squeda dentro del contenido de &eacute;ste.',
'texte_utilisation_moteur_syndiques_2' => 'Este m&eacute;todo obliga a SPIP a visitar regularmente los sitios referenciados, lo que provoca una ligera disminuci&oacute;n de velocidad de tu propio sitio.',
'texte_vide' => 'vac&iacute;o',
'texte_vider_cache' => 'Vaciar la cach&eacute;',
'titre_admin_effacer' => 'Mantenimiento t&eacute;cnico',
'titre_admin_tech' => 'Mantenimiento t&eacute;cnico',
'titre_admin_vider' => 'Mantenimiento t&eacute;cnico',
'titre_articles_syndiques' => 'Art&iacute;culos sindicados de este sitio',
'titre_breves' => 'Las breves',
'titre_cadre_afficher_article' => 'Mostrar los art&iacute;culos',
'titre_cadre_afficher_traductions' => 'Mostrar el estado de las traducciones para los idiomas siguientes:',
'titre_cadre_ajouter_auteur' => 'A&ntilde;adir un autor',
'titre_cadre_forum_administrateur' => 'Foro administradores',
'titre_cadre_forum_interne' => 'Foro interno',
'titre_cadre_interieur_rubrique' => 'Al interior de la secci&oacute;n',
'titre_cadre_numero_auteur' => 'AUTEUR O AUTORA N&Uacute;MERO',
'titre_cadre_signature_obligatoire' => '<B>Firma</B> [Obligatoria]<BR>',
'titre_config_fonctions' => 'Configuraci&oacute;n del sitio',
'titre_config_groupe_mots_cles' => 'Configuraci&oacute;n de los grupos de palabras clave',
'titre_configuration' => 'Configuraci&oacute;n del sitio',
'titre_connexion_ldap' => 'Opciones: <b>Tu conexi&oacute;n LDAP</b>',
'titre_dernier_article_syndique' => 'Ultimos art&iacute;culos sindicados',
'titre_documents_joints' => 'Documentos adjuntos',
'titre_evolution_visite' => 'Evoluci&oacute;n de las visitas',
'titre_forum_suivi' => 'Gesti&oacute;n de los foros',
'titre_gauche_mots_edit' => 'Palabra',
'titre_groupe_mots' => 'Grupo de palabras',
'titre_langue_article' => 'IDIOMA DEL ART&Iacute;CULO',
'titre_langue_breve' => 'IDIOMA DE LA BREVE',
'titre_langue_rubrique' => 'IDIOMA DE LA SECCI&Oacute;N',
'titre_langue_trad_article' => 'IDIOMA Y TRADUCCIONES DEL ART&Iacute;CULO',
'titre_les_articles' => 'Los art&iacute;culos',
'titre_mots_cles_dans_forum' => 'Palabras clave en los foros del sitio p&uacute;blico',
'titre_mots_tous' => 'Las palabras clave',
'titre_naviguer_dans_le_site' => 'Navegar por el sitio...',
'titre_nouveau_groupe' => 'Nuevo grupo',
'titre_nouvelle_breve' => 'Nueva breve',
'titre_nouvelle_rubrique' => 'Nueva secci&oacute;n',
'titre_numero_rubrique' => 'SECCI&Oacute;N N&Uacute;MERO:',
'titre_page_admin_effacer' => 'Mantenimiento t&eacute;cnico: borrar la base',
'titre_page_articles_edit' => 'Modificar: @titre@',
'titre_page_articles_page' => 'Los art&iacute;culos',
'titre_page_articles_tous' => 'Todo el sitio',
'titre_page_auteurs' => 'Visitantes',
'titre_page_breves' => 'Breves',
'titre_page_breves_edit' => 'Modificar la nota breve: &laquo; @titre@ &raquo;',
'titre_page_calendrier' => 'Calendario @nom_mois@ @annee@',
'titre_page_config_contenu' => 'Configuraci&oacute;n del sitio',
'titre_page_config_fonctions' => 'Configuraci&oacute;n del sitio',
'titre_page_configuration' => 'Configuraci&oacute;n del sitio',
'titre_page_controle_petition' => 'Seguimiento de las peticiones',
'titre_page_delete_all' => 'Supresi&oacute;n total e irreversible',
'titre_page_documents_liste' => 'Los documentos de las secciones',
'titre_page_forum' => 'Foro de los administradores',
'titre_page_forum_envoi' => 'Enviar un mensaje',
'titre_page_forum_suivi' => 'Seguimiento de los foros',
'titre_page_index' => 'Tu espacio privado',
'titre_page_message_edit' => 'Redactar un mensaje',
'titre_page_messagerie' => 'Tu mensajer&iacute;a',
'titre_page_mots_tous' => 'Palabras clave',
'titre_page_recherche' => 'Resultados de la b&uacute;squeda @recherche@',
'titre_page_sites_tous' => 'Los sitios referenciados',
'titre_page_statistiques' => 'Estad&iacute;sticas por secci&oacute;n',
'titre_page_statistiques_referers' => 'Estad&iacute;sticas (enlaces entrantes)',
'titre_page_statistiques_visites' => 'Estad&iacute;sticas de las visitas',
'titre_page_upgrade' => 'Actualizaci&oacute;n de SPIP',
'titre_publication_articles_post_dates' => 'Publicaci&oacute;n de los art&iacute;culos con fecha posterior',
'titre_referencement_sites' => 'Referenciamiento de sitios y sindicalizaci&oacute;n',
'titre_referencer_site' => 'Referenciar un sitio',
'titre_rendez_vous' => 'CITAS:',
'titre_reparation' => 'Reparaci&oacute;n',
'titre_site_numero' => 'Sitio',
'titre_sites_proposes' => 'Los sitios propuestos',
'titre_sites_references_rubrique' => 'Los sitios referenciados en esta secci&oacute;n',
'titre_sites_syndiques' => 'Los sitios sindicados',
'titre_sites_tous' => 'Los sitios referenciados',
'titre_suivi_petition' => 'Gesti&oacute;n de las peticiones',
'titre_syndication' => 'Sindicaci&oacute;n de sitios',
'trad_article_inexistant' => 'No hay ning&uacute;n art&iacute;culo con ese n&uacute;mero.',
'trad_article_traduction' => 'Todas las versiones de este art&iacute;culo:',
'trad_deja_traduit' => 'Esta instancia del art&iacute;culo ya es una traducci&oacute;n.',
'trad_delier' => 'Ya no ligar este art&iacute;culo a sus traducciones ',
'trad_lier' => 'Este art&iacute;culo es una traducci&oacute;n del art&iacute;culo n&uacute;mero:',
'trad_new' => 'Escribir una nueva traducci&oacute;n de este art&iacute;culo',


// V
'version_initiale' => 'Versi&oacute;n inicial'

);


?>

--- NEW FILE: ecrire_en.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'This part of the online help is not yet available in the present language.',
'avis_acces_interdit' => 'Access forbidden.',
'avis_article_modifie' => 'Warning, @nom_auteur_modif@ has worked on this article @date_diff@ minutes ago',
'avis_aucun_resultat' => 'No results found.',
'avis_chemin_invalide_1' => 'The path you have selected',
'avis_chemin_invalide_2' => 'does not seem valid. Please return to the previous page and verify the information provided.',
'avis_connexion_echec_1' => 'Connection to MySQL server failed.',
'avis_connexion_echec_2' => 'Go back to the previous page, and verify the information you have provided.',
'avis_connexion_echec_3' => '<b>N.B.</b> On a number of servers, you must <b>request</b> the activation of your access to MySQL database before you can use it. If you are unable to connect, make sure that you actually made this request.',
'avis_connexion_ldap_echec_1' => 'Connection to the LDAP server failed.',
'avis_connexion_ldap_echec_2' => 'Go back to the previous page, and verify the information you have provided.',
[...1022 lines suppressed...]
'titre_sites_references_rubrique' => 'Referenced sites in this section',
'titre_sites_syndiques' => 'Syndicated sites',
'titre_sites_tous' => 'Referenced sites',
'titre_suivi_petition' => 'Petitions follow-up',
'titre_syndication' => 'Sites syndication',
'trad_article_inexistant' => 'There is no article with this number',
'trad_article_traduction' => 'All the versions of this article:',
'trad_deja_traduit' => 'This article is itself a translation of the current article.',
'trad_delier' => 'Stop linking this article to its translations',
'trad_lier' => 'This article is a translation of article number:',
'trad_new' => 'Write a new translation of this article',


// V
'version_initiale' => 'Initial version'

);


?>

--- NEW FILE: ecrire_hu.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Ez a r&eacute;sze a s&uacute;g&oacute;nak m&eacute;g nincs leford&iacute;tva arra a nyelvre.',
'avis_acces_interdit' => 'Hozz&aacute;f&eacute;r&eacute;s nincs enged&eacute;lyezve',
'avis_article_modifie' => 'Vigy&aacute;zat, @nom_auteur_modif@ dolgozott ezen a cikken @date_diff@ perccel ezel&#337;tt',
'avis_aucun_resultat' => 'Nincs eredm&eacute;ny.',
'avis_chemin_invalide_1' => 'Az &Ouml;n &aacute;ltal v&aacute;lasztott el&eacute;r&eacute;si &uacute;t',
'avis_chemin_invalide_2' => 'nem t&#369;nik &eacute;rv&eacute;nyesnek. Menjen az el&ouml;z&#337; oldalra &eacute;s ellen&#337;rizze a be&iacute;rt adatokat.',
'avis_connexion_echec_1' => 'A MySQL szerverhez val&oacute; csatlakoz&aacute;s sikertelen.',
'avis_connexion_echec_2' => 'Menjen az el&ouml;z&#337; oldalra, &eacute;s ellen&#337;rizze a be&iacute;rt adatokat.',
'avis_connexion_echec_3' => '<b>Megjegyz&eacute;s:</b> Sok szerver eset&eacute;n, <b>k&eacute;rni kell</b> a MySQL adatb&aacute;zishoz val&oacute; hozz&aacute;f&eacute;r&eacute;s aktv&aacute;l&aacute;s&aacute;t, miel&#337;bb haszn&aacute;lhassa. Amennyiben nem tud csatlakozni, ellen&#337;rizze, ha ez az elj&aacute;r&aacute;s megt&ouml;rt&eacute;nt-e.',
'avis_connexion_ldap_echec_1' => 'Az LDAP szerverhez val&oacute; csatlakoz&aacute;s sikertelen.',
'avis_connexion_ldap_echec_2' => 'Menjen az el&ouml;z&#337; oldalra, &eacute;s ellen&#337;rizze a be&iacute;rt adatokat.',
[...963 lines suppressed...]
'titre_sites_references_rubrique' => 'Felvett honlapok ebben a rovatban',
'titre_sites_syndiques' => 'A szindik&aacute;lt honlapok',
'titre_sites_tous' => 'A felvett honlapok',
'titre_suivi_petition' => 'Al&aacute;&iacute;r&aacute;sgy&#369;jt&eacute;sek megfigyel&eacute;se',
'titre_syndication' => 'Honlapok szindik&aacute;l&aacute;sa',
'trad_article_inexistant' => 'Nincs ilyen sorsz&aacute;m&uacute; cikk.',
'trad_article_traduction' => 'A cikk &ouml;sszes v&aacute;ltozatai&nbsp;:',
'trad_deja_traduit' => 'Ez a cikk m&aacute;r egy ford&iacute;t&aacute;s a jelen cikkr&#337;l.',
'trad_delier' => 'Visszavenni a cikk csatol&aacute;s&aacute;t ezekre a ford&iacute;t&aacute;sokra',
'trad_lier' => 'Ez a cikk egy ford&iacute;t&aacute;s err&#337;l a cikkr&#337;l&nbsp;:',
'trad_new' => '&Iacute;rni egy &uacute;jabb ford&iacute;t&aacute;st err&#337;l a cikkr&#337;l',


// V
'version_initiale' => '<NEW>Version initiale'

);


?>

--- NEW FILE: ecrire_oc_ni.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a travalhat sus aquel article fa @date_diff@ minutas',
'avis_aucun_resultat' => 'Minga de resultat.',
'avis_chemin_invalide_1' => 'Lo camin qu\'av&egrave;tz chausit',
'avis_chemin_invalide_2' => 'sembla pas valid. Vorgatz tornar a la p&agrave;gina anteriora e verificar li informacions fornidi.',
'avis_connexion_echec_1' => 'La connexion au servidor MySQL a so&iuml;t.',
'avis_connexion_echec_2' => 'Tornatz a la p&agrave;gina anteriora, e verificatz li informacions qu\'av&egrave;tz fornidi.',
'avis_connexion_echec_3' => '<b>N.B.</b> Sus totplen de servidors, dev&egrave;tz <b>demandar</b> l\'activacion dau v&ograve;stre acc&egrave;s a la basa MySQL denant de la poder utilisar. Se vos pod&egrave;tz pas connectar, verificatz qu\'av&egrave;tz ben realisat aqueu procediment.',
'avis_connexion_ldap_echec_1' => 'La connexion au servidor LDAP a so&iuml;t.',
'avis_connexion_ldap_echec_2' => 'Tornatz a la p&agrave;gina anteriora, e verificatz li informacions que nos av&egrave;tz fornidi. ',
[...971 lines suppressed...]
'titre_sites_references_rubrique' => 'Lu sits referen&ccedil;ats dins aquela rubrica',
'titre_sites_syndiques' => 'Lu sits sindicats',
'titre_sites_tous' => 'Lu sits referen&ccedil;ats',
'titre_suivi_petition' => 'Seguit dei peticions',
'titre_syndication' => 'Sindicacion dei sits',
'trad_article_inexistant' => 'I a minga d\'article que p&ograve;rten aqueu n&uacute;mero.',
'trad_article_traduction' => 'Toti li versions d\'aquel article&nbsp;:',
'trad_deja_traduit' => 'Aquel article es ja una revirada dau present article.',
'trad_delier' => 'Ligar plus aquest article ai reviradas sieui',
'trad_lier' => 'Aquel article es una revirada de l\'article n&uacute;mero&nbsp;:',
'trad_new' => 'Escriure una nov&egrave;la revirada d\'aquel article',


// V
'version_initiale' => 'Version iniciala'

);


?>

--- NEW FILE: ecrire_bg.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'aide_non_disponible' => '&#1058;&#1072;&#1079;&#1080; &#1095;&#1072;&#1089;&#1090; &#1086;&#1090; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;&#1090;&#1072; "&#1055;&#1086;&#1084;&#1086;&#1097;&#1085;&#1080;&#1082;" &#1074;&#1089;&#1077; &#1086;&#1097;&#1077; &#1085;&#1077; &#1077; &#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1074;&#1072;&#1085;&#1072; &#1085;&#1072; &#1073;&#1098;&#1083;&#1075;&#1072;&#1088;&#1089;&#1082;&#1080; &#1077;&#1079;&#1080;&#1082;.',
'avis_acces_interdit' => '&#1047;&#1072;&#1073;&#1088;&#1072;&#1085;&#1077;&#1085; &#1076;&#1086;&#1089;&#1090;&#1098;&#1087;.',
'avis_article_modifie' => '&#1055;&#1088;&#1077;&#1076;&#1091;&#1087;&#1088;&#1077;&#1078;&#1076;&#1077;&#1085;&#1080;&#1077;! @nom_auteur_modif@ &#1077; &#1088;&#1072;&#1073;&#1086;&#1090;&#1080;&#1083; &#1087;&#1086; &#1090;&#1072;&#1079;&#1080; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103; &#1087;&#1088;&#1077;&#1076;&#1080; @date_diff@ &#1084;&#1080;&#1085;&#1091;&#1090;&#1080;',
'avis_aucun_resultat' => '&#1053;&#1103;&#1084;&#1072; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085;&#1080; &#1088;&#1077;&#1079;&#1091;&#1083;&#1090;&#1072;&#1090;&#1080;.',
'avis_chemin_invalide_1' => '&#1048;&#1084;&#1077;&#1090;&#1086; &#1085;&#1072; &#1092;&#1072;&#1081;&#1083;&#1072;, &#1082;&#1086;&#1077;&#1090;&#1086; &#1089;&#1090;&#1077; &#1080;&#1079;&#1073;&#1088;&#1072;&#1083;&#1080;',
'avis_chemin_invalide_2' => '&#1077; &#1075;&#1088;&#1077;&#1096;&#1085;&#1086;. &#1052;&#1086;&#1083;&#1103;, &#1074;&#1098;&#1088;&#1085;&#1077;&#1090;&#1077; &#1089;&#1077; &#1085;&#1072; &#1087;&#1088;&#1077;&#1076;&#1080;&#1096;&#1085;&#1072;&#1090;&#1072; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;, &#1079;&#1072; &#1079;&#1072; &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1080;&#1090;&#1077; &#1087;&#1086;&#1076;&#1072;&#1076;&#1077;&#1085;&#1072;&#1090;&#1072; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1103;. ',
'avis_connexion_echec_1' => '&#1042;&#1088;&#1098;&#1079;&#1082;&#1072;&#1090;&#1072; &#1082;&#1098;&#1084; MySQL &#1089;&#1098;&#1088;&#1074;&#1098;&#1088;&#1072; &#1089;&#1077; &#1088;&#1072;&#1079;&#1087;&#1072;&#1076;&#1085;&#1072;.',
'avis_connexion_echec_2' => '&#1052;&#1086;&#1083;&#1103;, &#1074;&#1098;&#1088;&#1085;&#1077;&#1090;&#1077; &#1089;&#1077; &#1085;&#1072; &#1087;&#1088;&#1077;&#1076;&#1080;&#1096;&#1085;&#1072;&#1090;&#1072; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;, &#1079;&#1072; &#1076;&#1072; &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1080;&#1090;&#1077; &#1087;&#1086;&#1076;&#1072;&#1076;&#1077;&#1085;&#1072;&#1090;&#1072; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1103;.',
'avis_connexion_echec_3' => '<B>&#1042;&#1053;&#1048;&#1052;&#1040;&#1053;&#1048;&#1045;!</b> &#1047;&#1072; &#1076;&#1086;&#1089;&#1090;&#1098;&#1087; &#1076;&#1086; &#1075;&#1086;&#1083;&#1103;&#1084;&#1072; &#1095;&#1072;&#1089;&#1090; &#1086;&#1090; &#1089;&#1098;&#1088;&#1074;&#1098;&#1088;&#1080;&#1090;&#1077; &#1077; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1072; &#1089;&#1077; &#1080;&#1079;&#1087;&#1088;&#1072;&#1090;&#1080; <B>&#1079;&#1072;&#1103;&#1074;&#1082;&#1072;</b> &#1079;&#1072; &#1072;&#1082;&#1090;&#1080;&#1074;&#1080;&#1088;&#1072;&#1085;&#1077; &#1076;&#1086;&#1089;&#1090;&#1098;&#1087;&#1072; &#1076;&#1086; &#1073;&#1072;&#1079;&#1080;&#1090;&#1077; &#1076;&#1072;&#1085;&#1085;&#1080; MySQL, &#1087;&#1088;&#1077;&#1076;&#1080; &#1080;&#1079;&#1087;&#1086;&#1083;&#1079;&#1074;&#1072;&#1085;&#1077;&#1090;&#1086; &#1080;&#1084;. &#1040;&#1082;&#1086; &#1085;&#1077; &#1091;&#1089;&#1087;&#1077;&#1077;&#1090;&#1077; &!
 #1076;&#1072; &#1089;&#1077; &#1089;&#1074;&#1098;&#1088;&#1078;&#1077;&#1090;&#1077;, &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1077;&#1090;&#1077; &#1076;&#1072;&#1083;&#1080; &#1089;&#1090;&#1077; &#1080;&#1079;&#1087;&#1088;&#1072;&#1090;&#1080;&#1083;&#1080; &#1079;&#1072;&#1103;&#1074;&#1082;&#1072;&#1090;&#1072;.',
'avis_connexion_ldap_echec_1' => '&#1042;&#1088;&#1098;&#1079;&#1082;&#1072;&#1090;&#1072; &#1089; LDAP &#1089;&#1098;&#1088;&#1074;&#1098;&#1088;&#1072; &#1087;&#1088;&#1086;&#1087;&#1072;&#1076;&#1085;&#1072;.',
'avis_connexion_ldap_echec_2' => '&#1052;&#1086;&#1083;&#1103;, &#1074;&#1098;&#1088;&#1085;&#1077;&#1090;&#1077; &#1089;&#1077; &#1085;&#1072; &#1087;&#1088;&#1077;&#1076;&#1080;&#1096;&#1085;&#1072;&#1090;&#1072; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;, &#1079;&#1072; &#1079;&#1072; &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1080;&#1090;&#1077; &#1087;&#1086;&#1076;&#1072;&#1076;&#1077;&#1085;&#1072;&#1090;&#1072; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1103;.',
[...1022 lines suppressed...]
'titre_sites_references_rubrique' => '&#1057;&#1074;&#1098;&#1088;&#1079;&#1072;&#1085;&#1080; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077; &#1074; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;&#1090;&#1072;',
'titre_sites_syndiques' => '&#1054;&#1073;&#1077;&#1076;&#1080;&#1085;&#1077;&#1085;&#1080; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;',
'titre_sites_tous' => '&#1057;&#1074;&#1098;&#1088;&#1079;&#1072;&#1085;&#1080; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;',
'titre_suivi_petition' => '&#1044;&#1086;&#1087;&#1098;&#1083;&#1085;&#1077;&#1085;&#1080;&#1103; &#1085;&#1072; &#1084;&#1086;&#1083;&#1073;&#1080;&#1090;&#1077;',
'titre_syndication' => '&#1054;&#1073;&#1077;&#1076;&#1080;&#1085;&#1103;&#1074;&#1072;&#1085;&#1077; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;&#1090;&#1077;',
'trad_article_inexistant' => '&#1053;&#1077; &#1089;&#1098;&#1097;&#1077;&#1089;&#1090;&#1074;&#1091;&#1074;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103; &#1089; &#1090;&#1072;&#1082;&#1098;&#1074; &#1085;&#1086;&#1084;&#1077;&#1088;',
'trad_article_traduction' => '&#1042;&#1089;&#1080;&#1095;&#1082;&#1080; &#1074;&#1077;&#1088;&#1089;&#1080;&#1080; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072;:',
'trad_deja_traduit' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072; &#1077; &#1074;&#1077;&#1095;&#1077; &#1087;&#1088;&#1077;&#1074;&#1077;&#1076;&#1077;&#1085;&#1072;',
'trad_delier' => '&#1054;&#1090;&#1082;&#1072;&#1079; &#1086;&#1090; &#1089;&#1074;&#1098;&#1088;&#1079;&#1074;&#1072;&#1085;&#1077; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072; &#1089; &#1085;&#1077;&#1081;&#1085;&#1080;&#1090;&#1077; &#1087;&#1088;&#1077;&#1074;&#1086;&#1076;&#1080;',
'trad_lier' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072; &#1077; &#1087;&#1088;&#1077;&#1074;&#1086;&#1076; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103; &#1085;&#1086;&#1084;&#1077;&#1088; ',
'trad_new' => '&#1055;&#1080;&#1089;&#1072;&#1085;&#1077; &#1085;&#1072; &#1085;&#1086;&#1074; &#1087;&#1088;&#1077;&#1074;&#1086;&#1076; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072;',


// V
'version_initiale' => '&#1055;&#1098;&#1088;&#1074;&#1086;&#1085;&#1072;&#1095;&#1072;&#1083;&#1085;&#1072; &#1074;&#1077;&#1088;&#1089;&#1080;&#1103;'

);


?>



From stef at berlios.de  Sun Feb 20 23:14:48 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:14:48 +0100
Subject: [Spip-carto-cvs] spipcarto carto_fond.php3,NONE,1.1
Message-ID: <200502202214.j1KMEm8Y027382@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv27376

Added Files:
	carto_fond.php3 
Log Message:
1.8pr1

--- NEW FILE: carto_fond.php3 ---
<?php

$fond = "carto_fond";
$delais = 24*3600;

include ("inc-public.php3");

?>



From stef at berlios.de  Sun Feb 20 23:15:22 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:15:22 +0100
Subject: [Spip-carto-cvs] spipcarto article.php3,1.2,1.3
Message-ID: <200502202215.j1KMFM8Y027530@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv27523

Modified Files:
	article.php3 
Log Message:
1.8pr1

Index: article.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/article.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- article.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ article.php3	20 Feb 2005 22:15:20 -0000	1.3
@@ -1,8 +1,8 @@
-<?php
-
-$fond = "article";
-$delais = 24 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+$fond = "article";
+$delais = 24 * 3600;
+
+include ("inc-public.php3");
+
+?>



From stef at berlios.de  Sun Feb 20 23:15:07 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:15:07 +0100
Subject: [Spip-carto-cvs] spipcarto carto_lien.php3,NONE,1.1 carto_logox.php3,NONE,1.1 cartov2.php3,NONE,1.1 carto_logo.php3,NONE,1.1 carto.php3,1.2,1.3
Message-ID: <200502202215.j1KMF78Y027471@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv27460

Modified Files:
	carto.php3 
Added Files:
	carto_lien.php3 carto_logox.php3 cartov2.php3 carto_logo.php3 
Log Message:
1.8pr1

--- NEW FILE: carto_lien.php3 ---
<?php

$fond = "carto_lien";
$delais = 24*3600;

include ("inc-public.php3");

?>

--- NEW FILE: carto_logox.php3 ---
<?php

$fond = "carto_logox";
$delais = 24*3600;

include ("inc-public.php3");

?>

--- NEW FILE: cartov2.php3 ---
<?php

$fond = "cartov2";
$delais = 24*3600;

include ("inc-public.php3");

?>

--- NEW FILE: carto_logo.php3 ---
<?php

$fond = "carto_logo";
$delais = 24*3600;

include ("inc-public.php3");

?>

Index: carto.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/carto.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- carto.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ carto.php3	20 Feb 2005 22:15:04 -0000	1.3
@@ -1,8 +1,8 @@
-<?php
-
-$fond = "carto";
-$delais = 24*3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+$fond = "carto";
+$delais = 24*3600;
+
+include ("inc-public.php3");
+
+?>



From stef at berlios.de  Sun Feb 20 23:16:19 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:16:19 +0100
Subject: [Spip-carto-cvs] spipcarto COPYING.txt,NONE,1.1
Message-ID: <200502202216.j1KMGJ8Y027606@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv27600

Added Files:
	COPYING.txt 
Log Message:
1.8pr1

--- NEW FILE: COPYING.txt ---
		    GNU GENERAL PUBLIC LICENSE
		       Version 2, June 1991

 Copyright (C) 1989, 1991 Free Software Foundation, Inc.
                       59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.

			    Preamble

  The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
License is intended to guarantee your freedom to share and change free
software--to make sure the software is free for all its users.  This
General Public License applies to most of the Free Software
Foundation's software and to any other program whose authors commit to
using it.  (Some other Free Software Foundation software is covered by
the GNU Library General Public License instead.)  You can apply it to
your programs, too.

  When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
this service if you wish), that you receive source code or can get it
if you want it, that you can change the software or use pieces of it
in new free programs; and that you know you can do these things.

  To protect your rights, we need to make restrictions that forbid
anyone to deny you these rights or to ask you to surrender the rights.
These restrictions translate to certain responsibilities for you if you
distribute copies of the software, or if you modify it.

  For example, if you distribute copies of such a program, whether
gratis or for a fee, you must give the recipients all the rights that
you have.  You must make sure that they, too, receive or can get the
source code.  And you must show them these terms so they know their
rights.

  We protect your rights with two steps: (1) copyright the software, and
(2) offer you this license which gives you legal permission to copy,
distribute and/or modify the software.

  Also, for each author's protection and ours, we want to make certain
that everyone understands that there is no warranty for this free
software.  If the software is modified by someone else and passed on, we
want its recipients to know that what they have is not the original, so
that any problems introduced by others will not reflect on the original
authors' reputations.

  Finally, any free program is threatened constantly by software
patents.  We wish to avoid the danger that redistributors of a free
program will individually obtain patent licenses, in effect making the
program proprietary.  To prevent this, we have made it clear that any
patent must be licensed for everyone's free use or not licensed at all.

  The precise terms and conditions for copying, distribution and
modification follow.

		    GNU GENERAL PUBLIC LICENSE
   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

  0. This License applies to any program or other work which contains
a notice placed by the copyright holder saying it may be distributed
under the terms of this General Public License.  The "Program", below,
refers to any such program or work, and a "work based on the Program"
means either the Program or any derivative work under copyright law:
that is to say, a work containing the Program or a portion of it,
either verbatim or with modifications and/or translated into another
language.  (Hereinafter, translation is included without limitation in
the term "modification".)  Each licensee is addressed as "you".

Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running the Program is not restricted, and the output from the Program
is covered only if its contents constitute a work based on the
Program (independent of having been made by running the Program).
Whether that is true depends on what the Program does.

  1. You may copy and distribute verbatim copies of the Program's
source code as you receive it, in any medium, provided that you
conspicuously and appropriately publish on each copy an appropriate
copyright notice and disclaimer of warranty; keep intact all the
notices that refer to this License and to the absence of any warranty;
and give any other recipients of the Program a copy of this License
along with the Program.

You may charge a fee for the physical act of transferring a copy, and
you may at your option offer warranty protection in exchange for a fee.

  2. You may modify your copy or copies of the Program or any portion
of it, thus forming a work based on the Program, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

    a) You must cause the modified files to carry prominent notices
    stating that you changed the files and the date of any change.

    b) You must cause any work that you distribute or publish, that in
    whole or in part contains or is derived from the Program or any
    part thereof, to be licensed as a whole at no charge to all third
    parties under the terms of this License.

    c) If the modified program normally reads commands interactively
    when run, you must cause it, when started running for such
    interactive use in the most ordinary way, to print or display an
    announcement including an appropriate copyright notice and a
    notice that there is no warranty (or else, saying that you provide
    a warranty) and that users may redistribute the program under
    these conditions, and telling the user how to view a copy of this
    License.  (Exception: if the Program itself is interactive but
    does not normally print such an announcement, your work based on
    the Program is not required to print an announcement.)

These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Program,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Program, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote it.

Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Program.

In addition, mere aggregation of another work not based on the Program
with the Program (or with a work based on the Program) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

  3. You may copy and distribute the Program (or a work based on it,
under Section 2) in object code or executable form under the terms of
Sections 1 and 2 above provided that you also do one of the following:

    a) Accompany it with the complete corresponding machine-readable
    source code, which must be distributed under the terms of Sections
    1 and 2 above on a medium customarily used for software interchange; or,

    b) Accompany it with a written offer, valid for at least three
    years, to give any third party, for a charge no more than your
    cost of physically performing source distribution, a complete
    machine-readable copy of the corresponding source code, to be
    distributed under the terms of Sections 1 and 2 above on a medium
    customarily used for software interchange; or,

    c) Accompany it with the information you received as to the offer
    to distribute corresponding source code.  (This alternative is
    allowed only for noncommercial distribution and only if you
    received the program in object code or executable form with such
    an offer, in accord with Subsection b above.)

The source code for a work means the preferred form of the work for
making modifications to it.  For an executable work, complete source
code means all the source code for all modules it contains, plus any
associated interface definition files, plus the scripts used to
control compilation and installation of the executable.  However, as a
special exception, the source code distributed need not include
anything that is normally distributed (in either source or binary
form) with the major components (compiler, kernel, and so on) of the
operating system on which the executable runs, unless that component
itself accompanies the executable.

If distribution of executable or object code is made by offering
access to copy from a designated place, then offering equivalent
access to copy the source code from the same place counts as
distribution of the source code, even though third parties are not
compelled to copy the source along with the object code.

  4. You may not copy, modify, sublicense, or distribute the Program
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense or distribute the Program is
void, and will automatically terminate your rights under this License.
However, parties who have received copies, or rights, from you under
this License will not have their licenses terminated so long as such
parties remain in full compliance.

  5. You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Program or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Program (or any work based on the
Program), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Program or works based on it.

  6. Each time you redistribute the Program (or any work based on the
Program), the recipient automatically receives a license from the
original licensor to copy, distribute or modify the Program subject to
these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein.
You are not responsible for enforcing compliance by third parties to
this License.

  7. If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Program at all.  For example, if a patent
license would not permit royalty-free redistribution of the Program by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Program.

If any portion of this section is held invalid or unenforceable under
any particular circumstance, the balance of the section is intended to
apply and the section as a whole is intended to apply in other
circumstances.

It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system, which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

  8. If the distribution and/or use of the Program is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Program under this License
may add an explicit geographical distribution limitation excluding
those countries, so that distribution is permitted only in or among
countries not thus excluded.  In such case, this License incorporates
the limitation as if written in the body of this License.

  9. The Free Software Foundation may publish revised and/or new versions
of the General Public License from time to time.  Such new versions will
be similar in spirit to the present version, but may differ in detail to
address new problems or concerns.

Each version is given a distinguishing version number.  If the Program
specifies a version number of this License which applies to it and "any
later version", you have the option of following the terms and conditions
either of that version or of any later version published by the Free
Software Foundation.  If the Program does not specify a version number of
this License, you may choose any version ever published by the Free Software
Foundation.

  10. If you wish to incorporate parts of the Program into other free
programs whose distribution conditions are different, write to the author
to ask for permission.  For software which is copyrighted by the Free
Software Foundation, write to the Free Software Foundation; we sometimes
make exceptions for this.  Our decision will be guided by the two goals
of preserving the free status of all derivatives of our free software and
of promoting the sharing and reuse of software generally.

			    NO WARRANTY

  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
REPAIR OR CORRECTION.

  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.

		     END OF TERMS AND CONDITIONS

	    How to Apply These Terms to Your New Programs

  If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these terms.

  To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least
the "copyright" line and a pointer to where the full notice is found.

    <one line to give the program's name and a brief idea of what it does.>
    Copyright (C) <year>  <name of author>

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA


Also add information on how to contact you by electronic and paper mail.

If the program is interactive, make it output a short notice like this
when it starts in an interactive mode:

    Gnomovision version 69, Copyright (C) year name of author
    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
    This is free software, and you are welcome to redistribute it
    under certain conditions; type `show c' for details.

The hypothetical commands `show w' and `show c' should show the appropriate
parts of the General Public License.  Of course, the commands you use may
be called something other than `show w' and `show c'; they could even be
mouse-clicks or menu items--whatever suits your program.

You should also get your employer (if you work as a programmer) or your
school, if any, to sign a "copyright disclaimer" for the program, if
necessary.  Here is a sample; alter the names:

  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
  `Gnomovision' (which makes passes at compilers) written by James Hacker.

  <signature of Ty Coon>, 1 April 1989
  Ty Coon, President of Vice

This General Public License does not permit incorporating your program into
proprietary programs.  If your program is a subroutine library, you may
consider it more useful to permit linking proprietary applications with the
library.  If this is what you want to do, use the GNU Library General
Public License instead of this License.



From stef at berlios.de  Sun Feb 20 23:16:01 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:16:01 +0100
Subject: [Spip-carto-cvs] spipcarto auteur.php3,1.2,1.3 ical.php3,1.2,1.3 inc-calcul.php3,1.2,1.3 htaccess-html.txt,1.2,1.3 breve.php3,1.2,1.3 forum.php3,1.2,1.3 impression.css,1.2,1.3 inc-calcul-outils.php3,1.2,1.3 backend.php3,1.2,1.3 inc-balises.php3,1.2,1.3 htaccess-propres.txt,1.2,1.3 inc-admin.php3,1.2,1.3 inc-cache.php3,1.2,1.3 distrib.php3,1.2,1.3 habillage.css,1.2,1.3 inc-boucles.php3,1.2,1.3 backend-breves.php3,1.2,1.3
Message-ID: <200502202216.j1KMG18Y027572@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv27564

Modified Files:
	auteur.php3 ical.php3 inc-calcul.php3 htaccess-html.txt 
	breve.php3 forum.php3 impression.css inc-calcul-outils.php3 
	backend.php3 inc-balises.php3 htaccess-propres.txt 
	inc-admin.php3 inc-cache.php3 distrib.php3 habillage.css 
	inc-boucles.php3 backend-breves.php3 
Log Message:
1.8pr1

Index: auteur.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/auteur.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- auteur.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ auteur.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,7 +1,7 @@
-<?php
-$fond = "auteur";
-$delais = 24 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "auteur";
+$delais = 24 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: ical.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ical.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- ical.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ ical.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,12 +1,12 @@
-<?php
-
-$fond = "ical";
-$delais = 3600;
-
- at header ("content-type:text/calendar");
-
-$flag_preserver=true;
-include ("inc-public.php3");
-
-
-?>
+<?php
+
+$fond = "ical";
+$delais = 3600;
+
+ at header ("content-type:text/calendar");
+
+$flag_preserver=true;
+include ("inc-public.php3");
+
+
+?>

Index: inc-calcul.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-calcul.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-calcul.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-calcul.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,284 +1,297 @@
-<?php
-
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_CALCUL")) return;
-define("_INC_CALCUL", "1");
-
-//
-// Ce fichier calcule une page en executant un squelette.
-//
-
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_index.php3");
-include_ecrire("inc_texte.php3");
-include_ecrire("inc_filtres.php3");
-include_ecrire("inc_lang.php3");
-include_ecrire("inc_documents.php3");
-include_ecrire("inc_abstract_sql.php3");
-include_ecrire("inc_forum.php3");
-include_ecrire("inc_debug_sql.php3");
-include_local("inc-calcul-outils.php3");
-
-// Ce fichier peut contenir une affectation de $dossier_squelettes  indiquant
-// le repertoire du source des squelettes (les pseudo-html avec BOUCLE...)
-
-if ($f = find_in_path("mes_fonctions.php3"))
-	include_local ($f);
-
-
-// Gestionnaire d'URLs
-if (@file_exists("inc-urls.php3"))
-	include_local("inc-urls.php3");
-else
-	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
-
-
-// Le squelette compile est-il trop vieux ?
-function squelette_obsolete($skel, $squelette) {
-	return (
-		$GLOBALS['var_mode']
-		OR !@file_exists($skel)
-		OR (@filemtime($squelette) > ($date = @filemtime($skel)))
-		OR (@filemtime('mes_fonctions.php3') > $date)
-		OR (@filemtime(_FILE_OPTIONS) > $date)
-	);
-}
-
-
-# Charge un squelette (au besoin le compile) 
-# et retoune le nom de sa fonction principale, ou '' s'il est indefini
-# Charge egalement un fichier homonyme de celui du squelette
-# mais de suffixe '_fonctions.php3' pouvant contenir:
-# - des filtres
-# - des fonctions de traduction de balise, de critere et de boucle
-# - des declaration de tables SQL supplementaires
-
-function charger_squelette ($squelette) {
-	$ext = $GLOBALS['extension_squelette'];
-	$nom = $ext . '_' . md5($squelette);
-	$sourcefile = $squelette . ".$ext";
-
-	// le squelette est-il deja en memoire (INCLURE  a repetition)
-	if (function_exists($nom))
-		return $nom;
-
-	$phpfile = _DIR_CACHE . 'skel_' . $nom . '.php';
-
-	// le squelette est-il deja compile et perenne ?
-	if (!squelette_obsolete($phpfile, $sourcefile)
-	AND lire_fichier ($phpfile, $contenu,
-	array('critique' => 'oui', 'phpcheck' => 'oui'))) 
-		eval('?'.'>'.$contenu);
-
-	// sinon, charger le compilateur et verifier que le source est lisible
-	if (!function_exists($nom)) {
-		include_local("inc-compilo.php3");
-		lire_fichier ($sourcefile, $skel);
-	}
-
-	// Le fichier suivant peut contenir entre autres:
-	// 1. les filtres utilises par le squelette
-	// 2. des ajouts au compilateur
-	// Le point 1 exige qu'il soit lu dans tous les cas.
-	// Le point 2 exige qu'il soit lu apres inc-compilo
-	// (car celui-ci initialise $tables_principales) mais avant la compil
-	$f = $squelette . '_fonctions.php3';
-	if (@file_exists($f)) include($f);
-
-	if (function_exists($nom)) return $nom;
-
-	$skel_code = calculer_squelette($skel, $nom, $ext, $sourcefile);
-
-	// Tester si le compilateur renvoie une erreur
-	if (is_array($skel_code))
-		erreur_squelette($skel_code[0], $skel_code[1]);
-	else {
-		if ($GLOBALS['var_mode'] == 'debug') {
-			include_ecrire("inc_debug_sql.php3");
-			debug_dumpfile ($skel_code, $nom, 'code');
-		}
-		eval('?'.'>'.$skel_code);
-		if (function_exists($nom)) {
-			ecrire_fichier ($phpfile, $skel_code);
-			return $nom;
-		}
-	}
-}
-
-# Provoque la recherche du squelette $fond d'une $lang donnee,
-# et l'applique sur un $contexte pour un certain $cache.
-# Retourne un tableau de 3 elements:
-# 'texte' => la page calculee
-# 'process_ins' => 'html' ou 'php' si presence d'un '< ?php'
-# 'invalideurs' => les invalideurs (cf inc-calcul-squel)
-
-# En cas d'erreur process_ins est absent et texte est un tableau de 2 chaines
-
-# La recherche est assuree par la fonction chercher_squelette,
-# definie dans inc-chercher, fichier non charge si elle est deja definie
-# (typiquement dans mes_fonctions.php3)
-
-function cherche_page ($cache, $contexte, $fond)  {
-	global $delais;
-
-	if (!function_exists('chercher_squelette'))
-		include_local("inc-chercher-squelette.php3");
-
-	// Choisir entre $fond-dist.html, $fond=7.html, etc?
-	$id_rubrique_fond = 0;
-	// Chercher le fond qui va servir de squelette
-	if ($r = sql_rubrique_fond($contexte))
-		list($id_rubrique_fond, $lang) = $r;
-	if (!$lang)
-		$lang = lire_meta('langue_site');
-	// Si inc-urls ou un appel dynamique veut fixer la langue, la recuperer
-	$lang = $contexte['lang'];
-
-	if (!$GLOBALS['forcer_lang'])
-		lang_select($lang);
-
-	$skel = chercher_squelette($fond,
-			$id_rubrique_fond,
-			$GLOBALS['spip_lang']);
-
-	// Charger le squelette et recuperer sa fonction principale
-	// (compilation automatique au besoin) et calculer
-
-	$page = array();
-
-	if ($skel) {
-		if ($fonc = charger_squelette($skel))
-		  $page = $fonc(array('cache' => $cache), array($contexte));
-
-		// Passer la main au debuggueur)
-		if ($GLOBALS['var_mode'] == 'debug')
-		  {
-			include_ecrire("inc_debug_sql.php3");
-			debug_dumpfile ($page['texte'], $fonc, 'resultat');
-		  }
-	}
-
-	// Nettoyer le resultat si on est fou de XML
-	if ($GLOBALS['xhtml']) {
-		include_ecrire("inc_tidy.php");
-		$page['texte'] = xhtml($page['texte']);
-	}
-
-	// Entrer les invalideurs dans la base
-	if ($delais>0) {
-		include_ecrire('inc_invalideur.php3');
-		maj_invalideurs($cache, $page['invalideurs'], $delais);
-	}
-
-	// Retourner la structure de la page
-
-	return $page;
-}
-
-
-//
-// Contexte : lors du calcul d'une page spip etablit le contexte a partir
-// des variables $_GET et $_POST, et leur ajoute la date
-// Note : pour hacker le contexte depuis le fichier d'appel (article.php3),
-// il est recommande de modifier $_GET['toto'] (meme si la page est
-// appelee avec la methode POST).
-//
-function calculer_contexte() {
-	foreach($GLOBALS['_GET'] as $var => $val) {
-		if (strpos($var, 'var_') !== 0)
-			$contexte[$var] = $val;
-	}
-	foreach($GLOBALS['_POST'] as $var => $val) {
-		if (strpos($var, 'var_') !== 0)
-			$contexte[$var] = $val;
-	}
-
-	if ($GLOBALS['date'])
-		$contexte['date'] = $contexte['date_redac'] = normaliser_date($GLOBALS['date']);
-	else
-		$contexte['date'] = $contexte['date_redac'] = date("Y-m-d H:i:s");
-
-	return $contexte;
-}
-
-function calculer_page_globale($cache, $contexte_local, $fond) {
-
-	// Gestion des URLs personnalises - sale mais historique
-	if (function_exists("recuperer_parametres_url")) {
-		global $contexte;
-		$contexte = $contexte_local;
-		recuperer_parametres_url($fond, nettoyer_uri());
-
-		// remettre les globales pour le bouton "Modifier cet article"
-		if (is_array($contexte))
-			foreach ($contexte as $var=>$val)
-				if (substr($var,0,3) == 'id_')
-					$GLOBALS[$var] = $val;
-		$contexte_local = $contexte;
-	}
-
-	// Go to work !
-	$page = cherche_page($cache, $contexte_local, $fond);
-
-	$signal = array();
-	foreach(array('id_parent', 'id_rubrique', 'id_article', 'id_auteur',
-	'id_breve', 'id_forum', 'id_secteur', 'id_syndic', 'id_syndic_article',
-	'id_mot', 'id_groupe', 'id_document') as $val) {
-		if ($contexte_local[$val])
-			$signal['contexte'][$val] = intval($contexte_local[$val]);
-	}
-
-	$page['signal'] = $signal;
-
-	return $page;
-}
-
-
-
-function calculer_page($chemin_cache, $elements, $delais, $inclusion=false) {
-
-	// Inclusion
-	if ($inclusion) {
-		$contexte_inclus = $elements['contexte'];
-		$page = cherche_page($chemin_cache,
-			$contexte_inclus, $elements['fond']);
-	}
-	else {
-
-		// Page globale
-		// si le champ chapo commence par '=' c'est une redirection.
-		if ($id_article = intval($GLOBALS['id_article'])) {
-			if ($art = sql_chapo($id_article)) {
-				$chapo = $art['chapo'];
-				if (substr($chapo, 0, 1) == '=') {
-					include_ecrire('inc_texte.php3');
-					list(,$url) = extraire_lien(array('','','',
-					substr($chapo, 1)));
-					if ($url) { // sinon les navigateurs pataugent
-						$url = addslashes($url);
-						$page = array('texte' => "<".
-						"?php header(\"Location: $url\"); ?" . ">",
-						'process_ins' => 'php');
-					}
-				}
-			}
-		}
-		if (!$page)
-			$page = calculer_page_globale($chemin_cache,
-				$elements['contexte'],
-				$elements['fond']);
-	}
-
-	$page['signal']['process_ins'] = $page['process_ins'];
-	$signal = "<!-- ".str_replace("\n", " ",
-	serialize($page['signal']))." -->\n";
-
-	// Enregistrer le fichier cache
-	if ($delais > 0 AND $GLOBALS['var_mode'] != 'debug'
-	AND empty($GLOBALS['_POST']))
-		ecrire_fichier($chemin_cache, $signal.$page['texte']);
-
-	return $page;
-}
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_CALCUL")) return;
+define("_INC_CALCUL", "1");
+
+//
+// Ce fichier calcule une page en executant un squelette.
+//
+
+include_ecrire("inc_meta.php3");
+include_ecrire("inc_index.php3");
+include_ecrire("inc_texte.php3");
+include_ecrire("inc_filtres.php3");
+include_ecrire("inc_lang.php3");
+include_ecrire("inc_documents.php3");
+include_ecrire("inc_abstract_sql.php3");
+include_ecrire("inc_forum.php3");
+include_ecrire("inc_debug_sql.php3");
+include_local("inc-calcul-outils.php3");
+
+// Ce fichier peut contenir une affectation de $dossier_squelettes  indiquant
+// le repertoire du source des squelettes (les pseudo-html avec BOUCLE...)
+
+if ($f = find_in_path("mes_fonctions.php3"))
+	include_local ($f);
+
+// Gestionnaire d'URLs
+if (@file_exists("inc-urls.php3"))
+	include_local("inc-urls.php3");
+else
+	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
+
+
+// Le squelette compile est-il trop vieux ?
+function squelette_obsolete($skel, $squelette) {
+	return (
+		$GLOBALS['var_mode']
+		OR !@file_exists($skel)
+		OR (@filemtime($squelette) > ($date = @filemtime($skel)))
+		OR (@filemtime('mes_fonctions.php3') > $date)
+		OR (@filemtime(_FILE_OPTIONS) > $date)
+	);
+}
+
+
+# Charge un squelette (au besoin le compile) 
+# et retoune le nom de sa fonction principale, ou '' s'il est indefini
+# Charge egalement un fichier homonyme de celui du squelette
+# mais de suffixe '_fonctions.php3' pouvant contenir:
+# - des filtres
+# - des fonctions de traduction de balise, de critere et de boucle
+# - des declaration de tables SQL supplementaires
+
+function charger_squelette ($squelette) {
+	$ext = $GLOBALS['extension_squelette'];
+	$nom = $ext . '_' . md5($squelette);
+	$sourcefile = $squelette . ".$ext";
+
+	// le squelette est-il deja en memoire (INCLURE  a repetition)
+	if (function_exists($nom))
+		return $nom;
+
+	$phpfile = _DIR_CACHE . 'skel_' . $nom . '.php';
+
+	// le squelette est-il deja compile et perenne ?
+	if (!squelette_obsolete($phpfile, $sourcefile)
+	AND lire_fichier ($phpfile, $contenu,
+	array('critique' => 'oui', 'phpcheck' => 'oui'))) 
+		eval('?'.'>'.$contenu);
+
+	// sinon, charger le compilateur et verifier que le source est lisible
+	if (!function_exists($nom)) {
+		include_local("inc-compilo.php3");
+		lire_fichier ($sourcefile, $skel);
+	}
+
+	// Le fichier suivant peut contenir entre autres:
+	// 1. les filtres utilises par le squelette
+	// 2. des ajouts au compilateur
+	// Le point 1 exige qu'il soit lu dans tous les cas.
+	// Le point 2 exige qu'il soit lu apres inc-compilo
+	// (car celui-ci initialise $tables_principales) mais avant la compil
+	$f = $squelette . '_fonctions.php3';
+	if (@file_exists($f)) include($f);
+
+	if (function_exists($nom)) return $nom;
+
+	$skel_code = calculer_squelette($skel, $nom, $ext, $sourcefile);
+
+	// Tester si le compilateur renvoie une erreur
+	if (is_array($skel_code))
+		erreur_squelette($skel_code[0], $skel_code[1]);
+	else {
+		if ($GLOBALS['var_mode'] == 'debug') {
+			include_ecrire("inc_debug_sql.php3");
+			debug_dumpfile ($skel_code, $nom, 'code');
+		}
+		eval('?'.'>'.$skel_code);
+		if (function_exists($nom)) {
+			ecrire_fichier ($phpfile, $skel_code);
+			return $nom;
+		}
+	}
+}
+
+# Provoque la recherche du squelette $fond d'une $lang donnee,
+# et l'applique sur un $contexte pour un certain $cache.
+# Retourne un tableau de 3 elements:
+# 'texte' => la page calculee
+# 'process_ins' => 'html' ou 'php' si presence d'un '< ?php'
+# 'invalideurs' => les invalideurs (cf inc-calcul-squel)
+
+# En cas d'erreur process_ins est absent et texte est un tableau de 2 chaines
+
+# La recherche est assuree par la fonction chercher_squelette,
+# definie dans inc-chercher, fichier non charge si elle est deja definie
+# (typiquement dans mes_fonctions.php3)
+
+function cherche_page ($cache, $contexte, $fond)  {
+	global $delais;
+
+	if (!function_exists('chercher_squelette'))
+		include_local("inc-chercher-squelette.php3");
+
+	// Choisir entre $fond-dist.html, $fond=7.html, etc?
+	$id_rubrique_fond = 0;
+	// Chercher le fond qui va servir de squelette
+	if ($r = sql_rubrique_fond($contexte))
+		list($id_rubrique_fond, $lang) = $r;
+	if (!$lang)
+		$lang = lire_meta('langue_site');
+	// Si inc-urls ou un appel dynamique veut fixer la langue, la recuperer
+	$lang = $contexte['lang'];
+
+	if (!$GLOBALS['forcer_lang'])
+		lang_select($lang);
+
+	$skel = chercher_squelette($fond,
+			$id_rubrique_fond,
+			$GLOBALS['spip_lang']);
+
+	// Charger le squelette et recuperer sa fonction principale
+	// (compilation automatique au besoin) et calculer
+
+	$page = array();
+
+	if ($skel) {
+		if ($fonc = charger_squelette($skel))
+		  $page = $fonc(array('cache' => $cache), array($contexte));
+
+		// Passer la main au debuggueur)
+		if ($GLOBALS['var_mode'] == 'debug')
+		  {
+			include_ecrire("inc_debug_sql.php3");
+			debug_dumpfile ($page['texte'], $fonc, 'resultat');
+		  }
+	}
+
+	// Nettoyer le resultat si on est fou de XML
+	if ($GLOBALS['xhtml']) {
+		include_ecrire("inc_tidy.php");
+		$page['texte'] = xhtml($page['texte']);
+	}
+
+	// Entrer les invalideurs dans la base
+	if ($delais>0) {
+		include_ecrire('inc_invalideur.php3');
+		maj_invalideurs($cache, $page['invalideurs'], $delais);
+	}
+
+	// Retourner la structure de la page
+
+	return $page;
+}
+
+
+//
+// Contexte : lors du calcul d'une page spip etablit le contexte a partir
+// des variables $_GET et $_POST, et leur ajoute la date
+// Note : pour hacker le contexte depuis le fichier d'appel (article.php3),
+// il est recommande de modifier $_GET['toto'] (meme si la page est
+// appelee avec la methode POST).
+//
+function calculer_contexte() {
+	global $_GET, $_POST;
+
+	foreach($_GET as $var => $val) {
+		if (strpos($var, 'var_') !== 0)
+			$contexte[$var] = $val;
+	}
+	foreach($_POST as $var => $val) {
+		if (strpos($var, 'var_') !== 0)
+			$contexte[$var] = $val;
+	}
+
+	if ($GLOBALS['date'])
+		$contexte['date'] = $contexte['date_redac'] = normaliser_date($GLOBALS['date']);
+	else
+		$contexte['date'] = $contexte['date_redac'] = date("Y-m-d H:i:s");
+
+	return $contexte;
+}
+
+function calculer_page_globale($cache, $contexte_local, $fond) {
+
+	// Gestion des URLs personnalises - sale mais historique
+	if (function_exists("recuperer_parametres_url")) {
+		global $contexte;
+		$contexte = $contexte_local;
+		recuperer_parametres_url($fond, nettoyer_uri());
+
+		// remettre les globales pour le bouton "Modifier cet article"
+		if (is_array($contexte))
+			foreach ($contexte as $var=>$val)
+				if (substr($var,0,3) == 'id_')
+					$GLOBALS[$var] = $val;
+		$contexte_local = $contexte;
+	}
+
+	// Go to work !
+	$page = cherche_page($cache, $contexte_local, $fond);
+
+	$signal = array();
+	foreach(array('id_parent', 'id_rubrique', 'id_article', 'id_auteur',
+	'id_breve', 'id_forum', 'id_secteur', 'id_syndic', 'id_syndic_article',
+	'id_mot', 'id_groupe', 'id_document') as $val) {
+		if ($contexte_local[$val])
+			$signal['contexte'][$val] = intval($contexte_local[$val]);
+	}
+
+	$page['signal'] = $signal;
+
+	return $page;
+}
+
+
+
+function calculer_page($chemin_cache, $elements, $delais, $inclusion=false) {
+	global $_POST;
+
+	// Inclusion
+	if ($inclusion) {
+		$contexte_inclus = $elements['contexte'];
+		$page = cherche_page($chemin_cache,
+			$contexte_inclus, $elements['fond']);
+	}
+	else {
+
+		// Page globale
+		// si le champ chapo commence par '=' c'est une redirection.
+		if ($id_article = intval($GLOBALS['id_article'])) {
+			if ($art = sql_chapo($id_article)) {
+				$chapo = $art['chapo'];
+				if (substr($chapo, 0, 1) == '=') {
+					include_ecrire('inc_texte.php3');
+					list(,$url) = extraire_lien(array('','','',
+					substr($chapo, 1)));
+					if ($url) { // sinon les navigateurs pataugent
+						$url = addslashes($url);
+						$page = array('texte' => "<".
+						"?php header(\"Location: $url\"); ?" . ">",
+						'process_ins' => 'php');
+					}
+				}
+			}
+		}
+		if (!$page)
+			$page = calculer_page_globale($chemin_cache,
+				$elements['contexte'],
+				$elements['fond']);
+	}
+
+	$page['signal']['process_ins'] = $page['process_ins'];
+	$signal = "<!-- ".str_replace("\n", " ",
+	serialize($page['signal']))." -->\n";
+
+	// Enregistrer le fichier cache
+	if ($delais > 0 AND $GLOBALS['var_mode'] != 'debug'
+	AND !count($_POST))
+		ecrire_fichier($chemin_cache, $signal.$page['texte']);
+
+	return $page;
+}
+?>

Index: htaccess-html.txt
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/htaccess-html.txt,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- htaccess-html.txt	8 Feb 2005 15:10:10 -0000	1.2
+++ htaccess-html.txt	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,17 +1,17 @@
-###########################################################
-# Fichier .htaccess pour les URLs 'html' ; a installer    #
-# si vous reglez $type_urls='html'                        #
-# dans ecrire/mes_options.php3                            #
-# (fichier associe : inc-urls-html.php3)                  #
-###########################################################
-
-RewriteEngine On
-
-### si votre site est en sous-domaine, preciser ci-dessous
-# RewriteBase /sous/domaine/
-
-RewriteRule ^rubrique([0-9]+)\.html$	rubrique.php3?id_rubrique=$1 [QSA,L]
-RewriteRule ^article([0-9]+)\.html$		article.php3?id_article=$1 [QSA,L]
-RewriteRule ^breve([0-9]+)\.html$		breve.php3?id_breve=$1 [QSA,L]
-RewriteRule ^mot([0-9]+)\.html$			mot.php3?id_mot=$1 [QSA,L]
-RewriteRule ^auteur([0-9]+)\.html$		auteur.php3?id_auteur=$1 [QSA,L]
+###########################################################
+# Fichier .htaccess pour les URLs 'html' ; a installer    #
+# si vous reglez $type_urls='html'                        #
+# dans ecrire/mes_options.php3                            #
+# (fichier associe : inc-urls-html.php3)                  #
+###########################################################
+
+RewriteEngine On
+
+### si votre site est en sous-domaine, preciser ci-dessous
+# RewriteBase /sous/domaine/
+
+RewriteRule ^rubrique([0-9]+)\.html$	rubrique.php3?id_rubrique=$1 [QSA,L]
+RewriteRule ^article([0-9]+)\.html$		article.php3?id_article=$1 [QSA,L]
+RewriteRule ^breve([0-9]+)\.html$		breve.php3?id_breve=$1 [QSA,L]
+RewriteRule ^mot([0-9]+)\.html$			mot.php3?id_mot=$1 [QSA,L]
+RewriteRule ^auteur([0-9]+)\.html$		auteur.php3?id_auteur=$1 [QSA,L]

Index: breve.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/breve.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- breve.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ breve.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,8 +1,8 @@
-<?php
-$fond = "breve";
-$delais = 12 * 3600;
-
-include ("inc-public.php3");
-
-
-?>
+<?php
+$fond = "breve";
+$delais = 12 * 3600;
+
+include ("inc-public.php3");
+
+
+?>

Index: forum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/forum.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- forum.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ forum.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,20 +1,20 @@
-<?php
-
-$fond = "forum";
-$delais = 3600;
-
-// Exemples de personnalisation :
-// @ http://www.spip.net/fr_article1825.html
-//
-// 1. seuls les mots-cles du groupe de mots numero 1 doivent s'afficher
-// $afficher_groupe = array(1);
-//
-// 2. faire des forums uniquement pour affecter des mots-cles
-// $afficher_texte = "non";
-
-// En ca de forums sur abonnement, on a un panneau de login
-$flag_dynamique = true;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+$fond = "forum";
+$delais = 3600;
+
+// Exemples de personnalisation :
+// @ http://www.spip.net/fr_article1825.html
+//
+// 1. seuls les mots-cles du groupe de mots numero 1 doivent s'afficher
+// $afficher_groupe = array(1);
+//
+// 2. faire des forums uniquement pour affecter des mots-cles
+// $afficher_texte = "non";
+
+// En ca de forums sur abonnement, on a un panneau de login
+$flag_dynamique = true;
+
+include ("inc-public.php3");
+
+?>

Index: impression.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/impression.css,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- impression.css	8 Feb 2005 15:10:10 -0000	1.2
+++ impression.css	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,114 +1,114 @@
-
-/*
- * Feuille de style specifique a l'impression
- */
- 
-/* Pour les liens, on desactive les couleurs
-   et on affiche l'URL cible a la suite du lien (!) */
-
-a { color: black; text-decoration: underline; }
-a:visited { color: black; text-decoration: underline; }
-a.spip_in { color: black; text-decoration: underline; }
-a.spip_out { color: black; text-decoration: underline; }
-a:after {
-	display: inline;
-	border: 1px solid dotted;
-	content: " [" attr(href) "]";
-}
-
-/*
- * Un peu de coquetterie
- */
-
-.chapo {
-	line-height: 1.4em;
-	margin-top: 1em;
-}
-.texte {
-}
-.ps {
-	padding-top: 0.6em;
-	margin-top: 0.6em;
-	border-top: 1px dashed #404040;
-}
-.notes {
-	margin-top: 0.6em;
-	margin-bottom: 0.6em;
-	border-top: 1px solid #707070;
-}
-.structure {
-	display: none;
-}
-.spip-admin {
-	display: none;
-}
-
-
-.contenu {
-	margin: 10px;
-}
-.contenu h1 {
-	margin-top: 0em;
-	margin-bottom: 0em;
-}
-.contenu h1.titre-extrait {
-}
-.contenu h1.titre-texte {
-}
-.contenu .surtitre {
-	margin-top: 0em;
-	margin-bottom: 0em;
-}
-.contenu .detail {
-	margin-left: 2em;
-}
-.extrait {
-	margin-top: 0.5em;
-	margin-bottom: 0.5em;
-	margin-left: 2em;
-	margin-right: 0em;
-	line-height: 1.4em;
-}
-
-
-/*
- * Disposition : on elimine les elements de navigation (display: none)
- * et on choisit un affichage de base pour le principal
- */
-
-#principal {
-	margin: 10px;
-}
-
-#navigation {
-	display: none;
-}
-
-.encart {
-	display: none;
-}
-
-.cartouche {
-	margin-top: 0.5em;
-	padding-top: 1em;
-	margin-bottom: 1em;
-}
-
-.cartouche .spip_logos {
-	margin-left: 0px;
-	padding-left: 0px;
-	margin-right: 0.8em;
-}
-
-
-/*
- * Forums
- */
-
-.forum-repondre {
-	display: none;
-}
-.forum-repondre-message {
-	display: none;
-}
-
+
+/*
+ * Feuille de style specifique a l'impression
+ */
+ 
+/* Pour les liens, on desactive les couleurs
+   et on affiche l'URL cible a la suite du lien (!) */
+
+a { color: black; text-decoration: underline; }
+a:visited { color: black; text-decoration: underline; }
+a.spip_in { color: black; text-decoration: underline; }
+a.spip_out { color: black; text-decoration: underline; }
+a:after {
+	display: inline;
+	border: 1px solid dotted;
+	content: " [" attr(href) "]";
+}
+
+/*
+ * Un peu de coquetterie
+ */
+
+.chapo {
+	line-height: 1.4em;
+	margin-top: 1em;
+}
+.texte {
+}
+.ps {
+	padding-top: 0.6em;
+	margin-top: 0.6em;
+	border-top: 1px dashed #404040;
+}
+.notes {
+	margin-top: 0.6em;
+	margin-bottom: 0.6em;
+	border-top: 1px solid #707070;
+}
+.structure {
+	display: none;
+}
+.spip-admin {
+	display: none;
+}
+
+
+.contenu {
+	margin: 10px;
+}
+.contenu h1 {
+	margin-top: 0em;
+	margin-bottom: 0em;
+}
+.contenu h1.titre-extrait {
+}
+.contenu h1.titre-texte {
+}
+.contenu .surtitre {
+	margin-top: 0em;
+	margin-bottom: 0em;
+}
+.contenu .detail {
+	margin-left: 2em;
+}
+.extrait {
+	margin-top: 0.5em;
+	margin-bottom: 0.5em;
+	margin-left: 2em;
+	margin-right: 0em;
+	line-height: 1.4em;
+}
+
+
+/*
+ * Disposition : on elimine les elements de navigation (display: none)
+ * et on choisit un affichage de base pour le principal
+ */
+
+#principal {
+	margin: 10px;
+}
+
+#navigation {
+	display: none;
+}
+
+.encart {
+	display: none;
+}
+
+.cartouche {
+	margin-top: 0.5em;
+	padding-top: 1em;
+	margin-bottom: 1em;
+}
+
+.cartouche .spip_logos {
+	margin-left: 0px;
+	padding-left: 0px;
+	margin-right: 0.8em;
+}
+
+
+/*
+ * Forums
+ */
+
+.forum-repondre {
+	display: none;
+}
+.forum-repondre-message {
+	display: none;
+}
+

Index: inc-calcul-outils.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-calcul-outils.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-calcul-outils.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-calcul-outils.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,403 +1,448 @@
-<?php
-
-//
-// Des fonctions diverses utilisees lors du calcul d'une page ; ces fonctions
-// bien pratiques n'ont guere de logique organisationnelle ; elles sont
-// appelees par certaines balises au moment du calcul des pages. (Peut-on
-// trouver un modele de donnees qui les associe physiquement au fichier
-// definissant leur balise ???
-//
-
-// ON TROUVERA EN QUEUE DE FICHIER LES FONCTIONS FAISANT DES APPELS SQL
-
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_CALCUL_OUTILS")) return;
-define("_INC_CALCUL_OUTILS", "1");
-
-// Pour les documents comme pour les logos, le filtre |fichier donne
-// le chemin du fichier apres 'IMG/' ;  peut-etre pas d'une purete
-// remarquable, mais a conserver pour compatibilite ascendante.
-// -> http://www.spip.net/fr_article901.html
-function calcule_fichier_logo($on) {
-	$r = ereg_replace("^" . _DIR_IMG, "", $on);
-	return $r;
-}
-
-// Renvoie le code html pour afficher un logo, avec ou sans survol, lien, etc.
-// utilise la globale ci-dessous pour les attributs hspace & vspace
-
-tester_variable('espace_logos',3);
-
-function affiche_logos($logos, $lien, $align) {
-	static $num_survol=0;
-	global $espace_logos;
-	list ($arton, $artoff) = $logos;
-
-	if (!$arton) return $artoff;
-
-	$num_survol++;
-	$milieu = "<img src='$arton'"
-		. ($align ? " align='$align' " : '') 
-		. " name='image$num_survol' border='0' "
-		. "alt='image$num_survol'"
-		. " hspace='$espace_logos' vspace='$espace_logos' class='spip_logos' />";
-
-	if (!$artoff) return ($lien ? http_href($lien, $milieu) : $milieu);
-
-	$att =	"onmouseover=\"image$num_survol.src='$artoff'\" 
-		onmouseout=\"image$num_survol.src='$arton'\"";
-
-	return ($lien ? "<a href='$lien' $att>$milieu</a>" : "<div $att>$milieu</div>");
-
-}
-
-//
-// Retrouver le logo d'un objet (et son survol)
-//
-
-function calcule_logo($type, $onoff, $id, $id_rubrique, $ff) {
-	include_ecrire('inc_logos.php3');
-
-	$table_logos = array (
-	'ARTICLE' => 'art',
-	'AUTEUR' =>  'aut',
-	'BREVE' =>  'breve',
-	'MOT' => 'mot',
-	'RUBRIQUE' => 'rub',
-	'SITE' => 'site'
-	);
-	$type = $table_logos[$type];
-	$nom = strtolower($onoff);
-	# attention au cas $id = '0' pour LOGO_SITE_SPIP : utiliser intval()
-	while (1) {
-		$on = cherche_image_nommee($type . $nom . intval($id));
-		if ($on) {
-			if ($ff)
-			  return  (array('', "$on[1].$on[2]"));
-			else {
-				$off = ($onoff != 'ON') ? '' :
-					cherche_image_nommee($type . 'off' . $id);
-				return array ("$on[0]$on[1].$on[2]",
-					      ($off ? ("$off[0]$off[1].$off[2]") : ''));
-			}
-		}
-		else if ($id_rubrique) {
-			$type = 'rub';
-			$id = $id_rubrique;
-			$id_rubrique = 0;
-		} else if ($id AND $type == 'rub')
-			$id = sql_parent($id);
-		else return array('','');
-	}
-}
-
-//
-// fonction standard de calcul de la balise #INTRODUCTION
-// on peut la surcharger en definissant dans mes_fonctions.php3 :
-// function introduction($type,$texte,$chapo,$descriptif) {...}
-//
-function calcul_introduction ($type, $texte, $chapo='', $descriptif='') {
-	if (function_exists("introduction"))
-		return introduction ($type, $texte, $chapo, $descriptif);
-
-	switch ($type) {
-		case 'articles':
-			if ($descriptif)
-				return propre($descriptif);
-			else if (substr($chapo, 0, 1) == '=')	// article virtuel
-				return '';
-			else
-				return PtoBR(propre(supprimer_tags(couper_intro($chapo."\n\n\n".$texte, 500))));
-			break;
-		case 'breves':
-			return PtoBR(propre(supprimer_tags(couper_intro($texte, 300))));
-			break;
-		case 'forums':
-			return PtoBR(propre(supprimer_tags(couper_intro($texte, 600))));
-			break;
-		case 'rubriques':
-			if ($descriptif)
-				return propre($descriptif);
-			else
-				return PtoBR(propre(supprimer_tags(couper_intro($texte, 600))));
-			break;
-	}
-}
-
-function executer_balise_dynamique($nom, $args, $filtres, $lang) {
-	if ($file = find_in_path('inc-' . strtolower($nom) . _EXTENSION_PHP))
-		include_local($file);
-	else
-		die ("pas de balise dynamique pour #". strtolower($nom)." !");
-
-	$f = 'balise_' . $nom . '_stat';
-	$r = $f($args, $filtres);
-	return (!is_array($r)) ? $r : synthetiser_balise_dynamique($nom, $r, $file, $lang);
-}
-
-//
-// FONCTIONS FAISANT DES APPELS SQL
-//
-
-# NB : a l'exception des fonctions pour les balises dynamiques
-
-function calcul_exposer ($id, $type, $reference) {
-	static $exposer;
-	static $ref_precedente;
-
-	// Que faut-il exposer ? Tous les elements de $reference
-	// ainsi que leur hierarchie ; on ne fait donc ce calcul
-	// qu'une fois (par squelette) et on conserve le resultat
-	// en static.
-	if ($reference<>$ref_precedente) {
-		$ref_precedente = $reference;
-
-		$exposer = array();
-		foreach ($reference as $element=>$id_element) {
-			if ($element == 'id_secteur') $element = 'id_rubrique';
-			if ($x = table_from_primary($element)) {
-				list($table,$hierarchie) = $x;
-				$exposer[$element][$id_element] = true;
-				if ($hierarchie) {
-					list ($id_rubrique) = spip_abstract_fetsel(
-array('id_rubrique'), 
-array($table),
-array("$element=$id_element"));
-				$hierarchie = substr(calculer_hierarchie($id_rubrique), 2);
-				foreach (split(',',$hierarchie) as $id_rubrique)
-					$exposer['id_rubrique'][$id_rubrique] = true;
-				}
-			}
-		}
-	}
-
-	// And the winner is...
-	return $exposer[$type][$id];
-}
-
-function table_from_primary($id) {
-	global $tables_principales;
-	include_ecrire('inc_serialbase.php3');
-	foreach ($tables_principales as $k => $v) {
-		if ($v['key']['PRIMARY KEY'] == $id)
-			return array($k, array_key_exists('id_rubrique', $v['field']));
-	}
-	return '';
-}
-
-function calcul_generation ($generation) {
-	$lesfils = array();
-	$result = spip_abstract_select(array('id_rubrique'),
-				array('spip_rubriques AS rubriques'),
-				array(calcul_mysql_in('id_parent', 
-					$generation,
-					'')),
-				'','','','','','','');
-	while ($row = spip_abstract_fetch($result))
-		$lesfils[] = $row['id_rubrique'];
-	return join(",",$lesfils);
-}
-
-function calcul_branche ($generation) {
-	if (!$generation) 
-		return '0';
-	else {
-		$branche[] = $generation;
-		while ($generation = calcul_generation ($generation))
-			$branche[] = $generation;
-		return join(",",$branche);
-	}
-}
-
-// fonction appelee par la balise #LOGO_DOCUMENT
-function calcule_document($id_document, $doubdoc, &$doublons) {
-	if (!$id_document) return '';
-	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
-
-	if (!($row = spip_abstract_select(array('id_type', 'id_vignette', 'fichier', 'mode'), array('spip_documents AS documents'), array("id_document = $id_document"))))
-// pas de document. Ne devrait pas arriver
-		return ''; 
-
-	list($id_type, $id_vignette, $fichier, $mode) = spip_abstract_fetch($row);
-	if ($id_vignette) {
-		if ($res = spip_abstract_select(array('fichier'), array('spip_documents AS documents'), array("id_document = $id_vignette"))) {
-			list($vignette) = spip_abstract_fetch($res);
-			if (@file_exists($vignette))
-				return generer_url_document($id_vignette);
-				# return ($fichier); # en std g_u_d fait ca
-		}
-	} else if ($mode == 'vignette') 
-		return generer_url_document($id_document);
-		# return $fichier; # en std g_u_d fait ca
-
-	// calcul de l'extension par tous les moyens
-	if ($id_type) {
-		list($ext) = spip_abstract_fetch(spip_abstract_select(array('extension'), array('spip_types_documents AS documents'), array("id_type = " . intval($id_type))));
-	} else {
-		eregi('\.([a-z0-9]+)$', $fichier, $regs);
-		$ext = $regs[1];
-	}
-
-	// Pas de vignette mais une extension :
-	// envoyer une vignette par defaut
-	return vignette_par_defaut($ext ? $ext : 'txt', false);
-}
-
-
-// fonction appelee par la balise #EMBED
-function calcule_embed_document($id_document, $filtres, &$doublons, $doubdoc) {
-	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
-	return embed_document($id_document, $filtres, false);
-}
-
-// fonction appelee par la balise #NOTES
-function calculer_notes() {
-	$r = $GLOBALS["les_notes"];
-	$GLOBALS["les_notes"] = "";
-	$GLOBALS["compt_note"] = 0;
-	$GLOBALS["marqueur_notes"] ++;
-	return $r;
-}
-
-# retourne la profondeur d'une rubrique
-
-function sql_profondeur($id) {
-	$n = 0;
-	while ($id) {
-		$n++;
-		$id = sql_parent($id);
-	}
-	return $n;
-}
-
-
-function sql_parent($id_rubrique) {
-	$row = spip_abstract_fetsel(array(id_parent), 
-			array('spip_rubriques'), 
-			array("id_rubrique=" . intval($id_rubrique)));
-	return $row['id_parent'];
-}
-
-function sql_rubrique($id_article) {
-	$row = spip_abstract_fetsel(array('id_rubrique'),
-			array('spip_articles'),
-			array("id_article=" . intval($id_article)));
-	return $row['id_rubrique'];
-}
-
-function sql_auteurs($id_article, $table, $id_boucle, $serveur='') {
-	$auteurs = "";
-	if ($id_article) {
-		$result_auteurs = spip_abstract_select(array('auteurs.nom', 'auteurs.email'),
-			array('spip_auteurs AS auteurs',
-				'spip_auteurs_articles AS lien'), 
-			array("lien.id_article=$id_article",
-				"auteurs.id_auteur=lien.id_auteur"),
-			'','','','',1, 
-			$table, $id_boucle, $serveur);
-
-		while($row_auteur = spip_abstract_fetch($result_auteurs, $serveur)) {
-			$nom_auteur = typo($row_auteur["nom"]);
-			$email_auteur = $row_auteur["email"];
-			if ($email_auteur) {
-				$auteurs[] = "<a href=\"mailto:$email_auteur\">$nom_auteur</a>";
-			} else {
-				$auteurs[] = "$nom_auteur";
-			}
-		}
-	}
-	return (!$auteurs) ? "" : join($auteurs, ", ");
-}
-
-function sql_petitions($id_article, $table, $id_boucle, $serveur, &$Cache) {
-	$retour = spip_abstract_fetsel(
-			array('texte'),
-			array('spip_petitions'),
-			array("id_article=".intval($id_article)),
-			'','','','',1, 
-			$table, $id_boucle, $serveur);
-
-	if (!$retour) return '';
-	# cette page est invalidee par toute petition
-	if ($Cache) $Cache['petition']['petition'] = 1;
-	# ne pas retourner '' car le texte sert aussi de pr?sence
-	return ($retour['texte'] ? $retour['texte'] : ' ');
-}
-
-# retourne le chapeau d'un article, et seulement s'il est publie
-
-function sql_chapo($id_article) {
-	if ($id_article)
-	return spip_abstract_fetsel(array('chapo'),
-		array('spip_articles'),
-		array("id_article=".intval($id_article),
-		"statut='publie'"));
-}
-
-# retourne le champ 'accepter_forum' d'un article
-function sql_accepter_forum($id_article) {
-	static $cache = array();
-
-	if (!$id_article) return;
-
-	if (!isset($cache[$id_article])) {
-		$row = spip_abstract_fetsel(array('accepter_forum'),
-			array('spip_articles'),
-			array("id_article=".intval($id_article)));
-		$cache[$id_article] = $row['accepter_forum'];
-	}
-
-	return $cache[$id_article];
-}
-
-
-// Calcul de la rubrique associee a la requete
-// (selection de squelette specifique par id_rubrique & lang)
-
-function sql_rubrique_fond($contexte) {
-
-	if ($id = intval($contexte['id_rubrique'])) {
-		$row = spip_abstract_fetsel(array('lang'),
-					    array('spip_rubriques'),
-					    array("id_rubrique=$id"));
-		if ($row['lang'])
-			$lang = $row['lang'];
-		return array ($id, $lang);
-	}
-
-	if ($id  = intval($contexte['id_breve'])) {
-		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
-			array('spip_breves'), 
-			array("id_breve=$id"));
-		$id_rubrique_fond = $row['id_rubrique'];
-		if ($row['lang'])
-			$lang = $row['lang'];
-		return array($id_rubrique_fond, $lang);
-	}
-
-	if ($id = intval($contexte['id_syndic'])) {
-		$row = spip_abstract_fetsel(array('id_rubrique'),
-			array('spip_syndic'),
-			array("id_syndic=$id"));
-		$id_rubrique_fond = $row['id_rubrique'];
-		$row = spip_abstract_fetsel(array('lang'),
-			array('spip_rubriques'),
-			array("id_rubrique='$id_rubrique_fond'"));
-		if ($row['lang'])
-			$lang = $row['lang'];
-		return array($id_rubrique_fond, $lang);
-	}
-
-	if ($id = intval($contexte['id_article'])) {
-		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
-			array('spip_articles'),
-			array("id_article=$id"));
-		$id_rubrique_fond = $row['id_rubrique'];
-		if ($row['lang'])
-			$lang = $row['lang'];
-		return array($id_rubrique_fond, $lang);
-	}
-}
-
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+//
+// Des fonctions diverses utilisees lors du calcul d'une page ; ces fonctions
+// bien pratiques n'ont guere de logique organisationnelle ; elles sont
+// appelees par certaines balises au moment du calcul des pages. (Peut-on
+// trouver un modele de donnees qui les associe physiquement au fichier
+// definissant leur balise ???
+//
+
+// ON TROUVERA EN QUEUE DE FICHIER LES FONCTIONS FAISANT DES APPELS SQL
+
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_CALCUL_OUTILS")) return;
+define("_INC_CALCUL_OUTILS", "1");
+
+// Pour les documents comme pour les logos, le filtre |fichier donne
+// le chemin du fichier apres 'IMG/' ;  peut-etre pas d'une purete
+// remarquable, mais a conserver pour compatibilite ascendante.
+// -> http://www.spip.net/fr_article901.html
+function calcule_fichier_logo($on) {
+	$r = ereg_replace("^" . _DIR_IMG, "", $on);
+	return $r;
+}
+
+// Renvoie le code html pour afficher un logo, avec ou sans survol, lien, etc.
+// utilise la globale ci-dessous pour les attributs hspace & vspace
+
+tester_variable('espace_logos',3);
+
+function affiche_logos($logos, $lien, $align) {
+	static $num_survol=0;
+	global $espace_logos;
+	list ($arton, $artoff) = $logos;
+
+	if (!$arton) return $artoff;
+
+	$num_survol++;
+	$milieu = "<img src='$arton'"
+		. ($align ? " align='$align' " : '') 
+		. " name='image$num_survol' border='0' "
+		. "alt='image$num_survol'"
+		. " hspace='$espace_logos' vspace='$espace_logos' class='spip_logos' />";
+
+	if (!$artoff) return ($lien ? http_href($lien, $milieu) : $milieu);
+
+	$att =	"onmouseover=\"image$num_survol.src='$artoff'\" 
+		onmouseout=\"image$num_survol.src='$arton'\"";
+
+	return ($lien ? "<a href='$lien' $att>$milieu</a>" : "<div $att>$milieu</div>");
+
+}
+
+//
+// Retrouver le logo d'un objet (et son survol)
+//
+
+function calcule_logo($type, $onoff, $id, $id_rubrique, $ff) {
+	include_ecrire('inc_logos.php3');
+
+	$table_logos = array (
+	'ARTICLE' => 'art',
+	'AUTEUR' =>  'aut',
+	'BREVE' =>  'breve',
+	'MOT' => 'mot',
+	'RUBRIQUE' => 'rub',
+	'SITE' => 'site'
+	);
+	$type = $table_logos[$type];
+	$nom = strtolower($onoff);
+	# attention au cas $id = '0' pour LOGO_SITE_SPIP : utiliser intval()
+	while (1) {
+		$on = cherche_image_nommee($type . $nom . intval($id));
+		if ($on) {
+			if ($ff)
+			  return  (array('', "$on[1].$on[2]"));
+			else {
+				$off = ($onoff != 'ON') ? '' :
+					cherche_image_nommee($type . 'off' . $id);
+				return array ("$on[0]$on[1].$on[2]",
+					      ($off ? ("$off[0]$off[1].$off[2]") : ''));
+			}
+		}
+		else if ($id_rubrique) {
+			$type = 'rub';
+			$id = $id_rubrique;
+			$id_rubrique = 0;
+		} else if ($id AND $type == 'rub')
+			$id = sql_parent($id);
+		else return array('','');
+	}
+}
+
+//
+// fonction standard de calcul de la balise #INTRODUCTION
+// on peut la surcharger en definissant dans mes_fonctions.php3 :
+// function introduction($type,$texte,$chapo,$descriptif) {...}
+//
+function calcul_introduction ($type, $texte, $chapo='', $descriptif='') {
+	if (function_exists("introduction"))
+		return introduction ($type, $texte, $chapo, $descriptif);
+
+	switch ($type) {
+		case 'articles':
+			if ($descriptif)
+				return propre($descriptif);
+			else if (substr($chapo, 0, 1) == '=')	// article virtuel
+				return '';
+			else
+				return PtoBR(propre(supprimer_tags(couper_intro($chapo."\n\n\n".$texte, 500))));
+			break;
+		case 'breves':
+			return PtoBR(propre(supprimer_tags(couper_intro($texte, 300))));
+			break;
+		case 'forums':
+			return PtoBR(propre(supprimer_tags(couper_intro($texte, 600))));
+			break;
+		case 'rubriques':
+			if ($descriptif)
+				return propre($descriptif);
+			else
+				return PtoBR(propre(supprimer_tags(couper_intro($texte, 600))));
+			break;
+	}
+}
+
+
+//
+// Balises dynamiques
+//
+
+// elles sont traitees comme des inclusions
+function synthetiser_balise_dynamique($nom, $args, $file, $lang) {
+	return
+		('<'.'?php 
+include_ecrire(\'inc_lang.php3\');
+lang_select("'.$lang.'");
+include_local("'
+		. $file
+		. '");
+inclure_balise_dynamique(balise_'
+		. $nom
+		. '_dyn(\''
+		. join("', '", array_map('texte_script', $args))
+		. '\'));
+	lang_dselect();
+?'
+		.">");
+}
+
+// verifier leurs arguments et filtres, et calculer le code a inclure
+function executer_balise_dynamique($nom, $args, $filtres, $lang) {
+	if ($file = find_in_path('inc-' . strtolower($nom) . _EXTENSION_PHP))
+		include_local($file);
+	else
+		die ("pas de balise dynamique pour #". strtolower($nom)." !");
+
+	// Y a-til une fonction de traitement filtres-arguments ?
+	$f = 'balise_' . $nom . '_stat';
+	if (function_exists($f))
+		$r = $f($args, $filtres);
+	else
+		$r = $args;
+	
+	if (!is_array($r))
+		return $r;
+	else
+		return synthetiser_balise_dynamique($nom, $r, $file, $lang);
+}
+
+
+//
+// FONCTIONS FAISANT DES APPELS SQL
+//
+
+# NB : a l'exception des fonctions pour les balises dynamiques
+
+function calcul_exposer ($id, $type, $reference) {
+	static $exposer;
+	static $ref_precedente;
+
+	// Que faut-il exposer ? Tous les elements de $reference
+	// ainsi que leur hierarchie ; on ne fait donc ce calcul
+	// qu'une fois (par squelette) et on conserve le resultat
+	// en static.
+	if ($reference<>$ref_precedente) {
+		$ref_precedente = $reference;
+
+		$exposer = array();
+		foreach ($reference as $element=>$id_element) {
+			if ($element == 'id_secteur') $element = 'id_rubrique';
+			if ($x = table_from_primary($element)) {
+				list($table,$hierarchie) = $x;
+				$exposer[$element][$id_element] = true;
+				if ($hierarchie) {
+					list ($id_rubrique) = spip_abstract_fetsel(
+array('id_rubrique'), 
+array($table),
+array("$element=$id_element"));
+				$hierarchie = substr(calculer_hierarchie($id_rubrique), 2);
+				foreach (split(',',$hierarchie) as $id_rubrique)
+					$exposer['id_rubrique'][$id_rubrique] = true;
+				}
+			}
+		}
+	}
+
+	// And the winner is...
+	return $exposer[$type][$id];
+}
+
+function table_from_primary($id) {
+	global $tables_principales;
+	include_ecrire('inc_serialbase.php3');
+	foreach ($tables_principales as $k => $v) {
+		if ($v['key']['PRIMARY KEY'] == $id)
+			return array($k, array_key_exists('id_rubrique', $v['field']));
+	}
+	return '';
+}
+
+function calcul_generation ($generation) {
+	$lesfils = array();
+	$result = spip_abstract_select(array('id_rubrique'),
+				array('spip_rubriques AS rubriques'),
+				array(calcul_mysql_in('id_parent', 
+					$generation,
+					'')),
+				'','','','','','','');
+	while ($row = spip_abstract_fetch($result))
+		$lesfils[] = $row['id_rubrique'];
+	return join(",",$lesfils);
+}
+
+function calcul_branche ($generation) {
+	if (!$generation) 
+		return '0';
+	else {
+		$branche[] = $generation;
+		while ($generation = calcul_generation ($generation))
+			$branche[] = $generation;
+		return join(",",$branche);
+	}
+}
+
+// fonction appelee par la balise #LOGO_DOCUMENT
+function calcule_document($id_document, $doubdoc, &$doublons) {
+	if (!$id_document) return '';
+	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
+
+	if (!($row = spip_abstract_select(array('id_type', 'id_vignette', 'fichier', 'mode'), array('spip_documents AS documents'), array("id_document = $id_document"))))
+// pas de document. Ne devrait pas arriver
+		return ''; 
+
+	list($id_type, $id_vignette, $fichier, $mode) = spip_abstract_fetch($row);
+	if ($id_vignette) {
+		if ($res = spip_abstract_select(array('fichier'), array('spip_documents AS documents'), array("id_document = $id_vignette"))) {
+			list($vignette) = spip_abstract_fetch($res);
+			if (@file_exists($vignette))
+				return generer_url_document($id_vignette);
+				# return ($fichier); # en std g_u_d fait ca
+		}
+	} else if ($mode == 'vignette') 
+		return generer_url_document($id_document);
+		# return $fichier; # en std g_u_d fait ca
+
+	// calcul de l'extension par tous les moyens
+	if ($id_type) {
+		list($ext) = spip_abstract_fetch(spip_abstract_select(array('extension'), array('spip_types_documents AS documents'), array("id_type = " . intval($id_type))));
+	} else {
+		eregi('\.([a-z0-9]+)$', $fichier, $regs);
+		$ext = $regs[1];
+	}
+
+	// Pas de vignette mais une extension :
+	// envoyer une vignette par defaut
+	return vignette_par_defaut($ext ? $ext : 'txt', false);
+}
+
+
+// fonction appelee par la balise #EMBED
+function calcule_embed_document($id_document, $filtres, &$doublons, $doubdoc) {
+	if ($doubdoc && $id_document) $doublons["documents"] .= ', ' . $id_document;
+	return embed_document($id_document, $filtres, false);
+}
+
+// fonction appelee par la balise #NOTES
+function calculer_notes() {
+	$r = $GLOBALS["les_notes"];
+	$GLOBALS["les_notes"] = "";
+	$GLOBALS["compt_note"] = 0;
+	$GLOBALS["marqueur_notes"] ++;
+	return $r;
+}
+
+# retourne la profondeur d'une rubrique
+
+function sql_profondeur($id) {
+	$n = 0;
+	while ($id) {
+		$n++;
+		$id = sql_parent($id);
+	}
+	return $n;
+}
+
+
+function sql_parent($id_rubrique) {
+	$row = spip_abstract_fetsel(array(id_parent), 
+			array('spip_rubriques'), 
+			array("id_rubrique=" . intval($id_rubrique)));
+	return $row['id_parent'];
+}
+
+function sql_rubrique($id_article) {
+	$row = spip_abstract_fetsel(array('id_rubrique'),
+			array('spip_articles'),
+			array("id_article=" . intval($id_article)));
+	return $row['id_rubrique'];
+}
+
+function sql_auteurs($id_article, $table, $id_boucle, $serveur='') {
+	$auteurs = "";
+	if ($id_article) {
+		$result_auteurs = spip_abstract_select(array('auteurs.nom', 'auteurs.email'),
+			array('spip_auteurs AS auteurs',
+				'spip_auteurs_articles AS lien'), 
+			array("lien.id_article=$id_article",
+				"auteurs.id_auteur=lien.id_auteur"),
+			'','','','',1, 
+			$table, $id_boucle, $serveur);
+
+		while($row_auteur = spip_abstract_fetch($result_auteurs, $serveur)) {
+			$nom_auteur = typo($row_auteur["nom"]);
+			$email_auteur = $row_auteur["email"];
+			if ($email_auteur) {
+				$auteurs[] = "<a href=\"mailto:$email_auteur\">$nom_auteur</a>";
+			} else {
+				$auteurs[] = "$nom_auteur";
+			}
+		}
+	}
+	return (!$auteurs) ? "" : join($auteurs, ", ");
+}
+
+function sql_petitions($id_article, $table, $id_boucle, $serveur, &$Cache) {
+	$retour = spip_abstract_fetsel(
+		array('texte'),
+		array('spip_petitions'),
+		array("id_article=".intval($id_article)),
+		'','','','',1, 
+		$table, $id_boucle, $serveur);
+
+	if (!$retour) return '';
+	# cette page est invalidee par toute petition
+	$Cache['varia']['pet'.$id_article] = 1;
+	# ne pas retourner '' car le texte sert aussi de presence
+	return ($retour['texte'] ? $retour['texte'] : ' ');
+}
+
+# retourne le chapeau d'un article, et seulement s'il est publie
+
+function sql_chapo($id_article) {
+	if ($id_article)
+	return spip_abstract_fetsel(array('chapo'),
+		array('spip_articles'),
+		array("id_article=".intval($id_article),
+		"statut='publie'"));
+}
+
+# retourne le champ 'accepter_forum' d'un article
+function sql_accepter_forum($id_article) {
+	static $cache = array();
+
+	if (!$id_article) return;
+
+	if (!isset($cache[$id_article])) {
+		$row = spip_abstract_fetsel(array('accepter_forum'),
+			array('spip_articles'),
+			array("id_article=".intval($id_article)));
+		$cache[$id_article] = $row['accepter_forum'];
+	}
+
+	return $cache[$id_article];
+}
+
+
+// Calcul de la rubrique associee a la requete
+// (selection de squelette specifique par id_rubrique & lang)
+
+function sql_rubrique_fond($contexte) {
+
+	if ($id = intval($contexte['id_rubrique'])) {
+		$row = spip_abstract_fetsel(array('lang'),
+					    array('spip_rubriques'),
+					    array("id_rubrique=$id"));
+		if ($row['lang'])
+			$lang = $row['lang'];
+		return array ($id, $lang);
+	}
+
+	if ($id  = intval($contexte['id_breve'])) {
+		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
+			array('spip_breves'), 
+			array("id_breve=$id"));
+		$id_rubrique_fond = $row['id_rubrique'];
+		if ($row['lang'])
+			$lang = $row['lang'];
+		return array($id_rubrique_fond, $lang);
+	}
+
+	if ($id = intval($contexte['id_syndic'])) {
+		$row = spip_abstract_fetsel(array('id_rubrique'),
+			array('spip_syndic'),
+			array("id_syndic=$id"));
+		$id_rubrique_fond = $row['id_rubrique'];
+		$row = spip_abstract_fetsel(array('lang'),
+			array('spip_rubriques'),
+			array("id_rubrique='$id_rubrique_fond'"));
+		if ($row['lang'])
+			$lang = $row['lang'];
+		return array($id_rubrique_fond, $lang);
+	}
+
+	if ($id = intval($contexte['id_article'])) {
+		$row = spip_abstract_fetsel(array('id_rubrique', 'lang'),
+			array('spip_articles'),
+			array("id_article=$id"));
+		$id_rubrique_fond = $row['id_rubrique'];
+		if ($row['lang'])
+			$lang = $row['lang'];
+		return array($id_rubrique_fond, $lang);
+	}
+}
+
 ?>

Index: backend.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/backend.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- backend.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ backend.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,14 +1,14 @@
-<?php
-$fond = "backend";
-$delais = 3600;
-
-// cette ligne empeche l'affichage des boutons d'administration
-// Et les headers !!!!
-
-$flag_preserver = true;
-
- at header("Content-type: text/xml");
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "backend";
+$delais = 3600;
+
+// cette ligne empeche l'affichage des boutons d'administration
+// Et les headers !!!!
+
+$flag_preserver = true;
+
+ at header("Content-type: text/xml");
+
+include ("inc-public.php3");
+
+?>

Index: inc-balises.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-balises.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-balises.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-balises.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,732 +1,744 @@
-<?php
-
-//
-// Ce fichier regroupe la quasi totalite des definitions de #BALISES de spip
-// Pour chaque balise, il est possible de surcharger, dans mes_fonctions.php3,
-// la fonction balise_TOTO_dist par une fonction balise_TOTO() respectant la
-// meme API : 
-// elle recoit en entree un objet de classe CHAMP, le modifie et le retourne.
-// Cette classe est definie dans inc-compilo-index.php3
-//
-
[...1445 lines suppressed...]
+// La syntaxe #ENV{toto, rempl} renverra 'rempl' si $toto est vide
+//
+function balise_ENV_dist($p) {
+	$nom = param_balise($p);
+	if (!$nom) {
+		// cas de #ENV sans argument : on retourne le serialize() du tableau
+		// une belle fonction [(#ENV|affiche_env)] serait pratique
+		$p->code = 'serialize($Pile[0])';
+		$p->statut = 'html';
+	} else {
+		// admet deux arguments : nom de variable, valeur par defaut si vide
+		$nom = split(',', $nom, 2);
+		$p->code = 'sinon($Pile[0]["' . addslashes($nom[0]) . '"],
+			\''. texte_script($nom[1]) .'\')';
+		$p->statut = 'php';
+	}
+	return $p;
+}
+
+?>

Index: htaccess-propres.txt
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/htaccess-propres.txt,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- htaccess-propres.txt	8 Feb 2005 15:10:10 -0000	1.2
+++ htaccess-propres.txt	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,36 +1,36 @@
-###########################################################
-# Fichier .htaccess pour les URLs propres ; a installer   #
-# si vous reglez $type_urls='propres'                     #
-# dans ecrire/mes_options.php3                            #
-# (fichier associe : inc-urls-propres.php3)               #
-###########################################################
-
-RewriteEngine On
-
-### si votre site est en sous-domaine, preciser ci-dessous
-# RewriteBase /sous/domaine/
-
-# Rediriger les mots et breves sans le "+" final
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^(\+[^/\.\+]+)$ /$1+ [QSA,R]
-
-# Les mots-cles
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^\+-[^/\.]+-\+$ mot.php3 [QSA,E=url_propre:$0]
-
-# Les breves
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^\+[^/\.]+\+$ breve.php3 [QSA,E=url_propre:$0]
-
-# Les rubriques
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^-[^/\.]+-$ rubrique.php3 [QSA,E=url_propre:$0]
-
-# Les articles
-RewriteCond %{REQUEST_FILENAME} !-f
-RewriteCond %{REQUEST_FILENAME} !-d
-RewriteRule ^[^/\.]+$ article.php3 [QSA,E=url_propre:$0]
+###########################################################
+# Fichier .htaccess pour les URLs propres ; a installer   #
+# si vous reglez $type_urls='propres'                     #
+# dans ecrire/mes_options.php3                            #
+# (fichier associe : inc-urls-propres.php3)               #
+###########################################################
+
+RewriteEngine On
+
+### si votre site est en sous-domaine, preciser ci-dessous
+# RewriteBase /sous/domaine/
+
+# Rediriger les mots et breves sans le "+" final
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^(\+[^/\.\+]+)$ /$1+ [QSA,R]
+
+# Les mots-cles
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^\+-[^/\.]+-\+$ mot.php3 [QSA,E=url_propre:$0]
+
+# Les breves
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^\+[^/\.]+\+$ breve.php3 [QSA,E=url_propre:$0]
+
+# Les rubriques
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^-[^/\.]+-$ rubrique.php3 [QSA,E=url_propre:$0]
+
+# Les articles
+RewriteCond %{REQUEST_FILENAME} !-f
+RewriteCond %{REQUEST_FILENAME} !-d
+RewriteRule ^[^/\.]+$ article.php3 [QSA,E=url_propre:$0]

Index: inc-admin.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-admin.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-admin.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-admin.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,50 +1,55 @@
-<?php
-
-// Inserer la feuille de style selon les normes, dans le <head>
-// puis les boutons
-// Feuilles de style admin : d'abord la CSS officielle, puis la perso,
-
-function affiche_boutons_admin($contenu) {
-	$css = "<link rel='stylesheet' href='spip_admin.css' type='text/css' />\n";
-	if ($f = find_in_path('spip_admin_perso.css'))
-		$css2 = "<link rel='stylesheet' href='$f' type='text/css' />\n";
-
-	if (preg_match('@<(/head|body)@i', $contenu, $regs)) {
-		$contenu = explode($regs[0], $contenu, 2);
-		$contenu = $contenu[0] . $css. $css2 . $regs[0] . $contenu[1];
-	} else
-		$contenu = $css . $css2 . $contenu;
-
-	if (preg_match('@<(/body|/html)@i', $contenu, $regs)) {
-		$split = explode($regs[0], $contenu, 2);
-		$contenu = $split[0];
-		$suite = $regs[0].$split[1];
-	}
-
-	echo $contenu;
-
-	//
-	// Regler les boutons dans la langue de l'admin (sinon tant pis)
-	//
-	include_local(_FILE_CONNECT);
-	include_ecrire ("inc_lang.php3");
-	$login = addslashes(ereg_replace('^@','',$GLOBALS['spip_admin']));
-	if ($row = spip_fetch_array(spip_query("SELECT lang FROM spip_auteurs WHERE login='$login'"))) {
-		$lang = $row['lang'];
-	}
-	lang_select($lang);
-
-	// Afficher la balise #FORMULAIRE_ADMIN mais en float
-	inclure_balise_dynamique(
-		balise_formulaire_admin_dyn(
-		$GLOBALS['id_article'], $GLOBALS['id_breve'],
-		$GLOBALS['id_rubrique'], $GLOBALS['id_mot'],
-		$GLOBALS['id_auteur'], 'div'
-	));
-
-	lang_dselect();
-
-	return $suite;
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// Inserer la feuille de style selon les normes, dans le <head>
+// puis les boutons
+// Feuilles de style admin : d'abord la CSS officielle, puis la perso,
+
+function affiche_boutons_admin($contenu) {
+	$css = "<link rel='stylesheet' href='spip_admin.css' type='text/css' />\n";
+	if ($f = find_in_path('spip_admin_perso.css'))
+		$css .= "<link rel='stylesheet' href='$f' type='text/css' />\n";
+
+	if (preg_match('@<(/head|body)@i', $contenu, $regs)) {
+		$contenu = explode($regs[0], $contenu, 2);
+		$contenu = $contenu[0] . $css . $regs[0] . $contenu[1];
+	} else
+		$contenu = $css . $contenu;
+
+	if (preg_match('@<(/body|/html)@i', $contenu, $regs)) {
+		$split = explode($regs[0], $contenu, 2);
+		$contenu = $split[0];
+		$suite = $regs[0].$split[1];
+	}
+
+	//
+	// Regler les boutons dans la langue de l'admin (sinon tant pis)
+	//
+	include_ecrire ("inc_lang.php3");
+	$login = addslashes(ereg_replace('^@','',$GLOBALS['spip_admin']));
+	$s = spip_query("SELECT lang FROM spip_auteurs WHERE login='$login'");
+	if ($row = spip_fetch_array($s))
+		$lang = $row['lang'];
+	lang_select($lang);
+
+	// Recuperer sans l'afficher la balise #FORMULAIRE_ADMIN, en float
+	$boutons_admin = inclure_balise_dynamique(
+		balise_FORMULAIRE_ADMIN_dyn('div'),
+	false);
+
+	lang_dselect();
+
+	return $contenu.$boutons_admin.$suite;
+}
+
+?>

Index: inc-cache.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-cache.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-cache.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-cache.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,202 +1,214 @@
-<?php
-
-//
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_CACHE")) return;
-define("_INC_CACHE", "1");
-
-
-//
-// Calcul du nom du fichier cache
-//
-
-function nettoyer_uri() {
-	$fichier_requete = $GLOBALS['REQUEST_URI'];
-	$fichier_requete = eregi_replace
-		('[?&](PHPSESSID|(var_[^=&]*))=[^&]*',
-		'', $fichier_requete);
-	return $fichier_requete;
-}
-
-//
-// Le format souhaite : "CACHE/a/(8400/)bout-d-url.md5(.gz)"
-// Attention a modifier simultanement le sanity check de
-// la fonction retire_cache()
-//
-function generer_nom_fichier_cache($contexte='', $fond='') {
-	global $delais;
-	global $flag_gz, $compresser_cache;
-
-	if ($delais == 0) return '';
-
-	if (!$contexte) {
-		$fichier_requete = nettoyer_uri();
-	} else {
-		$fichier_requete = $fond;
-		foreach ($contexte as $var=>$val)
-			$fichier_requete .= "&$var=$val";
-	}
-
-	$md_cache = md5($fichier_requete);
-
-	$fichier_cache = ereg_replace('^/+', '', $fichier_requete);
-	$fichier_cache = ereg_replace('\.[a-zA-Z0-9]*', '', $fichier_cache);
-	$fichier_cache = ereg_replace('&[^&]+=([^&]+)', '&\1', $fichier_cache);
-	$fichier_cache = rawurlencode(strtr($fichier_cache, '/&-', '--_'));
-	if (strlen($fichier_cache) > 24)
-		$fichier_cache = substr(ereg_replace('([a-zA-Z]{1,3})[^-]*-',
-		'\1-', $fichier_cache), -22);
-
-	// Pour la page d'accueil
-	if (!$fichier_cache)
-		$fichier_cache = 'INDEX-';
-
-	// morceau de md5
-	$fichier_cache .= '.'.substr($md_cache, 1, 8);
-
-	// Sous-repertoires 0...9a..f/
-	$subdir = creer_repertoire(_DIR_CACHE, substr($md_cache, 0, 1));
-	// Sous-sous-repertoires delais/ (inutile avec l'invalidation par 't')
-	# $subdir2 = creer_repertoire("CACHE/$subdir", $delais);
-
-	include_ecrire('inc_acces.php3');
-	verifier_htaccess(_DIR_CACHE);
-
-	$gzip = $flag_gz && $compresser_cache ? '.gz' : '';
-
-	return _DIR_CACHE . $subdir.$subdir2.$fichier_cache.$gzip;
-}
-
-//
-// Destruction des fichiers caches invalides
-//
-// NE PAS appeler ces fonctions depuis l'espace prive 
-// car openbase_dir peut leur interdire l'acces au repertoire de cache
-
-// Securite : est sur que c'est un cache
-function retire_cache($cache) {
-	if (!_DIR_RESTREINT) return;
-	if (preg_match('|^' . _DIR_CACHE .
-		"([0-9a-f]/)?([0-9]+/)?[^.][\-_\%0-9a-z]+\.[0-9a-f]+(\.gz)?$|i",
-		       $cache)) {
-		// supprimer le fichier (de facon propre)
-		supprimer_fichier($cache);
-	} else
-		spip_log("Impossible de retirer $cache");
-}
-
-// Supprimer les caches marques "x"
-function retire_caches() {
-	if (!_DIR_RESTREINT) return;
-
-	// signaler
-	effacer_meta('invalider');
-	ecrire_metas();
-
-	// recuperer la liste des caches voues a la suppression
-	$suppr = array();
-	$q = spip_query("SELECT fichier FROM spip_caches WHERE type='x'");
-	while ($r = spip_fetch_array($q))
-		$suppr[$r['fichier']] = true;
-
-	if ($n = count($suppr)) {
-		spip_log ("Retire $n caches");
-		foreach ($suppr as $cache => $ignore)
-			retire_cache($cache);
-		spip_query("DELETE FROM spip_caches WHERE "
-		.calcul_mysql_in('fichier', "'".join("','",array_keys($suppr))."'") );
-	}
-}
-
-//
-// Retourne 0 s'il faut calculer le cache, 1 si on peut l'utiliser
-//
-function utiliser_cache($chemin_cache, $delais) {
-	global $_SERVER;
-
-	// ne jamais calculer pour les moteurs de recherche, proxies...
-	if ($_SERVER['REQUEST_METHOD'] == 'HEAD')
-		return 1;
-
-	//  calcul par forcage
-	if ($GLOBALS['var_mode'] &&
-		($GLOBALS['_COOKIE']['spip_session']
-		|| $GLOBALS['_COOKIE']['spip_admin']
-		|| @file_exists(_ACCESS_FILE_NAME))) # insuffisant...
-		return 0;
-
-	// calcul par absence
-	if (!@file_exists($chemin_cache)) return 0;
-
-	// calcul par obsolescence
-	return ((time() - @filemtime($chemin_cache)) > $delais) ? 0 : 1;
-}
-
-
-// Obsolete ?  Utilisee pour vider le cache depuis l'espace prive
-// (ou juste les squelettes si un changement de config le necessite)
-function purger_repertoire($dir, $age='ignore', $regexp = '') {
-	$handle = @opendir($dir);
-	if (!$handle) return;
-
-	while (($fichier = @readdir($handle)) != '') {
-		// Eviter ".", "..", ".htaccess", etc.
-		if ($fichier[0] == '.') continue;
-		if ($regexp AND !ereg($regexp, $fichier)) continue;
-		$chemin = "$dir/$fichier";
-		if (is_file($chemin))
-			@unlink($chemin);
-		else if (is_dir($chemin))
-			if ($fichier != 'CVS')
-				purger_repertoire($chemin);
-	}
-	closedir($handle);
-}
-
-function purger_cache() {
-	spip_log('vider le cache');
-	include_ecrire('inc_invalideur.php3');
-	supprime_invalideurs();
-	purger_repertoire(_DIR_CACHE, 0);
-}
-
-function purger_squelettes() {
-	spip_log('effacer les squelettes compiles');
-	purger_repertoire(_DIR_CACHE, 0, '^skel_');
-}
-
-
-// Determination du fichier cache (si besoin)
-function determiner_cache($delais, &$use_cache, &$chemin_cache) {
-
-	// Le fichier cache est-il valide ?
-	if ($delais == 0 OR !empty($GLOBALS['_POST'])) {
-		$use_cache = 0;
-		$chemin_cache = '';
-	} else {
-		$use_cache = utiliser_cache($chemin_cache, $delais);
-	}
-
-	// Sinon, tester qu'on a la connexion a la base
-	if (!$use_cache) {
-		include_local(_FILE_CONNECT);
-		if (!$GLOBALS['db_ok']) {
-			if ($chemin_cache AND @file_exists($chemin_cache)) {
-				$use_cache = 1;
-			}
-			else {
-				spip_log("Erreur base de donnees & "
-					. "impossible utiliser $chemin_cache");
-				if (!$GLOBALS['flag_preserver']) {
-					include_ecrire('inc_presentation.php3');
-					install_debut_html(_T('info_travaux_titre'));
-					echo _T('titre_probleme_technique');
-					install_fin_html();
-				}
-				exit;
-			}
-		}
-	}
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+//
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_CACHE")) return;
+define("_INC_CACHE", "1");
+
+
+//
+// Calcul du nom du fichier cache
+//
+
+function nettoyer_uri() {
+	$fichier_requete = $GLOBALS['REQUEST_URI'];
+	$fichier_requete = eregi_replace
+		('[?&](PHPSESSID|(var_[^=&]*))=[^&]*',
+		'', $fichier_requete);
+	return $fichier_requete;
+}
+
+//
+// Le format souhaite : "CACHE/a/(8400/)bout-d-url.md5(.gz)"
+// Attention a modifier simultanement le sanity check de
+// la fonction retire_cache()
+//
+function generer_nom_fichier_cache($contexte='', $fond='') {
+	global $delais;
+	global $flag_gz, $compresser_cache;
+
+	if ($delais == 0) return '';
+
+	if (!$contexte) {
+		$fichier_requete = nettoyer_uri();
+	} else {
+		$fichier_requete = $fond;
+		foreach ($contexte as $var=>$val)
+			$fichier_requete .= "&$var=$val";
+	}
+
+	$md_cache = md5($fichier_requete);
+
+	$fichier_cache = ereg_replace('^/+', '', $fichier_requete);
+	$fichier_cache = ereg_replace('\.[a-zA-Z0-9]*', '', $fichier_cache);
+	$fichier_cache = ereg_replace('&[^&]+=([^&]+)', '&\1', $fichier_cache);
+	$fichier_cache = rawurlencode(strtr($fichier_cache, '/&-', '--_'));
+	if (strlen($fichier_cache) > 24)
+		$fichier_cache = substr(ereg_replace('([a-zA-Z]{1,3})[^-]*-',
+		'\1-', $fichier_cache), -22);
+
+	// Pour la page d'accueil
+	if (!$fichier_cache)
+		$fichier_cache = 'INDEX-';
+
+	// morceau de md5
+	$fichier_cache .= '.'.substr($md_cache, 1, 8);
+
+	// Sous-repertoires 0...9a..f/
+	$subdir = creer_repertoire(_DIR_CACHE, substr($md_cache, 0, 1));
+	// Sous-sous-repertoires delais/ (inutile avec l'invalidation par 't')
+	# $subdir2 = creer_repertoire("CACHE/$subdir", $delais);
+
+	include_ecrire('inc_acces.php3');
+	verifier_htaccess(_DIR_CACHE);
+
+	$gzip = $flag_gz && $compresser_cache ? '.gz' : '';
+
+	return _DIR_CACHE . $subdir.$subdir2.$fichier_cache.$gzip;
+}
+
+//
+// Destruction des fichiers caches invalides
+//
+// NE PAS appeler ces fonctions depuis l'espace prive 
+// car openbase_dir peut leur interdire l'acces au repertoire de cache
+
+// Securite : est sur que c'est un cache
+function retire_cache($cache) {
+	if (!_DIR_RESTREINT) return;
+	if (preg_match('|^' . _DIR_CACHE .
+		"([0-9a-f]/)?([0-9]+/)?[^.][\-_\%0-9a-z]+\.[0-9a-f]+(\.gz)?$|i",
+		       $cache)) {
+		// supprimer le fichier (de facon propre)
+		supprimer_fichier($cache);
+	} else
+		spip_log("Impossible de retirer $cache");
+}
+
+// Supprimer les caches marques "x"
+function retire_caches() {
+	if (!_DIR_RESTREINT) return;
+
+	// signaler
+	effacer_meta('invalider');
+	ecrire_metas();
+
+	// recuperer la liste des caches voues a la suppression
+	$suppr = array();
+	$q = spip_query("SELECT fichier FROM spip_caches WHERE type='x'");
+	while ($r = spip_fetch_array($q))
+		$suppr[$r['fichier']] = true;
+
+	if ($n = count($suppr)) {
+		spip_log ("Retire $n caches");
+		foreach ($suppr as $cache => $ignore)
+			retire_cache($cache);
+		spip_query("DELETE FROM spip_caches WHERE "
+		.calcul_mysql_in('fichier', "'".join("','",array_keys($suppr))."'") );
+	}
+}
+
+//
+// Retourne 0 s'il faut calculer le cache, 1 si on peut l'utiliser
+//
+function utiliser_cache($chemin_cache, $delais) {
+	global $_SERVER;
+
+	// ne jamais calculer pour les moteurs de recherche, proxies...
+	if ($_SERVER['REQUEST_METHOD'] == 'HEAD')
+		return 1;
+
+	//  calcul par forcage
+	if ($GLOBALS['var_mode'] &&
+		($GLOBALS['_COOKIE']['spip_session']
+		|| $GLOBALS['_COOKIE']['spip_admin']
+		|| @file_exists(_ACCESS_FILE_NAME))) # insuffisant...
+		return 0;
+
+	// calcul par absence
+	if (!@file_exists($chemin_cache)) return 0;
+
+	// calcul par obsolescence
+	return ((time() - @filemtime($chemin_cache)) > $delais) ? 0 : 1;
+}
+
+
+// Obsolete ?  Utilisee pour vider le cache depuis l'espace prive
+// (ou juste les squelettes si un changement de config le necessite)
+function purger_repertoire($dir, $age='ignore', $regexp = '') {
+	$handle = @opendir($dir);
+	if (!$handle) return;
+
+	while (($fichier = @readdir($handle)) != '') {
+		// Eviter ".", "..", ".htaccess", etc.
+		if ($fichier[0] == '.') continue;
+		if ($regexp AND !ereg($regexp, $fichier)) continue;
+		$chemin = "$dir/$fichier";
+		if (is_file($chemin))
+			@unlink($chemin);
+		else if (is_dir($chemin))
+			if ($fichier != 'CVS')
+				purger_repertoire($chemin);
+	}
+	closedir($handle);
+}
+
+function purger_cache() {
+	spip_log('vider le cache');
+	include_ecrire('inc_invalideur.php3');
+	supprime_invalideurs();
+	purger_repertoire(_DIR_CACHE, 0);
+}
+
+function purger_squelettes() {
+	spip_log('effacer les squelettes compiles');
+	purger_repertoire(_DIR_CACHE, 0, '^skel_');
+}
+
+
+// Determination du fichier cache (si besoin)
+function determiner_cache($delais, &$use_cache, &$chemin_cache) {
+	global $_POST;
+
+	// Le fichier cache est-il valide ?
+	if ($delais == 0 OR count($_POST)) {
+		$use_cache = 0;
+		$chemin_cache = '';
+	} else {
+		$use_cache = utiliser_cache($chemin_cache, $delais);
+	}
+
+	// Sinon, tester qu'on a la connexion a la base
+	if (!$use_cache) {
+		include_local(_FILE_CONNECT);
+		if (!$GLOBALS['db_ok']) {
+			if ($chemin_cache AND @file_exists($chemin_cache)) {
+				$use_cache = 1;
+			}
+			else {
+				spip_log("Erreur base de donnees & "
+					. "impossible utiliser $chemin_cache");
+				if (!$GLOBALS['flag_preserver']) {
+					include_ecrire('inc_presentation.php3');
+					install_debut_html(_T('info_travaux_titre'));
+					echo _T('titre_probleme_technique');
+					install_fin_html();
+				}
+				exit;
+			}
+		}
+	}
+}
+
+?>

Index: distrib.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/distrib.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- distrib.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ distrib.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,10 +1,10 @@
-<?php
-$fond = "distrib";
-$delais = 3600;
-
-// cette ligne empeche l'affichage des boutons d'administration
-$flag_preserver = true;
-
-include ("inc-public.php3");
-
+<?php
+$fond = "distrib";
+$delais = 3600;
+
+// cette ligne empeche l'affichage des boutons d'administration
+$flag_preserver = true;
+
+include ("inc-public.php3");
+
 ?>

Index: habillage.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/habillage.css,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- habillage.css	8 Feb 2005 15:10:10 -0000	1.2
+++ habillage.css	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,420 +1,420 @@
-
-
-/*
- * Mise en page des textes (bordures...)
- */
-
-.chapo {
-	line-height: 1.4em;
-	margin-top: 1em;
-}
-.texte {
-}
-.ps {
-	padding-top: 0.6em;
-	margin-top: 0.6em;
-	border-top: 1px dashed #404040;
-}
-.notes {
-	margin-top: 0.6em;
-	margin-bottom: 0.6em;
-	border-top: 1px solid #a0a0a0;
-	padding: 1.5em;
-}
-
-/*
- * Habillage des menus et de la navigation
- */
-
-.menu {
-	border: 1px solid #a0a0a0;
-	border-top: 0px;
-	padding: 0px;
-	margin: 0px;
-	margin-bottom: 16px;
-}
-.menu ul {
-	display: block;
-	margin: 0px;
-	padding: 0px;
-	padding-bottom: 4px;
-	list-style: none;
-}
-.menu ol {
-	display: block;
-	margin: 0px;
-	padding: 0px;
-	padding-bottom: 4px;
-	list-style: none;
-}
-.menu-titre {
-	border-top: 1px solid #a0a0a0;
-	border-bottom: 1px dashed #d0d0d0;
-	margin: 0px;
-	padding-left: 4px;
-	padding-right: 4px;
-	padding-top: 3px;
-	padding-bottom: 2px;
-	font-size: 90%;
-}
-.menu-item {
-	margin: 0px;
-	padding-left: 4px;
-	padding-right: 4px;
-	padding-top: 1px;
-	padding-bottom: 1px;
-	font-size: 80%;
-}
-
-/* Des couleurs specifiques selon les types de menus */
-
-.general		{ background-color: #f8f8e8; text-align:center; }
-.general .menu-titre 	{ background-color: #fcfcf0; }
-
-.rubriques 		{ background-color: #eaffea; text-align:center; }
-.rubriques .menu-titre	{ background-color: #f2fff2; }
-
-.breves 		{ background-color: #ffeaea; }
-.breves .menu-titre	{ background-color: #fff2f2; text-align:center; }
-
-.divers 		{ background-color: #eaeaff; }
-.divers .menu-titre	{ background-color: #f2f2ff; text-align:center; }
-
-.forums 		{ background-color: #e8f8f8; }
-.forums .menu-titre	{ background-color: #f0fcfc; text-align:center; }
-
-
-/*
- * Styles pour le contenu (c-a-d. la colonne principale)
- */
-
-.contenu {
-	margin: 15px;
-}
-.contenu h2.titre-extrait {
-}
-.contenu h2.titre-texte {
-}
-.contenu .surtitre {
-	margin-top: 0em;
-	margin-bottom: 0em;
-}
-.contenu .detail {
-	margin-left: 2em;
-}
-.contenu .detail .important {
-	color: #a02020;
-}
-.extrait {
-	margin: 0.1em;
-	margin-top: 0.5em;
-	margin-bottom: 0.5em;
-	margin-left: 2em;
-	margin-right: 0.1em;
-	line-height: 1.4em;
-}
-.liste-articles {
-	margin-top: 1em;
-	margin-bottom: 1em;
-	clear: left;
-}
-.contenu .forum-repondre {
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-	text-align: left;
-	font-size: 90%;
-	font-weight: bold;
-	margin-top: 0.6em;
-}
-
-
-/*
- * Disposition a l'ecran : colonnes, encarts, cartouches
- */
-
-#principal {
-	position: absolute;
-	left: 30%;
-	/*left: 18em;*/
-	top: 0px;
-	margin: 0px;
-	padding: 0px;
-	/*margin-right: 2em;*/
-	margin-right: 3%;
-	margin-top: 1.5em;
-}
-
-#plan {
-	position: absolute;
-	left: 2em;
-	top: 0px;
-	margin: 0px;
-	padding: 0px;
-	margin-right: 2em;
-	margin-top: 2em;
-}
-
-#navigation {
-	position: absolute;
-	left: 0px;
-	top: 0px;
-	width: 24%;
-	/*width: 14em;*/
-	padding: 0px;
-	margin: 0px;
-	/*margin-left: 1.8em;*/
-	margin-left: 3%;
-	margin-top: 1.5em;
-}
-
-.encart {
-	float: right;
-	/*width: 14em;*/
-	width: 34%;
-	margin-left: 4%;
-	/*margin-left: 2em;*/
-	margin-top: 1em;
-	margin-bottom: 0em;
-	margin-right: 0px;
-}
-
-.cartouche {
-	padding-top: 1em;
-	border-top: 2px solid #404040;
-	margin-bottom: 0em;
-}
-
-.cartouche .spip_logos {
-	margin-left: 0px;
-	padding-left: 0px;
-	margin-right: 0.8em;
-}
-
-
-/*
- * Habillage du plan du site
- */
-
-.plan-secteur {
-	margin-top: 0em;
-	margin-bottom: 3em;
-	clear: right;
-}
-
-.plan-secteur h1 {
-	display: block;
-	border: 1px solid #a0a0a0;
-	margin: 0px;
-	padding: 8px;
-	font-size: 150%;
-	font-weight: bold;
-	background-color: #e0ffe0;
-	text-align:center;
-}
-.plan-rubriques {
-	clear: left;
-	display: block;
-	list-style: none;
-}
-.plan-rubrique {
-	display: inline;
-	border: 1px solid #a0a0a0;
-	padding: 3px;
-	font-weight: bold;
-}
-.plan-articles {
-	clear: left;
-	margin-top: 0.5em;
-	margin-bottom: 1em;
-	list-style: square;
-}
-
-/* Eclaircissement progressif des rubriques en fonction de la profondeur */
-
-ul .plan-rubrique {
-	background-color: #e0ffe0;
-	border-color: #b8b8b8;
-}
-ul ul .plan-rubrique {
-	background-color: #eaffea;
-	border-color: #d0d0d0;
-}
-ul ul ul .plan-rubrique {
-	background-color: #f4fff4;
-	border-color: #e8e8e8;
-}
-
-
-/*
- * Habillage des forums
- */
-
-ul.forum-total {
-	display: block;
-	padding: 0px;
-	margin: 0px;
-	list-style: none;
-}
-.forum-fil {
-	margin-top: 3em;
-}
-.forum-fil ul {
-	display: block;
-	margin: 0px;
-	margin-left: 2em;
-	padding: 0px;
-	list-style: none;
-}
-.forum-titre {
-	font-weight: bold;
-	font-size: 120%;
-}
-.forum-item {
-	margin: 0px;
-	padding: 1em;
-	padding-top: 0.5em;
-	padding-bottom: 0em;
-	text-align: justify;
-	color: #303030;
-	font-size: 80%;
-}
-.forum-repondre-message {
-	text-align: right;
-}
-
-/* Boite d'un forum : eclaircissement progressif des bords */
-
-ul .forum {
-	border: 1px solid #909090;
-	padding: 0px;
-	margin: 0px;
-	margin-bottom: 1em;
-}
-ul ul .forum {
-	border: 1px solid #a4a4a4;
-}
-ul ul ul .forum {
-	border: 1px solid #b8b8b8;
-}
-ul ul ul ul .forum {
-	border: 1px solid #cccccc;
-}
-ul ul ul ul ul .forum {
-	border: 1px solid #e0e0e0;
-}
-ul ul ul ul ul ul .forum {
-	border: 1px dashed #e0e0e0;
-}
-
-/* Boite de titre d'un forum : mise en couleur selon la profondeur du forum */
-
-ul .forum-chapo {
-	border: 0px;
-	border-bottom: 1px dashed #b8b8b8;
-	margin: 0px;
-	padding-left: 6px;
-	padding-right: 6px;
-	padding-top: 3px;
-	padding-bottom: 2px;
-	font-size: 90%;
-	background: #c4e0e0;
-}
-ul ul .forum-chapo {
-	background: #d4e8e8;
-}
-ul ul ul .forum-chapo {
-	background: #e4f0f0;
-}
-ul ul ul ul .forum-chapo {
-	background: #f4f8f8;
-}
-ul ul ul ul ul .forum-chapo {
-	background: #ffffff;
-}
-
-
-/*
- * Habillage des petitions
- */
-
-.signatures {
-	margin-left: 0px;
-	margin-right: 0px;
-	margin-top: 1em;
-	margin-bottom: 1em;
-	width: 100%;
-}
-.signatures td {
-	-moz-border-radius: 0.4em;
-}
-.signatures-titre {
-	clear: right;
-	font-weight: bold;
-	font-size: 120%;
-	text-align: center;
-	padding: 0.5em;
-	margin: 0px;
-}
-.signature-date {
-	white-space: nowrap;
-	background: #e4f0f0;
-	padding: 0.5em;
-}
-.signature-nom {
-	font-weight: bold;
-	background: #ecf4f4;
-	padding: 0.2em;
-	text-align: center;
-}
-.signature-message {
-	font-size: 85%;
-	background: #f4f8f8;
-	padding: 0.4em;
-	text-align: justify;
-}
-
-
-/*
- * Formulaires
- */
-
-.formrecherche {
-	background-color: #f2f2f2;
-	color: #505030;
-	margin: 0px;
-	padding: 2px;
-	border: solid 1px #909090;
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-	font-size: 80%;
-	font-weight: normal;
-}
-
-.formulaire {
-	color: black;
-	margin: 0px;
-	margin-bottom: 16px;
-	padding: 4px;
-	border: 1px solid #a0a0a0;
-	background-color: #f6f6f6;
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-	font-size: 80%;
-	font-weight: normal;
-}
-.forml {
-	background-color: #ececec;
-	margin: 4px;
-	padding: 1px;
-	border: dashed 1px #909090;
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-	font-size: 90%;
-}
-.spip_bouton {
-	border: 2px solid #404040;
-	padding: 3px;
-	background: #d0d0d0;
-	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
-}
-
-.spip-admin {
-}
-
-
+
+
+/*
+ * Mise en page des textes (bordures...)
+ */
+
+.chapo {
+	line-height: 1.4em;
+	margin-top: 1em;
+}
+.texte {
+}
+.ps {
+	padding-top: 0.6em;
+	margin-top: 0.6em;
+	border-top: 1px dashed #404040;
+}
+.notes {
+	margin-top: 0.6em;
+	margin-bottom: 0.6em;
+	border-top: 1px solid #a0a0a0;
+	padding: 1.5em;
+}
+
+/*
+ * Habillage des menus et de la navigation
+ */
+
+.menu {
+	border: 1px solid #a0a0a0;
+	border-top: 0px;
+	padding: 0px;
+	margin: 0px;
+	margin-bottom: 16px;
+}
+.menu ul {
+	display: block;
+	margin: 0px;
+	padding: 0px;
+	padding-bottom: 4px;
+	list-style: none;
+}
+.menu ol {
+	display: block;
+	margin: 0px;
+	padding: 0px;
+	padding-bottom: 4px;
+	list-style: none;
+}
+.menu-titre {
+	border-top: 1px solid #a0a0a0;
+	border-bottom: 1px dashed #d0d0d0;
+	margin: 0px;
+	padding-left: 4px;
+	padding-right: 4px;
+	padding-top: 3px;
+	padding-bottom: 2px;
+	font-size: 90%;
+}
+.menu-item {
+	margin: 0px;
+	padding-left: 4px;
+	padding-right: 4px;
+	padding-top: 1px;
+	padding-bottom: 1px;
+	font-size: 80%;
+}
+
+/* Des couleurs specifiques selon les types de menus */
+
+.general		{ background-color: #f8f8e8; text-align:center; }
+.general .menu-titre 	{ background-color: #fcfcf0; }
+
+.rubriques 		{ background-color: #eaffea; text-align:center; }
+.rubriques .menu-titre	{ background-color: #f2fff2; }
+
+.breves 		{ background-color: #ffeaea; }
+.breves .menu-titre	{ background-color: #fff2f2; text-align:center; }
+
+.divers 		{ background-color: #eaeaff; }
+.divers .menu-titre	{ background-color: #f2f2ff; text-align:center; }
+
+.forums 		{ background-color: #e8f8f8; }
+.forums .menu-titre	{ background-color: #f0fcfc; text-align:center; }
+
+
+/*
+ * Styles pour le contenu (c-a-d. la colonne principale)
+ */
+
+.contenu {
+	margin: 15px;
+}
+.contenu h2.titre-extrait {
+}
+.contenu h2.titre-texte {
+}
+.contenu .surtitre {
+	margin-top: 0em;
+	margin-bottom: 0em;
+}
+.contenu .detail {
+	margin-left: 2em;
+}
+.contenu .detail .important {
+	color: #a02020;
+}
+.extrait {
+	margin: 0.1em;
+	margin-top: 0.5em;
+	margin-bottom: 0.5em;
+	margin-left: 2em;
+	margin-right: 0.1em;
+	line-height: 1.4em;
+}
+.liste-articles {
+	margin-top: 1em;
+	margin-bottom: 1em;
+	clear: left;
+}
+.contenu .forum-repondre {
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+	text-align: left;
+	font-size: 90%;
+	font-weight: bold;
+	margin-top: 0.6em;
+}
+
+
+/*
+ * Disposition a l'ecran : colonnes, encarts, cartouches
+ */
+
+#principal {
+	position: absolute;
+	left: 30%;
+	/*left: 18em;*/
+	top: 0px;
+	margin: 0px;
+	padding: 0px;
+	/*margin-right: 2em;*/
+	margin-right: 3%;
+	margin-top: 1.5em;
+}
+
+#plan {
+	position: absolute;
+	left: 2em;
+	top: 0px;
+	margin: 0px;
+	padding: 0px;
+	margin-right: 2em;
+	margin-top: 2em;
+}
+
+#navigation {
+	position: absolute;
+	left: 0px;
+	top: 0px;
+	width: 24%;
+	/*width: 14em;*/
+	padding: 0px;
+	margin: 0px;
+	/*margin-left: 1.8em;*/
+	margin-left: 3%;
+	margin-top: 1.5em;
+}
+
+.encart {
+	float: right;
+	/*width: 14em;*/
+	width: 34%;
+	margin-left: 4%;
+	/*margin-left: 2em;*/
+	margin-top: 1em;
+	margin-bottom: 0em;
+	margin-right: 0px;
+}
+
+.cartouche {
+	padding-top: 1em;
+	border-top: 2px solid #404040;
+	margin-bottom: 0em;
+}
+
+.cartouche .spip_logos {
+	margin-left: 0px;
+	padding-left: 0px;
+	margin-right: 0.8em;
+}
+
+
+/*
+ * Habillage du plan du site
+ */
+
+.plan-secteur {
+	margin-top: 0em;
+	margin-bottom: 3em;
+	clear: right;
+}
+
+.plan-secteur h1 {
+	display: block;
+	border: 1px solid #a0a0a0;
+	margin: 0px;
+	padding: 8px;
+	font-size: 150%;
+	font-weight: bold;
+	background-color: #e0ffe0;
+	text-align:center;
+}
+.plan-rubriques {
+	clear: left;
+	display: block;
+	list-style: none;
+}
+.plan-rubrique {
+	display: inline;
+	border: 1px solid #a0a0a0;
+	padding: 3px;
+	font-weight: bold;
+}
+.plan-articles {
+	clear: left;
+	margin-top: 0.5em;
+	margin-bottom: 1em;
+	list-style: square;
+}
+
+/* Eclaircissement progressif des rubriques en fonction de la profondeur */
+
+ul .plan-rubrique {
+	background-color: #e0ffe0;
+	border-color: #b8b8b8;
+}
+ul ul .plan-rubrique {
+	background-color: #eaffea;
+	border-color: #d0d0d0;
+}
+ul ul ul .plan-rubrique {
+	background-color: #f4fff4;
+	border-color: #e8e8e8;
+}
+
+
+/*
+ * Habillage des forums
+ */
+
+ul.forum-total {
+	display: block;
+	padding: 0px;
+	margin: 0px;
+	list-style: none;
+}
+.forum-fil {
+	margin-top: 3em;
+}
+.forum-fil ul {
+	display: block;
+	margin: 0px;
+	margin-left: 2em;
+	padding: 0px;
+	list-style: none;
+}
+.forum-titre {
+	font-weight: bold;
+	font-size: 120%;
+}
+.forum-item {
+	margin: 0px;
+	padding: 1em;
+	padding-top: 0.5em;
+	padding-bottom: 0em;
+	text-align: justify;
+	color: #303030;
+	font-size: 80%;
+}
+.forum-repondre-message {
+	text-align: right;
+}
+
+/* Boite d'un forum : eclaircissement progressif des bords */
+
+ul .forum {
+	border: 1px solid #909090;
+	padding: 0px;
+	margin: 0px;
+	margin-bottom: 1em;
+}
+ul ul .forum {
+	border: 1px solid #a4a4a4;
+}
+ul ul ul .forum {
+	border: 1px solid #b8b8b8;
+}
+ul ul ul ul .forum {
+	border: 1px solid #cccccc;
+}
+ul ul ul ul ul .forum {
+	border: 1px solid #e0e0e0;
+}
+ul ul ul ul ul ul .forum {
+	border: 1px dashed #e0e0e0;
+}
+
+/* Boite de titre d'un forum : mise en couleur selon la profondeur du forum */
+
+ul .forum-chapo {
+	border: 0px;
+	border-bottom: 1px dashed #b8b8b8;
+	margin: 0px;
+	padding-left: 6px;
+	padding-right: 6px;
+	padding-top: 3px;
+	padding-bottom: 2px;
+	font-size: 90%;
+	background: #c4e0e0;
+}
+ul ul .forum-chapo {
+	background: #d4e8e8;
+}
+ul ul ul .forum-chapo {
+	background: #e4f0f0;
+}
+ul ul ul ul .forum-chapo {
+	background: #f4f8f8;
+}
+ul ul ul ul ul .forum-chapo {
+	background: #ffffff;
+}
+
+
+/*
+ * Habillage des petitions
+ */
+
+.signatures {
+	margin-left: 0px;
+	margin-right: 0px;
+	margin-top: 1em;
+	margin-bottom: 1em;
+	width: 100%;
+}
+.signatures td {
+	-moz-border-radius: 0.4em;
+}
+.signatures-titre {
+	clear: right;
+	font-weight: bold;
+	font-size: 120%;
+	text-align: center;
+	padding: 0.5em;
+	margin: 0px;
+}
+.signature-date {
+	white-space: nowrap;
+	background: #e4f0f0;
+	padding: 0.5em;
+}
+.signature-nom {
+	font-weight: bold;
+	background: #ecf4f4;
+	padding: 0.2em;
+	text-align: center;
+}
+.signature-message {
+	font-size: 85%;
+	background: #f4f8f8;
+	padding: 0.4em;
+	text-align: justify;
+}
+
+
+/*
+ * Formulaires
+ */
+
+.formrecherche {
+	background-color: #f2f2f2;
+	color: #505030;
+	margin: 0px;
+	padding: 2px;
+	border: solid 1px #909090;
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+	font-size: 80%;
+	font-weight: normal;
+}
+
+.formulaire {
+	color: black;
+	margin: 0px;
+	margin-bottom: 16px;
+	padding: 4px;
+	border: 1px solid #a0a0a0;
+	background-color: #f6f6f6;
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+	font-size: 80%;
+	font-weight: normal;
+}
+.forml {
+	background-color: #ececec;
+	margin: 4px;
+	padding: 1px;
+	border: dashed 1px #909090;
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+	font-size: 90%;
+}
+.spip_bouton {
+	border: 2px solid #404040;
+	padding: 3px;
+	background: #d0d0d0;
+	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
+}
+
+.spip-admin {
+}
+
+

Index: inc-boucles.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-boucles.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-boucles.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-boucles.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,232 +1,243 @@
-<?php
-
-//
-// Ce fichier definit les boucles standard de SPIP
-//
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_BOUCLES")) return;
-define("_INC_BOUCLES", "1");
-
-
-//
-// Boucle sur une table hors SPIP
-//
-function boucle_DEFAUT($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$boucle->from[] =  $boucle->type_requete . " AS " . $boucle->type_requete;
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(BOUCLE)> boucle dite recursive
-//
-function boucle_BOUCLE_dist($id_boucle, &$boucles) {
-
-	    return "\n	\$t0 = " . $boucles[$id_boucle]->return . ";";
-}
-
-//
-// <BOUCLE(ARTICLES)>
-//
-function boucle_ARTICLES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_articles AS $id_table";
-	if (!$GLOBALS['var_preview']) {
-		$boucle->where[] = "$id_table.statut='publie'";
-		if (lire_meta("post_dates") == 'non')
-			$boucle->where[] = "$id_table.date < NOW()";
-	} else
-		$boucle->where[] = "$id_table.statut IN ('publie','prop')";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-//
-// <BOUCLE(AUTEURS)>
-//
-function boucle_AUTEURS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_auteurs AS $id_table";
-	// Si pas de lien avec un article, selectionner
-	// uniquement les auteurs d'un article publie
-	if (!$GLOBALS['var_preview'])
-	if (!$boucle->lien AND !$boucle->tout) {
-		$boucle->from[] =  "spip_auteurs_articles AS lien";
-		$boucle->from[] =  "spip_articles AS articles";
-		$boucle->where[] = "lien.id_auteur=$id_table.id_auteur";
-		$boucle->where[] = 'lien.id_article=articles.id_article';
-		$boucle->where[] = "articles.statut='publie'";
-		$boucle->group =  $boucle->id_table . '.' . $boucle->primary;
-	}
-	// pas d'auteurs poubellises
-	$boucle->where[] = "NOT($id_table.statut='5poubelle')";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-//
-// <BOUCLE(BREVES)>
-//
-function boucle_BREVES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_breves AS $id_table";
-	if (!$GLOBALS['var_preview'])
-		$boucle->where[] = "$id_table.statut='publie'";
-	else
-		$boucle->where[] = "$id_table.statut IN ('publie','prop')";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(FORUMS)>
-//
-function boucle_FORUMS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_forum AS $id_table";
-	// Par defaut, selectionner uniquement les forums sans pere
-	if (!$boucle->tout AND !$boucle->plat) 
-		{
-	$boucle->where[] = "$id_table.id_parent=0";
-		}
-	$boucle->where[] = "$id_table.statut='publie'";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(SIGNATURES)>
-//
-function boucle_SIGNATURES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_signatures AS $id_table";
-	$boucle->from[] =  "spip_petitions AS petitions";
-	$boucle->from[] =  "spip_articles articles";
-	$boucle->where[] = "petitions.id_article=articles.id_article";
-	$boucle->where[] = "petitions.id_article=$id_table.id_article";
-	$boucle->where[] = "$id_table.statut='publie'";
-	$boucle->group =  $boucle->id_table . '.' . $boucle->primary;
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(DOCUMENTS)>
-//
-function boucle_DOCUMENTS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_documents AS $id_table";
-	$boucle->from[] =  "spip_types_documents AS types_documents";
-	$boucle->where[] = "$id_table.id_type=types_documents.id_type";
-	$boucle->where[] = "$id_table.taille > 0";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(TYPES_DOCUMENTS)>
-//
-function boucle_TYPES_DOCUMENTS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_types_documents AS $id_table";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(GROUPES_MOTS)>
-//
-function boucle_GROUPES_MOTS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_groupes_mots AS $id_table";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(MOTS)>
-//
-function boucle_MOTS_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_mots AS $id_table";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(RUBRIQUES)>
-//
-function boucle_RUBRIQUES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_rubriques AS $id_table";
-	if (!$GLOBALS['var_preview'])
-		if (!$boucle->tout) $boucle->where[] = "$id_table.statut='publie'";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(HIERARCHIE)>
-//
-function boucle_HIERARCHIE_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_rubriques AS $id_table";
-
-	// Si la boucle mere est une boucle RUBRIQUES il faut ignorer la feuille
-	// sauf si le critere {tout} est present (cf. inc-html-squel)
-	$exclure_feuille = ($boucle->tout ? 'false' : 'true');
-
-	// $hierarchie sera calculee par une fonction de inc-calcul-outils
-	$boucle->where[] = 'id_rubrique IN ($hierarchie)';
-	$boucle->select[] = 'FIND_IN_SET(id_rubrique, \'$hierarchie\')-1 AS rang';
-	$boucle->default_order = 'rang';
-	$boucle->hierarchie = '$hierarchie = calculer_hierarchie('
-	. calculer_argument_precedent($boucle->id_boucle, 'id_rubrique', $boucles)
-	. ', '
-	. $exclure_feuille
-	. ');';
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(SYNDICATION)>
-//
-function boucle_SYNDICATION_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_syndic AS $id_table";
-	$boucle->where[] = "$id_table.statut='publie'";
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-//
-// <BOUCLE(SYNDIC_ARTICLES)>
-//
-function boucle_SYNDIC_ARTICLES_dist($id_boucle, &$boucles) {
-	$boucle = &$boucles[$id_boucle];
-	$id_table = $boucle->id_table;
-	$boucle->from[] =  "spip_syndic_articles  AS $id_table";
-	$boucle->from[] =  "spip_syndic AS syndic";
-	$boucle->where[] = "$id_table.id_syndic=syndic.id_syndic";
-	$boucle->where[] = "$id_table.statut='publie'";
-	$boucle->where[] = "syndic.statut='publie'";
-	$boucle->select[]='syndic.nom_site AS nom_site'; # derogation zarbi
-	$boucle->select[]='syndic.url_site AS url_site'; # idem
-	return calculer_boucle($id_boucle, $boucles); 
-}
-
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+//
+// Ce fichier definit les boucles standard de SPIP
+//
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_BOUCLES")) return;
+define("_INC_BOUCLES", "1");
+
+
+//
+// Boucle sur une table hors SPIP
+//
+function boucle_DEFAUT($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$boucle->from[] =  $boucle->type_requete . " AS " . $boucle->type_requete;
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(BOUCLE)> boucle dite recursive
+//
+function boucle_BOUCLE_dist($id_boucle, &$boucles) {
+
+	    return "\n	\$t0 = " . $boucles[$id_boucle]->return . ";";
+}
+
+//
+// <BOUCLE(ARTICLES)>
+//
+function boucle_ARTICLES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_articles AS $id_table";
+	if (!$GLOBALS['var_preview']) {
+		$boucle->where[] = "$id_table.statut='publie'";
+		if (lire_meta("post_dates") == 'non')
+			$boucle->where[] = "$id_table.date < NOW()";
+	} else
+		$boucle->where[] = "$id_table.statut IN ('publie','prop')";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+//
+// <BOUCLE(AUTEURS)>
+//
+function boucle_AUTEURS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_auteurs AS $id_table";
+	// Si pas de lien avec un article, selectionner
+	// uniquement les auteurs d'un article publie
+	if (!$GLOBALS['var_preview'])
+	if (!$boucle->lien AND !$boucle->tout) {
+		$boucle->from[] =  "spip_auteurs_articles AS lien";
+		$boucle->from[] =  "spip_articles AS articles";
+		$boucle->where[] = "lien.id_auteur=$id_table.id_auteur";
+		$boucle->where[] = 'lien.id_article=articles.id_article';
+		$boucle->where[] = "articles.statut='publie'";
+		$boucle->group =  $boucle->id_table . '.' . $boucle->primary;
+	}
+	// pas d'auteurs poubellises
+	$boucle->where[] = "NOT($id_table.statut='5poubelle')";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+//
+// <BOUCLE(BREVES)>
+//
+function boucle_BREVES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_breves AS $id_table";
+	if (!$GLOBALS['var_preview'])
+		$boucle->where[] = "$id_table.statut='publie'";
+	else
+		$boucle->where[] = "$id_table.statut IN ('publie','prop')";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(FORUMS)>
+//
+function boucle_FORUMS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_forum AS $id_table";
+	// Par defaut, selectionner uniquement les forums sans pere
+	if (!$boucle->tout AND !$boucle->plat) 
+		{
+	$boucle->where[] = "$id_table.id_parent=0";
+		}
+	$boucle->where[] = "$id_table.statut='publie'";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(SIGNATURES)>
+//
+function boucle_SIGNATURES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_signatures AS $id_table";
+	$boucle->from[] =  "spip_petitions AS petitions";
+	$boucle->from[] =  "spip_articles articles";
+	$boucle->where[] = "petitions.id_article=articles.id_article";
+	$boucle->where[] = "petitions.id_article=$id_table.id_article";
+	$boucle->where[] = "$id_table.statut='publie'";
+	$boucle->group =  $boucle->id_table . '.' . $boucle->primary;
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(DOCUMENTS)>
+//
+function boucle_DOCUMENTS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_documents AS $id_table";
+	$boucle->from[] =  "spip_types_documents AS types_documents";
+	$boucle->where[] = "$id_table.id_type=types_documents.id_type";
+	$boucle->where[] = "$id_table.taille > 0";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(TYPES_DOCUMENTS)>
+//
+function boucle_TYPES_DOCUMENTS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_types_documents AS $id_table";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(GROUPES_MOTS)>
+//
+function boucle_GROUPES_MOTS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_groupes_mots AS $id_table";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(MOTS)>
+//
+function boucle_MOTS_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_mots AS $id_table";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(RUBRIQUES)>
+//
+function boucle_RUBRIQUES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_rubriques AS $id_table";
+	if (!$GLOBALS['var_preview'])
+		if (!$boucle->tout) $boucle->where[] = "$id_table.statut='publie'";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(HIERARCHIE)>
+//
+function boucle_HIERARCHIE_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_rubriques AS $id_table";
+
+	// Si la boucle mere est une boucle RUBRIQUES il faut ignorer la feuille
+	// sauf si le critere {tout} est present (cf. inc-html-squel)
+	$exclure_feuille = ($boucle->tout ? 'false' : 'true');
+
+	// $hierarchie sera calculee par une fonction de inc-calcul-outils
+	$boucle->where[] = 'id_rubrique IN ($hierarchie)';
+	$boucle->select[] = 'FIND_IN_SET(id_rubrique, \'$hierarchie\')-1 AS rang';
+	$boucle->default_order = 'rang';
+	$boucle->hierarchie = '$hierarchie = calculer_hierarchie('
+	. calculer_argument_precedent($boucle->id_boucle, 'id_rubrique', $boucles)
+	. ', '
+	. $exclure_feuille
+	. ');';
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(SYNDICATION)>
+//
+function boucle_SYNDICATION_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_syndic AS $id_table";
+	$boucle->where[] = "$id_table.statut='publie'";
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+//
+// <BOUCLE(SYNDIC_ARTICLES)>
+//
+function boucle_SYNDIC_ARTICLES_dist($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$id_table = $boucle->id_table;
+	$boucle->from[] =  "spip_syndic_articles  AS $id_table";
+	$boucle->from[] =  "spip_syndic AS syndic";
+	$boucle->where[] = "$id_table.id_syndic=syndic.id_syndic";
+	$boucle->where[] = "$id_table.statut='publie'";
+	$boucle->where[] = "syndic.statut='publie'";
+	$boucle->select[]='syndic.nom_site AS nom_site'; # derogation zarbi
+	$boucle->select[]='syndic.url_site AS url_site'; # idem
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+
+?>

Index: backend-breves.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/backend-breves.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- backend-breves.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ backend-breves.php3	20 Feb 2005 22:15:59 -0000	1.3
@@ -1,12 +1,12 @@
-<?php
-$fond = "backend-breves";
-$delais = 3600;
-
-// cette ligne empeche l'affichage des boutons d'administration
-$flag_preserver = true;
-
- at header("Content-type: text/xml");
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "backend-breves";
+$delais = 3600;
+
+// cette ligne empeche l'affichage des boutons d'administration
+$flag_preserver = true;
+
+ at header("Content-type: text/xml");
+
+include ("inc-public.php3");
+
+?>



From stef at berlios.de  Sun Feb 20 23:17:15 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:17:15 +0100
Subject: [Spip-carto-cvs] spipcarto/dist ical.html,1.1,1.2 resume.html,1.1,1.2 site.html,1.1,1.2 login.html,1.1,1.2 breve.html,1.1,1.2 sommaire.html,1.1,1.2 404.html,1.1,1.2 sommaire_texte.html,1.1,1.2 nouveautes.html,1.1,1.2 404.php3,1.1,1.2 rubrique.html,1.1,1.2 distrib.html,1.1,1.2 forum.html,1.1,1.2 recherche.html,1.1,1.2 auteur.html,1.1,1.2 article.html,1.1,1.2 mot.html,1.1,1.2 plan.html,1.1,1.2 backend-breves.html,1.1,1.2 backend.html,1.1,1.2
Message-ID: <200502202217.j1KMHF8Y027715@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/dist
In directory sheep:/tmp/cvs-serv27709/dist

Modified Files:
	ical.html resume.html site.html login.html breve.html 
	sommaire.html 404.html sommaire_texte.html nouveautes.html 
	404.php3 rubrique.html distrib.html forum.html recherche.html 
	auteur.html article.html mot.html plan.html 
	backend-breves.html backend.html 
Log Message:
1.8pr1

Index: ical.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/ical.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ical.html	8 Feb 2005 15:10:12 -0000	1.1
+++ ical.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,29 +1,29 @@
-BEGIN:VCALENDAR
-CALSCALE:GREGORIAN
-X-WR-CALNAME;VALUE=TEXT:[(#NOM_SITE_SPIP|filtrer_ical)]
-X-WR-RELCALID:[(#URL_SITE_SPIP|filtrer_ical)]
-<BOUCLE_articles(ARTICLES){par date}{inverse}{0,100}>
-BEGIN:VEVENT
-SUMMARY:[(#TITRE|filtrer_ical)] [[(#NOM_SITE_SPIP|filtrer_ical)]]
-UID:article#ID_ARTICLE @ [(#URL_SITE_SPIP|filtrer_ical)]
-DTSTAMP:[(#DATE|date_ical)]
-DTSTART:[(#DATE|date_ical)]
-DTEND:[(#DATE|date_ical{60})]
-CATEGORIES:<:articles|filtrer_ical:>
-URL:#URL_SITE_SPIP/#URL_ARTICLE
-STATUS:CONFIRMED
-END:VEVENT
-</BOUCLE_articles>
-<BOUCLE_breves(BREVES){par date}{inverse}{0,100}>
-BEGIN:VEVENT
-SUMMARY:[(#TITRE|filtrer_ical)] [[(#NOM_SITE_SPIP|filtrer_ical)]]
-UID:breve#ID_BREVE @ [(#URL_SITE_SPIP|filtrer_ical)]
-DTSTAMP:[(#DATE|date_ical)]
-DTSTART:[(#DATE|date_ical)]
-DTEND:[(#DATE|date_ical{60})]
-CATEGORIES:<:breves|filtrer_ical:>
-URL:#URL_SITE_SPIP/#URL_BREVE
-STATUS:CONFIRMED
-END:VEVENT
-</BOUCLE_breves>
-END:VCALENDAR
+BEGIN:VCALENDAR
+CALSCALE:GREGORIAN
+X-WR-CALNAME;VALUE=TEXT:[(#NOM_SITE_SPIP|filtrer_ical)]
+X-WR-RELCALID:[(#URL_SITE_SPIP|filtrer_ical)]
+<BOUCLE_articles(ARTICLES){par date}{inverse}{0,100}>
+BEGIN:VEVENT
+SUMMARY:[(#TITRE|filtrer_ical)] [[(#NOM_SITE_SPIP|filtrer_ical)]]
+UID:article#ID_ARTICLE @ [(#URL_SITE_SPIP|filtrer_ical)]
+DTSTAMP:[(#DATE|date_ical)]
+DTSTART:[(#DATE|date_ical)]
+DTEND:[(#DATE|date_ical{60})]
+CATEGORIES:<:articles|filtrer_ical:>
+URL:#URL_SITE_SPIP/#URL_ARTICLE
+STATUS:CONFIRMED
+END:VEVENT
+</BOUCLE_articles>
+<BOUCLE_breves(BREVES){par date}{inverse}{0,100}>
+BEGIN:VEVENT
+SUMMARY:[(#TITRE|filtrer_ical)] [[(#NOM_SITE_SPIP|filtrer_ical)]]
+UID:breve#ID_BREVE @ [(#URL_SITE_SPIP|filtrer_ical)]
+DTSTAMP:[(#DATE|date_ical)]
+DTSTART:[(#DATE|date_ical)]
+DTEND:[(#DATE|date_ical{60})]
+CATEGORIES:<:breves|filtrer_ical:>
+URL:#URL_SITE_SPIP/#URL_BREVE
+STATUS:CONFIRMED
+END:VEVENT
+</BOUCLE_breves>
+END:VCALENDAR

Index: resume.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/resume.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- resume.html	8 Feb 2005 15:10:12 -0000	1.1
+++ resume.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,137 +1,137 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-<title>[#NOM_SITE_SPIP] </title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-<!-- Liens des forums -->
-<B_forums_liens>
-<div class="menu" title="<:derniers_messages_forum:>">
-	<h1 class="structure"><:messages_recents:></h1>
-	<div class="forums">
-	<div class="menu-titre">
-	<:derniers_commentaires:>
-	</div>
-	<ul>
-<BOUCLE_forums_liens(FORUMS){plat}{par date}{inverse}{0,15}>
-        <li class="menu-item">[<i>(#DATE|affdate_court)</i>:]
-        <a href="#URL_FORUM">#TITRE</a>
-        </li>
-</BOUCLE_forums_liens>
-	</ul>
-	</div>
-</div>
-</B_forums_liens>
-
-
-</div>
-
-<!-- Une : articles les plus populaires -->
-
-<div id="principal" class="contenu">
-
-<h1 class="structure"><:articles_populaires:></h1>
-
-<BOUCLE_article_un(ARTICLES) {par popularite} {inverse} {0,2}>
-	[(#LOGO_ARTICLE_RUBRIQUE|right|#URL_ARTICLE)]
-	[<div class="surtitre">(#SURTITRE)</div>]
-	<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
-	[<div class="surtitre">(#SOUSTITRE)</div>]
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
-	[<br><:popularite:>&nbsp;: <span class="important">(#POPULARITE)</span> %]
-	</div>
-	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
-	<br>
-</BOUCLE_article_un>
-
-
-	<div class="encart">
-
-	<!-- <:sur_web:> -->
-
-	<h1 class="structure"><:nouveautes_web:></h1>
-
-	<B_syndic>
-	<div class="menu">
-	<div class="divers">
-		<div class="menu-titre">
-		<:sur_web:>
-		</div>
-		<ul>
-	<BOUCLE_syndic(SYNDIC_ARTICLES) {par date} {inverse} {0,15}>
-		<li class="menu-item">
-		[<i>(#DATE|affdate_court)</i>:]
-		<a href="#URL_ARTICLE">[(#TITRE*)]</a>
-		</li>
-	</BOUCLE_syndic>
-		</ul>
-	</div>
-	</div>
-	</B_syndic>
-
-	</div>
-
-
-<h1 class="structure"><:articles_populaires:> (<:suite:>)</h1>
-
-<!-- Articles les plus populaires (suite) -->
-
-<BOUCLE_articles_populaires(ARTICLES) {par popularite} {inverse} {2,8}>
-	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents><br>
-	<:popularite:>&nbsp;: <span class="important">#POPULARITE</span> %
-	</div>
-	<br>
-</BOUCLE_articles_populaires>
-
-
-</div>
-
-</body>
-</html>
-
-
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+<title>[#NOM_SITE_SPIP] </title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+<!-- Liens des forums -->
+<B_forums_liens>
+<div class="menu" title="<:derniers_messages_forum:>">
+	<h1 class="structure"><:messages_recents:></h1>
+	<div class="forums">
+	<div class="menu-titre">
+	<:derniers_commentaires:>
+	</div>
+	<ul>
+<BOUCLE_forums_liens(FORUMS){plat}{par date}{inverse}{0,15}>
+        <li class="menu-item">[<i>(#DATE|affdate_court)</i>:]
+        <a href="#URL_FORUM">#TITRE</a>
+        </li>
+</BOUCLE_forums_liens>
+	</ul>
+	</div>
+</div>
+</B_forums_liens>
+
+
+</div>
+
+<!-- Une : articles les plus populaires -->
+
+<div id="principal" class="contenu">
+
+<h1 class="structure"><:articles_populaires:></h1>
+
+<BOUCLE_article_un(ARTICLES) {par popularite} {inverse} {0,2}>
+	[(#LOGO_ARTICLE_RUBRIQUE|right|#URL_ARTICLE)]
+	[<div class="surtitre">(#SURTITRE)</div>]
+	<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
+	[<div class="surtitre">(#SOUSTITRE)</div>]
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
+	[<br><:popularite:>&nbsp;: <span class="important">(#POPULARITE)</span> %]
+	</div>
+	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
+	<br>
+</BOUCLE_article_un>
+
+
+	<div class="encart">
+
+	<!-- <:sur_web:> -->
+
+	<h1 class="structure"><:nouveautes_web:></h1>
+
+	<B_syndic>
+	<div class="menu">
+	<div class="divers">
+		<div class="menu-titre">
+		<:sur_web:>
+		</div>
+		<ul>
+	<BOUCLE_syndic(SYNDIC_ARTICLES) {par date} {inverse} {0,15}>
+		<li class="menu-item">
+		[<i>(#DATE|affdate_court)</i>:]
+		<a href="#URL_ARTICLE">[(#TITRE*)]</a>
+		</li>
+	</BOUCLE_syndic>
+		</ul>
+	</div>
+	</div>
+	</B_syndic>
+
+	</div>
+
+
+<h1 class="structure"><:articles_populaires:> (<:suite:>)</h1>
+
+<!-- Articles les plus populaires (suite) -->
+
+<BOUCLE_articles_populaires(ARTICLES) {par popularite} {inverse} {2,8}>
+	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents><br>
+	<:popularite:>&nbsp;: <span class="important">#POPULARITE</span> %
+	</div>
+	<br>
+</BOUCLE_articles_populaires>
+
+
+</div>
+
+</body>
+</html>
+
+

Index: site.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/site.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- site.html	8 Feb 2005 15:10:12 -0000	1.1
+++ site.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,90 +1,90 @@
-<BOUCLE_site(SITES){id_syndic}
-><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-
-
-<html lang="#LANG">
-<head>
-<title>[(#NOM_SITE|textebrut)]</title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
-<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
-<link rel="stylesheet" href="impression.css" type="text/css" media="print">
-</head>
-
-<body bgcolor="white">
-
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-
-</div>
-
-<!-- Une : affichage du site -->
-
-<div class="contenu" id="principal">
-
-<div class="cartouche">
-[(#LOGO_SITE|left)]
-<h1 class="titre-texte"><a href="#URL_SITE">#NOM_SITE</a></h1>
-
-[<div class="chapo">(#DESCRIPTIF)</div>]
-[<div class="notes">(#NOTES)</div>]
-</div>
-
-
-<!-- Articles du site -->
-
-<h1 class="structure"><:articles:></h1>
-
-<div class="liste-articles">
-
-<BOUCLE_articles(SYNDIC_ARTICLES) {id_syndic} {par date}{inverse}{0,10}>
-	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	</div>
-	<br>
-</BOUCLE_articles>
-
-</div>
-
-</div>
-
-</body>
-</html>
-
-
-</BOUCLE_site>
+<BOUCLE_site(SITES){id_syndic}
+><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+
+
+<html lang="#LANG">
+<head>
+<title>[(#NOM_SITE|textebrut)]</title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
+<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
+<link rel="stylesheet" href="impression.css" type="text/css" media="print">
+</head>
+
+<body bgcolor="white">
+
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+
+</div>
+
+<!-- Une : affichage du site -->
+
+<div class="contenu" id="principal">
+
+<div class="cartouche">
+[(#LOGO_SITE|left)]
+<h1 class="titre-texte"><a href="#URL_SITE">#NOM_SITE</a></h1>
+
+[<div class="chapo">(#DESCRIPTIF)</div>]
+[<div class="notes">(#NOTES)</div>]
+</div>
+
+
+<!-- Articles du site -->
+
+<h1 class="structure"><:articles:></h1>
+
+<div class="liste-articles">
+
+<BOUCLE_articles(SYNDIC_ARTICLES) {id_syndic} {par date}{inverse}{0,10}>
+	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	</div>
+	<br>
+</BOUCLE_articles>
+
+</div>
+
+</div>
+
+</body>
+</html>
+
+
+</BOUCLE_site>

Index: login.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/login.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- login.html	8 Feb 2005 15:10:12 -0000	1.1
+++ login.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,37 +1,38 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-	<title><:login_acces_prive:></title>
-	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-	<link rel="stylesheet" href="spip_style.css" type="text/css">
-</head>
-<body dir="#LANG_DIR" bgcolor="#ffffff" text="#000000" link="#e86519" vlink="#6e003a" alink="#ff9900">
-
-<br><br><br><center><table width="400"><tr><td width="400">
-<div align="center">
-<h3 class="spip">#NOM_SITE_SPIP<br>
-<small><:login_acces_prive:></small></h3>
-<div align="#LANG_RIGHT">#MENU_LANG_ECRIRE</div>
-</div>
-
-#LOGIN_PRIVE
-
-<div align='center' style='font-family: Verdana,arial,helvetica,sans-serif; font-size: 12px;'>
-[&#91;<a
-	href='(#ENV{inscription})?mode=redac&amp;focus=nom_inscription'
-	target="spip_pass"
-	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=500'); return false;"><:login_sinscrire:></a>&#93;]
-
-&#91;<a
-	href="spip_pass.php3"
-	target="spip_pass" 
-	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=280'); return false;"><:login_motpasseoublie:></a>&#93;
-
-&#91;<a href='#URL_SITE_SPIP'><:login_retoursitepublic:></a>&#93
-
-</div>
-
-</td></tr></table></center>
-
-</body>
-</html>
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+	<title><:login_acces_prive:></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+	<link rel="stylesheet" href="spip_style.css" type="text/css">
+</head>
+<body dir="#LANG_DIR" bgcolor="#ffffff" text="#000000" link="#e86519" vlink="#6e003a" alink="#ff9900">
+
+<br><br><br><center><table width="400"><tr><td width="400">
+<div align="center">
+<h3 class="spip">#NOM_SITE_SPIP<br>
+<small><:login_acces_prive:></small></h3>
+<div align="#LANG_RIGHT">#MENU_LANG_ECRIRE</div>
+</div>
+
+#LOGIN_PRIVE
+
+<div align='center' style='font-family: Verdana,arial,helvetica,sans-serif; font-size: 12px;'>
+
+[&#91;<a
+	href='spip_inscription.php3?mode=(#URL_SITE_SPIP|tester_config{mode_inscription})&amp;focus=nom_inscription'
+	target="spip_pass"
+	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=500'); return false;"><:login_sinscrire:></a>&#93;]
+
+&#91;<a
+	href="spip_pass.php3"
+	target="spip_pass" 
+	onclick="javascript:window.open(this.href, 'spip_pass', 'scrollbars=yes, resizable=yes, width=480, height=280'); return false;"><:login_motpasseoublie:></a>&#93;
+
+&#91;<a href='#URL_SITE_SPIP'><:login_retoursitepublic:></a>&#93
+
+</div>
+
+</td></tr></table></center>
+
+</body>
+</html>

Index: breve.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/breve.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- breve.html	8 Feb 2005 15:10:12 -0000	1.1
+++ breve.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,220 +1,220 @@
-<BOUCLE_breve_principal(BREVES) {id_breve}
-><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-<title>#TITRE</title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
-<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
-<link rel="stylesheet" href="impression.css" type="text/css" media="print">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-
-
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-<!-- Menu de navigation rubriques -->
-
-<div class="menu">
-<ul class="rubriques">
-<BOUCLE_rubrique(RUBRIQUES) {id_rubrique}>
-<li>
-<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-</li>
-<BOUCLE_autres_rubriques(RUBRIQUES) {racine} {exclus} {par titre}>
-	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
-</BOUCLE_autres_rubriques>
-</BOUCLE_rubrique>
-</ul>
-</div>
-
-
-<!-- Menu de navigation mots-cles -->
-
-<B_mots>
-<div class="menu">
-<ul class="divers" title="<:mots_clefs:>">
-<BOUCLE_mots(MOTS) {id_article} {par titre}>
-<li>
-<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-<B_breves_mots>
-	<ul class="menu-liste">
-<BOUCLE_breves_mots(BREVES) {id_mot} {par hasard} {0,4}>
-	<li class="menu-item"><a href="#URL_BREVE">#TITRE</a></li>
-</BOUCLE_breves_mots>
-	</ul>
-</B_breves_mots>
-</li>
-</BOUCLE_mots>
-</ul>
-</div>
-</B_mots>
-
-
-<!-- Articles dans le meme secteur -->
-
-<B_articles_secteur>
-
-<div class="menu">
-<div class="breves" title="<:derniers_articles:>">
-	<div class="menu-titre">
-	<:derniers_articles:>
-	</div>
-	<ul>
-<BOUCLE_articles_secteur(ARTICLES) {id_secteur} {par date} {inverse} {0,5}>
-	<li class="menu-item">
-	<a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a>
-	</li>
-</BOUCLE_articles_secteur>
-	</ul>
-</div>
-</div>
-
-</B_articles_secteur>
-
-
-</div>
-
-<!-- Contenu : corps de la breve -->
-
-<div class="contenu" id="principal">
-
-<div id="cartouche">
-[(#LOGO_BREVE|left)]
-<h1 class="titre-texte">#TITRE</h1>
-[(#DATE|nom_jour)] [(#DATE|affdate).]
-</div>
-
-	<div class="encart">
-
-	<!-- Breves dans la meme rubrique -->
-
-	<B_breves_rubrique>
-
-	<div class="menu">
-	<div class="breves" title="<:meme_rubrique:>">
-		<h1 class="structure"><:meme_rubrique:></h1>
-		<div class="menu-titre">
-		<:autres_breves:>
-		</div>
-		<ul>
-	<BOUCLE_breves_rubrique(BREVES) {id_rubrique} {exclus} {par date} {inverse} {0,8}>
-		<li class="menu-item">
-		<i>[(#DATE|affdate_court)]</i>:
-		<a href="#URL_BREVE">#TITRE</a>
-		</li>
-	</BOUCLE_breves_rubrique>
-		</ul>
-	</div>
-	</div>
-
-	</B_breves_rubrique>
-
-	</div>
-
-
-[<div class="texte">(#TEXTE)</div>]
-[<div class="chapo"><:voir_en_ligne:>: <a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a>.</div>]
-[<div class="notes">(#NOTES)</div>]
-
-<br>
-
-
-<!-- Forums -->
-
-[<div class="forum-repondre"><B><A  HREF="forum.php3?(#PARAMETRES_FORUM)"><:repondre_breve:></A></B></div>]
-<br>
-
-<h1 class="structure"><:forum:></h1>
-
-<B_forums>
-<ul class="forum-total">
-
-<BOUCLE_forums(FORUMS){id_breve}{par date}{inverse}>
-
-<li>
-<div class="forum-fil">
-<div class="forum">
-<a name="forum#ID_FORUM"></a>
-<div class="forum-chapo">
-<div class="forum-titre">#TITRE</div>
-[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
-</div>
-<div class="forum-item">
-#TEXTE
-[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
-[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
-</div>
-</div>
-
-<B_forums_fils>
-	<ul>
-	<BOUCLE_forums_fils(FORUMS){id_parent}{par date}>
-
-	<li>
-	<div class="forum">
-	<a name="forum#ID_FORUM"></a>
-	<div class="forum-chapo">
-	<div class="forum-titre">#TITRE</div>
-	[(#DATE|affdate)][, par <A HREF="mailto:#EMAIL">(#NOM)</A>]
-	</div>
-	<div class="forum-item">
-	#TEXTE
-	[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
-	[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
-	</div>
-
-	</div>
-
-	<BOUCLE_Forums_Boucle(boucle_forums_fils)></BOUCLE_Forums_Boucle>
-	</li>
-
-	</BOUCLE_forums_fils>
-	</ul>
-</B_forums_fils>
-
-</div>
-</li>
-</BOUCLE_forums>
-
-</ul>
-</B_forums>
-
-</div>
-
-</body></html>
-</BOUCLE_breve_principal>
+<BOUCLE_breve_principal(BREVES) {id_breve}
+><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+<title>#TITRE</title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
+<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
+<link rel="stylesheet" href="impression.css" type="text/css" media="print">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+
+
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+<!-- Menu de navigation rubriques -->
+
+<div class="menu">
+<ul class="rubriques">
+<BOUCLE_rubrique(RUBRIQUES) {id_rubrique}>
+<li>
+<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+</li>
+<BOUCLE_autres_rubriques(RUBRIQUES) {racine} {exclus} {par titre}>
+	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
+</BOUCLE_autres_rubriques>
+</BOUCLE_rubrique>
+</ul>
+</div>
+
+
+<!-- Menu de navigation mots-cles -->
+
+<B_mots>
+<div class="menu">
+<ul class="divers" title="<:mots_clefs:>">
+<BOUCLE_mots(MOTS) {id_article} {par titre}>
+<li>
+<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+<B_breves_mots>
+	<ul class="menu-liste">
+<BOUCLE_breves_mots(BREVES) {id_mot} {par hasard} {0,4}>
+	<li class="menu-item"><a href="#URL_BREVE">#TITRE</a></li>
+</BOUCLE_breves_mots>
+	</ul>
+</B_breves_mots>
+</li>
+</BOUCLE_mots>
+</ul>
+</div>
+</B_mots>
+
+
+<!-- Articles dans le meme secteur -->
+
+<B_articles_secteur>
+
+<div class="menu">
+<div class="breves" title="<:derniers_articles:>">
+	<div class="menu-titre">
+	<:derniers_articles:>
+	</div>
+	<ul>
+<BOUCLE_articles_secteur(ARTICLES) {id_secteur} {par date} {inverse} {0,5}>
+	<li class="menu-item">
+	<a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a>
+	</li>
+</BOUCLE_articles_secteur>
+	</ul>
+</div>
+</div>
+
+</B_articles_secteur>
+
+
+</div>
+
+<!-- Contenu : corps de la breve -->
+
+<div class="contenu" id="principal">
+
+<div id="cartouche">
+[(#LOGO_BREVE|left)]
+<h1 class="titre-texte">#TITRE</h1>
+[(#DATE|nom_jour)] [(#DATE|affdate).]
+</div>
+
+	<div class="encart">
+
+	<!-- Breves dans la meme rubrique -->
+
+	<B_breves_rubrique>
+
+	<div class="menu">
+	<div class="breves" title="<:meme_rubrique:>">
+		<h1 class="structure"><:meme_rubrique:></h1>
+		<div class="menu-titre">
+		<:autres_breves:>
+		</div>
+		<ul>
+	<BOUCLE_breves_rubrique(BREVES) {id_rubrique} {exclus} {par date} {inverse} {0,8}>
+		<li class="menu-item">
+		<i>[(#DATE|affdate_court)]</i>:
+		<a href="#URL_BREVE">#TITRE</a>
+		</li>
+	</BOUCLE_breves_rubrique>
+		</ul>
+	</div>
+	</div>
+
+	</B_breves_rubrique>
+
+	</div>
+
+
+[<div class="texte">(#TEXTE)</div>]
+[<div class="chapo"><:voir_en_ligne:>: <a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a>.</div>]
+[<div class="notes">(#NOTES)</div>]
+
+<br>
+
+
+<!-- Forums -->
+
+[<div class="forum-repondre"><B><A  HREF="forum.php3?(#PARAMETRES_FORUM)"><:repondre_breve:></A></B></div>]
+<br>
+
+<h1 class="structure"><:forum:></h1>
+
+<B_forums>
+<ul class="forum-total">
+
+<BOUCLE_forums(FORUMS){id_breve}{par date}{inverse}>
+
+<li>
+<div class="forum-fil">
+<div class="forum">
+<a name="forum#ID_FORUM"></a>
+<div class="forum-chapo">
+<div class="forum-titre">#TITRE</div>
+[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
+</div>
+<div class="forum-item">
+#TEXTE
+[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
+[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
+</div>
+</div>
+
+<B_forums_fils>
+	<ul>
+	<BOUCLE_forums_fils(FORUMS){id_parent}{par date}>
+
+	<li>
+	<div class="forum">
+	<a name="forum#ID_FORUM"></a>
+	<div class="forum-chapo">
+	<div class="forum-titre">#TITRE</div>
+	[(#DATE|affdate)][, par <A HREF="mailto:#EMAIL">(#NOM)</A>]
+	</div>
+	<div class="forum-item">
+	#TEXTE
+	[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
+	[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
+	</div>
+
+	</div>
+
+	<BOUCLE_Forums_Boucle(boucle_forums_fils)></BOUCLE_Forums_Boucle>
+	</li>
+
+	</BOUCLE_forums_fils>
+	</ul>
+</B_forums_fils>
+
+</div>
+</li>
+</BOUCLE_forums>
+
+</ul>
+</B_forums>
+
+</div>
+
+</body></html>
+</BOUCLE_breve_principal>

Index: sommaire.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/sommaire.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- sommaire.html	8 Feb 2005 15:10:12 -0000	1.1
+++ sommaire.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,169 +1,169 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-<title>[#NOM_SITE_SPIP] </title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
-
-<!-- Lien vers le backend pour navigateurs eclaires -->
-<link rel="alternate" type="application/rss+xml" title="<:syndiquer_site:>" href="backend.php3">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-<!-- Menu de navigation rubriques -->
-
-<B_rubriques>
-<div class="menu">
-<ul class="rubriques">
-<BOUCLE_rubriques(RUBRIQUES) {racine} {par titre}>
-<li>
-<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-<B_sous_rubriques>
-	<ul class="menu-liste">
-<BOUCLE_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
-	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
-</BOUCLE_sous_rubriques>
-	</ul>
-</B_sous_rubriques>
-</li>
-</BOUCLE_rubriques>
-</ul>
-</div>
-</B_rubriques>
-
-<!-- Logo SPIP -->
-
-<a href="http://www.spip.net"><img src="IMG/logo_spip.jpg" width="105" height="92" border="0" alt="<:site_realise_avec_spip:>"></a>
-
-</div>
-
-
-<div id="principal" class="contenu">
-
-	<!-- Une : derniers articles publies -->
-	
-	<h1 class="structure"><:derniers_articles:></h1>
-	
-	<BOUCLE_article_un(ARTICLES) {par date} {inverse} {0,2}>
-		[(#LOGO_ARTICLE_RUBRIQUE|right)]
-		[<div class="surtitre">(#SURTITRE)</div>]
-		<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
-		[<div class="surtitre">(#SOUSTITRE)</div>]
-		<div class="detail">
-		[(#DATE|nom_jour)] [(#DATE|affdate)]
-		<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
-		</div>
-		[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
-		<br>
-	</BOUCLE_article_un>
-
-
-	<div class="encart">
-
-	<!-- Breves -->
-
-	<h1 class="structure"><:dernieres_breves:></h1>
-
-	<B_breves>
-	<div class="menu">
-	<div class="breves">
-		<div class="menu-titre">
-		<:breves:>
-		</div>
-		<ul>
-	<BOUCLE_breves(BREVES) {par date} {inverse} {0,8}>
-		<li class="menu-item">
-		<i>[(#DATE|affdate_court)]</i>:
-		<a href="#URL_BREVE">#TITRE</a>
-		</li>
-	</BOUCLE_breves>
-		</ul>
-	</div>
-	</div>
-	</B_breves>
-
-	<!-- Sur le Web -->
-
-	<h1 class="structure"><:nouveautes_web:></h1>
-
-	<B_syndic>
-	<div class="menu">
-	<div class="divers">
-		<div class="menu-titre">
-		<:sur_web:>
-		</div>
-		<ul>
-	<BOUCLE_syndic(SYNDIC_ARTICLES) {par date} {inverse} {0,8}>
-		<li class="menu-item">
-		<a href="#URL_ARTICLE">[(#TITRE*)]</a>
-		</li>
-	</BOUCLE_syndic>
-		</ul>
-	</div>
-	</div>
-	</B_syndic>
-
-	[<!-- Inscription au site -->
-
-		<div class="formulaire"><:participer_site:>
-			<br /><br />(#FORMULAIRE_INSCRIPTION)
-		</div>]
-
-	</div>
-
-
-<h1 class="structure"><:articles_recents:></h1>
-
-<!-- Articles recents -->
-
-<BOUCLE_articles_recents(ARTICLES) {par date} {inverse} {2,8}>
-	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents>
-	</div>
-	<br>
-</BOUCLE_articles_recents>
-
-
-</div>
-
-#SPIP_CRON
-</body>
-</html>
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+<title>[#NOM_SITE_SPIP] </title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
+
+<!-- Lien vers le backend pour navigateurs eclaires -->
+<link rel="alternate" type="application/rss+xml" title="<:syndiquer_site:>" href="backend.php3">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+<!-- Menu de navigation rubriques -->
+
+<B_rubriques>
+<div class="menu">
+<ul class="rubriques">
+<BOUCLE_rubriques(RUBRIQUES) {racine} {par titre}>
+<li>
+<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+<B_sous_rubriques>
+	<ul class="menu-liste">
+<BOUCLE_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
+	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
+</BOUCLE_sous_rubriques>
+	</ul>
+</B_sous_rubriques>
+</li>
+</BOUCLE_rubriques>
+</ul>
+</div>
+</B_rubriques>
+
+<!-- Logo SPIP -->
+
+<a href="http://www.spip.net"><img src="IMG/logo_spip.jpg" width="105" height="92" border="0" alt="<:site_realise_avec_spip:>"></a>
+
+</div>
+
+
+<div id="principal" class="contenu">
+
+	<!-- Une : derniers articles publies -->
+	
+	<h1 class="structure"><:derniers_articles:></h1>
+	
+	<BOUCLE_article_un(ARTICLES) {par date} {inverse} {0,2}>
+		[(#LOGO_ARTICLE_RUBRIQUE|right)]
+		[<div class="surtitre">(#SURTITRE)</div>]
+		<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
+		[<div class="surtitre">(#SOUSTITRE)</div>]
+		<div class="detail">
+		[(#DATE|nom_jour)] [(#DATE|affdate)]
+		<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
+		</div>
+		[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
+		<br>
+	</BOUCLE_article_un>
+
+
+	<div class="encart">
+
+	<!-- Breves -->
+
+	<h1 class="structure"><:dernieres_breves:></h1>
+
+	<B_breves>
+	<div class="menu">
+	<div class="breves">
+		<div class="menu-titre">
+		<:breves:>
+		</div>
+		<ul>
+	<BOUCLE_breves(BREVES) {par date} {inverse} {0,8}>
+		<li class="menu-item">
+		<i>[(#DATE|affdate_court)]</i>:
+		<a href="#URL_BREVE">#TITRE</a>
+		</li>
+	</BOUCLE_breves>
+		</ul>
+	</div>
+	</div>
+	</B_breves>
+
+	<!-- Sur le Web -->
+
+	<h1 class="structure"><:nouveautes_web:></h1>
+
+	<B_syndic>
+	<div class="menu">
+	<div class="divers">
+		<div class="menu-titre">
+		<:sur_web:>
+		</div>
+		<ul>
+	<BOUCLE_syndic(SYNDIC_ARTICLES) {par date} {inverse} {0,8}>
+		<li class="menu-item">
+		<a href="#URL_ARTICLE">[(#TITRE*)]</a>
+		</li>
+	</BOUCLE_syndic>
+		</ul>
+	</div>
+	</div>
+	</B_syndic>
+
+	[<!-- Inscription au site -->
+
+		<div class="formulaire"><:participer_site:>
+			<br /><br />(#FORMULAIRE_INSCRIPTION)
+		</div>]
+
+	</div>
+
+
+<h1 class="structure"><:articles_recents:></h1>
+
+<!-- Articles recents -->
+
+<BOUCLE_articles_recents(ARTICLES) {par date} {inverse} {2,8}>
+	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents>
+	</div>
+	<br>
+</BOUCLE_articles_recents>
+
+
+</div>
+
+#SPIP_CRON
+</body>
+</html>

Index: 404.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/404.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- 404.html	8 Feb 2005 15:10:12 -0000	1.1
+++ 404.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,50 +1,50 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-	<title>[#NOM_SITE_SPIP - <:pass_erreur:> 404]</title>
-	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-	<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-	<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-	<!-- Les feuilles de style specifiques aux presents squelettes -->
-	<link rel="stylesheet" href="typographie.css" type="text/css">
-
-	<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-	<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
-
-</head>
-<body bgcolor="white" dir="#LANG_DIR">
-
-
-
-<div id="navigation">
-
-	<h1 class="structure"><:navigation:></h1>
-	
-	<!-- Menu de navigation general -->
-	<div class="menu">
-	<ul class="general">
-		<li class="menu-titre"><a href="#URL_SITE_SPIP" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a></li>
-		<li class="menu-item"><a href="plan.php3"><:plan_site:></a></li>
-		<li class="menu-item"><a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a></li>
-		<li class="menu-item"><a href="ecrire/"><:espace_prive:></a></li>
-	</ul>
-	</div>
-	
-	<!-- Formulaire de recherche -->
-	#FORMULAIRE_RECHERCHE
-
-</div>
-
-<div id="principal" class="contenu">
-
-<h1 class="titre-texte"><:pass_erreur:> 404</h1>
-	<p>#ERREUR_AUCUN</p>
-</div>
-
-
-#SPIP_CRON
-
-</body>
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+	<title>[#NOM_SITE_SPIP - <:pass_erreur:> 404]</title>
+	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+	<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+	<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+	<!-- Les feuilles de style specifiques aux presents squelettes -->
+	<link rel="stylesheet" href="typographie.css" type="text/css">
+
+	<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+	<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
+
+</head>
+<body bgcolor="white" dir="#LANG_DIR">
+
+
+
+<div id="navigation">
+
+	<h1 class="structure"><:navigation:></h1>
+	
+	<!-- Menu de navigation general -->
+	<div class="menu">
+	<ul class="general">
+		<li class="menu-titre"><a href="#URL_SITE_SPIP" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a></li>
+		<li class="menu-item"><a href="plan.php3"><:plan_site:></a></li>
+		<li class="menu-item"><a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a></li>
+		<li class="menu-item"><a href="ecrire/"><:espace_prive:></a></li>
+	</ul>
+	</div>
+	
+	<!-- Formulaire de recherche -->
+	#FORMULAIRE_RECHERCHE
+
+</div>
+
+<div id="principal" class="contenu">
+
+<h1 class="titre-texte"><:pass_erreur:> 404</h1>
+	<p>#ERREUR_AUCUN</p>
+</div>
+
+
+#SPIP_CRON
+
+</body>
 </html>

Index: sommaire_texte.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/sommaire_texte.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- sommaire_texte.html	8 Feb 2005 15:10:12 -0000	1.1
+++ sommaire_texte.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,97 +1,97 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<!--
-// ACCESSIBILITE
-// la page /oo offre une lecture en mode "texte seul"
-// des 3 articles les plus recents.
--->
-<head>
-	<title>
-		#NOM_SITE_SPIP
-	</title>
-	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-	<meta http-equiv="AUTHOR" content="#NOM_SITE_SPIP">
-	<meta http-equiv="DESCRIPTION" content="Edition en mode texte de #NOM_SITE_SPIP">
-</head>
-<body dir="#LANG_DIR">
-	<hr />
-	<:edition_mode_texte:> <a href="#URL_SITE_SPIP">{#NOM_SITE_SPIP}</a>
-	<hr />
-	<b><u>Sommaire de la page :</u></b>
-
-	<B_sarticles>
-	<h2>Articles</h2>
-	<ul>
-		<BOUCLE_sarticles(ARTICLES){0,3}{par date}{inverse}>
-			<li><a href="#ar#ID_ARTICLE">#TITRE</a>
-		</BOUCLE_sarticles>
-	</ul>
-	</B_sarticles>
-
-	<B_sbreves>
-	<h2>Br&egrave;ves</h2>
-	<ul>
-		<BOUCLE_sbreves(BREVES){0,5}{par date}{inverse}>
-			<li><a href="#br#ID_BREVE">#TITRE</a>
-		</BOUCLE_sbreves>
-	</ul>
-	</B_sbreves>
-
-
-	<B_articles>
-	<h1>Articles r&eacute;cents</h1>
-
-	<BOUCLE_articles(ARTICLES){0,3}{par date}{inverse}>
-		<a name="ar#ID_ARTICLE"></a>
-		<BOUCLE_RUB_AR(RUBRIQUES){ID_RUBRIQUE}>
-			Rubrique : <a href="#URL_RUBRIQUE">{#TITRE}</a>
-		</BOUCLE_RUB_AR>
-
-		[<h2>(#SURTITRE|majuscules)</h2>]
-		<h2>#TITRE</h2>
-		<h3>#SOUSTITRE</h3>
-		[Le (#DATE|nom_jour) ] [(#DATE|affdate)]
-		[par (#LESAUTEURS)]
-		<p>
-		[(#CHAPO)]
-		<p>
-		[(#TEXTE)]
-
-		
-		<p><a href="#URL_ARTICLE">{Consulter}</a> l'article avec son forum. 
-
-		
-		<hr />
-	</BOUCLE_articles>
-
-	<B_breves>
-	<h1>Derni&egrave;res br&egrave;ves</h1>
-
-	<BOUCLE_breves(BREVES){0,5}{par date}{inverse}>
-		<a name="br#ID_BREVE">
-		<BOUCLE_RUB_BR(RUBRIQUES){ID_RUBRIQUE}>
-			Rubrique : <a href="#URL_RUBRIQUE">{#TITRE}</a>
-		</BOUCLE_RUB_BR>
-		<h2>#TITRE</h2>
-		[Le (#DATE|nom_jour) ] [(#DATE|affdate)]
-		<p>
-		[(#TEXTE)]
-		[<p>Voir en ligne : <a href="(#URL_SITE)">#NOM_SITE</a>]
-		<p><a href="#URL_BREVE">{Consulter}</a> la br&egrave;ve avec son forum. 
-	<hr />
-	</BOUCLE_breves>
-	[<h1>NOTES :</h1>
-	<p class="spip_note">(#NOTES)]
-	
-	<hr />
-	<a name="about"></a>
-	
-	[<p>Rechercher sur ce site : (#FORMULAIRE_RECHERCHE|recherche.php3)</p>]
-	<table><tr>
-		<td><A href="http://www.uzine.net/spip">{Site r&eacute;alis&eacute; avec le logiciel SPIP}</td>
-		[<td><A href="#URL_SITE_SPIP">{(#NOM_SITE_SPIP|majuscules)}</a></td>]
-		<td><a href="#URL_SITE_SPIP/plan.php3">{<:plan_site:>}</a></td>
-	</tr></table>
-
-</body>
-</html>
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<!--
+// ACCESSIBILITE
+// la page /oo offre une lecture en mode "texte seul"
+// des 3 articles les plus recents.
+-->
+<head>
+	<title>
+		#NOM_SITE_SPIP
+	</title>
+	<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+	<meta http-equiv="AUTHOR" content="#NOM_SITE_SPIP">
+	<meta http-equiv="DESCRIPTION" content="Edition en mode texte de #NOM_SITE_SPIP">
+</head>
+<body dir="#LANG_DIR">
+	<hr />
+	<:edition_mode_texte:> <a href="#URL_SITE_SPIP">{#NOM_SITE_SPIP}</a>
+	<hr />
+	<b><u>Sommaire de la page :</u></b>
+
+	<B_sarticles>
+	<h2>Articles</h2>
+	<ul>
+		<BOUCLE_sarticles(ARTICLES){0,3}{par date}{inverse}>
+			<li><a href="#ar#ID_ARTICLE">#TITRE</a>
+		</BOUCLE_sarticles>
+	</ul>
+	</B_sarticles>
+
+	<B_sbreves>
+	<h2>Br&egrave;ves</h2>
+	<ul>
+		<BOUCLE_sbreves(BREVES){0,5}{par date}{inverse}>
+			<li><a href="#br#ID_BREVE">#TITRE</a>
+		</BOUCLE_sbreves>
+	</ul>
+	</B_sbreves>
+
+
+	<B_articles>
+	<h1>Articles r&eacute;cents</h1>
+
+	<BOUCLE_articles(ARTICLES){0,3}{par date}{inverse}>
+		<a name="ar#ID_ARTICLE"></a>
+		<BOUCLE_RUB_AR(RUBRIQUES){ID_RUBRIQUE}>
+			Rubrique : <a href="#URL_RUBRIQUE">{#TITRE}</a>
+		</BOUCLE_RUB_AR>
+
+		[<h2>(#SURTITRE|majuscules)</h2>]
+		<h2>#TITRE</h2>
+		<h3>#SOUSTITRE</h3>
+		[Le (#DATE|nom_jour) ] [(#DATE|affdate)]
+		[par (#LESAUTEURS)]
+		<p>
+		[(#CHAPO)]
+		<p>
+		[(#TEXTE)]
+
+		
+		<p><a href="#URL_ARTICLE">{Consulter}</a> l'article avec son forum. 
+
+		
+		<hr />
+	</BOUCLE_articles>
+
+	<B_breves>
+	<h1>Derni&egrave;res br&egrave;ves</h1>
+
+	<BOUCLE_breves(BREVES){0,5}{par date}{inverse}>
+		<a name="br#ID_BREVE">
+		<BOUCLE_RUB_BR(RUBRIQUES){ID_RUBRIQUE}>
+			Rubrique : <a href="#URL_RUBRIQUE">{#TITRE}</a>
+		</BOUCLE_RUB_BR>
+		<h2>#TITRE</h2>
+		[Le (#DATE|nom_jour) ] [(#DATE|affdate)]
+		<p>
+		[(#TEXTE)]
+		[<p>Voir en ligne : <a href="(#URL_SITE)">#NOM_SITE</a>]
+		<p><a href="#URL_BREVE">{Consulter}</a> la br&egrave;ve avec son forum. 
+	<hr />
+	</BOUCLE_breves>
+	[<h1>NOTES :</h1>
+	<p class="spip_note">(#NOTES)]
+	
+	<hr />
+	<a name="about"></a>
+	
+	[<p>Rechercher sur ce site : (#FORMULAIRE_RECHERCHE|recherche.php3)</p>]
+	<table><tr>
+		<td><A href="http://www.uzine.net/spip">{Site r&eacute;alis&eacute; avec le logiciel SPIP}</td>
+		[<td><A href="#URL_SITE_SPIP">{(#NOM_SITE_SPIP|majuscules)}</a></td>]
+		<td><a href="#URL_SITE_SPIP/plan.php3">{<:plan_site:>}</a></td>
+	</tr></table>
+
+</body>
+</html>

Index: nouveautes.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/nouveautes.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- nouveautes.html	8 Feb 2005 15:10:12 -0000	1.1
+++ nouveautes.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,35 +1,35 @@
-[[(#NOM_SITE_SPIP|textebrut|texte_script)]] <:nouveautes|texte_script:>
-
-<B0>
-<:bonjour|texte_script:>
-
-<:texte_lettre_information|texte_script:> "[(#NOM_SITE_SPIP|textebrut|texte_script)]" (#URL_SITE_SPIP).
-<:texte_lettre_information_2|texte_script:> [(#ENV{jours_neuf})] <:jours|texte_script:>.
-
-<BOUCLE0(AUTEURS){0,1}><B_nv1>
-          <:nouveaux_articles|texte_script:>
-          --------------------------
-
-<BOUCLE_nv1(ARTICLES){age_relatif<=0}{par date}{inverse}{0,30}>
-[** (#TITRE|textebrut|texte_script) **]
-[par (#LESAUTEURS|textebrut|texte_script)]
-[le (#DATE|affdate|texte_script)]
-
-[(#INTRODUCTION|textebrut|texte_script)]
-
--> #URL_SITE_SPIP/#URL_ARTICLE
-
-</BOUCLE_nv1><B_nv2>
-          
-          <:nouvelles_breves|texte_script:>
-          --------------------------
-
-<BOUCLE_nv2(BREVES){age_relatif<=0}{par date}{inverse}{0,30}>
-[* (#TITRE|textebrut|texte_script) *]
-[ - (#DATE|affdate|texte_script)]
-
-[(#INTRODUCTION|textebrut|texte_script)]
-
--> #URL_SITE_SPIP/#URL_BREVE
-
+[[(#NOM_SITE_SPIP|textebrut|texte_script)]] <:nouveautes|texte_script:>
+
+<B0>
+<:bonjour|texte_script:>
+
+<:texte_lettre_information|texte_script:> "[(#NOM_SITE_SPIP|textebrut|texte_script)]" (#URL_SITE_SPIP).
+<:texte_lettre_information_2|texte_script:> [(#ENV{jours_neuf})] <:jours|texte_script:>.
+
+<BOUCLE0(AUTEURS){0,1}><B_nv1>
+          <:nouveaux_articles|texte_script:>
+          --------------------------
+
+<BOUCLE_nv1(ARTICLES){age_relatif<=0}{par date}{inverse}{0,30}>
+[** (#TITRE|textebrut|texte_script) **]
+[par (#LESAUTEURS|textebrut|texte_script)]
+[le (#DATE|affdate|texte_script)]
+
+[(#INTRODUCTION|textebrut|texte_script)]
+
+-> #URL_SITE_SPIP/#URL_ARTICLE
+
+</BOUCLE_nv1><B_nv2>
+          
+          <:nouvelles_breves|texte_script:>
+          --------------------------
+
+<BOUCLE_nv2(BREVES){age_relatif<=0}{par date}{inverse}{0,30}>
+[* (#TITRE|textebrut|texte_script) *]
+[ - (#DATE|affdate|texte_script)]
+
+[(#INTRODUCTION|textebrut|texte_script)]
+
+-> #URL_SITE_SPIP/#URL_BREVE
+
 </BOUCLE_nv2></BOUCLE0>

Index: 404.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/404.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- 404.php3	8 Feb 2005 15:10:12 -0000	1.1
+++ 404.php3	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,7 +1,7 @@
-<?php
-
-	$fond='404';
-	$delais = 12 * 3600;
-	include ('inc-public.php3');
-
+<?php
+
+	$fond='404';
+	$delais = 12 * 3600;
+	include ('inc-public.php3');
+
 ?>

Index: rubrique.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/rubrique.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- rubrique.html	8 Feb 2005 15:10:12 -0000	1.1
+++ rubrique.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,225 +1,225 @@
-<BOUCLE_rubrique_principal(RUBRIQUES) {id_rubrique}
-><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-<title>[(#TITRE|textebrut)]</title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
-<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
-<link rel="stylesheet" href="impression.css" type="text/css" media="print">
-
-<!-- Lien vers le backend pour navigateurs eclaires -->
-<link rel="alternate" type="application/rss+xml" title="<:syndiquer_rubrique:>" href="backend.php3?id_rubrique=#ID_RUBRIQUE">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-
-<!-- Menu de navigation rubriques -->
-
-<div class="menu">
-<ol class="rubriques" title="<:hierarchie_site:>">
-<BOUCLE_hierarchie(HIERARCHIE) {id_rubrique} {tout}>
-<li>
-<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-<B_rubriques_soeurs>
-	<ul class="menu-liste">
-<BOUCLE_rubriques_soeurs(RUBRIQUES) {meme_parent} {exclus} {par titre}>
-	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
-</BOUCLE_rubriques_soeurs>
-	</ul>
-</B_rubriques_soeurs>
-</li>
-</BOUCLE_hierarchie>
-</ol>
-</div>
-
-
-<!-- Breves dans la rubrique -->
-
-<B_breves_rubrique>
-
-<div class="menu">
-<div class="breves" title="<:dernieres_breves:>">
-	<div class="menu-titre">
-	<:breves:>
-	</div>
-	<ul>
-<BOUCLE_breves_rubrique(BREVES) {id_secteur} {par date} {inverse} {0,5}>
-	<li class="menu-item">
-	<i>[(#DATE|affdate_court)]</i>:
-	<a href="#URL_BREVE">#TITRE</a>
-	</li>
-</BOUCLE_breves_rubrique>
-	</ul>
-</div>
-</div>
-
-</B_breves_rubrique>
-
-
-</div>
-
-
-<!-- Une : contenu de la rubrique -->
-
-<div class="contenu" id="principal">
-
-<div class="cartouche">
-[(#LOGO_RUBRIQUE|left)]
-<h1 class="titre-texte">#TITRE</h1>
-[<:dernier_ajout:> : (#DATE|nom_jour)] [(#DATE|affdate).]
-</div>
-
-	<div class="encart">
-
-	<!-- Menu de navigation mots-cles -->
-
-	<B_mots>
-	<h2 class="structure"><:mots_clefs:></h2>
-
-	<div class="menu">
-	<ul class="divers" title="<:mots_clefs:>">
-	<BOUCLE_mots(MOTS) {id_rubrique} {par titre}>
-	<li>
-	<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-	<B_rubriques_mots>
-		<ul class="menu-liste">
-	<BOUCLE_rubriques_mots(RUBRIQUES) {id_mot} {par hasard} {0,4}>
-		<li class="menu-item"><a href="#URL_RUBRIQUE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
-	</BOUCLE_rubriques_mots>
-		</ul>
-	</B_rubriques_mots>
-	</li>
-	</BOUCLE_mots>
-	</ul>
-	</div>
-	</B_mots>
-
-	<!-- Sous-rubriques -->
-
-	<B_sous_rubriques>
-	<h2 class="structure"><:sous_rubriques:></h2>
-
-	<div class="menu">
-	<ul class="rubriques" title="<:sous_rubriques:>">
-	<BOUCLE_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
-	<li>
-	<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-	<B_sous_sous_rubriques>
-		<ul class="menu-liste">
-	<BOUCLE_sous_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
-		<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
-	</BOUCLE_sous_sous_rubriques>
-		</ul>
-	</B_sous_sous_rubriques>
-	</li>
-	</BOUCLE_sous_rubriques>
-	</ul>
-	</div>
-	</B_sous_rubriques>
-	
-	<!-- Sites syndiques -->
-	
-	<B_sites>
-	<div class="menu">
-	<div class="divers">
-		<div class="menu-titre">
-		<:sur_web:>
-		</div>
-		<ul>
-	<BOUCLE_sites(SITES) {id_rubrique} {par nom_site}>
-		<li class="menu-item">
-		<a href="#URL_SITE">#NOM_SITE</a>
-		<B_syndic>
-		<ul class="menu-liste">
-		<BOUCLE_syndic(SYNDIC_ARTICLES) {id_syndic} {par date} {inverse} {0,3}>
-			<li class="menu-item"><small><a href="#URL_ARTICLE">#TITRE</a></small></li>
-		</BOUCLE_syndic>
-		</ul>
-		</B_syndic>
-		</li>
-	</BOUCLE_sites>
-		</ul>
-	</div>
-	</div>
-	</B_sites>
-	[
-<div class="menu">
-    <div class="divers">
-      <div class="menu-titre"><:proposer_site:>
-	<div class='reponse_formulaire'>(#FORMULAIRE_SITE)</div>
-      </div>
-    </div>
-</div>
-]
-	</div>
-
-[<div class="chapo">(#TEXTE)</div>]
-[<div class="notes">(#NOTES)</div>]
-
-<BOUCLE_documents_joints(DOCUMENTS) {id_rubrique} {mode=document} {doublons} {"<br>"}>
-[(#LOGO_DOCUMENT|#URL_DOCUMENT)][<br>(#TITRE)][ - (#DESCRIPTIF)]
-</BOUCLE_documents_joints>
-<br>
-
-<!-- Articles de la rubrique -->
-
-<h1 class="structure"><:articles_rubrique:></h1>
-
-<div class="liste-articles">
-
-<BOUCLE_articles_recents(ARTICLES) {id_rubrique} {par titre}>
-	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents>
-	</div>
-	<br>
-</BOUCLE_articles_recents>
-
-
-</div>
-
-
-</div>
-
-</body>
-</html>
-</BOUCLE_rubrique_principal>
+<BOUCLE_rubrique_principal(RUBRIQUES) {id_rubrique}
+><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+<title>[(#TITRE|textebrut)]</title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
+<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
+<link rel="stylesheet" href="impression.css" type="text/css" media="print">
+
+<!-- Lien vers le backend pour navigateurs eclaires -->
+<link rel="alternate" type="application/rss+xml" title="<:syndiquer_rubrique:>" href="backend.php3?id_rubrique=#ID_RUBRIQUE">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+
+<!-- Menu de navigation rubriques -->
+
+<div class="menu">
+<ol class="rubriques" title="<:hierarchie_site:>">
+<BOUCLE_hierarchie(HIERARCHIE) {id_rubrique} {tout}>
+<li>
+<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+<B_rubriques_soeurs>
+	<ul class="menu-liste">
+<BOUCLE_rubriques_soeurs(RUBRIQUES) {meme_parent} {exclus} {par titre}>
+	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
+</BOUCLE_rubriques_soeurs>
+	</ul>
+</B_rubriques_soeurs>
+</li>
+</BOUCLE_hierarchie>
+</ol>
+</div>
+
+
+<!-- Breves dans la rubrique -->
+
+<B_breves_rubrique>
+
+<div class="menu">
+<div class="breves" title="<:dernieres_breves:>">
+	<div class="menu-titre">
+	<:breves:>
+	</div>
+	<ul>
+<BOUCLE_breves_rubrique(BREVES) {id_secteur} {par date} {inverse} {0,5}>
+	<li class="menu-item">
+	<i>[(#DATE|affdate_court)]</i>:
+	<a href="#URL_BREVE">#TITRE</a>
+	</li>
+</BOUCLE_breves_rubrique>
+	</ul>
+</div>
+</div>
+
+</B_breves_rubrique>
+
+
+</div>
+
+
+<!-- Une : contenu de la rubrique -->
+
+<div class="contenu" id="principal">
+
+<div class="cartouche">
+[(#LOGO_RUBRIQUE|left)]
+<h1 class="titre-texte">#TITRE</h1>
+[<:dernier_ajout:> : (#DATE|nom_jour)] [(#DATE|affdate).]
+</div>
+
+	<div class="encart">
+
+	<!-- Menu de navigation mots-cles -->
+
+	<B_mots>
+	<h2 class="structure"><:mots_clefs:></h2>
+
+	<div class="menu">
+	<ul class="divers" title="<:mots_clefs:>">
+	<BOUCLE_mots(MOTS) {id_rubrique} {par titre}>
+	<li>
+	<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+	<B_rubriques_mots>
+		<ul class="menu-liste">
+	<BOUCLE_rubriques_mots(RUBRIQUES) {id_mot} {par hasard} {0,4}>
+		<li class="menu-item"><a href="#URL_RUBRIQUE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
+	</BOUCLE_rubriques_mots>
+		</ul>
+	</B_rubriques_mots>
+	</li>
+	</BOUCLE_mots>
+	</ul>
+	</div>
+	</B_mots>
+
+	<!-- Sous-rubriques -->
+
+	<B_sous_rubriques>
+	<h2 class="structure"><:sous_rubriques:></h2>
+
+	<div class="menu">
+	<ul class="rubriques" title="<:sous_rubriques:>">
+	<BOUCLE_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
+	<li>
+	<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+	<B_sous_sous_rubriques>
+		<ul class="menu-liste">
+	<BOUCLE_sous_sous_rubriques(RUBRIQUES) {id_parent} {par titre}>
+		<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
+	</BOUCLE_sous_sous_rubriques>
+		</ul>
+	</B_sous_sous_rubriques>
+	</li>
+	</BOUCLE_sous_rubriques>
+	</ul>
+	</div>
+	</B_sous_rubriques>
+	
+	<!-- Sites syndiques -->
+	
+	<B_sites>
+	<div class="menu">
+	<div class="divers">
+		<div class="menu-titre">
+		<:sur_web:>
+		</div>
+		<ul>
+	<BOUCLE_sites(SITES) {id_rubrique} {par nom_site}>
+		<li class="menu-item">
+		<a href="#URL_SITE">#NOM_SITE</a>
+		<B_syndic>
+		<ul class="menu-liste">
+		<BOUCLE_syndic(SYNDIC_ARTICLES) {id_syndic} {par date} {inverse} {0,3}>
+			<li class="menu-item"><small><a href="#URL_ARTICLE">#TITRE</a></small></li>
+		</BOUCLE_syndic>
+		</ul>
+		</B_syndic>
+		</li>
+	</BOUCLE_sites>
+		</ul>
+	</div>
+	</div>
+	</B_sites>
+	[
+<div class="menu">
+    <div class="divers">
+      <div class="menu-titre"><:proposer_site:>
+	<div class='reponse_formulaire'>(#FORMULAIRE_SITE)</div>
+      </div>
+    </div>
+</div>
+]
+	</div>
+
+[<div class="chapo">(#TEXTE)</div>]
+[<div class="notes">(#NOTES)</div>]
+
+<BOUCLE_documents_joints(DOCUMENTS) {id_rubrique} {mode=document} {doublons} {"<br>"}>
+[(#LOGO_DOCUMENT|#URL_DOCUMENT)][<br>(#TITRE)][ - (#DESCRIPTIF)]
+</BOUCLE_documents_joints>
+<br>
+
+<!-- Articles de la rubrique -->
+
+<h1 class="structure"><:articles_rubrique:></h1>
+
+<div class="liste-articles">
+
+<BOUCLE_articles_recents(ARTICLES) {id_rubrique} {par titre}>
+	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	<B_auteurs_recents><:par_auteur:> <BOUCLE_auteurs_recents(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_recents>
+	</div>
+	<br>
+</BOUCLE_articles_recents>
+
+
+</div>
+
+
+</div>
+
+</body>
+</html>
+</BOUCLE_rubrique_principal>

Index: distrib.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/distrib.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- distrib.html	8 Feb 2005 15:10:12 -0000	1.1
+++ distrib.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,7 +1,7 @@
-document.write('<table border="0" bgcolor="#000000" cellspacing="0" cellpadding="0"><tr><td>');
-document.write('<table border="0" bgcolor="#ffffff" cellspacing="1" cellpadding="2"><tr><td bgcolor="#d0d0d0" align="center">');
-document.write('<a href="#URL_SITE_SPIP/"><b>[(#NOM_SITE_SPIP|addslashes)]</b></a>&nbsp;</td></tr><tr><td><ul><small>');
-<BOUCLE_articles(articles){tout}{par date}{inverse}{0,10}>
-document.write('<li><a href="#URL_SITE_SPIP/#URL_ARTICLE"><font color="#000000">[(#TITRE|addslashes)]</font></a></li>\n');
-</BOUCLE_articles>
-document.write('</small></ul></td></tr></table></td></tr></table>');
+document.write('<table border="0" bgcolor="#000000" cellspacing="0" cellpadding="0"><tr><td>');
+document.write('<table border="0" bgcolor="#ffffff" cellspacing="1" cellpadding="2"><tr><td bgcolor="#d0d0d0" align="center">');
+document.write('<a href="#URL_SITE_SPIP/"><b>[(#NOM_SITE_SPIP|addslashes)]</b></a>&nbsp;</td></tr><tr><td><ul><small>');
+<BOUCLE_articles(articles){tout}{par date}{inverse}{0,10}>
+document.write('<li><a href="#URL_SITE_SPIP/#URL_ARTICLE"><font color="#000000">[(#TITRE|addslashes)]</font></a></li>\n');
+</BOUCLE_articles>
+document.write('</small></ul></td></tr></table></td></tr></table>');

Index: forum.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/forum.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- forum.html	8 Feb 2005 15:10:12 -0000	1.1
+++ forum.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,107 +1,107 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-<title>[#NOM_SITE_SPIP] <:poster_message:></title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-
-
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-</div>
-
-
-<!-- Contenu : poster un message dans le forum -->
-
-<div id="principal" class="contenu">
-
-<h1 class="structure"><:poster_message:></h1>
-
-<BOUCLE_article(ARTICLES) {id_article}>
-	<:en_reponse:>
-	[(#LOGO_ARTICLE|right)]
-	[<div class="surtitre">(#SURTITRE)</div>]
-	<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
-	[<div class="surtitre">(#SOUSTITRE)</div>]
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
-	</div>
-	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
-	<br>
-</BOUCLE_article>
-
-<BOUCLE_breve(BREVES) {id_breve}>
-	<:en_reponse:>
-	[(#LOGO_BREVE|right)]
-	<h2 class="titre-extrait"><a href="#URL_BREVE">#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	</div>
-	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
-	<br>
-</BOUCLE_breve>
-
-<BOUCLE_rubrique(RUBRIQUES) {id_rubrique}>
-	<:en_reponse:>
-	<h2 class="titre-extrait"><a href="#URL_RUBRIQUE">#TITRE</a></h2>
-	[<div class="texte"><div class="extrait">(#TEXTE)</div></div>]
-	<br>
-</BOUCLE_rubrique>
-
-<BOUCLE_syndic(SITES) {id_syndic}>
-	<:en_reponse:>
-	<h2 class="titre-extrait"><a href="#URL_SYNDIC">#TITRE</a></h2>
-	<br>
-</BOUCLE_syndic>
-
-<BOUCLE_forum_parent(FORUMS) {id_forum}>
-	<:en_reponse:>
-	<h2 class="titre-extrait"><a href="#URL_FORUM">#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	</div>
-	[<div class="texte"><div class="extrait">(#TEXTE)</div></div>]
-	<br>
-</BOUCLE_forum_parent>
-
-
-#FORMULAIRE_FORUM
-
-
-</div>
-
-</body>
-</html>
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+<title>[#NOM_SITE_SPIP] <:poster_message:></title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+
+
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+</div>
+
+
+<!-- Contenu : poster un message dans le forum -->
+
+<div id="principal" class="contenu">
+
+<h1 class="structure"><:poster_message:></h1>
+
+<BOUCLE_article(ARTICLES) {id_article}>
+	<:en_reponse:>
+	[(#LOGO_ARTICLE|right)]
+	[<div class="surtitre">(#SURTITRE)</div>]
+	<h2 class="titre-extrait"><a href="#URL_ARTICLE">#TITRE</a></h2>
+	[<div class="surtitre">(#SOUSTITRE)</div>]
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	<B_auteurs_un><:par_auteur:> <BOUCLE_auteurs_un(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_un>
+	</div>
+	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
+	<br>
+</BOUCLE_article>
+
+<BOUCLE_breve(BREVES) {id_breve}>
+	<:en_reponse:>
+	[(#LOGO_BREVE|right)]
+	<h2 class="titre-extrait"><a href="#URL_BREVE">#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	</div>
+	[<div class="texte"><div class="extrait">(#INTRODUCTION)</div></div>]
+	<br>
+</BOUCLE_breve>
+
+<BOUCLE_rubrique(RUBRIQUES) {id_rubrique}>
+	<:en_reponse:>
+	<h2 class="titre-extrait"><a href="#URL_RUBRIQUE">#TITRE</a></h2>
+	[<div class="texte"><div class="extrait">(#TEXTE)</div></div>]
+	<br>
+</BOUCLE_rubrique>
+
+<BOUCLE_syndic(SITES) {id_syndic}>
+	<:en_reponse:>
+	<h2 class="titre-extrait"><a href="#URL_SYNDIC">#TITRE</a></h2>
+	<br>
+</BOUCLE_syndic>
+
+<BOUCLE_forum_parent(FORUMS) {id_forum}>
+	<:en_reponse:>
+	<h2 class="titre-extrait"><a href="#URL_FORUM">#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	</div>
+	[<div class="texte"><div class="extrait">(#TEXTE)</div></div>]
+	<br>
+</BOUCLE_forum_parent>
+
+
+#FORMULAIRE_FORUM
+
+
+</div>
+
+</body>
+</html>

Index: recherche.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/recherche.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- recherche.html	8 Feb 2005 15:10:12 -0000	1.1
+++ recherche.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,177 +1,177 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-
-<html lang="#LANG">
-<head>
-<title><:resultats_recherche:></title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
-<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
-<link rel="stylesheet" href="impression.css" type="text/css" media="print">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-
-<div id="navigation">
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-
-<!-- Rubriques trouvees -->
-
-<B_rubriques>
-<div class="menu">
-<ul class="rubriques" title="<:rubriques:>">
-<li class="menu-titre"><:rubriques:></li>
-<BOUCLE_rubriques(RUBRIQUES) {recherche} {par points} {inverse} {0,8}>
-<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
-</BOUCLE_rubriques>
-</ul>
-</div>
-</B_rubriques>
-
-
-<!-- Mots-cles trouves et articles associes-->
-
-<B_mots>
-<div class="menu">
-<ul class="divers" title="<:mots_clefs:>">
-<BOUCLE_mots(MOTS) {recherche} {par points} {inverse} {0,5}>
-<li>
-<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-<B_articles_mots>
-	<ul class="menu-liste">
-<BOUCLE_articles_mots(ARTICLES) {id_mot} {par hasard} {0,8}>
-	<li class="menu-item"><a href="#URL_ARTICLE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
-</BOUCLE_articles_mots>
-	</ul>
-</B_articles_mots>
-</li>
-</BOUCLE_mots>
-</ul>
-</div>
-</B_mots>
-
-</div>
-
-<!-- Une : articles trouves -->
-
-<div class="contenu" id="principal">
-
-<div class="cartouche">
-<h1 class="surtitre"><:resultats_recherche:></h1>
-[<h2 class="titre-texte">(#RECHERCHE)</h2>]
-</div>
-
-	<div class="encart">
-
-	<!-- Breves trouvees -->
-
-	<B_breves>
-
-	<div class="menu">
-	<div class="breves" title="Br&egrave;ves trouv&eacute;es">
-		<div class="menu-titre">
-		<:breves:>
-		</div>
-		<ul>
-	<BOUCLE_breves(BREVES) {recherche} {par points} {inverse} {0,8}>
-		<li class="menu-item">
-		<i>[(#DATE|affdate_court)]</i>:
-		<a href="#URL_BREVE">#TITRE</a>
-		</li>
-	</BOUCLE_breves>
-		</ul>
-	</div>
-	</div>
-
-	</B_breves>
-
-	<!-- Sites Web trouves -->
-
-	<B_sites>
-	<div class="menu">
-	<div class="divers" title="Sites Web trouv&eacute;s">
-		<div class="menu-titre">
-		<:sites_web:>
-		</div>
-		<ul>
-	<BOUCLE_sites(SITES) {recherche} {par points} {inverse} {0,8}>
-		<li class="menu-item">
-		<a href="#URL_SITE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#NOM_SITE</a>
-		</li>
-	</BOUCLE_sites>
-		</ul>
-	</div>
-	</div>
-	</B_sites>
-
-	<!-- Messages trouves -->
-
-	<B_messages>
-	<div class="menu">
-	<div class="divers" title="<:messages_forum:>">
-		<div class="menu-titre">
-		<:messages_forum:>
-		</div>
-		<ul>
-	<BOUCLE_messages(FORUMS) {recherche} {par points} {inverse} {0,8}>
-		<li class="menu-item">
-		<a href="#URL_FORUM">#TITRE</a>
-		</li>
-	</BOUCLE_messages>
-		</ul>
-	</div>
-	</div>
-	</B_messages>
-
-	</div>
-
-
-<div class="liste-articles">
-
-<BOUCLE_articles(ARTICLES) {recherche} {par points} {inverse} {0,10}>
-	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	<B_auteurs_articles><:par_auteur:> <BOUCLE_auteurs_articles(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_articles>
-	</div>
-	<br>
-</BOUCLE_articles>
-
-</div>
-
-</div>
-
-</body>
-</html>
-
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+
+<html lang="#LANG">
+<head>
+<title><:resultats_recherche:></title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
+<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
+<link rel="stylesheet" href="impression.css" type="text/css" media="print">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+
+<div id="navigation">
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+
+<!-- Rubriques trouvees -->
+
+<B_rubriques>
+<div class="menu">
+<ul class="rubriques" title="<:rubriques:>">
+<li class="menu-titre"><:rubriques:></li>
+<BOUCLE_rubriques(RUBRIQUES) {recherche} {par points} {inverse} {0,8}>
+<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
+</BOUCLE_rubriques>
+</ul>
+</div>
+</B_rubriques>
+
+
+<!-- Mots-cles trouves et articles associes-->
+
+<B_mots>
+<div class="menu">
+<ul class="divers" title="<:mots_clefs:>">
+<BOUCLE_mots(MOTS) {recherche} {par points} {inverse} {0,5}>
+<li>
+<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+<B_articles_mots>
+	<ul class="menu-liste">
+<BOUCLE_articles_mots(ARTICLES) {id_mot} {par hasard} {0,8}>
+	<li class="menu-item"><a href="#URL_ARTICLE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
+</BOUCLE_articles_mots>
+	</ul>
+</B_articles_mots>
+</li>
+</BOUCLE_mots>
+</ul>
+</div>
+</B_mots>
+
+</div>
+
+<!-- Une : articles trouves -->
+
+<div class="contenu" id="principal">
+
+<div class="cartouche">
+<h1 class="surtitre"><:resultats_recherche:></h1>
+[<h2 class="titre-texte">(#RECHERCHE)</h2>]
+</div>
+
+	<div class="encart">
+
+	<!-- Breves trouvees -->
+
+	<B_breves>
+
+	<div class="menu">
+	<div class="breves" title="Br&egrave;ves trouv&eacute;es">
+		<div class="menu-titre">
+		<:breves:>
+		</div>
+		<ul>
+	<BOUCLE_breves(BREVES) {recherche} {par points} {inverse} {0,8}>
+		<li class="menu-item">
+		<i>[(#DATE|affdate_court)]</i>:
+		<a href="#URL_BREVE">#TITRE</a>
+		</li>
+	</BOUCLE_breves>
+		</ul>
+	</div>
+	</div>
+
+	</B_breves>
+
+	<!-- Sites Web trouves -->
+
+	<B_sites>
+	<div class="menu">
+	<div class="divers" title="Sites Web trouv&eacute;s">
+		<div class="menu-titre">
+		<:sites_web:>
+		</div>
+		<ul>
+	<BOUCLE_sites(SITES) {recherche} {par points} {inverse} {0,8}>
+		<li class="menu-item">
+		<a href="#URL_SITE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#NOM_SITE</a>
+		</li>
+	</BOUCLE_sites>
+		</ul>
+	</div>
+	</div>
+	</B_sites>
+
+	<!-- Messages trouves -->
+
+	<B_messages>
+	<div class="menu">
+	<div class="divers" title="<:messages_forum:>">
+		<div class="menu-titre">
+		<:messages_forum:>
+		</div>
+		<ul>
+	<BOUCLE_messages(FORUMS) {recherche} {par points} {inverse} {0,8}>
+		<li class="menu-item">
+		<a href="#URL_FORUM">#TITRE</a>
+		</li>
+	</BOUCLE_messages>
+		</ul>
+	</div>
+	</div>
+	</B_messages>
+
+	</div>
+
+
+<div class="liste-articles">
+
+<BOUCLE_articles(ARTICLES) {recherche} {par points} {inverse} {0,10}>
+	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	<B_auteurs_articles><:par_auteur:> <BOUCLE_auteurs_articles(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs_articles>
+	</div>
+	<br>
+</BOUCLE_articles>
+
+</div>
+
+</div>
+
+</body>
+</html>
+

Index: auteur.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/auteur.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- auteur.html	8 Feb 2005 15:10:12 -0000	1.1
+++ auteur.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,92 +1,92 @@
-<BOUCLE_auteur_principal(AUTEURS) {id_auteur}
-><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-<title>[(#NOM|textebrut)]</title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
-<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
-<link rel="stylesheet" href="impression.css" type="text/css" media="print">
-</head>
-
-<body bgcolor="white">
-
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-
-</div>
-
-
-<!-- Une : affichage de l'auteur -->
-
-<div class="contenu" id="principal">
-
-<div class="cartouche">
-[(#LOGO_AUTEUR|left)]
-<h1 class="titre-texte">#NOM</h1>
-
-[<div class="chapo">(#BIO)</div>]
-[<br>#NOM_SITE : <a href="(#URL_SITE)">#URL_SITE</a><br>]
-[<div class="notes">(#NOTES)</div>]
-</div>
-
-[<p><b><:envoyer_message:></b></p>
-<div class='spip_encadrer'><b>(#FORMULAIRE_ECRIRE_AUTEUR)</b></div>]
-
-<!-- Articles de l'auteur -->
-
-<h1 class="structure"><:articles_auteur:></h1>
-
-<div class="liste-articles">
-
-<BOUCLE_articles(ARTICLES) {id_auteur} {par titre}>
-	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	<B_auteurs><:par_auteur:> <BOUCLE_auteurs(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs>
-	</div>
-	<br>
-</BOUCLE_articles>
-
-</div>
-
-</div>
-
-</body>
-</html>
-</BOUCLE_auteur_principal>
-
+<BOUCLE_auteur_principal(AUTEURS) {id_auteur}
+><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+<title>[(#NOM|textebrut)]</title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
+<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
+<link rel="stylesheet" href="impression.css" type="text/css" media="print">
+</head>
+
+<body bgcolor="white">
+
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+
+</div>
+
+
+<!-- Une : affichage de l'auteur -->
+
+<div class="contenu" id="principal">
+
+<div class="cartouche">
+[(#LOGO_AUTEUR|left)]
+<h1 class="titre-texte">#NOM</h1>
+
+[<div class="chapo">(#BIO)</div>]
+[<br>#NOM_SITE : <a href="(#URL_SITE)">#URL_SITE</a><br>]
+[<div class="notes">(#NOTES)</div>]
+</div>
+
+[<p><b><:envoyer_message:></b></p>
+<div class='spip_encadrer'><b>(#FORMULAIRE_ECRIRE_AUTEUR)</b></div>]
+
+<!-- Articles de l'auteur -->
+
+<h1 class="structure"><:articles_auteur:></h1>
+
+<div class="liste-articles">
+
+<BOUCLE_articles(ARTICLES) {id_auteur} {par titre}>
+	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	<B_auteurs><:par_auteur:> <BOUCLE_auteurs(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs>
+	</div>
+	<br>
+</BOUCLE_articles>
+
+</div>
+
+</div>
+
+</body>
+</html>
+</BOUCLE_auteur_principal>
+

Index: article.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/article.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- article.html	8 Feb 2005 15:10:12 -0000	1.1
+++ article.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,290 +1,314 @@
-<BOUCLE_article_principal(ARTICLES) {id_article}
-><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-<title>[(#TITRE|textebrut)]</title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
-<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
-<link rel="stylesheet" href="impression.css" type="text/css" media="print">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-
-<!-- Menu de navigation rubriques -->
-
-<B_rubriques>
-<div class="menu">
-<ol class="rubriques">
-<BOUCLE_rubriques(HIERARCHIE) {id_article}>
-<li>
-<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-<B_sous_rubriques>
-	<ul class="menu-liste">
-<BOUCLE_sous_rubriques(RUBRIQUES) {meme_parent} {exclus} {par date} {inverse} {0,3}>
-	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
-</BOUCLE_sous_rubriques>
-	</ul>
-</B_sous_rubriques>
-</li>
-</BOUCLE_rubriques>
-</ol>
-</div>
-</B_rubriques>
-
-
-<!-- Menu de navigation mots-cles -->
-
-<B_mots>
-<div class="menu">
-
-<h1 class="structure"><:mots_clefs:></h1>
-
-<ul class="divers" title="<:mots_clefs:>">
-<BOUCLE_mots(MOTS) {id_article} {par titre}>
-<li>
-<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
-<B_articles_mots>
-	<ul class="menu-liste">
-<BOUCLE_articles_mots(ARTICLES) {id_mot} {par hasard} {0,4}>
-	<li class="menu-item"><a href="#URL_ARTICLE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
-</BOUCLE_articles_mots>
-	</ul>
-</B_articles_mots>
-</li>
-</BOUCLE_mots>
-</ul>
-</div>
-</B_mots>
-
-
-<!-- Liens des forums -->
-<BOUCLE_forums_decompte(FORUMS){id_article}{plat}></BOUCLE_forums_decompte>
-[<div class="menu" title="<:derniers_commentaires:>">
-
-<h1 class="structure"><:derniers_commentaires:></h1>
-
-<ul class="forums">
-
-<li class="menu-titre"><:messages_forum:>: (#TOTAL_BOUCLE)</li>]
-<//B_forums_decompte>
-<BOUCLE_forums_liens(FORUMS){id_article}{par date}{inverse}{0,5}>
-    <li class="menu-item">[<i>(#DATE|affdate_court)</i>:]
-    <a href="#forum#ID_FORUM">#TITRE</a>
-    </li>
-</BOUCLE_forums_liens>
-</ul>
-</div>
-</B_forums_liens>
-
-
-</div>
-
-
-<!-- Une : derniers articles publies -->
-
-<div class="contenu" id="principal">
-
-<div class="cartouche">
-#DEBUT_SURLIGNE[
-(#LOGO_ARTICLE|left)][
-<div class="surtitre">(#SURTITRE)</div>
-]<h1 class="titre-texte">#TITRE</h1>[
-<div class="surtitre">(#SOUSTITRE)</div>
-]#FIN_SURLIGNE
-[(#DATE|nom_jour)] [(#DATE|affdate).]
-</div>
-<div style="line-height: 0em">&nbsp;</div><!-- Bug Mozilla http://bugzilla.mozilla.org/show_bug.cgi?id=200510 -->
-
-	<div class="encart">
-
-	<!-- Auteurs de l'article -->
-
-	<B_auteurs>
-
-	<div class="menu">
-	<h2 class="structure"><:memes_auteurs:></h2>
-	<ul class="divers">
-	<BOUCLE_auteurs(AUTEURS) {id_article} {par nom}>
-		<li>
-		<div class="menu-titre"><a href="#URL_AUTEUR">#NOM</a></div>
-		<ul>
-		[<li class="menu-item" style="text-align: center"><a href="(#URL_SITE)">#NOM_SITE</a></li>]
-		[<li class="menu-item" style="text-align: center">(#BIO)</li>]
-	<B_articles_auteur>
-	<BOUCLE_articles_auteur(ARTICLES) {id_auteur} {par popularite} {inverse} {0,5}>
-		<li class="menu-item"><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
-	</BOUCLE_articles_auteur>
-		</ul>
-		</li>
-	</BOUCLE_auteurs>
-	</ul>
-	</div>
-
-	</B_auteurs>
-
-	<!-- Articles dans la meme rubrique -->
-
-	<B_articles_rubrique>
-
-	<div class="menu">
-	<div class="breves">
-		<h2 class="structure"><:meme_rubrique:></h2>
-		<div class="menu-titre">
-		<:meme_rubrique:>
-		</div>
-		<ul>
-	<BOUCLE_articles_rubrique(ARTICLES) {id_rubrique} {par hasard} {exclus} {0,8}>
-		<li class="menu-item">
-		<a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a>
-		</li>
-	</BOUCLE_articles_rubrique>
-		</ul>
-	</div>
-	</div>
-
-	</B_articles_rubrique>
-  [<div class='reponse_formulaire'>
-	<a name='sp#ID_ARTICLE' id='sp#ID_ARTICLE'></a>
-    (#FORMULAIRE_SIGNATURE)
-  </div>]
-	</div>
-
-#DEBUT_SURLIGNE[
-<div class="chapo">(#CHAPO)</div>
-][<div class="texte">(#TEXTE)</div>
-][<div class="ps">(#PS)</div>][
-<div class="notes">(#NOTES)</div>
-]#FIN_SURLIGNE
-
-<BOUCLE_documents_joints(DOCUMENTS) {id_article} {mode=document} {doublons} {"<br>"}>
-[(#LOGO_DOCUMENT|#URL_DOCUMENT)][<br>(#TITRE)][ - (#DESCRIPTIF)]
-</BOUCLE_documents_joints>
-<br>
-
-
-<!-- Signatures petition -->
-
-<BOUCLE_signatures_decompte(SIGNATURES) {id_article}></BOUCLE_signatures_decompte>
-[<div class="signatures-titre"><:signatures_petition:>: (#TOTAL_BOUCLE)</div>
-
-<table class="signatures">
-<thead class="structure">
-<tr>
-	<td><:date:></td>
-	<td><:nom:></td>
-	<td><:message:></td>
-</tr>
-</thead>
-<tbody>]
-<//B_signatures_decompte>
-<BOUCLE_signatures(SIGNATURES) {id_article} {par date} {inverse} {debut_signatures,30}>
-<tr>
-	<td class="signature-date">[(#DATE|affdate_court)]</td>
-	<td class="signature-nom">#NOM[<br><a href="#URL_SITE">(#NOM_SITE)</a>]</td>
-	[<td class="signature-message">(#MESSAGE)</td>]
-</tr>
-</BOUCLE_signatures>
-</tbody>
-</table>
-</B_signatures>
-
-
-<!-- Forums -->
-
-[<div class="forum-repondre"><B><A  HREF="forum.php3?(#PARAMETRES_FORUM)"><:repondre_article:></A></B></div>]
-<br>
-
-<h1 class="structure"><:Forum:></h1>
-
-<B_forums>
-<ul class="forum-total">
-
-<BOUCLE_forums(FORUMS){id_article}{par date}{inverse}>
-
-<li>
-<div class="forum-fil">
-
-<div class="forum">
-<div class="forum-chapo">
-<div class="forum-titre"><a name="forum#ID_FORUM"></a>#TITRE</div>
-[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
-</div>
-<div class="forum-item">
-#TEXTE
-[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
-[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
-</div>
-</div>
-
-<B_forums_fils>
-	<ul>
-	<BOUCLE_forums_fils(FORUMS){id_parent}{par date}>
-
-	<li>
-	<div class="forum">
-	<div class="forum-chapo">
-	<div class="forum-titre"><a name="forum#ID_FORUM"></a>#TITRE</div>
-	[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
-	</div>
-	<div class="forum-item">
-	#TEXTE
-	[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
-	[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
-	</div>
-
-	</div>
-
-	<BOUCLE_Forums_Boucle(boucle_forums_fils)></BOUCLE_Forums_Boucle>
-	</li>
-
-	</BOUCLE_forums_fils>
-	</ul>
-</B_forums_fils>
-
-</div>
-</li>
-</BOUCLE_forums>
-
-</ul>
-</B_forums>
-
-</div>
-
-</body>
-</html>
+<BOUCLE_article_principal(ARTICLES) {id_article}><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+<title>[(#TITRE|textebrut)]</title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
+<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
+<link rel="stylesheet" href="impression.css" type="text/css" media="print">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+
+<!-- Menu de navigation rubriques -->
+
+<B_rubriques>
+<div class="menu">
+<ol class="rubriques">
+<BOUCLE_rubriques(HIERARCHIE) {id_article}>
+<li>
+<div class="menu-titre"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+<B_sous_rubriques>
+	<ul class="menu-liste">
+<BOUCLE_sous_rubriques(RUBRIQUES) {meme_parent} {exclus} {par date} {inverse} {0,3}>
+	<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
+</BOUCLE_sous_rubriques>
+	</ul>
+</B_sous_rubriques>
+</li>
+</BOUCLE_rubriques>
+</ol>
+</div>
+</B_rubriques>
+
+
+<!-- Menu de navigation mots-cles -->
+
+<B_mots>
+<div class="menu">
+
+<h1 class="structure"><:mots_clefs:></h1>
+
+<ul class="divers" title="<:mots_clefs:>">
+<BOUCLE_mots(MOTS) {id_article} {par titre}>
+<li>
+<div class="menu-titre"><a href="#URL_MOT" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></div>
+<B_articles_mots>
+	<ul class="menu-liste">
+<BOUCLE_articles_mots(ARTICLES) {id_mot} {par hasard} {0,4}>
+	<li class="menu-item"><a href="#URL_ARTICLE" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
+</BOUCLE_articles_mots>
+	</ul>
+</B_articles_mots>
+</li>
+</BOUCLE_mots>
+</ul>
+</div>
+</B_mots>
+
+
+<!-- Liens des forums -->
+<BOUCLE_forums_decompte(FORUMS){id_article}{plat}></BOUCLE_forums_decompte>
+[<div class="menu" title="<:derniers_commentaires:>">
+
+<h1 class="structure"><:derniers_commentaires:></h1>
+
+<ul class="forums">
+
+<li class="menu-titre"><:messages_forum:>: (#TOTAL_BOUCLE)</li>]
+<//B_forums_decompte>
+<BOUCLE_forums_liens(FORUMS){id_article}{par date}{inverse}{0,5}>
+    <li class="menu-item">[<i>(#DATE|affdate_court)</i>:]
+    <a href="#forum#ID_FORUM">#TITRE</a>
+    </li>
+</BOUCLE_forums_liens>
+</ul>
+</div>
+</B_forums_liens>
+
+
+</div>
+
+
+<!-- Une : derniers articles publies -->
+
+<div class="contenu" id="principal">
+
+<div class="cartouche">
+#DEBUT_SURLIGNE[
+(#LOGO_ARTICLE|left)][
+<div class="surtitre">(#SURTITRE)</div>
+]<h1 class="titre-texte">#TITRE</h1>[
+<div class="surtitre">(#SOUSTITRE)</div>
+]#FIN_SURLIGNE
+[(#DATE|nom_jour)] [(#DATE|affdate).]
+</div>
+<div style="line-height: 0em">&nbsp;</div><!-- Bug Mozilla http://bugzilla.mozilla.org/show_bug.cgi?id=200510 -->
+
+	<div class="encart">
+
+	<!-- Auteurs de l'article -->
+
+	<B_auteurs>
+
+	<div class="menu">
+	<h2 class="structure"><:memes_auteurs:></h2>
+	<ul class="divers">
+	<BOUCLE_auteurs(AUTEURS) {id_article} {par nom}>
+		<li>
+		<div class="menu-titre"><a href="#URL_AUTEUR">#NOM</a></div>
+		<ul>
+		[<li class="menu-item" style="text-align: center"><a href="(#URL_SITE)">#NOM_SITE</a></li>]
+		[<li class="menu-item" style="text-align: center">(#BIO)</li>]
+	<B_articles_auteur>
+	<BOUCLE_articles_auteur(ARTICLES) {id_auteur} {par popularite} {inverse} {0,5}>
+		<li class="menu-item"><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
+	</BOUCLE_articles_auteur>
+		</ul>
+		</li>
+	</BOUCLE_auteurs>
+	</ul>
+	</div>
+
+	</B_auteurs>
+
+	<!-- Articles dans la meme rubrique -->
+
+	<B_articles_rubrique>
+
+	<div class="menu">
+	<div class="breves">
+		<h2 class="structure"><:meme_rubrique:></h2>
+		<div class="menu-titre">
+		<:meme_rubrique:>
+		</div>
+		<ul>
+	<BOUCLE_articles_rubrique(ARTICLES) {id_rubrique} {par hasard} {exclus} {0,8}>
+		<li class="menu-item">
+		<a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a>
+		</li>
+	</BOUCLE_articles_rubrique>
+		</ul>
+	</div>
+	</div>
+
+	</B_articles_rubrique>
+  [<div class='reponse_formulaire'>
+	<a name='sp#ID_ARTICLE' id='sp#ID_ARTICLE'></a>
+    (#FORMULAIRE_SIGNATURE)
+  </div>]
+	</div>
+
+#DEBUT_SURLIGNE[
+<div class="chapo">(#CHAPO)</div>
+][<div class="texte">(#TEXTE)</div>
+][<div class="ps">(#PS)</div>][
+<div class="notes">(#NOTES)</div>
+]#FIN_SURLIGNE
+
+
+<BOUCLE_afficher_document(DOCUMENTS){id_document}{mode=document}{fichier==(png|jpg|gif)$}{doublons}>
+[<h3 class="spip">(#TITRE)</h3>]
+[<div>(#DESCRIPTIF)</div>]
+
+<div>#EMBED_DOCUMENT</div>
+</BOUCLE_afficher_document>
+
+<B_documents_portfolio>
+<div><hr>
+<BOUCLE_documents_portfolio(DOCUMENTS){id_article}{mode=document}{fichier==(png|jpg|gif)$}{doublons}>
+	<div style="float: left;">
+	[<a href="article.php3?id_article=#ID_ARTICLE&id_document=#ID_DOCUMENT">(#LOGO_DOCUMENT||reduire_image{1000,52})</a>][<div><b>(#TITRE)</b></div>][<div>(#DESCRIPTIF)</div>]
+	</div>
+</BOUCLE_documents_portfolio>
+</div>
+<div style="clear: both;"></div>
+</B_documents_portfolio>
+
+<B_documents_joints>
+<div><hr>
+<BOUCLE_documents_joints(DOCUMENTS) {id_article} {mode=document} {doublons} {"<br>"}>
+	<div style="float: left;">
+	[(#LOGO_DOCUMENT|#URL_DOCUMENT)][<div><b>(#TITRE)</b></div>][<div>(#DESCRIPTIF)</div>]
+	</div>
+</BOUCLE_documents_joints>
+</div>
+<div style="clear: both;"></div>
+</B_documents_joints>
+
+
+<!-- Signatures petition -->
+
+<BOUCLE_signatures_decompte(SIGNATURES) {id_article}></BOUCLE_signatures_decompte>
+[<div class="signatures-titre"><:signatures_petition:>: (#TOTAL_BOUCLE)</div>
+
+<table class="signatures">
+<thead class="structure">
+<tr>
+	<td><:date:></td>
+	<td><:nom:></td>
+	<td><:message:></td>
+</tr>
+</thead>
+<tbody>]
+<//B_signatures_decompte>
+<BOUCLE_signatures(SIGNATURES) {id_article} {par date} {inverse} {debut_signatures,30}>
+<tr>
+	<td class="signature-date">[(#DATE|affdate_court)]</td>
+	<td class="signature-nom">#NOM[<br><a href="#URL_SITE">(#NOM_SITE)</a>]</td>
+	[<td class="signature-message">(#MESSAGE)</td>]
+</tr>
+</BOUCLE_signatures>
+</tbody>
+</table>
+</B_signatures>
+
+
+<!-- Forums -->
+
+[<div class="forum-repondre"><B><A  HREF="forum.php3?(#PARAMETRES_FORUM)"><:repondre_article:></A></B></div>]
+<br>
+
+<B_forums>
+<h1 class="structure"><:Forum:></h1>
+
+<ul class="forum-total">
+
+<BOUCLE_forums(FORUMS){id_article}{par date}{inverse}>
+
+<li>
+<div class="forum-fil">
+
+<div class="forum">
+<div class="forum-chapo">
+<div class="forum-titre"><a name="forum#ID_FORUM"></a>#TITRE</div>
+[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
+</div>
+<div class="forum-item">
+#TEXTE
+[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
+[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
+</div>
+</div>
+
+<B_forums_fils>
+	<ul>
+	<BOUCLE_forums_fils(FORUMS){id_parent}{par date}>
+
+	<li>
+	<div class="forum">
+	<div class="forum-chapo">
+	<div class="forum-titre"><a name="forum#ID_FORUM"></a>#TITRE</div>
+	[(#DATE|affdate)][, <:par_auteur:> <A HREF="mailto:#EMAIL">(#NOM)</A>]
+	</div>
+	<div class="forum-item">
+	#TEXTE
+	[<div class="forum-titre"><a href="(#URL_SITE)" class="spip_out">#NOM_SITE</a></div>]
+	[<div class="forum-repondre-message"><a href="forum.php3?(#PARAMETRES_FORUM)"><:repondre_message:></a></div>]
+	</div>
+
+	</div>
+
+	<BOUCLE_Forums_Boucle(boucle_forums_fils)></BOUCLE_Forums_Boucle>
+	</li>
+
+	</BOUCLE_forums_fils>
+	</ul>
+</B_forums_fils>
+
+</div>
+</li>
+</BOUCLE_forums>
+
+</ul>
+</B_forums>
+
+</div>
+
+</body>
+</html>
 </BOUCLE_article_principal>

Index: mot.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/mot.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- mot.html	8 Feb 2005 15:10:12 -0000	1.1
+++ mot.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,181 +1,181 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<BOUCLE_mot_principal(MOTS) {id_mot} {doublons}>
-
-<html lang="#LANG">
-<head>
-<title>[(#TITRE|textebrut)]</title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
-<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
-<link rel="stylesheet" href="impression.css" type="text/css" media="print">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-
-<div id="navigation">
-
-<h1 class="structure"><:navigation:></h1>
-
-<!-- Menu de navigation general -->
-
-<div class="menu">
-<ul class="general">
-	<li class="menu-titre">
-	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
-	</li>
-	<li class="menu-item">
-	<a href="plan.php3"><:plan_site:></a>
-	</li>
-	<li class="menu-item">
-	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
-	</li>
-	<li class="menu-item">
-	<a href="ecrire/"><:espace_prive:></a>
-	</li>
-</ul>
-</div>
-
-
-<!-- Formulaire de recherche -->
-
-[(#FORMULAIRE_RECHERCHE)]
-
-
-<!-- Menu de navigation mots-cles : les autres mots cles du meme groupe-->
-
-<B_mots_freres>
-<h2 class="structure"><:mots_clefs_meme_groupe:></h2>
-
-<div class="menu">
-<div class="divers">
-<div class="menu-titre"><BOUCLE_groupe(GROUPES_MOTS) {id_groupe} {doublons}>#TITRE</BOUCLE_groupe></div>
-	<ul class="menu-liste">
-<BOUCLE_mots_freres(MOTS) {type} {doublons} {par titre}>
-	<li class="menu-item"><a href="#URL_MOT" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
-</BOUCLE_mots_freres>
-	</ul>
-</div>
-</div>
-</B_mots_freres>
-
-
-<!-- Menu de navigation mots-cles : les autres groupes avec un lien sur le premier mot du groupe -->
-
-<B_groupes_freres>
-<h2 class="structure"><:autres_groupes_mots_clefs:></h2>
-
-<div class="menu">
-<div class="divers">
-<div class="menu-titre"><:autres_groupes_mots_clefs:></div>
-	<ul class="menu-liste">
-<BOUCLE_groupes_freres(GROUPES_MOTS) {par titre} {doublons}>
-<BOUCLE_mot_cousin(MOTS) {id_groupe} {par titre} {0,1}>
-	<li class="menu-item"><a href="#URL_MOT">#TYPE</a></li>
-</BOUCLE_mot_cousin>
-</BOUCLE_groupes_freres>
-	</ul>
-</div>
-</div>
-</B_groupes_freres>
-
-
-</div>
-
-<!-- Une : contenu du mot-cle -->
-
-<div class="contenu" id="principal">
-
-<div class="cartouche">
-[(#LOGO_MOT|left)]
-<h1 class="titre-texte">#TITRE</h1>
-</div>
-
-	<div class="encart">
-
-	<!-- Rubriques liees au mot-cle -->
-
-	<B_rubriques>
-	<h2 class="structure"><:rubriques:></h2>
-
-	<div class="menu">
-	<div class="rubriques">
-	<div class="menu-titre"><:rubriques:></div>
-		<ul class="menu-liste">
-	<BOUCLE_rubriques(RUBRIQUES) {id_mot} {par titre}>
-		<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
-	</BOUCLE_rubriques>
-		</ul>
-	</div>
-	</div>
-	</B_rubriques>
-
-	<!-- Breves liees au mot-cle -->
-
-	<B_breves>
-	<h2 class="structure"><:breves:></h2>
-
-	<div class="menu">
-	<div class="breves">
-	<div class="menu-titre"><:breves:></div>
-		<ul class="menu-liste">
-	<BOUCLE_breves(BREVES) {id_mot} {par titre}>
-		<li class="menu-item"><a href="#URL_BREVE">#TITRE</a></li>
-	</BOUCLE_breves>
-		</ul>
-	</div>
-	</div>
-	</B_breves>
-
-	<!-- Sites Web lies au mot-cle -->
-
-	<B_sites>
-	<h2 class="structure"><:sites_web:></h2>
-
-	<div class="menu">
-	<div class="breves">
-	<div class="menu-titre"><:sites_web:></div>
-		<ul class="menu-liste">
-	<BOUCLE_sites(SITES) {id_mot} {par nom_site}>
-		<li class="menu-item"><a href="#URL_SITE">#TITRE</a></li>
-	</BOUCLE_sites>
-		</ul>
-	</div>
-	</div>
-	</B_sites>
-
-	</div>
-
-[<div class="chapo">(#TEXTE)</div>]
-[<div class="notes">(#NOTES)</div>]
-
-
-<!-- Articles lies au mot-cle -->
-
-<h1 class="structure"><:articles:></h1>
-
-<div class="liste-articles">
-
-<BOUCLE_articles(ARTICLES) {id_mot} {par titre}>
-	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
-	<div class="detail">
-	[(#DATE|nom_jour)] [(#DATE|affdate)]
-	<B_auteurs><:par_auteur:> <BOUCLE_auteurs(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs>
-	</div>
-	<br>
-</BOUCLE_articles>
-
-</div>
-</div>
-
-</body>
-</html>
-</BOUCLE_mot_principal>
-<//B_mot_principal>
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<BOUCLE_mot_principal(MOTS) {id_mot} {doublons}>
+
+<html lang="#LANG">
+<head>
+<title>[(#TITRE|textebrut)]</title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="projection, screen, tv">
+<!-- media="print" permet d'utiliser cette feuille de style quand vous imprimez depuis votre navigateur -->
+<link rel="stylesheet" href="impression.css" type="text/css" media="print">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+
+<div id="navigation">
+
+<h1 class="structure"><:navigation:></h1>
+
+<!-- Menu de navigation general -->
+
+<div class="menu">
+<ul class="general">
+	<li class="menu-titre">
+	[<a href="(#URL_SITE_SPIP)" title="<:accueil_site:>"><b>#NOM_SITE_SPIP</b></a>]
+	</li>
+	<li class="menu-item">
+	<a href="plan.php3"><:plan_site:></a>
+	</li>
+	<li class="menu-item">
+	<a href="resume.php3" title="<:articles_populaires:>"><:en_resume:></a>
+	</li>
+	<li class="menu-item">
+	<a href="ecrire/"><:espace_prive:></a>
+	</li>
+</ul>
+</div>
+
+
+<!-- Formulaire de recherche -->
+
+[(#FORMULAIRE_RECHERCHE)]
+
+
+<!-- Menu de navigation mots-cles : les autres mots cles du meme groupe-->
+
+<B_mots_freres>
+<h2 class="structure"><:mots_clefs_meme_groupe:></h2>
+
+<div class="menu">
+<div class="divers">
+<div class="menu-titre"><BOUCLE_groupe(GROUPES_MOTS) {id_groupe} {doublons}>#TITRE</BOUCLE_groupe></div>
+	<ul class="menu-liste">
+<BOUCLE_mots_freres(MOTS) {type} {doublons} {par titre}>
+	<li class="menu-item"><a href="#URL_MOT" title="[(#DESCRIPTIF|textebrut|entites_html)]">#TITRE</a></li>
+</BOUCLE_mots_freres>
+	</ul>
+</div>
+</div>
+</B_mots_freres>
+
+
+<!-- Menu de navigation mots-cles : les autres groupes avec un lien sur le premier mot du groupe -->
+
+<B_groupes_freres>
+<h2 class="structure"><:autres_groupes_mots_clefs:></h2>
+
+<div class="menu">
+<div class="divers">
+<div class="menu-titre"><:autres_groupes_mots_clefs:></div>
+	<ul class="menu-liste">
+<BOUCLE_groupes_freres(GROUPES_MOTS) {par titre} {doublons}>
+<BOUCLE_mot_cousin(MOTS) {id_groupe} {par titre} {0,1}>
+	<li class="menu-item"><a href="#URL_MOT">#TYPE</a></li>
+</BOUCLE_mot_cousin>
+</BOUCLE_groupes_freres>
+	</ul>
+</div>
+</div>
+</B_groupes_freres>
+
+
+</div>
+
+<!-- Une : contenu du mot-cle -->
+
+<div class="contenu" id="principal">
+
+<div class="cartouche">
+[(#LOGO_MOT|left)]
+<h1 class="titre-texte">#TITRE</h1>
+</div>
+
+	<div class="encart">
+
+	<!-- Rubriques liees au mot-cle -->
+
+	<B_rubriques>
+	<h2 class="structure"><:rubriques:></h2>
+
+	<div class="menu">
+	<div class="rubriques">
+	<div class="menu-titre"><:rubriques:></div>
+		<ul class="menu-liste">
+	<BOUCLE_rubriques(RUBRIQUES) {id_mot} {par titre}>
+		<li class="menu-item"><a href="#URL_RUBRIQUE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></li>
+	</BOUCLE_rubriques>
+		</ul>
+	</div>
+	</div>
+	</B_rubriques>
+
+	<!-- Breves liees au mot-cle -->
+
+	<B_breves>
+	<h2 class="structure"><:breves:></h2>
+
+	<div class="menu">
+	<div class="breves">
+	<div class="menu-titre"><:breves:></div>
+		<ul class="menu-liste">
+	<BOUCLE_breves(BREVES) {id_mot} {par titre}>
+		<li class="menu-item"><a href="#URL_BREVE">#TITRE</a></li>
+	</BOUCLE_breves>
+		</ul>
+	</div>
+	</div>
+	</B_breves>
+
+	<!-- Sites Web lies au mot-cle -->
+
+	<B_sites>
+	<h2 class="structure"><:sites_web:></h2>
+
+	<div class="menu">
+	<div class="breves">
+	<div class="menu-titre"><:sites_web:></div>
+		<ul class="menu-liste">
+	<BOUCLE_sites(SITES) {id_mot} {par nom_site}>
+		<li class="menu-item"><a href="#URL_SITE">#TITRE</a></li>
+	</BOUCLE_sites>
+		</ul>
+	</div>
+	</div>
+	</B_sites>
+
+	</div>
+
+[<div class="chapo">(#TEXTE)</div>]
+[<div class="notes">(#NOTES)</div>]
+
+
+<!-- Articles lies au mot-cle -->
+
+<h1 class="structure"><:articles:></h1>
+
+<div class="liste-articles">
+
+<BOUCLE_articles(ARTICLES) {id_mot} {par titre}>
+	<h2><a href="#URL_ARTICLE" [title="(#DESCRIPTIF|textebrut|entites_html)"]>#TITRE</a></h2>
+	<div class="detail">
+	[(#DATE|nom_jour)] [(#DATE|affdate)]
+	<B_auteurs><:par_auteur:> <BOUCLE_auteurs(AUTEURS) {id_article} {", "}>#NOM</BOUCLE_auteurs>
+	</div>
+	<br>
+</BOUCLE_articles>
+
+</div>
+</div>
+
+</body>
+</html>
+</BOUCLE_mot_principal>
+<//B_mot_principal>

Index: plan.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/plan.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- plan.html	8 Feb 2005 15:10:12 -0000	1.1
+++ plan.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,123 +1,123 @@
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
-<html lang="#LANG">
-<head>
-<title>[#NOM_SITE_SPIP] </title>
-<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
-
-<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
-<link rel="stylesheet" href="spip_style.css" type="text/css">
-
-<!-- Les feuilles de style specifiques aux presents squelettes -->
-<link rel="stylesheet" href="typographie.css" type="text/css">
-
-<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
-<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
-</head>
-
-<body bgcolor="white" dir="#LANG_DIR">
-
-
-<!-- Plan du site -->
-
-<div id="plan" class="contenu">
-
-<BOUCLE_secteurs(RUBRIQUES) {racine} {par titre}>
-
-<div class="plan-secteur">
-
-	[(#LOGO_RUBRIQUE|left)]<h1><a href="#URL_RUBRIQUE">#TITRE</a></h1>
-
-	<div class="encart">
-
-	<!-- Breves -->
-
-	<h2 class="structure"><:breves:></h2>
-
-	<B_breves>
-	<div class="menu">
-	<div class="breves">
-		<div class="menu-titre">
-		<:breves:>
-		</div>
-		<ul>
-	<BOUCLE_breves(BREVES) {id_secteur} {par date} {inverse} {0,15}>
-		<li class="menu-item">
-		<i>[(#DATE|affdate_court)]</i>:
-		<a href="#URL_BREVE">#TITRE</a>
-		</li>
-	</BOUCLE_breves>
-		</ul>
-	</div>
-	</div>
-	</B_breves>
-
-	<!-- Sur le Web -->
-
-	<h2 class="structure"><:sites_web:></h2>
-
-	<B_sites>
-	<div class="menu">
-	<div class="divers">
-		<div class="menu-titre">
-		<:sur_web:>
-		</div>
-		<ul>
-	<BOUCLE_sites(SITES) {id_secteur} {par nom_site}>
-		<li class="menu-item">
-		<a href="#URL_SITE">#NOM_SITE</a>
-		</li>
-	</BOUCLE_sites>
-		</ul>
-	</div>
-	</div>
-	</B_sites>
-
-	</div>
-
-<!-- Articles et sous-rubriques -->
-
-<h2 class="structure"><:articles:></h2>
-
-<B_articles_racine>
-<ul class="plan-articles">
-
-<BOUCLE_articles_racine(ARTICLES) {id_rubrique} {par titre}>
-<li class="plan-article"><a href="#URL_ARTICLE">#TITRE</a></li>
-</BOUCLE_articles_racine>
-
-</ul>
-</B_articles_racine>
-
-<B_rubriques>
-
-<ul class="plan-rubriques">
-
-<BOUCLE_rubriques(RUBRIQUES) {id_parent} {par titre}>
-<li>
-<div class="plan-rubrique"><a href="#URL_RUBRIQUE">#TITRE</a></div>
-
-	<B_articles>
-	<ul class="plan-articles">
-	<BOUCLE_articles(ARTICLES) {id_rubrique} {par titre}>
-	<li class="plan-article"><a href="#URL_ARTICLE">#TITRE</a></li>
-	</BOUCLE_articles>
-	</ul>
-	</B_articles>
-
-	<BOUCLE_sous_rubriques(BOUCLE_rubriques)></BOUCLE_sous_rubriques>
-
-</li>
-</BOUCLE_rubriques>
-
-</ul>
-</B_rubriques>
-
-
-</div>
-
-</BOUCLE_secteurs>
-
-</div>
-
-</body>
-</html>
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html lang="#LANG">
+<head>
+<title>[#NOM_SITE_SPIP] </title>
+<meta http-equiv="Content-Type" content="text/html; charset=#CHARSET">
+
+<!-- Ceci est la feuille de style par defaut pour les types internes a SPIP -->
+<link rel="stylesheet" href="spip_style.css" type="text/css">
+
+<!-- Les feuilles de style specifiques aux presents squelettes -->
+<link rel="stylesheet" href="typographie.css" type="text/css">
+
+<!-- media="..." permet de ne pas utiliser ce style sous Netscape 4 (sinon plantage) -->
+<link rel="stylesheet" href="habillage.css" type="text/css" media="print, projection, screen, tv">
+</head>
+
+<body bgcolor="white" dir="#LANG_DIR">
+
+
+<!-- Plan du site -->
+
+<div id="plan" class="contenu">
+
+<BOUCLE_secteurs(RUBRIQUES) {racine} {par titre}>
+
+<div class="plan-secteur">
+
+	[(#LOGO_RUBRIQUE|left)]<h1><a href="#URL_RUBRIQUE">#TITRE</a></h1>
+
+	<div class="encart">
+
+	<!-- Breves -->
+
+	<h2 class="structure"><:breves:></h2>
+
+	<B_breves>
+	<div class="menu">
+	<div class="breves">
+		<div class="menu-titre">
+		<:breves:>
+		</div>
+		<ul>
+	<BOUCLE_breves(BREVES) {id_secteur} {par date} {inverse} {0,15}>
+		<li class="menu-item">
+		<i>[(#DATE|affdate_court)]</i>:
+		<a href="#URL_BREVE">#TITRE</a>
+		</li>
+	</BOUCLE_breves>
+		</ul>
+	</div>
+	</div>
+	</B_breves>
+
+	<!-- Sur le Web -->
+
+	<h2 class="structure"><:sites_web:></h2>
+
+	<B_sites>
+	<div class="menu">
+	<div class="divers">
+		<div class="menu-titre">
+		<:sur_web:>
+		</div>
+		<ul>
+	<BOUCLE_sites(SITES) {id_secteur} {par nom_site}>
+		<li class="menu-item">
+		<a href="#URL_SITE">#NOM_SITE</a>
+		</li>
+	</BOUCLE_sites>
+		</ul>
+	</div>
+	</div>
+	</B_sites>
+
+	</div>
+
+<!-- Articles et sous-rubriques -->
+
+<h2 class="structure"><:articles:></h2>
+
+<B_articles_racine>
+<ul class="plan-articles">
+
+<BOUCLE_articles_racine(ARTICLES) {id_rubrique} {par titre}>
+<li class="plan-article"><a href="#URL_ARTICLE">#TITRE</a></li>
+</BOUCLE_articles_racine>
+
+</ul>
+</B_articles_racine>
+
+<B_rubriques>
+
+<ul class="plan-rubriques">
+
+<BOUCLE_rubriques(RUBRIQUES) {id_parent} {par titre}>
+<li>
+<div class="plan-rubrique"><a href="#URL_RUBRIQUE">#TITRE</a></div>
+
+	<B_articles>
+	<ul class="plan-articles">
+	<BOUCLE_articles(ARTICLES) {id_rubrique} {par titre}>
+	<li class="plan-article"><a href="#URL_ARTICLE">#TITRE</a></li>
+	</BOUCLE_articles>
+	</ul>
+	</B_articles>
+
+	<BOUCLE_sous_rubriques(BOUCLE_rubriques)></BOUCLE_sous_rubriques>
+
+</li>
+</BOUCLE_rubriques>
+
+</ul>
+</B_rubriques>
+
+
+</div>
+
+</BOUCLE_secteurs>
+
+</div>
+
+</body>
+</html>

Index: backend-breves.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/backend-breves.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- backend-breves.html	8 Feb 2005 15:10:12 -0000	1.1
+++ backend-breves.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,32 +1,32 @@
-<?php echo '<'.'?xml version="1.0" encoding="#CHARSET"?'.">\n"; ?>
-<rss version="0.91" xmlns:dc="http://purl.org/dc/elements/1.1/">
-
-<channel>
-
-	<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
-	<link>#URL_SITE_SPIP/</link>
-	<description></description>
-	<language>#LANG</language>
-
-	<image>
-		<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
-		<url>#URL_SITE_SPIP[/(#LOGO_SITE_SPIP||extraire_attribut{src})]</url>
-		<link>#URL_SITE_SPIP/</link>
-		<description></description>
-	</image>
-
-	<BOUCLE_breves(BREVES){id_rubrique ?}{lang ?}{par date}{inverse}{0,10}>
-	<item>
-		<title>[(#TITRE|texte_backend)]</title>
-		<link>#URL_SITE_SPIP/#URL_BREVE</link>
-		<date>#DATE</date>
-		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_BREVE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#TEXTE|texte_backend)]</description>
-		<dc:date>[(#DATE|date_iso)]</dc:date>
-		<dc:format>text/html</dc:format>
-		<dc:language>#LANG</dc:language>
-	</item>
-	</BOUCLE_breves>
-
-</channel>
-
-</rss>
+<?php echo '<'.'?xml version="1.0" encoding="#CHARSET"?'.">\n"; ?>
+<rss version="0.91" xmlns:dc="http://purl.org/dc/elements/1.1/">
+
+<channel>
+
+	<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
+	<link>#URL_SITE_SPIP/</link>
+	<description></description>
+	<language>#LANG</language>
+
+	<image>
+		<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
+		<url>#URL_SITE_SPIP[/(#LOGO_SITE_SPIP||extraire_attribut{src})]</url>
+		<link>#URL_SITE_SPIP/</link>
+		<description></description>
+	</image>
+
+	<BOUCLE_breves(BREVES){id_rubrique ?}{lang ?}{par date}{inverse}{0,10}>
+	<item>
+		<title>[(#TITRE|texte_backend)]</title>
+		<link>#URL_SITE_SPIP/#URL_BREVE</link>
+		<date>#DATE</date>
+		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_BREVE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#TEXTE|texte_backend)]</description>
+		<dc:date>[(#DATE|date_iso)]</dc:date>
+		<dc:format>text/html</dc:format>
+		<dc:language>#LANG</dc:language>
+	</item>
+	</BOUCLE_breves>
+
+</channel>
+
+</rss>

Index: backend.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/dist/backend.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- backend.html	8 Feb 2005 15:10:12 -0000	1.1
+++ backend.html	20 Feb 2005 22:17:12 -0000	1.2
@@ -1,46 +1,46 @@
-<?php echo '<'.'?xml version="1.0" encoding="#CHARSET"?'.">\n"; ?>
-<rss version="0.91" xmlns:dc="http://purl.org/dc/elements/1.1/">
-
-<channel>
-	<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
-	<link>#URL_SITE_SPIP/</link>
-	<description></description>
-	<language>#LANG</language>
-
-	<image>
-		<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
-		<url>#URL_SITE_SPIP[/(#LOGO_SITE_SPIP||extraire_attribut{src})]</url>
-		<link>#URL_SITE_SPIP/</link>
-		<description></description>
-	</image>
-
-	<BOUCLE_10recents(ARTICLES){lang ?}{branche ?}{par date}{inverse}{0,10}{unique}>
-		<item>
-		<title>[(#TITRE|texte_backend)]</title>
-		<link>#URL_SITE_SPIP/#URL_ARTICLE</link>
-		<date>#DATE</date>
-		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_ARTICLE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#INTRODUCTION|texte_backend)]</description>
-		<author><BOUCLE_auteurs(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteurs></author>
-		<dc:date>[(#DATE|date_iso)]</dc:date>
-		<dc:format>text/html</dc:format>
-		<dc:language>#LANG</dc:language>
-		<dc:creator><BOUCLE_auteursb(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteursb></dc:creator>
-		</item>
-	</BOUCLE_10recents>
-	<BOUCLE_tres_recents(ARTICLES){lang ?}{branche ?}{par date}{inverse}{age<3}{unique}>
-		<item>
-		<title>[(#TITRE|texte_backend)]</title>
-		<link>#URL_SITE_SPIP/#URL_ARTICLE</link>
-		<date>#DATE</date>
-		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_ARTICLE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#INTRODUCTION|texte_backend)]</description>
-		<author><BOUCLE_auteurs_t(AUTEURS){id_article}{","}>[(#NOM|texte_backend)]</BOUCLE_auteurs_t></author>
-		<dc:date>[(#DATE|date_iso)]</dc:date>
-		<dc:format>text/html</dc:format>
-		<dc:language>#LANG</dc:language>
-		<dc:creator><BOUCLE_auteurs_tb(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteurs_tb></dc:creator>
-		</item>
-	</BOUCLE_tres_recents>
-
-</channel>
-
-</rss>
+<?php echo '<'.'?xml version="1.0" encoding="#CHARSET"?'.">\n"; ?>
+<rss version="0.91" xmlns:dc="http://purl.org/dc/elements/1.1/">
+
+<channel>
+	<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
+	<link>#URL_SITE_SPIP/</link>
+	<description></description>
+	<language>#LANG</language>
+
+	<image>
+		<title>[(#NOM_SITE_SPIP|texte_backend)]</title>
+		<url>#URL_SITE_SPIP[/(#LOGO_SITE_SPIP||extraire_attribut{src})]</url>
+		<link>#URL_SITE_SPIP/</link>
+		<description></description>
+	</image>
+
+	<BOUCLE_10recents(ARTICLES){lang ?}{branche ?}{par date}{inverse}{0,10}{unique}>
+		<item>
+		<title>[(#TITRE|texte_backend)]</title>
+		<link>#URL_SITE_SPIP/#URL_ARTICLE</link>
+		<date>#DATE</date>
+		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_ARTICLE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#INTRODUCTION|texte_backend)]</description>
+		<author><BOUCLE_auteurs(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteurs></author>
+		<dc:date>[(#DATE|date_iso)]</dc:date>
+		<dc:format>text/html</dc:format>
+		<dc:language>#LANG</dc:language>
+		<dc:creator><BOUCLE_auteursb(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteursb></dc:creator>
+		</item>
+	</BOUCLE_10recents>
+	<BOUCLE_tres_recents(ARTICLES){lang ?}{branche ?}{par date}{inverse}{age<3}{unique}>
+		<item>
+		<title>[(#TITRE|texte_backend)]</title>
+		<link>#URL_SITE_SPIP/#URL_ARTICLE</link>
+		<date>#DATE</date>
+		<description>[&lt;img src="#URL_SITE_SPIP/(#LOGO_ARTICLE||extraire_attribut{src})" align="left" hspace="4" vspace="4"&gt; ][(#INTRODUCTION|texte_backend)]</description>
+		<author><BOUCLE_auteurs_t(AUTEURS){id_article}{","}>[(#NOM|texte_backend)]</BOUCLE_auteurs_t></author>
+		<dc:date>[(#DATE|date_iso)]</dc:date>
+		<dc:format>text/html</dc:format>
+		<dc:language>#LANG</dc:language>
+		<dc:creator><BOUCLE_auteurs_tb(AUTEURS){id_article}{", "}>[(#NOM|texte_backend)]</BOUCLE_auteurs_tb></dc:creator>
+		</item>
+	</BOUCLE_tres_recents>
+
+</channel>
+
+</rss>



From stef at berlios.de  Sun Feb 20 23:17:32 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:17:32 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire accents.php3,1.1,1.2
Message-ID: <200502202217.j1KMHW8Y027748@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv27742/ecrire

Modified Files:
	accents.php3 
Log Message:
1.8pr1

Index: accents.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/accents.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- accents.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ accents.php3	20 Feb 2005 22:17:30 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 include_ecrire ("inc_auth.php3");
 include_ecrire ("inc_admin.php3");



From stef at berlios.de  Sun Feb 20 23:16:50 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:16:50 +0100
Subject: [Spip-carto-cvs] spipcarto inc-chercher-squelette.php3,NONE,1.1 spip_cal.php3,1.2,1.3 sommaire.php3,1.2,1.3 index.php3,1.2,1.3 inc-public.php3,1.2,1.3 typographie.css,1.2,1.3 spip_pass.php3,1.2,1.3 spip_cache.php3,1.2,1.3 spip_background.php3,1.2,1.3 inc-urls-standard.php3,1.2,1.3 inc-compilo.php3,1.2,1.3 inc-urls-html.php3,1.2,1.3 inc-html-squel.php3,1.2,1.3 resume.php3,1.2,1.3 spip_admin.css,1.2,1.3 spip_image.php3,1.2,1.3 inc-stats.php3,1.2,1.3 rubrique.php3,1.2,1.3 spip_redirect.php3,1.2,1.3 index.php,1.2,1.3 inc-compilo-api.php3,1.2,1.3 inc-compilo-index.php3,1.2,1.3 mot.php3,1.2,1.3 mes_fonctions.php3,1.2,1.3 recherche.php3,1.2,1.3 site.php3,1.2,1.3 spip_acces_doc.php3,1.2,1.3 plan.php3,1.2,1.3 spip_style.css,1.2,1.3 spip_inscription.php3,1.2,1.3 spip_barre.js,1.2,1.3 sommaire_texte.php3,1.2,1.3 spip_login.php3,1.2,1.3 inc-messforum.php3,1.2,1.3 spip_carto.php,1.2,1.3 inc-criteres.php3,1.2,1.3 spip_image_reduite.php3,1.2,1.3 inc-public-global.php3,1.2,1.3 inc-urls-propres.php3!
 ,1.2,1.3 spip_test_dirs.php3,1.2,1.3 spip_cookie.php3,1.2,1.3
Message-ID: <200502202216.j1KMGo8Y027659@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv27631

Modified Files:
	spip_cal.php3 sommaire.php3 index.php3 inc-public.php3 
	typographie.css spip_pass.php3 spip_cache.php3 
	spip_background.php3 inc-urls-standard.php3 inc-compilo.php3 
	inc-urls-html.php3 inc-html-squel.php3 resume.php3 
	spip_admin.css spip_image.php3 inc-stats.php3 rubrique.php3 
	spip_redirect.php3 index.php inc-compilo-api.php3 
	inc-compilo-index.php3 mot.php3 mes_fonctions.php3 
	recherche.php3 site.php3 spip_acces_doc.php3 plan.php3 
	spip_style.css spip_inscription.php3 spip_barre.js 
	sommaire_texte.php3 spip_login.php3 inc-messforum.php3 
	spip_carto.php inc-criteres.php3 spip_image_reduite.php3 
	inc-public-global.php3 inc-urls-propres.php3 
	spip_test_dirs.php3 spip_cookie.php3 
Added Files:
	inc-chercher-squelette.php3 
Log Message:
1.8pr1

--- NEW FILE: inc-chercher-squelette.php3 ---
<?php

/***************************************************************************\
 *  SPIP, Systeme de publication pour l'internet                           *
 *                                                                         *
 *  Copyright (c) 2001-2005                                                *
 *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
 *                                                                         *
 *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
 *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
\***************************************************************************/


// Ce fichier ne sera execute qu'une fois
if (defined("_INC_CHERCHER")) return;
define("_INC_CHERCHER", "1");

// Ce fichier doit imperativement contenir la fonction chercher-squelette
// (cf commentaires dans inc-calcul)

function chercher_squelette($fond, $id_rubrique, $lang) {
	$ext = $GLOBALS['extension_squelette'];

	// Accrocher un squelette de base dans le chemin
	if (!$base = find_in_path("$fond.$ext")) {
		// erreur webmaster : $fond ne correspond a rien
		erreur_squelette(_T('info_erreur_squelette2',
			 array('fichier'=>$fond)),
			 $dossier);
		return '';
	}

	// supprimer le ".html" pour pouvoir affiner par id_rubrique ou par langue
	$squelette = substr($base, 0, - strlen(".$ext"));

	// On selectionne, dans l'ordre :
	// fond=10
	$f = "$squelette=$id_rubrique";
	if (($id_rubrique > 0) AND (@file_exists("$f.$ext")))
		$squelette = $f;
	else {
		// fond-10 fond-<rubriques parentes>
		while ($id_rubrique > 0) {
			$f = "$squelette-$id_rubrique";
			if (@file_exists("$f.$ext")) {
				$squelette = $f;
				break;
			}
			else
				$id_rubrique = sql_parent($id_rubrique);
		}
	}

	// Affiner par lang
	if ($lang) {
		lang_select($lang);
		$f = "$squelette.$lang";
		if (@file_exists("$f.$ext"))
			$squelette = $f;
	}

	return $squelette;
}

?>

Index: spip_cal.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_cal.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_cal.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_cal.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,324 +1,335 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-
-include_ecrire("inc_filtres.php3");
-include_ecrire("inc_lang.php3");
-include_ecrire("inc_texte.php3");
-include_ecrire("inc_charsets.php3");
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_admin.php3");
-include_ecrire("inc_acces.php3");
-
-/*
-function ligne_x ($texte) {
-	if (ereg("^BEGIN", $texte)) echo "<br>";
-	echo $texte."<br>";
-}
-*/
-function ligne ($texte) {
-	echo filtrer_ical($texte)."\n";
-}
-
-$nom_site = lire_meta("nom_site");
-$adresse_site = lire_meta("adresse_site");
-
-// securite
-unset($id_utilisateur);
-$id_auteur = intval($id);
-
-// verifier la cle
-if (verifier_low_sec($id_auteur, $cle, 'ical')) {
-	$query = "SELECT * FROM spip_auteurs WHERE id_auteur=$id_auteur";
-	$result = spip_query($query);
-
-	if ($row = spip_fetch_array($result)) {
-		$id_utilisateur=$row['id_auteur'];
-		$nom_utilisateur=$row['nom'];
-		$statut_utilisateur=$row['statut'];
-		$langue_utilisateur=$row['lang'];
-	}
-}
-if (!$id_utilisateur) {
-	echo _T('info_acces_interdit');
-	exit;
-}
-
-lang_select($langue_utilisateur);
-
- at header("content-type:text/calendar; charset=utf-8");
-
-ligne ("BEGIN:VCALENDAR");
-ligne ("CALSCALE:GREGORIAN");
-ligne ("X-WR-CALNAME;VALUE=TEXT:$nom_site / $nom_utilisateur");
-ligne ("X-WR-RELCALID:cal$id_utilisateur @ $adresse_site");
-
-
-// rendez-vous
-$result_messages=spip_query("SELECT messages.* FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE ((lien.id_auteur='$id_utilisateur' AND lien.id_message=messages.id_message) OR messages.type='affich') AND messages.rv='oui' AND messages.statut='publie' GROUP BY messages.id_message ORDER BY messages.date_heure");
-while($row=spip_fetch_array($result_messages)){
-	$id_message=$row['id_message'];
-	$date_heure=$row["date_heure"];
-	$date_heure_fin=$row["date_fin"];
-	//$titre=typo($row["titre"]);
-	$titre = $row["titre"];
-	$texte = $row["texte"];
-	$type=$row["type"];
-
-	if ($type == 'normal') {
-		$le_type = _T('info_message_2');
-		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
-		while($row_auteur=spip_fetch_array($result_auteurs)){
-			$id_auteur=$row_auteur['id_auteur'];
-			$nom_auteur=$row_auteur['nom'];
-			$email = $row_auteur ['email'];
-
-			if ($id_auteur != $id_utilisateur) $titre = $titre." - ".$nom_auteur;
-			
-			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
-			else  ligne ("ATTENDEE:$nom_auteur <$email>");
-		}
-	}
-	else if ($type == 'pb') {
-		$le_type = _T('info_pense_bete');
-	}
-	else if ($type == 'affich') {
-		$le_type = _T('info_annonce');
-		$titre = "[$nom_site] $titre";
-	}
-
-	ligne ("BEGIN:VEVENT");
-	ligne ("SUMMARY:".$titre);
-	ligne ("DESCRIPTION:$texte");
-	ligne ("UID:mess$id_message @ $adresse_site");
-	ligne ("DTSTAMP:".date_ical($date_heure));
-	ligne ("DTSTART:".date_ical($date_heure));
-	if ($date_heure_fin > $date_heure) ligne ("DTEND:".date_ical($date_heure_fin));
-
-	ligne ("CATEGORIES:$le_type");
-	ligne("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
-	
-	ligne ("END:VEVENT");
-	
-}
-
-// todo
-$result_messages=spip_query("SELECT messages.* FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE lien.id_auteur='$id_utilisateur' AND lien.id_message=messages.id_message AND messages.type='pb' AND messages.rv!='oui' AND messages.statut='publie' GROUP BY messages.id_message ORDER BY messages.date_heure");
-while($row=spip_fetch_array($result_messages)){
-	$id_message=$row['id_message'];
-	$date_heure=$row["date_heure"];
-	$titre = $row["titre"];
-	$texte = $row["texte"];
-	$type=$row["type"];
-
-	if ($type == 'normal') {
-		$le_type = _T('info_message_2');
-		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
-		while($row_auteur=spip_fetch_array($result_auteurs)){
-			$id_auteur=$row_auteur['id_auteur'];
-			$nom_auteur=$row_auteur['nom'];
-			$email = $row_auteur ['email'];
-
-			if ($id_auteur != $id_utilisateur) $titre = $titre." - ".$nom_auteur;
-			
-			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
-			else  ligne ("ATTENDEE:$nom_auteur <$email>");
-		}
-	}
-	else if ($type == 'pb') {
-		$le_type = _T('info_pense_bete');
-	}
-	else if ($type == 'affich') {
-		$le_type = _T('info_annonce');
-		$titre = "[$nom_site] $titre";
-	}
-	
-	ligne ("BEGIN:VTODO");
-	ligne ("SUMMARY:".$titre);
-	ligne ("DESCRIPTION:$texte");
-	ligne ("UID:mess$id_message @ $adresse_site");
-	ligne ("DTSTAMP:".date_ical($date_heure));
-	ligne ("DTSTART:".date_ical($date_heure));
-	ligne ("CATEGORIES:$le_type");
-	ligne ("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
-	ligne ("END:VTODO");
-
-}
-
-// Articles et breves proposes
-$titres = Array();
-$result_articles = spip_query("SELECT id_article, titre, date FROM spip_articles WHERE statut = 'prop'");
-while($row=spip_fetch_array($result_articles)){
-	$id_article=$row['id_article'];
-	$titre = supprimer_numero($row['titre']);
-	$titres[] = $titre;
-	$date_heure = $row['date'];
-	$nb_articles ++;
-	ligne ("BEGIN:VEVENT");
-	ligne ("SUMMARY:[$nom_site] $titre ("._T('info_article_propose').")");
-	ligne ("UID:article$id_article @ $adresse_site");
-	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("DTSTART;VALUE=DATE:".date ("Ymd", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("CATEGORIES:"._T('info_article_propose'));
-	ligne("URL:$adresse_site/ecrire/articles.php3?id_article=$id_article");
-	ligne ("END:VEVENT");
-}
-
-$result_articles = spip_query("SELECT id_breve, titre, date_heure FROM spip_breves WHERE statut = 'prop'");
-while($row=spip_fetch_array($result_articles)){
-	$id_breve=$row['id_breve'];
-	$titre = supprimer_numero($row['titre']);
-	$titres[] = $titre;
-	$date_heure = $row['date_heure'];
-	$nb_breves++;
-	ligne ("BEGIN:VEVENT");
-	ligne ("SUMMARY:[$nom_site] $titre ("._T('item_breve_proposee').")");
-	ligne ("UID:breve$id_breve @ $adresse_site");
-	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("DTSTART;VALUE=DATE:".date ("Ymd", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("CATEGORIES:"._T('item_breve_proposee'));
-	ligne ("URL:$adresse_site/ecrire/breves_voir.php3?id_breve=$id_breve");
-	ligne ("END:VEVENT");
-
-}
-
-if ($nb_articles + $nb_breves > 0) {
-	if ($nb_articles > 0) $titre_prop[] = _T('info_articles_proposes').": ".$nb_articles;
-	if ($nb_breves > 0) $titre_prop[] = _T('info_breves_valider').": ".$nb_breves;
-	$titre = join($titre_prop," / ");
-	ligne ("BEGIN:VTODO");
-	ligne ("SUMMARY:[$nom_site] $titre");
-	ligne ("UID:prop @ $adresse_site");
-	$texte = join($titres," / ");
-	ligne ("DESCRIPTION:$texte");
-	
-	$today=getdate(time());
-	$jour = $today["mday"];
-	$mois=$today["mon"];
-	$annee=$today["year"];
-	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
-	ligne ("DTSTART:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
-	ligne ("CATEGORIES:"._T('icone_a_suivre'));
-	ligne ("URL:$adresse_site/ecrire/");
-	ligne ("END:VTODO");
-}
-
-
-// Nouveaux messages
-
-$result_messages = spip_query("SELECT * FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE lien.id_auteur=$id_utilisateur AND vu='non' AND statut='publie' AND type='normal' AND lien.id_message=messages.id_message");
-while($row=spip_fetch_array($result_messages)){
-	$id_message=$row['id_message'];
-	$date_heure=$row["date_heure"];
-	$titre = $row["titre"];
-	$texte = $row["texte"];
-	$type=$row["type"];
-
-	if ($type == 'normal') {
-		$le_type = _T('info_message_2');
-		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
-		while($row_auteur=spip_fetch_array($result_auteurs)){
-			$id_auteur=$row_auteur['id_auteur'];
-			$nom_auteur = $row_auteur['nom'];
-			$email = $row_auteur ['email'];
-
-			if ($id_auteur != $id_utilisateur) $titre = $nom_auteur." - ".$titre;
-			
-			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
-			else  ligne ("ATTENDEE:$nom_auteur <$email>");
-		}
-		$query_forum = "SELECT * FROM spip_forum WHERE statut='perso' AND id_message='$id_message' ORDER BY date_heure DESC LIMIT 0,1";
-		$result_forum = spip_query($query_forum);
-		if ($row_forum = spip_fetch_array($result_forum)) {
-			$date_heure = $row_forum["date_heure"];
-			$texte = $row_forum["texte"];
-			$titre = $row_forum["titre"];
-			$id_auteur = $row_forum["id_auteur"];
-
-			$result_auteurs2 = spip_query("SELECT * FROM spip_auteurs WHERE id_auteur = $id_auteur");
-			if ($row_auteur2 = spip_fetch_array($result_auteurs2)){
-				$nom_auteur = $row_auteur2['nom'];
-				$email = $row_auteur2 ['email'];
-				
-				$titre = $nom_auteur." - ".$titre;
-			}
-		}
-	}
-	else if ($type == 'pb') {
-		$le_type = _T('info_pense_bete');
-	}
-	else if ($type == 'affich') {
-		$le_type = _T('info_annonce');
-		$titre = "[$nom_site] $titre";
-	}
-
-	
-	
-	ligne ("BEGIN:VTODO");
-	ligne ("SUMMARY:".$titre);
-	ligne ("DESCRIPTION:$texte");
-	ligne ("UID:nouv_mess$id_message @ $adresse_site");
-	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("DTSTART:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-	ligne ("CATEGORIES:$le_type");
-	ligne("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
-	ligne ("END:VTODO");
-	
-}
-
-// Messages de forum a valider
-if ($statut_utilisateur == "0minirezo") {
-
-	$query_forum = "SELECT * FROM spip_forum WHERE statut = 'prop'";
-	$result_forum = spip_query($query_forum);
-
-	while($row=spip_fetch_array($result_forum)){
-		$nb_forum ++;
-	
-		$id_forum=$row['id_forum'];
-		$date_heure = $row['date_heure'];
-		$titre = $row['titre'];
-		$texte = $row['texte'];
-		$auteur = $row['auteur'];
-		$email_auteur = $row['email_auteur'];
-		if ($email_auteur) $email_auteur = "<$email_auteur>";
-		
-		ligne ("BEGIN:VEVENT");
-		ligne ("SUMMARY:[$nom_site] $titre "._T('icone_forum_suivi'));
-		ligne ("DESCRIPTION:$texte\r$auteur $email_auteur");
-		ligne ("UID:forum$id_forum @ $adresse_site");
-		ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-		ligne ("DTSTART:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
-		ligne ("DTEND:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure)+60,0,mois($date_heure),jour($date_heure),annee($date_heure))));
-		ligne ("CATEGORIES:"._T('icone_forum_suivi'));
-		ligne("URL:$adresse_site/ecrire/controle_forum.php3");
-		ligne ("END:VEVENT");
-
-
-		
-	}
-
-	if ($nb_forum > 0) {
-		ligne ("BEGIN:VTODO");
-		ligne ("SUMMARY:[$nom_site] "._T('icone_forum_suivi').": $nb_forum");
-		ligne ("UID:forum @ $adresse_site");
-		
-		$today=getdate(time());
-		$jour = $today["mday"];
-		$mois=$today["mon"];
-		$annee=$today["year"];
-		ligne ("DTSTAMP:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
-		ligne ("DTSTART:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
-		ligne ("CATEGORIES:"._T('icone_forum_suivi'));
-		ligne("URL:$adresse_site/ecrire/controle_forum.php3");
-		ligne ("END:VTODO");
-	}
-}
-
-
-
-
-ligne ("END:VCALENDAR");
-
-
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+include ("ecrire/inc_version.php3");
+
+include_ecrire("inc_filtres.php3");
+include_ecrire("inc_lang.php3");
+include_ecrire("inc_texte.php3");
+include_ecrire("inc_charsets.php3");
+include_ecrire("inc_meta.php3");
+include_ecrire("inc_admin.php3");
+include_ecrire("inc_acces.php3");
+
+/*
+function ligne_x ($texte) {
+	if (ereg("^BEGIN", $texte)) echo "<br>";
+	echo $texte."<br>";
+}
+*/
+function ligne ($texte) {
+	echo filtrer_ical($texte)."\n";
+}
+
+$nom_site = lire_meta("nom_site");
+$adresse_site = lire_meta("adresse_site");
+
+// securite
+unset($id_utilisateur);
+$id_auteur = intval($id);
+
+// verifier la cle
+if (verifier_low_sec($id_auteur, $cle, 'ical')) {
+	$query = "SELECT * FROM spip_auteurs WHERE id_auteur=$id_auteur";
+	$result = spip_query($query);
+
+	if ($row = spip_fetch_array($result)) {
+		$id_utilisateur=$row['id_auteur'];
+		$nom_utilisateur=$row['nom'];
+		$statut_utilisateur=$row['statut'];
+		$langue_utilisateur=$row['lang'];
+	}
+}
+if (!$id_utilisateur) {
+	echo _T('info_acces_interdit');
+	exit;
+}
+
+lang_select($langue_utilisateur);
+
+ at header("content-type:text/calendar; charset=utf-8");
+
+ligne ("BEGIN:VCALENDAR");
+ligne ("CALSCALE:GREGORIAN");
+ligne ("X-WR-CALNAME;VALUE=TEXT:$nom_site / $nom_utilisateur");
+ligne ("X-WR-RELCALID:cal$id_utilisateur @ $adresse_site");
+
+
+// rendez-vous
+$result_messages=spip_query("SELECT messages.* FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE ((lien.id_auteur='$id_utilisateur' AND lien.id_message=messages.id_message) OR messages.type='affich') AND messages.rv='oui' AND messages.statut='publie' GROUP BY messages.id_message ORDER BY messages.date_heure");
+while($row=spip_fetch_array($result_messages)){
+	$id_message=$row['id_message'];
+	$date_heure=$row["date_heure"];
+	$date_heure_fin=$row["date_fin"];
+	//$titre=typo($row["titre"]);
+	$titre = $row["titre"];
+	$texte = $row["texte"];
+	$type=$row["type"];
+
+	if ($type == 'normal') {
+		$le_type = _T('info_message_2');
+		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
+		while($row_auteur=spip_fetch_array($result_auteurs)){
+			$id_auteur=$row_auteur['id_auteur'];
+			$nom_auteur=$row_auteur['nom'];
+			$email = $row_auteur ['email'];
+
+			if ($id_auteur != $id_utilisateur) $titre = $titre." - ".$nom_auteur;
+			
+			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
+			else  ligne ("ATTENDEE:$nom_auteur <$email>");
+		}
+	}
+	else if ($type == 'pb') {
+		$le_type = _T('info_pense_bete');
+	}
+	else if ($type == 'affich') {
+		$le_type = _T('info_annonce');
+		$titre = "[$nom_site] $titre";
+	}
+
+	ligne ("BEGIN:VEVENT");
+	ligne ("SUMMARY:".$titre);
+	ligne ("DESCRIPTION:$texte");
+	ligne ("UID:mess$id_message @ $adresse_site");
+	ligne ("DTSTAMP:".date_ical($date_heure));
+	ligne ("DTSTART:".date_ical($date_heure));
+	if ($date_heure_fin > $date_heure) ligne ("DTEND:".date_ical($date_heure_fin));
+
+	ligne ("CATEGORIES:$le_type");
+	ligne("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
+	
+	ligne ("END:VEVENT");
+	
+}
+
+// todo
+$result_messages=spip_query("SELECT messages.* FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE lien.id_auteur='$id_utilisateur' AND lien.id_message=messages.id_message AND messages.type='pb' AND messages.rv!='oui' AND messages.statut='publie' GROUP BY messages.id_message ORDER BY messages.date_heure");
+while($row=spip_fetch_array($result_messages)){
+	$id_message=$row['id_message'];
+	$date_heure=$row["date_heure"];
+	$titre = $row["titre"];
+	$texte = $row["texte"];
+	$type=$row["type"];
+
+	if ($type == 'normal') {
+		$le_type = _T('info_message_2');
+		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
+		while($row_auteur=spip_fetch_array($result_auteurs)){
+			$id_auteur=$row_auteur['id_auteur'];
+			$nom_auteur=$row_auteur['nom'];
+			$email = $row_auteur ['email'];
+
+			if ($id_auteur != $id_utilisateur) $titre = $titre." - ".$nom_auteur;
+			
+			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
+			else  ligne ("ATTENDEE:$nom_auteur <$email>");
+		}
+	}
+	else if ($type == 'pb') {
+		$le_type = _T('info_pense_bete');
+	}
+	else if ($type == 'affich') {
+		$le_type = _T('info_annonce');
+		$titre = "[$nom_site] $titre";
+	}
+	
+	ligne ("BEGIN:VTODO");
+	ligne ("SUMMARY:".$titre);
+	ligne ("DESCRIPTION:$texte");
+	ligne ("UID:mess$id_message @ $adresse_site");
+	ligne ("DTSTAMP:".date_ical($date_heure));
+	ligne ("DTSTART:".date_ical($date_heure));
+	ligne ("CATEGORIES:$le_type");
+	ligne ("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
+	ligne ("END:VTODO");
+
+}
+
+// Articles et breves proposes
+$titres = Array();
+$result_articles = spip_query("SELECT id_article, titre, date FROM spip_articles WHERE statut = 'prop'");
+while($row=spip_fetch_array($result_articles)){
+	$id_article=$row['id_article'];
+	$titre = supprimer_numero($row['titre']);
+	$titres[] = $titre;
+	$date_heure = $row['date'];
+	$nb_articles ++;
+	ligne ("BEGIN:VEVENT");
+	ligne ("SUMMARY:[$nom_site] $titre ("._T('info_article_propose').")");
+	ligne ("UID:article$id_article @ $adresse_site");
+	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("DTSTART;VALUE=DATE:".date ("Ymd", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("CATEGORIES:"._T('info_article_propose'));
+	ligne("URL:$adresse_site/ecrire/articles.php3?id_article=$id_article");
+	ligne ("END:VEVENT");
+}
+
+$result_articles = spip_query("SELECT id_breve, titre, date_heure FROM spip_breves WHERE statut = 'prop'");
+while($row=spip_fetch_array($result_articles)){
+	$id_breve=$row['id_breve'];
+	$titre = supprimer_numero($row['titre']);
+	$titres[] = $titre;
+	$date_heure = $row['date_heure'];
+	$nb_breves++;
+	ligne ("BEGIN:VEVENT");
+	ligne ("SUMMARY:[$nom_site] $titre ("._T('item_breve_proposee').")");
+	ligne ("UID:breve$id_breve @ $adresse_site");
+	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("DTSTART;VALUE=DATE:".date ("Ymd", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("CATEGORIES:"._T('item_breve_proposee'));
+	ligne ("URL:$adresse_site/ecrire/breves_voir.php3?id_breve=$id_breve");
+	ligne ("END:VEVENT");
+
+}
+
+if ($nb_articles + $nb_breves > 0) {
+	if ($nb_articles > 0) $titre_prop[] = _T('info_articles_proposes').": ".$nb_articles;
+	if ($nb_breves > 0) $titre_prop[] = _T('info_breves_valider').": ".$nb_breves;
+	$titre = join($titre_prop," / ");
+	ligne ("BEGIN:VTODO");
+	ligne ("SUMMARY:[$nom_site] $titre");
+	ligne ("UID:prop @ $adresse_site");
+	$texte = join($titres," / ");
+	ligne ("DESCRIPTION:$texte");
+	
+	$today=getdate(time());
+	$jour = $today["mday"];
+	$mois=$today["mon"];
+	$annee=$today["year"];
+	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
+	ligne ("DTSTART:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
+	ligne ("CATEGORIES:"._T('icone_a_suivre'));
+	ligne ("URL:$adresse_site/ecrire/");
+	ligne ("END:VTODO");
+}
+
+
+// Nouveaux messages
+
+$result_messages = spip_query("SELECT * FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE lien.id_auteur=$id_utilisateur AND vu='non' AND statut='publie' AND type='normal' AND lien.id_message=messages.id_message");
+while($row=spip_fetch_array($result_messages)){
+	$id_message=$row['id_message'];
+	$date_heure=$row["date_heure"];
+	$titre = $row["titre"];
+	$texte = $row["texte"];
+	$type=$row["type"];
+
+	if ($type == 'normal') {
+		$le_type = _T('info_message_2');
+		$result_auteurs=spip_query("SELECT auteurs.* FROM spip_auteurs AS auteurs, spip_auteurs_messages AS lien WHERE (lien.id_message='$id_message' AND lien.id_auteur=auteurs.id_auteur)");
+		while($row_auteur=spip_fetch_array($result_auteurs)){
+			$id_auteur=$row_auteur['id_auteur'];
+			$nom_auteur = $row_auteur['nom'];
+			$email = $row_auteur ['email'];
+
+			if ($id_auteur != $id_utilisateur) $titre = $nom_auteur." - ".$titre;
+			
+			if ($id_auteur == $id_utilisateur) ligne ("ORGANIZER:$nom_auteur <$email>");
+			else  ligne ("ATTENDEE:$nom_auteur <$email>");
+		}
+		$query_forum = "SELECT * FROM spip_forum WHERE statut='perso' AND id_message='$id_message' ORDER BY date_heure DESC LIMIT 0,1";
+		$result_forum = spip_query($query_forum);
+		if ($row_forum = spip_fetch_array($result_forum)) {
+			$date_heure = $row_forum["date_heure"];
+			$texte = $row_forum["texte"];
+			$titre = $row_forum["titre"];
+			$id_auteur = $row_forum["id_auteur"];
+
+			$result_auteurs2 = spip_query("SELECT * FROM spip_auteurs WHERE id_auteur = $id_auteur");
+			if ($row_auteur2 = spip_fetch_array($result_auteurs2)){
+				$nom_auteur = $row_auteur2['nom'];
+				$email = $row_auteur2 ['email'];
+				
+				$titre = $nom_auteur." - ".$titre;
+			}
+		}
+	}
+	else if ($type == 'pb') {
+		$le_type = _T('info_pense_bete');
+	}
+	else if ($type == 'affich') {
+		$le_type = _T('info_annonce');
+		$titre = "[$nom_site] $titre";
+	}
+
+	
+	
+	ligne ("BEGIN:VTODO");
+	ligne ("SUMMARY:".$titre);
+	ligne ("DESCRIPTION:$texte");
+	ligne ("UID:nouv_mess$id_message @ $adresse_site");
+	ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("DTSTART:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+	ligne ("CATEGORIES:$le_type");
+	ligne("URL:$adresse_site/ecrire/message.php3?id_message=$id_message");
+	ligne ("END:VTODO");
+	
+}
+
+// Messages de forum a valider
+if ($statut_utilisateur == "0minirezo") {
+
+	$query_forum = "SELECT * FROM spip_forum WHERE statut = 'prop'";
+	$result_forum = spip_query($query_forum);
+
+	while($row=spip_fetch_array($result_forum)){
+		$nb_forum ++;
+	
+		$id_forum=$row['id_forum'];
+		$date_heure = $row['date_heure'];
+		$titre = $row['titre'];
+		$texte = $row['texte'];
+		$auteur = $row['auteur'];
+		$email_auteur = $row['email_auteur'];
+		if ($email_auteur) $email_auteur = "<$email_auteur>";
+		
+		ligne ("BEGIN:VEVENT");
+		ligne ("SUMMARY:[$nom_site] $titre "._T('icone_forum_suivi'));
+		ligne ("DESCRIPTION:$texte\r$auteur $email_auteur");
+		ligne ("UID:forum$id_forum @ $adresse_site");
+		ligne ("DTSTAMP:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+		ligne ("DTSTART:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure),0,mois($date_heure),jour($date_heure),annee($date_heure))));
+		ligne ("DTEND:".date ("Ymd\THis", mktime (heures($date_heure),minutes($date_heure)+60,0,mois($date_heure),jour($date_heure),annee($date_heure))));
+		ligne ("CATEGORIES:"._T('icone_forum_suivi'));
+		ligne("URL:$adresse_site/ecrire/controle_forum.php3");
+		ligne ("END:VEVENT");
+
+
+		
+	}
+
+	if ($nb_forum > 0) {
+		ligne ("BEGIN:VTODO");
+		ligne ("SUMMARY:[$nom_site] "._T('icone_forum_suivi').": $nb_forum");
+		ligne ("UID:forum @ $adresse_site");
+		
+		$today=getdate(time());
+		$jour = $today["mday"];
+		$mois=$today["mon"];
+		$annee=$today["year"];
+		ligne ("DTSTAMP:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
+		ligne ("DTSTART:".date ("Ymd\THis", mktime (12,0,0,$mois,$jour,$annee)));
+		ligne ("CATEGORIES:"._T('icone_forum_suivi'));
+		ligne("URL:$adresse_site/ecrire/controle_forum.php3");
+		ligne ("END:VTODO");
+	}
+}
+
+
+
+
+ligne ("END:VCALENDAR");
+
+
 ?>

Index: sommaire.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/sommaire.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- sommaire.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ sommaire.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,7 +1,7 @@
-<?php
-$fond = "sommaire";
-$delais = 2 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "sommaire";
+$delais = 2 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/index.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- index.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ index.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1 +1 @@
-<?php include ("sommaire.php3"); ?>
+<?php include ("sommaire.php3"); ?>

Index: inc-public.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-public.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-public.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-public.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,87 +1,98 @@
-<?php
-
-// Distinguer une inclusion d'un appel initial
-if (defined("_INC_PUBLIC")) {
-	$page = inclure_page($fond, $delais, $contexte_inclus);
-	if ($page['process_ins'] == 'html')
-		echo $page['texte'];
-	else
-		eval('?' . '>' . $page['texte']);
-
-	if ($page['lang_select'])
-		lang_dselect();
-
-} else {
-	define ("_INC_PUBLIC", 1);
-	include ("ecrire/inc_version.php3");
-	include_local('inc-public-global.php3');
-
-	// Calculer la page sans evaluer le php qu'elle contient
-	$page = calcule_header_et_page ($fond, $delais);
-
-	// Execution de la page calculee
-
-	// 1. Cas d'une page contenant uniquement du HTML :
-	if ($page['process_ins'] == 'html') {
-		$page = $page['texte'];
-	}
-
-	// 2. Cas d'une page contenant du PHP :
-	// Attention cette partie eval() doit imperativement
-	// etre declenchee dans l'espace des globales (donc pas
-	// dans une fonction).
-	else {
-	
-		// Une page "normale" va s'afficher ici
-		if (!($flag_ob AND ($var_mode == 'debug'
-		OR $var_recherche OR $affiche_boutons_admin))) {
-			eval('?' . '>' . $page['texte']);
-			$page = '';
-		}
-
-		// Certains cas demandent un ob_start() de plus
-		else {
-			ob_start(); 
-			$res = eval('?' . '>' . $page['texte']);
-			$page = ob_get_contents(); 
-			ob_end_clean();
-
-			// en cas d'erreur lors du eval,
-			// la memoriser dans le tableau des erreurs
-			// On ne revient pas ici si le nb d'erreurs > 4
-			if ($res === false AND $affiche_boutons_admin
-			AND $auteur_session['statut'] == '0minirezo') {
-				include_ecrire('inc_debug_sql.php3');
-				erreur_squelette(_T('zbug_erreur_execution_page'));
-			}
-		}
-	}
-
-	// Passer la main au debuggueur le cas echeant 
-	if ($var_mode == 'debug') {
-		include_ecrire("inc_debug_sql.php3");
-		debug_dumpfile('',$var_mode_objet,$var_mode_affiche);
-	} 
-	if (count($tableau_des_erreurs) > 0 AND $affiche_boutons_admin)
-	  $page = affiche_erreurs_page($tableau_des_erreurs) . $page;
-
-	// Traiter var_recherche pour surligner les mots
-	if ($var_recherche) {
-		include_ecrire("inc_surligne.php3");
-		$page = surligner_mots($page, $var_recherche);
-	}
-
-	// Inserer au besoin les boutons admins
-	if ($affiche_boutons_admin) {
-		include_local("inc-admin.php3");
-		$page = affiche_boutons_admin($page);
-	}
-
-	// Affichage final s'il en reste
-	echo $page;
-
-	// Taches de fond ?
-	terminer_public_global();
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// Distinguer une inclusion d'un appel initial
+if (defined("_INC_PUBLIC")) {
+	$page = inclure_page($fond, $delais, $contexte_inclus);
+	if ($page['process_ins'] == 'html')
+		echo $page['texte'];
+	else
+		eval('?' . '>' . $page['texte']);
+
+	if ($page['lang_select'])
+		lang_dselect();
+
+} else {
+	define ("_INC_PUBLIC", 1);
+	include ("ecrire/inc_version.php3");
+	include_local('inc-public-global.php3');
+
+	// Calculer la page sans evaluer le php qu'elle contient
+	$page = calcule_header_et_page ($fond, $delais);
+
+	// Execution de la page calculee
+
+	// 1. Cas d'une page contenant uniquement du HTML :
+	if ($page['process_ins'] == 'html') {
+		$page = $page['texte'];
+	}
+
+	// 2. Cas d'une page contenant du PHP :
+	// Attention cette partie eval() doit imperativement
+	// etre declenchee dans l'espace des globales (donc pas
+	// dans une fonction).
+	else {
+	
+		// Une page "normale" va s'afficher ici
+		if (!($flag_ob AND ($var_mode == 'debug'
+		OR $var_recherche OR $affiche_boutons_admin))) {
+			eval('?' . '>' . $page['texte']);
+			$page = '';
+		}
+
+		// Certains cas demandent un ob_start() de plus
+		else {
+			ob_start(); 
+			$res = eval('?' . '>' . $page['texte']);
+			$page = ob_get_contents(); 
+			ob_end_clean();
+
+			// en cas d'erreur lors du eval,
+			// la memoriser dans le tableau des erreurs
+			// On ne revient pas ici si le nb d'erreurs > 4
+			if ($res === false AND $affiche_boutons_admin
+			AND $auteur_session['statut'] == '0minirezo') {
+				include_ecrire('inc_debug_sql.php3');
+				erreur_squelette(_T('zbug_erreur_execution_page'));
+			}
+		}
+	}
+
+	// Passer la main au debuggueur le cas echeant 
+	if ($var_mode == 'debug') {
+		include_ecrire("inc_debug_sql.php3");
+		debug_dumpfile('',$var_mode_objet,$var_mode_affiche);
+	} 
+	if (count($tableau_des_erreurs) > 0 AND $affiche_boutons_admin)
+		$page = affiche_erreurs_page($tableau_des_erreurs) . $page;
+
+	// Traiter var_recherche pour surligner les mots
+	if ($var_recherche) {
+		include_ecrire("inc_surligne.php3");
+		$page = surligner_mots($page, $var_recherche);
+	}
+
+	// Inserer au besoin les boutons admins
+	if ($affiche_boutons_admin) {
+		include_local("inc-admin.php3");
+		$page = affiche_boutons_admin($page);
+	}
+
+	// Affichage final s'il en reste
+	echo $page;
+
+	// Taches de fond ?
+	terminer_public_global();
+}
+
+?>

Index: typographie.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/typographie.css,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- typographie.css	8 Feb 2005 15:10:11 -0000	1.2
+++ typographie.css	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,100 +1,100 @@
-
-/*
- * Correction des styles HTML par defaut
- */
-
-.structure {
-	display: none;
-}
-h1,h2,h3,h4 {
-	margin-top: 0em;
-	margin-bottom: 0em;
-	font-size: 100%;
-	font-weight: normal;
-}
-
-/*
- * Styles generaux
- */
-
-/* bien regler la marge (bugs IE) */
-body { background: white; margin: 10px; }
-a { text-decoration: none; color: #505050; }
-a:hover { text-decoration: none; color: #303030; background: #e8e8e8; }
-a.spip_out { text-decoration: none; color: #a02020; }
-a.spip_in, a.spip_url { text-decoration: none; color: #2020a0; }
-a.spip_glossaire { text-decoration: none; color: #20a020; }
-
-.chapo {
-	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
-	font-weight: bold;
-	text-align: justify;
-	font-size: 105%;
-}
-.texte, .texte p.spip {
-	font-family: Georgia, Garamond, Times, serif;
-	text-align: justify;
-}
-.ps {
-	font-family: Georgia, Garamond, Times, serif;
-	text-align: justify;
-	font-size: 85%;
-}
-.notes {
-	font-family: Georgia, Garamond, Times, serif;
-	text-align: left;
-	font-size: 80%;
-}
-
-/*
- * Ici les styles pour le contenu
- */
-
-.contenu h1,h2 {
-	font-size: 120%;
-	font-weight: bold;
-}
-.contenu h1,h2.titre-extrait {
-	font-size: 160%;
-	font-weight: bold;
-}
-.contenu h1,h2.titre-texte {
-	font-size: 190%;
-	font-weight: bold;
-}
-.contenu .surtitre {
-	font-size: 110%;
-	font-weight: bold;
-	font-variant: small-caps;
-}
-.contenu .detail {
-	font-size: 80%;
-	color: #303030;
-}
-.extrait {
-	border: groove 2px #a0a0a0;
-	padding: 1em;
-	font-size: 85%;
-}
-
-
-/*
- * Disposition a l'ecran
- */
-
-#principal {
-	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
-}
-
-#plan {
-	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
-}
-
-#navigation {
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-}
-
-.encart {
-	font-family: Verdana, Arial, Helvetica, sans-serif;
-}
-
+
+/*
+ * Correction des styles HTML par defaut
+ */
+
+.structure {
+	display: none;
+}
+h1,h2,h3,h4 {
+	margin-top: 0em;
+	margin-bottom: 0em;
+	font-size: 100%;
+	font-weight: normal;
+}
+
+/*
+ * Styles generaux
+ */
+
+/* bien regler la marge (bugs IE) */
+body { background: white; margin: 10px; }
+a { text-decoration: none; color: #505050; }
+a:hover { text-decoration: none; color: #303030; background: #e8e8e8; }
+a.spip_out { text-decoration: none; color: #a02020; }
+a.spip_in, a.spip_url { text-decoration: none; color: #2020a0; }
+a.spip_glossaire { text-decoration: none; color: #20a020; }
+
+.chapo {
+	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
+	font-weight: bold;
+	text-align: justify;
+	font-size: 105%;
+}
+.texte, .texte p.spip {
+	font-family: Georgia, Garamond, Times, serif;
+	text-align: justify;
+}
+.ps {
+	font-family: Georgia, Garamond, Times, serif;
+	text-align: justify;
+	font-size: 85%;
+}
+.notes {
+	font-family: Georgia, Garamond, Times, serif;
+	text-align: left;
+	font-size: 80%;
+}
+
+/*
+ * Ici les styles pour le contenu
+ */
+
+.contenu h1,h2 {
+	font-size: 120%;
+	font-weight: bold;
+}
+.contenu h1,h2.titre-extrait {
+	font-size: 160%;
+	font-weight: bold;
+}
+.contenu h1,h2.titre-texte {
+	font-size: 190%;
+	font-weight: bold;
+}
+.contenu .surtitre {
+	font-size: 110%;
+	font-weight: bold;
+	font-variant: small-caps;
+}
+.contenu .detail {
+	font-size: 80%;
+	color: #303030;
+}
+.extrait {
+	border: groove 2px #a0a0a0;
+	padding: 1em;
+	font-size: 85%;
+}
+
+
+/*
+ * Disposition a l'ecran
+ */
+
+#principal {
+	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
+}
+
+#plan {
+	font-family: "Trebuchet MS", Tahoma, Arial, Helvetica, sans-serif;
+}
+
+#navigation {
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+}
+
+.encart {
+	font-family: Verdana, Arial, Helvetica, sans-serif;
+}
+

Index: spip_pass.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_pass.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_pass.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_pass.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,73 +1,84 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-include_ecrire("inc_presentation.php3"); # pour install_debut
-include_ecrire("inc_session.php3"); # pour creer_uniq_id
-include_ecrire("inc_mail.php3"); # pour envoyer_mail
-include_ecrire("inc_acces.php3"); # pour generer_htpass
-include_local("inc-public-global.php3"); # pour calculer la page
-include_local ("inc-cache.php3"); # ici c'est pour tester la connexion SQL
-
-// Ce fichier est celui d'une balise dynamique qui s'ignore.
-
-function formulaire_oubli_dyn($p, $oubli)
-{
-
-$message = '';
-
-// au 3e appel la variable P est positionnee par le script lui-meme
-// et oubli = mot passe. Le choix du nom P est impose par pass_mail_passcookie
-if ($p = addslashes($p)) {
-	$res = spip_query("SELECT * FROM spip_auteurs WHERE cookie_oubli='$p' AND statut<>'5poubelle' AND pass<>''");
-	if (!$row = spip_fetch_array($res)) 
-		$message = _T('pass_erreur_code_inconnu');
-	else {
-		if ($oubli) {
-			$mdpass = md5($oubli);
-			$htpass = generer_htpass($oubli);
-			spip_query("UPDATE spip_auteurs SET htpass='$htpass', pass='$mdpass', alea_actuel='',
-				cookie_oubli='' WHERE cookie_oubli='$p'");
-
-			$login = $row['login'];
-			$message = "<b>" . _T('pass_nouveau_enregistre') . "</b>".
-			"<p>" . _T('pass_rappel_login', array('login' => $login));
-		}
-	}
- } else { 
-  // si p absent, oubli vaut alors le mail au 2e appel, vide au 1e
-  if ($oubli) {
-	if ( email_valide($oubli) ) {
-		$email = addslashes($oubli);
-		$res = spip_query("SELECT * FROM spip_auteurs WHERE email ='$email'");
-		if ($row = spip_fetch_array($res)) {
-			if ($row['statut'] == '5poubelle' OR $row['pass'] == '')
-				$message = _T('pass_erreur_acces_refuse');
-			else {
-				$cookie = creer_uniqid();
-				spip_query("UPDATE spip_auteurs SET cookie_oubli = '$cookie' WHERE email ='$email'");
-
-				if ( envoyer_mail($email,
-						 "[" . lire_meta("nom_site") .'] ' .  _T('pass_oubli_mot'),
-						 _T('pass_mail_passcookie',
-						    array('nom_site_spip' => lire_meta("nom_site"),
-							  'adresse_site' => lire_meta("adresse_site"), 
-							  'cookie' => $cookie))))
-					$message = _T('pass_recevoir_mail');
-				else
-					$message = _T('pass_erreur_probleme_technique');
-			}
-		}
-		else
-			$message = _T('pass_erreur_non_enregistre', array('email_oubli' => htmlspecialchars($oubli)));
-	} else {
-		$message = _T('pass_erreur_non_valide', array('email_oubli' => htmlspecialchars($oubli)));
-	}
-  }
- }
- return array('formulaire_oubli', 0, array('p' => $p, 'message' => $message));
-}
-
-install_debut_html(_T('pass_mot_oublie'));
-inclure_balise_dynamique(formulaire_oubli_dyn($p, $oubli));
-install_fin_html();
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+include ("ecrire/inc_version.php3");
+include_ecrire("inc_presentation.php3"); # pour install_debut
+include_ecrire("inc_session.php3"); # pour creer_uniq_id
+include_ecrire("inc_mail.php3"); # pour envoyer_mail
+include_ecrire("inc_acces.php3"); # pour generer_htpass
+include_local("inc-public-global.php3"); # pour calculer la page
+include_local ("inc-cache.php3"); # ici c'est pour tester la connexion SQL
+
+// Ce fichier est celui d'une balise dynamique qui s'ignore.
+
+function formulaire_oubli_dyn($p, $oubli)
+{
+
+$message = '';
+
+// au 3e appel la variable P est positionnee par le script lui-meme
+// et oubli = mot passe. Le choix du nom P est impose par pass_mail_passcookie
+if ($p = addslashes($p)) {
+	$res = spip_query("SELECT * FROM spip_auteurs WHERE cookie_oubli='$p' AND statut<>'5poubelle' AND pass<>''");
+	if (!$row = spip_fetch_array($res)) 
+		$message = _T('pass_erreur_code_inconnu');
+	else {
+		if ($oubli) {
+			$mdpass = md5($oubli);
+			$htpass = generer_htpass($oubli);
+			spip_query("UPDATE spip_auteurs SET htpass='$htpass', pass='$mdpass', alea_actuel='',
+				cookie_oubli='' WHERE cookie_oubli='$p'");
+
+			$login = $row['login'];
+			$message = "<b>" . _T('pass_nouveau_enregistre') . "</b>".
+			"<p>" . _T('pass_rappel_login', array('login' => $login));
+		}
+	}
+ } else { 
+  // si p absent, oubli vaut alors le mail au 2e appel, vide au 1e
+  if ($oubli) {
+	if ( email_valide($oubli) ) {
+		$email = addslashes($oubli);
+		$res = spip_query("SELECT * FROM spip_auteurs WHERE email ='$email'");
+		if ($row = spip_fetch_array($res)) {
+			if ($row['statut'] == '5poubelle' OR $row['pass'] == '')
+				$message = _T('pass_erreur_acces_refuse');
+			else {
+				$cookie = creer_uniqid();
+				spip_query("UPDATE spip_auteurs SET cookie_oubli = '$cookie' WHERE email ='$email'");
+
+				if ( envoyer_mail($email,
+						 "[" . lire_meta("nom_site") .'] ' .  _T('pass_oubli_mot'),
+						 _T('pass_mail_passcookie',
+						    array('nom_site_spip' => lire_meta("nom_site"),
+							  'adresse_site' => lire_meta("adresse_site"), 
+							  'cookie' => $cookie))))
+					$message = _T('pass_recevoir_mail');
+				else
+					$message = _T('pass_erreur_probleme_technique');
+			}
+		}
+		else
+			$message = _T('pass_erreur_non_enregistre', array('email_oubli' => htmlspecialchars($oubli)));
+	} else {
+		$message = _T('pass_erreur_non_valide', array('email_oubli' => htmlspecialchars($oubli)));
+	}
+  }
+ }
+ return array('formulaire_oubli', 0, array('p' => $p, 'message' => $message));
+}
+
+install_debut_html(_T('pass_mot_oublie'));
+inclure_balise_dynamique(formulaire_oubli_dyn($p, $oubli));
+install_fin_html();
+?>

Index: spip_cache.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_cache.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_cache.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_cache.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,20 +1,31 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-
-include_ecrire("inc_meta.php3");
-include_ecrire("inc_admin.php3");
-include_local("inc-cache.php3");
-
-if ($purger_cache == "oui") {
-	if (verifier_action_auteur("purger_cache", $hash, $id_auteur))
-		purger_cache();
-}
-
-if ($purger_squelettes == "oui") {
-	if (verifier_action_auteur("purger_squelettes", $hash, $id_auteur))
-	  purger_squelettes();
-}
-redirige_par_entete($redirect);
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+include ("ecrire/inc_version.php3");
+
+include_ecrire("inc_meta.php3");
+include_ecrire("inc_admin.php3");
+include_local("inc-cache.php3");
+
+if ($purger_cache == "oui") {
+	if (verifier_action_auteur("purger_cache", $hash, $id_auteur))
+		purger_cache();
+}
+
+if ($purger_squelettes == "oui") {
+	if (verifier_action_auteur("purger_squelettes", $hash, $id_auteur))
+	  purger_squelettes();
+}
+redirige_par_entete($redirect);
+
+?>

Index: spip_background.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_background.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_background.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_background.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,22 +1,33 @@
-<?php
-
-// Du cote de la page HTML, utiliser un background-image en feuille de style
-// plutot qu'un <img>, c'est plus discret notamment sous navigateur texte
-$image = pack("H*", "47494638396118001800800000ffffff00000021f90401000000002c0000000018001800000216848fa9cbed0fa39cb4da8bb3debcfb0f86e248965301003b");
-$size = strlen($image);
-
-Header("Content-Type: image/gif");
-Header("Content-Length: ".$size);
-Header("Cache-Control: no-cache,no-store");
-Header("Pragma: no-cache");
-Header("Connection: close");
-
-echo $image;
-
-flush();
-
-include('ecrire/inc_version.php3');
-
-cron(1); // acces gourmand (on veut bosser, nous, pas comme inc-public.php3 !)
-
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// Du cote de la page HTML, utiliser un background-image en feuille de style
+// plutot qu'un <img>, c'est plus discret notamment sous navigateur texte
+$image = pack("H*", "47494638396118001800800000ffffff00000021f90401000000002c0000000018001800000216848fa9cbed0fa39cb4da8bb3debcfb0f86e248965301003b");
+$size = strlen($image);
+
+Header("Content-Type: image/gif");
+Header("Content-Length: ".$size);
+Header("Cache-Control: no-cache,no-store");
+Header("Pragma: no-cache");
+Header("Connection: close");
+
+echo $image;
+
+flush();
+
+include('ecrire/inc_version.php3');
+
+cron(1); // acces gourmand (on veut bosser, nous, pas comme inc-public.php3 !)
+
 ?>

Index: inc-urls-standard.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-urls-standard.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-urls-standard.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-urls-standard.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,82 +1,93 @@
-<?php
-
-// executer une seule fois
-if (defined("_INC_URLS2")) return;
-define("_INC_URLS2", "1");
-
-function generer_url_article($id_article) {
-	return "article.php3?id_article=$id_article";
-}
-
-function generer_url_rubrique($id_rubrique) {
-	return "rubrique.php3?id_rubrique=$id_rubrique";
-}
-
-function generer_url_breve($id_breve) {
-	return "breve.php3?id_breve=$id_breve";
-}
-
-function generer_url_mot($id_mot) {
-	return "mot.php3?id_mot=$id_mot";
-}
-
-function generer_url_auteur($id_auteur) {
-	return "auteur.php3?id_auteur=$id_auteur";
-}
-
-function generer_url_document($id_document) {
-	if (intval($id_document) <= 0)
-		return '';
-	if ((lire_meta("creer_htaccess")) == 'oui')
-		return "spip_acces_doc.php3?id_document=$id_document";
-	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
-		return ($row['fichier']);
-	return '';
-}
-
-function recuperer_parametres_url($fond, $url) {
-	global $contexte;
-	return;
-}
-
-//
-// URLs des forums
-//
-
-// a mettre dans ecrire/inc_threads.php3 avec les autres trucs de forum
-function racine_forum($id_forum){
-	if (!$id_forum = intval($id_forum)) return;
-	$query = "SELECT id_parent, id_rubrique, id_article, id_breve FROM spip_forum WHERE id_forum=".$id_forum;
-	$result = spip_query($query);
-	if($row = spip_fetch_array($result)){
-		if($row['id_parent']) {
-			return racine_forum($row['id_parent']);
-		}
-		else {
-			if($row['id_rubrique']) return array('rubrique',$row['id_rubrique'], $id_forum);
- 			if($row['id_article']) return array('article',$row['id_article'], $id_forum);
-			if($row['id_breve']) return array('breve',$row['id_breve'], $id_forum);
-		}
-	}
-} 
-
-function generer_url_forum($id_forum, $show_thread=false) {
-	list($type, $id, $id_thread) = racine_forum($id_forum);
-	if ($id_thread>0 AND $show_thread)
-		$id_forum = $id_thread;
-	switch($type) {
-		case 'article':
-			return generer_url_article($id)."#forum$id_forum";
-			break;
-		case 'breve':
-			return generer_url_breve($id)."#forum$id_forum";
-			break;
-		case 'rubrique':
-			return generer_url_rubrique($id)."#forum$id_forum";
-			break;
-		default:
-			return "forum.php3?id_forum=".$id_forum;
-	}
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// executer une seule fois
+if (defined("_INC_URLS2")) return;
+define("_INC_URLS2", "1");
+
+function generer_url_article($id_article) {
+	return "article.php3?id_article=$id_article";
+}
+
+function generer_url_rubrique($id_rubrique) {
+	return "rubrique.php3?id_rubrique=$id_rubrique";
+}
+
+function generer_url_breve($id_breve) {
+	return "breve.php3?id_breve=$id_breve";
+}
+
+function generer_url_mot($id_mot) {
+	return "mot.php3?id_mot=$id_mot";
+}
+
+function generer_url_auteur($id_auteur) {
+	return "auteur.php3?id_auteur=$id_auteur";
+}
+
+function generer_url_document($id_document) {
+	if (intval($id_document) <= 0)
+		return '';
+	if ((lire_meta("creer_htaccess")) == 'oui')
+		return "spip_acces_doc.php3?id_document=$id_document";
+	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
+		return ($row['fichier']);
+	return '';
+}
+
+function recuperer_parametres_url($fond, $url) {
+	global $contexte;
+	return;
+}
+
+//
+// URLs des forums
+//
+
+// a mettre dans ecrire/inc_threads.php3 avec les autres trucs de forum
+function racine_forum($id_forum){
+	if (!$id_forum = intval($id_forum)) return;
+	$query = "SELECT id_parent, id_rubrique, id_article, id_breve FROM spip_forum WHERE id_forum=".$id_forum;
+	$result = spip_query($query);
+	if($row = spip_fetch_array($result)){
+		if($row['id_parent']) {
+			return racine_forum($row['id_parent']);
+		}
+		else {
+			if($row['id_rubrique']) return array('rubrique',$row['id_rubrique'], $id_forum);
+ 			if($row['id_article']) return array('article',$row['id_article'], $id_forum);
+			if($row['id_breve']) return array('breve',$row['id_breve'], $id_forum);
+		}
+	}
+} 
+
+function generer_url_forum($id_forum, $show_thread=false) {
+	list($type, $id, $id_thread) = racine_forum($id_forum);
+	if ($id_thread>0 AND $show_thread)
+		$id_forum = $id_thread;
+	switch($type) {
+		case 'article':
+			return generer_url_article($id)."#forum$id_forum";
+			break;
+		case 'breve':
+			return generer_url_breve($id)."#forum$id_forum";
+			break;
+		case 'rubrique':
+			return generer_url_rubrique($id)."#forum$id_forum";
+			break;
+		default:
+			return "forum.php3?id_forum=".$id_forum;
+	}
+}
+
+?>

Index: inc-compilo.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-compilo.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-compilo.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-compilo.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,700 +1,702 @@
-<?php
-
-//
-// Fichier principal du compilateur de squelettes
-//
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_COMPILO")) return;
-define("_INC_COMPILO", "1");
-
-
[...1371 lines suppressed...]
+function $nom (\$Cache, \$Pile, \$doublons=array(), \$Numrows='', \$SP=0) {
+\$t0 = $corps;
+
+	return array(
+		'texte' => \$t0,
+		'squelette' => '$nom',
+		'process_ins' => ((strpos(\$t0,'<'.'?')=== false) ? 'html' : 'php'),
+		'invalideurs' => \$Cache
+	);
+}
+
+?".">";
+
+	if ($GLOBALS['var_mode'] == 'debug')
+		squelette_debug_compile($nom, $sourcefile, $squelette_compile);
+	return $squelette_compile;
+
+}
+
+?>

Index: inc-urls-html.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-urls-html.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-urls-html.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-urls-html.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,83 +1,94 @@
-<?php
-
-// executer une seule fois
-if (defined("_INC_URLS2")) return;
-define("_INC_URLS2", "1");
-
-function generer_url_article($id_article) {
-	return "article$id_article.html";
-}
-
-function generer_url_rubrique($id_rubrique) {
-	return "rubrique$id_rubrique.html";
-}
-
-function generer_url_breve($id_breve) {
-	return "breve$id_breve.html";
-}
-
-function generer_url_mot($id_mot) {
-	return "mot$id_mot.html";
-}
-
-function generer_url_auteur($id_auteur) {
-	return "auteur$id_auteur.html";
-}
-
-function generer_url_document($id_document) {
-	if (intval($id_document) <= 0)
-		return '';
-	if ((lire_meta("creer_htaccess")) == 'oui')
-		return "spip_acces_doc.php3?id_document=$id_document";
-	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
-		return ($row['fichier']);
-	return '';
-}
-
-function recuperer_parametres_url($fond, $url) {
-	global $contexte;
-	return;
-}
-
-
-//
-// URLs des forums
-//
-
-// a mettre dans ecrire/inc_threads.php3 avec les autres trucs de forum
-function racine_forum($id_forum){
-	if (!$id_forum = intval($id_forum)) return;
-	$query = "SELECT id_parent, id_rubrique, id_article, id_breve FROM spip_forum WHERE id_forum=".$id_forum;
-	$result = spip_query($query);
-	if($row = spip_fetch_array($result)){
-		if($row['id_parent']) {
-			return racine_forum($row['id_parent']);
-		}
-		else {
-			if($row['id_rubrique']) return array('rubrique',$row['id_rubrique'], $id_forum);
- 			if($row['id_article']) return array('article',$row['id_article'], $id_forum);
-			if($row['id_breve']) return array('breve',$row['id_breve'], $id_forum);
-		}
-	}
-} 
-
-function generer_url_forum($id_forum, $show_thread=false) {
-	list($type, $id, $id_thread) = racine_forum($id_forum);
-	if ($id_thread>0 AND $show_thread)
-		$id_forum = $id_thread;
-	switch($type) {
-		case 'article':
-			return generer_url_article($id)."#forum$id_forum";
-			break;
-		case 'breve':
-			return generer_url_breve($id)."#forum$id_forum";
-			break;
-		case 'rubrique':
-			return generer_url_rubrique($id)."#forum$id_forum";
-			break;
-		default:
-			return "forum$id_forum.html";
-	}
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// executer une seule fois
+if (defined("_INC_URLS2")) return;
+define("_INC_URLS2", "1");
+
+function generer_url_article($id_article) {
+	return "article$id_article.html";
+}
+
+function generer_url_rubrique($id_rubrique) {
+	return "rubrique$id_rubrique.html";
+}
+
+function generer_url_breve($id_breve) {
+	return "breve$id_breve.html";
+}
+
+function generer_url_mot($id_mot) {
+	return "mot$id_mot.html";
+}
+
+function generer_url_auteur($id_auteur) {
+	return "auteur$id_auteur.html";
+}
+
+function generer_url_document($id_document) {
+	if (intval($id_document) <= 0)
+		return '';
+	if ((lire_meta("creer_htaccess")) == 'oui')
+		return "spip_acces_doc.php3?id_document=$id_document";
+	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
+		return ($row['fichier']);
+	return '';
+}
+
+function recuperer_parametres_url($fond, $url) {
+	global $contexte;
+	return;
+}
+
+
+//
+// URLs des forums
+//
+
+// a mettre dans ecrire/inc_threads.php3 avec les autres trucs de forum
+function racine_forum($id_forum){
+	if (!$id_forum = intval($id_forum)) return;
+	$query = "SELECT id_parent, id_rubrique, id_article, id_breve FROM spip_forum WHERE id_forum=".$id_forum;
+	$result = spip_query($query);
+	if($row = spip_fetch_array($result)){
+		if($row['id_parent']) {
+			return racine_forum($row['id_parent']);
+		}
+		else {
+			if($row['id_rubrique']) return array('rubrique',$row['id_rubrique'], $id_forum);
+ 			if($row['id_article']) return array('article',$row['id_article'], $id_forum);
+			if($row['id_breve']) return array('breve',$row['id_breve'], $id_forum);
+		}
+	}
+} 
+
+function generer_url_forum($id_forum, $show_thread=false) {
+	list($type, $id, $id_thread) = racine_forum($id_forum);
+	if ($id_thread>0 AND $show_thread)
+		$id_forum = $id_thread;
+	switch($type) {
+		case 'article':
+			return generer_url_article($id)."#forum$id_forum";
+			break;
+		case 'breve':
+			return generer_url_breve($id)."#forum$id_forum";
+			break;
+		case 'rubrique':
+			return generer_url_rubrique($id)."#forum$id_forum";
+			break;
+		default:
+			return "forum$id_forum.html";
+	}
+}
+
+?>

Index: inc-html-squel.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-html-squel.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-html-squel.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-html-squel.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,339 +1,350 @@
-<?php
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_HTML_SQUEL")) return;
-define("_INC_HTML_SQUEL", "1");
-
-# Ce fichier doit IMPERATIVEMENT contenir la fonction "parser"
-# qui transforme un squelette en un tableau d'objets de classe Boucle
-# il est charge par un include calcule dans inc-calcul-squel
-# pour permettre differentes syntaxes en entree
-
-define('NOM_DE_BOUCLE', "[0-9]+|[-_][-_.a-zA-Z0-9]*");
-define('NOM_DE_CHAMP', "#((" . NOM_DE_BOUCLE . "):)?([A-Z_]+)(\*?)");
-define('CHAMP_ETENDU', '\[([^]\[]*)\(' . NOM_DE_CHAMP . '([^]\[)]*)\)([^]\[]*)\]');
-define('PARAM_DE_BOUCLE','[[:space:]]*\{[[:space:]]*([^{}]*(\{[^\}]*\}[^\}]*)*)[[:space:]]*\}');
-define('TYPE_DE_BOUCLE', "[^)]*");
-define('BALISE_DE_BOUCLE',
-	"^<BOUCLE(" .
-	NOM_DE_BOUCLE .
-	')[[:space:]]*\((' .
-	TYPE_DE_BOUCLE .
-	')\)((' .
-	PARAM_DE_BOUCLE .
-	')*)[[:space:]]*>');
-define('PARAM_INCLURE','[[:space:]]*\{[[:space:]]*([_0-9a-zA-Z]+)[[:space:]]*(=[[:space:]]*([^\{\}]*(\{[^\}]*\}[^\} ]*)?))?[[:space:]]*\}');
-define('BALISE_INCLURE',"<INCLU[DR]E[[:space:]]*\(" .
-       '([-_0-9a-zA-Z./ ]+)' .
-	'\)((' .
-	PARAM_INCLURE .
-	')*)[[:space:]]*>');
-define('DEBUT_DE_BOUCLE','/<B('.NOM_DE_BOUCLE.')>.*?<BOUCLE\1[^-_.a-zA-Z0-9]|<BOUCLE('.NOM_DE_BOUCLE.')/ms');	# preg
-
-
-function parser_inclure($texte, $result) {
-	while (($p=strpos($texte, '<INCLU')) !== false) {
-		$fin = substr($texte, $p);
-
-		if (!ereg('^' . BALISE_INCLURE, $fin, $match)) break;
-		$s = $match[0];
-		$debut = substr($texte, 0, $p);
-		$texte = substr($fin, strlen($s));
-
-		if ($debut) $result = parser_champs($debut, $result);
-
-		$champ = new Inclure;
-		$champ->fichier = $match[1];
-		$champ->params = array();
-		$p = trim($match[2]);
-		if ($p) {
-			while (ereg('^' . PARAM_INCLURE . '(.*)$', $p, $m)) {
-				$champ->params[$m[1]] = $m[3];
-				$p = $m[5];
-			}
-			
-			if ($p)
-				erreur_squelette(_T('zbug_parametres_inclus_incorrects'),
-				$s);
-		}
-		$result[] = $champ;
-	}
-
-	return (!$texte ? $result : parser_champs($texte, $result));
-}
-
-function parser_champs($texte,$result) {
-	while (ereg(NOM_DE_CHAMP . '(.*)$', $texte, $regs)) {
-	  $p = strpos($texte, $regs[0]);
-
-	  if ($regs[4] || !ereg("[0-9a-z]", $regs[5][0])) {
-		if ($p) {
-			$champ = new Texte;
-			$champ->texte = (substr($texte, 0, $p));
-			$result[] = $champ;
-		}
-		  
-		$champ = new Champ;
-		$champ->nom_boucle = $regs[2];
-		$champ->nom_champ = $regs[3];
-		$champ->etoile = $regs[4];
-		$texte = $regs[5];
-		$result[] = $champ;
-	  } else {
-	    // faux champ
-	    $champ = new Texte;
-	    $champ->texte = (substr($texte, 0, $p+1));
-	    $result[] = $champ;
-	    $texte = (substr($texte, $p+1));
-	  }
-	}
-	if ($texte) {
-	  
-		$champ = new Texte;
-		$champ->texte = $texte;
-		$result[] = $champ;
-	}
-	return $result;
-}
-
-// Gestion des imbrications:
-// on cherche les [..] les plus internes et on les remplace par une chaine
-// %###N@ ou N indexe un tableau comportant le resultat de leur phrase
-// on recommence tant qu'il y a des [...] en substituant a l'appel suivant
-
-function parser_champs_etendus($texte, $result) {
-	if (!$texte) return $result;
-	$sep = '##';
-	while (strpos($texte,$sep)!== false)
-		$sep .= '#';
-	return array_merge($result, parser_champs_interieurs($texte, $sep, array()));
-}
-
-
-function parser_champs_exterieurs($debut, $sep, $nested) {
-	$res = array();
-	while (($p=strpos($debut, "%$sep"))!==false) {
-	    if ($p) $res = parser_inclure(substr($debut,0,$p), $res);
-	    ereg("^%$sep([0-9]+)@(.*)$", substr($debut,$p),$m);
-	    $res[]= $nested[$m[1]];
-	    $debut = $m[2];
-	}
-	return (!$debut ?  $res : parser_inclure($debut, $res));
-
-}
-
-function parser_champs_interieurs($texte, $sep, $result) {
-	$i = 1;
-	while (true) {	  $j=$i;
-	  while (ereg(CHAMP_ETENDU . '(.*)$', $texte, $regs)) {
-		$champ = new Champ;
-		$champ->nom_boucle = $regs[3];
-		$champ->nom_champ = $regs[4];
-		$champ->etoile = $regs[5];
-		$champ->cond_avant = parser_champs_exterieurs($regs[1],$sep,$result);
-		$champ->cond_apres = parser_champs_exterieurs($regs[7],$sep,$result);
-		$fonctions = $regs[6];
-		if ($fonctions) {
-			$fonctions = explode('|', ereg_replace("^\|", "", $fonctions));
-			foreach($fonctions as $f) $champ->fonctions[]= $f;
-		}
-
-		$p = strpos($texte, $regs[0]);
-		if ($p) {$result[$i] = substr($texte,0,$p);$i++; }
-		$result[$i] = $champ;
-		$i++;
-		$texte = $regs[8];
-	  }
-	  if ($texte) {$result[$i] = $texte; $i++;}
-	  $x ='';
-
-	  while($j < $i) 
-	    { $z= $result[$j]; 
-	      if (is_object($z)) $x .= "%$sep$j@" ; else $x.=$z ;
-	      $j++;}
-	  if (ereg(CHAMP_ETENDU, $x)) $texte = $x;
-	  else return parser_champs_exterieurs($x, $sep, $result);}
-}
-
-
-function parser_param($params, &$result) {
-	$params2 = array();
-	$type = $result->type_requete;
-	while (ereg('^' . PARAM_DE_BOUCLE . '[[:space:]]*(.*)$', trim($params), $m)) {
-		$params = $m[3];
-		$m[1] = trim($m[1]);
-		// cas d'un critere avec {...}
-		if ($m[2])
-			$params2[] = $m[1];
-		else {
-			if (strlen($m[1]) < 2)
-				$params2[] = $m[1];
-	    else {
-	      ereg('^(.)([^"}]*)(.)$', $m[1], $args);
-	      // cas syntaxique general, 
-	      // traiter qq lexemes particuliers pour faciliter la suite
-	      if ($args[3] != '"') {
-			$param = $m[1];
-			if (($param == 'tout') OR ($param == 'tous')) {
-				$result->tout = true;
-				unset ($param);
-			}
-			else if ($param == 'plat') {
-				$result->plat = true;
-				unset ($param);
-			}
-
-			// Boucle hierarchie, analyser le critere id_article - id_rubrique
-			// - id_syndic, afin, dans les cas autres que {id_rubrique}, de
-			// forcer {tout} pour avoir la rubrique mere...
-			else if ($type == 'hierarchie') {
-				if ($param == 'id_article' OR $param == 'id_syndic') {
-					$result->tout = true;
-					unset ($param);
-				} else if ($param == 'id_rubrique')
-					unset ($param);
-			}
-
-			// synonyme
-			if ($param == 'unique') $param = 'doublons';
-
-			// l'ajouter
-			if ($param)
-				$params2[] = $param;
-	      }
-		else {
-		  // cas d'un guillemet final
-			if ($args[1] == '"') {
-			  // si tout le param est entre guillement, vite vu
-				$result->separateur = 
-					ereg_replace("'","\'",$args[2]);
-			}
-			else {
-				$params2[] = $args[1] . $args[2] . '"' . $m[1];
-			}
-		}
-	    }
-	  }
-	}
-	$result->param = $params2;
-}
-
-function parser($texte, $id_parent, &$boucles, $nom) {
-
-	$all_res = array();
-
-	while (preg_match(DEBUT_DE_BOUCLE, $texte, $regs)) {
-		$nom_boucle = $regs[1].$regs[2];
-		$p = strpos($texte, '<BOUCLE'.$nom_boucle);
-
-		// envoyer la boucle au debugueur
-		if ($GLOBALS['var_mode']== 'debug') {
-			$preg = "@<B($nom_boucle|OUCLE${nom_boucle}[^-_.a-zA-Z0-9][^>]*)>"
-				. ".*</(BOUCLE|/?B)$nom_boucle>@ms";
-			preg_match($preg, $texte, $match);
-			boucle_debug ($nom_boucle, $nom, $match[0]);
-		}
-
-		//
-		// Recuperer la partie principale de la boucle
-		//
-		$debut = substr($texte, 0, $p);
-		$milieu = substr($texte, $p);
-
-		if (!ereg(BALISE_DE_BOUCLE, $milieu, $match)) {
-			erreur_squelette((_T('zbug_erreur_boucle_syntaxe')), $milieu);
-		}
-		$id_boucle = $match[1];
-
-		$result = new Boucle;
-		$result->id_parent = $id_parent;
-		$result->id_boucle = $id_boucle;
-
-		$type = $match[2];
-		if ($p =strpos($type, ':'))
-		  {
-		    $result->sql_serveur = substr($type,0,$p);
-		    $type = substr($type,$p+1);
-		  }
-		$type = strtolower($type);
-		if ($type == 'sites') $type = 'syndication'; # alias
-
-		//
-		// Recuperer les criteres de la boucle (sauf boucle recursive)
-		//
-		if (substr($type, 0, 6) == 'boucle') {
-			$result->type_requete = 'boucle';
-			$result->param = substr($match[2], 6);
-		} else {
-			$result->type_requete = $type;
-			parser_param($match[3], $result);
-		}
-
-		//
-		// Recuperer la partie conditionnelle avant
-		//
-		$s = "<B$id_boucle>";
-		$p = strpos($debut, $s);
-		if ($p !== false) {
-			$result->cond_avant = substr($debut, $p + strlen($s));
-			$debut = substr($debut, 0, $p);
-		}
-		$milieu = substr($milieu, strlen($match[0]));
-		if (strpos($milieu, $s)) {
-			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
-				$id_boucle . 
-				_T('zbug_balise_b_aval'));
-		}
-
-		//
-		// Recuperer la fin :
-		//
-		$s = "</BOUCLE$id_boucle>";
-		$p = strpos($milieu, $s);
-		if ($p === false) {
-			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
-					 _T('zbug_erreur_boucle_fermant',
-						array('id'=>$id_boucle)));
-		}
-		$texte = substr($milieu, $p + strlen($s));
-		$milieu = substr($milieu, 0, $p);
-
-		//
-		// 1. Recuperer la partie conditionnelle apres
-		//
-		$s = "</B$id_boucle>";
-		$p = strpos($texte, $s);
-		if ($p !== false) {
-			$result->cond_fin = substr($texte, 0, $p);
-			$texte = substr($texte, $p + strlen($s));
-		}
-
-		//
-		// 2. Recuperer la partie alternative
-		//
-		$s = "<//B$id_boucle>";
-		$p = strpos($texte, $s);
-		if ($p !== false) {
-			$result->cond_altern = substr($texte, 0, $p);
-			$texte = substr($texte, $p + strlen($s));
-		}
-
-		$result->cond_avant = parser($result->cond_avant, $id_parent,$boucles, $nom);
-		$result->cond_apres = parser($result->cond_fin, $id_parent,$boucles, $nom);
-		$result->cond_altern = parser($result->cond_altern,$id_parent,$boucles, $nom);
-		$result->milieu = parser($milieu, $id_boucle,$boucles, $nom);
-
-		$all_res = parser_champs_etendus($debut, $all_res);
-		$all_res[] = $result;
-		if ($boucles[$id_boucle]) {
-			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
-					 _T('zbug_erreur_boucle_double',
-					 	array('id'=>$id_boucle)));
-		} else
-			$boucles[$id_boucle] = $result;
-	}
-
-	return parser_champs_etendus($texte, $all_res);
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_HTML_SQUEL")) return;
+define("_INC_HTML_SQUEL", "1");
+
+# Ce fichier doit IMPERATIVEMENT contenir la fonction "parser"
+# qui transforme un squelette en un tableau d'objets de classe Boucle
+# il est charge par un include calcule dans inc-calcul-squel
+# pour permettre differentes syntaxes en entree
+
+define('NOM_DE_BOUCLE', "[0-9]+|[-_][-_.a-zA-Z0-9]*");
+define('NOM_DE_CHAMP', "#((" . NOM_DE_BOUCLE . "):)?([A-Z_]+)(\*?)");
+define('CHAMP_ETENDU', '\[([^]\[]*)\(' . NOM_DE_CHAMP . '([^]\[)]*)\)([^]\[]*)\]');
+define('PARAM_DE_BOUCLE','[[:space:]]*\{[[:space:]]*([^{}]*(\{[^\}]*\}[^\}]*)*)[[:space:]]*\}');
+define('TYPE_DE_BOUCLE', "[^)]*");
+define('BALISE_DE_BOUCLE',
+	"^<BOUCLE(" .
+	NOM_DE_BOUCLE .
+	')[[:space:]]*\((' .
+	TYPE_DE_BOUCLE .
+	')\)((' .
+	PARAM_DE_BOUCLE .
+	')*)[[:space:]]*>');
+define('PARAM_INCLURE','[[:space:]]*\{[[:space:]]*([_0-9a-zA-Z]+)[[:space:]]*(=[[:space:]]*([^\{\}]*(\{[^\}]*\}[^\} ]*)?))?[[:space:]]*\}');
+define('BALISE_INCLURE',"<INCLU[DR]E[[:space:]]*\(" .
+       '([-_0-9a-zA-Z./ ]+)' .
+	'\)((' .
+	PARAM_INCLURE .
+	')*)[[:space:]]*>');
+define('DEBUT_DE_BOUCLE','/<B('.NOM_DE_BOUCLE.')>.*?<BOUCLE\1[^-_.a-zA-Z0-9]|<BOUCLE('.NOM_DE_BOUCLE.')/ms');	# preg
+
+
+function parser_inclure($texte, $result) {
+	while (($p=strpos($texte, '<INCLU')) !== false) {
+		$fin = substr($texte, $p);
+
+		if (!ereg('^' . BALISE_INCLURE, $fin, $match)) break;
+		$s = $match[0];
+		$debut = substr($texte, 0, $p);
+		$texte = substr($fin, strlen($s));
+
+		if ($debut) $result = parser_champs($debut, $result);
+
+		$champ = new Inclure;
+		$champ->fichier = $match[1];
+		$champ->params = array();
+		$p = trim($match[2]);
+		if ($p) {
+			while (ereg('^' . PARAM_INCLURE . '(.*)$', $p, $m)) {
+				$champ->params[$m[1]] = $m[3];
+				$p = $m[5];
+			}
+			
+			if ($p)
+				erreur_squelette(_T('zbug_parametres_inclus_incorrects'),
+				$s);
+		}
+		$result[] = $champ;
+	}
+
+	return (!$texte ? $result : parser_champs($texte, $result));
+}
+
+function parser_champs($texte,$result) {
+	while (ereg(NOM_DE_CHAMP . '(.*)$', $texte, $regs)) {
+	  $p = strpos($texte, $regs[0]);
+
+	  if ($regs[4] || !ereg("[0-9a-z]", $regs[5][0])) {
+		if ($p) {
+			$champ = new Texte;
+			$champ->texte = (substr($texte, 0, $p));
+			$result[] = $champ;
+		}
+		  
+		$champ = new Champ;
+		$champ->nom_boucle = $regs[2];
+		$champ->nom_champ = $regs[3];
+		$champ->etoile = $regs[4];
+		$texte = $regs[5];
+		$result[] = $champ;
+	  } else {
+	    // faux champ
+	    $champ = new Texte;
+	    $champ->texte = (substr($texte, 0, $p+1));
+	    $result[] = $champ;
+	    $texte = (substr($texte, $p+1));
+	  }
+	}
+	if ($texte) {
+	  
+		$champ = new Texte;
+		$champ->texte = $texte;
+		$result[] = $champ;
+	}
+	return $result;
+}
+
+// Gestion des imbrications:
+// on cherche les [..] les plus internes et on les remplace par une chaine
+// %###N@ ou N indexe un tableau comportant le resultat de leur phrase
+// on recommence tant qu'il y a des [...] en substituant a l'appel suivant
+
+function parser_champs_etendus($texte, $result) {
+	if (!$texte) return $result;
+	$sep = '##';
+	while (strpos($texte,$sep)!== false)
+		$sep .= '#';
+	return array_merge($result, parser_champs_interieurs($texte, $sep, array()));
+}
+
+
+function parser_champs_exterieurs($debut, $sep, $nested) {
+	$res = array();
+	while (($p=strpos($debut, "%$sep"))!==false) {
+	    if ($p) $res = parser_inclure(substr($debut,0,$p), $res);
+	    ereg("^%$sep([0-9]+)@(.*)$", substr($debut,$p),$m);
+	    $res[]= $nested[$m[1]];
+	    $debut = $m[2];
+	}
+	return (!$debut ?  $res : parser_inclure($debut, $res));
+
+}
+
+function parser_champs_interieurs($texte, $sep, $result) {
+	$i = 1;
+	while (true) {	  $j=$i;
+	  while (ereg(CHAMP_ETENDU . '(.*)$', $texte, $regs)) {
+		$champ = new Champ;
+		$champ->nom_boucle = $regs[3];
+		$champ->nom_champ = $regs[4];
+		$champ->etoile = $regs[5];
+		$champ->cond_avant = parser_champs_exterieurs($regs[1],$sep,$result);
+		$champ->cond_apres = parser_champs_exterieurs($regs[7],$sep,$result);
+		$fonctions = $regs[6];
+		if ($fonctions) {
+			$fonctions = explode('|', ereg_replace("^\|", "", $fonctions));
+			foreach($fonctions as $f) $champ->fonctions[]= $f;
+		}
+
+		$p = strpos($texte, $regs[0]);
+		if ($p) {$result[$i] = substr($texte,0,$p);$i++; }
+		$result[$i] = $champ;
+		$i++;
+		$texte = $regs[8];
+	  }
+	  if ($texte) {$result[$i] = $texte; $i++;}
+	  $x ='';
+
+	  while($j < $i) 
+	    { $z= $result[$j]; 
+	      if (is_object($z)) $x .= "%$sep$j@" ; else $x.=$z ;
+	      $j++;}
+	  if (ereg(CHAMP_ETENDU, $x)) $texte = $x;
+	  else return parser_champs_exterieurs($x, $sep, $result);}
+}
+
+
+function parser_param($params, &$result) {
+	$params2 = array();
+	$type = $result->type_requete;
+	while (ereg('^' . PARAM_DE_BOUCLE . '[[:space:]]*(.*)$', trim($params), $m)) {
+		$params = $m[3];
+		$m[1] = trim($m[1]);
+		// cas d'un critere avec {...}
+		if ($m[2])
+			$params2[] = $m[1];
+		else {
+			if (strlen($m[1]) < 2)
+				$params2[] = $m[1];
+	    else {
+	      ereg('^(.)([^"}]*)(.)$', $m[1], $args);
+	      // cas syntaxique general, 
+	      // traiter qq lexemes particuliers pour faciliter la suite
+	      if ($args[3] != '"') {
+			$param = $m[1];
+			if (($param == 'tout') OR ($param == 'tous')) {
+				$result->tout = true;
+				unset ($param);
+			}
+			else if ($param == 'plat') {
+				$result->plat = true;
+				unset ($param);
+			}
+
+			// Boucle hierarchie, analyser le critere id_article - id_rubrique
+			// - id_syndic, afin, dans les cas autres que {id_rubrique}, de
+			// forcer {tout} pour avoir la rubrique mere...
+			else if ($type == 'hierarchie') {
+				if ($param == 'id_article' OR $param == 'id_syndic') {
+					$result->tout = true;
+					unset ($param);
+				} else if ($param == 'id_rubrique')
+					unset ($param);
+			}
+
+			// synonyme
+			if ($param == 'unique') $param = 'doublons';
+
+			// l'ajouter
+			if ($param)
+				$params2[] = $param;
+	      }
+		else {
+		  // cas d'un guillemet final
+			if ($args[1] == '"') {
+			  // si tout le param est entre guillement, vite vu
+				$result->separateur = 
+					ereg_replace("'","\'",$args[2]);
+			}
+			else {
+				$params2[] = $args[1] . $args[2] . '"' . $m[1];
+			}
+		}
+	    }
+	  }
+	}
+	$result->param = $params2;
+}
+
+function parser($texte, $id_parent, &$boucles, $nom) {
+
+	$all_res = array();
+
+	while (preg_match(DEBUT_DE_BOUCLE, $texte, $regs)) {
+		$nom_boucle = $regs[1].$regs[2];
+		$p = strpos($texte, '<BOUCLE'.$nom_boucle);
+
+		// envoyer la boucle au debugueur
+		if ($GLOBALS['var_mode']== 'debug') {
+			$preg = "@<B($nom_boucle|OUCLE${nom_boucle}[^-_.a-zA-Z0-9][^>]*)>"
+				. ".*</(BOUCLE|/?B)$nom_boucle>@ms";
+			preg_match($preg, $texte, $match);
+			boucle_debug ($nom_boucle, $nom, $match[0]);
+		}
+
+		//
+		// Recuperer la partie principale de la boucle
+		//
+		$debut = substr($texte, 0, $p);
+		$milieu = substr($texte, $p);
+
+		if (!ereg(BALISE_DE_BOUCLE, $milieu, $match)) {
+			erreur_squelette((_T('zbug_erreur_boucle_syntaxe')), $milieu);
+		}
+		$id_boucle = $match[1];
+
+		$result = new Boucle;
+		$result->id_parent = $id_parent;
+		$result->id_boucle = $id_boucle;
+
+		$type = $match[2];
+		if ($p =strpos($type, ':'))
+		  {
+		    $result->sql_serveur = substr($type,0,$p);
+		    $type = substr($type,$p+1);
+		  }
+		$type = strtolower($type);
+		if ($type == 'sites') $type = 'syndication'; # alias
+
+		//
+		// Recuperer les criteres de la boucle (sauf boucle recursive)
+		//
+		if (substr($type, 0, 6) == 'boucle') {
+			$result->type_requete = 'boucle';
+			$result->param = substr($match[2], 6);
+		} else {
+			$result->type_requete = $type;
+			parser_param($match[3], $result);
+		}
+
+		//
+		// Recuperer la partie conditionnelle avant
+		//
+		$s = "<B$id_boucle>";
+		$p = strpos($debut, $s);
+		if ($p !== false) {
+			$result->cond_avant = substr($debut, $p + strlen($s));
+			$debut = substr($debut, 0, $p);
+		}
+		$milieu = substr($milieu, strlen($match[0]));
+		if (strpos($milieu, $s)) {
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
+				$id_boucle . 
+				_T('zbug_balise_b_aval'));
+		}
+
+		//
+		// Recuperer la fin :
+		//
+		$s = "</BOUCLE$id_boucle>";
+		$p = strpos($milieu, $s);
+		if ($p === false) {
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
+					 _T('zbug_erreur_boucle_fermant',
+						array('id'=>$id_boucle)));
+		}
+		$texte = substr($milieu, $p + strlen($s));
+		$milieu = substr($milieu, 0, $p);
+
+		//
+		// 1. Recuperer la partie conditionnelle apres
+		//
+		$s = "</B$id_boucle>";
+		$p = strpos($texte, $s);
+		if ($p !== false) {
+			$result->cond_fin = substr($texte, 0, $p);
+			$texte = substr($texte, $p + strlen($s));
+		}
+
+		//
+		// 2. Recuperer la partie alternative
+		//
+		$s = "<//B$id_boucle>";
+		$p = strpos($texte, $s);
+		if ($p !== false) {
+			$result->cond_altern = substr($texte, 0, $p);
+			$texte = substr($texte, $p + strlen($s));
+		}
+
+		$result->cond_avant = parser($result->cond_avant, $id_parent,$boucles, $nom);
+		$result->cond_apres = parser($result->cond_fin, $id_parent,$boucles, $nom);
+		$result->cond_altern = parser($result->cond_altern,$id_parent,$boucles, $nom);
+		$result->milieu = parser($milieu, $id_boucle,$boucles, $nom);
+
+		$all_res = parser_champs_etendus($debut, $all_res);
+		$all_res[] = $result;
+		if ($boucles[$id_boucle]) {
+			erreur_squelette(_T('zbug_erreur_boucle_syntaxe'),
+					 _T('zbug_erreur_boucle_double',
+					 	array('id'=>$id_boucle)));
+		} else
+			$boucles[$id_boucle] = $result;
+	}
+
+	return parser_champs_etendus($texte, $all_res);
+}
+
+?>

Index: resume.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/resume.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- resume.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ resume.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,7 +1,7 @@
-<?php
-$fond = "resume";
-$delais = 2 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "resume";
+$delais = 2 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: spip_admin.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_admin.css,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_admin.css	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_admin.css	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,83 +1,83 @@
-/* Les boutons d'admin survolent la page (sauf #FORMULAIRE_ADMIN) */
-.spip-admin-float {
-	top: 0px;
-	right: 20px;
-	position: absolute;
-	z-index: 100;
-}
-
-
-/* Couleurs et design des boutons d'admin */
-.spip-admin-bloc {
-	font-family: Verdana,Arial,Helvetica,sans-serif;
-	background-color: transparent;
-	font-size: 10px;
-}
-
-.spip-admin-bloc li {
-	padding: 0 2px;
-	display: inline;
-}
-
-.spip-admin-bloc ul {
-	display: inline;
-}
-
-a.spip-admin-boutons {
-	border-top: 1px solid #cecece;
-	border-bottom: 2px solid #4a4a4a;
-	border-left: 1px solid #cecece;
-	border-right: 1px solid #cecece;
-	text-decoration: none;
-	width: 3em;
-	text-align: center;
-	margin: 0;
-	padding: 1px .5em;
-	font-family: helvetica,arial,sans-serif;
-	font-size: 10px;
-	font-weight: bold;
-	background-color: #fff;
-	color: #0c479d;
-}
-
-a:hover.spip-admin-boutons {
-	background-color: #fc3;
-	border-bottom: 2px solid #36f;
-}
-
-a:active.spip-admin-boutons {
-	background-color: #ccc;
-	border-bottom: 2px solid #f00;
-}
-
-
-/* Style pour le mode debug */
-#spip-debug {
-	background-color: #f0f0f0;
-	font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
-}
-#spip-debug ul table {
-	font-size: 80%;
-}
-
-#spip-debug fieldset {
-	background-color: #FFF;
-	font-family: "Courier New", Courier, monospace;
-	font-size: 12;
-}
-
-#spip-debug legend {
-	background-color: #FFF;
-	border: solid 1px #F00;
-	padding: 1px 1em;
-	font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
-	font-weight: bold;
-}
-
-#spip-debug ul table a {
-	text-decoration: none;
-}
-
-#spip-debug ul table a:hover {
-	text-decoration: underline;
-}
+/* Les boutons d'admin survolent la page (sauf #FORMULAIRE_ADMIN) */
+.spip-admin-float {
+	top: 0px;
+	right: 20px;
+	position: absolute;
+	z-index: 100;
+}
+
+
+/* Couleurs et design des boutons d'admin */
+.spip-admin-bloc {
+	font-family: Verdana,Arial,Helvetica,sans-serif;
+	background-color: transparent;
+	font-size: 10px;
+}
+
+.spip-admin-bloc li {
+	padding: 0 2px;
+	display: inline;
+}
+
+.spip-admin-bloc ul {
+	display: inline;
+}
+
+a.spip-admin-boutons {
+	border-top: 1px solid #cecece;
+	border-bottom: 2px solid #4a4a4a;
+	border-left: 1px solid #cecece;
+	border-right: 1px solid #cecece;
+	text-decoration: none;
+	width: 3em;
+	text-align: center;
+	margin: 0;
+	padding: 1px .5em;
+	font-family: helvetica,arial,sans-serif;
+	font-size: 10px;
+	font-weight: bold;
+	background-color: #fff;
+	color: #0c479d;
+}
+
+a:hover.spip-admin-boutons {
+	background-color: #fc3;
+	border-bottom: 2px solid #36f;
+}
+
+a:active.spip-admin-boutons {
+	background-color: #ccc;
+	border-bottom: 2px solid #f00;
+}
+
+
+/* Style pour le mode debug */
+#spip-debug {
+	background-color: #f0f0f0;
+	font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
+}
+#spip-debug ul table {
+	font-size: 80%;
+}
+
+#spip-debug fieldset {
+	background-color: #FFF;
+	font-family: "Courier New", Courier, monospace;
+	font-size: 12px;
+}
+
+#spip-debug legend {
+	background-color: #FFF;
+	border: solid 1px #F00;
+	padding: 1px 1em;
+	font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
+	font-weight: bold;
+}
+
+#spip-debug ul table a {
+	text-decoration: none;
+}
+
+#spip-debug ul table a:hover {
+	text-decoration: underline;
+}

Index: spip_image.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_image.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_image.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_image.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,247 +1,259 @@
-<?php
-
-// Uploader un document, une image ou un logo,
-// supprimer cet element, creer les vignettes, etc.
-
-include ("ecrire/inc_version.php3");
-include_ecrire('inc_presentation.php3');	# regler la langue en cas d'erreur
-include_ecrire('inc_getdocument.php3');		# diverses fonctions de ce fichier
-include_ecrire("inc_charsets.php3");		# pour le nom de fichier
-include_ecrire("inc_meta.php3");			# ne pas faire confiance au cache
-											# (alea_ephemere a peut-etre change)
-include_ecrire("inc_admin.php3");			# verifier_action_auteur
-include_ecrire("inc_abstract_sql.php3");	# spip_insert
-include_ecrire('inc_documents.php3');		# fichiers_upload()
-
-
-// Recuperer les variables d'upload
-if (!$_FILES)
-	$_FILES = &$HTTP_POST_FILES;
-if (!is_array($_FILES))
-	$_FILES = array();
-foreach ($_FILES as $id => $file) {
-	if ($file['error'] == 4 /* UPLOAD_ERR_NO_FILE */)
-		unset ($_FILES[$id]);
-}
-
-
-// Si on est en mode 'document', les images doivent etre installees
-// comme documents dans le portfolio
-if ($forcer_document) $mode = 'document';
-
-
-//
-// Le switch principal : quelle est l'action demandee
-//
-
-
-// appel de config-fonction
-if ($test_vignette)
-	$retour_image = tester_vignette($test_vignette);
-
-// Creation de vignette depuis le portfolio (ou autre)
-else if ($vignette) {
-	if ($creer_vignette == 'oui' AND
-	verifier_action_auteur("vign $vignette",
-	$hash, $hash_id_auteur))
-		creer_fichier_vignette($vignette);
-	else
-		$retour_image = creer_fichier_vignette($vignette, true); # obsolete
-}
-
-
-//
-// Ajout d'un document ou d'une image
-//
-else if ($ajout_doc == 'oui') {
-
-	// Autorisation ?
-	if (!verifier_action_auteur("ajout_doc", $hash, $hash_id_auteur))
-		die ('Interdit');
-
-	//
-	// Cas d'un fichier ou d'un repertoire installe dans ecrire/upload/
-	//
-	if ($_POST['image2']
-	AND !strstr($_POST['image2'], '..')
-	AND $_POST['ok_ftp']
-	) {
-		$upload = _DIR_TRANSFERT.$_POST['image2'];
-
-		// lire le repertoire upload et remplir $_FILES
-		if (is_dir($upload)) {
-			$fichiers = fichiers_upload($upload);
-
-			$_FILES = array();
-			foreach ($fichiers as $fichier) {
-				$_FILES[] = array (
-					'name' => basename($fichier),
-					'tmp_name' => $fichier
-				);
-			}
-		}
-
-		// seul un fichier est demande
-		else
-			$_FILES = array(
-				array ('name' => basename($upload),
-				'tmp_name' => $upload)
-			);
-	}
-
-	//
-	// Upload d'un ZIP
-	//
-
-	// traiter la reponse de l'utilisateur
-	if (preg_match('@^IMG/zip/[^. ]+\.zip$@i', $_POST['source_zip'])) {
-		$_FILES = array(
-			array('name' => basename($_POST['source_zip']),
-				'tmp_name' => $_POST['source_zip'])
-		);
-	}
-
-	// traiter le zip si c'en est un tout seul
-	if (count($_FILES) == 1
-	AND $action_zip!='telquel') {
-		$desc = array_pop($_FILES); # recuperer la description
-		$_FILES = array($desc);
-
-		if (preg_match('/\.zip$/i', $desc['name'])
-		OR ($desc['type'] == 'application/zip')) {
-
-			// on pose le fichier dans le repertoire zip et on met
-			// a jour $_FILES (nota : copier_document n'ecrase pas
-			// un fichier avec lui-meme : ca autorise a boucler)
-			$zip = copier_document("zip",
-				$desc['name'],
-				$desc['tmp_name']
-			);
-			if (!$zip) die ('Erreur upload zip'); # pathologique
-			$desc['tmp_name'] = $zip;	# nouvel emplacement du fichier
-			$_FILES = array($desc);
-
-			// Est-ce qu'on sait le lire ?
-			require_once(_DIR_RESTREINT . 'pclzip.lib.php');
-			$archive = new PclZip($zip);
-			$contenu = verifier_compactes($archive);
-
-			// si non, on le force comme document
-			if (!$contenu) {
-				$forcer_document = 'oui';
-			}
-
-			// si le deballage est demande
-			else if ($action_zip == 'decompacter') {
-				// 1. on deballe
-				define('_tmp_dir', creer_repertoire_documents($hash));
-				$archive->extract(PCLZIP_OPT_PATH,
-					_tmp_dir,
-					PCLZIP_OPT_REMOVE_ALL_PATH);
-				// 2. on supprime le fichier temporaire
-				$contenu = verifier_compactes($archive);
-				@unlink($zip);
-
-				$_FILES = array();
-				foreach ($contenu as $fichier) {
-					$_FILES[] = array(
-						'name' => basename($fichier),
-						'tmp_name' => _tmp_dir.$fichier);
-				}
-			}
-
-			// sinon on demande une reponse
-			else {
-				$link = new Link('spip_image.php3');
-				$link->addVar('ajout_doc', 'oui');
-				$link->addVar('redirect', $redirect);
-				$link->addVar('id_article', $id_article);
-				$link->addVar('mode', $mode);
-				$link->addVar('type', $type);
-				$link->addVar('hash', $hash);
-				$link->addVar('hash_id_auteur', $hash_id_auteur);
-				$link->addVar('source_zip', $zip);
-				afficher_compactes($desc, $contenu, $link);
-				exit;
-			}
-		}
-	}
-	// Fin du bloc ZIP
-
-
-	//
-	// Traiter la liste des fichiers
-	//
-	$documents_actifs = array();
-
-	foreach ($_FILES as $file) {
-
-		// afficher l'erreur 'fichier trop gros' ou autre
-		check_upload_error($file['error']);
-
-		spip_log ("ajout du document ".$file['name'].", $mode ($type $id_article)");
-		ajouter_un_document (
-			$file['tmp_name'],	# le fichier sur le serveur (/var/tmp/xyz34)
-			$file['name'],		# son nom chez le client (portequoi.pdf)
-			$type,				# lie a un article, une breve ou une rubrique ?
-			$id_article,		# identifiant de l'article (ou rubrique) lie
-			$mode,				# 'vignette' => vignette personnalisee
-			$id_document,		# pour une vignette, l'id_document de maman
-			$documents_actifs	# tableau des id_document "actifs" (par ref)
-		);
-	}	// foreach $_FILES
-
-	// Nettoyer le repertoire temporaire d'extraction des fichiers
-	if (defined('_tmp_dir'))
-		effacer_repertoire_temporaire(_tmp_dir);
-}
-
-// Ajout d'un logo
-else if ($ajout_logo == "oui" and $logo) {
-	if ($desc = array_pop($_FILES)
-	AND verifier_action_auteur("ajout_logo $logo",
-	$hash, $hash_id_auteur))
-		ajout_logo($desc, $logo);
-}
-
-// Suppression d'un logo
-else if ($image_supp) {
-	if (verifier_action_auteur("supp_logo $image_supp",
-	$hash, $hash_id_auteur))
-		effacer_logo($image_supp);
-}
-
-// Suppression d'un document et de sa vignette
-else if ($doc_supp) {
-	if (verifier_action_auteur("supp_doc $doc_supp",
-	$hash, $hash_id_auteur))
-		supprime_document_et_vignette($doc_supp);
-}
-
-// Rotation d'une image
-else if ($doc_rotate) {
-	if (verifier_action_auteur("rotate $doc_rotate",
-	$hash, $hash_id_auteur))
-		tourner_document($var_rot, $doc_rotate, $convert_command);
-}
-
-
-//
-// Retour a l'envoyeur
-//
-
-// si nous sommes diriges vers une vignette
-if ($retour_image) {
-	redirige_par_entete($retour_image);
-
-} else {
-	$link = new Link(_DIR_RESTREINT_ABS . $redirect);
-	if ($documents_actifs) {
-		$show_docs = join('-',$documents_actifs);
-		$link->addVar('show_docs',$show_docs);
-	}
-
-	redirige_par_entete($link->getUrl($ancre));
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// Uploader un document, une image ou un logo,
+// supprimer cet element, creer les vignettes, etc.
+
+include ("ecrire/inc_version.php3");
+include_ecrire('inc_presentation.php3');	# regler la langue en cas d'erreur
+include_ecrire('inc_getdocument.php3');		# diverses fonctions de ce fichier
+include_ecrire("inc_charsets.php3");		# pour le nom de fichier
+include_ecrire("inc_meta.php3");			# ne pas faire confiance au cache
+											# (alea_ephemere a peut-etre change)
+include_ecrire("inc_admin.php3");			# verifier_action_auteur
+include_ecrire("inc_abstract_sql.php3");	# spip_insert
+include_ecrire('inc_documents.php3');		# fichiers_upload()
+
+
+// Recuperer les variables d'upload
+if (!$_FILES)
+	$_FILES = &$HTTP_POST_FILES;
+if (!is_array($_FILES))
+	$_FILES = array();
+foreach ($_FILES as $id => $file) {
+	if ($file['error'] == 4 /* UPLOAD_ERR_NO_FILE */)
+		unset ($_FILES[$id]);
+}
+
+// Si on est en mode 'document', les images doivent etre installees
+// comme documents dans le portfolio
+if ($forcer_document) $mode = 'document';
+
+
+//
+// Le switch principal : quelle est l'action demandee
+//
+
+
+// appel de config-fonction
+if ($test_vignette)
+	$retour_image = tester_vignette($test_vignette);
+
+// Creation de vignette depuis le portfolio (ou autre)
+else if ($vignette) {
+	if ($creer_vignette == 'oui' AND
+	verifier_action_auteur("vign $vignette",
+	$hash, $hash_id_auteur))
+		creer_fichier_vignette($vignette);
+	else
+		$retour_image = creer_fichier_vignette($vignette, true); # obsolete
+}
+
+
+//
+// Ajout d'un document ou d'une image
+//
+else if ($ajout_doc == 'oui') {
+
+	// Autorisation ?
+	if (!verifier_action_auteur("ajout_doc", $hash, $hash_id_auteur))
+		die ('Interdit');
+
+	//
+	// Cas d'un fichier ou d'un repertoire installe dans ecrire/upload/
+	//
+	if ($_POST['image2']
+	AND !strstr($_POST['image2'], '..')
+	AND $_POST['ok_ftp']
+	) {
+		$upload = _DIR_TRANSFERT.$_POST['image2'];
+
+		// lire le repertoire upload et remplir $_FILES
+		if (is_dir($upload)) {
+			$fichiers = fichiers_upload($upload);
+
+			$_FILES = array();
+			foreach ($fichiers as $fichier) {
+				$_FILES[] = array (
+					'name' => basename($fichier),
+					'tmp_name' => $fichier
+				);
+			}
+		}
+
+		// seul un fichier est demande
+		else
+			$_FILES = array(
+				array ('name' => basename($upload),
+				'tmp_name' => $upload)
+			);
+	}
+
+	//
+	// Upload d'un ZIP
+	//
+
+	// traiter la reponse de l'utilisateur ('telquel' ou 'decompacter')
+	if ($_POST['source_zip']
+	AND !strstr($_POST['source_zip'], '..')) # securite
+	{
+		$_FILES = array(
+			array('name' => basename($_POST['source_zip']),
+				'tmp_name' => $_POST['source_zip'])
+		);
+	}
+
+	// traiter le zip si c'en est un tout seul
+	if (count($_FILES) == 1
+	AND $action_zip!='telquel') {
+		$desc = array_pop($_FILES); # recuperer la description
+		$_FILES = array($desc);
+
+		if (preg_match('/\.zip$/i', $desc['name'])
+		OR ($desc['type'] == 'application/zip')) {
+
+			// on pose le fichier dans le repertoire zip et on met
+			// a jour $_FILES (nota : copier_document n'ecrase pas
+			// un fichier avec lui-meme : ca autorise a boucler)
+			$zip = copier_document("zip",
+				$desc['name'],
+				$desc['tmp_name']
+			);
+			if (!$zip) die ('Erreur upload zip'); # pathologique
+			$desc['tmp_name'] = $zip;	# nouvel emplacement du fichier
+			$_FILES = array($desc);
+
+			// Est-ce qu'on sait le lire ?
+			require_once(_DIR_RESTREINT . 'pclzip.lib.php');
+			$archive = new PclZip($zip);
+			$contenu = verifier_compactes($archive);
+
+			// si non, on le force comme document
+			if (!$contenu) {
+				$forcer_document = 'oui';
+			}
+
+			// si le deballage est demande
+			else if ($action_zip == 'decompacter') {
+				// 1. on deballe
+				define('_tmp_dir', creer_repertoire_documents($hash));
+				$archive->extract(PCLZIP_OPT_PATH,
+					_tmp_dir,
+					PCLZIP_OPT_REMOVE_ALL_PATH);
+				// 2. on supprime le fichier temporaire
+				$contenu = verifier_compactes($archive);
+				@unlink($zip);
+
+				$_FILES = array();
+				foreach ($contenu as $fichier) {
+					$_FILES[] = array(
+						'name' => basename($fichier),
+						'tmp_name' => _tmp_dir.$fichier);
+				}
+			}
+
+			// sinon on demande une reponse
+			else {
+				$link = new Link('spip_image.php3');
+				$link->addVar('ajout_doc', 'oui');
+				$link->addVar('redirect', $redirect);
+				$link->addVar('id_article', $id_article);
+				$link->addVar('mode', $mode);
+				$link->addVar('type', $type);
+				$link->addVar('hash', $hash);
+				$link->addVar('hash_id_auteur', $hash_id_auteur);
+				$link->addVar('source_zip', $zip);
+				afficher_compactes($desc, $contenu, $link);
+				exit;
+			}
+		}
+	}
+	// Fin du bloc ZIP
+
+
+	//
+	// Traiter la liste des fichiers
+	//
+	$documents_actifs = array();
+
+	foreach ($_FILES as $file) {
+
+		// afficher l'erreur 'fichier trop gros' ou autre
+		check_upload_error($file['error']);
+
+		spip_log ("ajout du document ".$file['name'].", $mode ($type $id_article)");
+		ajouter_un_document (
+			$file['tmp_name'],	# le fichier sur le serveur (/var/tmp/xyz34)
+			$file['name'],		# son nom chez le client (portequoi.pdf)
+			$type,				# lie a un article, une breve ou une rubrique ?
+			$id_article,		# identifiant de l'article (ou rubrique) lie
+			$mode,				# 'vignette' => vignette personnalisee
+			$id_document,		# pour une vignette, l'id_document de maman
+			$documents_actifs	# tableau des id_document "actifs" (par ref)
+		);
+	}	// foreach $_FILES
+
+	// Nettoyer le repertoire temporaire d'extraction des fichiers
+	if (defined('_tmp_dir'))
+		effacer_repertoire_temporaire(_tmp_dir);
+}
+
+// Ajout d'un logo
+else if ($ajout_logo == "oui" and $logo) {
+	if ($desc = array_pop($_FILES)
+	AND verifier_action_auteur("ajout_logo $logo",
+	$hash, $hash_id_auteur))
+		ajout_logo($desc, $logo);
+}
+
+// Suppression d'un logo
+else if ($image_supp) {
+	if (verifier_action_auteur("supp_logo $image_supp",
+	$hash, $hash_id_auteur))
+		effacer_logo($image_supp);
+}
+
+// Suppression d'un document et de sa vignette
+else if ($doc_supp) {
+	if (verifier_action_auteur("supp_doc $doc_supp",
+	$hash, $hash_id_auteur))
+		supprime_document_et_vignette($doc_supp);
+}
+
+// Rotation d'une image
+else if ($doc_rotate) {
+	if (verifier_action_auteur("rotate $doc_rotate",
+	$hash, $hash_id_auteur))
+		tourner_document($var_rot, $doc_rotate, $convert_command);
+}
+
+
+//
+// Retour a l'envoyeur
+//
+
+// si nous sommes diriges vers une vignette
+if ($retour_image) {
+	redirige_par_entete($retour_image);
+
+} else {
+	$link = new Link(_DIR_RESTREINT_ABS . $redirect);
+	if ($documents_actifs) {
+		$show_docs = join('-',$documents_actifs);
+		$link->addVar('show_docs',$show_docs);
+	}
+
+	redirige_par_entete($link->getUrl($ancre));
+}
+
+?>

Index: inc-stats.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-stats.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-stats.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-stats.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,73 +1,84 @@
-<?php
-
-//
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_STATS")) return;
-define("_INC_STATS", "1");
-
-function ecrire_stats() {
-	global $id_article, $id_breve, $id_rubrique;
-
-	if ($GLOBALS['HTTP_X_FORWARDED_FOR'])
-		$log_ip = $GLOBALS['HTTP_X_FORWARDED_FOR'];
-	else
-		$log_ip = $GLOBALS['REMOTE_ADDR'];
-
-	if ($log_id_num = intval($id_rubrique))
-		$log_type = "rubrique";
-	else if ($log_id_num = intval($id_article))
-		$log_type = "article";
-	else if ($log_id_num = intval($id_breve))
-		$log_type = "breve";
-	else
-		$log_type = "autre";
-
-	// Conversion IP 4 octets -> entier 32 bits
-	if (ereg("^(::ffff:)?([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)$", $log_ip, $r)) {
-		$log_ip = sprintf("0x%02x%02x%02x%02x", $r[2], $r[3], $r[4], $r[5]);
-	}
-	else return;
-
-	//
-	// Loguer la visite dans la base si possible
-	//
-	if ($log_type != "autre") {
-		$query = "INSERT IGNORE INTO spip_visites_temp (ip, type, id_objet) ".
-			"VALUES ($log_ip, '$log_type', $log_id_num)";
-		spip_query($query);
-	}
-
-	//
-	// Loguer le referer
-	//
-	$url_site_spip = lire_meta('adresse_site');
-	$url_site_spip = eregi_replace("^((https?|ftp)://)?(www\.)?", "", $url_site_spip);
-	$log_referer = $GLOBALS['HTTP_REFERER'];
-	if (($url_site_spip<>'') AND strpos('-'.strtolower($log_referer), strtolower($url_site_spip)) AND !$GLOBALS['var_recherche']) $log_referer = "";
-	if ($log_referer) {
-		$referer_md5 = '0x'.substr(md5($log_referer), 0, 15);
-		$query = "INSERT IGNORE INTO spip_referers_temp (ip, referer, referer_md5, type, id_objet) ".
-			"VALUES ($log_ip, '$log_referer', $referer_md5, '$log_type', $log_id_num)";
-		spip_query($query);
-	}
-}
-
-
-function afficher_raccourci_stats($id_article) {
-	$query = "SELECT visites, popularite FROM spip_articles WHERE id_article=$id_article AND statut='publie'";
-	$result = spip_query($query);
-	if ($row = @spip_fetch_array($result)) {
-		$visites = intval($row['visites']);
-		$popularite = ceil($row['popularite']);
-
-		$query = "SELECT COUNT(DISTINCT ip) AS c FROM spip_visites_temp WHERE type='article' AND id_objet=$id_article";
-		$result = spip_query($query);
-		if ($row = @spip_fetch_array($result)) {
-			$visites = $visites + $row['c'];
-		}
-
-		return array('visites' => $visites, 'popularite' => $popularite);
-	}
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+//
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_STATS")) return;
+define("_INC_STATS", "1");
+
+function ecrire_stats() {
+	global $id_article, $id_breve, $id_rubrique;
+
+	if ($GLOBALS['HTTP_X_FORWARDED_FOR'])
+		$log_ip = $GLOBALS['HTTP_X_FORWARDED_FOR'];
+	else
+		$log_ip = $GLOBALS['REMOTE_ADDR'];
+
+	if ($log_id_num = intval($id_rubrique))
+		$log_type = "rubrique";
+	else if ($log_id_num = intval($id_article))
+		$log_type = "article";
+	else if ($log_id_num = intval($id_breve))
+		$log_type = "breve";
+	else
+		$log_type = "autre";
+
+	// Conversion IP 4 octets -> entier 32 bits
+	if (ereg("^(::ffff:)?([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)$", $log_ip, $r)) {
+		$log_ip = sprintf("0x%02x%02x%02x%02x", $r[2], $r[3], $r[4], $r[5]);
+	}
+	else return;
+
+	//
+	// Loguer la visite dans la base si possible
+	//
+	if ($log_type != "autre") {
+		$query = "INSERT IGNORE INTO spip_visites_temp (ip, type, id_objet) ".
+			"VALUES ($log_ip, '$log_type', $log_id_num)";
+		spip_query($query);
+	}
+
+	//
+	// Loguer le referer
+	//
+	$url_site_spip = lire_meta('adresse_site');
+	$url_site_spip = eregi_replace("^((https?|ftp)://)?(www\.)?", "", $url_site_spip);
+	$log_referer = $GLOBALS['HTTP_REFERER'];
+	if (($url_site_spip<>'') AND strpos('-'.strtolower($log_referer), strtolower($url_site_spip)) AND !$GLOBALS['var_recherche']) $log_referer = "";
+	if ($log_referer) {
+		$referer_md5 = '0x'.substr(md5($log_referer), 0, 15);
+		$query = "INSERT IGNORE INTO spip_referers_temp (ip, referer, referer_md5, type, id_objet) ".
+			"VALUES ($log_ip, '$log_referer', $referer_md5, '$log_type', $log_id_num)";
+		spip_query($query);
+	}
+}
+
+
+function afficher_raccourci_stats($id_article) {
+	$query = "SELECT visites, popularite FROM spip_articles WHERE id_article=$id_article AND statut='publie'";
+	$result = spip_query($query);
+	if ($row = @spip_fetch_array($result)) {
+		$visites = intval($row['visites']);
+		$popularite = ceil($row['popularite']);
+
+		$query = "SELECT COUNT(DISTINCT ip) AS c FROM spip_visites_temp WHERE type='article' AND id_objet=$id_article";
+		$result = spip_query($query);
+		if ($row = @spip_fetch_array($result)) {
+			$visites = $visites + $row['c'];
+		}
+
+		return array('visites' => $visites, 'popularite' => $popularite);
+	}
+}
+
+?>

Index: rubrique.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/rubrique.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- rubrique.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ rubrique.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,8 +1,8 @@
-<?php
-$fond = "rubrique";
-$delais = 2 * 3600;
-
-
-include ("inc-public.php3");
-
-?>
+<?php
+$fond = "rubrique";
+$delais = 2 * 3600;
+
+
+include ("inc-public.php3");
+
+?>

Index: spip_redirect.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_redirect.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_redirect.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_redirect.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,44 +1,55 @@
-<?php
-// redirige vers l'URL canonique de l'article,
-// en indiquant recalcul et previsu
-
-include ("ecrire/inc_version.php3");
-
-// Gestionnaire d'URLs
-if (@file_exists("inc-urls.php3"))
-	include_local("inc-urls.php3");
-else
-	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
-
-if ($id_article) {
-	$url = generer_url_article($id_article);
-}
-else if ($id_breve) {
-	$url = generer_url_breve($id_breve);
-}
-else if ($id_forum) {
-	$url = generer_url_forum($id_forum);
-}
-else if ($id_rubrique) {
-	$url = generer_url_rubrique($id_rubrique);
-}
-else if ($id_mot) {
-	$url = generer_url_mot($id_mot);
-}
-else if ($id_auteur) {
-	$url = generer_url_auteur($id_auteur);
-}
-else {
-	$url = _DIR_RESTREINT_ABS;
-}
-if (strpos($url,'?')) {
-	$super='&';
-}
-else {
-	$super='?';
-}
-if ($recalcul) $url .= $super."var_mode=recalcul";
-else if ($preview) $url .= $super."var_mode=preview";
- at header("Location: $url");
-
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+// redirige vers l'URL canonique de l'article,
+// en indiquant recalcul et previsu
+
+include ("ecrire/inc_version.php3");
+
+// Gestionnaire d'URLs
+if (@file_exists("inc-urls.php3"))
+	include_local("inc-urls.php3");
+else
+	include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
+
+if ($id_article) {
+	$url = generer_url_article($id_article);
+}
+else if ($id_breve) {
+	$url = generer_url_breve($id_breve);
+}
+else if ($id_forum) {
+	$url = generer_url_forum($id_forum);
+}
+else if ($id_rubrique) {
+	$url = generer_url_rubrique($id_rubrique);
+}
+else if ($id_mot) {
+	$url = generer_url_mot($id_mot);
+}
+else if ($id_auteur) {
+	$url = generer_url_auteur($id_auteur);
+}
+else {
+	$url = _DIR_RESTREINT_ABS;
+}
+if (strpos($url,'?')) {
+	$super='&';
+}
+else {
+	$super='?';
+}
+if ($recalcul) $url .= $super."var_mode=recalcul";
+else if ($preview) $url .= $super."var_mode=preview";
+ at header("Location: $url");
+
 ?>

Index: index.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/index.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- index.php	8 Feb 2005 15:10:10 -0000	1.2
+++ index.php	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,4 +1,4 @@
-<?php
-	// pour hebergeurs ayant oublie de configurer DirectoryIndex index.php3
-	include ("index.php3");
-?>
+<?php
+	// pour hebergeurs ayant oublie de configurer DirectoryIndex index.php3
+	include ("index.php3");
+?>

Index: inc-compilo-api.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-compilo-api.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-compilo-api.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-compilo-api.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,249 +1,201 @@
-<?php
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_COMPILO_API")) return;
-define("_INC_COMPILO_API", "1");
-
-
-// Definition des classes Boucle, Texte, Inclure, Champ
-
-class Texte {
-	var $type = 'texte';
-	var $texte;
-}
-
-class Inclure {
-	var $type = 'include';
-	var $fichier;
-	var $params;
-}
-
-//
-// encodage d'une boucle SPIP en un objet PHP
-//
-class Boucle {
-	var $type = 'boucle';
-	var $id_boucle;
-	var $id_parent ='';
-	var $cond_avant, $milieu, $cond_apres, $cond_altern;
-	var $lang_select;
-	var $type_requete;
-	var $sql_serveur;
-	var $param = array();
-	var $separateur;
-	var $doublons;
-	var $partie, $total_parties,$mode_partie;
-	var $externe = ''; # appel a partir d'une autre boucle (recursion)
-	// champs pour la construction de la requete SQL
-	var $tout = false;
-	var $plat = false;
-	var $select;
-	var $from;
-	var $where;
-	var $limit;
-	var $group = '';
-	var $order = '';
-	var $default_order = '';
-	var $date = 'date' ;
-	var $hash = false ;
-	var $lien = false;
-	var $sous_requete = false;
-	var $compte_requete = 1;
-	var $hierarchie = '';
-	// champs pour la construction du corps PHP
-	var $id_table;
-	var $primary;
-	var $return;
-	var $numrows = false; 
-}
-
-class Champ {
-	var $type = 'champ';
-	var $nom_champ;
-	var $nom_boucle= ''; // seulement si boucle explicite
-	var $cond_avant, $cond_apres; // tableaux d'objets
-	var $fonctions;  // filtre explicites
-	var $etoile;
-	// champs pour la production de code
-	var $id_boucle;
-	var $boucles;
-	var $type_requete;
-	var $code;	// code du calcul
-	var $statut;	// 'numerique, 'h'=texte (html) ou 'p'=script (php) ?
-			// -> definira les pre et post-traitements obligatoires
-	// champs pour la production de code dependant du contexte
-	var $id_mere;    // pour TOTAL_BOUCLE hors du corps
-	var $document;   // pour embed et img dans les textes
-}
-
-
-//
-// Globales de description de la base
-
-global $tables_des_serveurs_sql, $tables_principales; // (voir inc_serialbase)
-global $exceptions_des_tables, $table_des_tables;
-global $tables_relations,  $table_primary, $table_date;
-
-$tables_des_serveurs_sql = array('localhost' => &$tables_principales);
-	
-
-	// champ principal des tables SQL
-	$table_primary = array(
-		'articles' => "id_article",
-		'auteurs' => "id_auteur",
-		'breves' => "id_breve",
-		'documents' => "id_document",
-		'forums' => "id_forum",
-		'groupes_mots' => "id_groupe",
-		'hierarchie' => "id_rubrique",
-		'mots' => "id_mot",
-		'rubriques' => "id_rubrique",
-		'signatures' => "id_signature",
-		'syndication' => "id_syndic",
-		'syndic_articles' => "id_syndic_article",
-		'types_documents' => "id_type"
-		////////////////////////////
-		//MODIFICATION
-		///////////////////////////
-		,'carto_objets' => "id_carto_objet"
-		,'carto_cartes' => "id_carto_carte"
-		///////////////////////////
-	);
-	
-	# cf. fonction table_objet dans inc_version
-	$table_des_tables = array(
-		'articles' => 'articles',
-		'auteurs' => 'auteurs',
-		'breves' => 'breves',
-		'forums' => 'forum',
-		'signatures' => 'signatures',
-		'documents' => 'documents',
-		'types_documents' => 'types_documents',
-		'mots' => 'mots',
-		'groupes_mots' => 'groupes_mots',
-		'rubriques' => 'rubriques',
-		'syndication' => 'syndic',
-		'syndic_articles' => 'syndic_articles',
-		'hierarchie' => 'rubriques'
-		////////////////////////////
-		//MODIFICATION
-		///////////////////////////
-		,'carto_objets' => "carto_objets"
-		,'carto_cartes' => "carto_cartes"
-		///////////////////////////
-	);
-	
-	$exceptions_des_tables = array(
-		'breves' => array(
-			'id_secteur' => 'id_rubrique',
-			'date' => 'date_heure',
-			'nom_site' => 'lien_titre',
-			'url_site' => 'lien_url'
-			),
-		'forums' => array(
-			'date' => 'date_heure',
-			'nom' => 'auteur',
-			'email' => 'email_auteur'
-			),
-		'signatures' => array(
-			'date' => 'date_time',
-			'nom' => 'nom_email',
-			'email' => 'ad_email'
-		),
-		'documents' => array(
-			'type_document' => array('types_documents', 'titre'),
-			'extension_document' => array('types_documents', 'extension')
-		),
-		'syndic_articles' => array(
-			'url_article' => 'url',		  # ne sert pas ? cf balise_URL_ARTICLE
-			'lesauteurs' => 'lesauteurs', # ne sert pas ? cf balise_LESAUTEURS
-			'url_site' => array('syndic', 'url_site'),
-			'nom_site' => array('syndic', 'nom_site')
-		)
-	);
-	
-	$table_date = array (
-		'articles' => 'date',
-		'auteurs' =>  'date',
-		'breves' =>  'date_heure',
-		'forums' =>  'date_heure',
-		'signatures' => 'date_time',
-		'documents' => 'date',
-		'types_documents' => 'date',
-		'groupes_mots' => 'date',
-		'mots' => 'date',
-		'rubriques' => 'date',
-		'syndication' => 'date',
-		'syndic_articles' => 'date'
-	);
-
-
-//
-// tableau des tables de relations,
-// Ex: gestion du critere {id_mot} dans la boucle(ARTICLES)
-//
-
-$tables_relations = array(
-	'articles' => array (
-		'id_mot' => 'mots_articles',
-		'id_auteur' => 'auteurs_articles',
-		'id_document' => 'documents_articles'
-		),
-
-	'auteurs' => array (
-		'id_article' => 'auteurs_articles'
-		),
-
-	'breves' => array (
-		'id_mot' => 'mots_breves',
-		'id_document' => 'documents_breves'
-		),
-
-	'documents' => array (
-		'id_article' => 'documents_articles',
-		'id_rubrique' => 'documents_rubriques',
-		'id_breve' => 'documents_breves'
-		////////////////////////////
-		//MODIFICATION
-		///////////////////////////
-		,'id_carto_carte' => 'documents_carto_cartes'
-		///////////////////////////
-		),
-
-	'forums' => array (
-		'id_mot' => 'mots_forum',
-		),
-
-	'mots' => array (
-		'id_article' => 'mots_articles',
-		'id_breve' => 'mots_breves',
-		'id_forum' => 'mots_forum',
-		'id_rubrique' => 'mots_rubriques',
-		'id_syndic' => 'mots_syndic'
-		////////////////////////////
-		//MODIFICATION
-		///////////////////////////
-		,'id_carto_objet' => 'mots_carto_objets'
-		),
-	'carto_objets' => array (
-		'id_mot' => 'mots_carto_objets',
-		),
-	'carto_cartes' => array (
-		'id_document' => 'mots_carto_cartes',
-		///////////////////////////
-		),
-
-	'groupes_mots' => array (
-		'id_groupe' => 'mots'
-		),
-
-	'rubriques' => array (
-		'id_mot' => 'mots_rubriques',
-		'id_document' => 'documents_rubriques'
-		),
-
-	'syndication' => array (
-		'id_mot' => 'mots_syndic'
-		)
-	);
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_COMPILO_API")) return;
+define("_INC_COMPILO_API", "1");
+
+
+// Definition des classes Boucle, Texte, Inclure, Champ
+
+class Texte {
+	var $type = 'texte';
+	var $texte;
+}
+
+class Inclure {
+	var $type = 'include';
+	var $fichier;
+	var $params;
+}
+
+//
+// encodage d'une boucle SPIP en un objet PHP
+//
+class Boucle {
+	var $type = 'boucle';
+	var $id_boucle;
+	var $id_parent ='';
+	var $cond_avant, $milieu, $cond_apres, $cond_altern;
+	var $lang_select;
+	var $type_requete;
+	var $sql_serveur;
+	var $param = array();
+	var $separateur;
+	var $doublons;
+	var $partie, $total_parties,$mode_partie;
+	var $externe = ''; # appel a partir d'une autre boucle (recursion)
+	// champs pour la construction de la requete SQL
+	var $tout = false;
+	var $plat = false;
+	var $select;
+	var $from;
+	var $where;
+	var $limit;
+	var $group = '';
+	var $order = '';
+	var $default_order = '';
+	var $date = 'date' ;
+	var $hash = false ;
+	var $lien = false;
+	var $sous_requete = false;
+	var $compte_requete = 1;
+	var $hierarchie = '';
+	// champs pour la construction du corps PHP
+	var $id_table;
+	var $primary;
+	var $return;
+	var $numrows = false; 
+}
+
+class Champ {
+	var $type = 'champ';
+	var $nom_champ;
+	var $nom_boucle= ''; // seulement si boucle explicite
+	var $cond_avant, $cond_apres; // tableaux d'objets
+	var $fonctions;  // filtre explicites
+	var $etoile;
+	// champs pour la production de code
+	var $id_boucle;
+	var $boucles;
+	var $type_requete;
+	var $code;	// code du calcul
+	var $statut;	// 'numerique, 'h'=texte (html) ou 'p'=script (php) ?
+			// -> definira les pre et post-traitements obligatoires
+	// champs pour la production de code dependant du contexte
+	var $id_mere;    // pour TOTAL_BOUCLE hors du corps
+	var $document;   // pour embed et img dans les textes
+}
+
+
+//
+// Globales de description de la base
+
+global $tables_des_serveurs_sql, $tables_principales; // (voir inc_serialbase)
+global $exceptions_des_tables, $table_des_tables;
+global $tables_relations,  $table_primary, $table_date;
+
+$tables_des_serveurs_sql = array('localhost' => &$tables_principales);
+	
+
+	// champ principal des tables SQL
+$table_primary['articles']="id_article";
+$table_primary['auteurs']="id_auteur";
+$table_primary['breves']="id_breve";
+$table_primary['documents']="id_document";
+$table_primary['forums']="id_forum";
+$table_primary['groupes_mots']="id_groupe";
+$table_primary['hierarchie']="id_rubrique";
+$table_primary['mots']="id_mot";
+$table_primary['rubriques']="id_rubrique";
+$table_primary['signatures']="id_signature";
+$table_primary['syndication']="id_syndic";
+$table_primary['syndic_articles']="id_syndic_article";
+$table_primary['types_documents']="id_type";
+	
+	# cf. fonction table_objet dans inc_version
+$table_des_tables['articles']='articles';
+$table_des_tables['auteurs']='auteurs';
+$table_des_tables['breves']='breves';
+$table_des_tables['forums']='forum';
+$table_des_tables['signatures']='signatures';
+$table_des_tables['documents']='documents';
+$table_des_tables['types_documents']='types_documents';
+$table_des_tables['mots']='mots';
+$table_des_tables['groupes_mots']='groupes_mots';
+$table_des_tables['rubriques']='rubriques';
+$table_des_tables['syndication']='syndic';
+$table_des_tables['syndic_articles']='syndic_articles';
+$table_des_tables['hierarchie']='rubriques';
+	
+$exceptions_des_tables['breves']['id_secteur']='id_rubrique';
+$exceptions_des_tables['breves']['date']='date_heure';
+$exceptions_des_tables['breves']['nom_site']='lien_titre';
+$exceptions_des_tables['breves']['url_site']='lien_url';
+
+$exceptions_des_tables['forums']['date']='date_heure';
+$exceptions_des_tables['forums']['nom']='auteur';
+$exceptions_des_tables['forums']['email']='email_auteur';
+
+$exceptions_des_tables['signatures']['date']='date_time';
+$exceptions_des_tables['signatures']['nom']='nom_email';
+$exceptions_des_tables['signatures']['email']='ad_email';
+
+$exceptions_des_tables['documents']['type_document']=array('types_documents', 'titre');
+$exceptions_des_tables['documents']['extension_document']=array('types_documents', 'extension');
+
+$exceptions_des_tables['syndic_articles']['url_article']='url';		  # ne sert pas ? cf balise_URL_ARTICLE
+$exceptions_des_tables['syndic_articles']['lesauteurs']='lesauteurs'; # ne sert pas ? cf balise_LESAUTEURS
+$exceptions_des_tables['syndic_articles']['url_site']=array('syndic', 'url_site');
+$exceptions_des_tables['syndic_articles']['nom_site']=array('syndic', 'nom_site');
+
+
+$table_date['articles']='date';
+$table_date['auteurs']='date';
+$table_date['breves']='date_heure';
+$table_date['forums']='date_heure';
+$table_date['signatures']='date_time';
+$table_date['documents']='date';
+$table_date['types_documents']='date';
+$table_date['groupes_mots']='date';
+$table_date['mots']='date';
+$table_date['rubriques']='date';
+$table_date['syndication']='date';
+$table_date['syndic_articles']='date';
+
+
+//
+// tableau des tables de relations,
+// Ex: gestion du critere {id_mot} dans la boucle(ARTICLES)
+//
+$tables_relations['articles']['id_mot']='mots_articles';
+$tables_relations['articles']['id_auteur']='auteurs_articles';
+$tables_relations['articles']['id_document']='documents_articles';
+
+$tables_relations['auteurs']['id_article']='auteurs_articles';
+
+$tables_relations['breves']['id_mot']='mots_breves';
+$tables_relations['breves']['id_document']='documents_breves';
+
+$tables_relations['documents']['id_article']='documents_articles';
+$tables_relations['documents']['id_rubrique']='documents_rubriques';
+$tables_relations['documents']['id_breve']='documents_breves';
+
+$tables_relations['forums']['id_mot']='mots_forum';
+
+$tables_relations['mots']['id_article']='mots_articles';
+$tables_relations['mots']['id_breve']='mots_breves';
+$tables_relations['mots']['id_forum']='mots_forum';
+$tables_relations['mots']['id_rubrique']='mots_rubriques';
+$tables_relations['mots']['id_syndic']='mots_syndic';
+
+$tables_relations['groupes_mots']['id_groupe']='mots';
+
+$tables_relations['rubriques']['id_mot']='mots_rubriques';
+$tables_relations['rubriques']['id_document']='documents_rubriques';
+
+$tables_relations['syndication']['id_mot']='mots_syndic';
+
+
+
+?>

Index: inc-compilo-index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-compilo-index.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-compilo-index.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-compilo-index.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,344 +1,357 @@
-<?php
-
-
-// fonctions de recherche et de reservation
-// dans l'arborescence des boucles
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_COMPILO_INDEX")) return;
-define("_INC_COMPILO_INDEX", "1");
-
-// index_pile retourne la position dans la pile du champ SQL $nom_champ 
-// en prenant la boucle la plus proche du sommet de pile (indique par $idb).
-// Si on ne trouve rien, on considere que ca doit provenir du contexte 
-// (par l'URL ou l'include) qui a ete recopie dans Pile[0]
-// (un essai d'affinage a debouche sur un bug vicieux)
-// Si ca reference un champ SQL, on le memorise dans la structure $boucles
-// afin de construire un requete SQL minimale (plutot qu'un brutal 'SELECT *')
-
-function index_pile($idb, $nom_champ, &$boucles, $explicite='') {
-  global $exceptions_des_tables, $table_des_tables, $tables_des_serveurs_sql;
-
-	$i = 0;
-	if (strlen($explicite)) {
-	// Recherche d'un champ dans un etage superieur
-	  while (($idb != $explicite) && ($idb !='')) {
-#		spip_log("Cherchexpl: $nom_champ '$explicite' '$idb' '$i'");
-			$i++;
-			$idb = $boucles[$idb]->id_parent;
-		}
-	}
-
-	$c = strtolower($nom_champ);
-	// attention: entre la boucle nommee 0, "" et le tableau vide,
-	// il y a incoherences qu'il vaut mieux eviter
-	while ($boucles[$idb]) {
-#		spip_log("Cherche: $nom_champ '$idb' '$c'");
-		$r = $boucles[$idb]->type_requete;
-		$s = $boucles[$idb]->sql_serveur;
-		if (!$s) 
-		  { $s = 'localhost';
-    // indirection (pour les rares cas ou le nom de la table!=type)
-		    $t = $table_des_tables[$r];
-		  }
-		// pour les tables non Spip
-		if (!$t) {$nom_table = $t = $r; }
-		else $nom_table = 'spip_' . $t;
-
-		#spip_log("Go: idb='$idb' r='$r' c='$c' nom='$nom_champ' s=$s t=$t");
-		$desc = $tables_des_serveurs_sql[$s][$nom_table];
-		if (!$desc) {
-			erreur_squelette(_T('zbug_table_inconnue', array('table' => $r)),
-				"'$idb'");
-			# continuer pour chercher l'erreur suivante
-			return  "'#" . $r . ':' . $nom_champ . "'";
-		}
-		$excep = $exceptions_des_tables[$r][$c];
-		if ($excep) {
-			// entite SPIP alias d'un champ SQL
-			if (!is_array($excep)) {
-				$e = $excep;
-				$c = $excep;
-			} 
-			// entite SPIP alias d'un champ dans une autre table SQL
-			else {
-				$t = $excep[0];
-				$e = $excep[1].' AS '.$c;
-			}
-		}
-		else {
-			// $e est le type SQL de l'entree
-			// entite SPIP homonyme au champ SQL
-			if ($desc['field'][$c])
-				$e = $c;
-			else
-				unset($e);
-		}
-
-#		spip_log("Dans $idb ('$t' '$e'): $desc");
-
-		// On l'a trouve
-		if ($e) {
-			$boucles[$idb]->select[] = $t . "." . $e;
-			return '$Pile[$SP' . ($i ? "-$i" : "") . '][\'' . $c . '\']';
-		}
-
-		// Sinon on remonte d'un cran
-		$idb = $boucles[$idb]->id_parent;
-		$i++;
-	}
-
-#	spip_log("Pas vu $nom_champ dans les " . count($boucles) . " boucles");
-	// esperons qu'il y sera
-	return('$Pile[0][\''.$nom_champ.'\']');
-}
-
-# calculer_champ genere le code PHP correspondant a une balise Spip
-# Retourne une EXPRESSION php 
-function calculer_champ($p) {
-	$p = calculer_balise($p->nom_champ, $p);
-
-	// definir le type et les traitements
-	// si ca ramene le choix par defaut, ce n'est pas un champ 
-
-	if (($p->code) && ($p->code != '$Pile[0][\''.$nom.'\']')) {
-		// Par defaut basculer en numerique pour les #ID_xxx
-		if (substr($nom,0,3) == 'ID_') $p->statut = 'num';
-	}
-
-	else {
-	// on renvoie la forme initiale '#TOTO'
-	$p->code = "'#" . $nom . "'";
-	$p->statut = 'php';	// pas de traitement
-	
-	}
-
-	// Retourner l'expression php correspondant au champ + ses filtres
-	return applique_filtres($p);
-}
-
-// cette fonction sert d'API pour demander le champ '$champ' dans la pile
-function champ_sql($champ, $p) {
-	return index_pile($p->id_boucle, $champ, $p->boucles, $p->nom_boucle);
-}
-
-// cette fonction sert d'API pour demander une balise quelconque sans filtre
-function calculer_balise($nom, $p) {
-
-	// regarder s'il existe une fonction personnalisee balise_NOM()
-	$f = 'balise_' . $nom;
-	if (function_exists($f))
-		return $f($p);
-
-	// regarder s'il existe une fonction standard balise_NOM_dist()
-	$f = 'balise_' . $nom . '_dist';
-	if (function_exists($f))
-		return $f($p);
-
-	// regarder s'il existe un fichier d'inclusion au nom de la balise
-	// et contenant un tableau balise_NOM_collecte
-	$file = 'inc-' . strtolower($nom) . _EXTENSION_PHP;
-	if ($file = find_in_path($file)) {
-		include_local($file);
-		$f = $GLOBALS['balise_' . $nom . '_collecte'];
-		if (is_array($f))
-			return calculer_balise_dynamique($p, $nom, $f);
-	}
-
-	// S'agit-il d'un logo ? Une fonction speciale les traite tous
-	if (ereg('^LOGO_', $nom))
-		return calculer_balise_logo($p);
-
-	// ca pourrait etre un champ SQL homonyme,
-	$p->code = index_pile($p->id_boucle, $nom, $p->boucles, $p->nom_boucle);
-
-	// Compatibilite ascendante avec les couleurs html (#FEFEFE) :
-	// SI le champ SQL n'est pas trouve
-	// ET si la balise a une forme de couleur
-	// ET s'il n'y a ni filtre ni etoile
-	// ALORS retourner la couleur.
-	// Ca permet si l'on veut vraiment de recuperer [(#ACCEDE*)]
-	if (ereg("^[\$]Pile[[]0[]][[]'([A-F]{1,6})'[]]$", $p->code, $match)
-	AND !$p->etoile
-	AND !$p->fonctions) {
-		$p->code = "'#". $match[1]."'";
-		$p->statut = 'php';
-	}
-
-	return $p;
-}
-
-//
-// Traduction des balises dynamiques, notamment les "formulaire_*"
-// Inclusion du fichier associe a son nom.
-// Ca donne les arguments a chercher dans la pile,on compile leur localisation
-// Ensuite on delegue a une fonction generale definie dans inc-calcul-outils
-// qui recevra a l'execution la valeurs des arguments, 
-// ainsi que les filtres (qui ne sont donc pas traites a la compil)
-
-function calculer_balise_dynamique($p, $nom, $l) {
-	balise_distante_interdite($p);
-	$param = param_balise($p);
-	$p->code = "executer_balise_dynamique('" . $nom . "',\n\tarray("
-	  . join(',',collecter_balise_dynamique($l, $p))
-	  . filtres_arglist($param, $p, ',')
-	  . "),\n\tarray("
-	  . (!$p->fonctions ? '' : ("'" . join("','", $p->fonctions) . "'"))
-	  . "), \$GLOBALS['spip_lang'])";
-	$p->statut = 'php';
-	$p->fonctions = '';
-
-	// Cas particulier de #FORMULAIRE_FORUM : inserer l'invalideur
-	if ($nom == 'FORMULAIRE_FORUM')
-		$p->code = code_invalideur_forums($p, $p->code);
-
-	return $p;
-}
-
-function param_balise(&$p) {
-	$a = $p->fonctions;
-	if ($a) list(,$nom) = each($a) ; else $nom = '';
-	if (!ereg(' *\{ *([^}]+) *\} *',$nom, $m))
-	  return '';
-	else {
-		$filtres= array();
-		while (list(, $f) = each($a)) if ($f) $filtres[] = $f;
-		$p->fonctions = $filtres;
-		return $m[1];
-	}
-}
-
-// construire un tableau des valeurs interessant un formulaire
-
-function collecter_balise_dynamique($l, $p) {
-	$args = array();
-	foreach($l as $c) { $x = calculer_balise($c, $p); $args[] = $x->code;}
-	return $args;
-}
-
-// Genere l'application d'une liste de filtres
-function applique_filtres($p) {
-
-	$statut = $p->statut;
-	$fonctions = $p->fonctions;
-	$p->fonctions = ''; # pour r?utiliser la structure si r?cursion
-
-	// pretraitements standards
-	switch ($statut) {
-		case 'num':
-			$code = "intval($code)";
-			break;
-		case 'php':
-			break;
-		case 'html':
-		default:
-			$code = "trim($code)";
-			break;
-	}
-
-//  processeurs standards (cf inc-balises.php3)
-	$code = ($p->etoile ? $p->code : champs_traitements($p));
-	// Appliquer les filtres perso
-	if ($fonctions) {
-		foreach($fonctions as $fonc) {
-			if ($fonc) {
-
-				$arglist = '';
-				if (ereg('([^\{\}]+)\{(.+)\}$', $fonc, $regs)) {
-					$fonc = $regs[1];
-
-				        $arglist = filtres_arglist($regs[2],$p, ($fonc == '?' ? ':' : ','));
-				}
-				if (function_exists($fonc))
-				  $code = "$fonc($code$arglist)";
-				else if (strpos(" < > <= >= == <> ? ", " $fonc "))
-				  $code = "($code $fonc "
-				    . substr($arglist,1)
-				    . ')';
-				else 
-				  $code = "erreur_squelette('".
-					  texte_script(
-						_T('zbug_erreur_filtre', array('filtre' => $fonc))
-					)."','" . $p->id_boucle . "')";
-			}
-		}
-	}
-
-	// post-traitement securite
-	if ($statut == 'html')
-		$code = "interdire_scripts($code)";
-	return $code;
-}
-
-// analyse des parametres d'un champ etendu
-// [...(#CHAMP{parametres})...] ou [...(#CHAMP|filtre{parametres})...]
-// retourne une suite de N references aux N valeurs indiqu?es avec N virgules
-
-function filtres_arglist($args, $p, $sep) {
-	$arglist ='';
-	while (ereg('([^,]+),?(.*)$', $args, $regs)) {
-		$arg = trim($regs[1]);
-		if ($arg) {
-			if ($arg[0] =='$')
-				$arg = '$Pile[0][\'' . substr($arg,1) . "']";
-			elseif ($arg[0] =='<')
-			  $arg = calculer_texte($arg, $p->id_boucle, $p->boucles, $p->id_mere);
-			elseif (ereg("^" . NOM_DE_CHAMP ."(.*)$", $arg, $r2)) {
-				$p->nom_boucle = $r2[2];
-				$p->nom_champ = $r2[3];
-				# faudrait verifier !trim(r2[5])
-				$arg = calculer_champ($p);
-			} 
-
-			$arglist .= $sep . $arg;
-		}
-		$args=$regs[2];
-	}
-	return $arglist;
-}
-
-//
-// Reserve les champs necessaires a la comparaison avec le contexte donne par
-// la boucle parente ; attention en recursif il faut les reserver chez soi-meme
-// ET chez sa maman
-// 
-function calculer_argument_precedent($idb, $nom_champ, &$boucles) {
-
-	// recursif ?
-	if ($boucles[$idb]->externe)
-		index_pile ($idb, $nom_champ, $boucles); // reserver chez soi-meme
-	// reserver chez le parent et renvoyer l'habituel $Pile[$SP]['nom_champ']
-#	spip_log("boucles[$idb]->id_parent " . $boucles[$idb]->id_parent);
-	return index_pile ($boucles[$idb]->id_parent, $nom_champ, $boucles);
-}
-
-function rindex_pile($p, $champ, $motif) 
-{
-	$n = 0;
-	$b = $p->id_boucle;
-	$p->code = '';
-	while ($b != '') {
-	if ($s = $p->boucles[$b]->param) {
-	  foreach($s as $v) {
-		if (strpos($v,$motif) !== false) {
-		  $p->code = '$Pile[$SP' . (($n==0) ? "" : "-$n") .
-			"]['$champ']";
-		  $b = '';
-		  break;
-		}
-	  }
-	}
-	$n++;
-	$b = $p->boucles[$b]->id_parent;
-	}
-	if (!$p->code) {
-		erreur_squelette(_T('zbug_champ_hors_motif',
-			array('champ' => '#' . strtoupper($champ),
-				'motif' => $motif)
-		), $p->id_boucle);
-	}
-	$p->statut = 'php';
-	return $p;
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+
+// fonctions de recherche et de reservation
+// dans l'arborescence des boucles
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_COMPILO_INDEX")) return;
+define("_INC_COMPILO_INDEX", "1");
+
+// index_pile retourne la position dans la pile du champ SQL $nom_champ 
+// en prenant la boucle la plus proche du sommet de pile (indique par $idb).
+// Si on ne trouve rien, on considere que ca doit provenir du contexte 
+// (par l'URL ou l'include) qui a ete recopie dans Pile[0]
+// (un essai d'affinage a debouche sur un bug vicieux)
+// Si ca reference un champ SQL, on le memorise dans la structure $boucles
+// afin de construire un requete SQL minimale (plutot qu'un brutal 'SELECT *')
+
+function index_pile($idb, $nom_champ, &$boucles, $explicite='') {
+  global $exceptions_des_tables, $table_des_tables, $tables_des_serveurs_sql;
+
+	$i = 0;
+	if (strlen($explicite)) {
+	// Recherche d'un champ dans un etage superieur
+	  while (($idb != $explicite) && ($idb !='')) {
+#		spip_log("Cherchexpl: $nom_champ '$explicite' '$idb' '$i'");
+			$i++;
+			$idb = $boucles[$idb]->id_parent;
+		}
+	}
+
+#	spip_log("Cherche: $nom_champ a partir de '$idb'");
+	$c = strtolower($nom_champ);
+	// attention: entre la boucle nommee 0, "" et le tableau vide,
+	// il y a incoherences qu'il vaut mieux eviter
+	while ($boucles[$idb]) {
+		$r = $boucles[$idb]->type_requete;
+		$s = $boucles[$idb]->sql_serveur;
+		if (!$s) 
+		  { $s = 'localhost';
+    // indirection (pour les rares cas ou le nom de la table!=type)
+		    $t = $table_des_tables[$r];
+		  }
+		// pour les tables non Spip
+		if (!$t) {$nom_table = $t = $r; }
+		else $nom_table = 'spip_' . $t;
+
+#		spip_log("Go: idb='$idb' r='$r' c='$c' nom='$nom_champ' s=$s t=$t");
+		$desc = $tables_des_serveurs_sql[$s][$nom_table];
+		if (!$desc) {
+			erreur_squelette(_T('zbug_table_inconnue', array('table' => $r)),
+				"'$idb'");
+			# continuer pour chercher l'erreur suivante
+			return  "'#" . $r . ':' . $nom_champ . "'";
+		}
+		$excep = $exceptions_des_tables[$r][$c];
+		if ($excep) {
+			// entite SPIP alias d'un champ SQL
+			if (!is_array($excep)) {
+				$e = $excep;
+				$c = $excep;
+			} 
+			// entite SPIP alias d'un champ dans une autre table SQL
+			else {
+				$t = $excep[0];
+				$e = $excep[1].' AS '.$c;
+			}
+		}
+		else {
+			// $e est le type SQL de l'entree
+			// entite SPIP homonyme au champ SQL
+			if ($desc['field'][$c])
+				$e = $c;
+			else
+				unset($e);
+		}
+
+#		spip_log("Dans $idb ('$t' '$e'): $desc");
+
+		// On l'a trouve
+		if ($e) {
+			$boucles[$idb]->select[] = $t . "." . $e;
+			return '$Pile[$SP' . ($i ? "-$i" : "") . '][\'' . $c . '\']';
+		}
+#		spip_log("On remonte vers $i");
+		// Sinon on remonte d'un cran
+		$idb = $boucles[$idb]->id_parent;
+		$i++;
+	}
+
+#	spip_log("Pas vu $nom_champ");
+	// esperons qu'il y sera
+	return('$Pile[0][\''.$nom_champ.'\']');
+}
+
+# calculer_champ genere le code PHP correspondant a une balise Spip
+# Retourne une EXPRESSION php 
+function calculer_champ($p) {
+	$p = calculer_balise($p->nom_champ, $p);
+
+	// definir le type et les traitements
+	// si ca ramene le choix par defaut, ce n'est pas un champ 
+
+	if (($p->code) && ($p->code != '$Pile[0][\''.$nom.'\']')) {
+		// Par defaut basculer en numerique pour les #ID_xxx
+		if (substr($nom,0,3) == 'ID_') $p->statut = 'num';
+	}
+
+	else {
+	// on renvoie la forme initiale '#TOTO'
+	$p->code = "'#" . $nom . "'";
+	$p->statut = 'php';	// pas de traitement
+	
+	}
+
+	// Retourner l'expression php correspondant au champ + ses filtres
+	return applique_filtres($p);
+}
+
+// cette fonction sert d'API pour demander le champ '$champ' dans la pile
+function champ_sql($champ, $p) {
+	return index_pile($p->id_boucle, $champ, $p->boucles, $p->nom_boucle);
+}
+
+// cette fonction sert d'API pour demander une balise quelconque sans filtre
+function calculer_balise($nom, $p) {
+
+	// regarder s'il existe une fonction personnalisee balise_NOM()
+	$f = 'balise_' . $nom;
+	if (function_exists($f))
+		return $f($p);
+
+	// regarder s'il existe une fonction standard balise_NOM_dist()
+	$f = 'balise_' . $nom . '_dist';
+	if (function_exists($f))
+		return $f($p);
+
+	// regarder s'il existe un fichier d'inclusion au nom de la balise
+	// contenant une fonction balise_NOM_collecte
+	$file = 'inc-' . strtolower($nom) . _EXTENSION_PHP;
+	if ($file = find_in_path($file)) {
+		include_local($file);
+		# une globale ?? defined ou function_exists(..._dyn) serait mieux ?
+		$f = $GLOBALS['balise_' . $nom . '_collecte'];
+		if (is_array($f))
+			return calculer_balise_dynamique($p, $nom, $f);
+	}
+
+	// S'agit-il d'un logo ? Une fonction speciale les traite tous
+	if (ereg('^LOGO_', $nom))
+		return calculer_balise_logo($p);
+
+	// ca pourrait etre un champ SQL homonyme,
+	$p->code = index_pile($p->id_boucle, $nom, $p->boucles, $p->nom_boucle);
+
+	// Compatibilite ascendante avec les couleurs html (#FEFEFE) :
+	// SI le champ SQL n'est pas trouve
+	// ET si la balise a une forme de couleur
+	// ET s'il n'y a ni filtre ni etoile
+	// ALORS retourner la couleur.
+	// Ca permet si l'on veut vraiment de recuperer [(#ACCEDE*)]
+	if (ereg("^[\$]Pile[[]0[]][[]'([A-F]{1,6})'[]]$", $p->code, $match)
+	AND !$p->etoile
+	AND !$p->fonctions) {
+		$p->code = "'#". $match[1]."'";
+		$p->statut = 'php';
+	}
+
+	return $p;
+}
+
+//
+// Traduction des balises dynamiques, notamment les "formulaire_*"
+// Inclusion du fichier associe a son nom.
+// Ca donne les arguments a chercher dans la pile,on compile leur localisation
+// Ensuite on delegue a une fonction generale definie dans inc-calcul-outils
+// qui recevra a l'execution la valeurs des arguments, 
+// ainsi que les filtres (qui ne sont donc pas traites a la compil)
+
+function calculer_balise_dynamique($p, $nom, $l) {
+	balise_distante_interdite($p);
+	$param = param_balise($p);
+	$p->code = "executer_balise_dynamique('" . $nom . "',\n\tarray("
+	  . join(',',collecter_balise_dynamique($l, $p))
+	  . filtres_arglist($param, $p, ',')
+	  . "),\n\tarray("
+	  . (!$p->fonctions ? '' : ("'" . join("','", $p->fonctions) . "'"))
+	  . "), \$GLOBALS['spip_lang'])";
+	$p->statut = 'php';
+	$p->fonctions = '';
+
+	// Cas particulier de #FORMULAIRE_FORUM : inserer l'invalideur
+	if ($nom == 'FORMULAIRE_FORUM')
+		$p->code = code_invalideur_forums($p, $p->code);
+
+	return $p;
+}
+
+function param_balise(&$p) {
+	$a = $p->fonctions;
+	if ($a) list(,$nom) = each($a) ; else $nom = '';
+	if (!ereg(' *\{ *([^}]+) *\} *',$nom, $m))
+	  return '';
+	else {
+		$filtres= array();
+		while (list(, $f) = each($a)) if ($f) $filtres[] = $f;
+		$p->fonctions = $filtres;
+		return $m[1];
+	}
+}
+
+// construire un tableau des valeurs interessant un formulaire
+
+function collecter_balise_dynamique($l, $p) {
+	$args = array();
+	foreach($l as $c) { $x = calculer_balise($c, $p); $args[] = $x->code;}
+	return $args;
+}
+
+// Genere l'application d'une liste de filtres
+function applique_filtres($p) {
+
+	$statut = $p->statut;
+	$fonctions = $p->fonctions;
+	$p->fonctions = ''; # pour r?utiliser la structure si r?cursion
+
+	// pretraitements standards
+	switch ($statut) {
+		case 'num':
+			$code = "intval($code)";
+			break;
+		case 'php':
+			break;
+		case 'html':
+		default:
+			$code = "trim($code)";
+			break;
+	}
+
+//  processeurs standards (cf inc-balises.php3)
+	$code = ($p->etoile ? $p->code : champs_traitements($p));
+	// Appliquer les filtres perso
+	if ($fonctions) {
+		foreach($fonctions as $fonc) {
+			if ($fonc) {
+
+				$arglist = '';
+				if (ereg('([^\{\}]+)\{(.+)\}$', $fonc, $regs)) {
+					$fonc = $regs[1];
+
+				        $arglist = filtres_arglist($regs[2],$p, ($fonc == '?' ? ':' : ','));
+				}
+				if (function_exists($fonc))
+				  $code = "$fonc($code$arglist)";
+				else if (strpos(" < > <= >= == <> ? ", " $fonc "))
+				  $code = "($code $fonc "
+				    . substr($arglist,1)
+				    . ')';
+				else 
+				  $code = "erreur_squelette('".
+					  texte_script(
+						_T('zbug_erreur_filtre', array('filtre' => $fonc))
+					)."','" . $p->id_boucle . "')";
+			}
+		}
+	}
+
+	// post-traitement securite
+	if ($statut == 'html')
+		$code = "interdire_scripts($code)";
+	return $code;
+}
+
+// analyse des parametres d'un champ etendu
+// [...(#CHAMP{parametres})...] ou [...(#CHAMP|filtre{parametres})...]
+// retourne une suite de N references aux N valeurs indiqu?es avec N virgules
+
+function filtres_arglist($args, $p, $sep) {
+	$arglist ='';
+	while (ereg('([^,]+),?(.*)$', $args, $regs)) {
+		$arg = trim($regs[1]);
+		if ($arg) {
+			if ($arg[0] =='$')
+				$arg = '$Pile[0][\'' . substr($arg,1) . "']";
+			elseif ($arg[0] =='<')
+			  $arg = calculer_texte($arg, $p->id_boucle, $p->boucles, $p->id_mere);
+			elseif (ereg("^" . NOM_DE_CHAMP ."(.*)$", $arg, $r2)) {
+				$p->nom_boucle = $r2[2];
+				$p->nom_champ = $r2[3];
+				# faudrait verifier !trim(r2[5])
+				$arg = calculer_champ($p);
+			} 
+
+			$arglist .= $sep . $arg;
+		}
+		$args=$regs[2];
+	}
+	return $arglist;
+}
+
+//
+// Reserve les champs necessaires a la comparaison avec le contexte donne par
+// la boucle parente ; attention en recursif il faut les reserver chez soi-meme
+// ET chez sa maman
+// 
+function calculer_argument_precedent($idb, $nom_champ, &$boucles) {
+
+	// si recursif, forcer l'extraction du champ SQL mais ignorer le code
+	if ($boucles[$idb]->externe)
+		index_pile ($idb, $nom_champ, $boucles); 
+	// retourner $Pile[$SP] et pas $Pile[0] (bug recursion en 1ere boucle)
+	$prec = $boucles[$idb]->id_parent;
+	return (!$prec ? ('$Pile[$SP][\''.$nom_champ.'\']') : 
+		index_pile($prec, $nom_champ, $boucles));
+}
+
+function rindex_pile($p, $champ, $motif) 
+{
+	$n = 0;
+	$b = $p->id_boucle;
+	$p->code = '';
+	while ($b != '') {
+	if ($s = $p->boucles[$b]->param) {
+	  foreach($s as $v) {
+		if (strpos($v,$motif) !== false) {
+		  $p->code = '$Pile[$SP' . (($n==0) ? "" : "-$n") .
+			"]['$champ']";
+		  $b = '';
+		  break;
+		}
+	  }
+	}
+	$n++;
+	$b = $p->boucles[$b]->id_parent;
+	}
+	if (!$p->code) {
+		erreur_squelette(_T('zbug_champ_hors_motif',
+			array('champ' => '#' . strtoupper($champ),
+				'motif' => $motif)
+		), $p->id_boucle);
+	}
+	$p->statut = 'php';
+	return $p;
+}
+
+?>

Index: mot.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/mot.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- mot.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ mot.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,9 +1,9 @@
-<?php
-$fond = "mot";
-$delais = 24 * 3600;
-
-
-include ("inc-public.php3");
-
-
-?>
+<?php
+$fond = "mot";
+$delais = 24 * 3600;
+
+
+include ("inc-public.php3");
+
+
+?>

Index: mes_fonctions.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/mes_fonctions.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- mes_fonctions.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ mes_fonctions.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,234 +1,83 @@
-<?php
-
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-//          MODULE CARTO
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-// PARAMETRAGE
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-
-//////////////////////////////////////////////////
-// CARTO_CARTES
-//////////////////////////////////////////////////
-$spip_carto_cartes = array(
-	"id_carto_carte" => "bigint(21) NOT NULL",
-	"titre" => "VARCHAR(255) BINARY NOT NULL",
-	"texte" => "TEXT BINARY NOT NULL",
-	"url_carte" => "TEXT BINARY NOT NULL",
-	"callage" => "TEXT BINARY NOT NULL",
-	"id_srs" => "bigint(21) NOT NULL");
-
-$spip_carto_cartes_key = array(
-	"PRIMARY KEY" => "id_carto_carte",
-	"KEY id_carto_carte" => "id_carto_carte");
-
-
-//////////////////////////////////////////////////
-// CARTO_OBJETS
-//////////////////////////////////////////////////
-
-$spip_carto_objets = array(
-	"id_carto_objet" => "bigint(21) NOT NULL",
-	"id_carto_carte" => "bigint(21) NOT NULL",
-	"titre" => "VARCHAR(255) BINARY NOT NULL",
-	"texte" => "TEXT BINARY NOT NULL",
-	"url_objet" => "TEXT BINARY NOT NULL",
-	"url_logo" => "TEXT BINARY NOT NULL",
-	"geometrie" => "TEXT BINARY NOT NULL");
-	
-$spip_carto_objets_key = array(
-	"PRIMARY KEY" => "id_carto_objet",
-	"KEY id_carto_carte" => "id_carto_carte",
-	"KEY titre" => "titre");
-
-//////////////////////////////////////////////////
-// CARTO_CARTES_ARTICLES
-//////////////////////////////////////////////////
-
-$spip_carto_cartes_articles = array(
-	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
-	"id_article" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
-
-$spip_carto_cartes_articles_key = array(
-	"KEY id_carto_carte" 	=> "id_carto_carte",
-	"KEY id_article" => "id_article");
-
-
-//////////////////////////////////////////////////
-// CARTO_CARTES_ARTICLES
-//////////////////////////////////////////////////
-
-$spip_carto_cartes_articles = array(
-	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
-	"id_article" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
-
-$spip_carto_cartes_articles_key = array(
-	"KEY id_carto_carte" 	=> "id_carto_carte",
-	"KEY id_article" => "id_article");
-
-
-$tables_auxiliaires['spip_carto_cartes_articles'] = array(
-	'field' => &$spip_carto_cartes_articles,
-	'key' => &$spip_carto_cartes_articles_key);
-
-//////////////////////////////////////////////////
-// MOTS_CARTO_OBJETS
-//////////////////////////////////////////////////
-
-$spip_mots_carto_objets= array(
-	"id_carto_objet" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
-	"id_mot" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
-
-$spip_mots_carto_objets_key = array(
-	"KEY id_carto_objet" 	=> "id_carto_objet",
-	"KEY id_mot" => "id_mot");
-
-//////////////////////////////////////////////////
-// DOCUMENTS_CARTO_OBJETS
-//////////////////////////////////////////////////
-
-$spip_documents_carto_cartes= array(
-	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
-	"id_document" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
-
-$spip_documents_carto_cartes_key = array(
-	"KEY id_carto_carte" 	=> "id_carto_carte",
-	"KEY id_document" => "id_document");
-
-
-//////////////////////////////////////////////////
-// DECLARATION
-//////////////////////////////////////////////////
-
-global $tables_principales,$table_primary,$tables_auxiliaires,$tables_relations;
-
-
-$tables_principales['spip_carto_cartes'] =
-	array('field' => &$spip_carto_cartes, 'key' => &$spip_carto_cartes_key);
-
-$tables_principales['spip_carto_objets'] =
-	array('field' => &$spip_carto_objets, 'key' => &$spip_carto_objets_key);
-
-//Relation avec les articles
-$tables_auxiliaires['spip_carto_cartes_articles'] = array(
-	'field' => &$spip_carto_cartes_articles,
-	'key' => &$spip_carto_cartes_articles_key);
-
-
-//La, ca se discute ...
-//Ca devrait etre une table secondaire
-//mais comme on n'utilise que l'id_mot dans la boucle
-//on gagne une jointure dans la requete
-
-//$tables_principales['spip_mots_carto_objets'] = array(
-//	'field' => &$spip_mots_carto_objets,
-//	'key' => &$spip_mots_carto_objets_key);
-
-$tables_auxiliaires['spip_mots_carto_objets'] = array(
-	'field' => &$spip_mots_carto_objets,
-	'key' => &$spip_mots_carto_objets_key);
-	
-//Relation pour boucle CARTO_OBJETS par crit?re mot
-//$tables_relations['mots']['id_carto_objet']= 'mots_carto_objets';
-//$tables_relations['carto_objets']['id_mot']= 'mots_carto_objets';
-
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-//FILTRES
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-/* +---------------------------------------------+
- *    Nom    du    Filtre : WKT to STYLE
- * +---------------------------------------------+    
- * Date : mercredi 09 avril 2003
- * Auteur :    
- * site : 
- * +---------------------------------------------+ 
- * Fonctions de ce filtre : 
- * Appelez le dans vos squellette tout simplement par :
- * [(#GEOMETRIE|wkt2style)] 
- * +--------------------------------------------- +
- *  
- * Pour toute suggestion, remarque, proposition d'ajout
- * reportez-vous au forum de l'article :
- * http://www.uzine.net/spip_contrib/
- *
- */
-function wkt2style($geometrie){
-	$debut=strpos($geometrie,"(");
-	$milieu=strpos($geometrie,",");
-	$fin=strpos($geometrie,";");
-	$returned_str="top: ".substr($geometrie,$milieu+1,$fin-$milieu-1)."px;left: ".substr($geometrie,$debut+1,$milieu-$debut-1)."px;";
-	return $returned_str;
-}
-
-/*
- *   +---------------------------------------------+
- *    Nom du Filtre : WKT to COORDS
- *   +---------------------------------------------+
- *    Date : mercredi 09 avril 2003
- *    Auteur : 
- *    site :  
- *   +---------------------------------------------+
- *    Fonctions de ce filtre :
- *     Appelez le dans vos squellette tout simplement
- *     par : [(#GEOMETRIE|wkt2coords)]
- *   +---------------------------------------------+
- *  
- * Pour toute suggestion, remarque, proposition d'ajout
- * reportez-vous au forum de l'article :
- * http://www.uzine.net/spip_contrib/
- *
- */
-function wkt2coords($geometrie){
-	
-	return str_replace(';',',',substr($geometrie,8,-1));
-}
-
-/*
- *   +---------------------------------------------+
- *    Nom du Filtre : WKT to SHAPE 
- *   +---------------------------------------------+
- *    Date : mercredi 09 avril 2003
- *    Auteur : 
- *    site :  
- *   +---------------------------------------------+
- *    Fonctions de ce filtre :
- *     Appelez le dans vos squellette tout simplement
- *     par : [(#GEOMETRIE|wkt2shape)]
- *   +---------------------------------------------+
- *  
- * Pour toute suggestion, remarque, proposition d'ajout
- * reportez-vous au forum de l'article :
- * http://www.uzine.net/spip_contrib/
- *
- */
-function wkt2shape($geometrie){
-	
-	return substr($geometrie,0,4);
-}
-
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-//			FIN MODULE CARTO
-//////////////////////////////////////////////////
-//////////////////////////////////////////////////
-
-
-/*/ Filtre SECU - 
-function supprimer_la_securite($texte){
-$texte=ereg_replace ("<php>","<?php",$texte);
-$texte=ereg_replace ("</php>","?>",$texte);
-return $texte;
-}
-*/
-
-
-?>
+<?php
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//FILTRES
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+/* +---------------------------------------------+
+ *    Nom    du    Filtre : WKT to STYLE
+ * +---------------------------------------------+    
+ * Date : mercredi 09 avril 2003
+ * Auteur :    
+ * site : 
+ * +---------------------------------------------+ 
+ * Fonctions de ce filtre : 
+ * Appelez le dans vos squellette tout simplement par :
+ * [(#GEOMETRIE|wkt2style)] 
+ * +--------------------------------------------- +
+ *  
+ * Pour toute suggestion, remarque, proposition d'ajout
+ * reportez-vous au forum de l'article :
+ * http://www.uzine.net/spip_contrib/
+ *
+ */
+function wkt2style($geometrie){
+	$debut=strpos($geometrie,"(");
+	$milieu=strpos($geometrie,",");
+	$fin=strpos($geometrie,";");
+	$returned_str="top: ".substr($geometrie,$milieu+1,$fin-$milieu-1)."px;left: ".substr($geometrie,$debut+1,$milieu-$debut-1)."px;";
+	return $returned_str;
+}
+
+/*
+ *   +---------------------------------------------+
+ *    Nom du Filtre : WKT to COORDS
+ *   +---------------------------------------------+
+ *    Date : mercredi 09 avril 2003
+ *    Auteur : 
+ *    site :  
+ *   +---------------------------------------------+
+ *    Fonctions de ce filtre :
+ *     Appelez le dans vos squellette tout simplement
+ *     par : [(#GEOMETRIE|wkt2coords)]
+ *   +---------------------------------------------+
+ *  
+ * Pour toute suggestion, remarque, proposition d'ajout
+ * reportez-vous au forum de l'article :
+ * http://www.uzine.net/spip_contrib/
+ *
+ */
+function wkt2coords($geometrie){
+	
+	return str_replace(';',',',substr($geometrie,8,-1));
+}
+
+/*
+ *   +---------------------------------------------+
+ *    Nom du Filtre : WKT to SHAPE 
+ *   +---------------------------------------------+
+ *    Date : mercredi 09 avril 2003
+ *    Auteur : 
+ *    site :  
+ *   +---------------------------------------------+
+ *    Fonctions de ce filtre :
+ *     Appelez le dans vos squellette tout simplement
+ *     par : [(#GEOMETRIE|wkt2shape)]
+ *   +---------------------------------------------+
+ *  
+ * Pour toute suggestion, remarque, proposition d'ajout
+ * reportez-vous au forum de l'article :
+ * http://www.uzine.net/spip_contrib/
+ *
+ */
+function wkt2shape($geometrie){
+	
+	return substr($geometrie,0,4);
+}
+
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//			FIN MODULE CARTO
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+?>
\ No newline at end of file

Index: recherche.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/recherche.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- recherche.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ recherche.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,8 +1,8 @@
-<?php
-$fond = "recherche";
-$delais = 0;
-
-include ("inc-public.php3");
-
-
-?>
+<?php
+$fond = "recherche";
+$delais = 0;
+
+include ("inc-public.php3");
+
+
+?>

Index: site.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/site.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- site.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ site.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,9 +1,9 @@
-<?php
-$fond = "site";
-$delais = 24 * 3600;
-
-
-include ("inc-public.php3");
-
-
-?>
+<?php
+$fond = "site";
+$delais = 24 * 3600;
+
+
+include ("inc-public.php3");
+
+
+?>

Index: spip_acces_doc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_acces_doc.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_acces_doc.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_acces_doc.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,75 +1,86 @@
-<?
-# script d'acces aux documents joints
-# doit etre appele avec un de ces 2 parametres de GET:
-# - id_document 
-# - file 
-# il verifie soit que le demandeur est authentifie
-# soit que le fichier est joint ? au moins 1 article, breve ou rubrique
-
-$id_document = ($_GET['id_document']);
-$file = urldecode($_GET['file']);
-if (strpos($file,'../') !== false)
-  $refus = 1;
-else
-  {
-    $refus = false;
-    include ("ecrire/inc_version.php3");
-    include_local(_FILE_CONNECT);
-    include_ecrire("inc_meta.php3");
-    include_ecrire("inc_session.php3");
-
-    global $auteur_session;
-    if ($cookie_session = $_COOKIE['spip_session']) 
-      {
-	if (verifier_session($cookie_session)) 
-	  {
-	    if ($auteur_session['statut'] == '0minirezo' 
-		OR $auteur_session['statut'] == '1comite') 
-	      $auth_login = $auteur_session['login'];
-	  }
-      }
-
-    if (!$id_document) {
-      $id_document = @spip_fetch_array(spip_query("select id_document from spip_documents as documents where documents.fichier='".$file."'"));
-      if (!$id_document) $refus = 2;
-      $id_document = $id_document['id_document'];
-    } else {
-      $file = @spip_fetch_array(spip_query("select fichier from spip_documents as documents where id_document='". $id_document ."'"));
-      if (!$file) $refus = 3;
-      $file = $file['fichier'];
-    }
-  }
-
-if (!$auth_login && !$refus) { 
-    if (!spip_num_rows(spip_query("select articles.id_article
-from spip_documents_articles as rel_articles, spip_articles as articles 
-where rel_articles.id_article = articles.id_article AND
-articles.statut = 'publie' AND rel_articles.id_document ='".
-			       $id_document .
-				"' LIMIT 1"))) {
-      if (!spip_num_rows(spip_query("select rubriques.id_rubrique
-from spip_documents_rubriques as rel_rubriques, spip_rubriques as rubriques 
-where rel_rubriques.id_rubrique = rubriques.id_rubrique AND
-rubriques.statut = 'publie' AND rel_rubriques.id_document ='".
-			       $id_document .
-				  "' LIMIT 1"))) {
-	if (!spip_num_rows(spip_query("select breves.id_breve
-from spip_documents_breves as rel_breves, spip_breves as breves 
-where rel_breves.id_breve = breves.id_breve AND
-breves.statut = 'publie' AND rel_breves.id_document ='".
-			       $id_document .
-				  "' LIMIT 1")))
-	  $refus = 4; } } }
-
-if (!$refus)
-  {
-     header("Content-Type: ". mime_content_type($file));
-     header("Content-Length: ". filesize($file));
-     header("Content-Disposition: attachment; filename=\"". basename($file) ."\";");
-     header("Content-Transfer-Encoding: binary");
-     readfile($file);
-   }
- else
-   spip_log("Acces refuse ($refus) au document " . ($_GET['id_document']) . ': ' .($_GET['file']));
-
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+# script d'acces aux documents joints
+# doit etre appele avec un de ces 2 parametres de GET:
+# - id_document 
+# - file 
+# il verifie soit que le demandeur est authentifie
+# soit que le fichier est joint ? au moins 1 article, breve ou rubrique
+
+$id_document = ($_GET['id_document']);
+$file = urldecode($_GET['file']);
+if (strpos($file,'../') !== false)
+  $refus = 1;
+else
+  {
+    $refus = false;
+    include ("ecrire/inc_version.php3");
+    include_local(_FILE_CONNECT);
+    include_ecrire("inc_meta.php3");
+    include_ecrire("inc_session.php3");
+
+    global $auteur_session;
+    if ($cookie_session = $_COOKIE['spip_session']) 
+      {
+	if (verifier_session($cookie_session)) 
+	  {
+	    if ($auteur_session['statut'] == '0minirezo' 
+		OR $auteur_session['statut'] == '1comite') 
+	      $auth_login = $auteur_session['login'];
+	  }
+      }
+
+    if (!$id_document) {
+      $id_document = @spip_fetch_array(spip_query("select id_document from spip_documents as documents where documents.fichier='".$file."'"));
+      if (!$id_document) $refus = 2;
+      $id_document = $id_document['id_document'];
+    } else {
+      $file = @spip_fetch_array(spip_query("select fichier from spip_documents as documents where id_document='". $id_document ."'"));
+      if (!$file) $refus = 3;
+      $file = $file['fichier'];
+    }
+  }
+
+if (!$auth_login && !$refus) { 
+    if (!spip_num_rows(spip_query("select articles.id_article
+from spip_documents_articles as rel_articles, spip_articles as articles 
+where rel_articles.id_article = articles.id_article AND
+articles.statut = 'publie' AND rel_articles.id_document ='".
+			       $id_document .
+				"' LIMIT 1"))) {
+      if (!spip_num_rows(spip_query("select rubriques.id_rubrique
+from spip_documents_rubriques as rel_rubriques, spip_rubriques as rubriques 
+where rel_rubriques.id_rubrique = rubriques.id_rubrique AND
+rubriques.statut = 'publie' AND rel_rubriques.id_document ='".
+			       $id_document .
+				  "' LIMIT 1"))) {
+	if (!spip_num_rows(spip_query("select breves.id_breve
+from spip_documents_breves as rel_breves, spip_breves as breves 
+where rel_breves.id_breve = breves.id_breve AND
+breves.statut = 'publie' AND rel_breves.id_document ='".
+			       $id_document .
+				  "' LIMIT 1")))
+	  $refus = 4; } } }
+
+if (!$refus)
+  {
+     header("Content-Type: ". mime_content_type($file));
+     header("Content-Length: ". filesize($file));
+     header("Content-Disposition: attachment; filename=\"". basename($file) ."\";");
+     header("Content-Transfer-Encoding: binary");
+     readfile($file);
+   }
+ else
+   spip_log("Acces refuse ($refus) au document " . ($_GET['id_document']) . ': ' .($_GET['file']));
+
 ?>

Index: plan.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/plan.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- plan.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ plan.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,8 +1,8 @@
-<?php
-
-$fond = "plan";
-$delais = 2 * 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+$fond = "plan";
+$delais = 2 * 3600;
+
+include ("inc-public.php3");
+
+?>

Index: spip_style.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_style.css,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_style.css	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_style.css	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,139 +1,139 @@
-a {
-	text-decoration: none;
-}
-
-a:hover {
-	color:#FF9900;
-	text-decoration: underline;
-}
-
-a.spip_url { }
-a.spip_in { }
-a.spip_out { }
-a.spip_glossaire { }
-
-.spip_code { }
-
-p.spip_note { }
-
-h3.spip {
-	font-family: Verdana,Arial,Helvetica,sans-serif;
-	font-weight: bold;
-	font-size: 120%;
-	text-align: center;
-	margin-top : 40px;
-	margin-bottom : 40px;
-	padding: 0em;
-}
-
-.spip_puce {
-	list-style-position: inside;
-}
-
-.spip_documents{
-	font-family: Verdana,Arial,Helvetica,sans-serif;
-	font-size : 70%;
-}
-
-
-table.spip {
-}
-
-table.spip tr.row_first {
-	background-color: #FCF4D0;
-}
-
-table.spip tr.row_odd {
-	background-color: #C0C0C0;
-}
-
-table.spip tr.row_even {
-	background-color: #F0F0F0;
-}
-
-table.spip td {
-	padding: 1px;
-	text-align: left;
-	vertical-align: middle;
-}
-
-hr.spip { }
-b.spip { }
-i.spip { }
-blockquote.spip {
-	margin-left : 40px;
-	margin-top : 10px;
-	margin-bottom : 10px;
-	margin-right: 0px;
-	border : solid 1px #aaaaaa;
-	background-color: #ffffff;
-	padding-left: 10px;
-	padding-right: 10px;
-}
-
-.forml { width: 100% ; background-color: #FFDDAA;}
-
-.spip_encadrer {
-	font-family: helvetica, arial, sans-serif;
-	width : 95%;
-	background-color: #FFFFFF;
-	padding: 5px;
-	border: 1px #666666 solid;
-}
-
-.spip_cadre {
-	width : 95%;
-	background-color: #FFFFFF;
-	padding: 5px;
-	margin-top: 10px;
-}
-
-div.spip_poesie {
-	margin-bottom: 5px;
-	margin-left: 10px;
-	padding-left: 10px;
-	border-left: 1px solid #999999;
-}
-div.spip_poesie div {
-	text-indent: -60px;
-	margin-left: 60px;
-}
-
-.spip_bouton { background-color: #FFCC00;}
-
-form.formrecherche { 
-	margin-top: 5px;
-	margin-bottom: 5px;
-}
-input.formrecherche {
-	width: 95%;
-	background-color: #FFDDAA;
-}
-
-.reponse_formulaire {
-	font-family: Verdana,Arial,Helvetica,sans-serif;
-	font-weight: bold;
-	font-size: 110%;
-	color: red;
-}
-
-.spip_surligne { background-color: #FFFF66; }
-
-
-/*
- * Barre de raccourcis
- */
-
-a.spip_barre img {
-	border-left: 1px solid #ffffff;
-	border-top: 1px solid #ffffff;
-	border-right: 1px solid #aa9966;
-	border-bottom: 1px solid #aa9966;
-	padding: 3px;
-	background-color: #FFDDAA;
-}
-a.spip_barre:hover img {
-	border: 1px solid #808080;
-	padding: 3px;
-	background-color: #f8f8f4;
-}
+a {
+	text-decoration: none;
+}
+
+a:hover {
+	color:#FF9900;
+	text-decoration: underline;
+}
+
+a.spip_url { }
+a.spip_in { }
+a.spip_out { }
+a.spip_glossaire { }
+
+.spip_code { }
+
+p.spip_note { }
+
+h3.spip {
+	font-family: Verdana,Arial,Helvetica,sans-serif;
+	font-weight: bold;
+	font-size: 120%;
+	text-align: center;
+	margin-top : 40px;
+	margin-bottom : 40px;
+	padding: 0em;
+}
+
+.spip_puce {
+	list-style-position: inside;
+}
+
+.spip_documents{
+	font-family: Verdana,Arial,Helvetica,sans-serif;
+	font-size : 70%;
+}
+
+
+table.spip {
+}
+
+table.spip tr.row_first {
+	background-color: #FCF4D0;
+}
+
+table.spip tr.row_odd {
+	background-color: #C0C0C0;
+}
+
+table.spip tr.row_even {
+	background-color: #F0F0F0;
+}
+
+table.spip td {
+	padding: 1px;
+	text-align: left;
+	vertical-align: middle;
+}
+
+hr.spip { }
+b.spip { }
+i.spip { }
+blockquote.spip {
+	margin-left : 40px;
+	margin-top : 10px;
+	margin-bottom : 10px;
+	margin-right: 0px;
+	border : solid 1px #aaaaaa;
+	background-color: #ffffff;
+	padding-left: 10px;
+	padding-right: 10px;
+}
+
+.forml { width: 100% ; background-color: #FFDDAA;}
+
+.spip_encadrer {
+	font-family: helvetica, arial, sans-serif;
+	width : 95%;
+	background-color: #FFFFFF;
+	padding: 5px;
+	border: 1px #666666 solid;
+}
+
+.spip_cadre {
+	width : 95%;
+	background-color: #FFFFFF;
+	padding: 5px;
+	margin-top: 10px;
+}
+
+div.spip_poesie {
+	margin-bottom: 5px;
+	margin-left: 10px;
+	padding-left: 10px;
+	border-left: 1px solid #999999;
+}
+div.spip_poesie div {
+	text-indent: -60px;
+	margin-left: 60px;
+}
+
+.spip_bouton { background-color: #FFCC00;}
+
+form.formrecherche { 
+	margin-top: 5px;
+	margin-bottom: 5px;
+}
+input.formrecherche {
+	width: 95%;
+	background-color: #FFDDAA;
+}
+
+.reponse_formulaire {
+	font-family: Verdana,Arial,Helvetica,sans-serif;
+	font-weight: bold;
+	font-size: 110%;
+	color: red;
+}
+
+.spip_surligne { background-color: #FFFF66; }
+
+
+/*
+ * Barre de raccourcis
+ */
+
+a.spip_barre img {
+	border-left: 1px solid #ffffff;
+	border-top: 1px solid #ffffff;
+	border-right: 1px solid #aa9966;
+	border-bottom: 1px solid #aa9966;
+	padding: 3px;
+	background-color: #FFDDAA;
+}
+a.spip_barre:hover img {
+	border: 1px solid #808080;
+	padding: 3px;
+	background-color: #f8f8f4;
+}

Index: spip_inscription.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_inscription.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_inscription.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_inscription.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,12 +1,23 @@
-<?php
-include ("ecrire/inc_version.php3");
-include_ecrire("inc_presentation.php3");
-include_local(find_in_path("inc-formulaire_inscription.php3"));
-include_local("inc-public-global.php3"); 
-include_local ("inc-cache.php3");
-
-install_debut_html(_T('pass_vousinscrire'));
-inclure_balise_dynamique(balise_formulaire_inscription_dyn($mode, $mail_inscription, $nom_inscription, $focus, $target));
-# echo http_script_window_close(); # fait dans le squelette a present
-install_fin_html();
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+include ("ecrire/inc_version.php3");
+include_ecrire("inc_presentation.php3");
+include_local(find_in_path("inc-formulaire_inscription.php3"));
+include_local("inc-public-global.php3"); 
+include_local ("inc-cache.php3");
+
+install_debut_html(_T('pass_vousinscrire'));
+inclure_balise_dynamique(balise_formulaire_inscription_dyn($mode, $mail_inscription, $nom_inscription, $focus, $target));
+# echo http_script_window_close(); # fait dans le squelette a present
+install_fin_html();
+?>

Index: spip_barre.js
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_barre.js,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_barre.js	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_barre.js	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,186 +1,188 @@
-// Barre de raccourcis
-// derive du:
-// bbCode control by subBlue design : www.subBlue.com
-
-// Startup variables
-var theSelection = false;
-
-// Check for Browser & Platform for PC & IE specific bits
-// More details from: http://www.mozilla.org/docs/web-developer/sniffer/browser_type.html
-var clientPC = navigator.userAgent.toLowerCase(); // Get client info
-var clientVer = parseInt(navigator.appVersion); // Get browser version
-
-var is_ie = ((clientPC.indexOf("msie") != -1) && (clientPC.indexOf("opera") == -1));
-var is_nav = ((clientPC.indexOf('mozilla')!=-1) && (clientPC.indexOf('spoofer')==-1)
-                && (clientPC.indexOf('compatible') == -1) && (clientPC.indexOf('opera')==-1)
-                && (clientPC.indexOf('webtv')==-1) && (clientPC.indexOf('hotjava')==-1));
-var is_moz = 0;
-
-var is_win = ((clientPC.indexOf("win")!=-1) || (clientPC.indexOf("16bit") != -1));
-var is_mac = (clientPC.indexOf("mac")!=-1);
-
-
-function barre_raccourci(debut,fin,champ) {
-	var txtarea = champ;
-
-	txtarea.focus();
-	donotinsert = false;
-	theSelection = false;
-	bblast = 0;
-
-	if ((clientVer >= 4) && is_ie && is_win)
-	{
-		theSelection = document.selection.createRange().text; // Get text selection
-		if (theSelection) {
-
-			while (theSelection.substring(theSelection.length-1, theSelection.length) == ' ')
-			{
-				theSelection = theSelection.substring(0, theSelection.length-1);
-				fin = fin + " ";
-			}
-			if (theSelection.substring(0,1) == '{' && debut.substring(0,1) == '{')
-			{
-				debut = debut + " ";
-			}
-			if (theSelection.substring(theSelection.length-1, theSelection.length) == '}' && fin.substring(0,1) == '}')
-			{
-				fin = " " + fin;
-			}
-
-			// Add tags around selection
-			document.selection.createRange().text = debut + theSelection + fin;
-			txtarea.focus();
-			theSelection = '';
-			return;
-		}
-	}
-	else if (txtarea.selectionEnd && (txtarea.selectionEnd - txtarea.selectionStart > 0))
-	{
-		mozWrap(txtarea, debut, fin);
-		return;
-	}
-}
-
-function barre_demande(debut,milieu,fin,affich,champ) {
-	var inserer = prompt(affich);
-
-	if (inserer != null) {
-		if (inserer == "") {inserer = "xxx"; }
-
-		barre_raccourci(debut, milieu+inserer+fin, champ);
-	}
-}
-
-function barre_inserer(text,champ) {
-	var txtarea = champ;
-	
-	if (txtarea.createTextRange && txtarea.caretPos) {
-		var caretPos = txtarea.caretPos;
-		caretPos.text = caretPos.text.charAt(caretPos.text.length - 1) == ' ' ? caretPos.text + text + ' ' : caretPos.text + text;
-		txtarea.focus();
-	} else {
-		//txtarea.value  += text;
-		//txtarea.focus();
-		mozWrap(txtarea, '', text);
-		return;
-	}
-}
-
-
-// D'apres Nicolas Hoizey 
-function barre_tableau(toolbarfield)
-{
-	var txtarea = toolbarfield;
-	txtarea.focus();
-	var cols = prompt("Nombre de colonnes du tableau :", "");
-	var rows = prompt("Nombre de lignes du tableau :", "");
-	if (cols != null && rows != null) {
-		var tbl = '';
-		var ligne = '|';
-		var entete = '|';
-		for(i = 0; i < cols; i++) {
-			ligne = ligne + ' valeur |';
-			entete = entete + ' {{entete}} |';
-		}
-		for (i = 0; i < rows; i++) {
-			tbl = tbl + ligne + '\n';
-		}
-		if (confirm('Voulez vous ajouter une ligne d\'en-t?te ?')) {
-			tbl = entete + '\n' + tbl;
-		}
-		if ((clientVer >= 4) && is_ie && is_win) {
-			var str = document.selection.createRange().text;
-			var sel = document.selection.createRange();
-			sel.text = str + '\n\n' + tbl + '\n\n';
-		} else {
-			mozWrap(txtarea, '', "\n\n" + tbl + "\n\n");
-		}
-	}
-	return;
-}
-
-
-
-// Shows the help messages in the helpline window
-function helpline(help, champ) {
-	champ.value = help;
-}
-
-
-function setCaretToEnd (input) {
-  setSelectionRange(input, input.value.length, input.value.length);
-}
-
-
-function setSelectionRange(input, selectionStart, selectionEnd) {
-  if (input.setSelectionRange) {
-    input.focus();
-    input.setSelectionRange(selectionStart, selectionEnd);
-  }
-  else if (input.createTextRange) {
-    var range = input.createTextRange();
-    range.collapse(true);
-    range.moveEnd('character', selectionEnd);
-    range.moveStart('character', selectionStart);
-    range.select();
-  }
-}
-
-// From http://www.massless.org/mozedit/
-function mozWrap(txtarea, open, close)
-{
-	var selLength = txtarea.textLength;
-	var selStart = txtarea.selectionStart;
-	var selEnd = txtarea.selectionEnd;
-	if (selEnd == 1 || selEnd == 2)
-		selEnd = selLength;
-	
-	// Raccourcir la selection par double-clic si dernier caractere est espace	
-	if (selEnd - selStart > 0 && (txtarea.value).substring(selEnd-1,selEnd) == ' ') selEnd = selEnd-1;
-	
-	var s1 = (txtarea.value).substring(0,selStart);
-	var s2 = (txtarea.value).substring(selStart, selEnd)
-	var s3 = (txtarea.value).substring(selEnd, selLength);
-
-	// Eviter melange bold-italic-intertitre
-	if ((txtarea.value).substring(selEnd,selEnd+1) == '}' && close.substring(0,1) == "}") close = close + " ";
-	if ((txtarea.value).substring(selEnd-1,selEnd) == '}' && close.substring(0,1) == "}") close = " " + close;
-	if ((txtarea.value).substring(selStart-1,selStart) == '{' && open.substring(0,1) == "{") open = " " + open;
-	if ((txtarea.value).substring(selStart,selStart+1) == '{' && open.substring(0,1) == "{") open = open + " ";
-
-	txtarea.value = s1 + open + s2 + close + s3;
-	selDeb = selStart + open.length;
-	selFin = selEnd + close.length;
-	window.setSelectionRange(txtarea, selDeb, selFin);
-	txtarea.focus();
-	
-	return;
-}
-
-// Insert at Claret position. Code from
-// http://www.faqts.com/knowledge_base/view.phtml/aid/1052/fid/130
-     function storeCaret (textEl) {
-       if (textEl.createTextRange) 
-         textEl.caretPos = document.selection.createRange().duplicate();
-     }
-
+// Barre de raccourcis
+// derive du:
+// bbCode control by subBlue design : www.subBlue.com
+
+// Startup variables
+var theSelection = false;
+
+// Check for Browser & Platform for PC & IE specific bits
+// More details from: http://www.mozilla.org/docs/web-developer/sniffer/browser_type.html
+var clientPC = navigator.userAgent.toLowerCase(); // Get client info
+var clientVer = parseInt(navigator.appVersion); // Get browser version
+
+var is_ie = ((clientPC.indexOf("msie") != -1) && (clientPC.indexOf("opera") == -1));
+var is_nav = ((clientPC.indexOf('mozilla')!=-1) && (clientPC.indexOf('spoofer')==-1)
+                && (clientPC.indexOf('compatible') == -1) && (clientPC.indexOf('opera')==-1)
+                && (clientPC.indexOf('webtv')==-1) && (clientPC.indexOf('hotjava')==-1));
+var is_moz = 0;
+
+var is_win = ((clientPC.indexOf("win")!=-1) || (clientPC.indexOf("16bit") != -1));
+var is_mac = (clientPC.indexOf("mac")!=-1);
+
+
+function barre_raccourci(debut,fin,champ) {
+	var txtarea = champ;
+
+	txtarea.focus();
+	donotinsert = false;
+	theSelection = false;
+	bblast = 0;
+
+	if ((clientVer >= 4) && is_ie && is_win)
+	{
+		theSelection = document.selection.createRange().text; // Get text selection
+		if (theSelection) {
+
+			while (theSelection.substring(theSelection.length-1, theSelection.length) == ' ')
+			{
+				theSelection = theSelection.substring(0, theSelection.length-1);
+				fin = fin + " ";
+			}
+			if (theSelection.substring(0,1) == '{' && debut.substring(0,1) == '{')
+			{
+				debut = debut + " ";
+			}
+			if (theSelection.substring(theSelection.length-1, theSelection.length) == '}' && fin.substring(0,1) == '}')
+			{
+				fin = " " + fin;
+			}
+
+			// Add tags around selection
+			document.selection.createRange().text = debut + theSelection + fin;
+			txtarea.focus();
+			theSelection = '';
+			return;
+		}
+	}
+	else if (txtarea.selectionEnd && (txtarea.selectionEnd - txtarea.selectionStart > 0))
+	{
+		mozWrap(txtarea, debut, fin);
+		return;
+	}
+}
+
+function barre_demande(debut,milieu,fin,affich,champ) {
+	var inserer = prompt(affich);
+
+	if (inserer != null) {
+		if (inserer == "") {inserer = "xxx"; }
+
+		barre_raccourci(debut, milieu+inserer+fin, champ);
+	}
+}
+
+function barre_inserer(text,champ) {
+	var txtarea = champ;
+	
+	if (txtarea.createTextRange && txtarea.caretPos) {
+		var caretPos = txtarea.caretPos;
+		caretPos.text = caretPos.text.charAt(caretPos.text.length - 1) == ' ' ? caretPos.text + text + ' ' : caretPos.text + text;
+		txtarea.focus();
+	} else {
+		//txtarea.value  += text;
+		//txtarea.focus();
+		mozWrap(txtarea, '', text);
+		return;
+	}
+}
+
+
+// D'apres Nicolas Hoizey 
+function barre_tableau(toolbarfield)
+{
+	var txtarea = toolbarfield;
+	txtarea.focus();
+	var cols = prompt("Nombre de colonnes du tableau :", "");
+	var rows = prompt("Nombre de lignes du tableau :", "");
+	if (cols != null && rows != null) {
+		var tbl = '';
+		var ligne = '|';
+		var entete = '|';
+		for(i = 0; i < cols; i++) {
+			ligne = ligne + ' valeur |';
+			entete = entete + ' {{entete}} |';
+		}
+		for (i = 0; i < rows; i++) {
+			tbl = tbl + ligne + '\n';
+		}
+		if (confirm('Voulez vous ajouter une ligne d\'en-t?te ?')) {
+			tbl = entete + '\n' + tbl;
+		}
+		if ((clientVer >= 4) && is_ie && is_win) {
+			var str = document.selection.createRange().text;
+			var sel = document.selection.createRange();
+			sel.text = str + '\n\n' + tbl + '\n\n';
+		} else {
+			mozWrap(txtarea, '', "\n\n" + tbl + "\n\n");
+		}
+	}
+	return;
+}
+
+
+
+// Shows the help messages in the helpline window
+function helpline(help, champ) {
+	champ.value = help;
+}
+
+
+function setCaretToEnd (input) {
+  setSelectionRange(input, input.value.length, input.value.length);
+}
+
+
+function setSelectionRange(input, selectionStart, selectionEnd) {
+  if (input.setSelectionRange) {
+    input.focus();
+    input.setSelectionRange(selectionStart, selectionEnd);
+  }
+  else if (input.createTextRange) {
+    var range = input.createTextRange();
+    range.collapse(true);
+    range.moveEnd('character', selectionEnd);
+    range.moveStart('character', selectionStart);
+    range.select();
+  }
+}
+
+// From http://www.massless.org/mozedit/
+function mozWrap(txtarea, open, close)
+{
+	var selLength = txtarea.textLength;
+	var selStart = txtarea.selectionStart;
+	var selEnd = txtarea.selectionEnd;
+	if (selEnd == 1 || selEnd == 2)
+		selEnd = selLength;
+	var selTop = txtarea.scrollTop;
+
+	// Raccourcir la selection par double-clic si dernier caractere est espace	
+	if (selEnd - selStart > 0 && (txtarea.value).substring(selEnd-1,selEnd) == ' ') selEnd = selEnd-1;
+	
+	var s1 = (txtarea.value).substring(0,selStart);
+	var s2 = (txtarea.value).substring(selStart, selEnd)
+	var s3 = (txtarea.value).substring(selEnd, selLength);
+
+	// Eviter melange bold-italic-intertitre
+	if ((txtarea.value).substring(selEnd,selEnd+1) == '}' && close.substring(0,1) == "}") close = close + " ";
+	if ((txtarea.value).substring(selEnd-1,selEnd) == '}' && close.substring(0,1) == "}") close = " " + close;
+	if ((txtarea.value).substring(selStart-1,selStart) == '{' && open.substring(0,1) == "{") open = " " + open;
+	if ((txtarea.value).substring(selStart,selStart+1) == '{' && open.substring(0,1) == "{") open = open + " ";
+
+	txtarea.value = s1 + open + s2 + close + s3;
+	selDeb = selStart + open.length;
+	selFin = selEnd + close.length;
+	window.setSelectionRange(txtarea, selDeb, selFin);
+	txtarea.scrollTop = selTop;
+	txtarea.focus();
+	
+	return;
+}
+
+// Insert at Claret position. Code from
+// http://www.faqts.com/knowledge_base/view.phtml/aid/1052/fid/130
+     function storeCaret (textEl) {
+       if (textEl.createTextRange) 
+         textEl.caretPos = document.selection.createRange().duplicate();
+     }
+

Index: sommaire_texte.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/sommaire_texte.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- sommaire_texte.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ sommaire_texte.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,12 +1,12 @@
-<?php
-
-// ACCESSIBILITE
-// cette page offre une lecture en mode "texte seul"
-// des 3 articles les plus recents.
-
-$fond = "sommaire_texte";
-$delais = 3600;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+// ACCESSIBILITE
+// cette page offre une lecture en mode "texte seul"
+// des 3 articles les plus recents.
+
+$fond = "sommaire_texte";
+$delais = 3600;
+
+include ("inc-public.php3");
+
+?>

Index: spip_login.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_login.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_login.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_login.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,10 +1,21 @@
-<?php
-$fond = "login";
-$delais = 3600;
-$flag_dynamique = true;
-$flag_preserver = true;
-$forcer_lang = true;
-
-include ("inc-public.php3");
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+$fond = "login";
+$delais = 3600;
+$flag_dynamique = true;
+$flag_preserver = true;
+$forcer_lang = true;
+
+include ("inc-public.php3");
+
+?>

Index: inc-messforum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-messforum.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-messforum.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-messforum.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,201 +1,216 @@
-<?php
-
-include_ecrire('inc_meta.php3');
-include_ecrire('inc_forum.php3');
-include_ecrire("inc_abstract_sql.php3");
-include_local(_FILE_CONNECT);
-
-// Ce fichier inclus par inc-public a un comportement special
-// Voir commentaires dans celui-ci et dans inc-formulaire_forum
-
-function prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre) {
-	include_ecrire('inc_texte.php3');
-	include_ecrire('inc_filtres.php3');
-	include_ecrire('inc_mail.php3');
-	// Gestionnaire d'URLs
-	if (@file_exists("inc-urls.php3"))
-	  include_local("inc-urls.php3");
-	else
-	  include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
-	$url = ereg_replace('^/', '', generer_url_article($id_article));
-	$adresse_site = lire_meta("adresse_site");
-	$nom_site_spip = lire_meta("nom_site");
-	$url = "$adresse_site/$url";
-	$parauteur = (strlen($auteur) <= 2) ? '' :
-	  (" "
-	   ._T('forum_par_auteur',
-	       array('auteur' => $auteur)) .
-	   (!$email_auteur ? '' : (' <' . $email_auteur . '>')));
-	$courr =  _T('form_forum_message_auto')."\n\n"
-		. _T('forum_poste_par',
-		     array('parauteur' => $parauteur))."\n"
-		. _T('forum_ne_repondez_pas')."\n"
-		. $url
-		. "\n\n\n".$titre."\n\n".textebrut(propre($texte))
-		. "\n\n$nom_site_forum\n$url_site\n";
-	$sujet = "[$nom_site_spip] ["._T('forum_forum')."] $titre";
-	$result = spip_query("SELECT auteurs.email FROM spip_auteurs AS auteurs,
-				spip_auteurs_articles AS lien
-				WHERE lien.id_article='$id_article'
-				AND auteurs.id_auteur=lien.id_auteur");
-
-	while (list($email) = spip_fetch_array($result)) {
-		$email = trim($email);
-		if (strlen($email) < 3) continue;
-		envoyer_mail($email, $sujet, $courr);
-	}
-}
-
-
-function controler_forum($id_article, $retour) {
-	global $auteur_session;
-
-	// Reglage forums d'article
-	if ($id_article) {
-		$q = spip_query("SELECT accepter_forum FROM spip_articles
-			WHERE id_article=$id_article");
-		if ($r = spip_fetch_array($q))
-			$forums_publics = $r['accepter_forum'];
-	}
-
-	// Valeur par defaut
-	if (!$forums_publics)
-		$forums_publics = substr(lire_meta("forums_publics"),0,3);
-
-	if ($forums_publics == "abo") {
-		if ($auteur_session) {
-			$statut = $auteur_session['statut'];
-			if (!$statut OR $statut == '5poubelle') {
-				ask_php_auth(_T('forum_acces_refuse'),
-					     _T('forum_cliquer_retour',
-						array('retour_forum' => $retour)));
-				exit;
-			}
-		} else {
-			ask_php_auth(_T('forum_non_inscrit'),
-				     _T('forum_cliquer_retour',
-					array('retour_forum' => $retour)));
-			exit;
-		}
-	}
-
-	return $forums_publics;
-}
-
-function mots_du_forum($ajouter_mot, $id_message)
-{
-	foreach ($ajouter_mot as $id_mot)
-		if ($id_mot = intval($id_mot))
-			spip_query("INSERT INTO spip_mots_forum (id_mot, id_forum)
-				VALUES ($id_mot, $id_message)");
-}
-
-function enregistre_forum() {
-	global $REMOTE_ADDR, $auteur_session,
-	  $afficher_texte, $ajouter_mot, $alea, $hash,
-	  $auteur, $confirmer_forum, $email_auteur,
-	  $id_article, $id_auteur, $id_breve, $id_forum, $id_rubrique, $id_syndic,
-	  $nom_site_forum, $retour_forum, $texte, $titre, $url_site;
-
-	$retour_forum = rawurldecode($retour_forum);
-	$id_article = intval($id_article);
-	$id_rubrique = intval($id_rubrique);
-	$id_forum = intval($id_forum);
-	$id_breve = intval($id_breve);
-	$id_syndic = intval($id_syndic);
-
-// initialisation de l'eventuel visiteur connecte
-	if (!$id_auteur)
-	$id_auteur = intval($auteur_session['id_auteur']);
-
-	$statut = controler_forum($id_article, $retour_forum);
-
-// Ne pas autoriser de changement de nom si forum sur abonnement
-
-	if ($statut == 'abo') {
-		$auteur = $auteur_session['nom'];
-		$email_auteur = $auteur_session['email'];
-	}
-
-// trop court ?
-	if ((strlen($texte) + strlen($titre) + strlen($nom_site_forum) + strlen($url_site) + strlen($auteur) + strlen($email_auteur)) > 20 * 1024) {
-		ask_php_auth(_T('forum_message_trop_long'),
-			     _T('forum_cliquer_retour',
-				array('retour_forum' => $retour_forum)));
-		exit;
-	}
-
-	// Verifier hash securite
-	include_ecrire("inc_admin.php3");
-	if (!verifier_action_auteur("ajout_forum $id_rubrique".
-	" $id_forum $id_article $id_breve".
-	" $id_syndic $alea", $hash))
-		exit; 	# echec silencieux du POST
-
-	// verifier fichier lock
-	$alea = preg_replace('/[^0-9]/', '', $alea);
-	if (!file_exists($hash = _DIR_SESSIONS."forum_$alea.lck"))
-		exit; # echec silencieux du POST
-	unlink($hash);
-
-	// Entrer le message dans la base
-	$id_message = spip_abstract_insert('spip_forum', '(date_heure)', '(NOW())');
-
-	if ($id_forum)
-		list($id_thread) = spip_fetch_array(spip_query(
-		"SELECT id_thread FROM spip_forum WHERE id_forum = $id_forum"));
-	else
-		$id_thread = $id_message; # id_thread oblige INSERT puis UPDATE.
-
-	$statut = ($statut == 'non') ? 'off' : (($statut == 'pri') ? 'prop' :
-						'publie');
-
-	spip_query("UPDATE spip_forum SET id_parent = $id_forum,
-	id_rubrique = $id_rubrique,
-	id_article = $id_article,
-	id_breve = $id_breve,
-	id_syndic = $id_syndic,
-	id_auteur = $id_auteur,
-	id_thread = $id_thread,
-	date_heure = NOW(),
-	titre = '".addslashes($titre)."',
-	texte = '".addslashes($texte)."',
-	nom_site = '".addslashes($nom_site_forum)."',
-	url_site = '".addslashes($url_site)."',
-	auteur = '".addslashes($auteur)."',
-	email_auteur = '".addslashes($email_auteur)."',
-	ip = '$REMOTE_ADDR',
-	statut = '$statut'
-	WHERE id_forum = $id_message
-	");
-
-	// calculer_threads();
-
-	// Entrer les mots-cles associes
-	if (is_array($ajouter_mot)) mots_du_forum($ajouter_mot, $id_message);
-
-	// Prevenir les auteurs de l'article
-	if (lire_meta("prevenir_auteurs") == "oui" AND ($afficher_texte != "non"))
-		prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre);
-
-	// Poser un cookie pour ne pas retaper le nom / email
-
-	spip_setcookie('spip_forum_user',
-		       serialize(array('nom' => $auteur, 'email' => $email_auteur)));
-
-	if ($statut == 'publie') {
-	//
-	// INVALIDATION DES CACHES LIES AUX FORUMS
-	//
-		include_ecrire('inc_invalideur.php3');
-		suivre_invalideur ("id='id_forum/" .
-			calcul_index_forum($id_article,
-				$id_breve,
-				$id_rubrique,
-				$id_syndic) . "'");
-	}
-
-	return $retour_forum;
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+include_ecrire('inc_meta.php3');
+include_ecrire('inc_forum.php3');
+include_ecrire("inc_abstract_sql.php3");
+include_local(_FILE_CONNECT);
+
+// Ce fichier inclus par inc-public a un comportement special
+// Voir commentaires dans celui-ci et dans inc-formulaire_forum
+
+function prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre) {
+	include_ecrire('inc_texte.php3');
+	include_ecrire('inc_filtres.php3');
+	include_ecrire('inc_mail.php3');
+	// Gestionnaire d'URLs
+	if (@file_exists("inc-urls.php3"))
+	  include_local("inc-urls.php3");
+	else
+	  include_local("inc-urls-".$GLOBALS['type_urls'].".php3");
+	$url = ereg_replace('^/', '', generer_url_article($id_article));
+	$adresse_site = lire_meta("adresse_site");
+	$nom_site_spip = lire_meta("nom_site");
+	$url = "$adresse_site/$url";
+	$parauteur = (strlen($auteur) <= 2) ? '' :
+	  (" "
+	   ._T('forum_par_auteur',
+	       array('auteur' => $auteur)) .
+	   (!$email_auteur ? '' : (' <' . $email_auteur . '>')));
+	$courr =  _T('form_forum_message_auto')."\n\n"
+		. _T('forum_poste_par',
+		     array('parauteur' => $parauteur))."\n"
+		. _T('forum_ne_repondez_pas')."\n"
+		. $url
+		. "\n\n\n".$titre."\n\n".textebrut(propre($texte))
+		. "\n\n$nom_site_forum\n$url_site\n";
+	$sujet = "[$nom_site_spip] ["._T('forum_forum')."] $titre";
+	$result = spip_query("SELECT auteurs.email FROM spip_auteurs AS auteurs,
+				spip_auteurs_articles AS lien
+				WHERE lien.id_article='$id_article'
+				AND auteurs.id_auteur=lien.id_auteur");
+
+	while (list($email) = spip_fetch_array($result)) {
+		$email = trim($email);
+		if (strlen($email) < 3) continue;
+		envoyer_mail($email, $sujet, $courr);
+	}
+}
+
+
+function controler_forum($id_article, $retour) {
+	global $auteur_session;
+
+	// Reglage forums d'article
+	if ($id_article) {
+		$q = spip_query("SELECT accepter_forum FROM spip_articles
+			WHERE id_article=$id_article");
+		if ($r = spip_fetch_array($q))
+			$forums_publics = $r['accepter_forum'];
+	}
+
+	// Valeur par defaut
+	if (!$forums_publics)
+		$forums_publics = substr(lire_meta("forums_publics"),0,3);
+
+	if ($forums_publics == "abo") {
+		if ($auteur_session) {
+			$statut = $auteur_session['statut'];
+			if (!$statut OR $statut == '5poubelle') {
+				ask_php_auth(_T('forum_acces_refuse'),
+					     _T('forum_cliquer_retour',
+						array('retour_forum' => $retour)));
+				exit;
+			}
+		} else {
+			ask_php_auth(_T('forum_non_inscrit'),
+				     _T('forum_cliquer_retour',
+					array('retour_forum' => $retour)));
+			exit;
+		}
+	}
+
+	return $forums_publics;
+}
+
+function mots_du_forum($ajouter_mot, $id_message)
+{
+	foreach ($ajouter_mot as $id_mot)
+		if ($id_mot = intval($id_mot))
+			spip_query("INSERT INTO spip_mots_forum (id_mot, id_forum)
+				VALUES ($id_mot, $id_message)");
+}
+
+function enregistre_forum() {
+	global $REMOTE_ADDR, $auteur_session,
+	  $afficher_texte, $ajouter_mot, $alea, $hash,
+	  $auteur, $confirmer_forum, $email_auteur, $id_auteur,
+	  $nom_site_forum, $retour_forum, $texte, $titre, $url_site;
+
+	$retour_forum = rawurldecode($retour_forum);
+
+	// Recuperer les donnees postees du formulaire ou stocker '0'
+	foreach (array('id_article', 'id_breve', 'id_syndic',
+	'id_rubrique', 'id_forum') as $id)
+		if (isset($_POST['forum_'.$id]))
+			$$id = intval($_POST['forum_'.$id]);
+		else
+			$$id = 0;
+
+	// initialisation de l'eventuel visiteur connecte
+	if (!$id_auteur)
+	$id_auteur = intval($auteur_session['id_auteur']);
+
+	$statut = controler_forum($id_article, $retour_forum);
+
+	// Ne pas autoriser de changement de nom si forum sur abonnement
+	if ($statut == 'abo') {
+		$auteur = $auteur_session['nom'];
+		$email_auteur = $auteur_session['email'];
+	}
+
+	// trop court ?
+	if ((strlen($texte) + strlen($titre) + strlen($nom_site_forum) +
+	strlen($url_site) + strlen($auteur) + strlen($email_auteur)) > 20 * 1024) {
+		ask_php_auth(_T('forum_message_trop_long'),
+			_T('forum_cliquer_retour',
+				array('retour_forum' => $retour_forum)));
+		exit;
+	}
+
+	// Verifier hash securite
+	include_ecrire("inc_admin.php3");
+	if (!verifier_action_auteur("ajout_forum $id_rubrique".
+	" $id_forum $id_article $id_breve".
+	" $id_syndic $alea", $hash)) {
+		spip_log('erreur hash forum');
+		die (_T('forum_titre_erreur')); 	# echec du POST
+	}
+
+	// verifier fichier lock
+	$alea = preg_replace('/[^0-9]/', '', $alea);
+	if (!file_exists($hash = _DIR_SESSIONS."forum_$alea.lck"))
+		exit; # echec silencieux du POST
+	unlink($hash);
+
+	// Entrer le message dans la base
+	$id_message = spip_abstract_insert('spip_forum', '(date_heure)', '(NOW())');
+
+	if ($id_forum)
+		list($id_thread) = spip_fetch_array(spip_query(
+		"SELECT id_thread FROM spip_forum WHERE id_forum = $id_forum"));
+	else
+		$id_thread = $id_message; # id_thread oblige INSERT puis UPDATE.
+
+	$statut = ($statut == 'non') ? 'off' : (($statut == 'pri') ? 'prop' :
+						'publie');
+
+	spip_query("UPDATE spip_forum SET id_parent = $id_forum,
+	id_rubrique = $id_rubrique,
+	id_article = $id_article,
+	id_breve = $id_breve,
+	id_syndic = $id_syndic,
+	id_auteur = $id_auteur,
+	id_thread = $id_thread,
+	date_heure = NOW(),
+	titre = '".addslashes($titre)."',
+	texte = '".addslashes($texte)."',
+	nom_site = '".addslashes($nom_site_forum)."',
+	url_site = '".addslashes($url_site)."',
+	auteur = '".addslashes($auteur)."',
+	email_auteur = '".addslashes($email_auteur)."',
+	ip = '$REMOTE_ADDR',
+	statut = '$statut'
+	WHERE id_forum = $id_message
+	");
+
+	// calculer_threads();
+
+	// Entrer les mots-cles associes
+	if (is_array($ajouter_mot)) mots_du_forum($ajouter_mot, $id_message);
+
+	// Prevenir les auteurs de l'article
+	if (lire_meta("prevenir_auteurs") == "oui" AND ($afficher_texte != "non"))
+		prevenir_auteurs($auteur, $email_auteur, $id_article, $texte, $titre);
+
+	// Poser un cookie pour ne pas retaper le nom / email
+
+	spip_setcookie('spip_forum_user',
+		       serialize(array('nom' => $auteur, 'email' => $email_auteur)));
+
+	if ($statut == 'publie') {
+	//
+	// INVALIDATION DES CACHES LIES AUX FORUMS
+	//
+		include_ecrire('inc_invalideur.php3');
+		suivre_invalideur ("id='id_forum/" .
+			calcul_index_forum($id_article,
+				$id_breve,
+				$id_rubrique,
+				$id_syndic) . "'");
+	}
+
+	return $retour_forum;
+}
+
+?>

Index: spip_carto.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_carto.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_carto.php	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_carto.php	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,43 +1,25 @@
-<?php
-include ("ecrire/inc_version.php3");
-include ("ecrire/inc_connect.php3");
-//include ("ecrire/inc_meta.php3");
-//include ("ecrire/inc_session.php3");
-
-include("downloadfile.class.php");
-
-if (isset($_GET["fond_carte"]) && !empty($_GET["fond_carte"])) 
-{
-	$lid_carte=intval($_GET["fond_carte"]);
-	//echo $lid_carte;
-	//exit;
-	if ($lid_carte)
-	{
-		$query="select fichier from spip_documents where id_document=".$lid_carte;
-		
-		$result = @spip_query($query);
-		if ($result) 
-		{
-			$row = @spip_fetch_array($result); 
-			$downloadfile = new DOWNLOADFILE($row[0],"inline");
-			//si c'est un probleme de document supprim? : "!!!" ... bof !
-			$lError="document OK";
-		}
-		else {
-			$downloadfile = new DOWNLOADFILE("ecrire/img_pack/carte-24.png","inline");
-			$lError="pas de document";
-		}
-		if (!$downloadfile->df_download()) echo "!!!".$lError."!!!";
-		//echo "!!!".$lError."!!!";
-			
-	}
-	else {
-		//$downloadfile = new DOWNLOADFILE("/ecrire/img_pack/carte-24.png","inline");
-		//$downloadfile = new DOWNLOADFILE($_GET["fond_carte"],"inline");
-		redirige_par_entete($_GET["fond_carte"]);
-		$lError="chemin";
-	}
-	//if (!$downloadfile->df_download()) echo "!!!".$lError."!!!";
-	//else exit();
-}
+<?php
+include ("ecrire/inc_version.php3");
+include ("ecrire/inc_connect.php3");
+
+if (isset($_GET["fond_carte"]) && !empty($_GET["fond_carte"])) 
+{
+	$lid_carte=intval($_GET["fond_carte"]);
+	if ($lid_carte)
+	{
+		$query="select fichier from spip_documents where id_document=".$lid_carte;
+		
+		$result = @spip_query($query);
+		if ($result) 
+		{
+			$row = @spip_fetch_array($result); 
+			redirige_par_entete($row[0]);
+		}
+	}
+	else 
+	{
+		redirige_par_entete($_GET["fond_carte"]);
+	}
+}
+redirige_par_entete("404.php3");
 ?>

Index: inc-criteres.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-criteres.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-criteres.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-criteres.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,642 +1,653 @@
-<?php
-
-//
-// Definition des {criteres} d'une boucle
-//
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_CRITERES")) return;
-define("_INC_CRITERES", "1");
-
-
[...1264 lines suppressed...]
+	foreach (split(" *, *", $reg[1]) as $v) {
+	  $v = calculer_param_dynamique($v, $boucles, $idb);
+	  if (is_array($v)) erreur_squelette($v);
+	  if (strpos('0123456789',$v[0]) !== false)
+	    $res[] = $v;
+	  else if ($v[0]=='"')
+	    $res[] = "'" . $v . "'";
+	  else
+	    $res[] = "'$v'";
+	}
+	return join(',', $res);
+}
+
+function simplifie_param_dynamique($val, &$boucles, $idb)
+{
+	$a = calculer_param_dynamique($val, $boucles, $idb);
+	if (!ereg('" \. *(.*)\. "', $a, $m)) return $a;
+	return $m[1];
+}	
+?>

Index: spip_image_reduite.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_image_reduite.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_image_reduite.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_image_reduite.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,37 +1,52 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-include_ecrire("inc_admin.php3");
-include_ecrire("inc_logos.php3");
-
-$img = $_GET['img'];
-$logo = $img;
-
-if (!$taille_y)
-	$taille_y = $taille_x;
-	
-if (eregi("(.*)\.(jpg|gif|png)$", $logo, $regs)) {
-	if ($i = cherche_image_nommee($regs[1], array($regs[2]))
-		AND verifier_action_auteur("reduire $taille_x $taille_y", $hash, $hash_id_auteur))
-	{
-		list($dir,$nom,$format) = $i;
-		$logo = $dir . $nom . '.' . $format;
-		
-		include_ecrire("inc_logos.php3");
-		$suffixe = '-'.$taille_x.'x'.$taille_y;
-		$preview = creer_vignette($logo, $taille_x, $taille_y, $format,('cache'.$suffixe), $nom.$suffixe);
-		if ($preview) {
-			$vignette = $preview['fichier'];
-			$width = $preview['width'];
-			$height = $preview['height'];
-			$retour = $vignette;
-		}
-		else if ($taille_origine = @getimagesize($logo)) {
-			$retour = $logo;
-		}
-
-		redirige_par_entete($retour);
-	}
-}
-
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+include ("ecrire/inc_version.php3");
+include_ecrire("inc_admin.php3");
+include_ecrire("inc_logos.php3");
+
+if (!$taille_y)
+	$taille_y = $taille_x;
+
+// Chercher l'image dans le repertoire IMG/
+if (eregi("(\.\./)?(.*)\.(jpg|gif|png)$", $img, $regs)
+AND $i = cherche_image_nommee($regs[2], array($regs[3])) # hu ?
+) {
+	$img = $i[0].$i[1].'.'.$i[2];
+	// si on a deja la bonne taille, pas la peine de se fatiguer
+	$taille = @getimagesize($img);
+	if ($taille_x == $taille[0] AND $taille_y == $taille[1])
+		$stop = true;
+}
+
+if (lire_meta('creer_preview') <> 'oui')
+	$stop = true;
+
+if (!$stop
+AND verifier_action_auteur("reduire $taille_x $taille_y", $hash, $hash_id_auteur))
+	{
+		list($dir,$nom,$format) = $i;
+		$logo = $dir . $nom . '.' . $format;
+		
+		include_ecrire("inc_logos.php3");
+		$suffixe = '-'.$taille_x.'x'.$taille_y;
+		$preview = creer_vignette($logo, $taille_x, $taille_y, $format,('cache'.$suffixe), $nom.$suffixe);
+		if ($preview)
+			$img = $preview['fichier'];
+}
+
+// Envoie le navigateur vers l'image cible
+redirige_par_entete($img);
+
+
 ?>

Index: inc-public-global.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-public-global.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-public-global.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-public-global.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,409 +1,417 @@
-<?php
-
-// Ce fichier ne sera execute qu'une fois
-if (defined("_INC_PUBLIC_GLOBAL")) return;
-define("_INC_PUBLIC_GLOBAL", "1");
-
-// fonction principale declenchant tout le service
-function calcule_header_et_page ($fond, $delais) {
-	  global $affiche_boutons_admin, $auteur_session, $flag_dynamique,
-	  $flag_ob, $flag_preserver, $forcer_lang, $ignore_auth_http,
-	  $lastmodified, $recherche, $use_cache, $val_confirm, $var_mode,
-	  $var_recherche, $tableau_des_erreurs;
-
-	// Regler le $delais par defaut
-	if (!isset($delais))
-		$delais = 1 * 3600;
-	if ($recherche)
-		$delais = 0;
-
-	// authentification du visiteur
-	if ($GLOBALS['_COOKIE']['spip_session'] OR
-	($GLOBALS['_SERVER']['PHP_AUTH_USER']  AND !$ignore_auth_http)) {
-		include_ecrire ("inc_session.php3");
-		verifier_visiteur();
-	}
-	// multilinguisme
-	if ($forcer_lang AND ($forcer_lang!=='non') AND empty($GLOBALS['_POST'])) {
-		include_ecrire('inc_lang.php3');
-		verifier_lang_url();
-	}
-	if ($GLOBALS['_GET']['lang']) {
-		include_ecrire('inc_lang.php3');
-		lang_select($GLOBALS['_GET']['lang']);
-	}
-
-	// Si envoi pour un forum, enregistrer puis rediriger
-
-	if (strlen($GLOBALS['_POST']['confirmer_forum']) > 0
-	OR ($GLOBALS['_POST']['afficher_texte']=='non'
-		AND $GLOBALS['_POST']['ajouter_mot'])) {
-		include('inc-messforum.php3');
-		redirige_par_entete(enregistre_forum());
-	}
-
-	// si signature de petition, l'enregistrer avant d'afficher la page
-	// afin que celle-ci contienne la signature
-
-	if ($GLOBALS['_GET']['val_confirm']) {
-		include_local(find_in_path('inc-formulaire_signature.php3'));
-		reponse_confirmation($GLOBALS['_GET']['id_article'], $val_confirm);
-	}
-
-	//  refus du debug si pas dans les options generales ni admin connecte
-	if ($var_mode=='debug') {
-		if (($GLOBALS['code_activation_debug'] == 'oui')
-		OR $auteur_session['statut'] == '0minirezo')
-			spip_log('debug !');
-		else
-			$var_mode = false; 
-	}
-
-	// est-on admin ?
-	if ($affiche_boutons_admin = (!$flag_preserver
-	AND ($GLOBALS['_COOKIE']['spip_admin']
-	OR $GLOBALS['_COOKIE']['spip_debug'])))
-		include_local(find_in_path('inc-formulaire_admin.php3'));
-
-	$tableau_des_erreurs = array();
-	$page = afficher_page_globale ($fond, $delais, $use_cache);
-
-
-	//
-	// Envoyer les entetes appropries
-	// a condition d'etre sur de pouvoir le faire
-	//
-	if (!$flag_preserver
-	AND $flag_ob AND !strlen(@ob_get_contents())) {
-
-		// Si la page est vide, gerer l'erreur 404
-		if (preg_match('/^[[:space:]]*$/', $page['texte'])
-		AND $var_mode != 'debug') {
-			header("HTTP/1.0 404");
-			header("Content-Type: text/html; charset=".lire_meta('charset'));
-			$contexte_inclus = array(
-				'erreur_aucun' => message_erreur_404()
-			);
-			include(find_in_path('404.php3'));
-		}
-		// Interdire au client de cacher un login, un admin ou un recalcul
-		else if ($flag_dynamique OR $var_mode
-		OR $GLOBALS['_COOKIE']['spip_admin']) {
-			header("Cache-Control: no-cache,must-revalidate");
-			header("Pragma: no-cache");
-		}
-		// Pour les autres donner l'heure de modif
-		else if ($lastmodified) {
-			header("Last-Modified: ".http_gmoddate($lastmodified)." GMT");
-			header("Content-Type: text/html; charset=".lire_meta('charset'));
-		}
-	}
-
-	return $page;
-}
-
-
-//
-// Aller chercher la page dans le cache ou pas
-//
-function obtenir_page ($contexte, $chemin_cache, $delais, &$use_cache, $fond, $inclusion=false) {
-	global $lastmodified;
-
-	if (!$use_cache) {
-		include_local('inc-calcul.php3');
-
-		// page globale ? calculer le contexte
-		if (!$contexte)
-			$contexte = calculer_contexte();
-
-		spip_timer('calculer_page');
-		$page = calculer_page($chemin_cache,
-			array('fond' => $fond,
-				'contexte' => $contexte),
-			$delais,
-			$inclusion);
-
-		$lastmodified = time();
-
-		// log
-		if (!$log = $chemin_cache) $log = "($fond, delais=$delais, "
-		. $GLOBALS['_SERVER']['REQUEST_METHOD'].")";
-		spip_log (($inclusion ? 'calcul inclus':'calcul').' ('
-		.spip_timer('calculer_page')."): $log");
-
-		// Nouveau cache : creer un invalideur 't' fixant la date
-		// d'expiration et la taille du fichier
-		if (@file_exists($chemin_cache)) {
-			// Ici on ajoute 3600s pour eviter toute concurrence
-			// entre un invalideur et un appel public de page
-			$bedtime = time() + $delais + 3600;
-			$taille = @filesize($chemin_cache);
-			$fichier = addslashes($chemin_cache);
-			spip_query("INSERT IGNORE INTO spip_caches (fichier,id,type,taille)
-			VALUES ('$fichier','$bedtime','t','$taille')");
-		}
-
-	} else {
-
-		//
-		// Lire le fichier cache
-		//
-		lire_fichier ($chemin_cache, $page['texte']);
-		$lastmodified = max($lastmodified, @filemtime($chemin_cache));
-		# spip_log ("cache $chemin_cache $lastmodified");
-
-		//
-		// Lire sa carte d'identite & fixer le contexte global
-		//
-		if (preg_match("/^<!-- ([^\n]*) -->\n(.*)/ms", $page['texte'], $match)
-		AND is_array($meta_donnees = unserialize($match[1]))) {
-			foreach ($meta_donnees as $var=>$val)
-				$page[$var] = $val;
-
-			$page['texte'] = $match[2];
-
-			// Remplir les globals pour les boutons d'admin
-			if (!$inclusion AND is_array($page['contexte']))
-				foreach ($page['contexte'] as $var=>$val)
-					$GLOBALS[$var] = $val;
-		}
-
-	}
-
-	return $page;
-}
-
-
-//
-// Appeler cette fonction pour obtenir la page principale
-//
-function afficher_page_globale ($fond, $delais, &$use_cache) {
-	global $flag_preserver, $flag_dynamique, $lastmodified;
-	global $var_preview, $var_mode;
-	include_local ("inc-cache.php3");
-
-	// demande de previsualisation ?
-	// -> inc-calcul.php3 n'enregistrera pas les fichiers caches
-	// -> inc-reqsql-squel.php3 acceptera les objets non 'publie'
-	if ($var_mode == 'preview') {
-		// Verifier qu'on a le droit de previsualisation
-		$statut = $GLOBALS['auteur_session']['statut'];
-		if ($statut=='0minirezo' OR
-		(lire_meta('preview')=='1comite' AND $statut=='1comite')) {
-			$var_mode = 'recalcul';
-			$delais = 0;
-			$var_preview = true;
-			spip_log('preview !');
-		} else
-			$var_preview = false;
-	}
-
-	// Faut-il effacer des pages invalidees ?
-	if (lire_meta('invalider')) {
-		include_ecrire('inc_meta.php3');
-		lire_metas();
-		if (lire_meta('invalider'))
-			retire_caches();
-	}
-
-	// Calculer le chemin putatif du cache
-	$chemin_cache = generer_nom_fichier_cache('', $fond);
-
-	// Peut-on utiliser un fichier cache ?
-	determiner_cache($delais, $use_cache, $chemin_cache);
-
-	// Repondre gentiment aux requetes sympas
-	// (ici on ne tient pas compte d'une obsolence du cache ou des
-	// eventuels fichiers inclus modifies depuis la date
-	// HTTP_IF_MODIFIED_SINCE du client)
-	if ($GLOBALS['HTTP_IF_MODIFIED_SINCE'] AND !$var_mode
-	AND $chemin_cache AND !$flag_dynamique) {
-		$lastmodified = @filemtime($chemin_cache);
-		$headers_only = http_last_modified($lastmodified);
-	}
-	$headers_only |= ($GLOBALS['_SERVER']['REQUEST_METHOD'] == 'HEAD');
-
-	if ($headers_only) {
-		if ($chemin_cache)
-			$t = @filemtime($chemin_cache);
-		else
-			$t = time();
-		@header('Last-Modified: '.http_gmoddate($t).' GMT');
-		@header('Connection: close');
-		// Pas de bouton admin pour un HEAD
-		$flag_preserver = true;
-	}
-	else {
-		// Obtenir la page
-		$page = obtenir_page ('', $chemin_cache, $delais, $use_cache,
-		$fond, false);
-
-		if (!$flag_preserver) {
-		// Entete content-type: xml ou html ; charset
-			if ($xhtml) {
-			// Si Mozilla et tidy actif, passer en "application/xhtml+xml"
-			// extremement risque: Mozilla passe en mode debugueur strict
-			// mais permet d'afficher du MathML directement dans le texte
-			// (et sauf erreur, c'est la bonne facon de declarer du xhtml)
-				include_ecrire("inc_tidy.php");
-				if (version_tidy() > 0) {
-					if (ereg("application/xhtml\+xml", $GLOBALS['HTTP_ACCEPT'])) 
-						@header("Content-Type: application/xhtml+xml; charset=".lire_meta('charset'));
-					else 
-						@header("Content-Type: text/html; charset=".lire_meta('charset'));
-					echo '<'.'?xml version="1.0" encoding="'. lire_meta('charset').'"?'.">\n";
-				} else {
-					@header("Content-Type: text/html; charset=".lire_meta('charset'));
-				}
-			} else {
-				@header("Content-Type: text/html; charset=".lire_meta('charset'));
-			}
-		}
-	}
-
-	if ($chemin_cache) $page['cache'] = $chemin_cache;
-
-	if ($var_preview AND !$flag_preserver) {
-		include_ecrire('inc_lang.php3');
-		include_ecrire('inc_filtres.php3');
-		lang_select($GLOBALS['auteur_session']['lang']);
-		$page['texte'] .= '<div style="
-		display: block;
-		color: #eeeeee;
-		background-color: #111111;
-		padding-right: 5px;
-		padding-top: 2px;
-		padding-bottom: 5px;
-		font-size: 20px;
-		top: 0px;
-		left: 0px;
-		position: absolute;
-		"><img src="' . _DIR_IMG_PACK
-		. 'naviguer-site.png" align="left" border="0" />&nbsp; '
-		. majuscules(_T('previsualisation')).'</div>';
-	}
-
-	return $page;
-}
-
-
-function terminer_public_global() {
-
-	// Gestion des statistiques du site public
-	if (lire_meta("activer_statistiques") != "non") {
-		include_local ("inc-stats.php3");
-		ecrire_stats();
-	}
-
-	// Effectuer une tache de fond ?
-	cron();
-}
-
-
-function inclure_page($fond, $delais_inclus, $contexte_inclus, $cache_incluant='') {
-
-	$contexte_inclus['fond'] = $fond;
-
-	$chemin_cache = generer_nom_fichier_cache($contexte_inclus, $fond);
-
-	// Peut-on utiliser un fichier cache ?
-	determiner_cache($delais_inclus, $use_cache, $chemin_cache);
-
-	// Si on a inclus sans fixer le critere de lang, de deux choses l'une :
-	// - on est dans la langue du site, et pas besoin d'inclure inc_lang
-	// - on n'y est pas, et alors il faut revenir dans la langue par defaut
-	if (($lang = $contexte_inclus['lang'])
-	|| ($GLOBALS['spip_lang'] != ($lang = lire_meta('langue_site')))) {
-		include_ecrire('inc_lang.php3');
-		lang_select($lang);
-		$lang_select = true; // pour lang_dselect en sortie
-	}
-	
-	// Si on est inclus en POST, il faut ajouter les variables _POST dans
-	// le contexte inclus, sinon les formulaires ne marchent pas...
-	if ($_SERVER['REQUEST_METHOD'] == 'POST') {
-		include_local('inc-calcul.php3');
-		$contexte_inclus = array_merge(calculer_contexte(), $contexte_inclus);
-	}
-
-	$page = obtenir_page ($contexte_inclus, $chemin_cache, $delais_inclus,
-	$use_cache, $fond, true);
-
-	$page['lang_select'] = $lang_select;
-
-	// Retourner le contenu...
-	return $page;
-}
-
-// equivalente a texte_script dans inc_filtre.
-
-function securise_script($texte) {
-	return str_replace('\'', '\\\'', str_replace('\\', '\\\\', $texte));
-}
-
-# les balises dynamiques sont traitees comme des inclusions
-
-function synthetiser_balise_dynamique($nom, $args, $file, $lang) {
-	return
-		('<'.'?php 
-include_ecrire(\'inc_lang.php3\');
-lang_select("'.$lang.'");
-include_local("'
-		. $file
-		. '");
-inclure_balise_dynamique(balise_'
-		. $nom
-		. '_dyn(\''
-		. join("', '", array_map("securise_script", $args))
-		. '\'));
-	lang_dselect();
-?'
-		.">");
-}
-
-# Attention, un appel explicite a cette fonction suppose certains include
-# (voir l'exemple de spip_inscription et spip_pass)
-
-function inclure_balise_dynamique($r) {
-	if (is_string($r))
-		echo $r;
-	else {
-		list($fond, $delais, $contexte_inclus) = $r;
-
-		if ((!$contexte_inclus['lang']) AND
-		($GLOBALS['spip_lang'] != lire_meta('langue_site')))
-			$contexte_inclus['lang'] = $GLOBALS['spip_lang'];
-
-
-		// Appeler la page
-		$page = inclure_page($fond, $delais, $contexte_inclus);
-		if ($page['process_ins'] == 'html')
-			echo $page['texte'];
-		else
-			eval('?' . '>' . $page['texte']);
-
-		if ($page['lang_select'])
-			lang_dselect();
-
-	}
-}
-
-
-function message_erreur_404 () {
-	if ($GLOBALS['id_article'])
-		$erreur = 'aucun_article';
-	else if ($GLOBALS['id_rubrique'])
-		$erreur = 'aucune_rubrique';
-	else if ($GLOBALS['id_breve'])
-		$erreur = 'aucune_breve';
-	else if ($GLOBALS['id_auteur'])
-		$erreur = 'aucun_auteur';
-	else if ($GLOBALS['id_syndic'])
-		$erreur = 'aucun_site';
-	else
-		$erreur = '';
-
-	return _T("public:".$erreur);
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// Ce fichier ne sera execute qu'une fois
+if (defined("_INC_PUBLIC_GLOBAL")) return;
+define("_INC_PUBLIC_GLOBAL", "1");
+
+// fonction principale declenchant tout le service
+function calcule_header_et_page ($fond, $delais) {
+	  global $affiche_boutons_admin, $auteur_session, $flag_dynamique,
+	  $flag_ob, $flag_preserver, $forcer_lang, $ignore_auth_http,
+	  $lastmodified, $recherche, $use_cache, $var_confirm, $var_mode,
+	  $var_recherche, $tableau_des_erreurs;
+	  global $_GET, $_POST;
+
+	// Regler le $delais par defaut
+	if (!isset($delais))
+		$delais = 1 * 3600;
+	if ($recherche)
+		$delais = 0;
+
+	// authentification du visiteur
+	if ($GLOBALS['_COOKIE']['spip_session'] OR
+	($GLOBALS['_SERVER']['PHP_AUTH_USER']  AND !$ignore_auth_http)) {
+		include_ecrire ("inc_session.php3");
+		verifier_visiteur();
+	}
+	// multilinguisme
+	if ($forcer_lang AND ($forcer_lang!=='non') AND !count($_POST)) {
+		include_ecrire('inc_lang.php3');
+		verifier_lang_url();
+	}
+	if ($_GET['lang']) {
+		include_ecrire('inc_lang.php3');
+		lang_select($_GET['lang']);
+	}
+
+	// Si envoi pour un forum, enregistrer puis rediriger
+
+	if (strlen($_POST['confirmer_forum']) > 0
+	OR ($_POST['afficher_texte']=='non'
+		AND $_POST['ajouter_mot'])) {
+		include('inc-messforum.php3');
+		redirige_par_entete(enregistre_forum());
+	}
+
+	// si signature de petition, l'enregistrer avant d'afficher la page
+	// afin que celle-ci contienne la signature
+
+	if ($_GET['var_confirm']) {
+		include_local(find_in_path('inc-formulaire_signature.php3'));
+		reponse_confirmation($_GET['id_article'], $var_confirm);
+	}
+
+	//  refus du debug si pas dans les options generales ni admin connecte
+	if ($var_mode=='debug') {
+		if (($GLOBALS['code_activation_debug'] == 'oui')
+		OR $auteur_session['statut'] == '0minirezo')
+			spip_log('debug !');
+		else
+			$var_mode = false; 
+	}
+
+	// est-on admin ?
+	if ($affiche_boutons_admin = (!$flag_preserver
+	AND ($GLOBALS['_COOKIE']['spip_admin']
+	OR $GLOBALS['_COOKIE']['spip_debug'])))
+		include_local(find_in_path('inc-formulaire_admin.php3'));
+		# attention, cet include ne considere pas forcement le
+		# $dossier_squelettes defini dans mes_fonctions.php3, mais si
+		# on incluait mes_fonctions.php3 on masquerait au webmestre l'erreur,
+		# courante, qui est de croire que ce fichier est toujours inclus.
+
+
+	$tableau_des_erreurs = array();
+	$page = afficher_page_globale ($fond, $delais, $use_cache);
+
+	//
+	// Envoyer les entetes appropries
+	// a condition d'etre sur de pouvoir le faire
+	//
+	if (!$flag_preserver
+	AND $flag_ob AND !headers_sent()) {
+
+		// Si la page est vide, gerer l'erreur 404
+		if (preg_match('/^[[:space:]]*$/', $page['texte'])
+		AND $var_mode != 'debug') {
+			header("HTTP/1.0 404");
+			header("Content-Type: text/html; charset=".lire_meta('charset'));
+			$contexte_inclus = array(
+				'erreur_aucun' => message_erreur_404()
+			);
+			include(find_in_path('404.php3'));
+		}
+		// Interdire au client de cacher un login, un admin ou un recalcul
+		else if ($flag_dynamique OR $var_mode
+		OR $GLOBALS['_COOKIE']['spip_admin']) {
+			header("Cache-Control: no-cache,must-revalidate");
+			header("Pragma: no-cache");
+		}
+		// Pour les autres donner l'heure de modif
+		else if ($lastmodified) {
+			header("Last-Modified: ".http_gmoddate($lastmodified)." GMT");
+			header("Content-Type: text/html; charset=".lire_meta('charset'));
+		}
+	}
+
+	return $page;
+}
+
+
+//
+// Aller chercher la page dans le cache ou pas
+//
+function obtenir_page ($contexte, $chemin_cache, $delais, &$use_cache, $fond, $inclusion=false) {
+	global $lastmodified;
+
+	if (!$use_cache) {
+		include_local('inc-calcul.php3');
+
+		// page globale ? calculer le contexte
+		if (!$contexte)
+			$contexte = calculer_contexte();
+
+		spip_timer('calculer_page');
+		$page = calculer_page($chemin_cache,
+			array('fond' => $fond,
+				'contexte' => $contexte),
+			$delais,
+			$inclusion);
+
+		$lastmodified = time();
+
+		// log
+		if (!$log = $chemin_cache) $log = "($fond, delais=$delais, "
+		. $GLOBALS['_SERVER']['REQUEST_METHOD'].")";
+		spip_log (($inclusion ? 'calcul inclus':'calcul').' ('
+		.spip_timer('calculer_page')."): $log");
+
+		// Nouveau cache : creer un invalideur 't' fixant la date
+		// d'expiration et la taille du fichier
+		if (@file_exists($chemin_cache)) {
+			// Ici on ajoute 3600s pour eviter toute concurrence
+			// entre un invalideur et un appel public de page
+			$bedtime = time() + $delais + 3600;
+			$taille = @filesize($chemin_cache);
+			$fichier = addslashes($chemin_cache);
+			spip_query("INSERT IGNORE INTO spip_caches (fichier,id,type,taille)
+			VALUES ('$fichier','$bedtime','t','$taille')");
+		}
+
+	} else {
+
+		//
+		// Lire le fichier cache
+		//
+		lire_fichier ($chemin_cache, $page['texte']);
+		$lastmodified = max($lastmodified, @filemtime($chemin_cache));
+		# spip_log ("cache $chemin_cache $lastmodified");
+
+		//
+		// Lire sa carte d'identite & fixer le contexte global
+		//
+		if (preg_match("/^<!-- ([^\n]*) -->\n(.*)/ms", $page['texte'], $match)
+		AND is_array($meta_donnees = unserialize($match[1]))) {
+			foreach ($meta_donnees as $var=>$val)
+				$page[$var] = $val;
+
+			$page['texte'] = $match[2];
+
+			// Remplir les globals pour les boutons d'admin
+			if (!$inclusion AND is_array($page['contexte']))
+				foreach ($page['contexte'] as $var=>$val)
+					$GLOBALS[$var] = $val;
+		}
+
+	}
+
+	return $page;
+}
+
+
+//
+// Appeler cette fonction pour obtenir la page principale
+//
+function afficher_page_globale ($fond, $delais, &$use_cache) {
+	global $flag_preserver, $flag_dynamique, $lastmodified;
+	global $var_preview, $var_mode;
+	include_local ("inc-cache.php3");
+
+	// demande de previsualisation ?
+	// -> inc-calcul.php3 n'enregistrera pas les fichiers caches
+	// -> inc-reqsql-squel.php3 acceptera les objets non 'publie'
+	if ($var_mode == 'preview') {
+		// Verifier qu'on a le droit de previsualisation
+		$statut = $GLOBALS['auteur_session']['statut'];
+		if ($statut=='0minirezo' OR
+		(lire_meta('preview')=='1comite' AND $statut=='1comite')) {
+			$var_mode = 'recalcul';
+			$delais = 0;
+			$var_preview = true;
+			spip_log('preview !');
+		} else
+			$var_preview = false;
+	}
+
+	// Faut-il effacer des pages invalidees ?
+	if (lire_meta('invalider')) {
+		include_ecrire('inc_meta.php3');
+		lire_metas();
+		if (lire_meta('invalider'))
+			retire_caches();
+	}
+
+	// Calculer le chemin putatif du cache
+	$chemin_cache = generer_nom_fichier_cache('', $fond);
+
+	// Peut-on utiliser un fichier cache ?
+	determiner_cache($delais, $use_cache, $chemin_cache);
+
+	// Repondre gentiment aux requetes sympas
+	// (ici on ne tient pas compte d'une obsolence du cache ou des
+	// eventuels fichiers inclus modifies depuis la date
+	// HTTP_IF_MODIFIED_SINCE du client)
+	if ($GLOBALS['HTTP_IF_MODIFIED_SINCE'] AND !$var_mode
+	AND $chemin_cache AND !$flag_dynamique) {
+		$lastmodified = @filemtime($chemin_cache);
+		$headers_only = http_last_modified($lastmodified);
+	}
+	$headers_only |= ($GLOBALS['_SERVER']['REQUEST_METHOD'] == 'HEAD');
+
+	if ($headers_only) {
+		if ($chemin_cache)
+			$t = @filemtime($chemin_cache);
+		else
+			$t = time();
+		@header('Last-Modified: '.http_gmoddate($t).' GMT');
+		@header('Connection: close');
+		// Pas de bouton admin pour un HEAD
+		$flag_preserver = true;
+	}
+	else {
+		// Obtenir la page
+		$page = obtenir_page ('', $chemin_cache, $delais, $use_cache,
+		$fond, false);
+
+		if (!$flag_preserver) {
+		// Entete content-type: xml ou html ; charset
+			if ($xhtml) {
+			// Si Mozilla et tidy actif, passer en "application/xhtml+xml"
+			// extremement risque: Mozilla passe en mode debugueur strict
+			// mais permet d'afficher du MathML directement dans le texte
+			// (et sauf erreur, c'est la bonne facon de declarer du xhtml)
+				include_ecrire("inc_tidy.php");
+				if (version_tidy() > 0) {
+					if (ereg("application/xhtml\+xml", $GLOBALS['HTTP_ACCEPT'])) 
+						@header("Content-Type: application/xhtml+xml; charset=".lire_meta('charset'));
+					else 
+						@header("Content-Type: text/html; charset=".lire_meta('charset'));
+					echo '<'.'?xml version="1.0" encoding="'. lire_meta('charset').'"?'.">\n";
+				} else {
+					@header("Content-Type: text/html; charset=".lire_meta('charset'));
+				}
+			} else {
+				@header("Content-Type: text/html; charset=".lire_meta('charset'));
+			}
+		}
+	}
+
+	if ($chemin_cache) $page['cache'] = $chemin_cache;
+
+	if ($var_preview AND !$flag_preserver) {
+		include_ecrire('inc_lang.php3');
+		include_ecrire('inc_filtres.php3');
+		lang_select($GLOBALS['auteur_session']['lang']);
+		$page['texte'] .= '<div style="
+		display: block;
+		color: #eeeeee;
+		background-color: #111111;
+		padding-right: 5px;
+		padding-top: 2px;
+		padding-bottom: 5px;
+		font-size: 20px;
+		top: 0px;
+		left: 0px;
+		position: absolute;
+		"><img src="' . _DIR_IMG_PACK
+		. 'naviguer-site.png" align="left" border="0" />&nbsp; '
+		. majuscules(_T('previsualisation')).'</div>';
+	}
+
+	return $page;
+}
+
+
+function terminer_public_global() {
+
+	// Gestion des statistiques du site public
+	if (lire_meta("activer_statistiques") != "non") {
+		include_local ("inc-stats.php3");
+		ecrire_stats();
+	}
+
+	// Effectuer une tache de fond ?
+	cron();
+}
+
+
+function inclure_page($fond, $delais_inclus, $contexte_inclus, $cache_incluant='') {
+
+	$contexte_inclus['fond'] = $fond;
+
+	$chemin_cache = generer_nom_fichier_cache($contexte_inclus, $fond);
+
+	// Peut-on utiliser un fichier cache ?
+	determiner_cache($delais_inclus, $use_cache, $chemin_cache);
+
+	// Si on a inclus sans fixer le critere de lang, de deux choses l'une :
+	// - on est dans la langue du site, et pas besoin d'inclure inc_lang
+	// - on n'y est pas, et alors il faut revenir dans la langue par defaut
+	if (($lang = $contexte_inclus['lang'])
+	|| ($GLOBALS['spip_lang'] != ($lang = lire_meta('langue_site')))) {
+		include_ecrire('inc_lang.php3');
+		lang_select($lang);
+		$lang_select = true; // pour lang_dselect en sortie
+	}
+	
+	$page = obtenir_page ($contexte_inclus, $chemin_cache, $delais_inclus,
+	$use_cache, $fond, true);
+
+	$page['lang_select'] = $lang_select;
+
+	// Retourner le contenu...
+	return $page;
+}
+
+
+# Attention, un appel explicite a cette fonction suppose certains include
+# (voir l'exemple de spip_inscription et spip_pass)
+# $r = complexe (fond, delais, contexte) ; $echo = faut-il faire echo ou return
+function inclure_balise_dynamique($r, $echo=true) {
+	if (is_string($r))
+		if ($echo)
+			echo $r;
+		else
+			return $r;
+	else {
+		list($fond, $delais, $contexte_inclus) = $r;
+
+		if ((!$contexte_inclus['lang']) AND
+		($GLOBALS['spip_lang'] != lire_meta('langue_site')))
+			$contexte_inclus['lang'] = $GLOBALS['spip_lang'];
+
+
+		// Appeler la page
+		$page = inclure_page($fond, $delais, $contexte_inclus);
+
+		if ($page['process_ins'] == 'html') {
+			if ($echo)
+				echo $page['texte'];
+			else
+				$texte = $page['texte'];
+		} else {
+			if ($echo)
+				eval('?' . '>' . $page['texte']);
+			else {
+				ob_start();
+				eval('?' . '>' . $page['texte']);
+				$texte = ob_get_contents();
+				ob_end_clean();
+			}
+		}
+
+		if ($page['lang_select'])
+			lang_dselect();
+
+		return $texte;
+	}
+}
+
+
+function message_erreur_404 () {
+	if ($GLOBALS['id_article'])
+		$erreur = 'aucun_article';
+	else if ($GLOBALS['id_rubrique'])
+		$erreur = 'aucune_rubrique';
+	else if ($GLOBALS['id_breve'])
+		$erreur = 'aucune_breve';
+	else if ($GLOBALS['id_auteur'])
+		$erreur = 'aucun_auteur';
+	else if ($GLOBALS['id_syndic'])
+		$erreur = 'aucun_site';
+	else
+		$erreur = '';
+
+	return _T("public:".$erreur);
+}
+
+// Renvoie le _GET ou le _POST emis par l'utilisateur
+function _request($var) {
+	global $_GET, $_POST;
+	if (isset($_GET[$var])) return $_GET[$var];
+	if (isset($_POST[$var])) return $_POST[$var];
+	return NULL;
+}
+
+?>

Index: inc-urls-propres.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-urls-propres.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc-urls-propres.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ inc-urls-propres.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,172 +1,183 @@
-<?php
-
-// executer une seule fois
-if (defined("_INC_URLS2")) return;
-define("_INC_URLS2", "1");
-
-
-/*
-
-- Comment utiliser ce jeu d'URLs ?
-
-Il faut recopier le fichier htaccess-propres.txt sous le nom .htaccess
-dans le repertoire de base du site SPIP (attention a ne pas ecraser
-d'autres reglages que vous pourriez avoir mis dans ce fichier)
-
-*/
-
-
-function _generer_url_propre($type, $id_objet) {
-	$table = "spip_".$type."s";
-	$col_id = "id_".$type;
-
-	// D'abord, essayer de recuperer l'URL existante si possible
-	$query = "SELECT url_propre, titre FROM $table WHERE $col_id=$id_objet";
-	$result = spip_query($query);
-	if (!($row = spip_fetch_array($result))) return "";
-	if ($row['url_propre']) return $row['url_propre'];
-
-	// Sinon, creer l'URL
-	include_ecrire("inc_filtres.php3");
-	include_ecrire("inc_charsets.php3");
-	$url = translitteration(corriger_caracteres(
-		supprimer_tags(supprimer_numero(extraire_multi($row['titre'])))
-		));
-	$url = @preg_replace(',[[:punct:][:space:]]+,u', ' ', $url);
-	// S'il reste des caracteres non latins, utiliser l'id a la place
-	if (preg_match(",[^a-zA-Z0-9 ],", $url)) {
-		$url = $type.$id_objet;
-	}
-	else {
-		$mots = explode(' ', $url);
-		$url = '';
-		foreach ($mots as $mot) {
-			if (!$mot) continue;
-			$url2 = $url.'-'.$mot;
-			if (strlen($url2) > 35) {
-				break;
-			}
-			$url = $url2;
-		}
-		$url = substr($url, 1);
-		//echo "$url<br>";
-		if (strlen($url) < 2) $url = $type.$id_objet;
-	}
-
-	// Verifier les eventuels doublons et mettre a jour
-	$lock = "url $type $id_objet";
-	spip_get_lock($lock, 10);
-	$query = "SELECT $col_id FROM $table
-		WHERE url_propre='".addslashes($url)."'";
-	if (spip_num_rows(spip_query($query)) > 0) {
-		$url = $url.','.$id_objet;
-	}
-	$query = "UPDATE $table SET url_propre='".addslashes($url)."' WHERE $col_id=$id_objet";
-	spip_query($query);
-	spip_release_lock($lock);
-
-	return $url;
-}
-
-function generer_url_article($id_article) {
-	$url = _generer_url_propre('article', $id_article);
-	if (!$url) $url = "article.php3?id_article=$id_article";
-	return $url;
-}
-
-function generer_url_rubrique($id_rubrique) {
-	$url = _generer_url_propre('rubrique', $id_rubrique);
-	if (!$url) $url = "rubrique.php3?id_rubrique=$id_rubrique";
-	else $url = '-'.$url.'-';
-	return $url;
-}
-
-function generer_url_breve($id_breve) {
-	$url = _generer_url_propre('breve', $id_breve);
-	if (!$url) $url = "breve.php3?id_breve=$id_breve";
-	else $url = '+'.$url.'+';
-	return $url;
-}
-
-function generer_url_forum($id_forum) {
-	return "forum.php3?id_forum=$id_forum";
-}
-
-function generer_url_mot($id_mot) {
-	$url = _generer_url_propre('mot', $id_mot);
-	if (!$url) $url = "mot.php3?id_mot=$id_mot";
-	else $url = '+-'.$url.'-+';
-	return $url;
-}
-
-function generer_url_auteur($id_auteur) {
-	return "auteur.php3?id_auteur=$id_auteur";
-}
-
-function generer_url_document($id_document) {
-	if (intval($id_document) <= 0)
-		return '';
-	if ((lire_meta("creer_htaccess")) == 'oui')
-		return "spip_acces_doc.php3?id_document=$id_document";
-	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
-		return ($row['fichier']);
-	return '';
-}
-
-function recuperer_parametres_url($fond, $url) {
-	global $contexte;
-
-	// Migration depuis anciennes URLs ?
-	if ($GLOBALS['_SERVER']['REQUEST_METHOD'] != 'POST' &&
-		preg_match(',(^|/)((article|breve|rubrique|mot)\.php3?([\?&].*)?)$,', $url, $regs)) {
-		$type = $regs[3];
-		$id_objet = intval($GLOBALS['id_'.$type]);
-		if ($id_objet) {
-			$func = "generer_url_$type";
-			$url_propre = $func($id_objet);
-			if ($url_propre
-			AND ($url_propre<>$regs[2])) {
-				http_status(301);
-				Header("Location: $url_propre");
-				exit;
-			}
-		}
-		return;
-	}
-
-	$url_propre = $GLOBALS['_SERVER']['REDIRECT_url_propre'];
-	if (!$url_propre) $url_propre = $GLOBALS['HTTP_ENV_VARS']['url_propre'];
-	if (!$url_propre) $url_propre = substr($url, strrpos($url, '/') + 1);
-	if (!$url_propre) return;
-
-	// Detecter les differents types d'objets demandes
-	if (preg_match(',^\+-(.*)-\+$,', $url_propre, $regs)) {
-		$type = 'mot';
-		$url_propre = $regs[1];
-	}
-	else if (preg_match(',^-(.*)-$,', $url_propre, $regs)) {
-		$type = 'rubrique';
-		$url_propre = $regs[1];
-	}
-	else if (preg_match(',^\+(.*)\+$,', $url_propre, $regs)) {
-		$type = 'breve';
-		$url_propre = $regs[1];
-	}
-	else {
-		$type = 'article';
-	}
-
-	$table = "spip_".$type."s";
-	$col_id = "id_".$type;
-	$query = "SELECT $col_id FROM $table
-		WHERE url_propre='".addslashes($url_propre)."'";
-	$result = spip_query($query);
-	if (spip_num_rows($result) == 1) {
-		$row = spip_fetch_array($result);
-		$contexte[$col_id] = $row[$col_id];
-	}
-
-	return;
-}
-
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+// executer une seule fois
+if (defined("_INC_URLS2")) return;
+define("_INC_URLS2", "1");
+
+
+/*
+
+- Comment utiliser ce jeu d'URLs ?
+
+Il faut recopier le fichier htaccess-propres.txt sous le nom .htaccess
+dans le repertoire de base du site SPIP (attention a ne pas ecraser
+d'autres reglages que vous pourriez avoir mis dans ce fichier)
+
+*/
+
+
+function _generer_url_propre($type, $id_objet) {
+	$table = "spip_".$type."s";
+	$col_id = "id_".$type;
+
+	// D'abord, essayer de recuperer l'URL existante si possible
+	$query = "SELECT url_propre, titre FROM $table WHERE $col_id=$id_objet";
+	$result = spip_query($query);
+	if (!($row = spip_fetch_array($result))) return "";
+	if ($row['url_propre']) return $row['url_propre'];
+
+	// Sinon, creer l'URL
+	include_ecrire("inc_filtres.php3");
+	include_ecrire("inc_charsets.php3");
+	$url = translitteration(corriger_caracteres(
+		supprimer_tags(supprimer_numero(extraire_multi($row['titre'])))
+		));
+	$url = @preg_replace(',[[:punct:][:space:]]+,u', ' ', $url);
+	// S'il reste des caracteres non latins, utiliser l'id a la place
+	if (preg_match(",[^a-zA-Z0-9 ],", $url)) {
+		$url = $type.$id_objet;
+	}
+	else {
+		$mots = explode(' ', $url);
+		$url = '';
+		foreach ($mots as $mot) {
+			if (!$mot) continue;
+			$url2 = $url.'-'.$mot;
+			if (strlen($url2) > 35) {
+				break;
+			}
+			$url = $url2;
+		}
+		$url = substr($url, 1);
+		//echo "$url<br>";
+		if (strlen($url) < 2) $url = $type.$id_objet;
+	}
+
+	// Verifier les eventuels doublons et mettre a jour
+	$lock = "url $type $id_objet";
+	spip_get_lock($lock, 10);
+	$query = "SELECT $col_id FROM $table
+		WHERE url_propre='".addslashes($url)."'";
+	if (spip_num_rows(spip_query($query)) > 0) {
+		$url = $url.','.$id_objet;
+	}
+	$query = "UPDATE $table SET url_propre='".addslashes($url)."' WHERE $col_id=$id_objet";
+	spip_query($query);
+	spip_release_lock($lock);
+
+	return $url;
+}
+
+function generer_url_article($id_article) {
+	$url = _generer_url_propre('article', $id_article);
+	if (!$url) $url = "article.php3?id_article=$id_article";
+	return $url;
+}
+
+function generer_url_rubrique($id_rubrique) {
+	$url = _generer_url_propre('rubrique', $id_rubrique);
+	if (!$url) $url = "rubrique.php3?id_rubrique=$id_rubrique";
+	else $url = '-'.$url.'-';
+	return $url;
+}
+
+function generer_url_breve($id_breve) {
+	$url = _generer_url_propre('breve', $id_breve);
+	if (!$url) $url = "breve.php3?id_breve=$id_breve";
+	else $url = '+'.$url.'+';
+	return $url;
+}
+
+function generer_url_forum($id_forum) {
+	return "forum.php3?id_forum=$id_forum";
+}
+
+function generer_url_mot($id_mot) {
+	$url = _generer_url_propre('mot', $id_mot);
+	if (!$url) $url = "mot.php3?id_mot=$id_mot";
+	else $url = '+-'.$url.'-+';
+	return $url;
+}
+
+function generer_url_auteur($id_auteur) {
+	return "auteur.php3?id_auteur=$id_auteur";
+}
+
+function generer_url_document($id_document) {
+	if (intval($id_document) <= 0)
+		return '';
+	if ((lire_meta("creer_htaccess")) == 'oui')
+		return "spip_acces_doc.php3?id_document=$id_document";
+	if ($row = @spip_fetch_array(spip_query("SELECT fichier FROM spip_documents WHERE id_document = $id_document")))
+		return ($row['fichier']);
+	return '';
+}
+
+function recuperer_parametres_url($fond, $url) {
+	global $contexte;
+
+	// Migration depuis anciennes URLs ?
+	if ($GLOBALS['_SERVER']['REQUEST_METHOD'] != 'POST' &&
+		preg_match(',(^|/)((article|breve|rubrique|mot)\.php3?([\?&].*)?)$,', $url, $regs)) {
+		$type = $regs[3];
+		$id_objet = intval($GLOBALS['id_'.$type]);
+		if ($id_objet) {
+			$func = "generer_url_$type";
+			$url_propre = $func($id_objet);
+			if ($url_propre
+			AND ($url_propre<>$regs[2])) {
+				http_status(301);
+				Header("Location: $url_propre");
+				exit;
+			}
+		}
+		return;
+	}
+
+	$url_propre = $GLOBALS['_SERVER']['REDIRECT_url_propre'];
+	if (!$url_propre) $url_propre = $GLOBALS['HTTP_ENV_VARS']['url_propre'];
+	if (!$url_propre) $url_propre = substr($url, strrpos($url, '/') + 1);
+	if (!$url_propre) return;
+
+	// Detecter les differents types d'objets demandes
+	if (preg_match(',^\+-(.*)-\+$,', $url_propre, $regs)) {
+		$type = 'mot';
+		$url_propre = $regs[1];
+	}
+	else if (preg_match(',^-(.*)-$,', $url_propre, $regs)) {
+		$type = 'rubrique';
+		$url_propre = $regs[1];
+	}
+	else if (preg_match(',^\+(.*)\+$,', $url_propre, $regs)) {
+		$type = 'breve';
+		$url_propre = $regs[1];
+	}
+	else {
+		$type = 'article';
+	}
+
+	$table = "spip_".$type."s";
+	$col_id = "id_".$type;
+	$query = "SELECT $col_id FROM $table
+		WHERE url_propre='".addslashes($url_propre)."'";
+	$result = spip_query($query);
+	if (spip_num_rows($result) == 1) {
+		$row = spip_fetch_array($result);
+		$contexte[$col_id] = $row[$col_id];
+	}
+
+	return;
+}
+
 ?>

Index: spip_test_dirs.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_test_dirs.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_test_dirs.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_test_dirs.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,106 +1,117 @@
-<?php
-if (defined("_TEST_DIRS")) return;
-define("_TEST_DIRS", "1");
-
-include("ecrire/inc_version.php3");
-
-include_ecrire("inc_presentation.php3");
-
-utiliser_langue_visiteur();
-
-
-//
-// Tente d'ecrire
-//
-function test_ecrire($my_dir) {
-	$ok = true;
-	$nom_fich = "$my_dir/test.txt";
-	$f = @fopen($nom_fich, "w");
-	if (!$f) $ok = false;
-	else if (!@fclose($f)) $ok = false;
-	else if (!@unlink($nom_fich)) $ok = false;
-	return $ok;
-}
-
-//
-// teste les droits sur les repertoires $test_dirs declares dans inc_version
-//
-
-// rajouter celui passer dans l'url ou celui du source (a l'installation)
-
-if ($test_dir) {
-  if (!ereg("/$", $test_dir)) $test_dir .= '/';
-  if (!in_array($test_dir, $test_dirs)) $test_dirs[] = $test_dir;
- }
-else {
-	if (!_FILE_CONNECT)
-	  $test_dirs[] = dirname(_FILE_CONNECT_INS);
-}
-
-unset($bad_dirs);
-unset($absent_dirs);
-
-while (list(, $my_dir) = each($test_dirs)) {
-	if (!test_ecrire($my_dir)) {
-		@umask(0);
-		if (@file_exists($my_dir)) {
-			@chmod($my_dir, 0777);
-			// ???
-			if (!test_ecrire($my_dir))
-				@chmod($my_dir, 0775);
-			if (!test_ecrire($my_dir))
-				@chmod($my_dir, 0755);
-			if (!test_ecrire($my_dir))
-				$bad_dirs[] = "<LI>".$my_dir;
-		} else
-			$absent_dirs[] = "<LI>".$my_dir;
-	}
-}
-
-if ($bad_dirs OR $absent_dirs) {
-	install_debut_html();
-
-	if (!_FILE_CONNECT) {
-		$titre = _T('dirs_preliminaire');
-		$continuer = ' '._T('dirs_commencer');
-	} else
-		$titre = _T('dirs_probleme_droits');
-
-	$bad_url = "spip_test_dirs.php3";
-	if ($test_dir) $bad_url .= '?test_dir='.$test_dir;
-
-	echo "<FONT FACE=\"Verdana,Arial,Helvetica,sans-serif\" SIZE=3>$titre</FONT>\n<p>";
-	echo "<div align='right'>". menu_langues('var_lang_ecrire')."</div>\n";
-
-	if ($bad_dirs) {
-		echo "<p>";
-		echo _T('dirs_repertoires_suivants',
-			array('bad_dirs' => join(" ", $bad_dirs)));
-		echo "<B>". _T('login_recharger')."</b>";
-	}
-
-	if ($absent_dirs) {
-		echo "<p>";
-		echo _T('dirs_repertoires_absents',
-			array('bad_dirs' => join(" ", $absent_dirs)));
-		echo "<B>". _T('login_recharger')."</b>";
-	}
-
-	echo $continuer.'. ';
-	echo aide ("install0");
-	echo "<p>";
-
-	echo "<FORM ACTION='$bad_urls' METHOD='GET'>\n";
-	echo "<DIV align='right'><INPUT TYPE='submit' CLASS='fondl' VALUE='". _T('login_recharger')."'></DIV>";
-	echo "</FORM>";
-
-	install_fin_html();
-
-} else {
-	if (!_FILE_CONNECT)
-		header("Location: " . _DIR_RESTREINT_ABS . "install.php3?etape=1");
-	else
-		header("Location: " . _DIR_RESTREINT_ABS);
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+if (defined("_TEST_DIRS")) return;
+define("_TEST_DIRS", "1");
+
+include("ecrire/inc_version.php3");
+
+include_ecrire("inc_presentation.php3");
+
+utiliser_langue_visiteur();
+
+
+//
+// Tente d'ecrire
+//
+function test_ecrire($my_dir) {
+	$ok = true;
+	$nom_fich = "$my_dir/test.txt";
+	$f = @fopen($nom_fich, "w");
+	if (!$f) $ok = false;
+	else if (!@fclose($f)) $ok = false;
+	else if (!@unlink($nom_fich)) $ok = false;
+	return $ok;
+}
+
+//
+// teste les droits sur les repertoires $test_dirs declares dans inc_version
+//
+
+// rajouter celui passer dans l'url ou celui du source (a l'installation)
+
+if ($test_dir) {
+  if (!ereg("/$", $test_dir)) $test_dir .= '/';
+  if (!in_array($test_dir, $test_dirs)) $test_dirs[] = $test_dir;
+ }
+else {
+	if (!_FILE_CONNECT)
+	  $test_dirs[] = dirname(_FILE_CONNECT_INS);
+}
+
+unset($bad_dirs);
+unset($absent_dirs);
+
+while (list(, $my_dir) = each($test_dirs)) {
+	if (!test_ecrire($my_dir)) {
+		@umask(0);
+		if (@file_exists($my_dir)) {
+			@chmod($my_dir, 0777);
+			// ???
+			if (!test_ecrire($my_dir))
+				@chmod($my_dir, 0775);
+			if (!test_ecrire($my_dir))
+				@chmod($my_dir, 0755);
+			if (!test_ecrire($my_dir))
+				$bad_dirs[] = "<LI>".$my_dir;
+		} else
+			$absent_dirs[] = "<LI>".$my_dir;
+	}
+}
+
+if ($bad_dirs OR $absent_dirs) {
+	install_debut_html();
+
+	if (!_FILE_CONNECT) {
+		$titre = _T('dirs_preliminaire');
+		$continuer = ' '._T('dirs_commencer');
+	} else
+		$titre = _T('dirs_probleme_droits');
+
+	$bad_url = "spip_test_dirs.php3";
+	if ($test_dir) $bad_url .= '?test_dir='.$test_dir;
+
+	echo "<FONT FACE=\"Verdana,Arial,Helvetica,sans-serif\" SIZE=3>$titre</FONT>\n<p>";
+	echo "<div align='right'>". menu_langues('var_lang_ecrire')."</div>\n";
+
+	if ($bad_dirs) {
+		echo "<p>";
+		echo _T('dirs_repertoires_suivants',
+			array('bad_dirs' => join(" ", $bad_dirs)));
+		echo "<B>". _T('login_recharger')."</b>";
+	}
+
+	if ($absent_dirs) {
+		echo "<p>";
+		echo _T('dirs_repertoires_absents',
+			array('bad_dirs' => join(" ", $absent_dirs)));
+		echo "<B>". _T('login_recharger')."</b>";
+	}
+
+	echo $continuer.'. ';
+	echo aide ("install0");
+	echo "<p>";
+
+	echo "<FORM ACTION='$bad_urls' METHOD='GET'>\n";
+	echo "<DIV align='right'><INPUT TYPE='submit' CLASS='fondl' VALUE='". _T('login_recharger')."'></DIV>";
+	echo "</FORM>";
+
+	install_fin_html();
+
+} else {
+	if (!_FILE_CONNECT)
+		header("Location: " . _DIR_RESTREINT_ABS . "install.php3?etape=1");
+	else
+		header("Location: " . _DIR_RESTREINT_ABS);
+}
+
+?>

Index: spip_cookie.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/spip_cookie.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_cookie.php3	8 Feb 2005 15:10:10 -0000	1.2
+++ spip_cookie.php3	20 Feb 2005 22:16:48 -0000	1.3
@@ -1,238 +1,238 @@
-<?php
-
-include ("ecrire/inc_version.php3");
-include_ecrire ("inc_session.php3");
-
-
-// gerer l'auth http
-function auth_http($url, $essai_auth_http) {
-	global $_SERVER;
-	if ($essai_auth_http == 'oui') {
-		if (verifier_php_auth())
-			redirige_par_entete($url);
-		else {
-			$url = quote_amp(urlencode($url));
-			ask_php_auth(_T('login_connexion_refusee'),
-			_T('login_login_pass_incorrect'), _T('login_retour_site'),
-			"url=$url", _T('login_nouvelle_tentative'),
-			(ereg(_DIR_RESTREINT_ABS, $url)));
-			exit;
-		}
-	}
-	// si demande logout auth_http
-	else if ($essai_auth_http == 'logout') {
-		ask_php_auth(_T('login_deconnexion_ok'),
-		_T('login_verifiez_navigateur'), _T('login_retour_public'),
-		"redirect="._DIR_RESTREINT_ABS, _T('login_test_navigateur'), true);
-		exit;
-	}
-}
-
-// rejoue le cookie pour renouveler spip_session
-if ($change_session == 'oui') {
-	if (verifier_session($spip_session)) {
-		// Attention : seul celui qui a le bon IP a le droit de rejouer,
-		// ainsi un eventuel voleur de cookie ne pourrait pas deconnecter
-		// sa victime, mais se ferait deconnecter par elle.
-		if ($auteur_session['hash_env'] == hash_env()) {
-			$auteur_session['ip_change'] = false;
-			$cookie = creer_cookie_session($auteur_session);
-			supprimer_session($spip_session);
-			spip_setcookie('spip_session', $cookie);
-		}
-		@header('Content-Type: image/gif');
-		@header('Expires: 0');
-		@header("Cache-Control: no-store, no-cache, must-revalidate");
-		@header('Pragma: no-cache');
-		@header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
-		@readfile(_DIR_IMG_PACK . 'rien.gif');
-		exit;
-	}
-}
-
-if ($url)  $url = urldecode($url);
-
-// tentative de connexion en auth_http
-if ($essai_auth_http AND !$ignore_auth_http) {
-	auth_http(($url ? $url : _DIR_RESTREINT_ABS), $essai_auth_http);
-	exit;
-}
-
-// cas particulier, logout dans l'espace public
-if ($logout_public) {
-	$logout = $logout_public;
-	if (!$url)
-		$url = 'index.php3';
-}
-// tentative de logout
-if ($logout) {
-	verifier_visiteur();
-	if ($auteur_session['login'] == $logout) {
-		spip_query("UPDATE spip_auteurs SET en_ligne = DATE_SUB(NOW(),INTERVAL 6 MINUTE) WHERE id_auteur = ".$auteur_session['id_auteur']);
-		if ($spip_session) {
-			zap_sessions($auteur_session['id_auteur'], true);
-			spip_setcookie('spip_session', $spip_session, time() - 3600 * 24);
-		}
-		
-		if ($_SERVER['PHP_AUTH_USER']
-		AND !$ignore_auth_http
-		AND verifier_php_auth()) {
-			auth_http(($url ? $url : _DIR_RESTREINT_ABS), 'logout');
-		}
-		unset ($auteur_session);
-	}
-
-	redirige_par_entete($url ? $url :
-			    ("spip_login.php3?url=$url&inscription=" .
-			     ((lire_meta("accepter_inscriptions") == "oui")?
-			      'spip_inscription.php3' : '')));
-}
-
-// en cas de login sur bonjour=oui, on tente de poser un cookie
-// puis de passer a spip_login qui diagnostiquera l'echec de cookie
-// le cas echeant.
-if ($test_echec_cookie == 'oui') {
-	spip_setcookie('spip_session', 'test_echec_cookie');
-	redirige_par_entete("spip_login.php3?var_echec_cookie=oui&url=" .
-			    ($url ? $url : _DIR_RESTREINT_ABS) .
-			    "&inscription=" .
-			     ((lire_meta("accepter_inscriptions") == "oui")?
-			      'spip_inscription.php3' : ''));
-}
-
-// Tentative de login
-unset ($cookie_session);
-$redirect = ($url ? $url : _DIR_RESTREINT_ABS);
-if ($essai_login == "oui") {
-	// Recuperer le login en champ hidden
-	if ($session_login_hidden AND !$session_login)
-		$session_login = $session_login_hidden;
-
-	$login = $session_login;
-	$pass = $session_password;
-
-	// Essayer differentes methodes d'authentification
-	$auths = array('spip');
-	include_local(_FILE_CONNECT); // pour savoir si ldap est present 
-	if ($ldap_present) $auths[] = 'ldap';
-	$ok = false;
-	reset($auths);
-	while (list(, $nom_auth) = each($auths)) {
-		include_ecrire("inc_auth_".$nom_auth.".php3");
-		$classe_auth = "Auth_".$nom_auth;
-		$auth = new $classe_auth;
-		if ($auth->init()) {
-			// Essayer les mots de passe md5
-			$ok = $auth->verifier_challenge_md5($login, $session_password_md5, $next_session_password_md5);
-			// Sinon essayer avec le mot de passe en clair
-			if (!$ok && $session_password) $ok = $auth->verifier($login, $session_password);
-			if ($ok)  { $auth->lire(); break; }
-		}
-	}
-
-	if ($ok) {
-		$auth->activer();
-
-		if ($auth->login AND $auth->statut == '0minirezo') // force le cookie pour les admins
-			$cookie_admin = "@".$auth->login;
-
-		$query = "SELECT * FROM spip_auteurs WHERE login='".addslashes($auth->login)."'";
-		$result = spip_query($query);
-		if ($row_auteur = spip_fetch_array($result))
-			$cookie_session = creer_cookie_session($row_auteur);
-
-		if (ereg(_DIR_RESTREINT_ABS, $redirect)) {
-		      $redirect .= (strpos($redirect, "?") ? "&" : "?") . 'bonjour=oui';
-		}
-	}
-	else {
-		if (ereg(_DIR_RESTREINT_ABS, $redirect)) {
-			$redirect = "spip_login.php3?inscription=" .
-			     ((lire_meta("accepter_inscriptions") == "oui")?
-			      'spip_inscription.php3' : '');
-		}
-		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=$login";
-		if ($session_password || $session_password_md5)
-			$redirect .= '&var_erreur=pass';
-		$redirect .= '&url=' . urlencode($url);
-	}
- }
-
-// cookie d'admin ?
-if ($cookie_admin == "non") {
-	if (!$retour)
-	  $retour = 'spip_login.php3?var_url='.urlencode($url) .
-	     "&inscription="  .
-	    ((lire_meta("accepter_inscriptions") == "oui")? 'spip_inscription.php3' : '');
-
-	spip_setcookie('spip_admin', $spip_admin, time() - 3600 * 24);
-	$redirect = ereg_replace("[?&]var_login=[^&]*", '', $retour);
-	$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=-1";
-}
-else if ($cookie_admin AND $spip_admin != $cookie_admin) {
-	spip_setcookie('spip_admin', $cookie_admin, time() + 3600 * 24 * 14);
-}
-
-// cookie de session ?
-if ($cookie_session) {
-	if ($session_remember == 'oui')
-		spip_setcookie('spip_session', $cookie_session, time() + 3600 * 24 * 14);
-	else
-		spip_setcookie('spip_session', $cookie_session);
-
-	$prefs = ($row_auteur['prefs']) ? unserialize($row_auteur['prefs']) : array();
-	$prefs['cnx'] = ($session_remember == 'oui') ? 'perma' : '';
-	spip_query ("UPDATE spip_auteurs SET prefs = '".addslashes(serialize($prefs))."' WHERE id_auteur = ".$row_auteur['id_auteur']);
-
-}
-
-// changement de langue espace public
-if ($var_lang) {
-	include_ecrire('inc_lang.php3');
-
-	if (changer_langue($var_lang)) {
-		spip_setcookie('spip_lang', $var_lang, time() + 365 * 24 * 3600);
-		$redirect = ereg_replace("[?&]lang=[^&]*", '', $redirect);
-		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "lang=$var_lang";
-	}
-}
-
-// changer de langue espace prive (ou login)
-if ($var_lang_ecrire) {
-	include_ecrire('inc_lang.php3');
-	verifier_visiteur();
-
-	if (changer_langue($var_lang_ecrire)) {
-		spip_setcookie('spip_lang_ecrire', $var_lang_ecrire, time() + 365 * 24 * 3600);
-		spip_setcookie('spip_lang', $var_lang_ecrire, time() + 365 * 24 * 3600);
-
-		if (_FILE_CONNECT) {
-			include_ecrire('inc_admin.php3');
-			if (verifier_action_auteur('var_lang_ecrire', $valeur, $id_auteur)) {
-				spip_query ("UPDATE spip_auteurs SET lang = '".addslashes($var_lang_ecrire)."' WHERE id_auteur = ".$id_auteur);
-				$auteur_session['lang'] = $var_lang_ecrire;
-				ajouter_session($auteur_session, $spip_session);	// enregistrer dans le fichier de session
-			}
-		}
-
-		$redirect = ereg_replace("[?&]lang=[^&]*", '', $redirect);
-		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "lang=$var_lang_ecrire";
-	}
-}
-
-// Redirection
-// Sous Apache, les cookies avec une redirection fonctionnent
-// Sinon, on fait un refresh HTTP
-
-if (ereg("^Apache", $SERVER_SOFTWARE)) {
-	redirige_par_entete($redirect);
-}
-else {
-	@header("Refresh: 0; url=" . $redirect);
-	echo "<html><head>";
-	echo "<meta http-equiv='Refresh' content='0; url=".$redirect."'>";
-	echo "</head>\n";
-	echo "<body><a href='".$redirect."'>"._T('navigateur_pas_redirige')."</a></body></html>";
-}
-
-?>
+<?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+include ("ecrire/inc_version.php3");
+include_ecrire ("inc_session.php3");
+
+
+// gerer l'auth http
+function auth_http($url, $essai_auth_http) {
+	global $_SERVER;
+	if ($essai_auth_http == 'oui') {
+		if (verifier_php_auth())
+			redirige_par_entete($url);
+		else {
+			$url = quote_amp(urlencode($url));
+			ask_php_auth(_T('login_connexion_refusee'),
+			_T('login_login_pass_incorrect'), _T('login_retour_site'),
+			"url=$url", _T('login_nouvelle_tentative'),
+			(ereg(_DIR_RESTREINT_ABS, $url)));
+			exit;
+		}
+	}
+	// si demande logout auth_http
+	else if ($essai_auth_http == 'logout') {
+		ask_php_auth(_T('login_deconnexion_ok'),
+		_T('login_verifiez_navigateur'), _T('login_retour_public'),
+		"redirect="._DIR_RESTREINT_ABS, _T('login_test_navigateur'), true);
+		exit;
+	}
+}
+
+// rejoue le cookie pour renouveler spip_session
+if ($change_session == 'oui') {
+	if (verifier_session($spip_session)) {
+		// Attention : seul celui qui a le bon IP a le droit de rejouer,
+		// ainsi un eventuel voleur de cookie ne pourrait pas deconnecter
+		// sa victime, mais se ferait deconnecter par elle.
+		if ($auteur_session['hash_env'] == hash_env()) {
+			$auteur_session['ip_change'] = false;
+			$cookie = creer_cookie_session($auteur_session);
+			supprimer_session($spip_session);
+			spip_setcookie('spip_session', $cookie);
+		}
+		@header('Content-Type: image/gif');
+		@header('Expires: 0');
+		@header("Cache-Control: no-store, no-cache, must-revalidate");
+		@header('Pragma: no-cache');
+		@header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
+		@readfile(_DIR_IMG_PACK . 'rien.gif');
+		exit;
+	}
+}
+
+if ($url)  $url = urldecode($url);
+
+// tentative de connexion en auth_http
+if ($essai_auth_http AND !$ignore_auth_http) {
+	auth_http(($url ? $url : _DIR_RESTREINT_ABS), $essai_auth_http);
+	exit;
+}
+
+// cas particulier, logout dans l'espace public
+if ($logout_public) {
+	$logout = $logout_public;
+	if (!$url)
+		$url = 'index.php3';
+}
+// tentative de logout
+if ($logout) {
+	verifier_visiteur();
+	if ($auteur_session['login'] == $logout) {
+		spip_query("UPDATE spip_auteurs SET en_ligne = DATE_SUB(NOW(),INTERVAL 6 MINUTE) WHERE id_auteur = ".$auteur_session['id_auteur']);
+		if ($spip_session) {
+			zap_sessions($auteur_session['id_auteur'], true);
+			spip_setcookie('spip_session', $spip_session, time() - 3600 * 24);
+		}
+		
+		if ($_SERVER['PHP_AUTH_USER']
+		AND !$ignore_auth_http
+		AND verifier_php_auth()) {
+			auth_http(($url ? $url : _DIR_RESTREINT_ABS), 'logout');
+		}
+		unset ($auteur_session);
+	}
+
+	redirige_par_entete($url ? $url : "spip_login.php3");
+}
+
+// en cas de login sur bonjour=oui, on tente de poser un cookie
+// puis de passer a spip_login qui diagnostiquera l'echec de cookie
+// le cas echeant.
+if ($test_echec_cookie == 'oui') {
+	spip_setcookie('spip_session', 'test_echec_cookie');
+	redirige_par_entete("spip_login.php3?var_echec_cookie=oui&url="
+		. ($url ? $url : _DIR_RESTREINT_ABS));
+}
+
+// Tentative de login
+unset ($cookie_session);
+$redirect = ($url ? $url : _DIR_RESTREINT_ABS);
+if ($essai_login == "oui") {
+	// Recuperer le login en champ hidden
+	if ($session_login_hidden AND !$session_login)
+		$session_login = $session_login_hidden;
+
+	$login = $session_login;
+	$pass = $session_password;
+
+	// Essayer differentes methodes d'authentification
+	$auths = array('spip');
+	include_local(_FILE_CONNECT); // pour savoir si ldap est present 
+	if ($ldap_present) $auths[] = 'ldap';
+	$ok = false;
+	reset($auths);
+	while (list(, $nom_auth) = each($auths)) {
+		include_ecrire("inc_auth_".$nom_auth.".php3");
+		$classe_auth = "Auth_".$nom_auth;
+		$auth = new $classe_auth;
+		if ($auth->init()) {
+			// Essayer les mots de passe md5
+			$ok = $auth->verifier_challenge_md5($login, $session_password_md5, $next_session_password_md5);
+			// Sinon essayer avec le mot de passe en clair
+			if (!$ok && $session_password) $ok = $auth->verifier($login, $session_password);
+			if ($ok)  { $auth->lire(); break; }
+		}
+	}
+
+	if ($ok) {
+		$auth->activer();
+
+		if ($auth->login AND $auth->statut == '0minirezo') // force le cookie pour les admins
+			$cookie_admin = "@".$auth->login;
+
+		$query = "SELECT * FROM spip_auteurs WHERE login='".addslashes($auth->login)."'";
+		$result = spip_query($query);
+		if ($row_auteur = spip_fetch_array($result))
+			$cookie_session = creer_cookie_session($row_auteur);
+
+		if (ereg(_DIR_RESTREINT_ABS, $redirect)) {
+		      $redirect .= (strpos($redirect, "?") ? "&" : "?") . 'bonjour=oui';
+		}
+	}
+	else {
+		if (ereg(_DIR_RESTREINT_ABS, $redirect))
+			$redirect = "spip_login.php3";
+		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=$login";
+		if ($session_password || $session_password_md5)
+			$redirect .= '&var_erreur=pass';
+		$redirect .= '&url=' . urlencode($url);
+	}
+ }
+
+// cookie d'admin ?
+if ($cookie_admin == "non") {
+	if (!$retour)
+	  $retour = 'spip_login.php3?var_url='.urlencode($url);
+
+	spip_setcookie('spip_admin', $spip_admin, time() - 3600 * 24);
+	$redirect = ereg_replace("([?&])var_login=[^&]*", '\1', urldecode($retour));
+	$redirect .= (strpos($redirect, "?") ? "&" : "?") . "var_login=-1";
+}
+else if ($cookie_admin AND $spip_admin != $cookie_admin) {
+	spip_setcookie('spip_admin', $cookie_admin, time() + 3600 * 24 * 14);
+}
+
+// cookie de session ?
+if ($cookie_session) {
+	if ($session_remember == 'oui')
+		spip_setcookie('spip_session', $cookie_session, time() + 3600 * 24 * 14);
+	else
+		spip_setcookie('spip_session', $cookie_session);
+
+	$prefs = ($row_auteur['prefs']) ? unserialize($row_auteur['prefs']) : array();
+	$prefs['cnx'] = ($session_remember == 'oui') ? 'perma' : '';
+	spip_query ("UPDATE spip_auteurs SET prefs = '".addslashes(serialize($prefs))."' WHERE id_auteur = ".$row_auteur['id_auteur']);
+
+}
+
+// changement de langue espace public
+if ($var_lang) {
+	include_ecrire('inc_lang.php3');
+
+	if (changer_langue($var_lang)) {
+		spip_setcookie('spip_lang', $var_lang, time() + 365 * 24 * 3600);
+		$redirect = ereg_replace("[?&]lang=[^&]*", '', $redirect);
+		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "lang=$var_lang";
+	}
+}
+
+// changer de langue espace prive (ou login)
+if ($var_lang_ecrire) {
+	include_ecrire('inc_lang.php3');
+	verifier_visiteur();
+
+	if (changer_langue($var_lang_ecrire)) {
+		spip_setcookie('spip_lang_ecrire', $var_lang_ecrire, time() + 365 * 24 * 3600);
+		spip_setcookie('spip_lang', $var_lang_ecrire, time() + 365 * 24 * 3600);
+
+		if (_FILE_CONNECT) {
+			include_ecrire('inc_admin.php3');
+			if (verifier_action_auteur('var_lang_ecrire', $valeur, $id_auteur)) {
+				spip_query ("UPDATE spip_auteurs SET lang = '".addslashes($var_lang_ecrire)."' WHERE id_auteur = ".$id_auteur);
+				$auteur_session['lang'] = $var_lang_ecrire;
+				ajouter_session($auteur_session, $spip_session);	// enregistrer dans le fichier de session
+			}
+		}
+
+		$redirect = ereg_replace("[?&]lang=[^&]*", '', $redirect);
+		$redirect .= (strpos($redirect, "?") ? "&" : "?") . "lang=$var_lang_ecrire";
+	}
+}
+
+// Redirection
+// Sous Apache, les cookies avec une redirection fonctionnent
+// Sinon, on fait un refresh HTTP
+
+if (ereg("^Apache", $SERVER_SOFTWARE)) {
+	redirige_par_entete($redirect);
+}
+else {
+	@header("Refresh: 0; url=" . $redirect);
+	echo "<html><head>";
+	echo "<meta http-equiv='Refresh' content='0; url=".$redirect."'>";
+	echo "</head>\n";
+	echo "<body><a href='".$redirect."'>"._T('navigateur_pas_redirige')."</a></body></html>";
+}
+
+?>



From stef at berlios.de  Sun Feb 20 23:19:28 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sun, 20 Feb 2005 23:19:28 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire inc_optimiser.php3,NONE,1.1 presentation.js,NONE,1.1 inc_cron.php3,1.1,1.2 configuration.php3,1.1,1.2 inc_math.php3,1.1,1.2 inc_export.php3,1.1,1.2 inc_acces.php3,1.1,1.2 inc_logos.php3,1.1,1.2 statistiques_lang.php3,1.1,1.2 mots_tous.php3,1.1,1.2 carte_edit.php3,1.1,1.2 inc_visites.php3,1.1,1.2 md5.js,1.1,1.2 synchro.php3,1.1,1.2 inc_texte.php3,1.1,1.2 statistiques_referers.php3,1.1,1.2 import_all.php3,1.1,1.2 inc_surligne.php3,1.1,1.2 inc_presentation.php3,1.1,1.2 inc_tidy.php,1.1,1.2 iframe_action.php3,1.1,1.2 admin_vider.php3,1.1,1.2 naviguer.php3,1.1,1.2 inc_auth_spip.php3,1.1,1.2 articles.php3,1.1,1.2 upgrade.php3,1.1,1.2 calendrier_semaine.php3,1.1,1.2 auteurs_edit.php3,1.1,1.2 lang_raccourcis.php3,1.1,1.2 aide_index.php3,1.1,1.2 articles_forum.php3,1.1,1.2 inc_objet.php3,1.1,1.2 auteur_messagerie.php3,1.1,1.2 auteurs.php3,1.1,1.2 inc_flock.php3,1.1,1.2 admin_index.php3,1.1,1.2 inc_auxbase.php3,1.1,1.2 inc_db_mysql.php3,1.1,1.2 inc_lab.php,1.!
 1,1.2 inc_suivi_revisions.php,1.1,1.2 articles_page.php3,1.1,1.2 delete_all.php3,1.1,1.2 inc_documents.php3,1.1,1.2 documents_liste.php3,1.1,1.2 calendrier.php3,1.1,1.2 inc_layer.php3,1.1,1.2 inc_rubriques.php3,1.1,1.2 inc_version.php3,1.1,1.2 inc_lang.php3,1.1,1.2 unpack.php3,1.1,1.2 sites_edit.php3,1.1,1.2 inc_extra.php3,1.1,1.2 inc_index.php3,1.1,1.2 forum.php3,1.1,1.2 controle_forum.php3,1.1,1.2 js_menu_rubriques.php,1.1,1.2 mes_options.php3,1.1,1.2 brouteur_frame.php3,1.1,1.2 messagerie.php3,1.1,1.2 inc_config_plug.php3,1.1,1.2 forum_envoi.php3,1.1,1.2 calendrier_jour.php3,1.1,1.2 inc_filtres.php3,1.1,1.2 admin_effacer.php3,1.1,1.2 inc_calendrier.php,1.1,1.2 inc_abstract_sql.php3,1.1,1.2 inc_base.php3,1.1,1.2 lab_revisions.php,1.1,1.2 inc_statistiques.php3,1.1,1.2 config-multilang.php3,1.1,1.2 inc_charsets.php3,1.1,1.2 articles_versions.php3,1.1,1.2 inc_forum.php3,1.1,1.2 inc_getdocument.php3,1.1,1.2 inc_mots.php3,1.1,1.2 message_edit.php3,1.1,1.2 sites_tous.php3,1.1,1!
 .2 admin_tech.php3,1.1,1.2 inc_mail.php3,1.1,1.2 inc.php3,1.1,1.2 conf
Message-ID: <200502202219.j1KMJS8Y027990@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv27760/ecrire

Modified Files:
	inc_cron.php3 configuration.php3 inc_math.php3 inc_export.php3 
	inc_acces.php3 inc_logos.php3 statistiques_lang.php3 
	mots_tous.php3 carte_edit.php3 inc_visites.php3 md5.js 
	synchro.php3 inc_texte.php3 statistiques_referers.php3 
	import_all.php3 inc_surligne.php3 inc_presentation.php3 
	inc_tidy.php iframe_action.php3 admin_vider.php3 naviguer.php3 
	inc_auth_spip.php3 articles.php3 upgrade.php3 
	calendrier_semaine.php3 auteurs_edit.php3 lang_raccourcis.php3 
	aide_index.php3 articles_forum.php3 inc_objet.php3 
	auteur_messagerie.php3 auteurs.php3 inc_flock.php3 
	admin_index.php3 inc_auxbase.php3 inc_db_mysql.php3 
	inc_lab.php inc_suivi_revisions.php articles_page.php3 
	delete_all.php3 inc_documents.php3 documents_liste.php3 
	calendrier.php3 inc_layer.php3 inc_rubriques.php3 
	inc_version.php3 inc_lang.php3 unpack.php3 sites_edit.php3 
	inc_extra.php3 inc_index.php3 forum.php3 controle_forum.php3 
	js_menu_rubriques.php mes_options.php3 brouteur_frame.php3 
	messagerie.php3 inc_config_plug.php3 forum_envoi.php3 
	calendrier_jour.php3 inc_filtres.php3 admin_effacer.php3 
	inc_calendrier.php inc_abstract_sql.php3 inc_base.php3 
	lab_revisions.php inc_statistiques.php3 config-multilang.php3 
	inc_charsets.php3 articles_versions.php3 inc_forum.php3 
	inc_getdocument.php3 inc_mots.php3 message_edit.php3 
	sites_tous.php3 admin_tech.php3 inc_mail.php3 inc.php3 
	config-fonctions.php3 inc_urls.php3 statistiques_visites.php3 
	brouteur.php3 export.php3 forum_admin.php3 config-contenu.php3 
	inc_sites.php3 inc_popularites.php3 inc_serialbase.php3 
	articles_tous.php3 inc_barre.php3 export_all.php3 
	spip_style.php3 cartes.php3 inc_majbase.php3 inc_import.php3 
	inc_auth_ldap.php3 install.php3 suivi_revisions.php3 
	inc_invalideur.php3 info.php3 win_png.htc mots_edit.php3 
	pclzip.lib.php layer.js statistiques.php3 auteur_infos.php3 
	inc_debug_sql.php3 rubriques_edit.php3 articles_edit.php3 
	articles_ortho.php inc_carto.php3 breves_voir.php3 
	inc_session.php3 statistiques_svg.php3 admin_repair.php3 
	controle_petition.php3 inc_auth.php3 inc_meta.php3 sites.php3 
	breves.php3 breves_edit.php3 win_width.htc recherche.php3 
	inc_admin.php3 inc_config.php3 lab_diff.php index.php3 
	inc_objet_base.php3 message.php3 lab_ortho.php mots_type.php3 
	config-lang.php3 
Added Files:
	inc_optimiser.php3 presentation.js 
Log Message:
1.8pr1

--- NEW FILE: inc_optimiser.php3 ---
<?php

/***************************************************************************\
 *  SPIP, Systeme de publication pour l'internet                           *
 *                                                                         *
 *  Copyright (c) 2001-2005                                                *
 *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
 *                                                                         *
 *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
 *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
\***************************************************************************/


//
// Ce fichier ne sera execute qu'une fois
if (defined("_ECRIRE_OPTIMISER")) return;
define("_ECRIRE_OPTIMISER", "1");


function optimiser_base() {
	spip_log ("optimisation de la base");

	$mydate = date("YmdHis", time() - 24 * 3600);

	//
	// Rubriques
	//

	$query = "SELECT id_rubrique FROM spip_rubriques";
	$result = spip_query($query);
	$rubriques = '0';
	while ($row = spip_fetch_array($result)) $rubriques .= ','.$row['id_rubrique'];

	if ($rubriques) {
		$query = "DELETE FROM spip_articles WHERE id_rubrique NOT IN ($rubriques) AND maj < $mydate";
		spip_query($query);
		$query = "DELETE FROM spip_breves WHERE id_rubrique NOT IN ($rubriques) AND maj < $mydate";
		spip_query($query);
		$query = "DELETE FROM spip_forum WHERE id_rubrique NOT IN (0,$rubriques)";
		spip_query($query);
		$query = "DELETE FROM spip_auteurs_rubriques WHERE id_rubrique NOT IN ($rubriques)";
		spip_query($query);
		$query = "DELETE FROM spip_documents_rubriques WHERE id_rubrique NOT IN ($rubriques)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_rubriques WHERE id_rubrique NOT IN ($rubriques)";
		spip_query($query);
	}


	//
	// Articles
	//

	$query = "DELETE FROM spip_articles WHERE statut='poubelle' AND maj < $mydate";
	spip_query($query);
	$query = "SELECT id_article FROM spip_articles";
	$result = spip_query($query);
	$articles = '0';
	while ($row = spip_fetch_array($result)) $articles .= ','.$row['id_article'];

	if ($articles) {
		$query = "DELETE FROM spip_auteurs_articles WHERE id_article NOT IN ($articles)";
		spip_query($query);
		$query = "DELETE FROM spip_documents_articles WHERE id_article NOT IN ($articles)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_articles WHERE id_article NOT IN ($articles)";
		spip_query($query);
		$query = "DELETE FROM spip_forum WHERE id_article NOT IN (0,$articles)";
		spip_query($query);
	}


	//
	// Breves
	//

	$query = "DELETE FROM spip_breves WHERE statut='refuse' AND maj < $mydate";
	spip_query($query);
	$breves = '0';
	$query = "SELECT id_breve FROM spip_breves";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) $breves .= ','.$row['id_breve'];

	if ($breves) {
		$query = "DELETE FROM spip_documents_breves WHERE id_breve NOT IN ($breves)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_breves WHERE id_breve NOT IN ($breves)";
		spip_query($query);
		$query = "DELETE FROM spip_forum WHERE id_breve NOT IN (0,$breves)";
		spip_query($query);
	}


	//
	// Sites
	//

	$query = "DELETE FROM spip_syndic WHERE maj < $mydate AND statut = 'refuse'";
	spip_query($query);

	$syndic = '0';
	$query = "SELECT id_syndic FROM spip_syndic";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) $syndic .= ','.$row['id_syndic'];

	if ($syndic) {
		$query = "DELETE FROM spip_syndic_articles WHERE id_syndic NOT IN (0,$syndic)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_syndic WHERE id_syndic NOT IN ($syndic)";
		spip_query($query);
		$query = "DELETE FROM spip_forum WHERE id_syndic NOT IN (0,$syndic)";
		spip_query($query);
	}


	//
	// Auteurs
	//

	$auteurs = '0';
	$query = "SELECT id_auteur FROM spip_auteurs";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) $auteurs .= ','.$row['id_auteur'];

	if ($auteurs) {
		$query = "DELETE FROM spip_auteurs_articles WHERE id_auteur NOT IN ($auteurs)";
		spip_query($query);
		$query = "DELETE FROM spip_auteurs_messages WHERE id_auteur NOT IN ($auteurs)";
		spip_query($query);
		$query = "DELETE FROM spip_auteurs_rubriques WHERE id_auteur NOT IN ($auteurs)";
		spip_query($query);
	}

	$query = "SELECT id_auteur,nom,email FROM spip_auteurs WHERE statut='5poubelle' AND maj < $mydate";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) {
		$id_auteur = $row['id_auteur'];
		$nom = $row['nom'];
		$email = $row['email'];

		$query2 = "SELECT * FROM spip_auteurs_articles WHERE id_auteur=$id_auteur";
		$result2 = spip_query($query2);
		if (!spip_num_rows($result2)) {
			$query3 = "DELETE FROM spip_auteurs WHERE id_auteur=$id_auteur";
			$result3 = spip_query($query3);
			spip_log ("suppression auteur $id_auteur ($nom, $email)");
		}
	}


	//
	// Messages prives
	//

	$query = "SELECT m.id_message FROM spip_messages AS m, spip_auteurs_messages AS lien ".
		"WHERE m.id_message = lien.id_message GROUP BY m.id_message";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) $messages[] = $row['id_message'];

	$query = "SELECT id_message FROM spip_messages ".
		"WHERE type ='affich'";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) $messages[] = $row['id_message'];

	if ($messages) {
		$messages = join(",", $messages);

		$query = "DELETE FROM spip_messages WHERE id_message NOT IN ($messages)";
		spip_query($query);
		$query = "DELETE FROM spip_forum WHERE id_message NOT IN (0,$messages)";
		spip_query($query);
	}


	//
	// Mots-cles
	//

	$query = "DELETE FROM spip_mots WHERE titre='' AND maj < $mydate";
	$result = spip_query($query);

	$mots = '0';
	$query = "SELECT id_mot FROM spip_mots";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) $mots .= ','.$row['id_mot'];

	if ($mots) {
		$query = "DELETE FROM spip_mots_articles WHERE id_mot NOT IN ($mots)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_breves WHERE id_mot NOT IN ($mots)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_forum WHERE id_mot NOT IN ($mots)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_rubriques WHERE id_mot NOT IN ($mots)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_syndic WHERE id_mot NOT IN ($mots)";
		spip_query($query);
	}


	//
	// Forums
	//

	$query = "DELETE FROM spip_forum WHERE statut='redac' AND maj < $mydate";
	spip_query($query);

	$forums = '0';
	$query = "SELECT id_forum FROM spip_forum";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) $forums .= ','.$row[0];

	if ($forums) {
		$query = "DELETE FROM spip_forum WHERE id_parent NOT IN (0,$forums)";
		spip_query($query);
		$query = "DELETE FROM spip_mots_forum WHERE id_forum NOT IN ($forums)";
		spip_query($query);
	}


	//
	// Indexation
	//

	// les objets inutiles
	$types = array('article','auteur','breve','mot','rubrique','forum','signature','syndic');
	while (list(,$type) = each($types)) {
		$table_objet = 'spip_'.table_objet($type);
		$table_index = 'spip_index_'.table_objet($type);
		
		// limiter aux objets publies
		switch ($type) {
			case 'article':
			case 'breve':
			case 'rubrique':
			case 'syndic':
			case 'forum':
			case 'signature':
				$critere = "AND statut<>'publie'";
				break;
			case 'auteur':
				$critere = "AND statut NOT IN ('0minirezo', '1comite')";
				break;
			case 'mot':
			default:
				$critere = 'AND 1=0';	// ne jamais desindexer un mot
				break;
		}

		spip_query("UPDATE $table_objet SET idx='' WHERE idx<>'non' $critere");

		$suppr = '';
		$s = spip_query("SELECT id_$type FROM $table_objet WHERE idx='' $critere");
		while ($t = spip_fetch_array($s))
			$suppr .= ','.$t[0];
		$s = spip_query("SELECT id_$type FROM $table_objet WHERE idx='non'");
		while ($t = spip_fetch_array($s))
			$suppr .= ','.$t[0];
		if ($suppr)
			spip_query("DELETE FROM $table_index WHERE id_$type IN (0$suppr)");
	}

	//
	// MySQL
	//
	if ($GLOBALS['table_prefix']) $table_pref = $GLOBALS['table_prefix']."_";
	else $table_pref = "";

	$query = "SHOW TABLES LIKE '$table_pref%'";
	$result = spip_query($query);
	while ($row = spip_fetch_array($result)) $tables[] = $row[0];

	if ($tables) {
		$tables = join(",", $tables);
		$query = "OPTIMIZE TABLE ".$tables;
		spip_query($query);
	}

	spip_log("optimisation ok");
}

	## debug
	if ($GLOBALS['auteur_session']['statut'] == '0minirezo'
	AND $_GET['optimiser'] == 'oui')
		optimiser_base();

?>

--- NEW FILE: presentation.js ---
var init_gauche = true;

function changestyle(id_couche, element, style) {

  if (admin) {
		hide_obj("bandeaudocuments");
		hide_obj("bandeauredacteurs");
		hide_obj("bandeauauteurs");
		if (stat) {  hide_obj("bandeausuivi"); } 
		hide_obj("bandeauadministration"); 
  }
	hide_obj("bandeaudeconnecter");
	hide_obj("bandeautoutsite");
	hide_obj("bandeaunavrapide");
	hide_obj("bandeauagenda");
	hide_obj("bandeaumessagerie");
	hide_obj("bandeausynchro");
	hide_obj("bandeaurecherche");
	hide_obj("bandeauinfoperso");
	hide_obj("bandeaudisplay");
	hide_obj("bandeauecran");
	hide_obj("bandeauinterface");
	
	
	if (init_gauche) {
	   if (admin) {
		decalerCouche('bandeaudocuments');
		decalerCouche('bandeauredacteurs');
		decalerCouche('bandeauauteurs');
		if (stat) decalerCouche('bandeausuivi');
		decalerCouche('bandeauadministration');
		} 
		init_gauche = false;
	}
	
	
	if (!(layer = findObj(id_couche))) return;

	layer.style[element] = style;
}

function decalerCouche(id_couche) {
	if (!(layer = findObj(id_couche))) return;
	if (bug_offsetwidth && ( parseInt(layer.style.left) > 0)) {

		gauche = parseInt(layer.style.left)
		  - Math.floor( layer.offsetWidth / 2 )
		  + Math.floor(largeur_icone / 2);
		if (gauche < 0) gauche = 0;

		layer.style.left = gauche+"px";
	}

}	

var accepter_change_statut;
	
function selec_statut(id, type, decal, puce, statut) {

	if (!accepter_change_statut) {
	  accepter_change_statut = confirm(confirm_changer_statut)
	}

	if (accepter_change_statut) {
		changestyle ('statutdecal'+type+id, 'marginLeft', decal+'px');
		cacher ('statutdecal'+type+id);

		findObj('imgstatut'+type+id).src = puce;
		frames['iframe_action'].location.href = 
  'iframe_action.php3?action=statut_'+ type +'&id='+id+'&statut='+statut;

	}
}

function changeclass(objet, myClass)
{
		objet.className = myClass;
}
function changesurvol(iddiv, myClass)
{
		document.getElementById(iddiv).className = myClass;
}
function setActiveStyleSheet(title) {
   var i, a, main;
   for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
	 if(a.getAttribute("rel").indexOf("style") != -1
		&& a.getAttribute("title")) {
	   a.disabled = true;
	   if(a.getAttribute("title") == title) a.disabled = false;
	 }
   }
}

function setvisibility (objet, statut) {
	element = findObj(objet);
	if (element.style.visibility != statut) element.style.visibility = statut;
}

function montrer(objet) {
	setvisibility(objet, 'visible');
}
function cacher(objet) {
	setvisibility(objet, 'hidden');
}



function getHeight(obj) {
	if (obj == "window") {
		return hauteur_fenetre();
	}
	else
	{
		obj = document.getElementById(obj);
		if (obj.offsetHeight) return obj.offsetHeight;
	}
}
function hauteur_fenetre() {
	var myWidth = 0, myHeight = 0;
	if( typeof( window.innerWidth ) == 'number' ) {
		//Non-IE
		myHeight = window.innerHeight;
	} else {
		if( document.documentElement &&
			( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
			//IE 6+ in 'standards compliant mode'
			myHeight = document.documentElement.clientHeight;
		} else {
			if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
				//IE 4 compatible
				myHeight = document.body.clientHeight;
			}
		}
	}
	return myHeight;
}


function hauteurFrame(nbCol) {
	hauteur = hauteur_fenetre() - 40;
	hauteur = hauteur - getHeight('haut-page');
	
	if (findObj('brouteur_hierarchie')) hauteur = hauteur - getHeight('brouteur_hierarchie');
		
	for (i=0; i<nbCol; i++) {
		source = document.getElementById("iframe" + i);
		source.style.height = hauteur + 'px';
	}
}

function hauteurTextarea() {
	hauteur = hauteur_fenetre() - 80;
	
	source = document.getElementById("text_area");
	source.style.height = hauteur + 'px';
}

function changeVisible(input, id, select, nonselect) {
	if (input) {
		element = findObj(id);
		if (element.style.display != select)  element.style.display = select;
	} else {
		element = findObj(id);
		if (element.style.display != nonselect)  element.style.display = nonselect;
	}
	
}





// pour MOzilla >= 1.7
function verifForm() {
	/* if (pluginlist.indexOf("SVG")!=-1)
		document.cookie = "spip_svg_plugin=oui";
	else
		document.cookie = "spip_svg_plugin=non";
	*/

	//convert2math();

	retrait = 16;
	var obj=document.getElementsByTagName("input");
	for(i=0;i<obj.length;i++) {
		if(obj[i].className=="forml" || obj[i].className=="formo") {
			element = obj[i];
			if (element.offsetWidth) {
				obj[i]["nouvelle-largeur"] = (element.offsetWidth - retrait) + "px";
			} else {
				obj[i]["nouvelle-largeur"] = "95%";
			}
		}
	}
	
	var objx=document.getElementsByTagName("textarea");
	for(i=0;i<objx.length;i++) {
		if(objx[i].className=="forml" || objx[i].className=="formo") {
			element = objx[i];
			if (element.offsetWidth) {
				objx[i]["nouvelle-largeur"] = (element.offsetWidth - retrait) + "px";
			} else {
				objx[i]["nouvelle-largeur"] = "95%";
			}
		}
	}
	
	// Appliquer les modifs apres les calculs, sinon des decalages peuvent apparaitre
	for(i=0;i<obj.length;i++) {
		if (obj[i]["nouvelle-largeur"]) obj[i].style.width = obj[i]["nouvelle-largeur"];
	}

	for(i=0;i<objx.length;i++) {
		if (objx[i]["nouvelle-largeur"]) objx[i].style.width = objx[i]["nouvelle-largeur"];
	}
}


// effacement titre quand new=oui
var antifocus=false;
// effacement titre des groupes de mots-cles de plus de 50 mots
var antifocus_mots = new Array();

Index: inc_cron.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_cron.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_cron.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_cron.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CRON")) return;
 define("_ECRIRE_INC_CRON", "1");
@@ -52,7 +63,7 @@
 
 	include(_FILE_CONNECT);
 	if (!$GLOBALS['db_ok']) {
-		@touch(_FILE_MYSQL_OUT);
+		spip_touch(_FILE_MYSQL_OUT);
 		spip_log('pas de connexion DB pour taches de fond (cron)');
 		return;
 	}
@@ -65,10 +76,9 @@
 	foreach ($taches as $tache) {
 		$lock = _DIR_SESSIONS . $tache . '.lock';
 		clearstatcache();
-		$last = (@file_exists($lock) ? filemtime($lock) : 0);
+		$last = @filemtime($lock);
 
-		if (($t - $frequence_taches[$tache]) > $last) {
-			@touch($lock);
+		if (spip_touch($lock, $frequence_taches[$tache])) {
 			spip_timer('tache');
 			include_ecrire('inc_' . $tache . _EXTENSION_PHP);
 			$fonction = 'cron_' . $tache;
@@ -76,6 +86,7 @@
 			if ($code_de_retour) {
 				$msg = "cron: $tache";
 				if ($code_de_retour < 0) {
+					# modifier la date du fichier
 					@touch($lock, (0 - $code_de_retour));
 					spip_log($msg . " (en cours, " . spip_timer('tache') .")");
 					spip_timer('tache');
@@ -92,20 +103,24 @@
 // Certaines ne sont pas activables de l'espace prive. A revoir.
 
 function taches_generales() {
+	$taches_generales = array();
 
-  // MAJ des rubriques publiques (cas de la publication post-datee)
+	// MAJ des rubriques publiques (cas de la publication post-datee)
+	$taches_generales[] = 'rubriques';
 
-	$taches_generales = array('rubriques');
-	
-  // cache
+	// Optimisation de la base
+	$taches_generales[] = 'optimiser';
+
+	// cache
 	if (_DIR_RESTREINT)
 	  $taches_generales[]= 'invalideur';
 
 	// nouveautes
-	if (lire_meta('adresse_neuf') AND lire_meta('jours_neuf') AND (lire_meta('quoi_de_neuf') == 'oui') AND _DIR_RESTREINT)
+	if (lire_meta('adresse_neuf') AND lire_meta('jours_neuf')
+	AND (lire_meta('quoi_de_neuf') == 'oui') AND _DIR_RESTREINT)
 		$taches_generales[]= 'mail';
 
-// Stat. Attention: la popularite DOIT preceder les visites
+	// Stat. Attention: la popularite DOIT preceder les visites
 	if (lire_meta("activer_statistiques") == "oui") {
 		$taches_generales[]= 'statistiques';
 		$taches_generales[]= 'popularites';
@@ -138,7 +153,8 @@
 			  'rubriques' => 3600,
 			  'popularites' => 1800,
 			  'sites' => 90,
-			  'index' => 60
+			  'index' => 60,
+			  'optimiser' => 3600 * 48
 );
 
 // Fonctions effectivement appelees.
@@ -146,6 +162,11 @@
 
 function cron_rubriques($t) {
 	calculer_rubriques();
+	return 1;
+}
+
+function cron_optimiser($t) {
+	optimiser_base ();
 	return 1;
 }
 

Index: configuration.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/configuration.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- configuration.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ configuration.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,30 +1,17 @@
 <?php
 
-include ("inc.php3");
-
-include_ecrire ("inc_config.php3");
-
-function mySel($varaut,$variable){
-		$retour= " VALUE=\"$varaut\"";
-
-	if ($variable==$varaut){
-		$retour.= " SELECTED";
-	}
-
-	return $retour;
-}
-
-
-debut_page(_T('titre_page_configuration'), "administration", "configuration");
-
-echo "<br><br><br>";
-gros_titre(_T('titre_configuration'));
-barre_onglets("configuration", "contenu");
-
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
 
-debut_gauche();
 
-debut_droite();
+include ("inc.php3");
 
 if ($connect_statut != '0minirezo' OR !$connect_toutes_rubriques) {
 	echo _T('avis_non_acces_page');
@@ -37,6 +24,7 @@
 // Modifications
 //
 
+include_ecrire ("inc_config.php3");
 init_config();
 if ($changer_config == 'oui') {
 	appliquer_modifs_config();
@@ -50,6 +38,29 @@
 }
 
 lire_metas();
+
+
+function mySel($varaut,$variable){
+		$retour= " VALUE=\"$varaut\"";
+
+	if ($variable==$varaut){
+		$retour.= " SELECTED";
+	}
+
+	return $retour;
+}
+
+
+debut_page(_T('titre_page_configuration'), "administration", "configuration");
+
+echo "<br><br><br>";
+gros_titre(_T('titre_configuration'));
+barre_onglets("configuration", "contenu");
+
+
+debut_gauche();
+
+debut_droite();
 
 avertissement_config();
 

Index: inc_math.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_math.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_math.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_math.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_MATH")) return;

Index: inc_export.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_export.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_export.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_export.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_EXPORT")) return;

Index: inc_acces.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_acces.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_acces.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_acces.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_ACCES")) return;
@@ -63,6 +74,7 @@
 }
 
 function effacer_low_sec($id_auteur) {
+	if (!$id_auteur = intval($id_auteur)) return; // jamais trop prudent ;)
 	spip_query("UPDATE spip_auteurs SET low_sec = '' WHERE id_auteur = $id_auteur");
 }
 
@@ -139,7 +151,7 @@
 		if ($GLOBALS['hebergeur'] != 'nexenservices'){
 			if (!$f = fopen($htaccess, "w"))
 				echo "<b>" .
-				  _L("ECHEC DE LA CREATION DE $htaccess") .
+				  "ECHEC DE LA CREATION DE $htaccess" . # ne pas traduire
 				  "</b>";
 			else
 			  {

Index: inc_logos.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_logos.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_logos.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_logos.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_LOGOS")) return;
@@ -78,22 +89,25 @@
 }
 
 
-function afficher_boite_logo($logo, $survol, $texteon, $texteoff) {
+
+function afficher_boite_logo($type, $id_objet, $id, $texteon, $texteoff) {
 	global $options, $spip_display;
 
+	$logon = $type.'on'.$id;
+	$logoff = $type.'off'.$id;
 
 	if ($spip_display != 4) {
 	
 		echo "<p>";
 		debut_cadre_relief("image-24.gif");
 		echo "<div class='verdana1' style='text-align: center;'>";
-		$desc = decrire_logo($logo);
-		afficher_logo($logo, $texteon, $desc);
+		$desc = decrire_logo($logon);
+		afficher_logo($logon, $texteon, $desc, $id_objet, $id);
 
-		if ($desc) {
+		if ($desc AND $texteoff) {
 			echo "<br /><br />";
-			$desc = decrire_logo($survol);
-			afficher_logo($survol, $texteoff, $desc);   
+			$desc = decrire_logo($logoff);
+			afficher_logo($logoff, $texteoff, $desc, $id_objet, $id);
 		}
 	
 		echo "</div>";
@@ -103,8 +117,8 @@
 }
 
 
-function afficher_logo($racine, $titre, $logo) {
-	global $id_article, $id_rubrique, $id_breve, $id_auteur, $id_mot, $id_syndic, $connect_id_auteur;
+function afficher_logo($racine, $titre, $logo, $id_objet, $id) {
+	global $connect_id_auteur;
 	global $couleur_foncee, $couleur_claire;
 	global $clean_link;
 
@@ -120,34 +134,25 @@
 
 	if ($logo) {
 		list($fichier, $taille, $img) =  $logo;
-		$hash = calculer_action_auteur("supp_image $fichier");
+		$hash = calculer_action_auteur("supp_logo $fichier");
 
 		echo "<p><center><div>$img</div>";
 		echo debut_block_invisible(md5($titre));
 		echo $taille;
 		echo "\n<br />[<a href='../spip_image.php3?";
-		$elements = array('id_article', 'id_breve', 'id_syndic', 'id_rubrique', 'id_mot', 'id_auteur');
-		while (list(,$element) = each ($elements)) {
-			if ($$element) {
-				echo $element.'='.$$element.'&';
-			}
-		}
-		echo "image_supp=$fichier&hash_id_auteur=$connect_id_auteur&id_auteur=$id_auteur&hash=$hash&redirect=$redirect'>"._T('lien_supprimer')."</A>]";
+		echo "$id_objet=$id&";
+		echo "image_supp=$fichier&hash_id_auteur=$connect_id_auteur&hash=$hash&redirect=$redirect'>"._T('lien_supprimer')."</A>]";
 		echo fin_block();
 		echo "</center></p>";
 	}
 	else {
-		$hash = calculer_action_auteur("ajout_image $racine");
+		$hash = calculer_action_auteur("ajout_logo $racine");
 		echo debut_block_invisible(md5($titre));
 
-		echo "\n\n<FORM ACTION='../spip_image.php3' METHOD='POST' ENCTYPE='multipart/form-data'>";
+		echo "\n\n<FORM ACTION='../spip_image.php3' METHOD='POST'
+			ENCTYPE='multipart/form-data'>";
 		echo "\n<INPUT NAME='redirect' TYPE=Hidden VALUE='$redirect'>";
-		if ($id_auteur > 0) echo "\n<INPUT NAME='id_auteur' TYPE=Hidden VALUE='$id_auteur'>";
-		if ($id_article > 0) echo "\n<INPUT NAME='id_article' TYPE=Hidden VALUE='$id_article'>";
-		if ($id_breve > 0) echo "\n<INPUT NAME='id_breve' TYPE=Hidden VALUE='$id_breve'>";
-		if ($id_mot > 0) echo "\n<INPUT NAME='id_mot' TYPE=Hidden VALUE='$id_mot'>";
-		if ($id_syndic > 0) echo "\n<INPUT NAME='id_syndic' TYPE=Hidden VALUE='$id_syndic'>";
-		if ($id_rubrique > 0) echo "\n<INPUT NAME='id_rubrique' TYPE=Hidden VALUE='$id_rubrique'>";
+		echo "\n<INPUT NAME='$id_objet' TYPE=Hidden VALUE='$id'>";
 		echo "\n<INPUT NAME='hash_id_auteur' TYPE=Hidden VALUE='$connect_id_auteur'>";
 		echo "\n<INPUT NAME='hash' TYPE=Hidden VALUE='$hash'>";
 		echo "\n<INPUT NAME='ajout_logo' TYPE=Hidden VALUE='oui'>";
@@ -211,8 +216,8 @@
 	return array (ceil($destWidth), ceil($destHeight));
 }
 
-function creer_vignette($image, $maxWidth, $maxHeight, $format, $destdir, $destfile, $process='AUTO', $force=false) {
-	global $convert_command, $djpeg_command, $cjpeg_command, $pnmscale_command;
+function creer_vignette($image, $maxWidth, $maxHeight, $format, $destdir, $destfile, $process='AUTO', $force=false, $test_cache_only = false) {
+	global $convert_command, $pnmscale_command;
 	// ordre de preference des formats graphiques pour creer les vignettes
 	// le premier format disponible, selon la methode demandee, est utilise
 	if ($format == 'png')
@@ -241,8 +246,11 @@
 			$vignette = $destination.'.'.$fmt;
 			if ($force) @unlink($vignette);
 		}
-		
+
+	if ($test_cache_only AND !$vignette) return;
+
 	// utiliser le cache ?
+	if (!$test_cache_only)
 	if ($force OR !$vignette OR (@filemtime($vignette) < @filemtime($image))) {
 
 		$creation = true;
@@ -333,6 +341,8 @@
 			// Choisir le format destination
 			// - on sauve de preference en JPEG (meilleure compression)
 			// - pour le GIF : les GD recentes peuvent le lire mais pas l'ecrire
+			# bug : gd_formats contient la liste des fichiers qu'on sait *lire*,
+			# pas *ecrire*
 			$gd_formats = lire_meta("gd_formats");
 			foreach ($formats_sortie as $fmt) {
 				if (ereg($fmt, $gd_formats)) {
@@ -395,22 +405,24 @@
 	$hauteur = $size[1];
 	$type = $size[2];
 
-	if ($type == "2") $format = 1;
+	if ($type == "2") $format = 1;			# spip_types_documents
 	else if ($type == "3") $format = 2;
 	else if ($type == "1") $format = 3;
+	else return;
 
 	$vignette = str_replace('../', '', $vignette);
 
 	spip_log("creation vignette($image) -> $vignette");
 
-	if ($t = spip_query("SELECT id_document FROM spip_documents WHERE fichier='".addslashes($image)."'"))
-	{
+	if ($t = spip_query("SELECT id_document FROM spip_documents
+	WHERE fichier='".addslashes($image)."'")) {
 		if ($row = spip_fetch_array($t)) {
 			$id_document = $row['id_document'];
-			$id_vignette = spip_abstract_insert("documents", 
-						   "(mode)",
-						   "('vignette')");
-			spip_query("UPDATE spip_documents SET id_vignette=$id_vignette WHERE id_document=$id_document");
+			$id_vignette = spip_abstract_insert("spip_documents", 
+				"(mode)",
+				"('vignette')");
+			spip_query("UPDATE spip_documents
+				SET id_vignette=$id_vignette WHERE id_document=$id_document");
 			spip_query("UPDATE spip_documents SET
 				id_type = '$format',
 				largeur = '$largeur',
@@ -434,11 +446,11 @@
 	if (!$taille_y)
 		$taille_y = $taille;
 
-	// recuperer le nom du fichier (est-ce encore utilise ?)
-	if (eregi("src=\'([^']+)\'", $img, $regs)) $logo = $regs[1];
-	if (eregi("align=\'([^']+)\'", $img, $regs)) $align = $regs[1];
-	if (eregi("name=\'([^']+)\'", $img, $regs)) $name = $regs[1];
-	if (eregi("hspace=\'([^']+)\'", $img, $regs)) $espace = $regs[1];
+	// recuperer le nom du fichier
+	if (eregi("src='([^']+)'", $img, $regs)) $logo = $regs[1];
+	if (eregi("align='([^']+)'", $img, $regs)) $align = $regs[1];
+	if (eregi("name='([^']+)'", $img, $regs)) $name = $regs[1];
+	if (eregi("hspace='([^']+)'", $img, $regs)) $espace = $regs[1];
 	if (!$logo) $logo = $img;
 
 	if (eregi("(.*)\.(jpg|gif|png)$", $logo, $regs)) {

Index: statistiques_lang.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/statistiques_lang.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- statistiques_lang.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ statistiques_lang.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 
@@ -42,47 +53,12 @@
 }
 
 //
-// Statistiques sur le site
+// Statistiques par langue
 //
 
 
-function enfants($id_parent){
-	global $nombre_vis;
-	global $total_vis;
-	global $nombre_abs;
-	global $critere;
-
-	$query = "SELECT id_rubrique FROM spip_rubriques WHERE id_parent='$id_parent'";
-	$result = spip_query($query);
-	$nombre = 0;
-
-	while($row = spip_fetch_array($result)) {
-		$id_rubrique = $row['id_rubrique'];
-
-		$query2 = "SELECT SUM(".$critere.") AS cnt FROM spip_articles WHERE id_rubrique='$id_rubrique'";
-		$result2 = spip_query($query2);
-		$visites = 0;
-		if ($row2 = spip_fetch_array($result2)) {
-			$visites = $row2['cnt'];
-		}
-		$nombre_abs[$id_rubrique] = $visites;
-		$nombre_vis[$id_rubrique] = $visites;
-		$nombre += $visites;
-		$nombre += enfants($id_rubrique);
-	}
-	$nombre_vis[$id_parent] += $nombre;
-	return $nombre;
-}
-
-
-
-
-
-if ($total_vis<1) $total_vis=1;
-
 debut_cadre_enfonce("langues-24.gif");
 
-
 		$query = "SELECT SUM(".$critere.") AS total_visites FROM spip_articles";
 		$result = spip_query($query);
 		$visites = 1;
@@ -103,7 +79,8 @@
 		while ($row = spip_fetch_array($result)) {
 			$lang = $row['lang'];
 			$visites = round($row['cnt'] / $total_visites * $taille);
-			
+			$pourcent = round($row['cnt'] / $total_visites * 100);
+
 			if ($visites > 0) {
 
 				if ($ifond==0){
@@ -116,7 +93,7 @@
 	
 				echo "<tr bgcolor='$couleur'>";
 				$dir=lang_dir($lang,'',' dir=rtl');
-				echo "<td width='100%' style='border-bottom: 1px solid #cccccc;'><span class='verdana2'$dir><div style='float: $spip_lang_right;'>$visites%</div>".traduire_nom_langue($lang)."</span></td>";
+				echo "<td width='100%' style='border-bottom: 1px solid #cccccc;'><span class='verdana2'$dir><div style='float: $spip_lang_right;'>$pourcent%</div>".traduire_nom_langue($lang)."</span></td>";
 				
 				echo "<td style='border-bottom: 1px solid #cccccc;'>";
 					echo "<TABLE CELLPADDING=0 CELLSPACING=0 BORDER=0 WIDTH='".($taille+5)."' HEIGHT=8>";

Index: mots_tous.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/mots_tous.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- mots_tous.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ mots_tous.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 if ($conf_mot>0) {
@@ -34,8 +45,17 @@
 			WHERE lien.id_mot=$conf_mot AND syndic.id_syndic=lien.id_syndic
 			AND FIND_IN_SET(syndic.statut,'$aff_articles')>0 AND syndic.statut!='refuse'"));
 		$nb_sites = $nb_sites[0];
-
-		if ($nb_articles + $nb_breves + $nb_sites == 0) {
+		/////////////////////////////
+		//MODIFICATION
+		////////////////////////////
+		$nb_objets = spip_fetch_array(spip_query(
+			"SELECT COUNT(*) FROM spip_mots_carto_objets AS lien
+			WHERE lien.id_mot=$conf_mot"));
+		$nb_objets = $nb_objets[0];
+		if ($nb_objets + $nb_articles + $nb_breves + $nb_sites == 0) {
+		
+		//if ($nb_articles + $nb_breves + $nb_sites == 0) {
+		////////////////////////////////
 			redirige_par_entete("mots_edit.php3?supp_mot=$id_mot&redirect_ok=oui&redirect=mots_tous.php3");
 		} // else traite plus loin
 	}
@@ -54,12 +74,12 @@
 			$query = "UPDATE spip_groupes_mots SET titre='$change_type', unseul='$unseul', obligatoire='$obligatoire',
 				articles='$articles', breves='$breves', rubriques='$rubriques', syndic='$syndic',
 				0minirezo='$acces_minirezo', 1comite='$acces_comite', 6forum='$acces_forum'
-				WHERE id_groupe='$id_groupe'";
+				,carto_objets='$carto_objets' WHERE id_groupe='$id_groupe'";
 			spip_query($query);
 		} else {	// creation groupe
 			$query = "INSERT INTO spip_groupes_mots SET titre='$change_type', unseul='$unseul', obligatoire='$obligatoire',
 				articles='$articles', breves='$breves', rubriques='$rubriques', syndic='$syndic',
-				0minirezo='$acces_minirezo', 1comite='$acces_comite', 6forum='$acces_forum'";
+				carto_objets='$carto_objets', 0minirezo='$acces_minirezo', 1comite='$acces_comite', 6forum='$acces_forum'";
 			spip_query($query);
 		}
 	}

Index: carte_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/carte_edit.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- carte_edit.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ carte_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,63 +1,73 @@
 <?php
 
 include ("inc.php3");
+include_ecrire ("inc_documents.php3");
+include_ecrire ("inc_mots.php3");
 include_ecrire("inc_carto.php3");
 //TODO : voir integration d'une option de configuration de Spip
 //bof, je prefere attendre d'avoir un systeme de gestion des modules
 //meme si il faut le faire ...
 //include_ecrire("inc_config.php3");
-//TODO : preparer les donn?es pass?es en POST par l'interface DHTML
-//et par le formulaire contenant les donn?es de la carte
 
+$flag_editable=carte_editable($id_carte);
 $id_carte = intval($id_carte);
+$flag_mots = lire_meta("carto_mots");
+//$flag_mots = "oui";
+$nouveau=false;
 //
 // Modifications aux donnees de base de la carte
 //
 if (carte_administrable($id_carte)) {
 	if ($supp_carte = intval($supp_carte) AND $supp_confirme AND !$supp_rejet) {
-		$query = "DELETE FROM spip_carto_carte WHERE id_carte=$supp_carte";
+		//TODO : passer tout ca en spip_abstract ...
+		$query = "DELETE FROM spip_carto_cartes WHERE id_carto_carte=$supp_carte";
 		$result = spip_query($query);
 		Header("Location: $retour");
 		exit;
 	}
 }
 
-if (carte_editable($id_carte)) {
+if ($flag_editable) {
 	if ($new == 'oui') {
 		$titre = _L("Nouvelle carte");
-		$fichier = "";
-		$commentaire = "";
+		$url_carte = "";
+		$texte = "";
 		$callage = "";
-		$id_srs = 0;
+		$id_srs = 1;
 		$js_titre = " onfocus=\"if(!antifocus){this.value='';antifocus=true;}\"";
-		spip_query("INSERT INTO spip_carto_carte (titre) VALUES ('".addslashes($titre)."')");
+		//TODO : passer tout ca en spip_abstract ...
+		spip_query("INSERT INTO spip_carto_cartes (titre,url_carte,texte,callage,id_srs) VALUES ('".addslashes($titre)."','".$url_carte."','".addslashes($texte)."','".addslashes($callage)."','".$id_srs."')");
 		$id_carte = spip_insert_id();
-		//TODO : normalement pas besoin de ca ...
-		//on continue et normalement c'est bon
-		//Header("Location: carte_edit.php3?id_carte=$id_carte");
-		//exit;
 	}
 
 	else {
 		if ($modif_carte == $id_carte) {
-			$query = "UPDATE spip_carto_carte SET ".
+			//TODO : generer automatiquement callage si document spip
+			if ($document_id=intval($url_carte)) {
+				//TODO : gerer type image et peut etre mime
+				$image = spip_fetch_array(spip_query("SELECT * FROM spip_documents WHERE id_document = $document_id"));;
+				if ($image) $callage="rect(0,0;".$image['largeur'].",".$image['hauteur'].")";
+			}
+			//TODO : passer tout ca en spip_abstract ...
+			$query = "UPDATE spip_carto_cartes SET ".
 			"titre='".addslashes($titre)."', ".
-			"fichier='".$fichier."', ".
-			"commentaire='".addslashes($commentaire)."', ".
+			"url_carte='".$url_carte."', ".
+			"texte='".addslashes($texte)."', ".
 			"callage='".addslashes($callage)."', ".
 			"id_srs='".intval($id_srs)."' ".
-			"WHERE id_carte=$id_carte";
+			"WHERE id_carto_carte=$id_carte";
+
 			$result = spip_query($query);
 		}
 		if ($id_carte) {
-			$query = "SELECT * FROM spip_carto_carte WHERE id_carte=$id_carte";
+			//TODO : passer tout ca en spip_abstract ...
+			$query = "SELECT * FROM spip_carto_cartes WHERE id_carto_carte=$id_carte";
 			$result = spip_query($query);
 			if ($row = spip_fetch_array($result)) {
-//				$id_carte = $row['id_carte'];
-				$titre = $row['titre'];
-				$fichier = $row['fichier'];
-				$commentaire = $row['commentaire'];
-				$callage = $row['callage'];
+				$titre = entites_html($row['titre']);
+				$url_carte = $row['url_carte'];
+				$texte = entites_html($row['texte']);
+				$callage = entites_html($row['callage']);
 				$id_srs = intval($row['id_srs']);
 				$js_titre = "";
 			}
@@ -68,39 +78,50 @@
 		
 
 
-$carte_link = new Link("carte_edit.php3?id_carte=$id_carte");
+$carte_link = new Link("carte_edit.php3");
+$carte_link->addVar('id_carte', $id_carte);
 if ($retour) $carte_link->addVar('retour', $retour);
 
 //
 // Modifications des objets de la carte
 //
 
-if ($id_carte && carte_editable($id_carte)) {
+if ($id_carte && $flag_editable) {
 
 	// Ajout d'un objet
-	if ($selection_type=='polygon') {
-		$geometrie=$selection_type."(".$selection_coords.")";
+	if ($selection_type) {
+		$geometrie=coords2wtk($selection_type,$selection_coords);
 		$objet_titre = _L("Nouvel objet");
-		spip_query("INSERT INTO spip_carto_objet (id_carte,titre,geometrie) VALUES (".$id_carte.",'".addslashes($objet_titre)."','".$geometrie."')");
+		$url_objet = "#";
+		//TODO : passer tout ca en spip_abstract ...
+		spip_query("INSERT INTO spip_carto_objets (id_carto_carte,titre,geometrie,url_objet) VALUES (".$id_carte.",'".addslashes($objet_titre)."','".$geometrie."','".$url_objet."')");
 		$id_objet = spip_insert_id();
+		$objet_visible=$id_objet;
+		$nouveau=true;
 	}
 	// Modif d'un objet
 	if ($modif_objet) {
-		$query = "UPDATE spip_carto_objet SET ".
-			//"id_carte=".intval($id_carte).", ".
+		//TODO : passer tout ca en spip_abstract ...
+		$query = "UPDATE spip_carto_objets SET ".
+			//"id_carto_carte=".intval($id_carte).", ".
 			"titre='".addslashes($objet_titre)."', ".
-			"commentaire='".addslashes($objet_commentaire)."', ".
-			"lien='".$objet_lien."', ".
-			"logo='".$objet_logo."', ".
+			"texte='".addslashes($objet_texte)."', ".
+			"url_objet='".$url_objet."', ".
+			"url_logo='".$url_logo."', ".
 			"geometrie='".addslashes($geometrie)."' ".
-			"WHERE id_objet=$modif_objet";
+			"WHERE id_carto_objet=$modif_objet";
 			$result = spip_query($query);
-		
+			$objet_visible=$modif_objet;
 	}
+	if ($id_objet) {
+			$objet_visible=$id_objet;
+	}
+	
 
 	// Suppression d'un objet
 	if ($supp_objet) {
-		$query = "DELETE FROM spip_carto_objet WHERE id_objet=$supp_objet";
+		//TODO : passer tout ca en spip_abstract ...
+		$query = "DELETE FROM spip_carto_objets WHERE id_carto_objet=$supp_objet";
 		$result = spip_query($query);
 	}
 	
@@ -112,18 +133,39 @@
 //
 
 debut_page("&laquo; $titre &raquo;", "documents", "cartes");
+
 debut_gauche();
 
-echo "<br /><br />\n";
+debut_boite_info();
+
+echo "<div align='center'>\n";
 
 
+echo "<font face='Verdana,Arial,Sans,sans-serif' size='1'><b>"._L('CARTE NUM&Eacute;RO :')."</b></font>\n";
+echo "<br><font face='Verdana,Arial,Sans,sans-serif' size='6'><b>$id_carte</b></font>\n";
+
+if ($url_carte && ($new!="oui")) icone_horizontale( _T('previsualiser'), "../carto.php3?id_carto_carte=".$id_carte."&var_mode=recalcul", "racine-24.gif", "rien.gif");
+if ($url_carte && ($new!="oui")) icone_horizontale( _L('pr?visualiser avec logos'), "../carto_logo.php3?id_carto_carte=".$id_carte."&var_mode=recalcul", "racine-24.gif", "rien.gif");
+if ($url_carte && ($new!="oui")) icone_horizontale( _L('pr?visualiser avec liens'), "../carto_lien.php3?id_carto_carte=".$id_carte."&var_mode=recalcul", "racine-24.gif", "rien.gif");
+
+echo "</div>\n";
+
+fin_boite_info();
+
+if ($new!="oui") {
+	# modifs de la description d'un des docs joints
+	maj_documents($id_carte, 'carto_carte');
+	
+	# affichage
+	afficher_documents_colonne($id_carte, 'carto_carte', true);
+}
+
 debut_droite();
 
 if ($supp_carte && !$supp_confirme && !$supp_rejet) {
 	echo "<p><strong>"._L("Attention :")."</strong> ";
-	echo _L("Des objets ont &eacute;t&eacute; attach&eacute;s &agrave; cette carte. ".
-		"Voulez-vous vraiment le supprimer ?")."</p>\n";
-	$link = new Link();
+	echo _L("Voulez-vous vraiment supprimer cette carte ?")."</p>\n";
+	$link = $carte_link;//new Link();
 	$link->addVar('supp_carte', $supp_carte);
 	echo $link->getform('GET');
 	echo "<input type='submit' name='supp_confirme' value=\""._T('item_oui')."\" class='fondl'>";
@@ -134,50 +176,50 @@
 
 
 if ($id_carte) {
-	debut_cadre_relief("carte-24.png");
+	debut_cadre_relief("carte-24.gif");
 	echo "<br/>";
 	gros_titre($titre);
 	
-	if ($commentaire) {
+	if ($texte) {
 		echo "<p><div align='left' border: 1px dashed #aaaaaa;'>";
 		echo "<strong class='verdana2'>"._T('info_descriptif')."</strong> ";
-		echo propre($commentaire);
+		echo propre($texte);
 		echo "</div>\n";
 	}
 	
-	if ($fichier) {
+	if ($url_carte!="") {
 		echo "<br />";
 		debut_cadre_relief();
 		
 		echo "<div style='padding: 2px; background-color: $couleur_claire; color: black;'>&nbsp;";
 		echo bouton_block_visible("dhtml_carte");
 		echo "<strong class='verdana3' style='text-transform: uppercase;'>"
-			._L("Apparence du carte")."</strong>";
+			._L("Ajouter un objet")."</strong>";
 		echo "</div>\n";
 		
 		echo debut_block_visible("dhtml_carte");
-		echo _L("Cr&eacute;ation d'objets.")."<p>\n";
-		echo "<div style='margin: 10px; padding: 10px; border: 1px dashed $couleur_foncee;'>";
+		
+		//echo "<div style='margin: 10px; padding: 10px; border: 1px dashed $couleur_foncee;'>";
 		
 		//remplacer id par appel ? spip_carte
 		//TODO : gerer zoom et position
-		if (intval($fichier)>0) $lefichier="../spip_carto.php?id_carte=".intval($fichier);
-		else $lefichier=$fichier;
-		echo afficher_carte_inteface($lefichier,$id_carte,"400","300");
+		//if (intval($url_carte)>0) $leurl_carte="../spip_carto.php?fond_carte=".intval($url_carte);
+		//else $leurl_carte=$url_carte;
+		$lurl_carte="../spip_carto.php?fond_carte=".urlencode($url_carte);
+		$tabcallage=wtktoarray($callage);
+		echo afficher_carte_inteface($id_carte,$retour,$lurl_carte,$tabcallage);
 		
-		echo "</div>\n";
 		echo fin_block();
+		echo "</div>\n";
 		
 		fin_cadre_relief();
 	}
-	/*
-	//articles li?s g?r?s ? la sauvegarde du contenu dans articles.php3 : 
-	//relecture du contenu de l'article puis delete / insert des liaisons
-	//de cet article
+	
+	//articles li?s
 	afficher_articles(_L("Articles utilisant cette carte"),
-		", spip_carto_carte_articles AS lien WHERE lien.id_article=articles.id_article ".
-		"AND id_carte=$id_carte AND statut!='poubelle' ORDER BY titre");
-	*/
+		", spip_carto_cartes_articles AS lien WHERE lien.id_article=articles.id_article ".
+		"AND id_carto_carte=$id_carte AND statut!='poubelle' ORDER BY titre");
+	
 	
 	fin_cadre_relief();
 }
@@ -200,9 +242,9 @@
 	if (!$retour) {
 		$link->addVar('retour', 'cartes.php3');
 	}
-	if (!$nb_reponses) {
-		$link->addVar('supp_confirme', 'oui');
-	}
+	//if (!$nb_reponses) {
+	//	$link->addVar('supp_confirme', 'oui');
+	//}
 	icone(_L("Supprimer cette carte"), $link->getUrl(), "carte-24.gif", "supprimer.gif");
 	echo "</div>\n";
 }
@@ -211,7 +253,7 @@
 //
 // Edition des donnees de la carte
 //
-if (carte_editable($id_carte)) {
+if ($flag_editable) {
 	echo "<p>";
 	debut_cadre_formulaire();
 
@@ -220,151 +262,154 @@
 	$link->addVar('modif_carte', $id_carte);
 	echo $link->getForm('GET');
 	
-	$titre= entites_html($titre);
-	$fichier= $fichier;
-	$commentaire= entites_html($commentaire);
-	$callage = entites_html($callage);
-	$id_srs= intval($id_srs);
-
 	echo "<strong><label for='titre_carte'>"._L("Titre de la carte")."</label></strong> "._T('info_obligatoire_02');
 	echo "<br />";
 	echo "<input type='text' name='titre' id='titre_carte' CLASS='formo' ".
 		"value=\"".$titre."\" size='40'$js_titre><br />\n";
 
-	echo "<strong><label for='fichier_carte'>"._L("Fichier de la carte")."</label></strong> "._T('info_obligatoire_02');
-	echo "<br />";
-	echo "<input type='text' name='fichier' id='fichier_carte' CLASS='formo' ".
-		"value=\"".$fichier."\" size='40'><br />\n";
-
-	echo "<strong><label for='desc_carte'>"._T('info_descriptif')."</label></strong>";
+	echo "<strong><label for='desc_carte'>"._T('info_texte')."</label></strong>";
 	echo "<br />";
-	echo "<textarea name='commentaire' id='desc_carte' CLASS='forml' rows='4' cols='40' wrap='soft'>";
-	echo $commentaire;
+	echo "<textarea name='texte' id='desc_carte' CLASS='forml' rows='4' cols='40' wrap='soft'>";
+	echo $texte;
 	echo "</textarea><br />\n";
 
-	echo "<strong><label for='callage_carte'>"._T("Callage de la carte")."</label></strong>";
-	echo "<br />";
-	echo "<textarea name='callage' id='callage_carte' CLASS='forml' rows='4' cols='40' wrap='soft'>";
-	echo $callage;
-	echo "</textarea><br />\n";
+	if ($new) {
+		echo "<input type='hidden' name='url_carte' id='url_carte_carte' ".
+			"value=\"".$url_carte."\" size='40'>";
+		
+		echo "<textarea name='callage' id='callage_carte' style='visibility:hidden;'>";
+		echo $callage;
+		echo "</textarea>";
 
-	echo "<strong><label for='srs_carte'>"._L("S.R.S. de la carte")."</label></strong> "._T('info_obligatoire_02');
-	echo "<br />";
-	echo "<input type='text' name='id_srs' id='srs_carte' CLASS='formo' ".
-		"value=\"".$id_srs."\" size='40'><br />\n";
+
+		echo "<input type='hidden' name='id_srs' id='srs_carte' ".
+			"value=\"".$id_srs."\" size='40'>";
+	}
+	else {
+		echo "<strong><label for='url_carte_carte'>"._L("Fond de carte")."</label></strong> "._T('info_obligatoire_02'). "<br />"._L("(Num?ro de l'image Spip ou URL de l'image)");
+		echo "<br />";
+		echo "<input type='text' name='url_carte' id='url_carte_carte' CLASS='formo' ".
+			"value=\"".$url_carte."\" size='40'><br />\n";
+		
+		echo "<strong><label for='callage_carte'>"._L("Callage de la carte")."</label></strong>";
+		echo "<br />";
+		echo "<textarea name='callage' id='callage_carte' CLASS='forml' rows='4' cols='40' wrap='soft'>";
+		echo $callage;
+		echo "</textarea><br />\n";
 
 
+		echo "<strong><label for='srs_carte'>"._L("S.R.S. de la carte")."</label></strong> "._T('info_obligatoire_02');
+		echo "<br />";
+		echo "<input type='text' name='id_srs' id='srs_carte' CLASS='formo' ".
+			"value=\"".$id_srs."\" size='40'><br />\n";
+	}
+	
+	
 	echo "<div align='right'>";
 	echo "<input type='submit' name='Valider' value='"._T('bouton_valider')."' class='fondo'></div>\n";
-	
+
 	echo "</form>";
 
 	//
 	// Modifier / supprimer les objets
 	//
-	if ($id_carte) {
-		echo "<a name='objetss'></a>";
+
+	$query = "SELECT * FROM spip_carto_objets WHERE id_carto_carte=$id_carte";
+	$result = spip_query($query);
+	
+	if (spip_num_rows($result)>0) {
+		echo "<a name='objets'></a>";
 		echo "<p><hr><p>\n";
 		echo "<div class='verdana3'>";
 		echo "<strong>"._L("Objets de la carte")."</strong><br />\n";
 		echo _L("Vous pouvez ici modifier et supprimer les objets de la carte.");
 		echo "</div>\n";
-
-	$query = "SELECT * FROM spip_carto_objet WHERE id_carte=$id_carte";
-	$result = spip_query($query);
-	while ($t = spip_fetch_array($result)) {
-
-		$id_objet= $t['id_objet'];
-		$titre_objet= entites_html($t['titre']);
-		$lien_objet= $t['lien'];
-		$commentaire_objet= entites_html($t['commentaire']);
-		$logo_objet = $t['logo'];
-		$geometrie = entites_html($t['geometrie']);
-
-		$nouveau = ($id_objet == $nouveau_objet);
-		if ($nouveau) echo "<a name='nouveau_objet'></a>";
-		echo "<p>\n";
-		debut_cadre_relief();
-		echo "<div style='padding: 2px; background-color: $couleur_claire; color: black;'>&nbsp;";
-		
-		echo $nouveau ? bouton_block_visible("objet_$id_objet") : bouton_block_invisible("objet_$id_objet");
-		echo "<strong>".$titre_objet."</strong>";
-		echo "<br /></div>";
-		echo $nouveau ? debut_block_visible("objet_$id_objet") : debut_block_invisible("objet_$id_objet");
+	
+		while ($t = spip_fetch_array($result)) {
+	
+			$id_objet= $t['id_carto_objet'];
+			$titre_objet= entites_html($t['titre']);
+			$lien_objet= $t['url_objet'];
+			$texte_objet= entites_html($t['texte']);
+			$url_logo = $t['url_logo'];
+			$geometrie = entites_html($t['geometrie']);
+	
+			$visible = ($id_objet == $objet_visible);
+			if ($nouveau) echo "<a name='nouveau_objet'></a>";
+			else if ($visible) echo "<a name='objet_visible'></a>";
+			echo "<p>\n";
+			debut_cadre_relief();
+			echo "<div style='padding: 2px; background-color: $couleur_claire; color: black;'>&nbsp;";
 			
-			// Modifier un objet
-			$link = $carte_link;
-			$link->addVar('modif_objet', $id_objet);
-			echo $link->getForm('GET', 'objet_visible');
-			echo "<div class='verdana2'>";
-			echo "<p>";
-			if ($nouveau) {
-				echo "<script type='text/javascript'><!-- \nvar antifocus_champ = false; // --></script>\n";
-				$js = " onfocus=\"if(!antifocus_champ){this.value='';antifocus_champ=true;}\"";
+			echo $visible ? bouton_block_visible("objet_$id_objet") : bouton_block_invisible("objet_$id_objet");
+			echo "<strong>".$titre_objet."</strong>";
+			echo "<br /></div>";
+			echo $visible ? debut_block_visible("objet_$id_objet") : debut_block_invisible("objet_$id_objet");
+				
+				// Modifier un objet
+				$link = $carte_link;
+				$link->addVar('modif_objet', $id_objet);
+				echo $link->getForm('GET', 'objet_visible');
+				echo "<div class='verdana2'>";
+				echo "<p>";
+				if ($nouveau) {
+					echo "<script type='text/javascript'><!-- \nvar antifocus_champ = false; // --></script>\n";
+					$js = " onfocus=\"if(!antifocus_champ){this.value='';antifocus_champ=true;}\"";
+				}
+				else $js = "";
+				echo "<strong><label for='titre_$id_objet'>"._L("Titre de l'objet")."</label></strong> :";
+				echo "<br />";
+				echo "<input type='text' name='objet_titre' id='titre_$id_objet' value=\"".
+					$titre_objet."\" class='fondo verdana2' size='30'$js><br />\n";
+				//bloc_edition_objet($t, $carte_link);
+				
+				echo "<strong><label for='desc_$id_objet'>"._T('info_texte')."</label></strong>";
+				echo "<br />";
+				echo "<textarea name='objet_texte' id='desc_$id_objet' CLASS='forml' rows='4' cols='40' wrap='soft'>";
+				echo $texte_objet;
+				echo "</textarea><br />\n";
+	
+				echo "<strong><label for='lien_$id_objet'>"._L("Lien de l'objet")."</label></strong> :";
+				echo "<br />";
+				echo "<input type='text' name='url_objet' id='lien_$id_objet' value=\"".
+					$lien_objet."\" class='fondo verdana2' size='30'$><br />\n";
+	
+				echo "<strong><label for='logo_$id_objet'>"._L("Logo de l'objet")."</label></strong> :";
+				echo "<br />";
+				echo "<input type='text' name='url_logo' id='logo_$id_objet' value=\"".
+					$url_logo."\" class='fondo verdana2' size='30'$><br />\n";
+	
+				echo "<strong><label for='geo_$id_objet'>"._L('G?ometrie')."</label></strong>";
+				echo "<br />";
+				echo "<textarea name='geometrie' id='geo_$id_objet' CLASS='forml' rows='4' cols='40' wrap='soft'>";
+				echo $geometrie;
+				echo "</textarea><br />\n";
+	
+				echo "</p>";
+	
+				echo "<div align='right'>";
+				echo "<input type='submit' name='Valider' value='"._T('bouton_valider')."' class='fondo verdana2'></div>\n";
+				echo "</div>\n";
+				echo "</form>";
+				
+				if ($flag_mots!='non' AND $options == 'avancees') {
+					$tab_id['id_carte']=$id_carte;
+					$tab_id['id_objet']=$id_objet;
+					//TODO : passer les ,ouceau, cherche et supp que si bon mot
+					((!$nouveau) && ($visible)) ? formulaire_mots('carto_objets', $tab_id, $nouv_mot, $supp_mot, $cherche_mot, $flag_editable): formulaire_mots('carto_objets', $tab_id, null, null, null, $flag_editable);
+				}
+	
+				// Supprimer un objet
+				$link = $carte_link;
+				$link->addVar('supp_objet', $id_objet);
+				echo "<div style='float: left;'>";
+				icone_horizontale(_L("Supprimer cet objet"), $link->getUrl('objets'), "carte-24.gif", "supprimer.gif");
+				echo "</div>\n";
+				
+				echo fin_block();
+				fin_cadre_relief();
 			}
-			else $js = "";
-			echo "<label for='titre_$id_objet'>"._L("Titre de l'objet")."</label> :";
-			echo " &nbsp;<input type='text' name='objet_titre' id='titre_$id_objet' value=\"".
-				$titre_objet."\" class='fondo verdana2' size='30'$js><br />\n";
-			//bloc_edition_objet($t, $carte_link);
-			
-			echo "<strong><label for='desc_$id_objet'>"._T('info_descriptif')."</label></strong>";
-			echo "<br />";
-			echo "<textarea name='objet_commentaire' id='desc_$id_objet' CLASS='forml' rows='4' cols='40' wrap='soft'>";
-			echo $commentaire_objet;
-			echo "</textarea><br />\n";
-
-			echo "<label for='lien_$id_objet'>"._L("Lien de l'objet")."</label> :";
-			echo " &nbsp;<input type='text' name='objet_lien' id='lien_$id_objet' value=\"".
-				$lien_objet."\" class='fondo verdana2' size='30'$><br />\n";
-
-			echo "<label for='logo_$id_objet'>"._L("Logo de l'objet")."</label> :";
-			echo " &nbsp;<input type='text' name='objet_logo' id='logo_$id_objet' value=\"".
-				$logo_objet."\" class='fondo verdana2' size='30'$><br />\n";
-
-			echo "<strong><label for='geo_$id_objet'>"._T('info_descriptif')."</label></strong>";
-			echo "<br />";
-			echo "<textarea name='geometrie' id='geo_$id_objet' CLASS='forml' rows='4' cols='40' wrap='soft'>";
-			echo $geometrie;
-			echo "</textarea><br />\n";
-
-			echo "</p>";
-
-			echo "<div align='right'>";
-			echo "<input type='submit' name='Valider' value='"._T('bouton_valider')."' class='fondo verdana2'></div>\n";
-			echo "</div>\n";
-			echo "</form>";
-			// Supprimer un objet
-			$link = $carte_link;
-			$link->addVar('supp_objet', $id_objet);
-			echo "<div style='float: left;'>";
-			icone_horizontale(_L("Supprimer cet objet"), $link->getUrl('objets'), "carte-24.gif", "supprimer.gif");
-			echo "</div>\n";
-			
-			echo fin_block();
-			fin_cadre_relief();
 		}
-
-		// Ajouter un objet
-		/*
-		echo "<p>";
-		debut_cadre_enfonce();
-		$link = $carte_link;
-		echo $link->getForm('GET', 'nouveau_objet');
-		echo "<strong>"._L("Ajouter un objet")."</strong><br />\n";
-		echo _L("Cr&eacute;er un objet de type&nbsp;:");
-		echo " \n";
-		$types = array('ligne', 'texte', 'email', 'url', 'select', 'multiple', 'fichier', 'mot');
-		echo "<select name='ajout_objet' value='' class='fondo'>\n";
-		foreach ($types as $type) {
-			echo "<option value='$type'>".nom_type_objet($type)."</option>\n";
-		}
-		echo "</select>\n";
-		echo " &nbsp; <input type='submit' name='valider' id='ajout_objet' VALUE='"._T('bouton_valider')."' class='fondo'>";
-		echo "</form>\n";
-		fin_cadre_enfonce();
-		*/
-	}
 	
 	echo "</div>\n";
 

Index: inc_visites.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_visites.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_visites.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_visites.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_VISITES")) return;
 define("_ECRIRE_INC_VISITES", "1");

Index: md5.js
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/md5.js,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2

Index: synchro.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/synchro.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- synchro.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ synchro.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 // pour low_sec (iCal)
 include_ecrire("inc_acces.php3");

Index: inc_texte.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_texte.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_texte.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_texte.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_TEXTE")) return;
@@ -12,11 +23,9 @@
 // (on peut les modifier globalement dans mes_fonctions.php3,
 //  OU individuellement pour chaque type de page dans article.php3,
 //  rubrique.php3, etc. cf doc...)
-// Par securite ne pas accepter les variables passees par l'utilisateur
 //
 function tester_variable($nom_var, $val){
-	global $INSECURE;
-	if (!isset($GLOBALS[$nom_var]) || $INSECURE[$nom_var]) {
+	if (!isset($GLOBALS[$nom_var])) {
 		$GLOBALS[$nom_var] = $val;
 		return false;
 	}
@@ -179,9 +188,8 @@
 	while (eregi(__regexp_img_echappe, $letexte, $match)) {
 		$num_echap++;
 
-		$letout = quotemeta($match[0]);
-		$letout = ereg_replace("\|", "\|", $letout);
-		$letexte = ereg_replace($letout, "@@SPIP_$source$num_echap@@", $letexte);
+		$letexte = str_replace($match[0],
+			"@@SPIP_$source$num_echap@@", $letexte);
 		$les_echap[$num_echap] = $match;
 	}
 
@@ -229,12 +237,12 @@
 
 
 // fonction en cas de texte extrait d'un serveur distant:
-// on ne sait pas (encore) rappatrier les documents joints
+// on ne sait pas (encore) rapatrier les documents joints
 
 function supprime_img($letexte) {
-	$message = _L('indisponible');
+	$message = _T('img_indisponible');
 	while (eregi(__regexp_img_echappe, $letexte, $match)) {
-	  $letexte = ereg_replace($match[0], $message, $letexte);
+	  $letexte = str_replace($match[0], "($message)", $letexte);
 	}
 	return $letexte;
 }
@@ -349,7 +357,6 @@
 
 // Correction typographique francaise
 function typo_fr($letexte) {
-	global $flag_strtr2;
 	static $trans;
 
 	// Nettoyer 160 = nbsp ; 187 = raquo ; 171 = laquo ; 176 = deg ; 147 = ldquo; 148 = rdquo
@@ -371,13 +378,7 @@
 		}
 	}
 
-	if ($flag_strtr2)
-		$letexte = strtr($letexte, $trans);
-	else {
-		reset($trans);
-		while (list($c, $r) = each($trans))
-			$letexte = str_replace($c, $r, $letexte);
-	}
+	$letexte = strtr($letexte, $trans);
 
 	$cherche1 = array(
 		/* 1		'/{([^}]+)}/',  */

Index: statistiques_referers.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/statistiques_referers.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- statistiques_referers.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ statistiques_referers.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire("inc_statistiques.php3");
 

Index: import_all.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/import_all.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- import_all.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ import_all.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 
 include_ecrire ("inc_auth.php3");

Index: inc_surligne.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_surligne.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_surligne.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_surligne.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_SURLIGNE")) return;

Index: inc_presentation.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_presentation.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_presentation.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_presentation.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,11 +1,22 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_PRESENTATION")) return;
 define("_ECRIRE_INC_PRESENTATION", "1");
 
-include_ecrire("inc_filtres.php3"); # pour http_script (normalement d?j? fait)
+include_ecrire("inc_filtres.php3"); # pour les fonctions http_* (normalement deja la)
 include_ecrire ("inc_lang.php3");
 utiliser_langue_visiteur();
 
@@ -104,13 +115,12 @@
 		$ret .= "<div class='cadre-$style'$style_cadre>";
 	}
 
-	//$ret = "<div class='cadre-$style' style='$style_haut'>";
 	$ret .= "<div style='position: relative;'>";
 
 	if ($spip_display != 1 AND $spip_display != 4 AND strlen($icone) > 1) {
 		$ret .= "<div style='position: absolute; top: -16px; $spip_lang_left: 10px;'>";
 		if ($fonction) {
-			$ret .= "<div " . http_style_background($icone, "no-repeat; padding: 0px; margin: 0px;'");
+			$ret .= "<div " . http_style_background($icone, "no-repeat; padding: 0px; margin: 0px");
 			$ret .= http_img_pack($fonction, "", "");
 			$ret .= "</div>";
 		}
@@ -543,7 +553,7 @@
 }
 
 
-function puce_statut_article($id_article, $statut) {
+function puce_statut_article($id, $statut) {
 	global $spip_lang_left, $dir_lang, $connect_statut, $options, $browser_name;
 	
 	switch ($statut) {
@@ -584,71 +594,107 @@
 			  "verte" => _T('texte_statut_publie'),
 			  "rouge" => _T('texte_statut_refuse'),
 			  "poubelle" => _T('texte_statut_poubelle'));
-		$inser_puce = "<div class='puce_article' id='statut$id_article'$dir_lang>"
-			. "<div class='puce_article_fixe' onmouseover=\"montrer('statutdecal$id_article');\">" .
-		  http_img_pack("$puce", "", "id='imgstatut$id_article' border='0' style='margin: 1px;'") ."</div>"
-			. "<div class='puce_article_popup' id='statutdecal$id_article' onmouseout=\"cacher('statutdecal$id_article');\" style=' margin-left: -".((11*$clip)+1)."px;'>"
-			. "<a onmouseover=\"montrer('statutdecal$id_article');\" href=\"javascript:selec_statut_art($id_article, 0, 'prepa');\">" .
-		  http_img_pack("puce-blanche.gif", "", "title='$titles[blanche]'"). "</a>"
-			. "<a onmouseover=\"montrer('statutdecal$id_article');\" href=\"javascript:selec_statut_art($id_article, 1, 'prop');\">" .
-		  http_img_pack("puce-orange.gif", "", "title='$titles[orange]'") . "</a>"
-			. "<a onmouseover=\"montrer('statutdecal$id_article');\" href=\"javascript:selec_statut_art($id_article, 2, 'publie');\">" .
-		  http_img_pack("puce-verte.gif", "", "title='$titles[verte]'")."</a>"
-			. "<a onmouseover=\"montrer('statutdecal$id_article');\" href=\"javascript:selec_statut_art($id_article, 3, 'refuse');\">" .
-		  http_img_pack("puce-rouge.gif", "", "title='$titles[rouge]'"). "</a>"
-			. "<a onmouseover=\"montrer('statutdecal$id_article');\" href=\"javascript:selec_statut_art($id_article, 4, 'poubelle');\">" .
-		  http_img_pack("puce-poubelle.gif", "", "title='$titles[poubelle]'"). "</a>"
+	  $action = "onmouseover=\"montrer('statutdecalarticle$id');\"";
+	  $inser_puce = "<div class='puce_article' id='statut$id'$dir_lang>"
+			. "<div class='puce_article_fixe' $action>" .
+		  http_img_pack("$puce", "", "id='imgstatutarticle$id' border='0' style='margin: 1px;'") ."</div>"
+			. "<div class='puce_article_popup' id='statutdecalarticle$id' onmouseout=\"cacher('statutdecalarticle$id');\" style=' margin-left: -".((11*$clip)+1)."px;'>"
+		  . http_href_img("javascript:selec_statut($id, 'article', -1,'" . _DIR_IMG_PACK . "puce-blanche.gif', 'prepa');",
+				  "puce-blanche.gif", 
+				  "title=\"$titles[blanche]\"",
+				  "",'','',
+				  $action)
+		  . http_href_img("javascript:selec_statut($id, 'article', -12,'" . _DIR_IMG_PACK . "puce-orange.gif', 'prop');",
+				  "puce-orange.gif", 
+				  "title=\"$titles[orange]\"",
+				  "",'','',
+				  $action)
+		  . http_href_img("javascript:selec_statut($id, 'article', -23,'" . _DIR_IMG_PACK . "puce-verte.gif', 'publie');",
+				  "puce-verte.gif", 
+				  "title=\"$titles[verte]\"",
+				  "",'','',
+				  $action)
+		  . http_href_img("javascript:selec_statut($id, 'article', -34,'" . _DIR_IMG_PACK . "puce-rouge.gif', 'refuse');",
+				  "puce-rouge.gif", 
+				  "title=\"$titles[rouge]\"",
+				  "",'','',
+				  $action)
+		  . http_href_img("javascript:selec_statut($id, 'article', -45,'" . _DIR_IMG_PACK . "puce-poubelle.gif', 'poubelle');",
+				  "puce-poubelle.gif", 
+				  "title=\"$titles[poubelle]\"",
+				  "",'','',
+				  $action)
 			. "</div></div>";
 	} else {
-		$inser_puce = http_img_pack("$puce", "", "id='imgstatut$id_article' border='0' style='margin: 1px;'");
+		$inser_puce = http_img_pack("$puce", "", "id='imgstatutarticle$id' border='0' style='margin: 1px;'");
 	}
 	return $inser_puce;
 }
 
-function puce_statut_breve($id_breve, $statut) {
-	global $spip_lang_left, $dir_lang, $connect_statut, $options, $browser_name;
-	
-			switch ($statut) {
+function puce_statut_breve($id, $statut, $type) {
+	global $spip_lang_left, $dir_lang, $connect_statut, $options;
+
+	$puces = array(
+		       0 => 'puce-orange-breve.gif',
+		       1 => 'puce-verte-breve.gif',
+		       2 => 'puce-rouge-breve.gif',
+		       3 => 'puce-blanche-breve.gif');
+
+	switch ($statut) {
 			case 'prop':
 				$clip = 0;
-				$puce = "orange";
+				$puce = $puces[0];
 				$title = _T('titre_breve_proposee');
 				break;
 			case 'publie':
 				$clip = 1;
-				$puce = "verte";
+				$puce = $puces[1];
 				$title = _T('titre_breve_publiee');
 				break;
 			case 'refuse':
 				$clip = 2;
-				$puce = "rouge";
+				$puce = $puces[2];
 				$title = _T('titre_breve_refusee');
 				break;
-			}
+			default:
+				$clip = 0;
+				$puce = $puces[3];
+				$title = '';
+	}
 
+	$type1 = "statut$type$id"; 
+	$inser_puce = http_img_pack($puce, "", "id='img$type1' border='0' style='margin: 1px;'");
 
-	$puce = "puce-$puce-breve.gif";
-	
-	if ($connect_statut == '0minirezo' AND $options == 'avancees') {
+	if (!($connect_statut == '0minirezo' AND $options == 'avancees'))
+		return $inser_puce;
 	
+	$type2 = "statutdecal$type$id";
+	$action = "onmouseover=\"montrer('$type2');\"\n";
+
 	  // les versions de MSIE ne font pas toutes pareil sur alt/title
 	  // la combinaison suivante semble ok pour tout le monde.
 
-		$inser_puce = "<div class='puce_breve' id='statutbreve$id_breve'$dir_lang>"
-			. "<div class='puce_breve_fixe' onmouseover=\"montrer('statutdecalbreve$id_breve');\">" .
-		  http_img_pack("$puce", "", "id='imgstatutbreve$id_breve' border='0' style='margin: 1px;'"). "</div>"
-			. "<div class='puce_breve_popup' id='statutdecalbreve$id_breve' onmouseout=\"cacher('statutdecalbreve$id_breve');\" style=' margin-left: -".((9*$clip)+1)."px;'>"
-			. "<a onmouseover=\"montrer('statutdecalbreve$id_breve');\" href=\"javascript:selec_statut_breve($id_breve, 0, 'prop');\">" .
-		  http_img_pack("puce-orange-breve.gif", "", "title=\""._T('texte_statut_propose_evaluation')."\"") . "</a>"
-			. "<a onmouseover=\"montrer('statutdecalbreve$id_breve');\" href=\"javascript:selec_statut_breve($id_breve, 1, 'publie');\">" .
-		  http_img_pack("puce-verte-breve.gif", "", "title=\""._T('texte_statut_publie')."\""). "</a>"
-			. "<a onmouseover=\"montrer('statutdecalbreve$id_breve');\" href=\"javascript:selec_statut_breve($id_breve, 2, 'refuse');\">" .
-		  http_img_pack("puce-rouge-breve.gif", "", "title=\""._T('texte_statut_refuse')."\""). "</a>"
-			. "</div></div>";
-	} else {
-		$inser_puce = http_img_pack("$puce", "", "id='imgstatut$id_article' border='0' style='margin: 1px;'");
-	}
-	return $inser_puce;
+	return	"<div class='puce_breve' id='$type1'$dir_lang>"
+		. "<div class='puce_breve_fixe' $action>"
+		. $inser_puce
+		. "</div>"
+		. "<div class='puce_breve_popup' id='$type2' onmouseout=\"cacher('$type2');\" style=' margin-left: -".((9*$clip)+1)."px;'>"
+		. http_href_img("javascript:selec_statut($id, '$type', -1, '" . _DIR_IMG_PACK . $puces[0] . "', 'prop');",
+			$puces[0],
+			"title=\""._T('texte_statut_propose_evaluation')."\"",
+			'','','',
+			$action)
+		. http_href_img("javascript:selec_statut($id, '$type', -10, '" . _DIR_IMG_PACK .$puces[1] . "', 'publie');",
+		 	$puces[1],
+			"title=\""._T('texte_statut_publie')."\"",
+			'','','',
+			$action)
+		. http_href_img("javascript:selec_statut($id, '$type', -19, '" . _DIR_IMG_PACK .$puces[2] . "', 'refuse');",
+			$puces[2],
+			"title=\""._T('texte_statut_refuse')."\"",
+			'','','',
+			$action)
+		.  "</div></div>";
 }
 
 
@@ -789,13 +835,14 @@
 
 			$s = affdate_jourcourt($date);
 			
+			/* # ca fait mal a la tete ce truc
 			if ($afficher_visites AND $visites > 0) {
 				$s .= "<br><font size=\"1\"><a href='statistiques_visites.php3?id_article=$id_article'>"._T('lien_visites', array('visites' => $visites))."</a></font>";
 				if ($popularite > 0) $s .= "<br><font size=\"1\"><a href='statistiques_visites.php3?id_article=$id_article'>"._T('lien_popularite', array('popularite' => $popularite))."</a></font>";
 
 				$s = "<div class='liste_clip' style='width: 100px;'>$s</div>";
 			}
-			
+			*/
 			
 			$vals[] = $s;
 			
@@ -888,8 +935,7 @@
 			if ($lang = $row['lang']) changer_typo($lang);
 			$id_rubrique = $row['id_rubrique'];
 			
-			$vals[] = puce_statut_breve($id_breve, $statut);
-			
+			$vals[] = puce_statut_breve($id_breve, $statut, 'breve');
 
 			$s = "<div>";
 			$s .= "<a href='breves_voir.php3?id_breve=$id_breve'$dir_lang style=\"display:block;\">";
@@ -1245,7 +1291,7 @@
 					$heure_fin = "...";
 
 				$s = "<div " . 
-				  http_style_background('rv-12.gif', "$spip_lang_left center no-repeat; padding-$spip_lang_left: 15px;'") .
+				  http_style_background('rv-12.gif', "$spip_lang_left center no-repeat; padding-$spip_lang_left: 15px") .
 				  "><a href='calendrier_jour.php3?jour=$jour&mois=$mois&annee=$annee'><b style='color: black;'>$s</b><br />$heure-$heure_fin</a></div>";
 			} else {
 				$s = "<font color='#999999'>$s</font>";
@@ -1509,6 +1555,7 @@
 	global $couleur_foncee, $couleur_claire, $couleur_lien, $couleur_lien_off;
 	global $mode, $spip_lang_rtl, $spip_display;
 	global $connect_statut, $connect_toutes_rubriques;
+	global $browser_name, $browser_rev;
 
 	// hack pour compatibilite spip-lab
 	if (strpos($rubrique, 'script>')) {
@@ -1549,306 +1596,47 @@
 	// < script type="text/javascript" src="js_detectplugins.js"></script>
 
 	debut_javascript($connect_statut == "0minirezo" AND $connect_toutes_rubriques, (lire_meta("activer_statistiques") != 'non'));
-?>
-	  <link rel="alternate stylesheet" href="spip_style_invisible.css" type="text/css" title="invisible" />
-	<link rel="stylesheet" href="spip_style_visible.css" type="text/css" title="visible" />
-	<link rel="stylesheet" href="spip_style_print.css" type="text/css" media="print">
 
-</head>
-<?php
-	echo "<body text='#000000' bgcolor='#f8f7f3' link='$couleur_lien' vlink='$couleur_lien_off' alink='$couleur_lien_off' topmargin='0' leftmargin='0' marginwidth='0' marginheight='0' frameborder='0'";
+	echo '<link rel="alternate stylesheet" href="', _DIR_RESTREINT, 'spip_style_invisible.css" type="text/css" title="invisible" />', "\n",
+		'<link rel="stylesheet" href="', _DIR_RESTREINT, 'spip_style_visible.css" type="text/css" title="visible" />', "\n",
+		'<link rel="stylesheet" href="', _DIR_RESTREINT, 'spip_style_print.css" type="text/css" media="print">', "\n",
+		"</head>\n<body text='#000000' bgcolor='#f8f7f3' link='$couleur_lien' vlink='$couleur_lien_off' alink='$couleur_lien_off' topmargin='0' leftmargin='0' marginwidth='0' marginheight='0' frameborder='0'";
 
 	if ($spip_lang_rtl)
 		echo " dir='rtl'";
 	//if ($mode == "wysiwyg") echo " onLoad='debut_editor();'";
-	echo " onLoad=\"setActiveStyleSheet('invisible'); verifForm();$onLoad\"";
-	echo ">";
+	echo " onLoad=\"setActiveStyleSheet('invisible'); ";
+
+	// Hack pour forcer largeur des formo/forml sous Mozilla >= 1.7
+	// meme principe que le behavior win_width.htc pour MSIE
+	if (eregi("mozilla", $browser_name) AND $browser_rev >= 1.7)
+		echo "verifForm();";
+	echo "$onLoad\">";
 }
 
 function debut_javascript($admin, $stat)
 {
 	global $spip_lang_left;
-	global $browser_name, $browser_version, $browser_rev;
+	global $browser_name, $browser_version;
 
 	// envoi le fichier JS de config si browser ok.
 	echo $GLOBALS['browser_layer'];
 ?>
 <script type='text/javascript'><!--
-	var init_gauche = true;
-
-	function changestyle(id_couche, element, style) {
-
-		<?php if ($admin) { ?>
-			hide_obj("bandeaudocuments");
-			hide_obj("bandeauredacteurs");
-			hide_obj("bandeauauteurs");
-			<?php if ($stat) { ?> hide_obj("bandeausuivi"); <?php } ?>
-			hide_obj("bandeauadministration"); 
-		<?php } ?>
-		
-		hide_obj("bandeaudeconnecter");
-		hide_obj("bandeautoutsite");
-		hide_obj("bandeaunavrapide");
-		hide_obj("bandeauagenda");
-		hide_obj("bandeaumessagerie");
-		hide_obj("bandeausynchro");
-		hide_obj("bandeaurecherche");
-		hide_obj("bandeauinfoperso");
-		hide_obj("bandeaudisplay");
-		hide_obj("bandeauecran");
-		hide_obj("bandeauinterface");
-		
-		
-		if (init_gauche) {
-		<?php if ($admin) { ?>
-			decalerCouche('bandeaudocuments');
-			decalerCouche('bandeauredacteurs');
-			decalerCouche('bandeauauteurs');
-			<?php if ($stat) ?> decalerCouche('bandeausuivi');
-			decalerCouche('bandeauadministration');
-		<?php } ?>
-			init_gauche = false;
-		}
-		
-		
-		if (!(layer = findObj(id_couche))) return;
-	
-		layer.style[element] = style;
-	}
-	
-	function decalerCouche(id_couche) {
-		if (!(layer = findObj(id_couche))) return;
-				
-		<?php 
-		    if (($spip_lang_left == "left") &&
-					   // bug offsetwidth
-			($browser_name != "MSIE" OR $browser_version >= 6))
-		
-		      {  /* uniquement affichage ltr: bug Mozilla dans offsetWidth quand ecran inverse! */  ?>
-		
-		if ( parseInt(layer.style.<?php echo $spip_lang_left; ?>) > 0) {
-
-
-			gauche = parseInt(layer.style.<?php echo $spip_lang_left; ?>) - Math.floor( layer.offsetWidth / 2 ) + Math.floor(<?php echo largeur_icone_bandeau_principal(_T('icone_a_suivre')); ?> / 2);
-			if (gauche < 0) gauche = 0;
-
-			layer.style.<?php echo $spip_lang_left; ?> = gauche+"px";
-		}
-		
-		<?php } ?>
-		
-	}	
-
-	var accepter_change_statut;
-	
-	function selec_statut_art(id_article, clip, statut) {
-
-		if (!accepter_change_statut) {
-			accepter_change_statut = confirm ('<?php 
-				include_ecrire("inc_charsets.php3");
-				echo unicode_to_javascript(addslashes(html2unicode(_T("confirm_changer_statut")))); ?>');
-		}
-
-		if (accepter_change_statut) {
-			decal = -1 * ((clip*11) + 1);
-			changestyle ('statutdecal'+id_article, 'marginLeft', decal+'px');
-			cacher ('statutdecal'+id_article);
-	
-			if (clip == 0) puce = 'blanche';
-			else if (clip == 1) puce = 'orange';
-			else if (clip == 2) puce = 'verte';
-			else if (clip == 3) puce = 'rouge';
-			else if (clip == 4) puce = 'poubelle';
-	
-			findObj('imgstatut'+id_article).src= '<?php echo _DIR_IMG_PACK; ?>puce-'+puce +'.gif';
-			
-			frames['iframe_action'].location.href = 'iframe_action.php3?action=statut_article&id_article='+id_article+'&statut='+statut;
-		}
-	}
-	
-	function selec_statut_breve(id_breve, clip, statut) {
-	
-		if (!accepter_change_statut) {
-			accepter_change_statut = confirm ('<?php 
-				include_ecrire("inc_charsets.php3");
-				echo unicode_to_javascript(addslashes(html2unicode(_T("confirm_changer_statut")))); ?>');
-		}
-
-		if (accepter_change_statut) {
-			decal = -1 * ((clip*9) + 1);
-			changestyle ('statutdecalbreve'+id_breve, 'marginLeft', decal+'px');
-			cacher ('statutdecalbreve'+id_breve);
-	
-			if (clip == 0) puce = 'orange';
-			else if (clip == 1) puce = 'verte';
-			else if (clip == 2) puce = 'rouge';
-	
-			findObj('imgstatutbreve'+id_breve).src= '<?php echo _DIR_IMG_PACK; ?>puce-'+puce +'-breve.gif';
-			
-			frames['iframe_action'].location.href = 'iframe_action.php3?action=statut_breve&id_breve='+id_breve+'&statut='+statut;
-		}
-	}
-	
-	function changeclass(objet, myClass)
-	{
-			objet.className = myClass;
-	}
-	function changesurvol(iddiv, myClass)
-	{
-			document.getElementById(iddiv).className = myClass;
-	}
-	function setActiveStyleSheet(title) {
-	   var i, a, main;
-	   for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
-		 if(a.getAttribute("rel").indexOf("style") != -1
-			&& a.getAttribute("title")) {
-		   a.disabled = true;
-		   if(a.getAttribute("title") == title) a.disabled = false;
-		 }
-	   }
-	}
-	
-	function setvisibility (objet, statut) {
-		element = findObj(objet);
-		if (element.style.visibility != statut) element.style.visibility = statut;
-	}
-	
-	function montrer(objet) {
-		setvisibility(objet, 'visible');
-	}
-	function cacher(objet) {
-		setvisibility(objet, 'hidden');
-	}
-	
-	
-	
-	function getHeight(obj) {
-		if (obj == "window") {
-			return hauteur_fenetre();
-		}
-		else
-		{
-			obj = document.getElementById(obj);
-			if (obj.offsetHeight) return obj.offsetHeight;
-		}
-	}
-	function hauteur_fenetre() {
-		var myWidth = 0, myHeight = 0;
-		if( typeof( window.innerWidth ) == 'number' ) {
-			//Non-IE
-			myHeight = window.innerHeight;
-		} else {
-			if( document.documentElement &&
-				( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
-				//IE 6+ in 'standards compliant mode'
-				myHeight = document.documentElement.clientHeight;
-			} else {
-				if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
-					//IE 4 compatible
-					myHeight = document.body.clientHeight;
-				}
-			}
-		}
-		return myHeight;
-	}
-
-	
-	function hauteurFrame(nbCol) {
-		hauteur = hauteur_fenetre() - 40;
-		hauteur = hauteur - getHeight('haut-page');
-		
-		if (findObj('brouteur_hierarchie')) hauteur = hauteur - getHeight('brouteur_hierarchie');
-			
-		for (i=0; i<nbCol; i++) {
-			source = document.getElementById("iframe" + i);
-			source.style.height = hauteur + 'px';
-		}
-	}
-
-	function hauteurTextarea() {
-		hauteur = hauteur_fenetre() - 80;
-		
-		source = document.getElementById("text_area");
-		source.style.height = hauteur + 'px';
-	}
-
-	function changeVisible(input, id, select, nonselect) {
-		if (input) {
-			element = findObj(id);
-			if (element.style.display != select)  element.style.display = select;
-		} else {
-			element = findObj(id);
-			if (element.style.display != nonselect)  element.style.display = nonselect;
-		}
-		
-	}
-	
-	
-
-	
-	
-	function verifForm() {
-		/* if (pluginlist.indexOf("SVG")!=-1)
-			document.cookie = "spip_svg_plugin=oui";
-		else
-			document.cookie = "spip_svg_plugin=non";
-		*/
-	
-		//convert2math();
-	<?php
-		// Hack pour forcer largeur des formo/forml sous Mozilla >= 1.7
-		// meme principe que le behavior win_width.htc pour MSIE
-		if (eregi("mozilla", $browser_name) AND $browser_rev >= 1.7) {
-	?>
-		
-	
-		retrait = 16;
-		var obj=document.getElementsByTagName("input");
-		for(i=0;i<obj.length;i++) {
-			if(obj[i].className=="forml" || obj[i].className=="formo") {
-				element = obj[i];
-				if (element.offsetWidth) {
-					obj[i]["nouvelle-largeur"] = (element.offsetWidth - retrait) + "px";
-				} else {
-					obj[i]["nouvelle-largeur"] = "95%";
-				}
-			}
-		}
-		
-		var objx=document.getElementsByTagName("textarea");
-		for(i=0;i<objx.length;i++) {
-			if(objx[i].className=="forml" || objx[i].className=="formo") {
-				element = objx[i];
-				if (element.offsetWidth) {
-					objx[i]["nouvelle-largeur"] = (element.offsetWidth - retrait) + "px";
-				} else {
-					objx[i]["nouvelle-largeur"] = "95%";
-				}
-			}
-		}
-		
-		// Appliquer les modifs apres les calculs, sinon des decalages peuvent apparaitre
-		for(i=0;i<obj.length;i++) {
-			if (obj[i]["nouvelle-largeur"]) obj[i].style.width = obj[i]["nouvelle-largeur"];
-		}
-	
-		for(i=0;i<objx.length;i++) {
-			if (objx[i]["nouvelle-largeur"]) objx[i].style.width = objx[i]["nouvelle-largeur"];
-		}
-	
-		
-		
-	<?php
-		}
-	?>
-	}
+	var admin = <?php echo ($admin ? 1 : 0) ?>;
+	var stat = <?php echo ($stat ? 1 : 0) ?>;
+	var largeur_icone = <?php echo largeur_icone_bandeau_principal(_T('icone_a_suivre')); ?>;
+	var  bug_offsetwidth = <?php 
+// uniquement affichage ltr: bug Mozilla dans offsetWidth quand ecran inverse!
+	  echo ((($spip_lang_left == "left") &&
+		 (($browser_name != "MSIE") ||
+		  ($browser_version >= 6))) ? 1 : 0) ?> ;
 
-	
-	var antifocus=false; // effacement titre quand new=oui
-	
+	var confirm_changer_statut = '<?php include_ecrire("inc_charsets.php3"); echo unicode_to_javascript(addslashes(html2unicode(_T("confirm_changer_statut")))); ?>';
 //--></script>
 <?php
-    }
+	echo http_script('',_DIR_RESTREINT . 'presentation.js');
+}
 
 // Fonctions onglets
 
@@ -2370,19 +2158,22 @@
 			$activer_sites = lire_meta('activer_sites');
 			if ($activer_sites<>'non')
 				icone_bandeau_secondaire (_T('icone_sites_references'), "sites_tous.php3", "site-24.gif", "sites", $sous_rubrique);
-			
-//////////////////////////
-//MODIFICATION
-//////////////////////////
-//une requete en moins ...
+
+			//////////////////////////
+			//MODIFICATION
+			//////////////////////////
+			//if (@spip_num_rows(spip_query("SELECT * FROM spip_documents_rubriques LIMIT 0,1")) > 0) {
+			//	icone_bandeau_secondaire (_T('icone_doc_rubrique'), "documents_liste.php3", "doc-24.gif", "documents", $sous_rubrique);
+			//}
+			//une requete en moins ...
 			if (lire_meta('documents_rubrique')== 'oui') 
 				icone_bandeau_secondaire (_T('icone_doc_rubrique'), "documents_liste.php3", "doc-24.gif", "documents", $sous_rubrique);
-
-//les cartes
+			
+			//les cartes
 			//if (@spip_num_rows(spip_query("SELECT * FROM spip_carto_carte LIMIT 0,1")) > 0) 
 			if (lire_meta('activer_carto')== 'oui') 
 				icone_bandeau_secondaire(_L("Cartes"), "cartes.php3", "carte-24.png", "cartes", $sous_rubrique);
-////////////////						
+			////////////////						
 		}
 		echo "</tr></table></div></div>";
 	}
@@ -2404,7 +2195,7 @@
 
 				icone_bandeau_secondaire (_T('icone_suivi_forums'), "controle_forum.php3", "suivi-forum-24.gif", "forum-controle", $sous_rubrique);
 				icone_bandeau_secondaire (_T('icone_suivi_pettions'), "controle_petition.php3", "suivi-petition-24.gif", "suivi-petition", $sous_rubrique);
-				
+
 			echo "</tr></table></div></div>";
 	
 	}
@@ -2589,13 +2380,15 @@
 			// Choix de la couleur: automatique en fonction de $couleurs_spip
 
 			$link = new Link;
-			ksort($couleurs_spip);
-			while (list($key,$val) = each($couleurs_spip)) {
+			if ($couleurs_spip) {
+			  ksort($couleurs_spip);
+			  while (list($key,$val) = each($couleurs_spip)) {
 					$link->delVar('set_couleur');
 					$link->addVar('set_couleur', $key);
 					
 					echo "<a href=\"".$link->getUrl()."\">" .
 					  http_img_pack("rien.gif", "", "width='8' height='8' border='0' style='margin: 1px; background-color: ".$couleurs_spip[$key]['couleur_claire'].";' onMouseOver=\"changestyle('bandeauinterface','visibility', 'visible');\""). "</a>";
+			  }
 			}
 			// echo "<img src=_DIR_IMG_PACK . 'rien.gif' width='10' height='1' />";
 		echo "</td>";
@@ -2737,7 +2530,7 @@
 			if (lire_meta("activer_sites") == 'oui') {
 				if ($connect_statut == '0minirezo' OR lire_meta("proposer_sites") > 0) {
 					$gadget .= "<div style='width: 140px; float: $spip_lang_left;'>";
-					$gadget .= icone_horizontale(_T('info_sites_referencer'), "sites_edit.php3?new=oui$dans_rub", "site-24.gif","creer.gif", false);
+					$gadget .= icone_horizontale(_T('info_sites_referencer'), "sites_edit.php3?new=oui&target=sites.php3$dans_rub", "site-24.gif","creer.gif", false);
 					$gadget .= "</div>";
 				}
 			}
@@ -3180,15 +2973,20 @@
 
 	echo "</body></html>\n";
 
-	if ($GLOBALS['flag_ob'])
-		@ob_end_flush();
 }
 
+function info_copyright() {
+	global $spip_version_affichee;
+
+	echo _T('info_copyright', 
+		   array('spip' => "<b>SPIP $spip_version_affichee</b> ",
+			      'lien_gpl' => 
+				"<a href='aide_index.php3?aide=licence&var_lang=".$GLOBALS['spip_lang']."' target='spip_aide' onClick=\"javascript:window.open(this.href, 'aide_spip', 'scrollbars=yes,resizable=yes,width=740,height=580'); return false;\">" . _T('info_copyright_gpl')."</a>"));
+
+}
 
 function fin_page($credits='') {
-	global $spip_version_affichee, $spip_display;
-	global $connect_id_auteur;
-	global $multi_popup;
+	global $spip_display;
 
 	echo "</td></tr></table>";
 
@@ -3201,16 +2999,9 @@
 
 	if ($spip_display == 4) {
 		echo "<div><a href=\"index.php3?set_disp=2\">"._T("access_interface_graphique")."</a></div>";
-	} else {	
-
-		echo "<b>SPIP $spip_version_affichee</b> ";
-		echo _T('info_copyright');
-	
+	} else {
+		echo info_copyright();
 		echo "<br>"._T('info_copyright_doc');
-	
-	//	if (ereg("jimmac", $credits))
-	//		echo "<br>"._T('lien_icones_interface');
-	
 		echo "</div><p>";
 	}
 
@@ -3304,7 +3095,19 @@
 	<font face='Verdana,Arial,Sans,sans-serif' size='4' color='#970038'><B>$titre</b></font>\n<p>";
 }
 
-function install_fin_html() {
+function install_fin_html($suite = '') {
+
+	// bouton retour
+	global $spip_lang_right;
+	if ($suite) {
+		$link = new Link($suite);
+		echo $link->getForm();
+		echo "<DIV align='$spip_lang_right'>"
+		. "<INPUT TYPE='submit' CLASS='fondl'  VALUE='"
+		. _T('bouton_suivant')." >>'></div>"
+		. "</FORM>";
+	}
+
 	echo '
 	</td></tr></table>
 	</center>
@@ -3350,36 +3153,21 @@
 		$message = _T('icone_voir_en_ligne');
 	else if ($en_ligne == 'preview') {
 		// est-ce autorise ?
-		if (lire_meta('preview') == 'non'
-			OR (lire_meta('preview') == '1comite'
-			AND $connect_statut=='1comite')
-		)
-			$message = '';
-		else
+		if ((lire_meta('preview') == 'oui' AND $connect_statut=='0minirezo')
+			OR (lire_meta('preview') == '1comite'))
 			$message = _T('previsualiser');
+		else
+			$message = '';
 	}
 
 	if ($message)
 		icone_horizontale($message, "../spip_redirect.php3?id_$type=$id&$en_ligne=oui", $image, "rien.gif");
 }
 
-// produit une balise img avec un champ alt d'office (et different) si vide
-// attention le htmlentities et la traduction doivent etre appliques avant.
-
-function http_img_pack($img, $alt, $att) {
-  static $num = 0;
-  return "<img src='" . _DIR_IMG_PACK . $img .
-    ("'\nalt=\"" . ($alt ? $alt : ('img_pack' . $num++)) . '" ') .
-    $att . " />";
-}
 
 function http_style_background($img, $att='')
 {
   return " style='background: url(\"" . _DIR_IMG_PACK . $img .  '")' .
     ($att ? (' ' . $att) : '') . ";'";
-}
-
-function http_href_img($href, $img, $att, $title='', $style='', $class='') {
- return  http_href($href, http_img_pack($img, $title, $att), $title, $style, $class);
 }
 ?>

Index: inc_tidy.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_tidy.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_tidy.php	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_tidy.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_TIDY")) return;

Index: iframe_action.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/iframe_action.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- iframe_action.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ iframe_action.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,17 +1,29 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
 include ("inc.php3");
+ at header("Cache-Control: no-store, no-cache, must-revalidate");
 echo "";
 
-if ($connect_statut == "0minirezo") {
+if (($id > 0) && ($connect_statut == "0minirezo")) {
 
 
 	#### OUH LA, il faudrait passer ca et les modifs des articles.php3 etc
 	#### dans un seul fichier, sinon toute modif faite ici doit etre reportee
 	#### la, et inversement : l'enfer
 
-	if ($action == 'statut_article' AND $id_article > 0) {
+	if ($action == 'statut_article') {
 
+		$id_article = $id;
 		$query = "SELECT statut FROM spip_articles WHERE id_article=$id_article";
 		$result = spip_query($query);
 		if ($row = spip_fetch_array($result)) {
@@ -45,8 +57,9 @@
 		}
 	}
 
-	if ($action == 'statut_breve' AND $id_breve > 0) {
+	elseif ($action == 'statut_breve') {
 
+		$id_breve = $id;
 		$query = "SELECT statut FROM spip_breves WHERE id_breve=$id_breve";
 		$result = spip_query($query);
 		if ($row = spip_fetch_array($result)) {
@@ -61,9 +74,5 @@
 			calculer_rubriques();
 		}
 	}
-
-}
-
-
-
-?>
\ No newline at end of file
+ }
+?>

Index: admin_vider.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/admin_vider.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- admin_vider.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ admin_vider.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_admin.php3");

Index: naviguer.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/naviguer.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- naviguer.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ naviguer.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_logos.php3");
 include_ecrire ("inc_mots.php3");
@@ -170,11 +181,14 @@
 if ($titre) {
 	// creation, le cas echeant
 	if ($new == 'oui' AND $flag_editable AND !$id_rubrique) {
-		$id_rubrique = spip_abstract_insert("rubriques", 
-				    "(titre, id_parent)",
-				    "('"._T('item_nouvelle_rubrique')."', '$id_parent')");
-		$result = spip_query($query);
-		$clean_link->AddVar('id_rubrique', $id_rubrique);
+		$id_rubrique = spip_abstract_insert("spip_rubriques", 
+			"(titre, id_parent)",
+			"('"._T('item_nouvelle_rubrique')."', '$id_parent')");
+
+		// Modifier le lien de base pour qu'il prenne en compte le nouvel id
+		unset($_POST['id_parent']);
+		$_POST['id_rubrique'] = $id_rubrique;
+		$clean_link = new Link();
 	}
 
 	// si c'est une rubrique-secteur contenant des breves, ne deplacer
@@ -264,36 +278,6 @@
 	$titre_page = _T('titre_naviguer_dans_le_site');
 
 
-if ($id_document) {
-	$query_doc = "SELECT * FROM spip_documents_rubriques WHERE id_document=$id_document AND id_rubrique=$id_rubrique";
-	$result_doc = spip_query($query_doc);
-	$flag_document_editable = (spip_num_rows($result_doc) > 0);
-} else {
-	$flag_document_editable = false;
-}
-
-
-$modif_document = $GLOBALS['modif_document'];
-if ($modif_document == 'oui' AND $flag_document_editable) {
-	$titre_document = addslashes(corriger_caracteres($titre_document));
-	$descriptif_document = addslashes(corriger_caracteres($descriptif_document));
-
-	$query = "UPDATE spip_documents SET titre='$titre_document', descriptif='$descriptif_document'";
-	if ($largeur_document AND $hauteur_document) $query .= ", largeur='$largeur_document', hauteur='$hauteur_document'";
-	$query .= " WHERE id_document=$id_document";
-	spip_query($query);
-
-	if ($jour_doc AND $connect_statut == '0minirezo' AND acces_rubrique($id_rubrique)) {
-		if ($annee_doc == "0000") $mois_doc = "00";
-		if ($mois_doc == "00") $jour_doc = "00";
-		$query = "UPDATE spip_documents SET date='$annee_doc-$mois_doc-$jour_doc' WHERE id_document=$id_document";
-		$result = spip_query($query);
-		calculer_rubriques();
-	}
-
-}
-
-
 ///// debut de la page
 debut_page($titre_page, "documents", "rubriques");
 
@@ -331,14 +315,14 @@
 	// Logos de la rubrique
 	//
 	
-	$rubon = "rubon$id_rubrique";
-	$ruboff = "ruboff$id_rubrique";
-	
 	if ($connect_statut == '0minirezo' AND acces_rubrique($id_rubrique)) {
-		if ($id_rubrique > 0)
-			afficher_boite_logo($rubon, $ruboff, _T('logo_rubrique')." ".aide ("rublogo"), _T('logo_survol'));
+		if ($id_rubrique)
+			afficher_boite_logo('rub', 'id_rubrique', $id_rubrique,
+			_T('logo_rubrique')." ".aide ("rublogo"), _T('logo_survol'));
 		else
-			afficher_boite_logo($rubon, $ruboff, _T('logo_standard_rubrique')." ".aide ("rublogo"), _T('logo_survol'));
+			afficher_boite_logo('rub', 'id_rubrique', 0,
+			_T('logo_standard_rubrique')." ".aide ("rublogo"),
+			_T('logo_survol'));
 	}
 	
 	
@@ -643,9 +627,11 @@
 
 /// Documents associes a la rubrique
 
-if ($id_rubrique>0)
+if ($id_rubrique>0) {
+	# modifs de la description d'un des docs joints
+	if ($flag_editable) maj_documents($id_rubrique, 'rubrique');
 	 afficher_documents_non_inclus($id_rubrique, "rubrique", $flag_editable);
-
+}
 
 
 

Index: inc_auth_spip.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_auth_spip.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_auth_spip.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_auth_spip.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_AUTH_SPIP")) return;

Index: articles.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/articles.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- articles.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ articles.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_logos.php3");
@@ -32,13 +43,17 @@
 
 		$forums_publics = substr(lire_meta('forums_publics'),0,3);
 
-		$id_article = spip_abstract_insert("articles",
-					     "(id_rubrique, statut, date, accepter_forum, lang, langue_choisie)", 
-					     "($id_rubrique, 'prepa', NOW(), '$forums_publics', '$langue_new', '$langue_choisie_new')");
-
+		$id_article = spip_abstract_insert("spip_articles",
+			"(id_rubrique, statut, date, accepter_forum, lang, langue_choisie)", 
+			"($id_rubrique, 'prepa', NOW(), '$forums_publics', '$langue_new', '$langue_choisie_new')");
 
 		spip_query("DELETE FROM spip_auteurs_articles WHERE id_article = $id_article");
 		spip_query("INSERT INTO spip_auteurs_articles (id_auteur, id_article) VALUES ($connect_id_auteur, $id_article)");
+
+		// Modifier le lien de base pour qu'il prenne en compte le nouvel id
+		unset($_POST['id_rubrique']);
+		$_POST['id_article'] = $id_article;
+		$clean_link = new Link();
 	} else {
 		redirige_par_entete("./index.php3");
 	}
@@ -73,18 +88,6 @@
 
 
 
-/// En double avec articles_edit.php3, mais necessite le flag_editable
-$modif_document = $GLOBALS['modif_document'];
-if ($modif_document == 'oui' AND $flag_editable) {
-	$titre_document = addslashes(corriger_caracteres($titre_document));
-	$descriptif_document = addslashes(corriger_caracteres($descriptif_document));
-	$query = "UPDATE spip_documents SET titre='$titre_document', descriptif='$descriptif_document'";
-	if ($largeur_document AND $hauteur_document) $query .= ", largeur='$largeur_document', hauteur='$hauteur_document'";
-	$query .= " WHERE id_document=$id_document";
-	spip_query($query);
-}
-
-
 //
 // Appliquer les modifications
 //
@@ -154,7 +157,7 @@
 
 // Appliquer la modification de langue
 if (lire_meta('multi_articles') == 'oui' AND $flag_editable) {
-	$row = spip_fetch_array(spip_query("SELECT lang FROM spip_rubriques WHERE id_rubrique=$rubrique_article"));
+  $row = spip_fetch_array(spip_query("SELECT lang FROM spip_rubriques WHERE id_rubrique=" . intval($rubrique_article)));
 	$langue_parent = $row['lang'];
 
 	if ($changer_lang) {
@@ -179,6 +182,10 @@
 }
 
 
+# modifs de la description d'un des docs joints
+if ($flag_editable) maj_documents($id_article, 'article');
+
+
 //
 // Reunit les textes decoupes parce que trop longs
 //
@@ -424,11 +431,9 @@
 
 // Logos de l'article
 
-$arton = "arton$id_article";
-$artoff = "artoff$id_article";
-
-if ($id_article>0 AND $flag_editable)
-	afficher_boite_logo($arton, $artoff, _T('logo_article').aide ("logoart"), _T('logo_survol'));
+if ($id_article AND $flag_editable)
+	afficher_boite_logo('art', 'id_article', $id_article,
+	_T('logo_article').aide ("logoart"), _T('logo_survol'));
 
 
 //
@@ -459,14 +464,19 @@
 
 	$forums_publics = get_forums_publics($id_article);
 
-	if ($change_accepter_forum) {
-		$query_forum = "UPDATE spip_articles SET accepter_forum='$change_accepter_forum' WHERE id_article='$id_article'";
+	if (isset($change_accepter_forum)
+	AND $change_accepter_forum <> $forums_publics) {
+		$query_forum = "UPDATE spip_articles
+			SET accepter_forum='$change_accepter_forum'
+			WHERE id_article='$id_article'";
 		$result_forum = spip_query($query_forum);
 		$forums_publics = $change_accepter_forum;
 		if ($change_accepter_forum == 'abo') {
 			ecrire_meta('accepter_visiteurs', 'oui');
 			ecrire_metas();
 		}
+		include_ecrire('inc_invalideur.php3');
+		suivre_invalideur("id='id_forum/a$id_article'");
 	}
 
 	echo "\n<form action='articles.php3' method='get'>";
@@ -946,7 +956,7 @@
 if ($creer_auteur AND $connect_statut=='0minirezo'){
 	$creer_auteur = addslashes($creer_auteur);
 
-	$nouv_auteur = spip_abstract_insert('auteurs', "(nom, statut)",
+	$nouv_auteur = spip_abstract_insert('spip_auteurs', "(nom, statut)",
 				      "(\"$creer_auteur\", '1comite')");
 	$ajout_auteur = true;
 }
@@ -1175,7 +1185,7 @@
 		echo "<span class='verdana1'><B>"._T('titre_cadre_ajouter_auteur')."&nbsp; </B></span>\n";
 		echo "<DIV><INPUT TYPE='Hidden' NAME='id_article' VALUE=\"$id_article\">";
 
-		if (spip_num_rows($result) > 200 AND $flag_mots_ressemblants) {
+		if (spip_num_rows($result) > 200) {
 			echo "<INPUT TYPE='text' NAME='cherche_auteur' onClick=\"setvisibility('valider_ajouter_auteur','visible');\" CLASS='fondl' VALUE='' SIZE='20'>";
 			echo "<span  class='visible_au_chargement' id='valider_ajouter_auteur'>";
 			echo " <INPUT TYPE='submit' NAME='Chercher' VALUE='"._T('bouton_chercher')."' CLASS='fondo'>";

Index: upgrade.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/upgrade.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- upgrade.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ upgrade.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 
 if (!_FILE_CONNECT) {
@@ -38,8 +49,9 @@
 }
 
 
-
-$upgrade_titre = _T('info_mise_a_niveau_base');
+// eviter les actions vides pour cause de fichier de langue inaccessible.
+$upgrade_titre = _T('info_mise_a_niveau_base') ;
+if (!$upgrade_titre) $upgrade_titre = 'info_mise_a_niveau_base';
 
 // Commentaire standard upgrade
 $commentaire = _T('texte_mise_a_niveau_base_1');
@@ -47,6 +59,7 @@
 // Erreur downgrade (cas de double installation de fichiers SPIP sur une meme base)
 if ($spip_version < (double) lire_meta('version_installee'))
 	$commentaire = _T('info_mise_a_niveau_base_2');
+
 
 // Qu'est-ce que tu fais ici?
 if ($spip_version == (double) lire_meta('version_installee')) {

Index: calendrier_semaine.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/calendrier_semaine.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- calendrier_semaine.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ calendrier_semaine.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,29 +1,16 @@
 <?php
 
-include ("inc.php3");
-
-// sans arguments => mois courant
-if (!$mois){
-  $today=getdate(time());
-  $jour=$today["mday"];
-  $mois=$today["mon"];
-  $annee=$today["year"];
-}
-
-$date = date("Y-m-d", mktime(0,0,0,$mois, $jour, $annee));
-$jour = journum($date);
-$mois = mois($date);
-$annee = annee($date);
-
-$afficher_bandeau_calendrier = true;
-$afficher_bandeau_calendrier_semaine = true;
-
-debut_page(_T('titre_page_calendrier',
-	      array('nom_mois' => nom_mois($date), 'annee' => $annee)),
-	   "redacteurs", 
-	   "calendrier");
-
-echo http_calendrier_semaine($jour,$mois,$annee);
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
 
-// fin_page();
+$type = 'semaine';
+include ("calendrier.php3");
+exit;
 ?>

Index: auteurs_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/auteurs_edit.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- auteurs_edit.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ auteurs_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_acces.php3");
 include_ecrire ("inc_index.php3");
@@ -88,11 +99,11 @@
 // Logos de l'auteur
 //
 
-$arton = "auton$id_auteur";
-$artoff = "autoff$id_auteur";
-
-if ($id_auteur>0 AND (($connect_statut == '0minirezo') OR ($connect_id_auteur == $id_auteur)))
-	afficher_boite_logo($arton, $artoff, _T('logo_auteur').aide ("logoart"), _T('logo_survol'));
+if ($id_auteur
+AND (($connect_statut == '0minirezo')
+OR ($connect_id_auteur == $id_auteur)))
+	afficher_boite_logo('aut', 'id_auteur', $id_auteur,
+	_T('logo_auteur').aide ("logoart"), _T('logo_survol'));
 
 
 debut_droite();

Index: lang_raccourcis.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang_raccourcis.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- lang_raccourcis.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ lang_raccourcis.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 

Index: aide_index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/aide_index.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- aide_index.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ aide_index.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+define('_ECRIRE_AIDE', 1);
 include ("inc_version.php3");
 include_ecrire ("inc_presentation.php3");
 
@@ -13,9 +24,11 @@
 include_ecrire ("inc_layer.php3");
 include_ecrire ("inc_texte.php3");
 
+
 // Recuperer les infos de langue (preferences auteur), si possible
 if (_FILE_CONNECT) {
-	include_ecrire ("inc_auth.php3");
+	include_ecrire ("inc_session.php3");
+	verifier_visiteur();
 }
 include_ecrire ("inc_lang.php3");
 utiliser_langue_visiteur();
@@ -57,13 +70,15 @@
 	if (!$lang_aide) $lang_aide = $GLOBALS['spip_lang'];
 
 	// fichier local ?
-	if (@file_exists($fichier_aide = "AIDE/$lang_aide/aide.html")) 
-		return array(file($fichier_aide), $lang_aide);
+	if (@file_exists($fichier_aide = "../AIDE/aide-$lang_aide-aide.html")) {
+		echo "oui";
+		return array(spip_file_get_contents($fichier_aide), $lang_aide);
+	}
 
 	// fichier local ? si reduction ISO du code langue oc_prv_ni => oc
 	else if (ereg("(.*)_", $lang_aide, $regs)
-		AND (@file_exists($fichier_aide = "AIDE/".$regs[1]."/aide.html")))
-			return array(file($fichier_aide), $regs[1]);
+		AND (@file_exists($fichier_aide = "../AIDE/aide-".$regs[1]."-aide.html")))
+			return array(spip_file_get_contents($fichier_aide), $regs[1]);
 
 	// Aide internet
 	else {
@@ -104,13 +119,7 @@
 
 		$image = $r[3];
 		$image_plat = str_replace('/', '-', $image);
-
-		# Image installee a l'ancienne
-		if (@file_exists($image))
-			$f = $image;
-		else
-		# Image telechargee ou a telecharger
-			$f = "aide_index.php3?img=$image_plat";
+		$f = "aide_index.php3?img=$image_plat";
 
 		$p = strpos($suite, $r[0]);
 		$html .= substr($suite, 0, $p) . $r[1].$f;
@@ -210,9 +219,11 @@
 	list ($cache, $rep, $lang, $file, $ext) = $regs;
 
 	header("Content-Type: image/$ext");
-	if (@file_exists(_DIR_CACHE . 'aide-'.$cache)) {
-		readfile(_DIR_CACHE . 'aide-'.$cache);
-	} else {
+	if (@file_exists($img = _DIR_CACHE . 'aide-'.$cache)) {
+		readfile($img);
+	} else if (@file_exists($img = '../AIDE/aide-'.$cache)) {
+		readfile($img);
+	} else if ($help_server) {
 		include_ecrire('inc_sites.php3');
 		if (ecrire_fichier(_DIR_CACHE . 'aide-test', "test")
 		AND ($contenu =

Index: articles_forum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/articles_forum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- articles_forum.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ articles_forum.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_index.php3");
 include_ecrire ("inc_logos.php3");

Index: inc_objet.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_objet.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_objet.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_objet.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_OBJET")) return;

Index: auteur_messagerie.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/auteur_messagerie.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- auteur_messagerie.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ auteur_messagerie.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_acces.php3");
 include_ecrire ("inc_index.php3");

Index: auteurs.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/auteurs.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- auteurs.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ auteurs.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_acces.php3");
 

Index: inc_flock.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_flock.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_flock.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_flock.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_FLOCK")) return;
@@ -67,7 +78,7 @@
 	// Ne rien faire si on est en preview, debug, ou si une erreur
 	// grave s'est presentee (compilation du squelette, MySQL, etc)
 	if ($GLOBALS['var_preview'] OR ($GLOBALS['var_mode'] == 'debug')
-	OR defined('spip_erreur_fatale'))
+	OR defined('spip_erreur_fatale') OR defined('spip_interdire_cache'))
 		return;
 
 	$gzip = (substr($fichier, -3) == '.gz');
@@ -111,12 +122,12 @@
 	else
 		return;
 
-	// supprimer
-	@unlink($fichier);
-
 	// liberer le verrou
 	@flock($fp, LOCK_UN);
 	@fclose($fp);
+
+	// supprimer
+	@unlink($fichier);
 }
 
 ?>

Index: admin_index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/admin_index.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- admin_index.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ admin_index.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_admin.php3");

Index: inc_auxbase.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_auxbase.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_auxbase.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_auxbase.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_AUXBASE")) return;
 define("_ECRIRE_INC_AUXBASE", "1");
@@ -311,74 +322,71 @@
 
 global $tables_auxiliaires;
 
-$tables_auxiliaires  = 
-  array(
-	'petitions' => array('field' => &$spip_petitions,
-			     'key' => &$spip_petitions_key),
-	'visites_temp' => array('field' => &$spip_visites_temp,
-				'key' => &$spip_visites_temp_key),
-	'visites' =>	array('field' => &$spip_visites,
-			      'key' => &$spip_visites_key),
-	'visites_articles' => array('field' => &$spip_visites_articles,
-				    'key' => &$spip_visites_articles_key),
-	'referers_temp' => array('field' => &$spip_referers_temp,
-				 'key' => &$spip_referers_temp_key),
-	'referers' => array('field' => &$spip_referers,
-			    'key' => &$spip_referers_key),
-	'referers_articles' => array('field' => &$spip_referers_articles,
-				     'key' => &$spip_referers_articles_key),
-	'auteurs_articles' => array('field' => &$spip_auteurs_articles,
-				    'key' => &$spip_auteurs_articles_key),
-	'auteurs_rubriques' => array('field' => &$spip_auteurs_rubriques,
-				     'key' => &$spip_auteurs_rubriques_key),
-	'auteurs_messages' => array('field' => &$spip_auteurs_messages,
-				    'key' => &$spip_auteurs_messages_key),
-	'documents_articles' => array('field' => &$spip_documents_articles,
-				      'key' => &$spip_documents_articles_key),
-	'documents_rubriques' => array('field' => &$spip_documents_rubriques,
-				       'key' => &$spip_documents_rubriques_key),
-	'documents_breves' => array('field' => &$spip_documents_breves,
-				    'key' => &$spip_documents_breves_key),
-	'mots_articles' => array('field' => &$spip_mots_articles,
-				 'key' => &$spip_mots_articles_key),
-	'mots_breves' => array('field' => &$spip_mots_breves,
-			       'key' => &$spip_mots_breves_key),
-	'mots_rubriques' => array('field' => &$spip_mots_rubriques,
-				  'key' => &$spip_mots_rubriques_key),
-	'mots_syndic' => array('field' => &$spip_mots_syndic,
-			       'key' => &$spip_mots_syndic_key),
-	'mots_forum' => array('field' => &$spip_mots_forum,
-			      'key' => &$spip_mots_forum_key),
-	'meta' => array('field' => &$spip_meta,
-			'key' => &$spip_meta_key),
-	'index_articles' => array('field' => &$spip_index_articles,
-				  'key' => &$spip_index_articles_key),
-	'index_auteurs' => array('field' => &$spip_index_auteurs,
-				 'key' => &$spip_index_auteurs_key),
-	'index_breves' => array('field' => &$spip_index_breves,
-				'key' => &$spip_index_breves_key),
-	'index_mots' => array('field' => &$spip_index_mots,
-			      'key' => &$spip_index_mots_key),
-	'index_rubriques' => array('field' => &$spip_index_rubriques,
-				   'key' => &$spip_index_rubriques_key),
-	'index_syndic' => array('field' => &$spip_index_syndic,
-				'key' => &$spip_index_syndic_key),
-	'index_signatures' => array('field' => &$spip_index_signatures,
-				    'key' => &$spip_index_signatures_key),
-	'index_forum' => array('field' => &$spip_index_forum,
-			       'key' => &$spip_index_forum_key),
-	'index_dico' => array('field' => &$spip_index_dico,
-			      'key' => &$spip_index_dico_key),
-	'versions'	=> array('field' => &$spip_versions,
-					 'key' => &$spip_versions_key),
-	'versions_fragments'	=> array('field' => &$spip_versions_fragments,
-					 'key' => &$spip_versions_fragments_key),
-	'caches'	=> array('field' => &$spip_caches,
-					 'key' => &$spip_caches_key),
-	'ortho_cache'	=> array('field' => &$spip_ortho_cache,
-					 'key' => &$spip_ortho_cache_key),
-	'ortho_dico'	=> array('field' => &$spip_ortho_dico,
-					 'key' => &$spip_ortho_dico_key)
-	);
+$tables_auxiliaires['spip_petitions'] = array('field' => &$spip_petitions,
+			     'key' => &$spip_petitions_key);	     
+$tables_auxiliaires['spip_visites_temp'] = array('field' => &$spip_visites_temp,
+				'key' => &$spip_visites_temp_key);
+$tables_auxiliaires['spip_visites'] =	array('field' => &$spip_visites,
+			      'key' => &$spip_visites_key);
+$tables_auxiliaires['spip_visites_articles'] = array('field' => &$spip_visites_articles,
+				    'key' => &$spip_visites_articles_key);
+$tables_auxiliaires['spip_referers_temp'] = array('field' => &$spip_referers_temp,
+				 'key' => &$spip_referers_temp_key);
+$tables_auxiliaires['spip_referers'] = array('field' => &$spip_referers,
+			    'key' => &$spip_referers_key);
+$tables_auxiliaires['spip_referers_articles'] = array('field' => &$spip_referers_articles,
+				     'key' => &$spip_referers_articles_key);
+$tables_auxiliaires['spip_auteurs_articles'] = array('field' => &$spip_auteurs_articles,
+				    'key' => &$spip_auteurs_articles_key);
+$tables_auxiliaires['spip_auteurs_rubriques'] = array('field' => &$spip_auteurs_rubriques,
+				     'key' => &$spip_auteurs_rubriques_key);
+$tables_auxiliaires['spip_auteurs_messages'] = array('field' => &$spip_auteurs_messages,
+				    'key' => &$spip_auteurs_messages_key);
+$tables_auxiliaires['spip_documents_articles'] = array('field' => &$spip_documents_articles,
+				      'key' => &$spip_documents_articles_key);
+$tables_auxiliaires['spip_documents_rubriques'] = array('field' => &$spip_documents_rubriques,
+				       'key' => &$spip_documents_rubriques_key);
+$tables_auxiliaires['spip_documents_breves'] = array('field' => &$spip_documents_breves,
+				    'key' => &$spip_documents_breves_key);
+$tables_auxiliaires['spip_mots_articles'] = array('field' => &$spip_mots_articles,
+				 'key' => &$spip_mots_articles_key);
+$tables_auxiliaires['spip_mots_breves'] = array('field' => &$spip_mots_breves,
+			       'key' => &$spip_mots_breves_key);
+$tables_auxiliaires['spip_mots_rubriques'] = array('field' => &$spip_mots_rubriques,
+				  'key' => &$spip_mots_rubriques_key);
+$tables_auxiliaires['spip_mots_syndic'] = array('field' => &$spip_mots_syndic,
+			       'key' => &$spip_mots_syndic_key);
+$tables_auxiliaires['spip_mots_forum'] = array('field' => &$spip_mots_forum,
+			      'key' => &$spip_mots_forum_key);
+$tables_auxiliaires['spip_meta'] = array('field' => &$spip_meta,
+			'key' => &$spip_meta_key);
+$tables_auxiliaires['spip_index_articles'] = array('field' => &$spip_index_articles,
+				  'key' => &$spip_index_articles_key);
+$tables_auxiliaires['spip_index_auteurs'] = array('field' => &$spip_index_auteurs,
+				 'key' => &$spip_index_auteurs_key);
+$tables_auxiliaires['spip_index_breves'] = array('field' => &$spip_index_breves,
+				'key' => &$spip_index_breves_key);
+$tables_auxiliaires['spip_index_mots'] = array('field' => &$spip_index_mots,
+			      'key' => &$spip_index_mots_key);
+$tables_auxiliaires['spip_index_rubriques'] = array('field' => &$spip_index_rubriques,
+				   'key' => &$spip_index_rubriques_key);
+$tables_auxiliaires['spip_index_syndic'] = array('field' => &$spip_index_syndic,
+				'key' => &$spip_index_syndic_key);
+$tables_auxiliaires['spip_index_signatures'] = array('field' => &$spip_index_signatures,
+				    'key' => &$spip_index_signatures_key);
+$tables_auxiliaires['spip_index_forum'] = array('field' => &$spip_index_forum,
+			       'key' => &$spip_index_forum_key);
+$tables_auxiliaires['spip_index_dico'] = array('field' => &$spip_index_dico,
+			      'key' => &$spip_index_dico_key);
+$tables_auxiliaires['spip_versions'] = array('field' => &$spip_versions,
+					 'key' => &$spip_versions_key);
+$tables_auxiliaires['spip_versions_fragments'] = array('field' => &$spip_versions_fragments,
+					 'key' => &$spip_versions_fragments_key);
+$tables_auxiliaires['spip_caches'] = array('field' => &$spip_caches,
+					 'key' => &$spip_caches_key);
+$tables_auxiliaires['spip_ortho_cache'] = array('field' => &$spip_ortho_cache,
+					 'key' => &$spip_ortho_cache_key);
+$tables_auxiliaires['spip_ortho_dico'] = array('field' => &$spip_ortho_dico,
+					 'key' => &$spip_ortho_dico_key);
 
 ?>

Index: inc_db_mysql.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_db_mysql.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_db_mysql.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_db_mysql.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_DB_MYSQL")) return;
@@ -18,11 +29,14 @@
 
 	$query = traite_query($query);
 
+	#spip_log($query);
 	if ($my_profile)
 		$m1 = microtime();
 
-	if ($GLOBALS['mysql_rappel_connexion'] AND $spip_mysql_link) $result = mysql_query($query, $spip_mysql_link);
-	else $result = mysql_query($query);
+	if ($GLOBALS['mysql_rappel_connexion'] AND $spip_mysql_link)
+		$result = mysql_query($query, $spip_mysql_link);
+	else
+		$result = mysql_query($query);
 
 	if ($my_profile) {
 		$m2 = microtime();
@@ -52,16 +66,15 @@
 // fonction appelant la precedente 
 // specifiquement pour les select des squelettes
 // c'est une instance de spip_abstract_select, voir ses specs dans inc_calcul
-// a noter qu'on pourrait y r?aliser traite_query ? moindre cout
 // les \n et \t sont utiles au debusqueur
+// traite_query pourrait y est fait d'avance, ? moindre cout
 
 function spip_mysql_select($select, $from, $where,
 			   $groupby, $orderby, $limit,
 			   $sousrequete, $cpt,
 			   $table, $id, $serveur) {
 
-	$DB = 'spip_';
-	$q = "\nFROM $DB" . join(",\n\t$DB", $from)
+	$q = "\nFROM " . join(",\n\t", $from)
 	. ($where ? "\nWHERE " . join("\n\tAND ", $where) : '')
 	. ($groupby ? "\nGROUP BY $groupby" : '')
 	. ($orderby ? "\nORDER BY $orderby" : '')
@@ -78,7 +91,7 @@
 	// Erreur ? C'est du debug de squelette, ou une erreur du serveur
 
 	if ($GLOBALS['var_mode'] == 'debug') {
-	  boucle_debug_resultat($id, '', $q);
+		boucle_debug_resultat($id, '', $q);
 	}
 
 	if (!($res = @spip_query($q))) {
@@ -92,7 +105,8 @@
 
 //
 // Passage d'une requete standardisee
-//
+// Quand tous les appels SQL seront abstraits on pourra l'ameliorer
+
 function traite_query($query) {
 	if ($GLOBALS['table_prefix']) $table_pref = $GLOBALS['table_prefix']."_";
 	else $table_pref = "";
@@ -102,14 +116,14 @@
 
 	// changer les noms des tables ($table_prefix)
 	if ($GLOBALS['flag_pcre']) {
-		if (preg_match('/\s(VALUES|WHERE)\s/i', $query, $regs)) {
+		if (preg_match('/\s(SET|VALUES|WHERE)\s/i', $query, $regs)) {
 			$suite = strstr($query, $regs[0]);
 			$query = substr($query, 0, -strlen($suite));
 		}
 		$query = preg_replace('/([,\s])spip_/', '\1'.$db.$table_pref, $query) . $suite;
 	}
 	else {
-		if (eregi('[[:space:]](VALUES|WHERE)[[:space:]]', $query, $regs)) {
+		if (eregi('[[:space:]](SET|VALUES|WHERE)[[:space:]]', $query, $regs)) {
 			$suite = strstr($query, $regs[0]);
 			$query = substr($query, 0, -strlen($suite));
 		}
@@ -119,7 +133,6 @@
 	return $query;
 }
 
-
 //
 // Connexion a la base
 //
@@ -173,8 +186,8 @@
 		return mysql_free_result($r);
 }
 
-function spip_insert($table, $champs, $valeurs) {
-	spip_query("INSERT INTO spip_$table $champs VALUES $valeurs");
+function spip_mysql_insert($table, $champs, $valeurs) {
+	spip_query("INSERT INTO $table $champs VALUES $valeurs");
 	return  mysql_insert_id();
 }
 

Index: inc_lab.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_lab.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_lab.php	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_lab.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 	//
 	// Ce fichier assure la compatibilite avec spip-lab
 	//

Index: inc_suivi_revisions.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_suivi_revisions.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_suivi_revisions.php	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_suivi_revisions.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,4 +1,16 @@
 <?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_SUIVI_REVISIONS")) return;

Index: articles_page.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/articles_page.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- articles_page.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ articles_page.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 debut_page(_T('titre_page_articles_page'), "documents", "articles");

Index: delete_all.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/delete_all.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- delete_all.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ delete_all.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 
 include_ecrire ("inc_auth.php3");

Index: inc_documents.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_documents.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_documents.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_documents.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
[...1581 lines suppressed...]
+					$_POST['jour_doc'] = "00";
+				$date = $_POST['annee_doc'].'-'
+				.$_POST['mois_doc'].'-'.$_POST['jour_doc'];
+
+				if (preg_match('/^[0-9-]+$/', $date)) {
+					spip_query("UPDATE spip_documents
+						SET date='$date'
+						WHERE id_document=$id_document");
+
+					// Changement de date, ce qui nous oblige a :
+					calculer_rubriques();
+				}
+			}
+
+		}
+
+	}
+}
 
 ?>

Index: documents_liste.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/documents_liste.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- documents_liste.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ documents_liste.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_index.php3");
 include_ecrire ("inc_logos.php3");

Index: calendrier.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/calendrier.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- calendrier.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ calendrier.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,27 +1,80 @@
 <?php
 
-if (isset($HTTP_GET_VARS['type']))
-{
-	if ($HTTP_GET_VARS['type'] == 'semaine')
-		{ include ("calendrier_semaine.php3");exit;}
-	else if ($HTTP_GET_VARS['type'] == 'jour')
-		{ include ("calendrier_jour.php3");exit;}
-}
-include ("inc.php3");
-include_ecrire ("inc_calendrier.php");
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
+  // ce script peut etre recopie a la racine pour obtenir le calendrier
+  // a partir de l'espace public. 
+  // Evidemment les messages internes a la redaction seront absents.
+
+include((@is_dir("ecrire") ? 'ecrire/' : '') . "inc_version.php3");
+
+if (!_DIR_RESTREINT)
+	include ("inc.php3");
+ else {
+	include_ecrire("inc_presentation.php3");
+	include_ecrire("inc_calendrier.php");
+	include_ecrire("inc_texte.php3");
+	include_ecrire("inc_layer.php3");
+ }
 
 $today=getdate(time());
+$jour_today = $today["mday"];
+$mois_today = $today["mon"];
+$annee_today = $today["year"];
 
 // sans arguments => mois courant
-if (!$mois){$annee=$today["year"];$mois=$today["mon"]; }
-$periode = $annee . '-' . sprintf("%02d", $mois) . '-01';
+if (!$mois){
+  $jour=$jour_today;
+  $mois=$mois_today;
+  $annee=$annee_today;
+}
+
+$date = date("Y-m-d", mktime(0,0,0,$mois, $jour, $annee));
+$jour = journum($date);
+$mois = mois($date);
+$annee = annee($date);
+
+if (!isset($type)) $type = 'mois';
 
 $afficher_bandeau_calendrier = true;
 
-debut_page(_T('titre_page_calendrier',
-	      array('nom_mois' => nom_mois($periode), 'annee' => $annee)), 
-	   "redacteurs", 
-	   "calendrier");
+if ($type == 'semaine') {
+	$afficher_bandeau_calendrier_semaine = true;
+
+	$titre = _T('titre_page_calendrier',
+		    array('nom_mois' => nom_mois($date), 'annee' => $annee));
+	  }
+elseif ($type == 'jour') {
+	$titre = nom_jour("$annee-$mois-$jour")." ".
+	  affdate_jourcourt("$annee-$mois-$jour");
+	$jour = $jour_today;
+	$mois = $mois_today;
+	$annee = $annee_today;
+ }
+ else {
+	$type = 'mois';
+	$jour = '01';
+	$titre = _T('titre_page_calendrier',
+		    array('nom_mois' => nom_mois($annee . '-' . sprintf("%02d", $mois) . '-01'), 
+			  'annee' => $annee));
+	  }
+
+if (!_DIR_RESTREINT) 
+  debut_page($titre,  "redacteurs", "calendrier");
+ else debut_html($titre);
+
+$f = 'http_calendrier_init_' . $type;
+echo $f($jour,$mois,$annee, $date);
+
+if (!_DIR_RESTREINT) fin_page(); else 	echo "</body></html>\n";
 
-echo http_calendrier_tout($mois,$annee, '01', '31');
 ?>

Index: inc_layer.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_layer.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_layer.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_layer.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,4 +1,15 @@
 <?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_INC_LAYER")) return;
@@ -25,8 +36,7 @@
 		$numero_block["$nom_block"] = $compteur_block;
 	}
 
-	return http_script("
-vis['".$numero_block["$nom_block"]."'] = 'hide';
+	return http_script("vis['".$numero_block["$nom_block"]."'] = 'hide';
 document.write('<div id=\"Layer".$numero_block["$nom_block"]."\" style=\"display: none; margin-top: 1;\">');",
 			      '',
 			   "<div id='Layer".$numero_block["$nom_block"]."' style='display: block;'>");
@@ -37,14 +47,12 @@
   return (!$GLOBALS['browser_layer'] ? '' : "<div style='clear: both;'></div></div>");
 }
 
-function bouton_block_invisible($nom_block) {
+function bouton_block_invisible($nom_block, $icone='') {
 	global $numero_block, $compteur_block, $browser_layer, $spip_lang_rtl;
 
-	$num_triangle = $compteur_block + 1;
-
 	if (!$browser_layer) return '';
 	$blocks = explode(",", $nom_block);
-
+	$javasc = array();
 	for ($index=0; $index < count($blocks); $index ++){
 		$nom_block = $blocks[$index];
 
@@ -53,21 +61,23 @@
 			$numero_block["$nom_block"] = $compteur_block;
 		}
 
-		$javasc .= "swap_couche(\\'".$numero_block[$nom_block]."\\', \\'$spip_lang_rtl\\',\\'" . _DIR_IMG_PACK . "\\');";
+		if (!$icone) {
+			$icone = "deplierhaut$spip_lang_rtl.gif";
+			$javasc[] = '[' . $numero_block[$nom_block] . ',0]';
 		}
-	return http_script("
-document.write('<a class=\"triangle_block\" href=\"javascript:$javasc\"><img name=\"triangle".$numero_block["$nom_block"]."\" src=\"". _DIR_IMG_PACK . "deplierhaut$spip_lang_rtl.gif\" alt=\"\" title=\"".addslashes(_T('info_deplier'))."\" width=\"10\" height=\"10\" border=\"0\"></a>');\n");
+		else
+			$javasc[] = '[' . $numero_block[$nom_block] . ',1]';
+	}
+	return produire_acceder_couche($javasc, $numero_block[$nom_block], $icone);
 }
 
 
 function bouton_block_visible($nom_block){
 	global $numero_block, $compteur_block, $browser_layer, $spip_lang_rtl;
 
-	$num_triangle = $compteur_block + 1;
-
 	if (!$browser_layer) return '';
 	$blocks = explode(",", $nom_block);
-
+	$javasc = array();
 	for ($index=0; $index < count($blocks); $index ++){
 		$nom_block = $blocks[$index];
 
@@ -76,11 +86,24 @@
 			$numero_block["$nom_block"] = $compteur_block;
 		}
 
-		$javasc .= "swap_couche(\\'".$numero_block[$nom_block]."\\', \\'$spip_lang_rtl\\',\\'" . _DIR_IMG_PACK . "\\');";
-		}
+		$javasc[] = '[' . $numero_block[$nom_block] . ',0]';
 
-	return http_script("
-document.write('<a class=\"triangle_block\" href=\"javascript:$javasc\"><img name=\"triangle".$numero_block["$nom_block"]."\" src=\"". _DIR_IMG_PACK . "deplierbas.gif\" alt=\"\" title=\"".addslashes(_T('info_deplier'))."\" width=\"10\" height=\"10\" border=\"0\"></a>');\n");
+	}
+
+	return produire_acceder_couche($javasc, $numero_block[$nom_block], "deplierbas.gif");
+}
+
+function produire_acceder_couche($couches, $nom, $icone) {
+	global $spip_lang_rtl;
+	return http_script("acceder_couche([" . join(',',$couches) . '], ' .
+			   $nom .
+			   ", '" .
+			   _DIR_IMG_PACK .
+			   "', '" .
+			   $icone .
+			   "', '" .
+			   addslashes(_T('info_deplier')) .
+			   "','$spip_lang_rtl')");
 }
 
 //

Index: inc_rubriques.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_rubriques.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_rubriques.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_rubriques.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_RUBRIQUES")) return;
@@ -25,9 +36,9 @@
 	// Publier et dater les rubriques qui ont un article publie
 	//
 
-	// Gerer les articles post-dates ?
+	// Afficher les articles post-dates ?
 	include_ecrire('inc_meta.php3');
-	$postdates = (lire_meta("post_dates") != "non") ?
+	$postdates = (lire_meta("post_dates") == "non") ?
 		"AND fille.date <= NOW()" : '';
 
 	$r = spip_query("SELECT rub.id_rubrique AS id, max(fille.date) AS date_h

Index: inc_version.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_version.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_version.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_version.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_VERSION")) return;
@@ -28,7 +39,7 @@
 $included_files = array();
 
 function include_local($file) {
-	if ($GLOBALS['included_files'][$file]++) return;
+	if (@$GLOBALS['included_files'][$file]++) return;
 	include($file);
 }
 
@@ -36,132 +47,171 @@
 # Hack pour etre compatible avec les mes_options qui appellent cette fonction
 	define_once('_DIR_INCLUDE', _DIR_RESTREINT);
 	$file = _DIR_INCLUDE . $file;
-	if ($GLOBALS['included_files'][$file]++) return;
+	if (@$GLOBALS['included_files'][$file]++) return;
 	include($file);
 }
 
 function include_lang($file) {
 	$file = _DIR_LANG . $file;
-	if ($GLOBALS['included_files'][$file]++) return;
+	if (@$GLOBALS['included_files'][$file]++) return;
 	include($file);
 }
 
 function include_plug($file) {
 	$file = _DIR_RESTREINT . $file;
-	if ($GLOBALS['included_files'][$file]++) return;
+	if (@$GLOBALS['included_files'][$file]++) return;
 	if (file_exists($file)) include($file);
 }
 
 
-// Que faire si Spip n'est pas installe... sauf si justement on l'installe!
-if (!(_FILE_CONNECT OR defined('_ECRIRE_INSTALL') OR defined('_TEST_DIRS'))) {
-	// Soit on est dans ecrire/ et on envoie sur l'installation
-	if (@file_exists("inc_version.php3")) {
-		header("Location: " . _DIR_RESTREINT . "install.php3");
-		exit;
-	}
-	// Soit on est dans le site public
-	else if (defined("_INC_PUBLIC")) {
-		# on ne peut pas deviner ces repertoires avant l'installation !
-		define('_DIR_INCLUDE', _DIR_RESTREINT);
-		define('_DIR_IMG_PACK', (_DIR_RESTREINT . 'img_pack/'));
-		define('_DIR_LANG', (_DIR_RESTREINT . 'lang/'));
-		$db_ok = false;
-		include_ecrire ("inc_presentation.php3");
-		install_debut_html(_T('info_travaux_titre'));
-		echo "<p>"._T('info_travaux_texte')."</p>";
-		install_fin_html();
-		exit;
-	}
-	// Soit on est appele de l'exterieur (spikini, etc)
+// *********** traiter les variables ************
+
+// Recuperer les superglobales $_GET si non definies
+// (en theorie c'est impossible depuis PHP 4.0.3, cf. track_vars)
+foreach (array('_GET', '_POST', '_COOKIE', '_SERVER') as $_table) {
+	if (!is_array($GLOBALS[$_table])) {
+		$GLOBALS[$_table] = array();
+		if (is_array($GLOBALS[$http_table_vars]))
+			$GLOBALS[$_table] = & $GLOBALS[$http_table_vars];
+	} /* else
+	$GLOBALS[$http_table_vars] = & $GLOBALS[$_table]; */
 }
 
-// *********** traiter les variables ************
+
 // Magic quotes : on n'en veut pas sur la base,
 // et on nettoie les GET/POST/COOKIE le cas echeant
-//
+function magic_unquote($_table) {
 
-function magic_unquote($table) {
-	if (is_array($GLOBALS[$table])) {
-		reset($GLOBALS[$table]);
-		while (list($key, $val) = each($GLOBALS[$table])) {
+	// Certains hebergeurs n'activent pas $GLOBALS['GLOBALS']
+	if ($_table == 'GLOBALS'
+	AND !isset($GLOBALS['GLOBALS']))
+		$GLOBALS['GLOBALS'] = &$GLOBALS;
+
+	if (is_array($GLOBALS[$_table])) {
+		foreach ($GLOBALS[$_table] as $key => $val) {
 			if (is_string($val))
-				$GLOBALS[$table][$key] = stripslashes($val);
+				$GLOBALS[$_table][$key] = stripslashes($val);
 		}
 	}
 }
 
 @set_magic_quotes_runtime(0);
-$unquote_gpc = @get_magic_quotes_gpc();
+if (@get_magic_quotes_gpc()) {
+	magic_unquote('_GET');
+	magic_unquote('_POST');
+	magic_unquote('_COOKIE');
 
-if ($unquote_gpc) {
-	magic_unquote('HTTP_GET_VARS');
-	magic_unquote('HTTP_POST_VARS');
-	magic_unquote('HTTP_COOKIE_VARS');
+	if (@ini_get('register_globals'))
+		magic_unquote('GLOBALS');
 }
 
-//
-// Dirty hack contre le register_globals a 'Off' (PHP 4.1.x)
-// A remplacer par une gestion propre des variables admissibles ;-)
-//
 
-$INSECURE = array();
 
-function feed_globals($table, $insecure = true, $ignore_variables_contexte = false) {
-	global $INSECURE;
+// Dirty hack contre le register_globals a 'Off' (PHP 4.1.x)
+// A remplacer (un jour!) par une gestion propre des variables admissibles ;-)
+// Attention pour compatibilite max $_GET n'est pas superglobale
+// NB: c'est une fonction de maniere a ne pas pourrir $GLOBALS
+function spip_register_globals() {
 
-	// ignorer des cookies qui contiendraient du contexte 
-	$is_contexte = array('id_parent'=>1, 'id_rubrique'=>1, 'id_article'=>1, 'id_auteur'=>1,
-		'id_breve'=>1, 'id_forum'=>1, 'id_secteur'=>1, 'id_syndic'=>1, 'id_syndic_article'=>1,
-		'id_mot'=>1, 'id_groupe'=>1, 'id_document'=>1, 'date'=>1, 'lang'=>1);
+	// Liste des variables dont on refuse qu'elles puissent provenir du client
+	$refuse_gpc = array (
+		# inc-public.php3
+		'fond', 'delais',
 
-	if (is_array($GLOBALS[$table])) {
-        reset($GLOBALS[$table]);
-        while (list($key, $val) = each($GLOBALS[$table])) {
-			if ($ignore_variables_contexte AND isset($is_contexte[$key]))
-				unset ($GLOBALS[$key]);
-			else
-				$GLOBALS[$key] = $val;
-			if ($insecure) $INSECURE[$key] = $val;
-        }
-	}
-}
+		# ecrire/inc_auth.php3
+		'REMOTE_USER',
+		'PHP_AUTH_USER', 'PHP_AUTH_PW',
 
-feed_globals('HTTP_COOKIE_VARS', true, true);
-feed_globals('HTTP_GET_VARS');
-feed_globals('HTTP_POST_VARS');
-feed_globals('HTTP_SERVER_VARS', false);
+		# ecrire/inc_texte.php3
+		'debut_intertitre', 'fin_intertitre', 'ligne_horizontale',
+		'ouvre_ref', 'ferme_ref', 'ouvre_note', 'ferme_note',
+		'les_notes', 'compt_note', 'nombre_surligne',
+		'url_glossaire_externe', 'puce', 'puce_rtl'
+	);
 
+	// Liste des variables (contexte) dont on refuse qu'elles soient cookie
+	// (histoire que personne ne vienne fausser le cache)
+	$refuse_c = array (
+		# inc-calcul.php3
+		'id_parent', 'id_rubrique', 'id_article',
+		'id_auteur', 'id_breve', 'id_forum', 'id_secteur',
+		'id_syndic', 'id_syndic_article', 'id_mot', 'id_groupe',
+		'id_document', 'date', 'lang'
+	);
 
-//
-// Avec register_globals a Off sous PHP4, il faut utiliser
-// la nouvelle variable HTTP_POST_FILES pour les fichiers uploades
-// (pas valable sous PHP3...)
-//
 
-function feed_post_files($table) {
-	global $INSECURE;
-	if (is_array($GLOBALS[$table])) {
-	        reset($GLOBALS[$table]);
-	        while (list($key, $val) = each($GLOBALS[$table])) {
-	                $GLOBALS[$key] = $INSECURE[$key] = $val['tmp_name'];
-	                $GLOBALS[$key.'_name'] = $INSECURE[$key.'_name'] = $val['name'];
-	        }
+	// Si les variables sont passees en global par le serveur, il faut
+	// faire quelques verifications de base
+	if (@ini_get('register_globals')) {
+		foreach ($refuse_gpc as $var) {
+			if (isset($GLOBALS[$var])) {
+				foreach (array('_GET', '_POST', '_COOKIE') as $_table) {
+					if (
+					// demande par le client
+					isset ($GLOBALS[$_table][$var])
+					// et pas modifie par les fichiers d'appel
+					AND $GLOBALS[$_table][$var] == $GLOBALS[$var]
+					) // On ne sait pas si c'est un hack
+					{
+						# REMOTE_USER ou fond, c'est grave ;
+						# pour le reste (cookie 'lang', par exemple), simplement
+						# interdire la mise en cache de la page produite
+						switch ($var) {
+							case 'REMOTE_USER':
+							case 'fond':
+								die ("$var interdite");
+								break;
+							default:
+								define ('spip_interdire_cache', true);
+						}
+					}
+				}
+			}
+		}
+		foreach ($refuse_c as $var) {
+			if (isset($GLOBALS[$var])) {
+				foreach (array('_COOKIE') as $_table) {
+					if (
+					// demande par le client
+					isset ($GLOBALS[$_table][$var])
+					// et pas modifie par les fichiers d'appel
+					AND $GLOBALS[$_table][$var] == $GLOBALS[$var]
+					)
+						define ('spip_interdire_cache', true);
+				}
+			}
+		}
+	}
+
+	// sinon il faut les passer nous-memes, a l'exception des interdites.
+	// (A changer en une liste des variables admissibles...)
+	else {
+		foreach (array('_SERVER', '_COOKIE', '_POST', '_GET') as $_table) {
+			foreach ($GLOBALS[$_table] as $var => $val) {
+				if (!isset($GLOBALS[$var])
+				AND isset($GLOBALS[$_table][$var])
+				AND ($_table == '_SERVER' OR !in_array($var, $refuse_gpc))
+				AND ($_table <> '_COOKIE' OR !in_array($var, $refuse_c)))
+					$GLOBALS[$var] = $val;
+			}
+		}
 	}
 }
+spip_register_globals();
+
+
 
-feed_post_files('HTTP_POST_FILES');
 
 
 //
-// 	*** Parametrage par defaut de SPIP ***
+// *** Parametrage par defaut de SPIP ***
 //
 // Ces parametres d'ordre technique peuvent etre modifies
-// dans FILE_OPTIONS Les valeurs specifiees
-// dans ce dernier fichier remplaceront automatiquement
+// dans ecrire/mes_options.php3 (_FILE_OPTIONS) Les valeurs
+// specifiees dans ce dernier fichier remplaceront automatiquement
 // les valeurs ci-dessous.
 //
-// Pour creer _FILE_OPTIONS : recopier simplement
+// Pour creer ecrire/mes_options.php3 : recopier simplement
 // les lignes ci-dessous, et ajouter le marquage de debut et
 // de fin de fichier PHP ("< ?php" et "? >", sans les espaces)
 //
@@ -225,11 +275,8 @@
 $champs_extra_proposes = false;
 
 // faut-il ignorer l'authentification par auth http/remote_user ?
-// cela permet d'avoir un SPIP sous .htaccess (ignore_remote_user),
-// mais aussi de fonctionner sur des serveurs debiles se
-// bloquant sur PHP_AUTH_USER=root (ignore_auth_http)
 $ignore_auth_http = false;
-$ignore_remote_user = false;
+$ignore_remote_user = true; # methode obsolete et risquee
 
 // Faut-il "invalider" les caches quand on depublie ou modifie un article ?
 // (experimental)
@@ -276,12 +323,18 @@
 @umask(0);
 
 //
-// D?finition des repertoires standards, _FILE_OPTIONS ayant priorite
+// Definition des repertoires standards, _FILE_OPTIONS ayant priorite
 //
 
 if (@file_exists(_FILE_OPTIONS)) {
   include(_FILE_OPTIONS);
- }
+}
+
+// la taille maxi des logos (0 : pas de limite)
+define_once('_LOGO_MAX_SIZE', 0); # poids en ko
+define_once('_LOGO_MAX_WIDTH', 0); # largeur en pixels
+define_once('_LOGO_MAX_HEIGHT', 0); # hauteur en pixels
+
 
 define_once('_DIR_INCLUDE', _DIR_RESTREINT);
 define_once('_DIR_PREFIX1', (_DIR_RESTREINT ? "" : "../"));
@@ -341,21 +394,16 @@
 define_once('_ACCESS_FILE_NAME', '.htaccess');
 define_once('_AUTH_USER_FILE', '.htpasswd');
 
-# obsoletes: utiliser les constantes ci-dessus.
-# Conserver pour compatibit? vieilles contrib uniquement
-
-$flag_ecrire = !@file_exists(_DIR_RESTREINT_ABS . 'inc_version.php3');
-$dir_ecrire = (ereg("/ecrire/", $GLOBALS['REQUEST_URI'])) ? '' : 'ecrire/';
 
 // Version courante de SPIP
 // Stockee sous forme de nombre decimal afin de faciliter les comparaisons
 // (utilise pour les modifs de la base de donnees)
 
 // version de la base
-$spip_version = 1.809;
+$spip_version = 1.812;
 
 // version de spip
-$spip_version_affichee = "1.8 beta 2 CVS";
+$spip_version_affichee = "1.8 PR1 CVS";
 
 // version de spip / tag cvs
 if (ereg('Name: v(.*) ','$Name$', $regs)) $spip_version_affichee = $regs[1];
@@ -368,28 +416,18 @@
 $hash_recherche_strict = '';
 
 
+
 //
-// Infos de version PHP
-// (doit etre au moins egale a 3.0.8)
+// Capacites php (en fonction de la version)
 //
 
-$php_version = phpversion();
-$php_version_tab = explode('.', $php_version);
-$php_version_maj = intval($php_version_tab[0]);
-$php_version_med = intval($php_version_tab[1]);
-if (ereg('([0-9]+)', $php_version_tab[2], $match)) $php_version_min = intval($match[1]);
-
-$flag_levenshtein = ($php_version_maj >= 4);
-$flag_uniqid2 = ($php_version_maj > 3 OR $php_version_min >= 13);
 $flag_get_cfg_var = (@get_cfg_var('error_reporting') != "");
-$flag_strtr2 = ($php_version_maj > 3);
-
 $flag_ini_get = (function_exists("ini_get")
 	&& (@ini_get('max_execution_time') > 0));	// verifier pas desactivee
 $flag_gz = function_exists("gzencode"); #php 4.0.4
 $flag_ob = ($flag_ini_get
 	&& !ereg("ob_", ini_get('disable_functions'))
-	&& function_exists("ob_start"));
+	&& function_exists("ob_start")); 
 $flag_pcre = function_exists("preg_replace");
 $flag_crypt = function_exists("crypt");
 $flag_wordwrap = function_exists("wordwrap");
@@ -430,19 +468,18 @@
 	else
 		@setcookie ($name, $value);
 }
+
 if ($cookie_prefix != 'spip') {
-	reset ($HTTP_COOKIE_VARS);
-	while (list($name,$value) = each($HTTP_COOKIE_VARS)) {
+	foreach ($_COOKIE as $name => $value) {
 		if (ereg('^spip_', $name)) {
-			unset($HTTP_COOKIE_VARS[$name]);
+			unset($_COOKIE[$name]);
 			unset($$name);
 		}
 	}
-	reset ($HTTP_COOKIE_VARS);
-	while (list($name,$value) = each($HTTP_COOKIE_VARS)) {
+	foreach ($_COOKIE as $name => $value) {
 		if (ereg('^'.$cookie_prefix.'_', $name)) {
 			$spipname = ereg_replace ('^'.$cookie_prefix.'_', 'spip_', $name);
-			$HTTP_COOKIE_VARS[$spipname] = $INSECURE[$spipname] = $value;
+			$_COOKIE[$spipname] = $INSECURE[$spipname] = $value;
 			$$spipname = $value;
 		}
 	}
@@ -452,7 +489,7 @@
 //
 // Sommes-nous dans l'empire du Mal ?
 //
-if (strpos($HTTP_SERVER_VARS['SERVER_SOFTWARE'], '(Win') !== false)
+if (strpos($_SERVER['SERVER_SOFTWARE'], '(Win') !== false)
 	define ('os_serveur', 'windows');
 
 
@@ -498,7 +535,7 @@
 // Compatibilite avec serveurs ne fournissant pas $REQUEST_URI
 if (!$REQUEST_URI) {
 	$REQUEST_URI = $PHP_SELF;
-	if (!strpos($REQUEST_URI, '?') && $QUERY_STRING)
+	if ($QUERY_STRING AND !strpos($REQUEST_URI, '?'))
 		$REQUEST_URI .= '?'.$QUERY_STRING;
 }
 
@@ -507,15 +544,34 @@
 	else if ($DOCUMENT_ROOT && $SCRIPT_URL) $PATH_TRANSLATED = $DOCUMENT_ROOT.$SCRIPT_URL;
 }
 
+# obsoletes: utiliser les constantes ci-dessus.
+# Conserver pour compatibilite vieilles contrib uniquement
+$flag_ecrire = !@file_exists(_DIR_RESTREINT_ABS . 'inc_version.php3');
+$dir_ecrire = (ereg("/ecrire/", $GLOBALS['REQUEST_URI'])) ? '' : 'ecrire/';
+
+// API d'appel a la base de donnees
 function spip_query($query) {
-	if (!_FILE_CONNECT)  {$GLOBALS['db_ok'] = false; return;}
-	include_local(_FILE_CONNECT);
-	if (!$GLOBALS['db_ok'])	return;
+
+	// Remarque : si on est appele par l'install,
+	// la connexion initiale a ete faite avant
+	if (!$GLOBALS['db_ok']) {
+		// Essaie de se connecter
+		if (_FILE_CONNECT)
+			include_local(_FILE_CONNECT);
+	}
+
+	// Erreur de connexion
+	if (!$GLOBALS['db_ok'])
+		return;
+
+	// Vieux format de fichier connexion
 	if ($GLOBALS['spip_connect_version'] < 0.1) {
 		if (!_DIR_RESTREINT) {$GLOBALS['db_ok'] = false; return;}
 		@Header("Location: upgrade.php3?reinstall=oui");
 		exit;
 	}
+
+	// Faire la requete
 	return spip_query_db($query);
 }
 
@@ -595,6 +651,7 @@
 		403 => '403 Forbidden',
 		404 => '404 Not Found'
 	);
+
 	if ($php_cgi) Header("Status: $status");
 	else Header("HTTP/1.0 ".$status_string[$status]);
 }
@@ -633,7 +690,7 @@
 	return
 	$GLOBALS['auto_compress']
 	&& $GLOBALS['flag_ob']
-	&& ($php_version<>'4.0.4')
+	&& (phpversion()<>'4.0.4')
 	&& function_exists("ob_gzhandler")
 	&& $GLOBALS['flag_obgz']
 	// special bug de proxy
@@ -648,7 +705,7 @@
 	&& !@ini_get("output_handler");
 }
 // si un buffer est deja ouvert, stop
-if ($flag_ob AND !strlen(@ob_get_contents())) {
+if ($flag_ob AND !headers_sent()) {
 	@header("Vary: Cookie, Accept-Encoding");
 	if (test_obgz())
 		ob_start('ob_gzhandler');
@@ -665,6 +722,7 @@
 	// soit sans parametres, auquel cas l'URL est l'URL courante
 	//
 	function Link($url = '', $reentrant = false) {
+		global $_POST;
 		static $link = '';
 
 		$this->vars = array();
@@ -699,7 +757,7 @@
 		// ou l'on supprime de l'URL courant les bidules inutiles
 		if (!$url) {
 			// GET variables are read from the original URL
-			// (HTTP_GET_VARS may contain additional variables
+			// (_GET may contain additional variables
 			// introduced by rewrite-rules)
 			$url = $GLOBALS['REQUEST_URI'];
 			// Warning !!!! 
@@ -712,9 +770,9 @@
 			else $v = strrpos($url, '/');
 			$url = substr($url, $v + 1);
 			if (!$url) $url = "./";
-			if (count($GLOBALS['HTTP_POST_VARS'])) {
+			if (count($_POST)) {
 				$vars = array();
-				foreach ($GLOBALS['HTTP_POST_VARS'] as $var => $val)
+				foreach ($_POST as $var => $val)
 					if (preg_match('/^id_/', $var))
 						$vars[$var] = $val;
 			}
@@ -739,7 +797,7 @@
 				if (!preg_match('/^('.
 				(!_DIR_RESTREINT ?
 					'|lang|set_options|set_couleur|set_disp|set_ecran':
-					'var_mode')
+					'var_mode|show_docs')
 				. ')$/i', $name)) {
 					if (is_array($value))
 						$this->arrays[$name] = $value;
@@ -878,10 +936,9 @@
 //
 // Traduction des textes de SPIP
 //
-function _T($text, $args = '') {
+function _T($texte, $args = '') {
 	include_ecrire('inc_lang.php3');
-	$text = traduire_chaine($text, $args);
-
+	$text = traduire_chaine($texte, $args);
 	if (!empty($GLOBALS['xhtml'])) {
 		include_ecrire("inc_charsets.php3");
 		$text = html2unicode($text);
@@ -929,26 +986,47 @@
 }
 
 
+// spip_touch : verifie si un fichier existe et n'est pas vieux (duree en s)
+// et le cas echeant le touch() ; renvoie true si la condition est verifiee
+// et fait touch() sauf si ca n'est pas souhaite
+// (regle aussi le probleme des droits sur les fichiers touch())
+function spip_touch($fichier, $duree=0, $touch=true) {
+	if (!($exists = @file_exists($fichier))
+	|| ($duree == 0)
+	|| (@filemtime($fichier) < time() - $duree)) {
+		if ($touch) {
+			if (!@touch($fichier)) { @unlink($fichier); @touch($fichier); };
+			if (!$exists) @chmod($fichier, 0666);
+		}
+		return true;
+	}
+	return false;
+}
+
 //
-// cron : verifie qu'il s'est ecoule $delai sec au moins et lance le cron
-// Note : ici on met 2 secondes par defaut entre les hits, mais
-// spip_background.php3 est plus gourmand (1 sec)... chiffres a optimiser
-// si on utilise spip_background.php3 de maniere plus complete
+// cron() : execution des taches de fond
+// quand il est appele par spip_background.php3, il est gourmand ;
+// quand il est appele par inc-public il n'est pas gourmand
 //
-function cron($delai = 2) {
-	if (!$_REQUEST['forcer']) {
-		$touch = _DIR_SESSIONS.'.background';
-		if (!($exists = @file_exists($touch))
-		OR (@filemtime($touch) < time() - $delai)) {
-			touch($touch);
-			if (!$exists) chmod($touch, 0666);
+function cron($gourmand = false) {
+	$touch = _DIR_SESSIONS.'.background';
+	$touch_gourmand = $touch.'-gourmand';
 
-		include_ecrire('inc_cron.php3');
-		spip_cron();
+	// Si on est gourmand, ou si le fichier gourmand n'existe pas
+	// (ou est trop vieux), on va voir si un cron est necessaire.
+	// Au passage si on est gourmand on le dit aux autres
+	if (spip_touch($touch_gourmand, 60, $gourmand)
+	OR $gourmand) {
+
+		// Faut-il travailler ? Pas tous en meme temps svp
+		// Au passage si on travaille on bloque les autres
+		if (spip_touch($touch, 1)) {
+			include_ecrire('inc_cron.php3');
+			spip_cron();
+		}
 	}
 }
 
-}
 
 //
 // qq  fonctions service pour les 2 niveaux
@@ -1010,10 +1088,13 @@
 }
 
 function debut_entete($title, $entete='') {
-	if (!$entete) {
-		if (!$charset = lire_meta('charset')) $charset = 'utf-8';
+	global $flag_preserver;
+
+	if (!$charset = lire_meta('charset'))
+		$charset = 'utf-8';
+	if (!$entete)
 		$entete = "Content-Type: text/html; charset=$charset";
-	}
+
 	if (!$flag_preserver) @header($entete);
 	return "<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN' 'http://www.w3.org/TR/html4/loose.dtd'>\n" .
 	  "<html lang='".$GLOBALS['spip_lang']."' dir='".($GLOBALS['spip_lang_rtl'] ? 'rtl' : 'ltr')."'>\n" .
@@ -1021,6 +1102,73 @@
 #	  "<base href='$base' />\n" .
 	  "<title>$title</title>\n" .
 	  "<meta http-equiv='Content-Type' content='text/html; charset=$charset' />\n";
+}
+
+
+// Transforme n'importe quel champ en une chaine utilisable
+// en PHP ou Javascript en toute securite
+// < ? php $x = '[(#TEXTE|texte_script)]'; ? >
+function texte_script($texte) {
+	return str_replace('\'', '\\\'', str_replace('\\', '\\\\', $texte));
+}
+
+//
+// find_in_path() : chercher un fichier nomme x selon le chemin rep1:rep2:rep3
+//
+define_once('_SPIP_PATH', './:squelettes/:dist/:formulaires/');
+function find_in_path ($filename, $path='AUTO') {
+	// Chemin standard depuis l'espace public
+
+	if ($path == 'AUTO') {
+		$path = _SPIP_PATH;
+		if ($GLOBALS['dossier_squelettes'])
+			$path = $GLOBALS['dossier_squelettes'].'/:'.$path;
+	}
+
+	// Depuis l'espace prive, remonter d'un cran 
+	$racine = (_DIR_RESTREINT ? '' : '../');
+
+	// Parcourir le chemin
+	foreach (split(':', $path) as $dir) {
+		if (substr($dir, 0,1)<>'/')
+			$f = "$racine$dir$filename";
+		else
+			$f = "$dir$filename";
+
+		if (@is_readable($f)) {
+			return $f;
+		}
+	}
+#	spip_log("find_in_path: pas de fichier '$filename' sur le chemin '$path'");
+}
+
+
+//
+// Que faire si Spip n'est pas installe... sauf si justement on l'installe!
+//
+if (!(_FILE_CONNECT
+OR defined('_ECRIRE_INSTALL')
+OR defined('_TEST_DIRS')
+OR defined('_ECRIRE_AIDE'))) {
+	// Soit on est dans ecrire/ et on envoie sur l'installation
+	if (@file_exists("inc_version.php3")) {
+		header("Location: " . _DIR_RESTREINT . "install.php3");
+		exit;
+	}
+	// Soit on est dans le site public
+	else if (defined("_INC_PUBLIC")) {
+		# on ne peut pas deviner ces repertoires avant l'installation !
+		define('_DIR_INCLUDE', _DIR_RESTREINT);
+		define('_DIR_IMG_PACK', (_DIR_RESTREINT . 'img_pack/'));
+		define('_DIR_LANG', (_DIR_RESTREINT . 'lang/'));
+		$db_ok = false;
+		include_ecrire ("inc_presentation.php3");
+		install_debut_html(_T('info_travaux_titre'));
+		echo "<p>"._T('info_travaux_texte')."</p>";
+		install_fin_html();
+		exit;
+	}
+	// Soit on est appele de l'exterieur (spikini, etc)
 }
 
 ?>

Index: inc_lang.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_lang.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_lang.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_lang.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,90 +1,79 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_LANG")) return;
 define("_ECRIRE_INC_LANG", "1");
 
-//
-// Ecrire un fichier cache langue
-//
-function ecrire_cache_lang($lang, $module) {
-	include_ecrire('inc_filtres.php3');
-
-	$contenu = "<"."?php\n\n// Ceci est le CACHE d'un fichier langue spip\n\n";
-	if (is_array($cache = $GLOBALS['cache_lang'][$lang])) {
-		$contenu .= "\$GLOBALS[\$GLOBALS['idx_lang']] = array(\n";
-		$texte = '';
-		ksort($cache);
-		reset($cache);
-		while (list($code, ) = each($cache))
-			$texte .= ",\n\t'".$code."' => '".texte_script($GLOBALS['i18n_'.$module.'_'.$lang][$code])."'";
-		$contenu .= substr($texte,2)."\n);\n\n";
-		$contenu .= "\$GLOBALS['cache_lang']['$lang'] = array(\n";
-		$texte = '';
-		reset($cache);
-		while (list($code, ) = each($cache))
-			$texte .= ",\n\t'".$code."' => 1";
-		$contenu .= substr($texte,2)."\n);\n\n";
-	}
-	$contenu .= "\n\n?".">\n";
-
-	ecrire_fichier (_DIR_CACHE . 'lang_'.$module.'_'.$lang.'.php3', $contenu);
-}
-
-function ecrire_caches_langues() {
-	global $cache_lang_modifs;
-	reset($cache_lang_modifs);
-	while(list($module,$cache_module) = each($cache_lang_modifs))
-		while(list($lang, ) = each($cache_module))
-			ecrire_cache_lang($lang, $module);
-}
 
 //
 // Charger un fichier langue
 //
-function charger_langue($lang, $module = 'spip', $forcer = false) {
+
+function charger_langue($lang, $module = 'spip') {
 
 	$fichier_lang = $module.'_'.$lang.'.php3';
 	$fichier_lang_exists = @is_readable(_DIR_LANG . $fichier_lang);
 
-	if (_DIR_RESTREINT AND _FILE_CONNECT AND $fichier_lang_exists) {
-	  $fichier_cache = _DIR_CACHE . 'lang_'.$module.'_'.$lang.'.php3';
-	  $fichier_cache_time = @is_readable($fichier_cache) ? @filemtime($fichier_cache) : false;
-
-	  if (!$forcer AND $fichier_cache_time
-		AND ($fichier_cache_time > @filemtime(_DIR_LANG .$module.'_'.$lang.'.php3'))
-		AND ($fichier_cache_time > @filemtime(_DIR_LANG . 'perso.php3'))) {
-			$GLOBALS['idx_lang'] = 'i18n_'.$module.'_'.$lang;
-			if (lire_fichier($fichier_cache,	$contenu, array('phpcheck' => 'oui'))) {
-				eval ('?'.'>'.$contenu);
-				return;
-			}
-	  }
-		else $GLOBALS['cache_lang_modifs'][$module][$lang] = true;
-	}
-
 	if ($fichier_lang_exists) {
 		$GLOBALS['idx_lang']='i18n_'.$module.'_'.$lang;
 		include_lang($fichier_lang);
 	} else {
 		// si le fichier de langue du module n'existe pas, on se rabat sur
-		// le francais, qui *par definition* doit exister, et on copie le
-		// tableau 'fr' dans la var liee a la langue
-		$fichier_lang = $module.'_fr.php3';
-		if (@is_readable(_DIR_LANG . $fichier_lang)) {
-			$GLOBALS['idx_lang']='i18n_'.$module.'_fr';
+		// la langue par defaut du site -- et au pire sur le francais, qui
+		// *par definition* doit exister, et on copie le tableau dans la
+		// var liee a la langue
+		$l = lire_meta('langue_site');
+		if (!is_readable(_DIR_LANG . $module.'_'.$l.'.php3'))
+			$l = 'fr';
+		$fichier_lang = $module.'_' .$l. '.php3';
+		if (is_readable(_DIR_LANG . $fichier_lang)) {
+			$GLOBALS['idx_lang']='i18n_'.$module.'_' .$l;
 			include_lang($fichier_lang);
+			$GLOBALS['i18n_'.$module.'_'.$lang]
+				= &$GLOBALS['i18n_'.$module.'_'.$l];
+			spip_log("module de langue : ${module}_$l.php3");
 		}
-		$GLOBALS['i18n_'.$module.'_'.$lang] = $GLOBALS['i18n_'.$module.'_fr'];
 	}
 
-	// surcharge perso
-	if (@is_readable(_DIR_LANG .'perso.php3')) {
-		include_lang('perso.php3');
-	}
+	// surcharge perso -- on cherche le fichier local(_xx).php3 dans le chemin
+	if ($f = (find_in_path('local.php3')))
+		surcharger_langue($f);
+	if ($f = (find_in_path('local_'.$lang.'.php3')))
+		surcharger_langue($f);
+	// compatibilite ascendante : chercher aussi local_xx.php3 dans ecrire/lang/
+	else if (@is_readable($f = _DIR_LANG . 'local_'.$lang.'.php3'))
+		surcharger_langue($f);
+}
+
+//
+// Surcharger le fichier de langue courant avec un autre (tordu, hein...)
+//
+function surcharger_langue($f) {
+	$idx_lang_normal = $GLOBALS['idx_lang'];
+	$GLOBALS['idx_lang'] .= '_temporaire';
+	include($f);
 
+	if (is_array($GLOBALS[$GLOBALS['idx_lang']]))
+		foreach ($GLOBALS[$GLOBALS['idx_lang']] as $var => $val)
+			$GLOBALS[$idx_lang_normal][$var] = $val;
+
+	unset ($GLOBALS[$GLOBALS['idx_lang']]);
+	$GLOBALS['idx_lang'] = $idx_lang_normal;
 }
 
+
+
 //
 // Changer la langue courante
 //
@@ -112,9 +101,9 @@
 // Regler la langue courante selon les infos envoyees par le brouteur
 //
 function regler_langue_navigateur() {
-	global $HTTP_SERVER_VARS, $HTTP_COOKIE_VARS;
+	global $_SERVER, $_COOKIE;
 
-	$accept_langs = explode(',', $HTTP_SERVER_VARS['HTTP_ACCEPT_LANGUAGE']);
+	$accept_langs = explode(',', $_SERVER['HTTP_ACCEPT_LANGUAGE']);
 	if (is_array($accept_langs)) {
 		while(list(, $s) = each($accept_langs)) {
 			if (eregi('^([a-z]{2,3})(-[a-z]{2,3})?(;q=[0-9.]+)?$', trim($s), $r)) {
@@ -132,10 +121,14 @@
 //
 function traduire_chaine($code, $args) {
 	global $spip_lang;
-	global $cache_lang;
 
-	// liste des modules a parcourir
-	$modules = array('spip');
+	// modules par defaut
+	if (_DIR_RESTREINT)
+		$modules = array('spip');
+	else
+		$modules = array('spip', 'ecrire');
+
+	// modules demandes explicitement
 	if (strpos($code, ':')) {
 		if (ereg("^([a-z/]+):(.*)$", $code, $regs)) {
 			$modules = explode("/",$regs[1]);
@@ -143,17 +136,12 @@
 		}
 	}
 
-	$text = '';
 	// parcourir tous les modules jusqu'a ce qu'on trouve
+	$text = '';
 	while (!$text AND (list(,$module) = each ($modules))) {
 		$var = "i18n_".$module."_".$spip_lang;
-		if (empty($GLOBALS[$var])) charger_langue($spip_lang, $module);
-		if (_DIR_RESTREINT) {
-			if (!isset($GLOBALS[$var][$code]))
-				charger_langue($spip_lang, $module, $code);
-			if (isset($GLOBALS[$var][$code]))
-				$cache_lang[$spip_lang][$code] = 1;
-		}
+		if (empty($GLOBALS[$var]))
+			charger_langue($spip_lang, $module);
 		$text = $GLOBALS[$var][$code];
 	}
 
@@ -177,6 +165,7 @@
 
 
 function traduire_nom_langue($lang) {
+	init_codes_langues();
 	$r = $GLOBALS['codes_langues'][$lang];
 	if (!$r) $r = $lang;
 
@@ -299,6 +288,7 @@
 	'pl' => "polski",
 	'ps' => "Pashto, Pushto",
 	'pt' => "Portugu&#234;s",
+	'pt_br' => "Portugu&#234;s do Brasil",
 	'qu' => "Quechua",
 	'rm' => "Rhaeto-Romance",
 	'rn' => "Kirundi",
@@ -430,7 +420,12 @@
 		$cible = '';
 	} else {
 		$site = lire_meta("adresse_site");
-		if (!$site) $site = '..';
+		if (!$site)
+			if (_DIR_RESTREINT)
+				$site = '.';
+			else
+				$site = '..';
+
 		if (!_DIR_RESTREINT) {
 			include_ecrire('inc_admin.php3');
 			$cible = _DIR_RESTREINT_ABS . $lien->getUrl();
@@ -493,13 +488,16 @@
 // si necessaire vers l'URL xxxx?lang=ll
 //
 function verifier_lang_url() {
-	global $HTTP_GET_VARS, $HTTP_COOKIE_VARS, $spip_lang, $clean_link;
+	global $_GET, $_COOKIE, $spip_lang, $clean_link;
 
 	// quelle langue est demandee ?
 	$lang_demandee = lire_meta('langue_site');
-	if ($HTTP_COOKIE_VARS['spip_lang_ecrire']) $lang_demandee = $HTTP_COOKIE_VARS['spip_lang_ecrire'];
-	if ($HTTP_COOKIE_VARS['spip_lang']) $lang_demandee = $HTTP_COOKIE_VARS['spip_lang'];
-	if ($HTTP_GET_VARS['lang']) $lang_demandee = $HTTP_GET_VARS['lang'];
+	if ($_COOKIE['spip_lang_ecrire'])
+		$lang_demandee = $_COOKIE['spip_lang_ecrire'];
+	if ($_COOKIE['spip_lang'])
+		$lang_demandee = $_COOKIE['spip_lang'];
+	if ($_GET['lang'])
+		$lang_demandee = $_GET['lang'];
 
 	// Verifier que la langue demandee existe
 	include_ecrire('inc_lang.php3');
@@ -507,8 +505,8 @@
 	$lang_demandee = $spip_lang;
 
 	// Renvoyer si besoin
-	if (!($HTTP_GET_VARS['lang']<>'' AND $lang_demandee == $HTTP_GET_VARS['lang'])
-	AND !($HTTP_GET_VARS['lang']=='' AND $lang_demandee == lire_meta('langue_site')))
+	if (!($_GET['lang']<>'' AND $lang_demandee == $_GET['lang'])
+	AND !($_GET['lang']=='' AND $lang_demandee == lire_meta('langue_site')))
 	{
 		$destination = new Link;
 		$destination->addvar('lang', $lang_demandee);
@@ -520,7 +518,7 @@
 	// Subtilite : si la langue demandee par cookie est la bonne
 	// alors on fait comme si $lang etait passee dans l'URL
 	// (pour criteres {lang}).
-	$GLOBALS['lang'] = $GLOBALS['HTTP_GET_VARS']['lang'] = $spip_lang;
+	$GLOBALS['lang'] = $_GET['lang'] = $spip_lang;
 }
 
 
@@ -532,7 +530,7 @@
 }
 
 function utiliser_langue_visiteur() {
-	global $HTTP_COOKIE_VARS;
+	global $_COOKIE;
 
 	if (!regler_langue_navigateur())
 		utiliser_langue_site();
@@ -541,22 +539,20 @@
 		changer_langue($GLOBALS['auteur_session']['lang']);
 
 	$cookie_lang = (_DIR_RESTREINT  ? 'spip_lang' : 'spip_lang_ecrire');
-	if (!empty($HTTP_COOKIE_VARS[$cookie_lang]))
+	if (!empty($_COOKIE[$cookie_lang]))
 
-		changer_langue($HTTP_COOKIE_VARS[$cookie_lang]);
+		changer_langue($_COOKIE[$cookie_lang]);
 }
 
 //
 // Initialisation
 //
 function init_langues() {
-	global $all_langs, $langue_site, $cache_lang, $cache_lang_modifs;
+	global $all_langs, $langue_site;
 	global $pile_langues, $lang_typo, $lang_dir;
 
 	$all_langs = lire_meta('langues_proposees');
 	$langue_site = lire_meta('langue_site');
-	$cache_lang = array();
-	$cache_lang_modifs = array();
 	$pile_langues = array();
 	$lang_typo = '';
 	$lang_dir = '';
@@ -588,7 +584,6 @@
 			}
 		}
 	}
-	init_codes_langues();
 }
 
 init_langues();

Index: unpack.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/unpack.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- unpack.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ unpack.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 
 

Index: sites_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/sites_edit.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- sites_edit.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ sites_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_sites.php3");
@@ -115,11 +126,12 @@
 if ($row = spip_fetch_array($result)) {
 	$id_syndic = $row["id_syndic"];
 	$id_rubrique = $row["id_rubrique"];
-	$nom_site = stripslashes($row["nom_site"]);
-	$url_site = stripslashes($row["url_site"]);
-	$url_syndic = stripslashes($row["url_syndic"]);
-	$descriptif = stripslashes($row["descriptif"]);
+	$nom_site = $row["nom_site"];
+	$url_site = $row["url_site"];
+	$url_syndic = $row["url_syndic"];
+	$descriptif = $row["descriptif"];
 	$syndication = $row["syndication"];
+	$extra=$row["extra"];
 }
 else {
 	$syndication = 'non';
@@ -269,6 +281,13 @@
 	echo "<INPUT TYPE='Hidden' NAME='syndication' VALUE=\"$syndication\">";
 	echo "<INPUT TYPE='hidden' NAME='url_syndic' VALUE=\"$url_syndic\"";
 }
+
+
+if ($champs_extra) {
+		include_ecrire("inc_extra.php3");
+		extra_saisie($extra, 'sites', $id_secteur);
+	}
+
 
 echo "<div ALIGN='right'><INPUT TYPE='submit' NAME='Valider' VALUE='"._T('bouton_valider')."' CLASS='fondo'></div>";
 echo "</FORM>";

Index: inc_extra.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_extra.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_extra.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_extra.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,13 +1,24 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 
 ////////////////////////////////////////////////////////////////////////////////////
 // Pour utiliser les champs "extra", il faut installer dans le fichier
 // ecrire/mes_options.php3 un tableau definissant les champs en question,
 // pour chaque type d'objet (article, rubrique, breve, auteur ou mot) que
 // l'on veut ainsi etendre ; utiliser dans l'espace public avec
-// [(#EXTRA|extra{"nom_du_champ"})]
-
+// [(#EXTRA|nom_du_champ)]
+// Exemples :
 
 /*
 
@@ -17,41 +28,56 @@
 
 $GLOBALS['champs_extra'] = Array (
 	'auteurs' => Array (
-			"sexe" => "ligne|brut",
+			"alim" => "radio|brut|Pr&eacute;f&eacute;rences alimentaires|Veggie,Viande",
+			"habitation" => "liste|brut|Lieu|Kuala Lumpur,Cape Town,Uppsala",
+			"ml" => "case|propre|Je souhaite m'abonner &agrave; la mailinglist",
 			"age" => "ligne|propre|&Acirc;ge du capitaine",
 			"biblio" => "bloc|propre|Bibliographie"
 		),
 
 	'articles' => Array (
-			"isbn" => "ligne|typo|ISBN"
+			"isbn" => "ligne|typo|ISBN",
+			 "options" => "multiple|brut|Options de cet article|1,2,3,plus"
+
+			 
 		)
 	);
+
+// Note : pour les listes et les radios on peut preciser les valeurs des labels 
+//  Exemples
+//  "habitation" => "liste|brut|Lieu|San Diego,Suresnes|diego,suresnes",
+
+
 */
 
 
 /*
 
-// On peut optionnellement vouloir affiner les extras :
+// On peut optionnellement vouloir restreindre la portee des extras :
 // - pour les articles/rubriques/breves en fonction du secteur ;
 // - pour les auteurs en fonction du statut
 // - pour les mots-cles en fonction du groupe de mots
+// Exemples :
 
 $GLOBALS['champs_extra_proposes'] = Array (
 	'auteurs' => Array (
 		// tous : par defaut
-		'tous' =>  'age|sexe',
-		// une biblio pour les admin (statut='0minirezo')
-		'0minirezo' => 'age|sexe|biblio'
+		'tous' =>  'age|alim|ml',
+		// les admins (statut='0minirezo') ont plus de champs que les auteurs 
+		'0minirezo' => 'age|alim|ml|biblio|habitation'
 		),
 
 	'articles' => Array (
-		// tous : par defaut
+		// tous : par defaut aucun champs extra sur les articles
 		'tous' => '',
-		// 1 : id_secteur=1;
-		1 => 'isbn'
+		// seul le champs extra "isbn" est propos? dans le secteur 1)
+		'1' => 'isbn',
+		// Dans le secteur 2 le champs "options" est propos?)
+		'2' => 'options'
 		)
 	);
 
+
 */
 
 ////////////////////////////////////////////////////////////////////////////////////
@@ -100,18 +126,102 @@
 	reset($champs_proposes);
 	while (list(, $champ) = each($champs_proposes)) {
 		$desc = $champs[$champ];
-		list($form, $filtre, $prettyname) = explode("|", $desc);
+		list($form, $filtre, $prettyname, $choix, $valeurs) = explode("|", $desc);
 
 		if (!$prettyname) $prettyname = ucfirst($champ);
 		$affiche .= "<b>$prettyname&nbsp;:</b><br />";
+
 		switch($form) {
+
+			case "case":
+			case "checkbox":
+				$affiche = ereg_replace("<br />$", "&nbsp;", $affiche);
+				$affiche .= "<INPUT TYPE='checkbox' NAME='suppl_$champ'";
+				if ($extra[$champ] == 'true')
+					$affiche .= " CHECKED ";
+				break;
+
+			case "list":
+			case "liste":
+			case "select":
+				$choix = explode(",",$choix);
+				if (!is_array($choix)) {
+					$affiche .= "Pas de choix d&eacute;finis.\n";
+					break;
+				}
+
+				// prendre en compte les valeurs des champs
+				// si elles sont renseignees
+				$valeurs = explode(",",$valeurs);
+				if($valeurs == explode(",",""))
+					$valeurs = $choix ;
+
+				$affiche .= "<SELECT NAME='suppl_$champ' ";
+				$affiche .= "CLASS='forml'>\n";
+				$i = 0 ;
+				while (list(, $choix_) = each($choix)) {
+					$val = $valeurs[$i] ;
+					$affiche .= "<OPTION VALUE=\"$val\"";
+					if ($val == entites_html($extra[$champ]))
+						$affiche .= " SELECTED";
+					$affiche .= ">$choix_</OPTION>\n";
+					$i++;
+				}
+				$affiche .= "</SELECT>";
+				break;
+
+			case "radio":
+				$choix = explode(",",$choix);
+				if (!is_array($choix)) {
+					$affiche .= "Pas de choix d&eacute;finis.\n";
+					break;
+				}
+				$valeurs = explode(",",$valeurs);
+				if($valeurs == explode(",",""))
+					$valeurs = $choix ;
+
+				$i=0;
+				while (list(, $choix_) = each($choix)) {
+					$affiche .= "<INPUT TYPE='radio' NAME='suppl_$champ' ";
+					$val = $valeurs[$i] ;
+					if (entites_html($extra["$champ"])== $val)
+						$affiche .= " CHECKED";
+
+					// premiere valeur par defaut
+					if (!$extra["$champ"] AND $i == 0)
+						$affiche .= " CHECKED";
+
+					$affiche .= " VALUE='$val'>$choix_</INPUT>\n";
+					$i++;
+				}
+				break;
+
+			// A refaire car on a pas besoin de renvoyer comme pour checkbox
+			// les cases non cochees
+			case "multiple":
+				$choix = explode(",",$choix);
+				if (!is_array($choix)) {
+					$affiche .= "Pas de choix d&eacute;finis.\n";
+					break; }
+				for ($i=0; $i < count($choix); $i++) {
+					$affiche .= "<INPUT TYPE='checkbox' NAME='suppl_$champ$i'";
+					if (entites_html($extra["$champ"][$i])=="on")
+						$affiche .= " CHECKED";
+					$affiche .= ">\n";
+					$affiche .= $choix[$i];
+					$affiche .= "</INPUT>\n";
+				}
+				break;
+
 			case "bloc":
 			case "block":
 				$affiche .= "<TEXTAREA NAME='suppl_$champ' CLASS='forml' ROWS='5' COLS='40'>".entites_html($extra[$champ])."</TEXTAREA>\n";
 				break;
+
 			case "masque":
 				$affiche .= "<font color='#555555'>".interdire_scripts($extra[$champ])."</font>\n";
 				break;
+
 			case "ligne":
 			case "line":
 			default:
@@ -135,8 +245,36 @@
 	$champs = $GLOBALS['champs_extra'][$type];
 	if (is_array($champs)) {
 		$extra = Array();
-		while(list($champ,)=each($champs))
-			$extra[$champ]=$GLOBALS["suppl_$champ"];
+		while(list($champ,)=each($champs)) {
+			list($style, $filtre, , $choix,) = explode("|", $GLOBALS['champs_extra'][$type][$champ]);
+			list(, $filtre) = explode(",", $filtre);
+			switch ($style) {
+			case "multiple":
+				$choix =  explode(",", $choix);
+				$extra["$champ"] = array();
+				for ($i=0; $i < count($choix); $i++) {
+					if ($filtre && function_exists($filtre))
+						 $extra["$champ"][$i] =
+						 	$filtre($GLOBALS["suppl_$champ$i"]);
+					else
+						$extra["$champ"][$i] = $GLOBALS["suppl_$champ$i"];
+				}
+				break;
+
+			case 'case':
+			case 'checkbox':
+				if ($GLOBALS["suppl_$champ"] == 'on')
+					$GLOBALS["suppl_$champ"] = 'true';
+				else
+					$GLOBALS["suppl_$champ"] = 'false';
+
+			default:
+				if ($filtre && function_exists($filtre))
+				$extra["$champ"]=$filtre($GLOBALS["suppl_$champ"]);
+				else $extra["$champ"]=$GLOBALS["suppl_$champ"];
+				break;
+			}
+		}
 		return serialize($extra);
 	} else
 		return '';
@@ -145,8 +283,21 @@
 // Retourne la liste des filtres a appliquer pour un champ extra particulier
 function extra_filtres($type, $nom_champ) {
 	$champ = $GLOBALS['champs_extra'][$type][$nom_champ];
-	if (!$champ) return array();;
+	if (!$champ) return array();
+	list(, $filtre, ) = explode("|", $champ);
+	list($filtre, ) = explode(",", $filtre);
+	if ($filtre && $filtre != 'brut' && function_exists($filtre))
+		return array($filtre);
+	return array();
+}
+
+// Retourne la liste des filtres a appliquer a la recuperation
+// d'un champ extra particulier
+function extra_filtres_recup($type, $nom_champ) {
+	$champ = $GLOBALS['champs_extra'][$type][$nom_champ];
+	if (!$champ) return array();
 	list(, $filtre, ) = explode("|", $champ);
+	list(,$filtre) = explode(",", $filtre);
 	if ($filtre && $filtre != 'brut' && function_exists($filtre))
 		return array($filtre);
 	return array();
@@ -163,13 +314,37 @@
 	$champs = $GLOBALS['champs_extra'][$type];
 
 	while (list($nom,$contenu) = each($extra)) {
-		list($type, $filtre, $prettyname) = explode("|", $champs[$nom]);
+		list ($style, $filtre, $prettyname, $choix, $valeurs) =
+			explode("|", $champs[$nom]);
+		list($filtre, ) = explode(",", $filtre);
+		switch ($style) {
+			case "checkbox":
+			case "case":
+				if ($contenu=="true") $contenu = _T('item_oui');
+				elseif ($contenu=="false") $contenu = _T('item_non');
+				break;
+
+			case "multiple":
+				$contenu_ = "";
+				$choix = explode (",", $choix);
+				if (is_array($contenu) AND is_array($choix)
+				AND count($choix)==count($contenu))
+					for ($i=0; $i < count($contenu); $i++)
+						if ($contenu[$i] == "on")
+							$contenu_ .= "$choix[$i], ";
+						else if ($contenu[$i] <> '')
+							$contenu_ = "Choix incoh&eacute;rents, "
+							."v&eacute;rifiez la configuration... ";
+				$contenu = ereg_replace(", $", "", $contenu_);
+				break;
+		}
 		if ($filtre != 'brut' AND function_exists($filtre))
 			$contenu = $filtre($contenu);
 		if (!$prettyname)
 			$prettyname = ucfirst($nom);
 		if ($contenu)
-			$affiche .= "<div><b>$prettyname&nbsp;:</b> ".interdire_scripts($contenu)."<br /></div>\n";
+			$affiche .= "<div><b>$prettyname&nbsp;:</b> "
+			.interdire_scripts($contenu)."<br /></div>\n";
 	}
 
 	if ($affiche) {

Index: inc_index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_index.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_index.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_index.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_INDEX")) return;

Index: forum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/forum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- forum.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ forum.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 // cette page gere les deux types de forums ; forum_admin.php3 n'est qu'une coquille vide

Index: controle_forum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/controle_forum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- controle_forum.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ controle_forum.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 function forum_parent($id_forum) {

Index: js_menu_rubriques.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/js_menu_rubriques.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- js_menu_rubriques.php	13 Jan 2005 15:37:16 -0000	1.1
+++ js_menu_rubriques.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,18 +1,22 @@
 <?php
 
-include_once("inc.php3");
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
 
-// Gestion d'expiration de ce jaja
-$expire = $date + 3600*24;
 
-$headers_only = http_last_modified($expire);
+include_once("inc.php3");
+
+if (http_last_modified(@filemtime("js_menu_rubriques.php"), time() + 24 * 3600)) 
+	exit;
 
-$date = gmdate("D, d M Y H:i:s", $date);
-$expire = gmdate("D, d M Y H:i:s", $expire);
 @Header ("Content-Type: text/javascript");
-if ($headers_only) exit;
- at Header ("Last-Modified: ".$date." GMT");
- at Header ("Expires: ".$expire." GMT");
 
 function extraire_article($id_p) {
 	if (array_key_exists($id_p, $GLOBALS['db_art_cache'])) {

Index: mes_options.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/mes_options.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- mes_options.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ mes_options.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,40 +1,162 @@
 <?
+//$mysql_profile = true;
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//          MODULE CARTO
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
 
-///////////////////////////////////////////
-//PROTOMAIL (webmail de free)
-//////////////////////////////////////////
-global $server_ip_index, $server_ips, $nb_retry, $server_dns, $use_dns, $free_user_name, $free_user_passwd ;
-$free_user_name='spipcarto';
-$free_user_passwd='ultrabil';
-/* les ip's du serveur imp (nslookup imp.free.fr) */
-$i=0;
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+// PARAMETRAGE
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
 
-$server_ips[$i++] = '212.27.42.5';
-$server_ips[$i++] = '212.27.42.1';
-$server_ips[$i++] = '212.27.42.3';
-$server_ips[$i++] = '212.27.42.4';
-$server_ips[$i++] = '212.27.42.6';
-$server_ips[$i++] = '212.27.42.2';
+//////////////////////////////////////////////////
+// CARTO_CARTES
+//////////////////////////////////////////////////
+$spip_carto_cartes = array(
+	"id_carto_carte" => "bigint(21) NOT NULL",
+	"titre" => "VARCHAR(255) BINARY NOT NULL",
+	"texte" => "TEXT BINARY NOT NULL",
+	"url_carte" => "TEXT BINARY NOT NULL",
+	"callage" => "TEXT BINARY NOT NULL",
+	"id_srs" => "bigint(21) NOT NULL");
 
-/* choisir un serveur initial par randum */
+$spip_carto_cartes_key = array(
+	"PRIMARY KEY" => "id_carto_carte",
+	"KEY id_carto_carte" => "id_carto_carte");
 
-srand ((double) microtime() * 10000000);
-$server_ip_index =  array_rand ($server_ips);
 
+//////////////////////////////////////////////////
+// CARTO_OBJETS
+//////////////////////////////////////////////////
 
-/* ou choisir un serveur initial fixe */
-/* $server_ip_index = 1; */
+$spip_carto_objets = array(
+	"id_carto_objet" => "bigint(21) NOT NULL",
+	"id_carto_carte" => "bigint(21) NOT NULL",
+	"titre" => "VARCHAR(255) BINARY NOT NULL",
+	"texte" => "TEXT BINARY NOT NULL",
+	"url_objet" => "TEXT BINARY NOT NULL",
+	"url_logo" => "TEXT BINARY NOT NULL",
+	"geometrie" => "TEXT BINARY NOT NULL");
+	
+$spip_carto_objets_key = array(
+	"PRIMARY KEY" => "id_carto_objet",
+	"KEY id_carto_carte" => "id_carto_carte",
+	"KEY titre" => "titre");
 
-/* choisissez le nombre de tentatives de connexion */
-$nb_retry = 36;
+//////////////////////////////////////////////////
+// CARTO_CARTES_ARTICLES
+//////////////////////////////////////////////////
 
-/* ou choisir un serveur */
-//$server_ip = $server_ips[6];
+$spip_carto_cartes_articles = array(
+	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
+	"id_article" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
 
-/* l'utilisation de imp.free.fr est possible mais ne semble pas fonctionner */
+$spip_carto_cartes_articles_key = array(
+	"KEY id_carto_carte" 	=> "id_carto_carte",
+	"KEY id_article" => "id_article");
 
-$server_dns = 'imp.free.fr';
 
-$use_dns = false;
+//////////////////////////////////////////////////
+// CARTO_CARTES_ARTICLES
+//////////////////////////////////////////////////
+
+$spip_carto_cartes_articles = array(
+	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
+	"id_article" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
+
+$spip_carto_cartes_articles_key = array(
+	"KEY id_carto_carte" 	=> "id_carto_carte",
+	"KEY id_article" => "id_article");
+
+
+$tables_auxiliaires['spip_carto_cartes_articles'] = array(
+	'field' => &$spip_carto_cartes_articles,
+	'key' => &$spip_carto_cartes_articles_key);
+
+//////////////////////////////////////////////////
+// MOTS_CARTO_OBJETS
+//////////////////////////////////////////////////
+
+$spip_mots_carto_objets= array(
+	"id_carto_objet" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
+	"id_mot" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
+
+$spip_mots_carto_objets_key = array(
+	"KEY id_carto_objet" 	=> "id_carto_objet",
+	"KEY id_mot" => "id_mot");
+
+//////////////////////////////////////////////////
+// DOCUMENTS_CARTO_OBJETS
+//////////////////////////////////////////////////
 
+$spip_documents_carto_cartes= array(
+	"id_carto_carte" 	=> "BIGINT (21) DEFAULT '0' NOT NULL",
+	"id_document" 	=> "BIGINT (21) DEFAULT '0' NOT NULL");
+
+$spip_documents_carto_cartes_key = array(
+	"KEY id_carto_carte" 	=> "id_carto_carte",
+	"KEY id_document" => "id_document");
+
+
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+// DECLARATION
+//////////////////////////////////////////////////
+//////////////////////////////////////////////////
+
+//global $tables_principales,$table_primary,$tables_auxiliaires,$tables_relations;
+
+
+$tables_principales['spip_carto_cartes'] =
+	array('field' => &$spip_carto_cartes, 'key' => &$spip_carto_cartes_key);
+
+$tables_principales['spip_carto_objets'] =
+	array('field' => &$spip_carto_objets, 'key' => &$spip_carto_objets_key);
+
+//Relation avec les articles
+$tables_auxiliaires['spip_carto_cartes_articles'] = array(
+	'field' => &$spip_carto_cartes_articles,
+	'key' => &$spip_carto_cartes_articles_key);
+
+//La, ca se discute ...
+//Ca devrait etre une table secondaire
+//mais comme on n'utilise que l'id_mot dans la boucle
+//on gagne une jointure dans la requete
+//$tables_principales['spip_mots_carto_objets'] = array(
+//	'field' => &$spip_mots_carto_objets,
+//	'key' => &$spip_mots_carto_objets_key);
+$tables_auxiliaires['spip_mots_carto_objets'] = array(
+	'field' => &$spip_mots_carto_objets,
+	'key' => &$spip_mots_carto_objets_key);
+	
+
+$table_primary['carto_objets']="id_carto_objet";
+$table_primary['carto_cartes']="id_carto_carte";
+$table_primary['forms']="id_form";
+
+$table_des_tables['carto_objets']="carto_objets";
+$table_des_tables['carto_cartes']="carto_cartes";
+$table_des_tables['forms']="forms";
+
+$tables_relations['documents']['id_carto_carte']='documents_carto_cartes';
+$tables_relations['mots']['id_carto_objet']='mots_carto_objets';
+$tables_relations['carto_objets']['id_mot']='mots_carto_objets';
+$tables_relations['carto_cartes']['id_document']='documents_carto_cartes';
+
+function boucle_CARTO_CARTES($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$boucle->from[] =  "spip_carto_cartes AS " . $boucle->type_requete;
+	return calculer_boucle($id_boucle, $boucles); 
+}
+
+function boucle_CARTO_OBJETS($id_boucle, &$boucles) {
+	$boucle = &$boucles[$id_boucle];
+	$boucle->from[] =  "spip_carto_objets AS " . $boucle->type_requete;
+	return calculer_boucle($id_boucle, $boucles); 
+}
 ?>

Index: brouteur_frame.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/brouteur_frame.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- brouteur_frame.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ brouteur_frame.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 debut_html();
@@ -66,7 +77,10 @@
 
 	}
 	else {
-		$query = "SELECT * FROM spip_rubriques WHERE id_rubrique=$id_rubrique ORDER BY titre";
+	  if (isset($id_rubrique) && ($id_rubrique !== ''))
+ {
+
+		$query = "SELECT * FROM spip_rubriques WHERE id_rubrique='$id_rubrique' ORDER BY titre";
 		$result=spip_query($query);
 		if ($row=spip_fetch_array($result)){
 			$ze_rubrique=$row['id_rubrique'];
@@ -84,11 +98,9 @@
 			icone_horizontale(_T('info_racine_site'), "javascript:window.parent.location=\"naviguer.php3\"", "racine-site-24.gif","");
 			echo "</div>";
 		}
+
 	
-	
-	
-	
-		$query = "SELECT * FROM spip_rubriques WHERE id_parent=$id_rubrique ORDER BY titre";
+		$query = "SELECT * FROM spip_rubriques WHERE id_parent='$id_rubrique' ORDER BY titre";
 		$result=spip_query($query);
 		while($row=spip_fetch_array($result)){
 			$ze_rubrique=$row['id_rubrique'];
@@ -96,6 +108,7 @@
 			$id_parent=$row['id_parent'];
 			
 			echo "<div class='brouteur_rubrique' onMouseOver=\"changeclass(this, 'brouteur_rubrique_on');\" onMouseOut=\"changeclass(this, 'brouteur_rubrique');\">";
+
 			if ($id_parent == '0') 	{
 			  echo "<div style='background-image: url(" . _DIR_IMG_PACK . "secteur-24.gif);'><a href='brouteur_frame.php3?id_rubrique=$ze_rubrique&frame=".($frame+1)."&effacer_suivant=oui' target='iframe".($frame+1)."'>$titre</a></div>";
 			}
@@ -106,7 +119,7 @@
 			}
 			echo "</div>\n";
 		}
-	
+
 	
 		if ($id_rubrique > 0) {
 			if ($connect_statut == "0minirezo") $query = "SELECT articles.id_article, articles.titre, articles.statut FROM spip_articles AS articles WHERE id_rubrique=$id_rubrique ORDER BY date DESC";
@@ -191,7 +204,7 @@
 			}
 		}
 
-	
+
 		if ($frame == 0 AND $id_rubrique==0) {
 	
 			$query = "SELECT articles.id_article, articles.titre, articles.statut FROM spip_articles AS articles, spip_auteurs_articles AS lien WHERE articles.statut = 'prepa' AND articles.id_article = lien.id_article AND lien.id_auteur = $connect_id_auteur GROUP BY id_article ORDER BY articles.date DESC";
@@ -217,7 +230,7 @@
 		}
 
 	}
-
+   }
 	echo "</div>";
 
 echo "</body></html>";

Index: messagerie.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/messagerie.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- messagerie.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ messagerie.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_acces.php3");
 include_ecrire ("inc_calendrier.php");

Index: inc_config_plug.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_config_plug.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_config_plug.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_config_plug.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CONFIG_PLUG")) return;
@@ -13,7 +24,7 @@
 	
 	while ($f = readdir($d)) {
 		if (is_file("$dir/$f") AND $f != 'remove.txt') {
-			if (ereg("^plug", $f)) {
+			if (ereg("^plug_.*\.php3?$", $f)) {
 				$fichiers[] = "$dir/$f";
 			}
 		} else if (is_dir("$dir/$f") AND $f != '.' AND $f != '..') {

Index: forum_envoi.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/forum_envoi.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- forum_envoi.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ forum_envoi.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_barre.php3");
 include_ecrire ("inc_forum.php3");

Index: calendrier_jour.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/calendrier_jour.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- calendrier_jour.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ calendrier_jour.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,37 +1,16 @@
 <?php
 
-include ("inc.php3");
-include_ecrire ("inc_calendrier.php");
-
-$today=getdate(time());
-$jour_today = $today["mday"];
-$mois_today = $today["mon"];
-$annee_today = $today["year"];
-
-// sans arguments => mois courant
-if (!$mois){
-  $jour=$jour_today;
-  $mois=$mois_today;
-  $annee=$annee_today;
-}
-
-$date = date("Y-m-d", mktime(0,0,0,$mois, $jour, $annee));
-$jour = journum($date);
-$mois = mois($date);
-$annee = annee($date);
-
-
-$afficher_bandeau_calendrier = true;
-
-debut_page(nom_jour("$annee-$mois-$jour")." ". affdate_jourcourt("$annee-$mois-$jour"),  
-	   "redacteurs",
-	   "calendrier");
-
-debut_gauche();
-
-echo http_calendrier_journee($jour_today,$mois_today,$annee_today, 
-		  date("Y-m-d", mktime(0,0,0,$mois, $jour, $annee)));
-
-fin_page();
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
 
+$type = 'jour';
+include ("calendrier.php3");
+exit;
 ?>

Index: inc_filtres.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_filtres.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_filtres.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_filtres.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_FILTRES")) return;
@@ -103,18 +114,33 @@
 // Fabrique une balise A, avec un href conforme au validateur W3C
 // attention au cas ou la href est du Javascript avec des "'"
 
-function http_href($href, $clic, $title='', $style='', $class='') {
+function http_href($href, $clic, $title='', $style='', $class='', $evt='') {
 	return '<a href="' .
 		str_replace('&', '&amp;', $href) .
 		'"' .
-		(!$style ? '' : (" style=\"" . $style . "\"")) .
-		(!$title ? '' : (" title=\"" . supprimer_tags($title)."\"")) .
-		(!$class ? '' : (" class=\"" . $class . "\"")) .
+		(!$title ? '' : ("\ntitle=\"" . supprimer_tags($title)."\"")) .
+		(!$style ? '' : ("\nstyle=\"" . $style . "\"")) .
+		(!$class ? '' : ("\nclass=\"" . $class . "\"")) .
+		($evt ? "\n$evt" : '') .
 		'>' .
 		$clic .
 		'</a>';
 }
 
+// produit une balise img avec un champ alt d'office (et different) si vide
+// attention le htmlentities et la traduction doivent etre appliques avant.
+
+function http_img_pack($img, $alt, $att) {
+  static $num = 0;
+  return "<img src='" . _DIR_IMG_PACK . $img .
+    ("'\nalt=\"" . ($alt ? $alt : ('img_pack' . $num++)) . '" ') .
+    $att . " />";
+}
+
+function http_href_img($href, $img, $att, $title='', $style='', $class='', $evt='') {
+	return  http_href($href, http_img_pack($img, $title, $att), $title, $style, $class, $evt);
+}
+
 // Corrige les caracteres degoutants utilises par les Windozeries
 function corriger_caracteres($texte) {
 	static $trans;
@@ -141,11 +167,7 @@
 	}
 	$charset = lire_meta('charset');
 	if (!$trans[$charset]) return $texte;
-	if ($GLOBALS['flag_strtr2']) return strtr($texte, $trans[$charset]);
-	reset($trans[$charset]);
-	while (list($from, $to) = each($trans[$charset])) 
-		$texte = str_replace($from, $to, $texte);
-	return $texte;
+	return strtr($texte, $trans[$charset]);
 }
 
 // Transformer les sauts de paragraphe en simples passages a la ligne
@@ -192,16 +214,6 @@
 }
 
 
-// Transforme n'importe quel champ en une chaine utilisable
-// en PHP ou Javascript en toute securite
-// < ? php $x = '[(#TEXTE|texte_script)]'; ? >
-function texte_script($texte) {
-	$texte = str_replace('\\', '\\\\', $texte);
-	$texte = str_replace('\'', '\\\'', $texte);
-	return $texte;
-}
-
-
 // Rend une chaine utilisable sans dommage comme attribut HTML
 function attribut_html($texte) {
 	$texte = ereg_replace('"', '&quot;', supprimer_tags($texte));
@@ -209,17 +221,11 @@
 }
 
 // Vider les url nulles comme 'http://' ou 'mailto:'
-// + hack pour rester en mode 'preview' dans l'espace public
 function vider_url($url) {
-	global  $var_preview;
 
 	$url = trim($url);
 	if (eregi("^(http:?/?/?|mailto:?)$", $url))
 		return '';
-	else
-		if (_DIR_RESTREINT AND $var_preview AND !eregi("[a-z]+://", $url))
-			$url .= ((strpos($url, '?') !== false) ? '&':'?')
-			. "var_preview=oui";
 
 	return $url;
 }
@@ -228,10 +234,10 @@
 // Ajouter le &var_recherche=toto dans les boucles de recherche
 //
 function url_var_recherche($url) {
-	if ($GLOBALS['HTTP_GET_VARS']['recherche']
+	if (_request('recherche')
 	AND !ereg("var_recherche", $url)) {
 		$url .= strpos($url, '?') ? '&' : '?';
-		$url .= "var_recherche=".urlencode($GLOBALS['recherche']);
+		$url .= "var_recherche=".urlencode(_request('recherche'));
 	}
 	return $url;
 }
@@ -261,7 +267,11 @@
 
 // |choixsivide{vide,pasvide} affiche pasvide si la chaine n'est pas vide...
 
-function choixsivide($a, $vide, $pasvide) {return $a ? $pasvide : $vide;}
+function choixsivide($a, $vide, $pasvide)
+{
+  spip_log("choix '$a'" . $a ? $pasvide : $vide);
+  return $a ? $pasvide : $vide;
+}
 
 // |choixsiegal{aquoi,oui,non} affiche oui si la chaine est egal a aquoi ...
 function choixsiegal($a1,$a2,$v,$f) {return ($a1 == $a2) ? $v : $f;}
@@ -747,13 +757,17 @@
 		. (!$noscript ? '' : "<noscript>\n\t$noscript\n</noscript>\n");
 }
 
-function inscriptionok($site, $mode)
-{
-  return ((lire_meta("accepter_inscriptions") == "oui") OR
-	  (($mode == 'forum') AND
-	   (lire_meta("accepter_visiteurs") == "oui"
-	    OR lire_meta('forums_publics') == 'abo'))) ? ($site . '/') : '';
-}
 
+// Un filtre ad hoc, qui retourne ce qu'il faut pour les tests de config
+// dans les squelettes : [(#URL_SITE_SPIP|tester_config{quoi})]
+function tester_config($ignore, $quoi) {
+	switch ($quoi) {
+		case 'mode_inscription':
+			return (lire_meta('accepter_inscriptions') == 'oui') ? 'redac' : '';
+		
+		default:
+			return '';
+	}
+}
 
 ?>

Index: admin_effacer.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/admin_effacer.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- admin_effacer.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ admin_effacer.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 

Index: inc_calendrier.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_calendrier.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_calendrier.php	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_calendrier.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,4 +1,16 @@
 <?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CALENDRIER")) return;
@@ -12,13 +24,13 @@
 	spip_setcookie('spip_calendrier_echelle', floor($GLOBALS['set_echelle']), time() + 365 * 24 * 3600);
 	$GLOBALS['echelle'] = floor($GLOBALS['set_echelle']);
 } else 
-	$GLOBALS['echelle'] = $GLOBALS['HTTP_COOKIE_VARS']['spip_calendrier_echelle'];
+	$GLOBALS['echelle'] = $GLOBALS['_COOKIE']['spip_calendrier_echelle'];
 
 if ($GLOBALS['set_partie_cal']) {
 	spip_setcookie('spip_partie_cal', $GLOBALS['set_partie_cal'], time() + 365 * 24 * 3600);
 	$GLOBALS['partie_cal'] = $GLOBALS['set_partie_cal'];
 } else 
-	$GLOBALS['partie_cal'] = $GLOBALS['HTTP_COOKIE_VARS']['spip_partie_cal'];
+	$GLOBALS['partie_cal'] = $GLOBALS['_COOKIE']['spip_partie_cal'];
 
 
 # Typographie generale des calendriers de 3 type: jour/mois/annee
@@ -32,7 +44,8 @@
 $jaune= http_img_pack("m_envoi_jaune$spip_lang_rtl.gif", 'J', "width='14' height='7' border='0'");
 
 // Conversion en HTML d'un tableau de champ ics
-// Le champ URL devient une balise a href=URL entourant les champs SUMMARY et DESC
+// Le champ URL devient une balise A 
+// 	avec href=URL et clic sur les champs SUMMARY et DESC
 // Le champ CATEGORIES indique les couleurs pour le style CSS
 
 function http_calendrier_ics($evenements, $amj = "") 
@@ -131,7 +144,7 @@
 
 # affiche un mois en grand, avec des tableau de clics vers d'autres mois
 
-function http_calendrier_tout($mois, $annee, $premier_jour, $dernier_jour)
+function http_calendrier_init_mois($premier_jour, $mois, $annee, $date)
 {
 	global $spip_lang_left, $largeur_table, $largeur_gauche, $spip_ecran;
 
@@ -148,6 +161,7 @@
 		'http_calendrier_clics' : 
 		'http_calendrier_sans_clics';*/
 	$fclic = 'http_calendrier_clics';
+	$dernier_jour = 31;
 	while (!(checkdate($mois,$dernier_jour,$annee))) $dernier_jour--;
 	$today=getdate(time());
 	$m=$today["mon"];
@@ -191,7 +205,8 @@
 function http_calendrier_aide_mess()
 {
   global $bleu, $vert, $jaune;
- return
+  if (_DIR_RESTREINT) return "";
+  return
    "<br /><br /><br />\n<table width='700'>\n<tr><td><font face='arial,helvetica,sans-serif' size='2'>" .
     "<b>"._T('info_aide')."</b>" .
     "<br />$bleu "._T('info_symbole_bleu')."\n" .
@@ -235,7 +250,7 @@
 		else $img_att = "";
 		$retour .= "<span$img_att>"
 		  .http_href_img(($script . "type=$type&set_partie_cal=tout&$args"),
-				 "heures-tout.png", "width='13' height='13' class='format_png'",  _L('jour entier')) . "</span>";
+				 "heures-tout.png", "width='13' height='13' class='format_png'",  _T('cal_jour_entier')) . "</span>";
 
 		if ($GLOBALS['partie_cal'] == "matin") $img_att = " class='navigation-bouton-desactive'";
 		else $img_att = "";
@@ -243,7 +258,7 @@
 		  .http_href_img(($script . "type=$type&set_partie_cal=matin&$args"),
 				 "heures-am.png",
 				 "width='13' height='13' class='format_png'",
-				 _L('matin'))
+				 _T('cal_matin'))
 		  . "</span>";
 
 		if ($GLOBALS['partie_cal'] == "soir") $img_att = " class='navigation-bouton-desactive'";
@@ -252,30 +267,30 @@
 		  .http_href_img(($script . "type=$type&set_partie_cal=soir&$args"),
 				 "heures-pm.png", 
 				 "width='13' height='13' class='format_png'",
-				 _L('apr&egrave;s-midi'))
+				 _T('cal_apresmidi'))
 		  . "</span>";
 		$retour .= "&nbsp;";
 		$retour .= http_href_img(($script . "type=$type&set_echelle=" .
 					  floor($echelle * 1.5) . "&$args"),
 					 "loupe-moins.gif",
 					 '',
-					 _L('zoom'). '-');
+					 _T('info_zoom'). '-');
 		$retour .= http_href_img(($script . "type=$type&set_echelle=" .
 					  floor($echelle / 1.5) . "&$args"), 
 					 "loupe-plus.gif",
 					 '', 
-					 _L('zoom'). '+');
+					 _T('info_zoom'). '+');
  		$retour .= "&nbsp;";
 
 
  	}
 
         $img_att = ($type == 'jour') ? " class='navigation-bouton-desactive'" : '';
-	$retour .= http_href_img(($script . "type=jour&echelle=$echelle&$args"),"cal-jour.gif", $img_att, _L('calendrier par jour')) . "&nbsp;";
+	$retour .= http_href_img(($script . "type=jour&echelle=$echelle&$args"),"cal-jour.gif", $img_att, _T('cal_par_jour')) . "&nbsp;";
 	$img_att = ($type == 'semaine') ?  " class='navigation-bouton-desactive'" : "" ;
-	$retour .= http_href_img($script . "type=semaine&echelle=$echelle&$args", "cal-semaine.gif", $img_att, _L('calendrier par semaine'))  . "&nbsp;";;
+	$retour .= http_href_img($script . "type=semaine&echelle=$echelle&$args", "cal-semaine.gif", $img_att, _T('cal_par_semaine'))  . "&nbsp;";;
 	$img_att = ($type == 'mois') ? " class='navigation-bouton-desactive'" : "" ;
-	$retour .= http_href_img($script . "type=mois&echelle=$echelle&$args","cal-mois.gif", $img_att, _L('calendrier par mois'));
+	$retour .= http_href_img($script . "type=mois&echelle=$echelle&$args","cal-mois.gif", $img_att, _T('cal_par_mois'));
 	
   	$retour .= "&nbsp;&nbsp;";
 
@@ -299,11 +314,11 @@
 	if ($args_pred)
 		$retour .= http_href($script . "type=$type&echelle=$echelle&$args_pred$ancre",
 				     http_img_pack("fleche-$spip_lang_left.png", '&lt;&lt;&lt;', "class='format_png'  width='12' height='12'"),
-				     _L('pr&eacute;c&eacute;dent'));
+				     _T('precedent'));
 	if ($args_suiv)
 		$retour .= http_href(($script . "type=$type&echelle=$echelle&$args_suiv$ancre"),
 				     http_img_pack("fleche-$spip_lang_right.png",  '&gt;&gt;&gt;', "class='format_png' width='12' height='12'"),
-				     _L('suivant'));
+				     _T('suivant'));
   	$retour .= "&nbsp;&nbsp;";
  	$retour .= "<span style='font-weight: bold'>$nom</span>";
 	return $retour .
@@ -319,7 +334,10 @@
 {
 	global $spip_lang_right, $spip_lang_left, $couleur_claire;
 
-	$gadget = "<div id='$id' onmouseover=\"montrer('$id');\" onmouseout=\"cacher('$id');\" style='position: relative; visibility: hidden;z-index: 1000; '><div style='position: absolute; padding: 5px; background-color: $couleur_claire; margin-bottom: 5px; -moz-border-radius-bottomleft: 8px; -moz-border-radius-bottomright: 8px;'>";
+	$gadget = "<div
+id='$id' style='position: relative; visibility: hidden;z-index: 1000; '
+onmouseover=\"montrer('$id');\" onmouseout=\"cacher('$id');\"><div 
+style='position: absolute; padding: 5px; background-color: $couleur_claire; margin-bottom: 5px; -moz-border-radius-bottomleft: 8px; -moz-border-radius-bottomright: 8px;'>";
 			//$gadget .= "<a href='calendrier_semaine.php3' class='lien_sous'>";
 			//$gadget .= _T('icone_agenda');
 			//$gadget .= "</a>";
@@ -330,7 +348,7 @@
 			
 
 	$gadget .= "<table cellpadding='0' cellspacing='5' border='0' width='100%'>";
-	$gadget .= "<tr><td colspan='3' style='text-align:$spip_lang_left;'>";
+	$gadget .= "\n<tr><td colspan='3' style='text-align:$spip_lang_left;'>";
 
 	$annee_avant = $annee - 1;
 	$annee_apres = $annee + 1;
@@ -344,12 +362,11 @@
 					nom_mois("$annee-$i-1"),'','', 'calendrier-annee');
 			}
 	$gadget .= "</td></tr>"
-		. "\n<tr>"
-		. "<td valign='top' width='33%'>"
+		. "\n<tr><td valign='top' width='33%'>"
 		. http_calendrier_agenda($mois-1, $annee, $jour, $mois, $annee, $GLOBALS['afficher_bandeau_calendrier_semaine'], $script,$ancre) 
-		. "</td><td valign='top' width='33%'>"
+		. "</td>\n<td valign='top' width='33%'>"
 		. http_calendrier_agenda($mois, $annee, $jour, $mois, $annee, $GLOBALS['afficher_bandeau_calendrier_semaine'], $script,$ancre) 
-		. "</td><td valign='top' width='33%'>"
+		. "</td>\n<td valign='top' width='33%'>"
 		. http_calendrier_agenda($mois+1, $annee, $jour, $mois, $annee, $GLOBALS['afficher_bandeau_calendrier_semaine'], $script,$ancre) 
 		. "</td>"
 		. "</tr>"
@@ -594,8 +611,9 @@
   $href = "message_edit.php3?rv=$annee-$mois-$jour&new=oui";
 
   return "\n" .
-    http_href("calendrier_jour.php3?jour=$jour&mois=$mois&annee=$annee", $clic) .
+    http_href("calendrier.php3?type=jour&jour=$jour&mois=$mois&annee=$annee", $clic) .
     "\n" .
+    (_DIR_RESTREINT ? '' : (
     http_href("$href&type=pb", 
 		 $bleu, 
 		 _T("lien_nouvea_pense_bete"),
@@ -604,13 +622,13 @@
     http_href("$href&type=normal",
 		 $vert,
 		 _T("lien_nouveau_message"),
-		 'color: green; font-family: Arial, Sans, sans-serif; font-size: 10px; ') .
+	      'color: green; font-family: Arial, Sans, sans-serif; font-size: 10px; '))) .
     (($GLOBALS['connect_statut'] != "0minirezo") ? "" :
      ("\n" .
       http_href("$href&type=affich",
 		   $jaune,
 		   _T("lien_nouvelle_annonce"),
-		   'color: #ff9900; font-family: Arial, Sans, sans-serif; font-size: 10px; ')));
+		'color: #ff9900; font-family: Arial, Sans, sans-serif; font-size: 10px; ')));
 }
 
 # dispose les evenements d'une semaine
@@ -729,18 +747,31 @@
 		       '',
 		       'color: black;') .
     "<table width='100%' cellspacing='0' cellpadding='0'>" .
-    http_calendrier_agenda_rv ($mois, $annee, $jour_ved, $mois_ved, $annee_ved, 
-			       $semaine, 
-			       sql_calendrier_agenda($mois, $annee),
-			       $script,
-			       $ancre) .
+    http_calendrier_agenda_rv ($annee, $mois, 
+				sql_calendrier_agenda($mois, $annee),
+			        'http_jour_clic', array($script, $ancre),
+			        $jour_ved, $mois_ved, $annee_ved, 
+				$semaine) .
     "</table>" .
     "</div>";
 }
 
+function http_jour_clic($annee, $mois, $jour, $type, $couleur, $perso)
+{
+
+  list($script, $ancre) = $perso;
+
+  return http_href($script . "type=$type&jour=$jour&mois=$mois&annee=$annee$ancre", 
+		   "<b>$jour</b>",
+		   '',
+		   "color: $couleur");
+}
+
 // typographie un mois sous forme d'un tableau de 7 colonnes
 
-function http_calendrier_agenda_rv ($mois, $annee, $jour_ved, $mois_ved, $annee_ved, $semaine, $les_rv, $script, $ancre='') {
+function http_calendrier_agenda_rv ($annee, $mois, $les_rv, $fclic, $perso='',
+				    $jour_ved='', $mois_ved='', $annee_ved='',
+				    $semaine='') {
 	global $couleur_foncee;
 	global $spip_lang_left, $spip_lang_right;
 
@@ -756,7 +787,6 @@
 		$debut = mktime(1,1,1,$mois_ved,$jour_ved-$jour_semaine_valide+1,$annee_ved);
 		$fin = mktime(1,1,1,$mois_ved,$jour_ved-$jour_semaine_valide+7,$annee_ved);
 	} else { $debut = $fin = '';}
-		  
 	
 	$today=getdate(time());
 	$jour_today = $today["mday"];
@@ -778,10 +808,7 @@
 		if (checkdate($mois,$j,$annee)){
 		  if ($j == $jour_ved AND $mois == $mois_ved AND $annee == $annee_ved) {
 		    $ligne .= "\n\t<td class='arial2' style='margin: 1px; padding: 2px; background-color: white; border: 1px solid $couleur_foncee; text-align: center; -moz-border-radius: 5px;'>" .
-		      http_href($script . "type=jour&jour=$j&mois=$mois&annee=$annee$ancre", 
-				"<b>$j</b>",
-				'',
-				"color: black") .
+		      $fclic($annee,$mois, $j,"jour","black", $perso) .
 		      "</td>";
 		  } else if ($semaine AND $nom >= $debut AND $nom <= $fin) {
 		    $ligne .= "\n\t<td class='arial2' style='margin: 0px; padding: 3px; background-color: white; text-align: center; " .
@@ -790,10 +817,7 @@
 		       (($jour_semaine==7) ?
 			$style7 : '')) .
 		      "'>" .
-		      http_href($script . "type=" . ($semaine ? 'semaine' : 'jour') . "&jour=$j&mois=$mois&annee=$annee$ancre", 
-				"<b>$j</b>",
-				'',
-				"color: black") .
+		      $fclic($annee,$mois, $j,($semaine ? 'semaine' : 'jour'),"black", $perso) .
 		      "</td>";
 		  } else {
 		    if ($j == $jour_today AND $mois == $mois_today AND $annee == $annee_today) {
@@ -812,10 +836,7 @@
 			}
 		    }
 		    $ligne .= "\n\t<td><div class='arial2' style='margin-left: 1px; margin-top: 1px; padding: 2px; background-color: $couleur_fond; text-align: center; -moz-border-radius: 5px;'>" .
-		      http_href($script . "type=" . ($semaine ? 'semaine' : 'jour') . "&jour=$j&mois=$mois&annee=$annee$ancre", 
-				"<b>$j</b>",
-				'',
-				"color: $couleur") .
+		      $fclic($annee,$mois, $j,($semaine ? 'semaine' : 'jour'),$couleur, $perso) .
 		      "</div></td>";
 		  }
 		  if ($jour_semaine==7) 
@@ -1079,7 +1100,7 @@
 }
 
 
-function http_calendrier_journee($jour_today,$mois_today,$annee_today, $date){
+function http_calendrier_init_jour($jour_today,$mois_today,$annee_today, $date){
 	global $largeur_table, $largeur_gauche, $spip_ecran;
 	$jour = journum($date);
 	$mois = mois($date);
@@ -1094,7 +1115,7 @@
 		$largeur_centre = $largeur_table - ($largeur_gauche + 20);
 	}
 		
-	$retour = "<table cellpadding=0 cellspacing=0 border=0 width='$largeur_table'><tr>";
+	$retour = "<div>&nbsp;</div><table cellpadding=0 cellspacing=0 border=0 width='$largeur_table'><tr>";
 	
 	if ($spip_ecran == "large") {
 		$retour .= "<td width='$largeur_gauche' class='verdana1' valign='top'>" .
@@ -1121,7 +1142,7 @@
 	return $retour;
 }
 
-function http_calendrier_semaine($jour_today,$mois_today,$annee_today)
+function http_calendrier_init_semaine($jour_today,$mois_today,$annee_today,$date)
 {
 	global $spip_ecran, $spip_lang_left, $couleur_claire;	
 	
@@ -1203,7 +1224,7 @@
 
 	if ($large == "col" ) {
 	  $entete = "<div align='center' style='padding: 5px;'><b class='verdana1'>" .
-	    http_href("calendrier_jour.php3?jour=$jour&mois=$mois&annee=$annee",
+	    http_href("calendrier.php3?type=jour&jour=$jour&mois=$mois&annee=$annee",
 				 affdate_jourcourt("$annee-$mois-$jour"),
 				 '',
 				 'color:black;') .
@@ -1434,11 +1455,13 @@
  AND	date < $apres
 ORDER BY date
 ");
+	$script = (_DIR_RESTREINT ? 'article' : 'articles');
 	while($row=spip_fetch_array($result)){
 		$amj = sql_calendrier_jour_ical($row['date']);
 		$evenements[$amj][]=
 		array(
-			'URL' => "articles.php3?id_article=" . $row['id_article'],
+			'URL' => $script . _EXTENSION_PHP . "?id_article=" .
+ $row['id_article'],
 			'CATEGORIES' => 'a',
 			'DESCRIPTION' => $row['titre']);
 	}
@@ -1457,9 +1480,10 @@
 ");
 	while($row=spip_fetch_array($result)){
 		$amj = sql_calendrier_jour_ical($row['date_heure']);
+		$script = (_DIR_RESTREINT ? 'breve' : 'breves_voir');
 		$evenements[$amj][]=
 		array(
-			'URL' => "breves_voir.php3?id_breve=" . $row['id_breve'],
+			'URL' => $script . _EXTENSION_PHP . "?id_breve=" . $row['id_breve'],
 			'CATEGORIES' => 'b',
 			'DESCRIPTION' => $row['titre']);
 	}
@@ -1469,6 +1493,7 @@
 function sql_calendrier_interval_rv($avant, $apres) {
 	global $connect_id_auteur;
 	$evenements= array();
+	if (!$connect_id_auteur) return $evenements;
 	$result=spip_query("
 SELECT	messages.id_message, messages.titre, messages.texte,
 	messages.date_heure, messages.date_fin, messages.type
@@ -1551,7 +1576,9 @@
 
 
 function sql_calendrier_taches_annonces () {
+	global $connect_id_auteur;
 	$r = array();
+	if (!$connect_id_auteur) return $r;
 	$result = spip_query("
 SELECT * FROM spip_messages 
 WHERE type = 'affich' AND rv != 'oui' AND statut = 'publie' ORDER BY date_heure DESC");
@@ -1563,6 +1590,7 @@
 function sql_calendrier_taches_pb () {
 	global $connect_id_auteur;
 	$r = array();
+	if (!$connect_id_auteur) return $r;
 	$result = spip_query("
 SELECT * FROM spip_messages AS messages 
 WHERE id_auteur=$connect_id_auteur AND statut='publie' AND type='pb' AND rv!='oui'");
@@ -1576,6 +1604,7 @@
 function sql_calendrier_taches_rv () {
 	global $connect_id_auteur;
 	$r = array();
+	if (!$connect_id_auteur) return $r;
 	$result = spip_query("
 SELECT messages.* 
 FROM spip_messages AS messages, spip_auteurs_messages AS lien 
@@ -1599,13 +1628,14 @@
 function sql_calendrier_agenda ($mois, $annee) {
 	global $connect_id_auteur;
 
+	$rv = array();
+	if (!$connect_id_auteur) return $rv;
 	$date = date("Y-m-d", mktime(0,0,0,$mois, 1, $annee));
 	$mois = mois($date);
 	$annee = annee($date);
 
 	// rendez-vous personnels dans le mois
 	$result_messages=spip_query("SELECT messages.date_heure FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE ((lien.id_auteur='$connect_id_auteur' AND lien.id_message=messages.id_message) OR messages.type='affich') AND messages.rv='oui' AND messages.date_heure >='$annee-$mois-1' AND date_heure < DATE_ADD('$annee-$mois-1', INTERVAL 1 MONTH) AND messages.statut='publie'");
-	$rv = array();
 	while($row=spip_fetch_array($result_messages)){
 		$rv[journum($row['date_heure'])] = 1;
 	}

Index: inc_abstract_sql.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_abstract_sql.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_abstract_sql.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_abstract_sql.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_INC_ABSTRACT_SQL")) return;
 define("_INC_ABSTRACT_SQL", "1");
@@ -54,7 +65,7 @@
 	if (function_exists($f))
 		return $f;
 
-	erreur_squelette(_L(' serveur SQL indefini'), $serveur);
+	erreur_squelette(' '._T('zbug_serveur_indefini'), $serveur);
 
 	// hack pour continuer la chasse aux erreurs
 	return 'array';
@@ -86,7 +97,7 @@
 
 function spip_abstract_insert($table, $noms, $valeurs, $serveur='')
 {
-  $f = (!$serveur ? 'spip_insert' :
+  $f = (!$serveur ? 'spip_mysql_insert' :
 	spip_abstract_serveur('spip_' . $serveur . '_insert', $serveur));
   return $f($table, $noms, $valeurs);
 }

Index: inc_base.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_base.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_base.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_base.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_BASE")) return;
@@ -19,7 +30,6 @@
 
 function spip_create_table($nom, $champs, $cles, $autoinc=false) {
 	$query = ''; $keys = ''; $s = '';
-	$nom = 'spip_' . $nom;
 
 	foreach($cles as $k => $v) {
 		$keys .= "$s\n\t\t$k ($v)";
@@ -123,7 +133,7 @@
 		"('xls', 'Excel', 'non'), ".
 		"('xml', 'XML', 'non'), ".
 		"('zip', 'Zip', 'non')";
-	spip_query($query);
+	spip_query_db($query);
 }
 
 function stripslashes_base($table, $champs) {

Index: lab_revisions.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lab_revisions.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- lab_revisions.php	13 Jan 2005 15:37:15 -0000	1.1
+++ lab_revisions.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_REVISIONS")) return;

Index: inc_statistiques.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_statistiques.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_statistiques.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_statistiques.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_STATISTIQUES")) return;
 define("_ECRIRE_INC_STATISTIQUES", "1");
@@ -101,8 +112,7 @@
 				$keywords = "";
 			}
 						
-			if ((($kw_referer_host == "Google" &&
-				ereg('[io]e=([-a-z0-9]+)', strtolower($query), $regs))
+			if ((  ($kw_referer_host == "Google")
 				|| ($kw_referer_host == "AOL" && !ereg('enc=iso', $query))
 				|| ($kw_referer_host == "MSN")
 				)) {

Index: config-multilang.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/config-multilang.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- config-multilang.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ config-multilang.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_config.php3");
@@ -104,6 +115,7 @@
 		echo _T('info_multi_langues_choisies');
 		echo '</p>';
 
+		init_codes_langues();
 		$langues = $GLOBALS['codes_langues'];
 		$cesure = floor((count($langues) + 1) / 2);
 

Index: inc_charsets.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_charsets.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_charsets.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_charsets.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CHARSETS")) return;
@@ -2054,11 +2065,7 @@
 		}
 	}
 
-	if ($GLOBALS['flag_strtr2']) return strtr($texte, $trans);
-
-	foreach($trans as $from => $to)
-		$texte = str_replace($from, $to, $texte);
-	return $texte;
+	return strtr($texte, $trans);
 }
 
 //
@@ -2074,13 +2081,7 @@
 			$trans["&$key;"] = $val;
 	}
 
-	if ($GLOBALS['flag_strtr2']) return strtr($texte, $trans);
-
-	reset($trans);
-	foreach ($trans as $from => $to)
-		$texte = str_replace($from, $to, $texte);
-
-	return $texte;
+	return strtr($texte, $trans);
 }
 
 
@@ -2141,15 +2142,10 @@
 				$trans[$charset][chr($key)] = '&#'.$val.';';
 			}
 		}
-		if ($trans[$charset]) {
-			if ($GLOBALS['flag_strtr2'])
-				$texte = strtr($texte, $trans[$charset]);
-			else {
-				reset($trans[$charset]);
-				foreach ($trans[$charset] as $from => $to)
-					$texte = str_replace($from, $to, $texte);
-			}
-		}
+
+		if ($trans[$charset])
+			$texte = strtr($texte, $trans[$charset]);
+
 		return $texte;
 	}
 }
@@ -2391,13 +2387,8 @@
 		foreach ($CHARSET[$table_translit] as $key => $val)
 			$trans[$complexe][caractere_utf_8($key)] = $val;
 	}
-	if ($GLOBALS['flag_strtr2'])
-		$texte = strtr($texte, $trans[$complexe]);
-	else {
-		$tr = $trans[$complexe];
-		foreach ($tr as $from => $to)
-			$texte = str_replace($from, $to, $texte);
-	}
+
+	$texte = strtr($texte, $trans[$complexe]);
 
 /*
 	// Le probleme d'iconv c'est qu'il risque de nous renvoyer des ? alors qu'on

Index: articles_versions.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/articles_versions.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- articles_versions.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ articles_versions.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include("inc_lab.php");
 
 include_spip("ecrire.php");

Index: inc_forum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_forum.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_forum.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_forum.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_FORUM")) return;

Index: inc_getdocument.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_getdocument.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_getdocument.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_getdocument.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,23 +1,54 @@
 <?php
 
-function creer_repertoire_documents($ext) {
-	global $dossier_squelettes;
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
 
-# est-il bien raisonnable d'accepter de creer si creer_rep retourne '' ?
+
+//
+// Fonctions de spip_image.php3
+
+//
+// Ce fichier ne sera execute qu'une fois
+if (defined("_ECRIRE_INC_GETDOCUMENT")) return;
+define("_ECRIRE_INC_GETDOCUMENT", "1");
+
+
+// Creer IMG/pdf/
+function creer_repertoire_documents($ext) {
 	$rep = _DIR_DOC . creer_repertoire(_DIR_DOC, $ext);
-	// Securite
-	if (!$ext || ($rep == $dossier_squelettes) || (substr($rep,0,-1) == $dossier_squelettes))
-		{
-		  spip_log("creer_repertoire_documents interdit");
-		  exit;
-		}
+
+	if (!$ext OR !$rep) {
+		spip_log("creer_repertoire_documents interdit");
+		exit;
+	}
+
 	if (lire_meta("creer_htaccess") == 'oui') {
 		include_ecrire('inc_acces.php3');
 		verifier_htaccess($rep);
 	}
+
 	return $rep;
 }
 
+// Efface le repertoire de maniere recursive !
+function effacer_repertoire_temporaire($nom) {
+	$d = opendir($nom);
+	while ($f = readdir($d)) {
+		if (is_file("$nom/$f"))
+			@unlink("$nom/$f");
+		else if ($f <> '.' AND $f <> '..'
+		AND is_dir("$nom/$f"))
+			effacer_repertoire_temporaire("$nom/$f");
+	}
+	@rmdir($nom);
+}
 
 function copier_document($ext, $orig, $source) {
 
@@ -27,18 +58,88 @@
 			translitteration(ereg_replace("\.([^.]+)$", "", 
 						      ereg_replace("<[^>]*>", '', basename($orig)))));
 
-	# bien vu ?
-	if ($source == ($dest . '.' . $ext)) return $source;
+	// Si le document "source" est deja au bon endroit, ne rien faire
+	if ($source == ($dest . '.' . $ext))
+		return $source;
+
+	// sinon tourner jusqu'a trouver un numero correct
 	$n = 0;
 	while (@file_exists($newFile = $dest.($n++ ? '-'.$n : '').'.'.$ext));
-	$r = deplacer_fichier_upload($source, $newFile);
-	return (!$r ? '' : $newFile);
+
+	$newFile = preg_replace('/[.]+/', '.', $newFile);
+
+	if ($r = deplacer_fichier_upload($source, $newFile))
+		return $newFile;
 }
 
-function verifier_compactes($image_name) {
+//
+// Deplacer un fichier
+//
 
-	$zip = new PclZip($image_name);
+function deplacer_fichier_upload($source, $dest) {
+	// Securite
+	if (strstr($dest, "..")) { exit; }
 
+	$ok = @copy($source, $dest);
+	if (!$ok) $ok = @move_uploaded_file($source, $dest);
+	if ($ok)
+		@chmod($dest, 0666);
+	else {
+		$f = @fopen($dest,'w');
+		if ($f) {
+			fclose ($f);
+		} else {
+			redirige_par_entete("spip_test_dirs.php3?test_dir=".
+				dirname($dest));
+		}
+		@unlink($dest);
+	}
+
+	return $ok;
+}
+
+
+// Erreurs d'upload
+// renvoie false si pas d'erreur
+// et true si erreur = pas de fichier
+// pour les autres erreurs affiche le message d'erreur et meurt
+function check_upload_error($error, $msg='') {
+	switch ($error) {
+		case 0:
+			return false;
+		case 4: /* UPLOAD_ERR_NO_FILE */
+			return true;
+
+		# on peut affiner les differents messages d'erreur
+		case 1: /* UPLOAD_ERR_INI_SIZE */
+			$msg = _T('upload_limit',
+			array('max' => ini_get('upload_max_filesize')));
+			break;
+		case 2: /* UPLOAD_ERR_FORM_SIZE */
+			$msg = _T('upload_limit',
+			array('max' => ini_get('upload_max_filesize')));
+			break;
+		case 3: /* UPLOAD_ERR_PARTIAL  */
+			$msg = _T('upload_limit',
+			array('max' => ini_get('upload_max_filesize')));
+			break;
+	}
+
+	spip_log ("erreur upload $error");
+
+	include_ecrire('inc_presentation.php3');
+	install_debut_html(_T('forum_titre_erreur'));
+	echo "<p>$msg</p>\n";
+
+	install_fin_html(_DIR_RESTREINT_ABS . $GLOBALS['redirect']);
+	exit;
+}
+
+
+//
+// Gestion des fichiers ZIP
+//
+function verifier_compactes($zip) {
 	if ($list = $zip->listContent()) {
 	// si pas possible de decompacter: installer comme fichier zip joint
 	// Verifier si le contenu peut etre uploade (verif extension)
@@ -48,7 +149,7 @@
 			
 				if ($key == "stored_filename") {
 					$f =  $list[$i][$key];
-					  // Regexp des fichiers a ignorer
+					// Regexp des fichiers a ignorer
 					if (!ereg("^(\.|.*/\.|.*__MACOSX/)", $f)) {
 						if (ereg("\.([^.]+)$", $f, $match)) {
 							$result = spip_query("SELECT * FROM spip_types_documents WHERE extension='"
@@ -69,7 +170,7 @@
 	return $aff_fichiers ;
 }
 
-function afficher_compactes($image_name, $fichiers, $link) {
+function afficher_compactes($image_name /* not used */, $fichiers, $link) {
 // presenter une interface pour choisir si fichier joint ou decompacter
 // passer ca en squelette un de ces jours.
 
@@ -82,7 +183,6 @@
 		_T('upload_fichier_zip_texte2'),
 		"</p>",
 		$link->getForm('POST'),
-		_L(''),
 		"<div><input type='radio' checked name='action_zip' value='telquel'>",
 		_T('upload_zip_telquel'),
 		"</div>",
@@ -100,156 +200,538 @@
 	install_fin_html();
 }
 
+
 //
-// Ajouter un unique document
+// Ajouter un document (au format $_FILES)
 //
-
-function ajout_doc($orig, $source, $mode, $id_document) {
-	global $hash_id_auteur, $hash, $id_article, $type;
-	//
-	// Securite
-	//
-	if (!verifier_action_auteur("ajout_doc", $hash, $hash_id_auteur))
-		return;
+function ajouter_un_document ($source, $nom_envoye, $type_lien, $id_lien, $mode, $id_document, &$documents_actifs) {
 
 	// type de document inconnu ?
+	if (!ereg("\.([^.]+)$", $nom_envoye, $match)) {
+		spip_log("nom envoye incorrect ($nom_envoye)");
+		return;
+	}
 
-	if (!ereg("\.([^.]+)$", $orig, $match)) return;
-
+	// tester le type de document :
+	// - interdit a l'upload ?
+	// - quel numero dans spip_types_documents ?  =-(
+	// - est-ce "inclus" comme une image ?
 	$ext = corriger_extension(addslashes(strtolower($match[1])));
-	$row = spip_query("SELECT * FROM spip_types_documents WHERE extension='$ext' AND upload='oui'" . (($mode != 'vignette') ? '' : " AND inclus='image'"));
-
-	// type de document invalide ?
-
-	if (!$row = spip_fetch_array($row)) {return;}
 
-	// Recopier le fichier sauf si deja fait (zip tel quel)
+	if (!$row = spip_fetch_array(spip_query(
+	"SELECT * FROM spip_types_documents
+	WHERE extension='$ext' AND upload='oui'"))) {
+		spip_log("Extension $ext interdite a l'upload");
+		return;
+	}
+	$id_type = $row['id_type'];	# numero du type dans spip_types_documents :(
+	$type_inclus_image = ($row['inclus'] == 'image');
 
-	$dest_path = !$source ? $orig : copier_document($ext,$orig, $source);
+	// Recopier le fichier a son emplacement definitif
+	$definitif = copier_document($ext, $nom_envoye, $source);
+	if (!$definitif)
+		return;
 
-	if (!$dest_path) return;
+	// Quelques infos sur le fichier
+	if (!@file_exists($definitif)
+	OR !$taille = @filesize($definitif))
+		return;
 
-	// Preparation
-	if ($mode == 'vignette') {
-		$id_document_lie = $id_document;
-		$query = "UPDATE spip_documents SET mode='document' where id_document='$id_document_lie'";
-		spip_query($query); // requete inutile a mon avis (Fil)...
-		$id_document = 0;
-	}
-	if (!$id_document) {
-		$id_type = $row['id_type'];
-		$id_document = spip_abstract_insert("documents", "(id_type, titre, date)", "($id_type, '', NOW())");
-		$nouveau = true;
-		if ($id_article && isset($type)) {
-			$query = "INSERT INTO spip_documents_".$type."s (id_document, id_".$type.") VALUES ($id_document, $id_article)";
-			spip_query($query);
-		}
-	}
-	//
-	// Mettre a jour les infos du document uploade
-	//
-	$size_image = @getimagesize($dest_path);
+	// Est-ce une image ?
+	$size_image = @getimagesize($definitif);
 	$type_image = decoder_type_image($size_image[2]);
 	if ($type_image) {
 		$largeur = $size_image[0];
 		$hauteur = $size_image[1];
 	}
-	$taille = filesize($dest_path);
-	if ($nouveau) {
-		$type_inclus = $row['inclus'];
-		if (!$mode) $mode = ($type_image AND $type_inclus == 'image') ? 'vignette' : 'document';
+
+	// Si on veut uploader une vignette, il faut qu'elle ait ete bien lue
+	if ($mode == 'vignette' AND !($largeur * $hauteur)) {
+		@unlink($definitif);
+		return;
+	}
+
+	// regler l'ancre du retour
+	if (!$GLOBALS['ancre']) {
+		if ($mode=='vignette')
+			$GLOBALS['ancre'] = 'images';
+		else if ($type_image)
+			$GLOBALS['ancre'] = 'portfolio';
+		else
+			$GLOBALS['ancre'] = 'documents';
+	}
+
+	// Preparation vignette du document $id_document
+	$id_document=intval($id_document);
+	if ($mode == 'vignette' AND $id_document_lie = $id_document) {
+		# on force le statut "document" de ce fichier (inutile ?)
+		spip_query("UPDATE spip_documents
+			SET mode='document'
+			WHERE id_document=$id_document");
+		$id_document = 0;
+	}
+
+	// Installer le document dans la base
+	// attention piege semantique : les images s'installent en mode 'vignette'
+	// note : la fonction peut "mettre a jour un document" si on lui
+	// passe "mode=document" et "id_document=.." (pas utilise)
+	if (!$id_document) {
+		// Inserer le nouveau doc et recuperer son id_
+		$id_document = spip_abstract_insert("spip_documents",
+		"(id_type, titre, date)", "($id_type, '', NOW())");
+
+		if ($id_lien
+		AND preg_match('/^[a-z0-9_]+$/i', $type_lien) # securite
+		)
+			spip_query("INSERT INTO spip_documents_".$type_lien."s
+				(id_document, id_".$type_lien.")
+				VALUES ($id_document, $id_lien)");
+
+		// par defaut (upload ZIP ou ftp) integrer
+		// les images en mode 'vignette' et le reste en mode document
+		if (!$mode)
+			if ($type_image AND $type_inclus_image)
+				$mode = 'vignette';
+			else
+				$mode = 'document';
 			$update = "mode='$mode', ";
 	}
 
-	spip_query("UPDATE spip_documents SET $update taille='$taille', largeur='$largeur', hauteur='$hauteur', fichier='$dest_path' WHERE id_document=$id_document");
+	// Mise a jour des donnees
+	spip_query("UPDATE spip_documents
+		SET $update
+		taille='$taille', largeur='$largeur', hauteur='$hauteur',
+		fichier='$definitif'
+		WHERE id_document=$id_document");
 
 	if ($id_document_lie) {
-		$query = "UPDATE spip_documents SET id_vignette=$id_document WHERE id_document=$id_document_lie";
-		spip_query($query);
-		$id_document = $id_document_lie; // pour que le 'return' active le bon doc.
+		spip_query ("UPDATE spip_documents
+		SET id_vignette=$id_document
+		WHERE id_document=$id_document_lie");
+		// hack pour que le retour vers ecrire/ active le bon doc.
+		$documents_actifs[] = $id_document_lie; 
 	}
+	else
+		$documents_actifs[] = $id_document; 
 
-	// Creer la vignette
-	if ($mode == 'document' AND ereg(",$ext,", ','.lire_meta('formats_graphiques').',')) {
-		creer_fichier_vignette($dest_path);
+	// Creer la vignette des images
+	if ($mode == 'document'
+	AND ereg(",$ext,", ','.lire_meta('formats_graphiques').',')
+	AND $type_image)
+		creer_fichier_vignette($definitif);
+
+	return true;
+}
+
+
+
+
+//
+// Convertit le type numerique retourne par getimagesize() en extension fichier
+//
+
+function decoder_type_image($type, $strict = false) {
+	switch ($type) {
+	case 1:
+		return "gif";
+	case 2:
+		return "jpg";
+	case 3:
+		return "png";
+	case 4:
+		return $strict ? "" : "swf";
+	case 5:
+		return "psd";
+	case 6:
+		return "bmp";
+	case 7:
+	case 8:
+		return "tif";
+	default:
+		return "";
 	}
 }
 
-// Ajouter un ou plusieurs documents ?
 
-function ajout_doc_zip($image, $image_name, $mode, $forcer_document, $action_zip, $id_document, $hash, $link)
-{
-// image_name n'est valide que par POST http, mais pas par la methode ftp/upload
-// par ailleurs, pour un fichier ftp/upload, il faut effacer l'original nous-memes
-// action_zip indique un rappel par la fonction affiche_compactes
-	if (!$action_zip){
-		// on va se rappeler: copier le fichier car PHP va le virer
-		$image_name = copier_document("zip", $image_name, $image);
-		// anormal, on se tire
-		if (!$image_name) exit;
-		// renvoyer un formulaire demandant si on deballe ou pas
-		require_once(_DIR_RESTREINT . 'pclzip.lib.php');
-		$fichiers = verifier_compactes($image_name);
-		if ($fichiers) {
-			$link->addVar("image_name", $image_name);
-			afficher_compactes($image_name, $fichiers, $link);
-			exit;
+//
+// Corrige l'extension du fichier dans quelques cas particuliers
+//
+
+function corriger_extension($ext) {
+	switch ($ext) {
+	case 'htm':
+		return 'html';
+	case 'jpeg':
+		return 'jpg';
+	case 'tiff':
+		return 'tif';
+	default:
+		return $ext;
+	}
+}
+
+
+//
+// Ajouter un logo
+//
+
+// $source = $_FILES[0]
+// $dest = arton12.xxx
+function ajout_logo($source, $dest) {
+
+	// Intercepter une erreur d'upload
+	if (check_upload_error($source['error'])) return;
+
+	// analyse le type de l'image (on ne fait pas confiance au nom de
+	// fichier envoye par le browser : pour les Macs c'est plus sur)
+	$f =_DIR_DOC . $dest . '.tmp';
+	deplacer_fichier_upload($source['tmp_name'], $f);
+	$size = @getimagesize($f);
+	$type = decoder_type_image($size[2], true);
+
+	if ($type) {
+		$poids = filesize($f);
+		if (_LOGO_MAX_SIZE > 0
+		AND $poids > _LOGO_MAX_SIZE*1024) {
+			@unlink ($f);
+			check_upload_error(6,
+			_T('info_logo_max_poids',
+				array('maxi' => taille_en_octets(_LOGO_MAX_SIZE*1024),
+				'actuel' => taille_en_octets($poids))));
 		}
-		// pas possible de deballer, on continue
-		$forcer_document = 'oui';
-		$image = $image_name;
-	  }
-	  else {
-	    // reponse au formulaire
-		if ($action_zip == "telquel") {
-			$forcer_document = 'oui';
-			
-		} else {
-			require_once(_DIR_RESTREINT . 'pclzip.lib.php');
-  			$archive = new PclZip($image_name);
-			$tmp_dir = creer_repertoire_documents($hash);
-			$archive->extract(PCLZIP_OPT_PATH, $tmp_dir, PCLZIP_OPT_REMOVE_ALL_PATH);
-			# virer le zip apr?s le d?ballage
-			@unlink($image_name);
-			$image_name = $tmp_dir;
 
+		if (_LOGO_MAX_WIDTH * _LOGO_MAX_HEIGHT
+		AND ($size[0] > _LOGO_MAX_WIDTH
+		OR $size[1] > _LOGO_MAX_HEIGHT)) {
+			@unlink ($f);
+			check_upload_error(6, 
+			_T('info_logo_max_taille',
+				array(
+				'maxi' =>
+					_T('info_largeur_vignette',
+						array('largeur_vignette' => _LOGO_MAX_WIDTH,
+						'hauteur_vignette' => _LOGO_MAX_HEIGHT)),
+				'actuel' =>
+					_T('info_largeur_vignette',
+						array('largeur_vignette' => $size[0],
+						'hauteur_vignette' => $size[1]))
+			)));
 		}
-	  }
-	ajout_doc_s($image, $image_name, $mode, $forcer_document,$id_document, $hash);
+		@rename ($f, _DIR_DOC . $dest . ".$type");
+	}
+	else {
+		@unlink ($f);
+		check_upload_error(6,
+			_T('info_logo_format_interdit',
+			array ('formats' => 'GIF, JPG, PNG'))
+		);
+	}
 }
 
-function ajout_doc_s($image, $image_name, $mode, $forcer_document, $id_document, $hash) 
-{
-	if (!is_dir($image_name)) {
-		ajout_doc($image_name,
-			  $image,
-			  ($forcer_document == 'oui' ? "document" : $mode),
-			  $id_document);
-	} else {
+
+function effacer_logo($nom) {
+	if (!strstr($nom, ".."))
+		@unlink(_DIR_IMG . $nom);
+}
+
+
+
+//
+// Creation automatique de vignette
+//
+
+// Tester nos capacites
+function tester_vignette ($test_vignette) {
+	global $pnmscale_command;
+
+	// verifier les formats acceptes par GD
+	if ($test_vignette == "gd1") {
+		// Si GD est installe et php >= 4.0.2
+		if (function_exists('imagetypes')) {
+
+			if (imagetypes() & IMG_GIF) {
+				$gd_formats[] = "gif";
+			} else {
+				# Attention GD sait lire le gif mais pas forcement l'ecrire
+				if (function_exists('ImageCreateFromGIF')) {
+					$srcImage = @ImageCreateFromGIF(_DIR_IMG . "test.gif");
+					if ($srcImage) {
+						$gd_formats_read_gif = ",gif";
+						ImageDestroy( $srcImage );
+					}
+				}
+			}
+
+			if (imagetypes() & IMG_JPG)
+				$gd_formats[] = "jpg";
+			if (imagetypes() & IMG_PNG)
+				$gd_formats[] = "png";
+		}
+
+		else {	# ancienne methode de detection des formats, qui en plus
+				# est bugguee car elle teste les formats en lecture
+				# alors que la valeur deduite sert a identifier
+				# les formats disponibles en ecriture... (cf. inc_logos.php3)
+		
+			$gd_formats = Array();
+			if (function_exists('ImageCreateFromJPEG')) {
+				$srcImage = @ImageCreateFromJPEG(_DIR_IMG . "test.jpg");
+				if ($srcImage) {
+					$gd_formats[] = "jpg";
+					ImageDestroy( $srcImage );
+				}
+			}
+			if (function_exists('ImageCreateFromGIF')) {
+				$srcImage = @ImageCreateFromGIF(_DIR_IMG . "test.gif");
+				if ($srcImage) {
+					$gd_formats[] = "gif";
+					ImageDestroy( $srcImage );
+				}
+			}
+			if (function_exists('ImageCreateFromPNG')) {
+				$srcImage = @ImageCreateFromPNG(_DIR_IMG . "test.png");
+				if ($srcImage) {
+					$gd_formats[] = "png";
+					ImageDestroy( $srcImage );
+				}
+			}
+		}
+
+		if ($gd_formats) $gd_formats = join(",", $gd_formats);
+		ecrire_meta("gd_formats_read", $gd_formats.$gd_formats_read_gif);
+		ecrire_meta("gd_formats", $gd_formats);
+		ecrire_metas();
+	}
+
+	// verifier les formats netpbm
+	else if ($test_vignette == "netpbm"
+	AND $pnmscale_command) {
+		$netpbm_formats= Array();
+
+		$jpegtopnm_command = str_replace("pnmscale",
+			"jpegtopnm", $pnmscale_command);
+		$pnmtojpeg_command = str_replace("pnmscale",
+			"pnmtojpeg", $pnmscale_command);
+
+		$vignette = _DIR_IMG . "test.jpg";
+		$dest = _DIR_IMG . "test-jpg.jpg";
+		$commande = "$jpegtopnm_command $vignette | $pnmscale_command -width 10 | $pnmtojpeg_command > $dest";
+		spip_log($commande);
+		exec($commande);
+		if ($taille = @getimagesize($dest)) {
+			if ($taille[1] == 10) $netpbm_formats[] = "jpg";
+		}
+		$giftopnm_command = ereg_replace("pnmscale", "giftopnm", $pnmscale_command);
+		$pnmtojpeg_command = ereg_replace("pnmscale", "pnmtojpeg", $pnmscale_command);
+		$vignette = _DIR_IMG . "test.gif";
+		$dest = _DIR_IMG . "test-gif.jpg";
+		$commande = "$giftopnm_command $vignette | $pnmscale_command -width 10 | $pnmtojpeg_command > $dest";
+		spip_log($commande);
+		exec($commande);
+		if ($taille = @getimagesize($dest)) {
+			if ($taille[1] == 10) $netpbm_formats[] = "gif";
+		}
+
+		$pngtopnm_command = ereg_replace("pnmscale", "pngtopnm", $pnmscale_command);
+		$vignette = _DIR_IMG . "test.png";
+		$dest = _DIR_IMG . "test-gif.jpg";
+		$commande = "$pngtopnm_command $vignette | $pnmscale_command -width 10 | $pnmtojpeg_command > $dest";
+		spip_log($commande);
+		exec($commande);
+		if ($taille = @getimagesize($dest)) {
+			if ($taille[1] == 10) $netpbm_formats[] = "png";
+		}
+		
+
+		if ($netpbm_formats)
+			$netpbm_formats = join(",", $netpbm_formats);
+		else
+			$netpbm_formats = '';
+		ecrire_meta("netpbm_formats", $netpbm_formats);
+		ecrire_metas();
+	}
+
+	// et maintenant envoyer la vignette de tests
+	if (ereg("^(gd1|gd2|imagick|convert|netpbm)$", $test_vignette)) {
+		include_ecrire('inc_logos.php3');
+		//$taille_preview = lire_meta("taille_preview");
+		if ($taille_preview < 10) $taille_preview = 150;
+		if ($preview = creer_vignette(_DIR_IMG . 'test_image.jpg', $taille_preview, $taille_preview, 'jpg', '', "test_$test_vignette", $test_vignette, true))
+
+			return ($preview['fichier']);
+	}
+
+	return _DIR_IMG_PACK . 'puce-rouge-anim.gif';	# image echec
+}
+
+// Creation
+function creer_fichier_vignette($vignette, $test_cache_only=false) {
+	if ($vignette && lire_meta("creer_preview") == 'oui') {
+		eregi('\.([a-z0-9]+)$', $vignette, $regs);
+		$ext = $regs[1];
+		$taille_preview = lire_meta("taille_preview");
+		if ($taille_preview < 10) $taille_preview = 120;
+		include_ecrire('inc_logos.php3');
+
+		if ($preview = creer_vignette($vignette, $taille_preview, $taille_preview, $ext, 'vignettes', basename($vignette).'-s', 'AUTO', false, $test_cache_only))
+		{
+			inserer_vignette_base($vignette, $preview['fichier']);
+			return $preview['fichier'];
+		}
 		include_ecrire('inc_documents.php3');
-		$fichiers = fichiers_upload($image_name);
+		return vignette_par_defaut($ext ? $ext : 'txt', false);
+	}
+}
 
-		while (list(,$f) = each($fichiers)) {
-			if (ereg("\.([^.]+)$", $f, $match)) {
-				$ext = strtolower($match[1]);
-				if ($ext == 'jpeg')
-					$ext = 'jpg';
-				$r = spip_query("SELECT extension FROM spip_types_documents WHERE extension='$ext'" . ($inclus ? " AND inclus='$inclus'" : ''));
-				if (spip_fetch_array($r))
-					ajout_doc($f, $f, 'document', false);
+// Effacer un doc (et sa vignette)
+function supprime_document_et_vignette($doc_supp) {
+
+	$result = spip_query("SELECT id_vignette, fichier
+		FROM spip_documents
+		WHERE id_document=$doc_supp");
+	if ($row = spip_fetch_array($result)) {
+		$fichier = $row['fichier'];
+		$id_vignette = $row['id_vignette'];
+		spip_query("DELETE FROM spip_documents
+			WHERE id_document=$doc_supp");
+		spip_query("UPDATE spip_documents SET id_vignette=0
+			WHERE id_vignette=$doc_supp");
+		spip_query("DELETE FROM spip_documents_articles
+			WHERE id_document=$doc_supp");
+		spip_query("DELETE FROM spip_documents_rubriques
+			WHERE id_document=$doc_supp");
+		spip_query("DELETE FROM spip_documents_breves
+			WHERE id_document=$doc_supp");
+		@unlink($fichier);
+
+		if ($id_vignette > 0) {
+			$query = "SELECT id_vignette, fichier FROM spip_documents
+				WHERE id_document=$id_vignette";
+			$result = spip_query($query);
+			if ($row = spip_fetch_array($result)) {
+				$fichier = $row['fichier'];
+				@unlink($fichier);
 			}
+			spip_query("DELETE FROM spip_documents
+				WHERE id_document=$id_vignette");
+			spip_query("DELETE FROM spip_documents_articles
+				WHERE id_document=$id_vignette");
+			spip_query("DELETE FROM spip_documents_rubriques
+				WHERE id_document=$id_vignette");
+			spip_query("DELETE FROM spip_documents_breves
+				WHERE id_document=$id_vignette");
 		}
+	}
+}
 
-# d?truire le repertoire de deballage
-		if ($tmp_dir) effacer_repertoire_temporaire($tmp_dir);
+
+
+/////////////////////////////////////////////////////////////////////
+//
+// Faire tourner une image
+//
+function gdRotate ($imagePath,$rtt){
+	if(preg_match("/\.(png)/i", $imagePath))
+		$src_img=ImageCreateFromPNG($imagePath);
+	else if(preg_match("/\.(jpg)/i", $imagePath))
+		$src_img=ImageCreateFromJPEG($imagePath);
+	else if(preg_match("/\.(bmp)/i", $imagePath))
+		$src_img=ImageCreateFromWBMP($imagePath);
+	$size=@getimagesize($imagePath);
+
+	// Sous GD2 : ImageCreateTrueColor
+	$process = lire_meta('image_process');
+	if ($process == "gd2")
+		$dst_img=ImageCreateTrueColor($size[1],$size[0]);
+	else
+		$dst_img=ImageCreate($size[1],$size[0]);
+
+	if($rtt==90){
+		$t=0;
+		$b=$size[1]-1;
+		while($t<=$b){
+			$l=0;
+			$r=$size[0]-1;
+			while($l<=$r){
+				imagecopy($dst_img,$src_img,$t,$r,$r,$b,1,1);
+				imagecopy($dst_img,$src_img,$t,$l,$l,$b,1,1);
+				imagecopy($dst_img,$src_img,$b,$r,$r,$t,1,1);
+				imagecopy($dst_img,$src_img,$b,$l,$l,$t,1,1);
+				$l++;
+				$r--;
+			}
+			$t++;
+			$b--;
+		}
+	}
+	elseif($rtt==-90){
+		$t=0;
+		$b=$size[1]-1;
+		while($t<=$b){
+			$l=0;
+			$r=$size[0]-1;
+			while($l<=$r){
+				imagecopy($dst_img,$src_img,$t,$l,$r,$t,1,1);
+				imagecopy($dst_img,$src_img,$t,$r,$l,$t,1,1);
+				imagecopy($dst_img,$src_img,$b,$l,$r,$b,1,1);
+				imagecopy($dst_img,$src_img,$b,$r,$l,$b,1,1);
+				$l++;
+				$r--;
+			}
+			$t++;
+			$b--;
+		}
 	}
+	ImageDestroy($src_img);
+	ImageInterlace($dst_img,0);
+	ImageJPEG($dst_img,$imagePath);
 }
 
-function effacer_repertoire_temporaire($nom) {
-	$d = opendir($nom);
-	while ($f = readdir($d)) {
-		if (is_file($f = "$nom/$f")) @unlink($f);
+function tourner_document($var_rot, $doc_rotate, $convert_command) {
+	
+	$var_rot = intval($var_rot);
+
+	$query = "SELECT id_vignette, fichier FROM spip_documents WHERE id_document=$doc_rotate";
+	$result = spip_query($query);
+	if ($row = spip_fetch_array($result)) {
+		$id_vignette = $row['id_vignette'];
+		$image = $row['fichier'];
+
+		$process = lire_meta('image_process');
+
+		 // imagick (php4-imagemagick)
+		 if ($process == 'imagick') {
+			$handle = imagick_readimage($image);
+			imagick_rotate($handle, $var_rot);
+			imagick_write($handle, $image);
+			if (!@file_exists($image)) return;	// echec imagick
 		}
-	@rmdir($nom);
+		else if ($process == "gd2") { // theoriquement compatible gd1, mais trop forte degradation d'image
+			if ($var_rot == 180) { // 180 = 90+90
+				gdRotate ($image, 90);
+				gdRotate ($image, 90);
+			} else {
+				gdRotate ($image, $var_rot);
+			}
+		}
+		else if ($process = "convert") {
+			$commande = "$convert_command -rotate $var_rot ./"
+				. escapeshellcmd($image).' ./'.escapeshellcmd($image);
+#			spip_log($commande);
+			exec($commande);
+		}
+
+		$size_image = @getimagesize($image);
+		$largeur = $size_image[0];
+		$hauteur = $size_image[1];
+
+		if ($id_vignette > 0) {
+			creer_fichier_vignette($image);
+		}
+
+		spip_query("UPDATE spip_documents SET largeur=$largeur, hauteur=$hauteur WHERE id_document=$doc_rotate");
+
+	}
 }
+
 ?>

Index: inc_mots.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_mots.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_mots.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_mots.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_MOTS")) return;
@@ -7,8 +18,6 @@
 
 include_ecrire("inc_filtres.php3"); # pour http_script (normalement d?j? fait)
 
-$GLOBALS['flag_mots_ressemblants'] = $GLOBALS['flag_levenshtein'];
-
 
 // ne pas faire d'erreur si les chaines sont > 254 caracteres
 function levenshtein255 ($a, $b) {
@@ -82,7 +91,6 @@
  */
 
 function formulaire_mots($table, $id_objet, $nouv_mot, $supp_mot, $cherche_mot, $flag_editable) {
-	global $flag_mots_ressemblants;
 	global $connect_statut, $options;
 	global $spip_lang_rtl, $spip_lang_right;
 
@@ -431,15 +439,14 @@
 			$query .= "ORDER BY type, titre";
 			$result = spip_query($query);
 			if (spip_num_rows($result) > 0) {
-				if ((spip_num_rows($result) > 50 AND $flag_mots_ressemblants)) {
+				if ((spip_num_rows($result) > 50)) {
 					echo "\n<tr>";
 					echo $form_mot;
 					echo "\n<td>";
 					echo $message_ajouter_mot;
 					$message_ajouter_mot = "";
 					echo "</td>\n<td>";
-					echo "<script language='text/javascript'><!--\nvar antifocus_$id_groupe = false;\n// --></script>\n";
-					$jscript = "onfocus=\"if(!antifocus_$id_groupe){this.value='';antifocus_$id_groupe=true;}\"". " onClick=\"setvisibility('valider_groupe_$id_groupe', 'visible');\"";
+					$jscript = "onfocus=\"setvisibility('valider_groupe_$id_groupe', 'visible'); if(!antifocus_mots[$id_groupe]){this.value='';antifocus_mots[$id_groupe]=true;}\"";
 
 					if ($obligatoire == "oui" AND !$groupes_vus[$id_groupe])
 						echo "<INPUT TYPE='text' NAME='cherche_mot' CLASS='fondl' STYLE='width: 180px; background-color:#E86519;' VALUE=\"$titre_groupe\" SIZE='20' $jscript>";

Index: message_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/message_edit.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- message_edit.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ message_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_abstract_sql.php3");
 
@@ -135,7 +146,7 @@
 	if ($type == 'pb') $statut = 'publie';
 	else $statut = 'redac';
 
-	$id_message = spip_abstract_insert("messages",
+	$id_message = spip_abstract_insert("spip_messages",
 				  "(titre, date_heure, statut, type, id_auteur)", 
 				  "('".addslashes(filtrer_entites(_T('texte_nouveau_message')))."', NOW(), '$statut', '$type', $connect_id_auteur)");
 	

Index: sites_tous.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/sites_tous.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- sites_tous.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ sites_tous.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_sites.php3");

Index: admin_tech.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/admin_tech.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- admin_tech.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ admin_tech.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 

Index: inc_mail.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_mail.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_mail.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_mail.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_MAIL")) return;

Index: inc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 include_ecrire("inc_auth.php3");
 include_ecrire("inc_presentation.php3");
@@ -10,12 +21,14 @@
 include_ecrire("inc_layer.php3");
 include_ecrire("inc_rubriques.php3");
 include_ecrire("inc_forum.php3");
+include_ecrire('inc_admin.php3');
+
 
 //
 // Preferences de presentation
 //
 
-if ($spip_lang_ecrire = $GLOBALS['HTTP_COOKIE_VARS']['spip_lang_ecrire']
+if ($spip_lang_ecrire = $GLOBALS['_COOKIE']['spip_lang_ecrire']
 AND $spip_lang_ecrire <> $auteur_session['lang']
 AND changer_langue($spip_lang_ecrire)) {
 	spip_query ("UPDATE spip_auteurs SET lang = '".addslashes($spip_lang_ecrire)
@@ -187,7 +200,7 @@
 // Recuperation du cookie
 //
 
-$cookie_admin = $HTTP_COOKIE_VARS['spip_admin'];
+$cookie_admin = $_COOKIE['spip_admin'];
 
 // Supprimer rubrique
 if ($supp_rubrique = intval($supp_rubrique) AND $connect_statut == '0minirezo' AND acces_rubrique($supp_rubrique)) {
@@ -199,7 +212,6 @@
 
 // Modifs forum
 if ($controle_forum AND $id_controle_forum) {
-	include_ecrire('inc_admin.php3');
 	if (verifier_action_auteur("$controle_forum$id_controle_forum",
 	$hash, $connect_id_auteur)) {
 		switch($controle_forum) {

Index: config-fonctions.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/config-fonctions.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- config-fonctions.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ config-fonctions.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_config.php3");
@@ -46,6 +57,12 @@
 	else
 		$border=0;
 
+	// Ici on va tester les capacites de GD independamment des tests realises
+	// dans les images spip_image -- qui servent neanmoins pour la qualite
+	/* if (function_exists('imageformats')) {
+		
+	} */
+
 	echo "<td  width='".($taille_preview+4)."'><div align='center' valign='bottom' width='".($taille_preview+4)."'><a href='config-fonctions.php3?image_process=$process'><img src='../spip_image.php3?test_vignette=$process' border='$border' /></a><br />";
 	if ($border) echo "<b>$process</b>";
 	else echo "$process";
@@ -84,17 +101,13 @@
 			// mettre a jour les formats graphiques lisibles
 			switch (lire_meta('image_process')) {
 				case 'gd1':
-					$formats_graphiques = lire_meta('gd_formats');
-					break;
 				case 'gd2':
-					$formats_graphiques = lire_meta('gd_formats');
+					$formats_graphiques = lire_meta('gd_formats_read');
 					break;
 				case 'netpbm':
 					$formats_graphiques = lire_meta('netpbm_formats');
 					break;
 				case 'convert':
-					$formats_graphiques = 'gif,jpg,png';
-					break;
 				case 'imagick':
 					$formats_graphiques = 'gif,jpg,png';
 					break;
@@ -401,14 +414,13 @@
 // Creer fichier .htpasswd ?
 //
 
-if ($options == "avancees" AND !@file_exists(_ACCESS_FILE_NAME) AND !$REMOTE_USER ) {
+
+if ($options == "avancees") {
 	include_ecrire ("inc_acces.php3");
 	ecrire_acces();
 
-
-
-debut_cadre_trait_couleur("cadenas-24.gif", false, "", 
-			  _T('info_fichiers_authent'));
+	debut_cadre_trait_couleur("cadenas-24.gif", false, "",
+		_T('info_fichiers_authent'));
 
 	$creer_htpasswd = lire_meta("creer_htpasswd");
 
@@ -416,13 +428,13 @@
 
 	echo "<div class='verdana2'>";
 	afficher_choix('creer_htpasswd', $creer_htpasswd,
-		       array('oui' => _T('item_creer_fichiers_authent'),
-			     'non' =>  _T('item_non_creer_fichiers_authent')),
-		       ' &nbsp; ');
+		array('oui' => _T('item_creer_fichiers_authent'),
+			'non' =>  _T('item_non_creer_fichiers_authent')),
+		' &nbsp; ');
 	echo "</div>";
 	echo "<div style='text-align:$spip_lang_right'><INPUT TYPE='submit' NAME='Valider' VALUE='"._T('bouton_valider')."' CLASS='fondo'></div>";
 	
-fin_cadre_trait_couleur();
+	fin_cadre_trait_couleur();
 
 	echo "<p>";
 }
@@ -431,7 +443,7 @@
 /*
 ###### PAS D'INTERFACE DE CONFIG POUR PROTEGER "/IMG"
 //
-// Creer fichier .htaccess dans les r?pertoires de documents 
+// Creer fichier .htaccess dans les repertoires de documents 
 //
 
 if ($options == "avancees" AND !$REMOTE_USER ) {

Index: inc_urls.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_urls.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_urls.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_urls.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_URLS")) return;

Index: statistiques_visites.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/statistiques_visites.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- statistiques_visites.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ statistiques_visites.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire("inc_statistiques.php3");
 
@@ -312,12 +323,12 @@
 		  echo http_href_img("statistiques_visites.php3?aff_jours=$aff_jours_plus$pour_article",
 				     'loupe-moins.gif',
 				     "border='0' valign='center'",
-				     _L('zoom'). '-'), "&nbsp;";
+				     _T('info_zoom'). '-'), "&nbsp;";
 		if ( (($date_today - $date_debut) / (24*3600)) > 30)
 		  echo http_href_img("statistiques_visites.php3?aff_jours=$aff_jours_moins$pour_article", 
 				     'loupe-plus.gif',
 				     "border='0' valign='center'",
-				     _L('zoom'). '+'), "&nbsp;";
+				     _T('info_zoom'). '+'), "&nbsp;";
 	
 		/*
 		if ($spip_svg_plugin == 'oui') {
@@ -359,7 +370,7 @@
 						$tab_moyenne[$decal] = $value;
 	
 						$ce_jour=date("Y-m-d", $jour_prec+(3600*24*($i+1)));
-						$jour = nom_jour($ce_jour).' '.affdate_court($ce_jour);
+						$jour = nom_jour($ce_jour).' '.affdate_jourcourt($ce_jour);
 	
 						reset($tab_moyenne);
 						$moyenne = 0;
@@ -386,7 +397,7 @@
 				}
 	
 				$ce_jour=date("Y-m-d", $key);
-				$jour = nom_jour($ce_jour).' '.affdate_court($ce_jour);
+				$jour = nom_jour($ce_jour).' '.affdate_jourcourt($ce_jour);
 	
 				$total_loc = $total_loc + $value;
 				reset($tab_moyenne);

Index: brouteur.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/brouteur.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- brouteur.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ brouteur.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 	if ($spip_ecran == "large") {
@@ -23,7 +34,7 @@
 	if ($id_rubrique) {
 		$j = $nb_col;
 		while ($id_rubrique > 0) {
-			$query = "SELECT * FROM spip_rubriques WHERE id_rubrique=$id_rubrique ORDER BY titre";
+			$query = "SELECT * FROM spip_rubriques WHERE id_rubrique='$id_rubrique' ORDER BY titre";
 			$result=spip_query($query);
 			while($row=spip_fetch_array($result)){
 				$j = $j-1;
@@ -54,14 +65,14 @@
 			
 			$la_rubrique = $dest[0];
 			
-			$query = "SELECT * FROM spip_rubriques WHERE id_rubrique = $la_rubrique";
+			$query = "SELECT * FROM spip_rubriques WHERE id_rubrique ='$la_rubrique'";
 			$result = spip_query($query);
 			while ($row = spip_fetch_array($result)) {
 				$la_rubrique =$row['id_parent'];
 			}
 			
 			while ($la_rubrique > 0) {
-				$query = "SELECT * FROM spip_rubriques WHERE id_rubrique = $la_rubrique";
+				$query = "SELECT * FROM spip_rubriques WHERE id_rubrique ='$la_rubrique'";
 				$result = spip_query($query);
 				while ($row = spip_fetch_array($result)) {
 					$compteur = $compteur + 1;
@@ -106,8 +117,6 @@
 	
 	}
 	
-	echo "</tr>";
-	echo "</table>";	
-
+fin_page();
 
 ?>

Index: export.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/export.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- export.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ export.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 
 include_ecrire ("inc_auth.php3");

Index: forum_admin.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/forum_admin.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- forum_admin.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ forum_admin.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 $admin = 'oui';
 include ('forum.php3');
 

Index: config-contenu.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/config-contenu.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- config-contenu.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ config-contenu.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_config.php3");

Index: inc_sites.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_sites.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_sites.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_sites.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_INC_SITES")) return;

Index: inc_popularites.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_popularites.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_popularites.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_popularites.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_POPULARITES")) return;
 define("_ECRIRE_INC_POPULARITES", "1");

Index: inc_serialbase.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_serialbase.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_serialbase.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_serialbase.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_SERIALBASE")) return;
 define("_ECRIRE_INC_SERIALBASE", "1");
@@ -197,6 +208,7 @@
 		"hauteur"	=> "integer NOT NULL",
 		"mode"	=> "ENUM('vignette', 'document') NOT NULL",
 		"inclus"	=> "VARCHAR(3) DEFAULT 'non'",
+		"idx"		=> "ENUM('', '1', 'non', 'oui', 'idx') DEFAULT '' NOT NULL",
 		"maj"	=> "TIMESTAMP");
 
 $spip_documents_key = array(
@@ -235,6 +247,7 @@
 		"date"	=> "datetime DEFAULT '0000-00-00 00:00:00' NOT NULL",
 		"date_syndic"	=> "datetime DEFAULT '0000-00-00 00:00:00' NOT NULL",
 		"date_index"	=> "datetime DEFAULT '0000-00-00 00:00:00' NOT NULL",
+		"extra"			=> "longblob NULL",
 		"moderation"	=> "VARCHAR(3) NOT NULL");
 
 $spip_syndic_key = array(
@@ -318,31 +331,31 @@
 /// Attention: mes_fonctions peut avoir deja defini cette variable
 /// il faut donc rajouter, mais pas reinitialiser
 
-$tables_principales['articles'] =
+$tables_principales['spip_articles'] =
 	array('field' => &$spip_articles, 'key' => &$spip_articles_key);
-$tables_principales['auteurs']  =
+$tables_principales['spip_auteurs']  =
 	array('field' => &$spip_auteurs, 'key' => &$spip_auteurs_key);
-$tables_principales['breves']   =
+$tables_principales['spip_breves']   =
 	array('field' => &$spip_breves, 'key' => &$spip_breves_key);
-$tables_principales['messages'] =
+$tables_principales['spip_messages'] =
 	array('field' => &$spip_messages, 'key' => &$spip_messages_key);
-$tables_principales['mots']     =
+$tables_principales['spip_mots']     =
 	array('field' => &$spip_mots, 'key' => &$spip_mots_key);
-$tables_principales['groupes_mots'] =
+$tables_principales['spip_groupes_mots'] =
 	array('field' => &$spip_groupes_mots, 'key' => &$spip_groupes_mots_key);
-$tables_principales['rubriques'] =
+$tables_principales['spip_rubriques'] =
 	array('field' => &$spip_rubriques, 'key' => &$spip_rubriques_key);
-$tables_principales['documents'] =
+$tables_principales['spip_documents'] =
 	array('field' => &$spip_documents,  'key' => &$spip_documents_key);
-$tables_principales['types_documents']	=
+$tables_principales['spip_types_documents']	=
 	array('field' => &$spip_types_documents, 'key' => &$spip_types_documents_key);
-$tables_principales['syndic'] =
+$tables_principales['spip_syndic'] =
 	array('field' => &$spip_syndic, 'key' => &$spip_syndic_key);
-$tables_principales['syndic_articles']	=
+$tables_principales['spip_syndic_articles']	=
 	array('field' => &$spip_syndic_articles, 'key' => &$spip_syndic_articles_key);
-$tables_principales['forum'] =
+$tables_principales['spip_forum'] =
 	array('field' => &$spip_forum,	'key' => &$spip_forum_key);
-$tables_principales['signatures'] =
+$tables_principales['spip_signatures'] =
 	array('field' => &$spip_signatures, 'key' => &$spip_signatures_key);
 
 ?>

Index: articles_tous.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/articles_tous.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- articles_tous.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ articles_tous.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 if (count($aff_art) > 0) $aff_art = join(',', $aff_art);

Index: inc_barre.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_barre.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_barre.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_barre.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,4 +1,15 @@
 <?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_INC_BARRE")) return;

Index: export_all.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/export_all.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- export_all.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ export_all.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 
 include_ecrire ("inc_auth.php3");

Index: spip_style.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/spip_style.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_style.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ spip_style.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,14 +1,26 @@
 <?php
 
-	include("inc_version.php3");
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
 
-	// En-tetes
-	$lastmodified = @filemtime("spip_style.php3");
-	$headers_only = http_last_modified($lastmodified, time() + 24 * 3600);
-	if ($headers_only) exit;
 
+include("inc_version.php3");
 
-	@Header ("Content-Type: text/css");
+// En-tetes
+
+if (http_last_modified(@filemtime("spip_style.php3"), time() + 24 * 3600)) 
+	exit;
+
+// mettre absolument le charset :
+// Apache-AdvancedExtranetServer & FireFox s'entendent mal sinon
+	@Header ("Content-Type: text/css; charset=iso-8859-1");
 
 	// parano XSS
 	eregi("^([#0-9a-z]*).*-([#0-9a-z]*).*-([0-9a-z]*).*-([0-9a-z]*).*", "$couleur_claire-$couleur_foncee-$left-$right", $regs);
@@ -27,7 +39,7 @@
 
 	function http_img_pack($f) { return _DIR_IMG_PACK . $f; }
 ?>
- at import "dhtml_tools.css"; 
+ at import "dhtml_tools.css";
 
 /*
  * Police par defaut (bof...)

Index: cartes.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/cartes.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- cartes.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ cartes.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -15,10 +15,10 @@
 
 
 afficher_cartes(_L("Toutes les cartes"),
-	"SELECT cartes.*, COUNT(id_objet) AS objets ".
-	"FROM spip_carto_carte AS cartes LEFT JOIN spip_carto_objet AS objets ".
-	"ON (cartes.id_carte=objets.id_carte) ".
-	"GROUP BY cartes.id_carte ORDER BY cartes.titre");
+	"SELECT cartes.*, COUNT(id_carto_objet) AS objets ".
+	"FROM spip_carto_cartes AS cartes LEFT JOIN spip_carto_objets AS objets ".
+	"ON (cartes.id_carto_carte=objets.id_carto_carte) ".
+	"GROUP BY cartes.id_carto_carte ORDER BY cartes.titre");
 //TODO : gerer un statut par objet
 //ajouter cette clause ? la jointure :
 //// AND objets.statut='valide'

Index: inc_majbase.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_majbase.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_majbase.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_majbase.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_MAJBASE")) return;
@@ -24,8 +35,9 @@
 	//
 	// Lecture de la version installee
 	//
+	// spip_query_db car on est peut-etre en cours d'installation
 	$version_installee = 0.0;
-	$result = spip_query("SELECT valeur FROM spip_meta WHERE nom='version_installee'");
+	$result = spip_query_db ("SELECT valeur FROM spip_meta WHERE nom='version_installee'");
 	if ($result) if ($row = spip_fetch_array($result)) $version_installee = (double) $row['valeur'];
 
 	//
@@ -34,10 +46,10 @@
 	//   => ne pas passer par le processus de mise a jour
 	//
 	// $version_installee = 1.702; quand on a besoin de forcer une MAJ
+
 	if (!$version_installee) {
-		include_ecrire('inc_meta.php3');
-		ecrire_meta('version_installee', $spip_version);
-		ecrire_metas();
+		spip_query_db("REPLACE spip_meta (nom, valeur)
+			VALUES ('version_installee', '$spip_version')");
 		return true;
 	}
 
@@ -360,7 +372,7 @@
 				$fichier = _DIR_IMG . $fichier;
 				$taille = @filesize($fichier);
 				$fichier = substr('../', '', $fichier);
-				$id_document = spip_abstract_insert("documents", 
+				$id_document = spip_abstract_insert("spip_documents", 
 							   "(titre, id_type, fichier, mode, largeur, hauteur, taille)",
 							   "('image $largeur x $hauteur', $id_type, '$fichier', 'vignette', '$largeur', '$hauteur', '$taille')");
 
@@ -531,7 +543,7 @@
 			$res = spip_query("SELECT * FROM spip_groupes_mots
 				WHERE titre='$type'");
 			if (spip_num_rows($res) == 0) {
-			  if ($id_groupe = spip_abstract_insert("groupes_mots", 
+			  if ($id_groupe = spip_abstract_insert("spip_groupes_mots", 
 						       "(titre, unseul, obligatoire, articles, breves, rubriques, syndic, 0minirezo, 1comite, 6forum)",
 						       "('$type', 'non', 'non', 'oui', 'oui', 'non', 'oui', 'oui', 'oui', 'non')"))
 
@@ -934,6 +946,23 @@
 		spip_query("ALTER TABLE spip_versions ADD champs text NOT NULL");
 
 		maj_version(1.809);
+	}
+
+	// Annuler les brouillons de forum jamais valides
+	if ($version_installee < 1.810) {
+		spip_query("DELETE FROM spip_forum WHERE statut='redac'");
+		maj_version(1.810);
+	}
+
+	if ($version_installee < 1.811) {
+		spip_query("ALTER TABLE spip_syndic ADD extra longblob NULL");
+		maj_version(1.811);
+	}
+	
+	if ($version_installee < 1.812) {
+		spip_query("ALTER TABLE spip_documents
+		ADD idx ENUM('', '1', 'non', 'oui', 'idx') DEFAULT '' NOT NULL");
+		maj_version(1.812);
 	}
 
 	return true;

Index: inc_import.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_import.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_import.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_import.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_IMPORT")) return;
@@ -445,6 +456,49 @@
 	echo "document.progression.taille.value='$taille';\n";
 	echo "//--></script>\n<!--\n";
 	flush();
+}
+
+function import_init()
+{
+  global $meta, $flag_gz, $buf, $pos, $abs_pos;
+	$archive = $meta["fichier_restauration"];
+	$my_pos = $meta["status_restauration"];
+	$ok = @is_readable($archive);
+
+	if ($ok) {
+		if (ereg("\.gz$", $archive)) {
+			$affiche_progression_pourcent = false;
+			$taille = taille_en_octets($my_pos);
+		}
+		else {
+			$affiche_progression_pourcent = filesize($archive);
+			$taille = floor(100 * $my_pos / $affiche_progression_pourcent)." %";
+		}
+		$texte_boite = _T('info_base_restauration')."<p>
+		<form name='progression'><center><input type='text' size=10 style='text-align:center;' name='taille' value='$taille'><br>
+		<input type='text' class='forml' name='recharge' value='"._T('info_recharger_page')."'></center></form>";
+	}
+	else {
+		$texte_boite = _T('info_erreur_restauration');
+	}
+
+	debut_boite_alerte();
+	echo "<font FACE='Verdana,Arial,Sans,sans-serif' SIZE=4 color='black'><B>$texte_boite</B></font>";
+	fin_boite_alerte();
+	fin_page("jimmac");
+	echo "</HTML><font color='white'>\n<!--";
+	@flush();
+
+	if ($ok) {
+		$_fopen = ($flag_gz) ? gzopen : fopen;
+		$f = $_fopen($archive, "rb");
+		$pos = 0;
+		$buf = "";
+		if (!import_all($f, $gz)) import_abandon();
+	}
+	else {
+		import_fin();
+	}
 }
 
 ?>

Index: inc_auth_ldap.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_auth_ldap.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_auth_ldap.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_auth_ldap.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_AUTH_LDAP")) return;

Index: install.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/install.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- install.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ install.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,4 +1,16 @@
 <?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 if (defined("_ECRIRE_INSTALL")) return;
 define("_ECRIRE_INSTALL", "1");
 
@@ -60,7 +72,7 @@
 		$nom = addslashes($nom);
 		$login = addslashes($login);
 		$query = "SELECT id_auteur FROM spip_auteurs WHERE login='$login'";
-		$result = spip_query_db($query);
+		$result = spip_query($query);
 		unset($id_auteur);
 		while ($row = spip_fetch_array($result)) $id_auteur = $row['id_auteur'];
 
@@ -73,10 +85,11 @@
 		else {
 			$query = "INSERT INTO spip_auteurs (nom, email, login, pass, htpass, alea_futur, statut) VALUES('$nom','$email','$login','$mdpass','$htpass',FLOOR(32000*RAND()),'0minirezo')";
 		}
-		spip_query_db($query);
+		spip_query($query);
 
 		// inserer email comme email webmaster principal
-		ecrire_meta('email_webmaster', $email);
+		spip_query("REPLACE spip_meta (nom, valeur)
+			VALUES ('email_webmaster', '".addslashes($email)."')");
 	}
 
 	include_ecrire("inc_config.php3");
@@ -179,18 +192,22 @@
 	echo $sel_db;
 	mysql_select_db("$sel_db");
 
+	// Message pour spip_query : tout va bien !
+	$GLOBALS['db_ok'] = true;
+	$GLOBALS['spip_connect_version'] = 0.1; # cf. inc_version
+
 	// Test si SPIP deja installe
-	@spip_query_db("SELECT COUNT(*) FROM spip_meta");
+	spip_query("SELECT COUNT(*) FROM spip_meta");
 	$nouvelle = spip_sql_errno();
-
 	creer_base();
+
 	$maj_ok = maj_base();
 
 	if ($nouvelle) {
-		spip_query_db("INSERT spip_meta (nom, valeur) VALUES ('nouvelle_install', 'oui')");
+		spip_query("INSERT spip_meta (nom, valeur) VALUES ('nouvelle_install', 'oui')");
 		$result_ok = !spip_sql_errno();
 	} else {
-		$result = spip_query_db("SELECT COUNT(*) FROM spip_articles");
+		$result = spip_query("SELECT COUNT(*) FROM spip_articles");
 		$result_ok = (spip_num_rows($result) > 0);
 	}
 	echo "($result_ok && $maj_ok) -->";
@@ -392,9 +409,7 @@
 		echo "<p align='center'><img src='" . _DIR_IMG_PACK . "logo-spip.gif'></p>";
 		
 		echo "<p style='text-align: center; font-family: Verdana,Arial,Sans,sans-serif; font-size: 10px;'>";
-		echo "<b>SPIP $spip_version_affichee</b> ";
-		echo _T('info_copyright');
-
+		echo info_copyright();
 		echo "</p>";
 
 		echo "<p>" . _T('install_select_langue');

Index: suivi_revisions.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/suivi_revisions.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- suivi_revisions.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ suivi_revisions.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include("inc_lab.php");
 
 include_ecrire("inc_suivi_revisions.php");

Index: inc_invalideur.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_invalideur.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_invalideur.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_invalideur.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INVALIDEUR")) return;
 define("_ECRIRE_INVALIDEUR", "1");
@@ -10,26 +21,37 @@
 	spip_query("DELETE FROM spip_caches");
 }
 
+
+// Compilateur : ajouter un invalideur "$type/$valeur" a un code donne
+// Attention le type est compile, pas forcement la valeur
+function ajouter_invalideur($type, $valeur, $code) {
+	return '
+	// invalideur '.$type.'
+	(!($Cache[\''.$type.'\']['.$valeur."]=1) ? '':\n\t" . $code .")\n";
+}
+
+
 //
-// Noter dans la base les liens d'invalidation
+// Calcul des pages : noter dans la base les liens d'invalidation
 //
-function maj_invalideurs ($fichier, $infosurpage, $delais) {
+function maj_invalideurs ($fichier, $invalideurs, $delais) {
 	$fichier = addslashes($fichier); #parano
 	if ($fichier == '') return;	// ne pas noter les POST et les delais=0
 	spip_query("DELETE FROM spip_caches WHERE fichier='$fichier'");
 
 	// invalidation des forums (l'invalideur est : 'id_forum/a23')
-	insere_invalideur($infosurpage['id_forum'],'id_forum', $fichier);
+	insere_invalideur($invalideurs['id_forum'], 'id_forum', $fichier);
 
-	// invalidation des petitions (l'invalideur est : 'petition/petition')
-	insere_invalideur($infosurpage['petition'],'petition', $fichier);
+	// invalidation des petitions et autres
+	// (l'invalideur est par exemple : 'varia/petition')
+	insere_invalideur($invalideurs['varia'], 'varia', $fichier);
 
 	// invalidation du reste - experimental a activer dans mes_options
 	if ($GLOBALS['invalider_caches']) {
-		insere_invalideur($infosurpage['id_article'],'id_article', $fichier);
-		insere_invalideur($infosurpage['id_breve'], 'id_breve', $fichier);
-		insere_invalideur($infosurpage['id_rubrique'],'id_rubrique', $fichier);
-		insere_invalideur($infosurpage['id_syndic'],'id_syndic', $fichier);
+		insere_invalideur($invalideurs['id_article'],'id_article', $fichier);
+		insere_invalideur($invalideurs['id_breve'], 'id_breve', $fichier);
+		insere_invalideur($invalideurs['id_rubrique'],'id_rubrique', $fichier);
+		insere_invalideur($invalideurs['id_syndic'],'id_syndic', $fichier);
 	}
 }
 
@@ -38,12 +60,11 @@
 		$values = array();
 		foreach($a as $k => $v)
 			$values[] = "('$fichier', '$type/$k')";
-			$query = "INSERT IGNORE INTO spip_caches" .
-		" (fichier, id) VALUES " . join(", ", $values);
-		spip_query($query);
-		# spip_log("Dependances $type: " . join(", ", $values));
+		spip_query ("INSERT IGNORE INTO spip_caches
+			(fichier, id) VALUES " . join(", ", $values));
 	}
 }
+
 
 //
 // Invalider les caches lies a telle condition

Index: info.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/info.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- info.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ info.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 if (_FILE_CONNECT) {
 	include_ecrire ("inc_auth.php3");

Index: win_png.htc
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/win_png.htc,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- win_png.htc	13 Jan 2005 15:37:16 -0000	1.1
+++ win_png.htc	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,47 +1,47 @@
-<public:component>
-<public:attach event="onpropertychange" onevent="propertyChanged()" />
-<script>
-
-var supported = /MSIE (5\.5)|[6789]/.test(navigator.userAgent) && navigator.platform == "Win32";
-var realSrc;
-var blankSrc = "img_pack/rien.gif";
-
-if (supported) fixImage();
-
-function propertyChanged() {
-   if (!supported) return;
-   
-   var pName = event.propertyName;
-   if (pName != "src") return;
-   // if not set to blank
-   if ( ! new RegExp(blankSrc).test(src))
-      fixImage();
-};
-
-function fixImage() {
-   // get src
-   var src = element.src;
-
-   // check for real change
-   if (src == realSrc) {
-      element.src = blankSrc;
-      return;
-   }
-
-   if ( ! new RegExp(blankSrc).test(src)) {
-      // backup old src
-      realSrc = src;
-   }
-   
-   // test for png
-   if ( /\.png$/.test( realSrc.toLowerCase() ) ) {
-      // set blank image
-      element.src = blankSrc;
-      // set filter
-      element.runtimeStyle.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" +
-                                     src + "',sizingMethod='scale')";
-   }
-}
-
-</script>
+<public:component>
+<public:attach event="onpropertychange" onevent="propertyChanged()" />
+<script>
+
+var supported = /MSIE (5\.5)|[6789]/.test(navigator.userAgent) && navigator.platform == "Win32";
+var realSrc;
+var blankSrc = "img_pack/rien.gif";
+
+if (supported) fixImage();
+
+function propertyChanged() {
+   if (!supported) return;
+   
+   var pName = event.propertyName;
+   if (pName != "src") return;
+   // if not set to blank
+   if ( ! new RegExp(blankSrc).test(src))
+      fixImage();
+};
+
+function fixImage() {
+   // get src
+   var src = element.src;
+
+   // check for real change
+   if (src == realSrc) {
+      element.src = blankSrc;
+      return;
+   }
+
+   if ( ! new RegExp(blankSrc).test(src)) {
+      // backup old src
+      realSrc = src;
+   }
+   
+   // test for png
+   if ( /\.png$/.test( realSrc.toLowerCase() ) ) {
+      // set blank image
+      element.src = blankSrc;
+      // set filter
+      element.runtimeStyle.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" +
+                                     src + "',sizingMethod='scale')";
+   }
+}
+
+</script>
 </public:component>

Index: mots_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/mots_edit.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- mots_edit.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ mots_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_logos.php3");
 include_ecrire ("inc_sites.php3");
@@ -28,7 +39,7 @@
 
 	if ($titre_mot) {
 		if ($new == 'oui' && $id_groupe) {
-		  $id_mot = spip_abstract_insert("mots", '(id_groupe)', "($id_groupe)");
+		  $id_mot = spip_abstract_insert("spip_mots", '(id_groupe)', "($id_groupe)");
 
 
 			// ajouter le mot a l'article
@@ -122,11 +133,9 @@
 // Logos du mot-clef
 //
 
-$arton = "moton$id_mot";
-$artoff = "motoff$id_mot";
-
 if ($id_mot > 0 AND $connect_statut == '0minirezo')
-	afficher_boite_logo($arton, $artoff, _T('logo_mot_cle').aide("breveslogo"), _T('logo_survol'));
+	afficher_boite_logo('mot', 'id_mot', $id_mot,
+	_T('logo_mot_cle').aide("breveslogo"), _T('logo_survol'));
 
 
 //
@@ -246,7 +255,7 @@
 		$row_groupes = spip_fetch_array($result);
 		if (!$row_groupes) {
 			// il faut creer un groupe de mots (cas d'un mot cree depuis articles.php3)
-		  $row_groupes['id_groupe'] = spip_abstract_insert("groupes_mots",
+		  $row_groupes['id_groupe'] = spip_abstract_insert("spip_groupes_mots",
 							  "(titre, unseul, obligatoire, articles, breves, rubriques, syndic, 0minirezo, 1comite, 6forum)",
 							  "('" .
 							  addslashes(_T('info_mot_sans_groupe'))."', 'non',  'non', 'oui', 'oui', 'non', 'oui', 'oui', 'non', 'non'");

Index: pclzip.lib.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/pclzip.lib.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- pclzip.lib.php	13 Jan 2005 15:37:16 -0000	1.1
+++ pclzip.lib.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,9939 +1,4970 @@
 <?php
-
 // --------------------------------------------------------------------------------
-
 // PhpConcept Library - Zip Module 2.1
-
 // --------------------------------------------------------------------------------
-
 // License GNU/LGPL - Vincent Blavet - December 2003
-
 // http://www.phpconcept.net
[...9909 lines suppressed...]
-
       // ----- Change potential windows directory separator
-
       if ((strpos($p_path, '\\') > 0) || (substr($p_path, 0,1) == '\\')) {
-
           $p_path = strtr($p_path, '\\', '/');
-
       }
-
     }
-
     return $p_path;
-
   }
-
   // --------------------------------------------------------------------------------
-
-
 
 ?>

Index: layer.js
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/layer.js,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- layer.js	13 Jan 2005 15:37:16 -0000	1.1
+++ layer.js	20 Feb 2005 22:19:26 -0000	1.2
@@ -38,15 +38,15 @@
 		}
 	}
 
-function swap_couche(couche, rtl, dir) {
+function swap_couche(couche, rtl, dir, no_swap) {
 	triangle = findObj('triangle' + couche);
 	if (!(layer = findObj('Layer' + couche))) return;
 	if (vis[couche] == 'hide'){
-		if (triangle) triangle.src = dir + 'deplierbas.gif';
+		if (!no_swap && triangle) triangle.src = dir + 'deplierbas.gif';
 		layer.style.display = 'block';
 		vis[couche] = 'show';
 	} else {
-		if (triangle) triangle.src = dir + 'deplierhaut' + rtl + '.gif';
+		if (!no_swap && triangle) triangle.src = dir + 'deplierhaut' + rtl + '.gif';
 		layer.style.display = 'none';
 		vis[couche] = 'hide';
 	}
@@ -75,4 +75,17 @@
 			fermer_couche(j,rtl, dir);
 		}
 	}
+}
+
+function acceder_couche(couches, n, dir, icone, texte, sens) {
+	  javasc = ''
+	  for (j=0; j<couches.length; j+=1)
+	  	javasc += 'swap_couche(' + couches[j][0] + ", '" + sens + "','" + dir + "', " + couches[j][1] + ");";
+	  
+	document.write('<a class="triangle_block" href="javascript:' +
+	    javasc +
+	    '"><img name="triangle' + n + '" src="' +
+	    dir + icone + '" alt="" title="' +
+	    texte +
+	    '" width="10" height="10" border="0"></a>');
 }

Index: statistiques.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/statistiques.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- statistiques.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ statistiques.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 

Index: auteur_infos.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/auteur_infos.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- auteur_infos.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ auteur_infos.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_acces.php3");
 include_ecrire ("inc_logos.php3");
@@ -167,7 +178,8 @@
 		$alea_futur = creer_uniqid();
 		$pass = md5($alea_actuel.$new_pass);
 		$query_pass = " pass='$pass', htpass='$htpass', alea_actuel='$alea_actuel', alea_futur='$alea_futur', ";
-		effacer_low_sec($auteur['id_auteur']);
+		if ($auteur['id_auteur'])
+		  effacer_low_sec($auteur['id_auteur']);
 	} else
 		$query_pass = '';
 
@@ -182,7 +194,7 @@
 	// l'entrer dans la base
 	if (!$echec) {
 		if (!$auteur['id_auteur']) { // creation si pas d'id
-		  $auteur['id_auteur'] = spip_abstract_insert("auteurs", "(nom)", "('temp')");
+		  $auteur['id_auteur'] = spip_abstract_insert("spip_auteurs", "(nom)", "('temp')");
 
 			$id_auteur = $auteur['id_auteur'];
 
@@ -434,7 +446,7 @@
 	if (($statut == '6forum') OR (lire_meta('accepter_visiteurs') == 'oui') OR (lire_meta('forums_publics') == 'abo'))
 		echo "<OPTION".mySel("6forum",$statut).">"._T('item_visiteur');
 	echo "<OPTION".mySel("5poubelle",$statut).
-	  " style='background:url(" . _DIR_RESTREINT . "rayures-sup.gif)'>&gt; "._T('texte_statut_poubelle');
+	  " style='background:url(" . _DIR_IMG_PACK . "rayures-sup.gif)'>&gt; "._T('texte_statut_poubelle');
 
 	echo "</SELECT></center>\n";
 	fin_cadre_relief();

Index: inc_debug_sql.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_debug_sql.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_debug_sql.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_debug_sql.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_INC_DEBUG_SQL")) return;
@@ -10,23 +21,22 @@
 // ajouter &var_mode=debug pour voir les erreurs et en parler sur spip at rezo.net
 function affiche_erreurs_page($tableau_des_erreurs) {
 
-	echo "<div id='spip-debug' style='position: absolute; top: 20;",
-	" z-index: 1000;'><ul><li>",
-	_L("Erreur(s) dans le squelette"),
-
+	$GLOBALS['bouton_admin_debug'] = true;
+	$res = '';
+	foreach ($tableau_des_erreurs as $err) {
+		$res .= "<li>" .$err[0] . ", <small>".$err[1]."</small><br /></li>\n";
+	}
+	return "<div id='spip-debug' style='"
+	. "position: absolute; top: 20px; left: 20px; z-index: 1000;"
+	. "'><ul><li>"
+	. _T('zbug_erreur_squelette')
 ## aide locale courte a ecrire, avec lien vers une grosse page de documentation
 #		aide('erreur_compilation'),
+	. "<br /></li>"
+	. "<ul>"
+	. $res
+	. "</ul></ul></div>";
 
-	"<br /></li>",
-	"<ul>";
-	foreach ($tableau_des_erreurs as $err) {
-		echo "<li>".$err[0],
-		", <small>".$err[1]."</small><br />",
-		"</li>\n";
-	}
-	echo "</ul>";
-	echo "</ul></div>";
-	$GLOBALS['bouton_admin_debug'] = true;
 }
 
 //
@@ -36,7 +46,7 @@
 function erreur_requete_boucle($query, $id_boucle, $type) {
 
 	// Calmer le jeu avec MySQL (si jamais on est en saturation)
-	@touch(_FILE_MYSQL_OUT);	// pour spip_cron
+	spip_touch(_FILE_MYSQL_OUT); // pour spip_cron
 	spip_log('Erreur MySQL: on limite les acces quelques minutes');
 	$GLOBALS['bouton_admin_debug'] = true;
 
@@ -93,11 +103,12 @@
 	$tableau_des_erreurs[] = array($message, $lieu);
 	// Eviter les boucles infernales
 	if (++$runs > 4) {
-		if ($HTTP_COOKIE_VARS['spip_admin'] OR
+		if ($_COOKIE['spip_admin'] OR
 		$auteur_session['statut'] == '0minirezo' OR
 		    ($GLOBALS['var_mode'] == 'debug')) {
-			echo debut_entete('Debug'), '</head><body>';
-			die(affiche_erreurs_page($tableau_des_erreurs));
+			echo debut_entete(_T('admin_debug')), '</head><body>',
+				affiche_erreurs_page($tableau_des_erreurs);
+			exit;
 		}
 	}
 }
@@ -166,15 +177,15 @@
 // - ca fait 2 headers !
 	ob_end_clean();
 
-	echo debut_entete('Debug'), 
+	echo debut_entete('Spip ' . _T('admin_debug')), 
 	  "<link rel='stylesheet' href='spip_admin.css' type='text/css' />",
 	  "</head>\n<body>",
-	  "<div id='spip-debug' style='position: absolute; top: 20; z-index: 1000;'><ul>\n"; 
+	  "<div id='spip-debug' style='position: absolute; top: 20px; z-index: 1000;'><ul>\n"; 
 
 	foreach ($debug_objets['sourcefile'] as $nom_skel => $sourcefile) {
 		echo "<li><b>",$sourcefile,"</b>";
-		echo " <a href='",$self, "&var_mode_objet=$nom_skel&var_mode_affiche=resultat'>resultat</a>";
-		echo " <a href='", $self, "&var_mode_objet=$nom_skel&var_mode_affiche=code'>code</a>";
+		echo " <a href='",$self, "&var_mode_objet=$nom_skel&var_mode_affiche=resultat'>"._T('zbug_resultat')."</a>";
+		echo " <a href='", $self, "&var_mode_objet=$nom_skel&var_mode_affiche=code'>"._T('zbug_code')."</a>";
 		echo "<table width='100%'>\n";
 		$i = 0;
 		$colors = array('#c0c0c0', '#c0cad4');
@@ -185,7 +196,7 @@
 				$aff = "&lt;".$pretty."&gt;";
 				if ($var_mode_objet == $nom)
 					$aff = "<b>$aff</b>";
-				echo "<tr bgcolor='" . $colors[$i%2] . "'><td  align='right'>$i</td><td><a href='",$self,"&var_mode_objet=$nom&var_mode_affiche=boucle' class='debug_link_boucle'>boucle</a></td><td><a href='",$self, "&var_mode_objet=$nom&var_mode_affiche=resultat' class='debug_link_resultat'>resultat</a></td><td><a href='", $self, "&var_mode_objet=$nom&var_mode_affiche=code' class='debug_link_code'>code</a></td><td>$aff</td></tr>";
+				echo "<tr bgcolor='" . $colors[$i%2] . "'><td  align='right'>$i</td><td><a href='",$self,"&var_mode_objet=$nom&var_mode_affiche=boucle' class='debug_link_boucle'>"._T('zbug_boucle')."</a></td><td><a href='",$self, "&var_mode_objet=$nom&var_mode_affiche=resultat' class='debug_link_resultat'>"._T('zbug_resultat')."</a></td><td><a href='", $self, "&var_mode_objet=$nom&var_mode_affiche=code' class='debug_link_code'>"._T('zbug_code')."</a></td><td>$aff</td></tr>";
 			}
 		echo "</table>\n</li>\n";
 	}
@@ -194,7 +205,7 @@
 	  if ($var_mode_affiche == 'resultat') {
 		echo "<div id=\"debug_boucle\"><fieldset><legend>",$debug_objets['pretty'][$var_mode_objet],"</legend>";
 		highlight_string($debug_objets['requete'][$var_mode_objet]);
-		echo "<p class='spip-admin-bloc'>les premiers appels &agrave; cette boucle ont donn&eacute;&nbsp;:</p>";
+#		echo "<p class='spip-admin-bloc'>les premiers appels &agrave; cette boucle ont donn&eacute;&nbsp;:</p>";
 		foreach ($res as $view) 
 			if ($res) echo "<br><fieldset>",interdire_scripts($view),"</fieldset>";
 		echo "</fieldset></div>";
@@ -230,7 +241,9 @@
 	  echo "</fieldset></div>";
 	}
 	echo "\n</div>";
-	echo inclure_balise_dynamique(balise_formulaire_admin_dyn('','','','','',$debug_objets));
+	echo inclure_balise_dynamique(
+		balise_FORMULAIRE_ADMIN_dyn('div', $debug_objets)
+	);
 	echo '</body></html>';
 	exit;
 }

Index: rubriques_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/rubriques_edit.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- rubriques_edit.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ rubriques_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 
@@ -62,7 +73,7 @@
 			if (lire_meta('multi_rubriques') == 'oui' AND $langue_choisie_rub == "oui") $titre = $titre." [".traduire_nom_langue($lang_rub)."]";
 
 			$selec_rub = "selec_rub";
-			if ($browser_name == "MSIE" AND $browser_version == "5.0b1") $selec_rub = ""; // Bug de MSIE MacOs 9.0
+			if ($browser_name == "MSIE" AND floor($browser_version) == "5") $selec_rub = ""; // Bug de MSIE MacOs 9.0
 
 			if (acces_rubrique($my_rubrique)) {
 				echo "<option".mySel($my_rubrique,$id_parent)." class='$selec_rub' style=\"$style\">$espace".supprimer_tags($titre)."\n";

Index: articles_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/articles_edit.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- articles_edit.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ articles_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,15 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
 include ("inc.php3");
 include_ecrire ("inc_documents.php3");
 include_ecrire ("inc_barre.php3");
@@ -135,26 +145,6 @@
 	die ("<H3>"._T('info_acces_interdit')."</H3>");
 }
 
-if ($id_article && $id_document) {
-	$query_doc = "SELECT * FROM spip_documents_articles WHERE id_document=$id_document AND id_article=$id_article";
-	$result_doc = spip_query($query_doc);
-	$flag_document_editable = (spip_num_rows($result_doc) > 0);
-} else {
-	$flag_document_editable = false;
-}
-
-$modif_document = $GLOBALS['modif_document'];
-if ($modif_document == 'oui' AND $flag_document_editable) {
-	$titre_document = addslashes(corriger_caracteres($titre_document));
-	$descriptif_document = addslashes(corriger_caracteres($descriptif_document));
-	$query = "UPDATE spip_documents SET titre='$titre_document', descriptif='$descriptif_document'";
-	if ($largeur_document AND $hauteur_document) $query .= ", largeur='$largeur_document', hauteur='$hauteur_document'";
-	$query .= " WHERE id_document=$id_document";
-	spip_query($query);
-}
-
-
-
 
 //
 // Gestion des textes trop longs (limitation brouteurs)
@@ -201,16 +191,18 @@
 //
 
 if ($new != 'oui'){
+	# modifs de la description d'un des docs joints
+	if ($flag_editable) maj_documents($id_article, 'article');
+
+	# affichage
 	afficher_documents_colonne($id_article, 'article', $flag_editable);
 ///////////////////////////
 //MODIFICATION
 ///////////////////////////
-	if (lire_meta('activer_forms') == 'oui'){
-		include_ecrire ("inc_forms.php3");
-		afficher_insertion_formulaire($id_article);
-	}
+	creer_colonne_droite();
 	if (lire_meta('activer_carto') == 'oui'){
-		//include_ecrire ("inc_carto.php3");
+		//on l'a deja ?
+		include_ecrire ("inc_carto.php3");
 		afficher_insertion_carte($id_article);
 	}
 ////////////////////////////
@@ -338,7 +330,7 @@
 		}
 
 			$selec_rub = "selec_rub";
-			if ($browser_name == "MSIE" AND $browser_version == "5.0b1") $selec_rub = ""; // Bug de MSIE MacOs 9.0
+			if ($browser_name == "MSIE" AND floor($browser_version) == "5") $selec_rub = ""; // Bug de MSIE MacOs 9.0
 
 		if ($rubrique_acceptable) {
 			if ($i == 1 && !$premier) echo "<option value='$my_rubrique'>\n"; // sert a separer les secteurs

Index: articles_ortho.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/articles_ortho.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- articles_ortho.php	13 Jan 2005 15:37:16 -0000	1.1
+++ articles_ortho.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include("inc_lab.php");
 
 include_spip("ecrire.php");

Index: inc_carto.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_carto.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_carto.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_carto.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -4,11 +4,31 @@
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CARTE")) return;
 define("_ECRIRE_INC_CARTE", "1");
-
-function embed_map_url($id_carte, $url_parse) {
+function coords2wtk($selection_type,$selection_coords){
+	
+	return $selection_type."(".$selection_coords.")";
+}
+function wtktoarray($callage){	
+	$curseur=strpos($callage,"(");
+	$tabcallage['shape']=substr($callage,0,$curseur);
+	$curseur2=strpos($callage,",");
+	$tabcallage['top_left']['x']=substr($callage,$curseur+1,$curseur2-$curseur-1);
+	$curseur=strpos($callage,";");
+	$tabcallage['top_left']['y']=substr($callage,$curseur2+1,$curseur-$curseur2-1);
+	$curseur2=strrpos($callage,",");
+	$tabcallage['bottom_right']['x']=substr($callage,$curseur+1,$curseur2-$curseur-1);
+	$curseur=strpos($callage,")");
+	$tabcallage['bottom_right']['y']=substr($callage,$curseur2+1,$curseur-$curseur2-1);
+	return $tabcallage;
+}
+function embed_carto_url($id_carte, $url_parse) {
 	$lURL = $url_parse['path']."/carto.php3?id_carte=".$id_carte."&scale=".$_GET['scale']."&x=".$_GET['x']."&y=".$_GET['y'];
 	return $lURL;
 }
+function embed_fond_carte_url($fond_carte) {
+	$lURL = "../spip_carto.php?fond_carte=".$fond_carte."&scale=".$_GET['scale']."&x=".$_GET['x']."&y=".$_GET['y'];
+	return $lURL;
+}
 
 function afficher_cartes($titre_table, $requete, $icone = '') {
 	global $couleur_claire, $couleur_foncee;
@@ -32,14 +52,13 @@
 		$premier = true;
 		
 		$compteur_liste = 0;
-		while ($row = spip_fetch_array($result)) {
-			$vals = '';
-			$id_carte= $row['id_carte'];
+
+		echo "<table width='100%' cellpadding='3' cellspacing='0' border='0'>";
+			while ($row = spip_fetch_array($result)) {
+			$id_carte= $row['id_carto_carte'];
 			$objets= $row['objets'];
 			$titre = $row['titre'];
 			
-			$tous_id[] = $id_carte;
-
 			$link = new Link("carte_edit.php3");
 			$link->addVar("id_carte", $id_carte);
 			$link->addVar("retour", $GLOBALS['clean_link']->getUrl());
@@ -50,39 +69,41 @@
 				$puce = 'puce-orange-breve.gif';
 			}
 
-			$s = "<a href=\"".$link->getUrl()."\">";
-			$s .= "<img src='img_pack/$puce' width='7' height='7' border='0'>&nbsp;&nbsp;";
-			$s .= typo($titre);
-			$s .= "</a> &nbsp;&nbsp;";
-			$vals[] = $s;
+			echo "<tr class='tr_liste'><td class=\"arial11\">";
+			echo "<a href=\"".$link->getUrl()."\">";
+			echo  "<img src='img_pack/$puce' width='7' height='7' border='0'>&nbsp;&nbsp;";
+			echo  typo($titre);
+			echo "</a><br/>";
 			
-			$s = "";
-			$vals[] = $s;
-
-			$s = "";
-			if ($reponses) {
-				$s .= $reponses." "._L("r&eacute;ponses");
-			}
-			$vals[] = $s;
-			$table[] = $vals;
+			//articles li?s
+			afficher_articles(_L("Articles utilisant cette carte"),
+				", spip_carto_cartes_articles AS lien WHERE lien.id_article=articles.id_article ".
+				"AND id_carto_carte=$id_carte AND statut!='poubelle' ORDER BY titre");
+			
+			echo "</a><br/><td></tr>";
+				
 		}
 		spip_free_result($result);
 		
-		$largeurs = array('','','');
-		$styles = array('arial11', 'arial1', 'arial1');
-		afficher_liste($largeurs, $table, $styles);
 		echo "</table>";
 		echo "</div>\n";
 	}
 	return $tous_id;
 }
 
-function afficher_carte_inteface($fichier,$id_carte,$width,$height) {
+
+function afficher_carte_inteface($id_carte,$retour,$fichier,$callage) {
+	$width=$callage['bottom_right']['x']-$callage['top_left']['x'];
+	$height=$callage['bottom_right']['y']-$callage['top_left']['y'];
 	$returned='<script type="text/javascript" src="js/x_core_nn4.js"></script>
 <script type="text/javascript" src="js/x_dom_nn4.js"></script>
 <script type="text/javascript" src="js/x_event_nn4.js"></script>
 <script type="text/javascript" src="js/navTools.js"></script>
 <script type="text/javascript" src="js/graphTools.js"></script>
+<form method="get" action="#nouveau_objet" name="carto_form">
+ <table border="1">
+  <tr> 
+   <td colspan="7">
 <script type="text/javascript">
 /*<![CDATA[*/ 
     var dhtmlDivs = new String();
@@ -126,7 +147,7 @@
       
       // map units values
 	  // dynamically given by the server
-      dhtmlBox.mapHeight = 300;
+      dhtmlBox.mapHeight = '.$height.';
       dhtmlBox.boxx = 470000;
       dhtmlBox.boxy = 46300;
       dhtmlBox.pixel_size = 924.83333333334;
@@ -146,37 +167,50 @@
     }
 	/*]]>*/
   </script>
-<form method="get" action="#" name="carto_form">
-  <table>
-    <tr> 
-      <td> <input type="hidden" name="id_carte" value="'.$id_carte.'"/> <input type="hidden" name="selection_type" /> <input type="hidden" name="selection_coords" /> 
-        <div id="mapAnchorDiv" style="position:relative; width:'.$width.'px; height:'.$height.'px;"> 
-          <table>
-            <tr> 
-              <td align="center" valign="middle" width="'.$width.'px" height="'.$height.'px"><div id="loadbar">Loading 
-                  message</div></td>
-            </tr>
-          </table>
-        </div></td>
-      <td> <p> 
-          <!-- input value use : shapeType,action,cursorStyle,toolName (with no blank spaces!)-->
-          <input type="radio" name="tool" value="rectangle,submit,crossHair,zoom_in"  checked="checked"  id="zoom_in" onclick="dhtmlBox.changeTool()" />
+    <input type="hidden" name="id_carte" value="'.$id_carte.'"/>
+	<input type="hidden" name="retour" value="'.$retour.'"/>
+	<input type="hidden" name="selection_type" />
+	<input type="hidden" name="selection_coords" />
+	<div id="mapAnchorDiv" style="position:relative; width:'.$width.'px; height:'.$height.'px;"> 
+     <table>
+      <tr> 
+       <td align="center" valign="middle" width="'.$width.'px" height="'.$height.'px">
+		<div id="loadbar">Loading message</div>
+	   </td>
+      </tr>
+     </table>
+    </div>
+   </td>
+  </tr>
+  <tr>
+   <td> 
+    <input type="radio" name="tool" value="rectangle,submit,crossHair,zoom_in"  id="zoom_in" onclick="dhtmlBox.changeTool()" />
           zoom_in<br />
-          <input type="radio" name="tool" value="point,submit,crossHair,zoom_out"  id="zoom_out" onclick="dhtmlBox.changeTool()" />
+   </td>
+   <td>
+    <input type="radio" name="tool" value="point,submit,crossHair,zoom_out"  id="zoom_out" onclick="dhtmlBox.changeTool()" />
           zoom out<br />
-          <input type="radio" name="tool" value="pan,submit,move,pan"  id="pan" onclick="dhtmlBox.changeTool()" />
+   </td>
+   <td>
+    <input type="radio" name="tool" value="pan,submit,move,pan"  id="pan" onclick="dhtmlBox.changeTool()" />
           pan<br />
-          <input type="radio" name="tool" value="rectangle,submit,help,query"  id="query" onclick="dhtmlBox.changeTool()" />
+   </td>
+   <td>
+    <input type="radio" name="tool" value="rectangle,submit,help,query"  id="query" onclick="dhtmlBox.changeTool()" />
           query<br />
-          <input type="radio" name="tool" value="point,submit,crossHair,point"   id="point" onclick="dhtmlBox.changeTool()" />
+   </td>
+   <td>
+    <input type="radio" name="tool" value="point,submit,crossHair,point"   id="point" onclick="dhtmlBox.changeTool()" />
           line submit<br />
-          <input type="radio" name="tool" value="line,submit,crossHair,line"   id="line" onclick="dhtmlBox.changeTool()" />
+   </td>
+   <td>
+    <input type="radio" name="tool" value="line,submit,crossHair,line"   id="line" onclick="dhtmlBox.changeTool()" />
           line submit<br />
-          <input type="radio" name="tool" value="polygon,submit,crossHair,polygon"   id="toto" onclick="dhtmlBox.changeTool()" />
+          </td><td><input type="radio" name="tool" value="polygon,submit,crossHair,polygon"   checked="checked"  id="polygon" onclick="dhtmlBox.changeTool()" />
           polygon submit<br />
-        </p></td>
-    </tr>
-  </table>
+   </td>
+  </tr>
+ </table>
 </form>';
 	return $returned;
 }
@@ -213,14 +247,14 @@
 		"de l'article.");
 	echo "</div>";
 
-	$query = "SELECT id_carte, titre FROM spip_carto_carte ORDER BY titre";
+	$query = "SELECT id_carto_carte, titre FROM spip_carto_cartes ORDER BY titre";
 	$result = spip_query($query);
 	if (spip_num_rows($result)) {
 		echo "<br />\n";
 		echo "<div class='bandeau_rubriques' style='z-index: 1;'>";
 		echo "<div class='plan-articles'>";
 		while ($row = spip_fetch_array($result)) {
-			$id_carte = $row['id_carte'];
+			$id_carte = $row['id_carto_carte'];
 			$titre = typo($row['titre']);
 			
 			$link = new Link("carte_edit.php3");
@@ -231,7 +265,13 @@
 			echo "<div class='arial1' align='$spip_lang_right' style='color: black; padding-$spip_lang_left: 4px;' ".
 				"title=\""._L("Recopiez ce raccourci dans le texte de l'article pour ins&eacute;rer ce formulaire.").
 				"\">";
-			echo "<font color='333333'><div align='left'>&lt;map$id_carte|left&gt;</div><div align='center'>&lt;map$id_carte|center&gt;</div><div align='right'>&lt;map$id_carte|right&gt;</div></font>\n";
+			echo "<font color='333333'>";
+			echo "<div align='right'>Simple map : &lt;map$id_carte&gt;</div>";
+			echo "<div align='right'>Avec logo : &lt;map$id_carte|logo&gt;</div>";
+			echo "<div align='right'>Avec lien : &lt;map$id_carte|lien&gt;</div>";
+//			echo "<div align='right'>Avec logo survol : &lt;map$id_carte|logox&gt;</div>";
+//			echo "<div align='right'>Objet SVG : &lt;map$id_carte|svg&gt;</div>";
+			echo "</font>\n";
 			echo "</div>";
 		}
 		echo "</div>";

Index: breves_voir.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/breves_voir.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- breves_voir.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ breves_voir.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_logos.php3");
 include_ecrire ("inc_mots.php3");
@@ -49,7 +60,7 @@
 	}
 }
 
-function afficher_jour($jour){
+function afficher_jour($jour) {
 	my_sel("00",_T('jour_non_connu_nc'),$jour);
 	for($i=1;$i<32;$i++){
 		if ($i<10){$aff="&nbsp;".$i;}else{$aff=$i;}
@@ -67,12 +78,15 @@
 	if (!$langue_new) $langue_new = lire_meta('langue_site');
 	$langue_choisie_new = 'non';
 
-	$id_breve = spip_abstract_insert("breves", "(titre, date_heure, id_rubrique, statut, lang, langue_choisie)", 
-			      "('"._T('item_nouvelle_breve')."', NOW(), '$id_rubrique', 'refuse', '$langue_new', '$langue_choisie_new')");
-}
-
+	$id_breve = spip_abstract_insert("spip_breves",
+		"(titre, date_heure, id_rubrique, statut, lang, langue_choisie)", 
+		"('"._T('item_nouvelle_breve')."', NOW(), '$id_rubrique', 'refuse', '$langue_new', '$langue_choisie_new')");
 
-$clean_link = new Link("breves_voir.php3?id_breve=$id_breve");
+	// Modifier le lien de base pour qu'il prenne en compte le nouvel id
+	unset($_POST['id_rubrique']);
+	$_POST['id_breve'] = $id_breve;
+	$clean_link = new Link();
+}
 
 
 if ($titre AND $modifier_breve) {
@@ -179,11 +193,9 @@
 // Logos de la breve
 //
 
-$arton = "breveon$id_breve";
-$artoff = "breveoff$id_breve";
-
 if ($id_breve>0 AND ($connect_statut == '0minirezo' AND acces_rubrique($id_rubrique)))
-	afficher_boite_logo($arton, $artoff, _T('logo_breve').aide ("breveslogo"), _T('logo_survol'));
+	afficher_boite_logo('breve', 'id_breve', $id_breve,
+	_T('logo_breve').aide ("breveslogo"), _T('logo_survol'));
 
 debut_raccourcis();
 icone_horizontale(_T('icone_nouvelle_breve'), "breves_edit.php3?new=oui", "breve-24.gif","creer.gif");

Index: inc_session.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_session.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_session.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_session.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,4 +1,15 @@
 <?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_SESSION")) return;
@@ -19,8 +30,8 @@
 // On verifie l'IP et le nom du navigateur
 //
 function hash_env() {
-	global $HTTP_SERVER_VARS;
-	return md5($HTTP_SERVER_VARS['REMOTE_ADDR'] . $HTTP_SERVER_VARS['HTTP_USER_AGENT']);
+	global $_SERVER;
+	return md5($_SERVER['REMOTE_ADDR'] . $_SERVER['HTTP_USER_AGENT']);
 }
 
 
@@ -53,7 +64,7 @@
  		fclose($f);
 	} else {
 		redirige_par_entete(lire_meta("adresse_site") .
-				    "spip_test_dirs.php3");
+				    "/spip_test_dirs.php3");
 	}
 }
 
@@ -133,10 +144,7 @@
 
 	$s = mt_rand();
 	if (!$s) $s = rand();
-	if ($GLOBALS['flag_uniqid2'])
-		return uniqid($s, 1);
-	else
-		return uniqid($s);
+	return uniqid($s, 1);
 }
 
 
@@ -177,14 +185,14 @@
 // reconnaitre un utilisateur authentifie en php_auth
 //
 function verifier_php_auth() {
-	global $PHP_AUTH_USER, $PHP_AUTH_PW, $ignore_auth_http;
-	if ($PHP_AUTH_USER && $PHP_AUTH_PW && !$ignore_auth_http) {
-		$login = addslashes($PHP_AUTH_USER);
+	global $_SERVER, $ignore_auth_http;
+	if ($_SERVER['PHP_AUTH_USER'] && $_SERVER['PHP_AUTH_PW']
+	&& !$ignore_auth_http) {
+		$login = addslashes($_SERVER['PHP_AUTH_USER']);
 		$result = spip_query("SELECT * FROM spip_auteurs WHERE login='$login'");
 		$row = spip_fetch_array($result);
-		$auth_mdpass = md5($row['alea_actuel'] . $PHP_AUTH_PW);
+		$auth_mdpass = md5($row['alea_actuel'] . $_SERVER['PHP_AUTH_PW']);
 		if ($auth_mdpass != $row['pass']) {
-			$PHP_AUTH_USER='';
 			return false;
 		} else {
 			$GLOBALS['auteur_session']['id_auteur'] = $row['id_auteur'];
@@ -217,7 +225,7 @@
 // et charge ses valeurs dans $GLOBALS['auteur_session']
 //
 function verifier_visiteur() {
-	if (verifier_session($GLOBALS['HTTP_COOKIE_VARS']['spip_session']))
+	if (verifier_session($GLOBALS['_COOKIE']['spip_session']))
 		return true;
 	if (verifier_php_auth())
 		return true;

Index: statistiques_svg.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/statistiques_svg.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- statistiques_svg.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ statistiques_svg.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,4 +1,16 @@
 <?php
+
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire("inc_charsets.php3");
 

Index: admin_repair.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/admin_repair.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- admin_repair.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ admin_repair.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc_version.php3");
 
 include_ecrire ("inc_admin.php3");

Index: controle_petition.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/controle_petition.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- controle_petition.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ controle_petition.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 
@@ -101,8 +112,9 @@
 	// Invalider les pages ayant trait aux petitions
 	if ($id_signature = ($add_petition?$add_petition:$supp_petition)) {
 		include_ecrire('inc_invalideur.php3');
-		# list ($id_article) = spip_fetch_array(spip_query("SELECT id_article FROM spip_signatures WHERE id_signature=$id_signature"));
-		suivre_invalideur("id='petition/petition'");
+		list ($id_article) = spip_fetch_array(spip_query("SELECT id_article
+			FROM spip_signatures WHERE id_signature=$id_signature"));
+		suivre_invalideur("id='varia/pet$id_article'");
 	}
 
 	if (!$debut) $debut = 0;

Index: inc_auth.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_auth.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_auth.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_auth.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_AUTH")) return;
@@ -29,7 +40,7 @@
 
 
 function auth() {
-	global $INSECURE, $HTTP_POST_VARS, $HTTP_GET_VARS, $HTTP_COOKIE_VARS, $REMOTE_USER, $PHP_AUTH_USER, $PHP_AUTH_PW;
+	global $_POST, $_GET, $_COOKIE, $_SERVER;
 	global $auth_can_disconnect, $ignore_auth_http, $ignore_remote_user;
 
 	global $connect_id_auteur, $connect_nom, $connect_bio, $connect_email;
@@ -44,10 +55,16 @@
 	// Si pas MySQL, fini
 	//
 	if (!$GLOBALS['db_ok']) {
-		echo "<P><H4>"._T('titre_probleme_technique')."</H4><P><P>\n".
-		"<tt>".spip_sql_errno()." ".spip_sql_error()."</tt>";
-		return false;
+		spip_log("Erreur base de donnees");
+		include_ecrire('inc_presentation.php3');
+		install_debut_html(_T('info_travaux_titre'));
+		echo _T('titre_probleme_technique');
+		echo "<p><tt>".spip_sql_errno()." ".spip_sql_error()."</tt></p>";
+		install_fin_html();
+		exit;
 	}
+
+
 	//
 	// Initialiser variables (eviter hacks par URL)
 	//
@@ -62,30 +79,11 @@
 	// Recuperer les donnees d'identification
 	//
 
-	// Peut-etre sommes-nous en auth http?
-	if ($PHP_AUTH_USER && $PHP_AUTH_PW && !$ignore_auth_http) {
-		if (verifier_php_auth()) {
-			$auth_login = $PHP_AUTH_USER;
-			$auth_pass_ok = true;
-			$auth_can_disconnect = true;
-		}
-		else // normalement on n'arrive pas la sauf changement de mot de passe dans la base...
-		if ($PHP_AUTH_USER != 'root') // ... mais quelques serveurs forcent cette valeur
-		{
-			$auth_login = '';
-			echo "<p><b>"._T('info_connexion_refusee')."</b></p>";
-			echo "[<a href='../spip_cookie.php3?essai_auth_http=oui'>"._T('lien_reessayer')."</a>]";
-			exit;
-		}
-		$PHP_AUTH_PW = '';
-		$_SERVER['PHP_AUTH_PW'] = '';
-		$HTTP_SERVER_VARS['PHP_AUTH_PW'] = '';
-	}
-
 	// Authentification session
-	else if ($cookie_session = $HTTP_COOKIE_VARS['spip_session']) {
+	if ($cookie_session = $_COOKIE['spip_session']) {
 		if (verifier_session($cookie_session)) {
-			if ($auteur_session['statut'] == '0minirezo' OR $auteur_session['statut'] == '1comite') {
+			if ($auteur_session['statut'] == '0minirezo'
+			OR $auteur_session['statut'] == '1comite') {
 				$auth_login = $auteur_session['login'];
 				$auth_pass_ok = true;
 				$auth_can_disconnect = true;
@@ -93,15 +91,31 @@
 		}
 	}
 
-	// Authentification .htaccess
-	else if ($REMOTE_USER && !$INSECURE['REMOTE_USER'] && !$ignore_remote_user) {
-		$auth_login = $REMOTE_USER;
+	// Peut-etre sommes-nous en auth http?
+	else if ($_SERVER['PHP_AUTH_USER'] && $_SERVER['PHP_AUTH_PW']
+	&& !$ignore_auth_http) {
+
+		// Si le login existe dans la base, se loger
+		if (verifier_php_auth()) {
+			$auth_login = $_SERVER['PHP_AUTH_USER'];
+			$auth_pass_ok = true;
+			$auth_can_disconnect = true;
+			$_SERVER['PHP_AUTH_PW'] = '';
+		}
+		// Sinon c'est un login d'intranet independant de spip, on ignore
+	}
+
+	// Authentification .htaccess old style, car .htaccess semble
+	// souvent definir *aussi* PHP_AUTH_USER et PHP_AUTH_PW
+	else if ($GLOBALS['_SERVER']['REMOTE_USER']
+	&& !$ignore_remote_user) {
+		$auth_login = $GLOBALS['_SERVER']['REMOTE_USER'];
 		$auth_pass_ok = true;
 		$auth_htaccess = true;
 	}
 
 	// Tentative de login echec
-	if ($HTTP_GET_VARS['bonjour'] == 'oui' AND !$auth_login) {
+	if ($_GET['bonjour'] == 'oui' AND !$auth_login) {
 		$link = new Link("../spip_cookie.php3?test_echec_cookie=oui");
 		$clean_link->delVar('bonjour');
 		$url = str_replace('/./', '/', _DIR_RESTREINT_ABS .$clean_link->getUrl());
@@ -112,8 +126,9 @@
 
 	// Si pas authentifie, demander login / mdp
 	if (!$auth_login) {
-		$url = urlencode(str_replace('/./', '/',  _DIR_RESTREINT_ABS .$clean_link->getUrl()));
-		redirige_par_entete($addr . "../spip_login.php3?url=$url");
+		$url = str_replace('/./', '/',  _DIR_RESTREINT_ABS
+			. $clean_link->getUrl());
+		redirige_par_entete("../spip_login.php3?url=".urlencode($url));
 		exit;
 	}
 
@@ -142,23 +157,18 @@
 		// Special : si dans la fiche auteur on modifie les valeurs
 		// de messagerie, utiliser ces valeurs plutot que celle de la base.
 		// D'ou leger bug si on modifie la fiche de quelqu'un d'autre.
-		/*if ($GLOBALS['perso_activer_messagerie']) {
-			$connect_activer_messagerie = $GLOBALS['perso_activer_messagerie'];
-			$connect_activer_imessage = $GLOBALS['perso_activer_imessage'];
-		}*/
-		// (1.8: La messagerie est toujours active)
 
 		// regler les preferences de l'auteur
 		$prefs = unserialize($row['prefs']);
 
 		// vieux ! on pourra supprimer post 1.6 finale...
 		if (! isset($prefs['display'])) { // recuperer les cookies ou creer defaut
-			if ($GLOBALS['set_disp'] = $GLOBALS['HTTP_COOKIE_VARS']['spip_display']) {}
-			else $GLOBALS['set_disp'] = 2;
-			if ($GLOBALS['set_couleur'] = $GLOBALS['HTTP_COOKIE_VARS']['spip_couleur']) {}
-			else $GLOBALS['set_couleur'] = 6;
-			if ($GLOBALS['set_options'] = $GLOBALS['HTTP_COOKIE_VARS']['spip_options']) {}
-			else $GLOBALS['set_options'] = 'basiques';
+			if (!$GLOBALS['set_disp'] = $GLOBALS['_COOKIE']['spip_display'])
+				$GLOBALS['set_disp'] = 2;
+			if (!$GLOBALS['set_couleur'] = $GLOBALS['_COOKIE']['spip_couleur'])
+				$GLOBALS['set_couleur'] = 6;
+			if (!$GLOBALS['set_options'] = $GLOBALS['_COOKIE']['spip_options'])
+				$GLOBALS['set_options'] = 'basiques';
 		}
 
 		// Indiquer connexion
@@ -211,7 +221,9 @@
 	}
 
 	if (!$auth_pass_ok) {
-		redirige_par_entete("../spip_login.php3?var_erreur=pass");
+		redirige_par_entete("../spip_login.php3?var_erreur=pass&inscription=" .
+			     ((lire_meta("accepter_inscriptions") == "oui")?
+			      ('spip_inscription.php3') : ''));
 	}
 
 	if ($connect_statut == 'nouveau') {

Index: inc_meta.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_meta.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_meta.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_meta.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_META")) return;

Index: sites.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/sites.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- sites.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ sites.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_logos.php3");
 include_ecrire ("inc_mots.php3");
@@ -81,7 +92,7 @@
 	
 		$moderation = (lire_meta("moderation_sites") == "oui")? 'oui' : 'non';
 	
-		$id_syndic = spip_abstract_insert("syndic",
+		$id_syndic = spip_abstract_insert("spip_syndic",
 					 "(nom_site, id_rubrique, id_secteur, date, date_syndic, statut, syndication, moderation)",
 					 "('"._T('avis_site_introuvable')."', $id_rubrique, $id_rubrique, NOW(), NOW(), 'refuse', 'non', '$moderation')");
 	}
@@ -157,8 +168,17 @@
 	$descriptif = addslashes($descriptif);
 	if (strlen($url_syndic) < 8) $syndication = "non";
 	$url_syndic = addslashes($url_syndic);
-
-	$query = "UPDATE spip_syndic SET id_rubrique='$id_rubrique', nom_site='$nom_site', url_site='$url_site', url_syndic='$url_syndic', descriptif='$descriptif', syndication='$syndication', statut='$statut' WHERE id_syndic=".intval($id_syndic);
+	
+	// recoller les champs du extra
+	if ($champs_extra) {
+		include_ecrire("inc_extra.php3");
+		$add_extra = ", extra = '".addslashes(extra_recup_saisie("sites", $id_secteur))."'";
+	} else
+		$add_extra = '';
+	
+	
+	
+	$query = "UPDATE spip_syndic SET id_rubrique='$id_rubrique', nom_site='$nom_site', url_site='$url_site', url_syndic='$url_syndic', descriptif='$descriptif', syndication='$syndication', statut='$statut' $add_extra WHERE id_syndic=".intval($id_syndic);
 	$result = spip_query($query);
 
 	if ($syndication_old != $syndication OR $url_syndic != $old_syndic) {
@@ -225,17 +245,19 @@
 if ($row = spip_fetch_array($result)) {
 	$id_syndic = $row["id_syndic"];
 	$id_rubrique = $row["id_rubrique"];
-	$nom_site = stripslashes($row["nom_site"]);
-	$url_site = stripslashes($row["url_site"]);
-	$url_syndic = stripslashes($row["url_syndic"]);
-	$descriptif = stripslashes($row["descriptif"]);
+	$nom_site = $row["nom_site"];
+	$url_site = $row["url_site"];
+	$url_syndic = $row["url_syndic"];
+	$descriptif = $row["descriptif"];
 	$syndication = $row["syndication"];
 	$statut = $row["statut"];
 	$date_heure = $row["date"];
 	$date_syndic = $row['date_syndic'];
 	$mod = $row['moderation'];
-}
 
+	$extra=$row["extra"];
+	
+	}
 
 if ($nom_site)
 	$titre_page = "&laquo; $nom_site &raquo;";
@@ -272,11 +294,8 @@
 	icone (_T('icone_voir_sites_references'), "sites_tous.php3", "site-24.gif","rien.gif");
 echo "</center>";
 
-$rubon = "siteon$id_syndic";
-$ruboff = "siteoff$id_syndic";
-
-if ($id_syndic>0 AND $flag_administrable)
-	afficher_boite_logo($rubon, $ruboff, _T('logo_site')." ".aide ("rublogo"), _T('logo_survol'));
+if ($id_syndic AND $flag_administrable)
+	afficher_boite_logo('site', 'id_syndic', $id_syndic, _T('logo_site')." ".aide ("rublogo"), _T('logo_survol'), 'site');
 
 
 debut_droite();
@@ -441,6 +460,11 @@
 	}
 	echo "</font>";
 }
+
+if ($champs_extra AND $extra) {
+		include_ecrire("inc_extra.php3");
+		extra_affichage($extra, "sites");
+	}
 
 fin_cadre_relief();
 

Index: breves.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/breves.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- breves.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ breves.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 if ($statut AND $connect_statut == "0minirezo") {

Index: breves_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/breves_edit.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- breves_edit.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ breves_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_documents.php3");
 include_ecrire ("inc_barre.php3");
@@ -19,7 +30,8 @@
 	global $id_rubrique;
 	global $spip_lang_left;
 	
- 	$query="SELECT * FROM spip_rubriques WHERE id_parent='$leparent'";
+ 	$query="SELECT * FROM spip_rubriques WHERE id_parent='$leparent'
+ 		ORDER BY 0+titre,titre";
  	$result=spip_query($query);
 	$style = http_style_background('secteur-12.gif',  "$spip_lang_left no-repeat; padding-$spip_lang_left: 16px");
 
@@ -61,24 +73,6 @@
 	$statut = "prop";
 }
 
-if ($id_document) {
-	$query_doc = "SELECT * FROM spip_documents_breves WHERE id_document=$id_document AND id_breve=$id_breve";
-	$result_doc = spip_query($query_doc);
-	$flag_document_editable = (spip_num_rows($result_doc) > 0);
-} else {
-	$flag_document_editable = false;
-}
-
-
-$modif_document = $GLOBALS['modif_document'];
-if ($modif_document == 'oui' AND $flag_document_editable) {
-	$titre_document = addslashes(corriger_caracteres($titre_document));
-	$descriptif_document = addslashes(corriger_caracteres($descriptif_document));
-	spip_query("UPDATE spip_documents SET titre='$titre_document', descriptif='$descriptif_document' WHERE id_document=$id_document");
- }
-
-
-
 
 debut_page(_T('titre_page_breves_edit', array('titre' => $titre)), "documents", "breves");
 
@@ -89,7 +83,8 @@
 
 fin_grand_cadre();
 debut_gauche();
-if ($new != 'oui' AND ($connect_statut=="0minirezo" OR $statut=="prop")){
+if ($new != 'oui' AND ($connect_statut=="0minirezo" OR $statut=="prop")) {
+	maj_documents($id_breve, 'breve');
 	afficher_documents_colonne($id_breve, "breve", true);
 }
 debut_droite();

Index: win_width.htc
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/win_width.htc,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- win_width.htc	13 Jan 2005 15:37:16 -0000	1.1
+++ win_width.htc	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,23 +1,23 @@
-<public:component>
-<public:property name="retrait">
-<script language="JScript">
-
-function fixWidth(){
-	if (element.className == "spip_cadre") retrait = 24; 
-	else retrait = 16; 
-
-	if (element.offsetWidth) {
-		style.width = element.offsetWidth - retrait;
-	} else {
-		style.width = "90%";
-		//alert (element.parentElement.tagName);
-	}
-}
-
-var supported = /MSIE (5\.5)|[6789]/.test(navigator.userAgent) && navigator.platform == "Win32";
-if (supported) fixWidth();
-
-
-</script>
-</public:component>
-
+<public:component>
+<public:property name="retrait">
+<script language="JScript">
+
+function fixWidth(){
+	if (element.className == "spip_cadre") retrait = 24; 
+	else retrait = 16; 
+
+	if (element.offsetWidth) {
+		style.width = element.offsetWidth - retrait;
+	} else {
+		style.width = "90%";
+		//alert (element.parentElement.tagName);
+	}
+}
+
+var supported = /MSIE (5\.5)|[6789]/.test(navigator.userAgent) && navigator.platform == "Win32";
+if (supported) fixWidth();
+
+
+</script>
+</public:component>
+

Index: recherche.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/recherche.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- recherche.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ recherche.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_mots.php3");
 include_ecrire ("inc_sites.php3");

Index: inc_admin.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_admin.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_admin.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_admin.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_ADMIN")) return;
@@ -74,8 +85,11 @@
 }
 
 function verifier_action_auteur($action, $valeur, $id_auteur = 0) {
-	if ($valeur == _action_auteur($action, $id_auteur, 'alea_ephemere')) return true;
-	if ($valeur == _action_auteur($action, $id_auteur, 'alea_ephemere_ancien')) return true;
+	if ($valeur == _action_auteur($action, $id_auteur, 'alea_ephemere'))
+		return true;
+	if ($valeur == _action_auteur($action, $id_auteur, 'alea_ephemere_ancien'))
+		return true;
+	spip_log("inc_admin: verifier action $action $id_auteur : echec");
 	return false;
 }
 

Index: inc_config.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_config.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_config.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ inc_config.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CONFIG")) return;
@@ -74,7 +85,6 @@
 		'gerer_trad' => 'non',
 		'langues_multilingue' => $GLOBALS['all_langs']
 	);
-
 	while (list($nom, $valeur) = each($liste_meta)) {
 		if (!lire_meta($nom)) {
 			ecrire_meta($nom, $valeur);
@@ -251,6 +261,15 @@
 		'gerer_trad',
 		'langues_multilingue'
 	);
+	// Modification du reglage accepter_inscriptions => vider le cache
+	// (pour repercuter la modif sur le panneau de login)
+	if (isset($GLOBALS['accepter_inscriptions'])
+	AND ($GLOBALS['accepter_inscriptions']
+	!= lire_meta('accepter_inscriptions'))) {
+		include_ecrire('inc_invalideur.php3');
+		suivre_invalideur("1"); # tout effacer
+	}
+
 	while (list(,$i) = each($liste_meta))
 		if (isset($GLOBALS[$i])) ecrire_meta($i, $GLOBALS[$i]);
 
@@ -267,7 +286,6 @@
 
 	// modifs de secu (necessitent une authentification ftp)
 	$liste_meta = array(
-		// 'secu_avertissement',	// n'existe plus !
 			    'creer_htpasswd',
 			    'creer_htaccess'
 	);

Index: lab_diff.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lab_diff.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- lab_diff.php	13 Jan 2005 15:37:16 -0000	1.1
+++ lab_diff.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_DIFF")) return;
 define("_ECRIRE_INC_DIFF", "1");

Index: index.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/index.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- index.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ index.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,10 +1,19 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_calendrier.php");
 
-if ($HTTP_REFERER && !strpos($HTTP_REFERER, _DIR_RESTEINT_ABS)) $bonjour = 'oui';
-
 debut_page(_T('titre_page_index'), "asuivre", "asuivre");
 
 debut_gauche();
@@ -58,8 +67,7 @@
 	}
 	echo "<div class='verdana1'>";
 
-  $query = "SELECT count(*) AS cnt, statut FROM spip_articles GROUP BY statut";
-  $res = spip_query($query);
+    $res = spip_query("SELECT count(*) AS cnt, statut FROM spip_articles GROUP BY statut");
   
   while($row = spip_fetch_array($res)) {
     $var  = 'nb_art_'.$row['statut'];
@@ -77,8 +85,8 @@
 
 	}
 
-	$query = "SELECT count(*) AS cnt, statut FROM spip_breves GROUP BY statut";
-	$res = spip_query($query);
+	$res = spip_query("SELECT count(*) AS cnt, statut FROM spip_breves GROUP BY statut");
+
 
 	while($row = spip_fetch_array($res)) {
 		$var  = 'nb_bre_'.$row['statut'];
@@ -93,8 +101,8 @@
 		echo "</ul>";
 	}
 
-	$query = "SELECT count(*) AS cnt FROM spip_forum where statut='publie'";
-	$result = spip_fetch_array(spip_query($query));
+	$result = spip_fetch_array(spip_query("SELECT count(*) AS cnt FROM spip_forum where statut='publie'"));
+
 	$nb_forum = $result['cnt'];
 
 	if ($nb_forum) {
@@ -105,8 +113,8 @@
 		echo "</ul>";
 	}
 
-	$query = "SELECT count(*) AS cnt, statut FROM spip_auteurs GROUP BY statut";
-	$res = spip_query($query);
+	$res = spip_query("SELECT count(*) AS cnt, statut FROM spip_auteurs GROUP BY statut");
+
 
 	while($row = spip_fetch_array($res)) {
 		$var  = 'nb_aut_'.$row['statut'];
@@ -159,22 +167,16 @@
 		$jour = jour($date);
 	
 		// rendez-vous personnels dans le mois
-		$result_messages = spip_query("SELECT messages.id_message FROM spip_messages AS messages, spip_auteurs_messages AS lien ".
-				"WHERE ((lien.id_auteur='$connect_id_auteur' AND lien.id_message=messages.id_message) OR messages.type='affich') ".
-				"AND messages.rv='oui' AND messages.date_heure >='$annee-$mois-1' AND date_heure < DATE_ADD('$annee-$mois-1', INTERVAL 1 MONTH) ".
-				"AND messages.statut='publie' LIMIT 0,1");
-		if (spip_num_rows($result_messages)) {
+		if (spip_num_rows(spip_query("SELECT messages.id_message FROM spip_messages AS messages, spip_auteurs_messages AS lien WHERE ((lien.id_auteur='$connect_id_auteur' AND lien.id_message=messages.id_message) OR messages.type='affich') AND messages.rv='oui' AND messages.date_heure >='$annee-$mois-1' AND date_heure < DATE_ADD('$annee-$mois-1', INTERVAL 1 MONTH) AND messages.statut='publie' LIMIT 0,1"))) {
 			echo "<p />";
 			echo http_calendrier_agenda ($mois_today, $annee_today, $jour_today, $mois_today, $annee_today);
 		}
 		// rendez-vous personnels dans le mois
-		$result_messages = spip_query("SELECT messages.id_message FROM spip_messages AS messages, spip_auteurs_messages AS lien ".
+		if (spip_num_rows(spip_query("SELECT messages.id_message FROM spip_messages AS messages, spip_auteurs_messages AS lien ".
 				"WHERE ((lien.id_auteur='$connect_id_auteur' AND lien.id_message=messages.id_message) OR messages.type='affich') ".
-				"AND messages.rv='oui' AND messages.date_heure >='$annee_today-$mois_today-$jour_today' AND messages.date_heure < DATE_ADD('$annee_today-$mois_today-$jour_today', INTERVAL 1 DAY) ".
-				"AND messages.statut='publie' LIMIT 0,1");
-		if (spip_num_rows($result_messages)) {
+					     "AND messages.rv='oui' AND messages.date_heure >='$annee_today-$mois_today-$jour_today' AND messages.date_heure < DATE_ADD('$annee_today-$mois_today-$jour_today', INTERVAL 1 DAY) AND messages.statut='publie' LIMIT 0,1"))) {
 			echo "<p />";
-		echo http_calendrier_jour($jour_today,$mois_today,$annee_today, "col");
+			echo http_calendrier_jour($jour_today,$mois_today,$annee_today, "col");
 		}
 }
 
@@ -190,48 +192,9 @@
 if ($meta["debut_restauration"]) {
 	@ignore_user_abort(1);
 	include_ecrire("inc_import.php3");
-
-	$archive = $meta["fichier_restauration"];
-	$my_pos = $meta["status_restauration"];
-	$ok = @file_exists($archive);
-
-	if ($ok) {
-		if (ereg("\.gz$", $archive)) {
-			$affiche_progression_pourcent = false;
-			$taille = taille_en_octets($my_pos);
-		}
-		else {
-			$affiche_progression_pourcent = filesize($archive);
-			$taille = floor(100 * $my_pos / $affiche_progression_pourcent)." %";
-		}
-		$texte_boite = _T('info_base_restauration')."<p>
-		<form name='progression'><center><input type='text' size=10 style='text-align:center;' name='taille' value='$taille'><br>
-		<input type='text' class='forml' name='recharge' value='"._T('info_recharger_page')."'></center></form>";
-	}
-	else {
-		$texte_boite = _T('info_erreur_restauration');
-	}
-
-	debut_boite_alerte();
-	echo "<font FACE='Verdana,Arial,Sans,sans-serif' SIZE=4 color='black'><B>$texte_boite</B></font>";
-	fin_boite_alerte();
-	fin_page("jimmac");
-	echo "</HTML><font color='white'>\n<!--";
-	@flush();
-	$gz = $flag_gz;
-	$_fopen = ($gz) ? gzopen : fopen;
-
-	if ($ok) {
-		$f = $_fopen($archive, "rb");
-		$pos = 0;
-		$buf = "";
-		if (!import_all($f, $gz)) import_abandon();
-	}
-	else {
-		import_fin();
-	}
+	import_init();
 	exit;
-}
+ }
 
 
 //
@@ -242,8 +205,7 @@
 
 if ($post_dates == "non" AND $connect_statut == '0minirezo' AND $options == 'avancees') {
 	echo "<p>";
-	afficher_articles(_T('info_article_a_paraitre'),
-		"WHERE statut='publie' AND date>NOW() ORDER BY date");
+	afficher_articles(_T('info_article_a_paraitre'), "WHERE statut='publie' AND date>NOW() ORDER BY date");
 }
 
 
@@ -253,24 +215,17 @@
 //
 
 echo "<p>";
-$vos_articles = afficher_articles(afficher_plus('articles_page.php3')._T('info_en_cours_validation'),
-	", spip_auteurs_articles AS lien WHERE articles.id_article=lien.id_article ".
-	"AND lien.id_auteur=$connect_id_auteur AND articles.statut='prepa' ORDER BY articles.date DESC");
+$vos_articles = afficher_articles(afficher_plus('articles_page.php3')._T('info_en_cours_validation'),	", spip_auteurs_articles AS lien WHERE articles.id_article=lien.id_article AND lien.id_auteur=$connect_id_auteur AND articles.statut='prepa' ORDER BY articles.date DESC");
 
 if ($vos_articles) $vos_articles = ' AND articles.id_article NOT IN ('.join($vos_articles,',').')';
 
-echo "<div>&nbsp;</div>";
-echo debut_cadre_trait_couleur();
 
 //
 // Raccourcis pour malvoyants
 //
 if ($spip_display == 4) {
 	debut_raccourcis();
-	$query = "SELECT id_rubrique FROM spip_rubriques LIMIT 0,1";
-	$result = spip_query($query);
-	
-	if (spip_num_rows($result) > 0) {
+	if (spip_num_rows(spip_query("SELECT id_rubrique FROM spip_rubriques LIMIT 0,1"))) {
 		icone_horizontale(_T('icone_ecrire_article'), "articles_edit.php3?new=oui", "article-24.gif","creer.gif");
 	
 		$activer_breves = lire_meta("activer_breves");
@@ -287,25 +242,22 @@
 		icone_horizontale(_T('icone_creer_rubrique_2'), "rubriques_edit.php3?new=oui", "rubrique-24.gif","creer.gif");
 	}
 	fin_raccourcis();
-} else {
+ } else {
 
-		$query = "SELECT id_rubrique FROM spip_rubriques LIMIT 0,1";
-		$result = spip_query($query);
-		$gadget = "";
+	$gadget = "";
 		
-		if (spip_num_rows($result) > 0) {
-			$id_rubrique = $GLOBALS['id_rubrique'];
-			if ($id_rubrique > 0) {
+	$gadget = "<center><table><tr>";
+	$id_rubrique = $GLOBALS['id_rubrique'];
+	if ($id_rubrique > 0) {
 				$dans_rub = "&id_rubrique=$id_rubrique";
 				$dans_parent = "&id_parent=$id_rubrique";
 			}
-			$gadget = "<center><table><tr>";
-			if ($connect_statut == "0minirezo") {
-				$gadget .= "<td>";
-				$gadget .= icone_horizontale(_T('icone_creer_rubrique'), "rubriques_edit.php3?new=oui", "rubrique-24.gif", "creer.gif", false);
-				$gadget .= "</td>";
-			}
-			
+	if ($connect_statut == "0minirezo") {
+			$gadget .= "<td>";
+			$gadget .= icone_horizontale(_T('icone_creer_rubrique'), "rubriques_edit.php3?new=oui", "rubrique-24.gif", "creer.gif", false);
+			$gadget .= "</td>";
+		}
+	if (spip_num_rows(spip_query("SELECT id_rubrique FROM spip_rubriques LIMIT 0,1"))) {
 			$gadget .= "<td>";
 			$gadget .= icone_horizontale(_T('icone_ecrire_article'), "articles_edit.php3?new=oui$dans_rub", "article-24.gif","creer.gif", false);
 			$gadget .= "</td>";
@@ -320,22 +272,18 @@
 			if (lire_meta("activer_sites") == 'oui') {
 				if ($connect_statut == '0minirezo' OR lire_meta("proposer_sites") > 0) {
 					$gadget .= "<td>";
-					$gadget .= icone_horizontale(_T('info_sites_referencer'), "sites_edit.php3?new=oui$dans_rub", "site-24.gif","creer.gif", false);
+					$gadget .= icone_horizontale(_T('info_sites_referencer'), "sites_edit.php3?new=oui&target=sites.php3$dans_rub", "site-24.gif","creer.gif", false);
 					$gadget .= "</td>";
 				}
 			}
 			
 		}
-
 		$gadget .= "</tr></table></center>\n";
 
-	echo $gadget;
-
-
 
 	if ($connect_statut != "0minirezo") {
 	
-		$gadget = "<center><table><tr>";
+		$gadget .= "<center><table><tr>";
 	
 		$nombre_articles = spip_num_rows(spip_query("SELECT art.id_article FROM spip_articles AS art, spip_auteurs_articles AS lien WHERE lien.id_auteur = '$connect_id_auteur' AND art.id_article = lien.id_article LIMIT 0,1"));
 		if ($nombre_articles > 0) {
@@ -366,7 +314,6 @@
 		}
 		$gadget .= "</tr></table></center>\n";
 		
-		echo $gadget;
 	}
 
 }
@@ -380,20 +327,26 @@
 
 if ($connect_statut == "0minirezo" AND $spip_display != 4) {
 	if (!$cookie_admin) {
-		echo "<div>&nbsp;</div>";
-		echo "<table width=95%><tr>";
-		echo "<td width=100%>";
-		echo _T('info_activer_cookie');
-		echo aide ("cookie");
-		echo "</td>";
-		echo "<td width=10><img src='" . _DIR_IMG_PACK . "rien.gif' width=10 alt='' />";
-		echo "</td>";
-		echo "<td width='250'>";
-		icone_horizontale(_T('icone_activer_cookie'), "../spip_cookie.php3?cookie_admin=".rawurlencode("@$connect_login")."&url=".rawurlencode(_DIR_RESTREINT_ABS), "cookie-24.gif", "");
-		echo "</td></tr></table>";
+		$gadget .= "<div>&nbsp;</div>";
+		$gadget .= "<table width=95%><tr>";
+		$gadget .= "<td width=100%>";
+		$gadget .= _T('info_activer_cookie');
+		$gadget .= aide ("cookie");
+		$gadget .= "</td>";
+		$gadget .= "<td width=10><img src='" . _DIR_IMG_PACK . "rien.gif' width=10 alt='' />";
+		$gadget .= "</td>";
+		$gadget .= "<td width='250'>";
+		$gadget .= icone_horizontale(_T('icone_activer_cookie'), "../spip_cookie.php3?cookie_admin=".rawurlencode("@$connect_login")."&url=".rawurlencode(_DIR_RESTREINT_ABS), "cookie-24.gif", "", false);
+		$gadget .= "</td></tr></table>";
 	}
 }
-echo fin_cadre_trait_couleur();
+
+if (strlen($gadget) > 0) {
+	echo "<div>&nbsp;</div>";
+	echo debut_cadre_trait_couleur();
+	echo $gadget;
+	echo fin_cadre_trait_couleur();
+}
 echo "<div>&nbsp;</div>";
 
 
@@ -404,26 +357,26 @@
 $relief = false;
 
 if (!$relief) {
-	$query = "SELECT id_article FROM spip_articles AS articles WHERE statut='prop'$vos_articles LIMIT 0,1";
-	$result = spip_query($query);
+	$result = spip_query("SELECT id_article FROM spip_articles AS articles WHERE statut='prop'$vos_articles LIMIT 0,1");
+
 	$relief = (spip_num_rows($result) > 0);
 }
 
 if (!$relief) {
-	$query = "SELECT id_breve FROM spip_breves WHERE statut='prop' LIMIT 0,1";
-	$result = spip_query($query);
+	$result = spip_query("SELECT id_breve FROM spip_breves WHERE statut='prop' LIMIT 0,1");
+
 	$relief = (spip_num_rows($result) > 0);
 }
 
 if (!$relief AND lire_meta('activer_syndic') != 'non') {
-	$query = "SELECT id_syndic FROM spip_syndic WHERE statut='prop' LIMIT 0,1";
-	$result = spip_query($query);
+	$result = spip_query("SELECT id_syndic FROM spip_syndic WHERE statut='prop' LIMIT 0,1");
+	
 	$relief = (spip_num_rows($result) > 0);
 }
 
 if (!$relief AND lire_meta('activer_syndic') != 'non' AND $connect_statut == '0minirezo' AND $connect_toutes_rubriques) {
-	$query = "SELECT id_syndic FROM spip_syndic WHERE syndication='off' LIMIT 0,1";
-	$result = spip_query($query);
+	$result = spip_query("SELECT id_syndic FROM spip_syndic WHERE syndication='off' LIMIT 0,1");
+
 	$relief = (spip_num_rows($result) > 0);
 }
 
@@ -436,14 +389,12 @@
 	//
 	// Les articles a valider
 	//
-	afficher_articles(_T('info_articles_proposes'),
-		"WHERE statut='prop'$vos_articles ORDER BY date DESC");
+	afficher_articles(_T('info_articles_proposes'),	"WHERE statut='prop'$vos_articles ORDER BY date DESC");
 
 	//
 	// Les breves a valider
 	//
-	$query = "SELECT * FROM spip_breves WHERE statut='prepa' OR statut='prop' ORDER BY date_heure DESC";
-	afficher_breves(afficher_plus('breves.php3')._T('info_breves_valider'), $query, true);
+	afficher_breves(afficher_plus('breves.php3')._T('info_breves_valider'), "SELECT * FROM spip_breves WHERE statut='prepa' OR statut='prop' ORDER BY date_heure DESC", true);
 
 	//
 	// Les sites references a valider
@@ -458,8 +409,7 @@
 	//
 	if (lire_meta('activer_syndic') != 'non' AND $connect_statut == '0minirezo' AND $connect_toutes_rubriques) {
 		include_ecrire("inc_sites.php3");
-		afficher_sites(afficher_plus('sites_tous.php3')._T('avis_sites_syndiques_probleme'),
-			"SELECT * FROM spip_syndic WHERE syndication='off' AND statut='publie' ORDER BY nom_site");
+		afficher_sites(afficher_plus('sites_tous.php3')._T('avis_sites_syndiques_probleme'), "SELECT * FROM spip_syndic WHERE syndication='off' AND statut='publie' ORDER BY nom_site");
 	}
 
 	// Les articles syndiques en attente de validation
@@ -491,8 +441,7 @@
 	/* Ne plus afficher: il y a la page "Tous vos articles" pour cela
 	// Vos articles publies
 	echo "<p>";
-	afficher_articles(afficher_plus('articles_page.php3')._T('info_derniers_articles_publies'),
-		", spip_auteurs_articles AS lien ".
+	afficher_articles(afficher_plus('articles_page.php3')._T('info_derniers_articles_publies'), ", spip_auteurs_articles AS lien ".
 		"WHERE articles.id_article=lien.id_article AND lien.id_auteur=\"$connect_id_auteur\" AND articles.statut=\"publie\" ORDER BY articles.date DESC", true);
 	*/
 
@@ -529,23 +478,6 @@
 	ecrire_meta('alea_ephemere_ancien', lire_meta('alea_ephemere'));
 	ecrire_meta('alea_ephemere', $alea);
 	ecrire_metas();
-}
-
-
-//
-// Optimisation periodique de la base de donnees
-//
-if (!$bonjour) {
-	if ($optimiser == 'oui' || (time() - lire_meta('date_optimisation')) > 24 * 3600) {
-		if (!file_exists($lock = _DIR_SESSIONS.'optimisation.lock')
-		OR (time()-filemtime($lock) > 3600)) {
-			touch($lock);
-			ecrire_meta("date_optimisation", time());
-			ecrire_metas();
-			include ("optimiser.php3");
-			unlink($lock);
-		}
-	}
 }
 
 ?>

Index: inc_objet_base.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_objet_base.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- inc_objet_base.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ inc_objet_base.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_OBJET_BASE")) return;

Index: message.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/message.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- message.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ message.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 include_ecrire ("inc_mots.php3");
 include_ecrire ("inc_calendrier.php");
@@ -100,7 +111,7 @@
       echo "<DIV align=left><FONT FACE='Verdana,Arial,Sans,sans-serif' SIZE=2><b>"._T('bouton_ajouter_participant')." &nbsp; </b></FONT>\n";
       echo "<input TYPE='Hidden' NAME='id_message' VALUE=\"$id_message\">";
 
-      if (spip_num_rows($result_ajout_auteurs) > 50 AND $GLOBAL['flag_mots_ressemblants']) {
+      if (spip_num_rows($result_ajout_auteurs) > 50) {
 	echo "<input TYPE='text' NAME='cherche_auteur' CLASS='fondl' VALUE='' SIZE='20'>";
 	echo "<input TYPE='submit' NAME='Chercher' VALUE='"._T('bouton_chercher')."' CLASS='fondo'>";
       }

Index: lab_ortho.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lab_ortho.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- lab_ortho.php	13 Jan 2005 15:37:16 -0000	1.1
+++ lab_ortho.php	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_ORTHO")) return;
 define("_ECRIRE_INC_ORTHO", "1");

Index: mots_type.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/mots_type.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- mots_type.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ mots_type.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 
@@ -14,6 +25,11 @@
 	$breves = 'oui';
 	$rubriques = 'non';
 	$syndic = 'oui';
+	//////////////////////////////
+	//MODIFICATION
+	//////////////////////////////
+	$carto_objets= 'non';
+	//////////////////////////////
 	$acces_minirezo = 'oui';
 	$acces_comite = 'oui';
 	$acces_forum = 'non';
@@ -31,6 +47,11 @@
 		$breves = $row['breves'];
 		$rubriques = $row['rubriques'];
 		$syndic = $row['syndic'];
+		//////////////////////////////
+		//MODIFICATION
+		//////////////////////////////
+		$carto_objets = $row['carto_objets'];
+		//////////////////////////////
 		$acces_minirezo = $row['0minirezo'];
 		$acces_comite = $row['1comite'];
 		$acces_forum = $row['6forum'];
@@ -108,6 +129,13 @@
 		if ($syndic == "oui") $checked = "checked";
 		else $checked = "";
 		echo "<input type='checkbox' name='syndic' value='oui' $checked id='syndic'> <label for='syndic'>"._T('item_mots_cles_association_sites')."</label>";
+		//////////////////////////////
+		//MODIFICATION
+		//////////////////////////////
+		if ($carto_objets == "oui") $checked = "checked";
+		else $checked = "";
+		echo "<br><input type='checkbox' name='carto_objets' value='oui' $checked id='carto_objets'> <label for='carto_objets'>"._L('aux objets des cartes')."</label>";
+		//////////////////////////////
 		
 		echo "</ul>";
 	echo "</div>";

Index: config-lang.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/config-lang.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- config-lang.php3	13 Jan 2005 15:37:16 -0000	1.1
+++ config-lang.php3	20 Feb 2005 22:19:26 -0000	1.2
@@ -1,5 +1,16 @@
 <?php
 
+/***************************************************************************\
+ *  SPIP, Systeme de publication pour l'internet                           *
+ *                                                                         *
+ *  Copyright (c) 2001-2005                                                *
+ *  Arnaud Martin, Antoine Pitrou, Philippe Riviere, Emmanuel Saint-James  *
+ *                                                                         *
+ *  Ce programme est un logiciel libre distribue sous licence GNU/GPL.     *
+ *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
+\***************************************************************************/
+
+
 include ("inc.php3");
 
 include_ecrire ("inc_config.php3");



From mose at berlios.de  Mon Feb 21 14:01:08 2005
From: mose at berlios.de (mose at berlios.de)
Date: Mon, 21 Feb 2005 14:01:08 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire http.class.php,1.1,1.2
Message-ID: <200502211301.j1LD188Y019275@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv19257/ecrire

Modified Files:
	http.class.php 
Log Message:
mise a jour de fichier reticent

Index: http.class.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/http.class.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- http.class.php	13 Jan 2005 15:37:16 -0000	1.1
+++ http.class.php	21 Feb 2005 13:01:05 -0000	1.2
@@ -1,904 +1,904 @@
-<?php
-/**************************************************************************************************
-* Class: Advanced HTTP Client
-***************************************************************************************************
-* Version 		: 1.1
-* Released		: 06-20-2002
-* Last Modified : 06-10-2003
-* Author		: GuinuX <guinux at cosmoplazza.com>
-*
-***************************************************************************************************
-* Changes 
[...1776 lines suppressed...]
+							'request_file' => $request_file,
+							'query_string' => $query_string
+			);
+
+		} // End of function _parse_location()
+		
+		
+		function _redirect( $uri ) {
+			$location = $this->_parse_location( $uri );
+			if ( $location['host'] != $this->host || $location['port'] != $this->port ) {
+				$this->host = $location['host'];
+				$this->port = $location['port'];
+				if ( !$this->_use_proxy) $this->disconnect();
+			}
+			usleep( 100 );
+			$this->get( $location['request_file'] . '?' . $location['query_string'] );
+		} // End of function _redirect()
+
+	} // End of class http
 ?>



From mose at berlios.de  Mon Feb 21 14:14:08 2005
From: mose at berlios.de (mose at berlios.de)
Date: Mon, 21 Feb 2005 14:14:08 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire/lang ecrire_ar.php3,1.1,1.2 ecrire_bg.php3,1.1,1.2 ecrire_ca.php3,1.1,1.2 ecrire_cpf.php3,1.1,1.2 ecrire_da.php3,1.1,1.2 ecrire_de.php3,1.1,1.2 ecrire_en.php3,1.1,1.2 ecrire_eo.php3,1.1,1.2 ecrire_es.php3,1.1,1.2 ecrire_fa.php3,1.1,1.2 ecrire_fon.php3,1.1,1.2 ecrire_fr.php3,1.1,1.2 ecrire_gl.php3,1.1,1.2 ecrire_hu.php3,1.1,1.2 ecrire_it.php3,1.1,1.2 ecrire_lb.php3,1.1,1.2 ecrire_nl.php3,1.1,1.2 ecrire_oc_auv.php3,1.1,1.2 ecrire_oc_gsc.php3,1.1,1.2 ecrire_oc_lms.php3,1.1,1.2 ecrire_oc_lnc.php3,1.1,1.2 ecrire_oc_ni.php3,1.1,1.2 ecrire_oc_prv.php3,1.1,1.2 ecrire_oc_va.php3,1.1,1.2 ecrire_pl.php3,1.1,1.2 ecrire_pt.php3,1.1,1.2 ecrire_pt_br.php3,1.1,1.2 ecrire_vi.php3,1.1,1.2 ecrire_zh.php3,1.1,1.2 public_ar.php3,1.1,1.2 public_bg.php3,1.1,1.2 public_ca.php3,1.1,1.2 public_cpf.php3,1.1,1.2 public_da.php3,1.1,1.2 public_de.php3,1.1,1.2 public_en.php3,1.1,1.2 public_eo.php3,1.1,1.2 public_es.php3,1.1,1.2 public_fa.php3,1.1,1.2 public_fon.php3,1.1,1.2 publi!
 c_fr.php3,1.1,1.2 public_gl.php3,1.1,1.2 public_hu.php3,1.1,1.2 public_it.php3,1.1,1.2 public_lb.php3,1.1,1.2 public_nl.php3,1.1,1.2 public_oc_auv.php3,1.1,1.2 public_oc_lnc.php3,1.1,1.2 public_oc_ni.php3,1.1,1.2 public_oc_prv.php3,1.1,1.2 public_pl.php3,1.1,1.2 public_pt.php3,1.1,1.2 public_vi.php3,1.1,1.2 public_zh.php3,1.1,1.2 spip_ar.php3,1.1,1.2 spip_bg.php3,1.1,1.2 spip_ca.php3,1.1,1.2 spip_cpf.php3,1.1,1.2 spip_da.php3,1.1,1.2 spip_de.php3,1.1,1.2 spip_en.php3,1.1,1.2 spip_eo.php3,1.1,1.2 spip_es.php3,1.1,1.2 spip_fa.php3,1.1,1.2 spip_fon.php3,1.1,1.2 spip_fr.php3,1.1,1.2 spip_gl.php3,1.1,1.2 spip_hu.php3,1.1,1.2 spip_it.php3,1.1,1.2 spip_lb.php3,1.1,1.2 spip_nl.php3,1.1,1.2 spip_oc_auv.php3,1.1,1.2 spip_oc_gsc.php3,1.1,1.2 spip_oc_lms.php3,1.1,1.2 spip_oc_lnc.php3,1.1,1.2 spip_oc_ni.php3,1.1,1.2 spip_oc_prv.php3,1.1,1.2 spip_oc_va.php3,1.1,1.2 spip_pl.php3,1.1,1.2 spip_pt.php3,1.1,1.2 spip_vi.php3,1.1,1.2 spip_zh.php3,1.1,1.2
Message-ID: <200502211314.j1LDE88Y019885@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire/lang
In directory sheep:/tmp/cvs-serv19557

Modified Files:
	ecrire_ar.php3 ecrire_bg.php3 ecrire_ca.php3 ecrire_cpf.php3 
	ecrire_da.php3 ecrire_de.php3 ecrire_en.php3 ecrire_eo.php3 
	ecrire_es.php3 ecrire_fa.php3 ecrire_fon.php3 ecrire_fr.php3 
	ecrire_gl.php3 ecrire_hu.php3 ecrire_it.php3 ecrire_lb.php3 
	ecrire_nl.php3 ecrire_oc_auv.php3 ecrire_oc_gsc.php3 
	ecrire_oc_lms.php3 ecrire_oc_lnc.php3 ecrire_oc_ni.php3 
	ecrire_oc_prv.php3 ecrire_oc_va.php3 ecrire_pl.php3 
	ecrire_pt.php3 ecrire_pt_br.php3 ecrire_vi.php3 ecrire_zh.php3 
	public_ar.php3 public_bg.php3 public_ca.php3 public_cpf.php3 
	public_da.php3 public_de.php3 public_en.php3 public_eo.php3 
	public_es.php3 public_fa.php3 public_fon.php3 public_fr.php3 
	public_gl.php3 public_hu.php3 public_it.php3 public_lb.php3 
	public_nl.php3 public_oc_auv.php3 public_oc_lnc.php3 
	public_oc_ni.php3 public_oc_prv.php3 public_pl.php3 
	public_pt.php3 public_vi.php3 public_zh.php3 spip_ar.php3 
	spip_bg.php3 spip_ca.php3 spip_cpf.php3 spip_da.php3 
	spip_de.php3 spip_en.php3 spip_eo.php3 spip_es.php3 
	spip_fa.php3 spip_fon.php3 spip_fr.php3 spip_gl.php3 
	spip_hu.php3 spip_it.php3 spip_lb.php3 spip_nl.php3 
	spip_oc_auv.php3 spip_oc_gsc.php3 spip_oc_lms.php3 
	spip_oc_lnc.php3 spip_oc_ni.php3 spip_oc_prv.php3 
	spip_oc_va.php3 spip_pl.php3 spip_pt.php3 spip_vi.php3 
	spip_zh.php3 
Log Message:
mise a jour des recalcitrants

Index: ecrire_ar.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_ar.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_ar.php3	20 Feb 2005 22:06:47 -0000	1.1
+++ ecrire_ar.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,1079 +1,1079 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => '&#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605; &#1605;&#1606; &#1575;&#1604;&#1578;&#1593;&#1604;&#1610;&#1605;&#1575;&#1578; &#1575;&#1604;&#1601;&#1608;&#1585;&#1610;&#1577; &#1594;&#1610;&#1585; &#1605;&#1578;&#1608;&#1575;&#1601;&#1585; &#1581;&#1575;&#1604;&#1610;&#1575;&#1611; &#1576;&#1607;&#1584;&#1607; &#1575;&#1604;&#1604;&#1594;&#1577;.',
-'avis_acces_interdit' => '&#1575;&#1604;&#1583;&#1582;&#1608;&#1604; &#1605;&#1581;&#1592;&#1608;&#1585;',
-'avis_article_modifie' => '&#1578;&#1581;&#1584;&#1610;&#1585;&#1548; &#1578;&#1605; &#1575;&#1604;&#1593;&#1605;&#1604; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604; &#1605;&#1606; &#1602;&#1576;&#1604; @nom_auteur_modif@ &#1605;&#1606;&#1584; @date_diff@ &#1583;&#1602;&#1610;&#1602;&#1577;',
[...2127 lines suppressed...]
+'titre_sites_references_rubrique' => '&#1575;&#1604;&#1605;&#1608;&#1575;&#1602;&#1593; &#1575;&#1604;&#1605;&#1576;&#1608;&#1576;&#1577; &#1601;&#1610; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605;',
+'titre_sites_syndiques' => '&#1575;&#1604;&#1605;&#1608;&#1575;&#1602;&#1593; &#1575;&#1604;&#1605;&#1585;&#1582;&#1589;&#1577;',
+'titre_sites_tous' => '&#1575;&#1604;&#1605;&#1608;&#1575;&#1602;&#1593; &#1575;&#1604;&#1605;&#1576;&#1608;&#1576;&#1577;',
+'titre_suivi_petition' => '&#1605;&#1578;&#1575;&#1576;&#1593;&#1577; &#1575;&#1604;&#1593;&#1585;&#1575;&#1574;&#1590;',
+'titre_syndication' => '&#1578;&#1585;&#1582;&#1610;&#1589; &#1575;&#1604;&#1605;&#1608;&#1575;&#1602;&#1593;',
+'trad_article_inexistant' => '&#1604;&#1575; &#1610;&#1608;&#1580;&#1583; &#1575;&#1610; &#1605;&#1602;&#1575;&#1604; &#1610;&#1581;&#1605;&#1604; &#1607;&#1584;&#1575; &#1575;&#1604;&#1585;&#1602;&#1605;.',
+'trad_article_traduction' => '&#1603;&#1604; &#1575;&#1589;&#1583;&#1575;&#1585;&#1575;&#1578; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;:',
+'trad_deja_traduit' => '&#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604; &#1607;&#1608; &#1578;&#1585;&#1580;&#1605;&#1577; &#1604;&#1604;&#1605;&#1602;&#1575;&#1604; &#1575;&#1604;&#1581;&#1575;&#1604;&#1610;.',
+'trad_delier' => '&#1575;&#1610;&#1602;&#1575;&#1601; &#1585;&#1576;&#1591; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1601;&#1575;&#1604; &#1576;&#1578;&#1585;&#1580;&#1605;&#1575;&#1578;&#1607;',
+'trad_lier' => '&#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604; &#1607;&#1608; &#1578;&#1585;&#1580;&#1605;&#1577; &#1604;&#1604;&#1605;&#1602;&#1575;&#1604; &#1585;&#1602;&#1605;:',
+'trad_new' => '&#1603;&#1578;&#1575;&#1576;&#1577; &#1578;&#1585;&#1580;&#1605;&#1577; &#1580;&#1583;&#1610;&#1583;&#1577; &#1604;&#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;',
+
+
+// V
+'version_initiale' => '&#1575;&#1604;&#1575;&#1589;&#1583;&#1575;&#1585; &#1575;&#1604;&#1575;&#1589;&#1604;&#1610;'
+
+);
+
+
+?>

Index: ecrire_bg.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_bg.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_bg.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_bg.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,1061 +1,1061 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => '&#1058;&#1072;&#1079;&#1080; &#1095;&#1072;&#1089;&#1090; &#1086;&#1090; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;&#1090;&#1072; "&#1055;&#1086;&#1084;&#1086;&#1097;&#1085;&#1080;&#1082;" &#1074;&#1089;&#1077; &#1086;&#1097;&#1077; &#1085;&#1077; &#1077; &#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1074;&#1072;&#1085;&#1072; &#1085;&#1072; &#1073;&#1098;&#1083;&#1075;&#1072;&#1088;&#1089;&#1082;&#1080; &#1077;&#1079;&#1080;&#1082;.',
-'avis_acces_interdit' => '&#1047;&#1072;&#1073;&#1088;&#1072;&#1085;&#1077;&#1085; &#1076;&#1086;&#1089;&#1090;&#1098;&#1087;.',
-'avis_article_modifie' => '&#1055;&#1088;&#1077;&#1076;&#1091;&#1087;&#1088;&#1077;&#1078;&#1076;&#1077;&#1085;&#1080;&#1077;! @nom_auteur_modif@ &#1077; &#1088;&#1072;&#1073;&#1086;&#1090;&#1080;&#1083; &#1087;&#1086; &#1090;&#1072;&#1079;&#1080; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103; &#1087;&#1088;&#1077;&#1076;&#1080; @date_diff@ &#1084;&#1080;&#1085;&#1091;&#1090;&#1080;',
[...2091 lines suppressed...]
+'titre_sites_references_rubrique' => '&#1057;&#1074;&#1098;&#1088;&#1079;&#1072;&#1085;&#1080; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077; &#1074; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;&#1090;&#1072;',
+'titre_sites_syndiques' => '&#1054;&#1073;&#1077;&#1076;&#1080;&#1085;&#1077;&#1085;&#1080; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;',
+'titre_sites_tous' => '&#1057;&#1074;&#1098;&#1088;&#1079;&#1072;&#1085;&#1080; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;',
+'titre_suivi_petition' => '&#1044;&#1086;&#1087;&#1098;&#1083;&#1085;&#1077;&#1085;&#1080;&#1103; &#1085;&#1072; &#1084;&#1086;&#1083;&#1073;&#1080;&#1090;&#1077;',
+'titre_syndication' => '&#1054;&#1073;&#1077;&#1076;&#1080;&#1085;&#1103;&#1074;&#1072;&#1085;&#1077; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;&#1090;&#1077;',
+'trad_article_inexistant' => '&#1053;&#1077; &#1089;&#1098;&#1097;&#1077;&#1089;&#1090;&#1074;&#1091;&#1074;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103; &#1089; &#1090;&#1072;&#1082;&#1098;&#1074; &#1085;&#1086;&#1084;&#1077;&#1088;',
+'trad_article_traduction' => '&#1042;&#1089;&#1080;&#1095;&#1082;&#1080; &#1074;&#1077;&#1088;&#1089;&#1080;&#1080; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072;:',
+'trad_deja_traduit' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072; &#1077; &#1074;&#1077;&#1095;&#1077; &#1087;&#1088;&#1077;&#1074;&#1077;&#1076;&#1077;&#1085;&#1072;',
+'trad_delier' => '&#1054;&#1090;&#1082;&#1072;&#1079; &#1086;&#1090; &#1089;&#1074;&#1098;&#1088;&#1079;&#1074;&#1072;&#1085;&#1077; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072; &#1089; &#1085;&#1077;&#1081;&#1085;&#1080;&#1090;&#1077; &#1087;&#1088;&#1077;&#1074;&#1086;&#1076;&#1080;',
+'trad_lier' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072; &#1077; &#1087;&#1088;&#1077;&#1074;&#1086;&#1076; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103; &#1085;&#1086;&#1084;&#1077;&#1088; ',
+'trad_new' => '&#1055;&#1080;&#1089;&#1072;&#1085;&#1077; &#1085;&#1072; &#1085;&#1086;&#1074; &#1087;&#1088;&#1077;&#1074;&#1086;&#1076; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072;',
+
+
+// V
+'version_initiale' => '&#1055;&#1098;&#1088;&#1074;&#1086;&#1085;&#1072;&#1095;&#1072;&#1083;&#1085;&#1072; &#1074;&#1077;&#1088;&#1089;&#1080;&#1103;'
+
+);
+
+
+?>

Index: ecrire_ca.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_ca.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_ca.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_ca.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,982 +1,982 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Aquesta part de l\'ajuda en l&iacute;nia no est&agrave; encara disponible en Catal&agrave;.',
-'avis_acces_interdit' => 'Acc&egrave;s prohibit',
-'avis_article_modifie' => 'Atenci&oacute;, @nom_auteur_modif@ ha treballat en aquest article fa @date_diff@ minuts',
[...1933 lines suppressed...]
+'titre_sites_references_rubrique' => 'Les webs enlla&ccedil;ades a aquesta secci&oacute;',
+'titre_sites_syndiques' => 'Les webs sindicades',
+'titre_sites_tous' => 'Les webs enlla&ccedil;ades',
+'titre_suivi_petition' => 'Seguiment de les peticions',
+'titre_syndication' => 'Sindicaci&oacute; de webs',
+'trad_article_inexistant' => 'No existeix cap article que porte aquest n&uacute;mero.',
+'trad_article_traduction' => 'Totes les versions d\'aquest article:',
+'trad_deja_traduit' => 'Aquest article &eacute;s ja una traducci&oacute; del present article.',
+'trad_delier' => 'No enlla&ccedil;ar aquest article amb aquestes traduccions',
+'trad_lier' => 'Aquest article &eacute;s una traducci&oacute; de l\'article n&uacute;mero:',
+'trad_new' => 'Escriure una nova traducci&oacute; d\'aquest article',
+
+
+// V
+'version_initiale' => 'Versi&oacute; inicial'
+
+);
+
+
+?>

Index: ecrire_cpf.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_cpf.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_cpf.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_cpf.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,1023 +1,1023 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Ast&egrave;r i mank ankor inn bout lo koudmin an liyn pou la lang ou la swazi.',
-'avis_acces_interdit' => 'Ou nana pwinn lapermisyon pou rant dann kwind sit-la.',
-'avis_article_modifie' => 'Tansyon pangar, @nom_auteur_modif@ la fin travay&eacute; lartik-la, n&eacute;na  @date_diff@ minit pas&eacute;',
[...2015 lines suppressed...]
+'titre_sites_references_rubrique' => 'Bann sitw&egrave;b r&eacute;f&eacute;rans&eacute; dann rubrik-la',
+'titre_sites_syndiques' => 'Bann sitw&egrave;b sindik&eacute;',
+'titre_sites_tous' => 'List bann sitw&egrave;b r&eacute;f&eacute;rans&eacute;',
+'titre_suivi_petition' => 'Pou swiv bann filsinyatir',
+'titre_syndication' => 'Sindikasyon bann sitw&egrave;b',
+'trad_article_inexistant' => 'Ni la pa trouv okin lartik i port zot nim&eacute;ro-la.',
+'trad_article_traduction' => 'Tout bann versyon lartik-la&nbsp;:',
+'trad_deja_traduit' => 'Lartik-la l&eacute; d&eacute;za inn tradiksyon li-minm.',
+'trad_delier' => 'Ar&egrave;t gatir&eacute; lartik-la &egrave;k son bann tradiksyon',
+'trad_lier' => 'Lartik-la l&eacute; inn tradiksyon lartik nim&eacute;ro&nbsp;:',
+'trad_new' => 'Ekri inn nouv&egrave;l tradiksyon lartik-la',
+
+
+// V
+'version_initiale' => 'Promy&eacute; v&egrave;rsyon'
+
+);
+
+
+?>

Index: ecrire_da.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_da.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_da.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_da.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,991 +1,991 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Denne del af online-hj&aelig;lpen er endnu ikke tilg&aelig;ngelig p&aring; dansk.',
-'avis_acces_interdit' => 'Ingen adgang',
-'avis_article_modifie' => 'Advarsel, @nom_auteur_modif@ har arbejdet p&aring; denne artikel for @date_diff@ minutter siden',
[...1951 lines suppressed...]
+'titre_sites_references_rubrique' => 'Websteder der henvises til i dette afsnit',
+'titre_sites_syndiques' => 'Syndikerede websteder',
+'titre_sites_tous' => 'Websteder der henvises til',
+'titre_suivi_petition' => 'Opf&oslash;lgning p&aring; appeller',
+'titre_syndication' => 'Webstedssyndikering',
+'trad_article_inexistant' => 'Der findes ingen artikel med dette nummer.',
+'trad_article_traduction' => 'Alle udgaver af denne artikel&nbsp;:',
+'trad_deja_traduit' => 'Denne artikel er allerede en overs&aelig;ttelse af den aktuelle artikel.',
+'trad_delier' => 'Afbryd forbindelsen mellem denne artikel og overs&aelig;ttelserne',
+'trad_lier' => 'Denne artikel er en overs&aelig;ttelse af artikel nummer&nbsp;:',
+'trad_new' => 'Lav en ny overs&aelig;ttelse af denne artikel',
+
+
+// V
+'version_initiale' => '<NEW>Initial version'
+
+);
+
+
+?>

Index: ecrire_de.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_de.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_de.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_de.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,923 +1,923 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Teil der Online-Hilfe in dieser Sprache noch nicht verf&uuml;gbar.',
-'avis_acces_interdit' => 'Zugang verweigert.',
-'avis_article_modifie' => 'Achtung, @nom_auteur_modif@ hat vor @date_diff@ Minute(n) an diesem Artikel gearbeitet.',
[...1815 lines suppressed...]
+'titre_sites_references_rubrique' => 'Verlinkte Websites in dieser Rubrik',
+'titre_sites_syndiques' => 'Syndizierte Websites',
+'titre_sites_tous' => 'Verlinkte Websites',
+'titre_suivi_petition' => 'Petitionen verwalten',
+'titre_syndication' => 'Website Syndikation',
+'trad_article_inexistant' => 'Es gibt keinen Artikel mit dieser Nummer.',
+'trad_article_traduction' => 'Alle Fassungen dieses Artikels:',
+'trad_deja_traduit' => 'Dieser Artikel ist bereits eine &Uuml;bersetzung des aktuellen Artikels.',
+'trad_delier' => 'Artikel nicht mehr mit diesen &Uuml;bersetzungen verbinden',
+'trad_lier' => 'Dieser Artikel ist eine &Uuml;bersetzung des Artikels Nummer&nbsp;',
+'trad_new' => 'Neue &Uuml;bersetzung dieses Artikels beginnen',
+
+
+// V
+'version_initiale' => 'Urspr&uuml;ngliche Fassung'
+
+);
+
+
+?>

Index: ecrire_en.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_en.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_en.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_en.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,1061 +1,1061 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'This part of the online help is not yet available in the present language.',
-'avis_acces_interdit' => 'Access forbidden.',
-'avis_article_modifie' => 'Warning, @nom_auteur_modif@ has worked on this article @date_diff@ minutes ago',
[...2091 lines suppressed...]
+'titre_sites_references_rubrique' => 'Referenced sites in this section',
+'titre_sites_syndiques' => 'Syndicated sites',
+'titre_sites_tous' => 'Referenced sites',
+'titre_suivi_petition' => 'Petitions follow-up',
+'titre_syndication' => 'Sites syndication',
+'trad_article_inexistant' => 'There is no article with this number',
+'trad_article_traduction' => 'All the versions of this article:',
+'trad_deja_traduit' => 'This article is itself a translation of the current article.',
+'trad_delier' => 'Stop linking this article to its translations',
+'trad_lier' => 'This article is a translation of article number:',
+'trad_new' => 'Write a new translation of this article',
+
+
+// V
+'version_initiale' => 'Initial version'
+
+);
+
+
+?>

Index: ecrire_eo.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_eo.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_eo.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_eo.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,1035 +1,1035 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Tiu parto de la konektita helpilo ankora&#365; ne estas disponebla en tiu lingvo.',
-'avis_acces_interdit' => 'Malpermesita aliro.',
-'avis_article_modifie' => 'Atentu, @nom_auteur_modif@ loboris pri tiu artikolo anta&#365; @date_diff@ minutoj',
[...2039 lines suppressed...]
+'titre_sites_references_rubrique' => 'La teksejoj referencitaj en tiu &#265;i rubriko',
+'titre_sites_syndiques' => 'La kunligitaj teksejoj',
+'titre_sites_tous' => 'La referencitaj teksejoj',
+'titre_suivi_petition' => 'Kontrolo de la subskriblistoj',
+'titre_syndication' => 'Kunligado de teksejoj',
+'trad_article_inexistant' => 'Neniu artikolo kun tiu numero.',
+'trad_article_traduction' => '&#264;iuj versioj de tiu artikolo&nbsp;:',
+'trad_deja_traduit' => 'Tiu artikolo jam estas traduko de la kuranta artikolo.',
+'trad_delier' => 'Ne plu ligi tiun artikolon kun &#285;iaj tradukoj',
+'trad_lier' => 'Tiu artikolo estas traduko de la artikolo numerita&nbsp;:',
+'trad_new' => 'Skribi novan tradukon de tiu artikolo',
+
+
+// V
+'version_initiale' => 'Komenca versio'
+
+);
+
+
+?>

Index: ecrire_es.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_es.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_es.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_es.php3	21 Feb 2005 13:14:04 -0000	1.2
@@ -1,931 +1,931 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Esta parte de la ayuda en l&iacute;nea a&uacute;n no est&aacute;  disponible en este idioma.',
-'avis_acces_interdit' => 'Acceso prohibido.',
-'avis_article_modifie' => 'Atenci&oacute;n, @nom_auteur_modif@ trabaj&oacute; en este art&iacute;culo hace @date_diff@ minutos.',
[...1831 lines suppressed...]
+'titre_sites_references_rubrique' => 'Los sitios referenciados en esta secci&oacute;n',
+'titre_sites_syndiques' => 'Los sitios sindicados',
+'titre_sites_tous' => 'Los sitios referenciados',
+'titre_suivi_petition' => 'Gesti&oacute;n de las peticiones',
+'titre_syndication' => 'Sindicaci&oacute;n de sitios',
+'trad_article_inexistant' => 'No hay ning&uacute;n art&iacute;culo con ese n&uacute;mero.',
+'trad_article_traduction' => 'Todas las versiones de este art&iacute;culo:',
+'trad_deja_traduit' => 'Esta instancia del art&iacute;culo ya es una traducci&oacute;n.',
+'trad_delier' => 'Ya no ligar este art&iacute;culo a sus traducciones ',
+'trad_lier' => 'Este art&iacute;culo es una traducci&oacute;n del art&iacute;culo n&uacute;mero:',
+'trad_new' => 'Escribir una nueva traducci&oacute;n de este art&iacute;culo',
+
+
+// V
+'version_initiale' => 'Versi&oacute;n inicial'
+
+);
+
+
+?>

Index: ecrire_fa.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_fa.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_fa.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_fa.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,921 +1,921 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => '&#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1603;&#1605;&#1603;&#1609; &#1576;&#1585;&#1575;&#1609; &#1575;&#1610;&#1606; &#1586;&#1576;&#1575;&#1606; &#1607;&#1606;&#1608;&#1586; &#1583;&#1585; &#1583;&#1587;&#1578;&#1585;&#1587; &#1606;&#1605;&#1609; &#1576;&#1575;&#1588;&#1583;',
-'avis_acces_interdit' => '&#1583;&#1587;&#1578;&#1585;&#1587;&#1609; &#1576;&#1607; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588; &#1605;&#1605;&#1606;&#1608;&#1593; &#1605;&#1609; &#1576;&#1575;&#1588;&#1583;',
-'avis_article_modifie' => '&#1578;&#1608;&#1580;&#1607; &#1548;              @nom_auteur_modif@                                        &#1585;&#1608;&#1609; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; @date_diff@ &#1662;&#1610;&#1588; &#1603;&#1575;&#1585; &#1605;&#1610;&#1603;&#1585;&#1583;&#1607;',
[...1811 lines suppressed...]
+'titre_sites_references_rubrique' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593; &#1583;&#1585; &#1575;&#1610;&#1606; &#1576;&#1582;&#1588;',
+'titre_sites_syndiques' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1662;&#1610;&#1608;&#1606;&#1583;&#1609;',
+'titre_sites_tous' => '&#1587;&#1575;&#1610;&#1578;&#1607;&#1575;&#1609; &#1605;&#1585;&#1580;&#1593;',
+'titre_suivi_petition' => '&#1583;&#1606;&#1576;&#1575;&#1604;&#1607; &#1583;&#1585;&#1582;&#1608;&#1575;&#1587;&#1578;&#1607;&#1575;',
+'titre_syndication' => '&#1662;&#1610;&#1608;&#1606;&#1583; &#1587;&#1575;&#1610;&#1578;&#1607;&#1575;',
+'trad_article_inexistant' => '&#1605;&#1602;&#1575;&#1604;&#1607; &#1575;&#1609; &#1576;&#1575; &#1575;&#1610;&#1606; &#1588;&#1605;&#1575;&#1585;&#1607; &#1610;&#1575;&#1601;&#1578; &#1606;&#1605;&#1610;&#1588;&#1608;&#1583;.',
+'trad_article_traduction' => '&#1578;&#1605;&#1575;&#1605; &#1578;&#1585;&#1580;&#1605;&#1607; &#1607;&#1575;&#1609; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; :',
+'trad_deja_traduit' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607;&#1548; &#1582;&#1608;&#1583; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1581;&#1575;&#1590;&#1585; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
+'trad_delier' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1585;&#1575; &#1583;&#1610;&#1711;&#1585; &#1576;&#1607; &#1575;&#1610;&#1606; &#1578;&#1585;&#1580;&#1605;&#1607; &#1607;&#1575; &#1662;&#1610;&#1608;&#1606;&#1583; &#1606;&#1583;&#1607;&#1610;&#1583;.',
+'trad_lier' => '&#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1576;&#1585;&#1711;&#1585;&#1583;&#1575;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1588;&#1605;&#1575;&#1585;&#1607; &#1586;&#1610;&#1585; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; :',
+'trad_new' => '&#1610;&#1603; &#1578;&#1585;&#1580;&#1605;&#1607; &#1580;&#1583;&#1610;&#1583; &#1575;&#1586; &#1575;&#1610;&#1606; &#1605;&#1602;&#1575;&#1604;&#1607; &#1576;&#1603;&#1606;&#1610;&#1583;',
+
+
+// V
+'version_initiale' => '&#1606;&#1587;&#1582;&#1607; &#1609; &#1606;&#1582;&#1587;&#1578;'
+
+);
+
+
+?>

Index: ecrire_fon.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_fon.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_fon.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_fon.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,901 +1,901 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'al&#596;g&#596;na &eacute; do kaanu &#596; eko ti&#770;n do gb&egrave; &eacute; l&#596; m&#603; a ',
-'avis_acces_interdit' => 'h&#596;n s&uacute;',
-'avis_article_modifie' => 'Mi kp&#596;n mi&#769; &#598;&eacute;  @nyi&#768;k&#596;_ny&#596;wlant&#596;_e &#598;i &#596;@ &eacute; waz&#596;n do w&eacute;kpa &eacute; l&#596; ji&#769; sin @azan_ at c&#603;ju.',
[...1771 lines suppressed...]
+'titre_sites_references_rubrique' => 'gblogbloj&iacute; y&eacute; n&aacute; &agrave;c&#603; n&aacute; &#598;&ograve; &agrave;kp&aacute;xw&eacute; &eacute; l&#596;',
+'titre_sites_syndiques' => 'gblogbloj&iacute; y&eacute; m&aacute;',
+'titre_sites_tous' => 'gblogbloj&iacute; y&eacute; n&aacute; &agrave;c&#603; n&aacute; ',
+'titre_suivi_petition' => 'B&#596; n&uacute;k&uacute;n &#598;&oacute; x&oacute;j&iacute;jl&aacute; l&#603; j&iacute;',
+'titre_syndication' => ' M&iacute;m&aacute; &#596; Gblogbloj&iacute; t&#596;n',
+'trad_article_inexistant' => 'n&uacute;m&#603;l&oacute; &#598;&eacute; s&#596;gb&egrave; &#598;&oacute; w&eacute;pk&aacute; &eacute; l&#596; &aacute;.',
+'trad_article_traduction' => 'w&agrave;l&#596; w&eacute;pk&aacute; &eacute; l&#596; t&#596;n l&#603; b&iacute;',
+'trad_deja_traduit' => 'w&eacute;pk&aacute; &eacute; l&#596; k&ograve; ny&iacute; t&igrave;nm&#603; w&eacute;kp&aacute; &#598;&eacute;v&oacute; t&#596;n.',
+'trad_delier' => 'y&eacute; m&aacute; c&aacute; w&eacute;pk&aacute; &eacute; l&#596; &#598;&oacute; t&igrave;nm&#603; &eacute; l&#596; w&uacute; &oacute;',
+'trad_lier' => 'k&ograve; ny&iacute; t&igrave;nm&#603; w&eacute;kp&aacute; &#598;&eacute;v&oacute; t&#596;n&nbsp;:',
+'trad_new' => 'L&#603; wl&aacute;n t&igrave;nm&#603; w&eacute;kp&aacute; &#598;&eacute;v&oacute; t&#596;n',
+
+
+// V
+'version_initiale' => 'w&agrave;l&#596; b&igrave;b&#603; t&#596;n'
+
+);
+
+
+?>

Index: ecrire_fr.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_fr.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_fr.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_fr.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1072 +1,1072 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Cette partie de l\'aide en ligne n\'est pas encore disponible dans cette langue.',
-'avis_acces_interdit' => 'Acc&egrave;s interdit.',
-'avis_article_modifie' => 'Attention, @nom_auteur_modif@ a travaill&eacute; sur cet article il y a @date_diff@ minutes',
[...2113 lines suppressed...]
+'titre_sites_references_rubrique' => 'Les sites r&eacute;f&eacute;renc&eacute;s dans cette rubrique',
+'titre_sites_syndiques' => 'Les sites syndiqu&eacute;s',
+'titre_sites_tous' => 'Les sites r&eacute;f&eacute;renc&eacute;s',
+'titre_suivi_petition' => 'Suivi des p&eacute;titions',
+'titre_syndication' => 'Syndication de sites',
+'trad_article_inexistant' => 'Il n\'y a pas d\'article portant ce num&eacute;ro.',
+'trad_article_traduction' => 'Toutes les versions de cet article&nbsp;:',
+'trad_deja_traduit' => 'Cet article est d&eacute;j&agrave; une traduction du pr&eacute;sent article.',
+'trad_delier' => 'Ne plus lier cet article &agrave; ces traductions',
+'trad_lier' => 'Cet article est une traduction de l\'article num&eacute;ro&nbsp;:',
+'trad_new' => '&Eacute;crire une nouvelle traduction de cet article',
+
+
+// V
+'version_initiale' => 'Version initiale'
+
+);
+
+
+?>

Index: ecrire_gl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_gl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_gl.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_gl.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1042 +1,1042 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Esta parte da axuda en li&ntilde;a a&iacute;nda non est&aacute; dispo&ntilde;ible nesta lingua.',
-'avis_acces_interdit' => 'Acceso prohibido.',
-'avis_article_modifie' => 'Atenci&oacute;n, @nom_auteur_modif@ ten traballado neste artigo hai @date_diff@ minutos',
[...2053 lines suppressed...]
+'titre_sites_references_rubrique' => 'Os lugares referidos neste tema',
+'titre_sites_syndiques' => 'Os lugares afiliados',
+'titre_sites_tous' => 'Os lugares referidos',
+'titre_suivi_petition' => 'Seguimento das petici&oacute;ns',
+'titre_syndication' => 'Afiliaci&oacute;n de lugares',
+'trad_article_inexistant' => 'Non hai artigo que leve este n&uacute;mero.',
+'trad_article_traduction' => 'Todas as versi&oacute;ns deste artigo&nbsp;:',
+'trad_deja_traduit' => 'Este artigo xa &eacute; unha traduci&oacute;n do presente artigo.',
+'trad_delier' => 'Non ligar xa este artigo a estas traduci&oacute;ns',
+'trad_lier' => 'Este artigo &eacute; unha traduci&oacute;n do artigo n&uacute;mero&nbsp;:',
+'trad_new' => 'Escribir unha nova traduci&oacute;n deste artigo',
+
+
+// V
+'version_initiale' => 'Versi&oacute;n inicial'
+
+);
+
+
+?>

Index: ecrire_hu.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_hu.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_hu.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_hu.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1002 +1,1002 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Ez a r&eacute;sze a s&uacute;g&oacute;nak m&eacute;g nincs leford&iacute;tva arra a nyelvre.',
-'avis_acces_interdit' => 'Hozz&aacute;f&eacute;r&eacute;s nincs enged&eacute;lyezve',
-'avis_article_modifie' => 'Vigy&aacute;zat, @nom_auteur_modif@ dolgozott ezen a cikken @date_diff@ perccel ezel&#337;tt',
[...1973 lines suppressed...]
+'titre_sites_references_rubrique' => 'Felvett honlapok ebben a rovatban',
+'titre_sites_syndiques' => 'A szindik&aacute;lt honlapok',
+'titre_sites_tous' => 'A felvett honlapok',
+'titre_suivi_petition' => 'Al&aacute;&iacute;r&aacute;sgy&#369;jt&eacute;sek megfigyel&eacute;se',
+'titre_syndication' => 'Honlapok szindik&aacute;l&aacute;sa',
+'trad_article_inexistant' => 'Nincs ilyen sorsz&aacute;m&uacute; cikk.',
+'trad_article_traduction' => 'A cikk &ouml;sszes v&aacute;ltozatai&nbsp;:',
+'trad_deja_traduit' => 'Ez a cikk m&aacute;r egy ford&iacute;t&aacute;s a jelen cikkr&#337;l.',
+'trad_delier' => 'Visszavenni a cikk csatol&aacute;s&aacute;t ezekre a ford&iacute;t&aacute;sokra',
+'trad_lier' => 'Ez a cikk egy ford&iacute;t&aacute;s err&#337;l a cikkr&#337;l&nbsp;:',
+'trad_new' => '&Iacute;rni egy &uacute;jabb ford&iacute;t&aacute;st err&#337;l a cikkr&#337;l',
+
+
+// V
+'version_initiale' => '<NEW>Version initiale'
+
+);
+
+
+?>

Index: ecrire_it.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_it.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_it.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_it.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1036 +1,1036 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Questa parte della guida in linea non &egrave; ancora disponibile in italiano.',
-'avis_acces_interdit' => 'Accesso vietato.',
-'avis_article_modifie' => 'Attenzione, @nom_auteur_modif@ ha lavorato su quest\'articolo @date_diff@ minuti fa',
[...2041 lines suppressed...]
+'titre_sites_references_rubrique' => 'I siti repertoriati in questa rubrica',
+'titre_sites_syndiques' => 'I siti in syndication',
+'titre_sites_tous' => 'I siti repertoriati',
+'titre_suivi_petition' => 'Monitoraggio delle petizioni',
+'titre_syndication' => 'Syndication di siti',
+'trad_article_inexistant' => 'Non esiste un articolo con questo numero.',
+'trad_article_traduction' => 'Tutte le versioni di questo articolo:',
+'trad_deja_traduit' => 'L\'articolo indicato &egrave; gi&agrave; una traduzione di questo articolo.',
+'trad_delier' => 'Non collegare pi&ugrave; questo articolo alle sue traduzioni',
+'trad_lier' => 'Questo articolo &egrave; una traduzione dell\'articolo numero:',
+'trad_new' => 'Scrivere una nuova traduzione dell\'articolo',
+
+
+// V
+'version_initiale' => 'Versione iniziale'
+
+);
+
+
+?>

Index: ecrire_lb.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_lb.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_lb.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_lb.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,926 +1,926 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'D&euml;sen Deel vun der H&euml;llef g&euml;tt et nach n&euml;t an d&auml;r Sprooch.',
-'avis_acces_interdit' => 'Zougang gespaart.',
-'avis_article_modifie' => 'Opgepasst, den @nom_auteur_modif@ huet un d&euml;sem Artikel virun @date_diff@ Minuten geschafft',
[...1821 lines suppressed...]
+'titre_sites_references_rubrique' => 'Referenz&eacute;iert Siten an d&euml;ser Rubrik',
+'titre_sites_syndiques' => 'Syndiqu&eacute;iert Siten',
+'titre_sites_tous' => 'D&eacute;i referenz&eacute;iert Siten',
+'titre_suivi_petition' => 'Suivi vun de Petitiounen',
+'titre_syndication' => 'Syndicatioun vun de Siten',
+'trad_article_inexistant' => '&Euml;t g&euml;t keen Artikel mat d&auml;r Nummer.',
+'trad_article_traduction' => 'All d\'Versiounen vun d&euml;sem Artikel:',
+'trad_deja_traduit' => 'D&euml;sen Artikel ass schon eng Iwwersetzung vun dem Artikel.',
+'trad_delier' => 'D&euml;sen Artikel n&euml;t m&eacute;i un seng Iwwersetzungen bannen',
+'trad_lier' => 'D&euml;sen Artikel ass eng Iwwersetzung vum Artikel Nummer:',
+'trad_new' => 'Eng nei Iwwersetzung vun d&euml;sem Artikel schreiwen',
+
+
+// V
+'version_initiale' => 'Original-Versioun'
+
+);
+
+
+?>

Index: ecrire_nl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_nl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_nl.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_nl.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1053 +1,1053 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Dit deel van de online handleiding is nog niet beschikbaar in het Nederlands.',
-'avis_acces_interdit' => 'Toegang verboden',
-'avis_article_modifie' => 'Opgelet, @nom_auteur_modif@ heeft @date_diff@  minuten geleden aan dit artikel gewerkt.',
[...2075 lines suppressed...]
+'titre_sites_references_rubrique' => 'Gekoppelde sites in deze rubriek',
+'titre_sites_syndiques' => 'Gesyndiceerde sites',
+'titre_sites_tous' => 'Gekoppelde sites',
+'titre_suivi_petition' => 'Vervolg van de petities',
+'titre_syndication' => 'Syndicatie van websites',
+'trad_article_inexistant' => 'Er is geen artikel met dit nummer.',
+'trad_article_traduction' => 'Alle versies van dit artikel:',
+'trad_deja_traduit' => 'Dit artikel is reeds een vertaling van het aanwezige artikel.',
+'trad_delier' => 'Dit artikel niet meer koppelen aan zijn vertalingen',
+'trad_lier' => 'Dit artikel is een vertaling van artikelnummer:',
+'trad_new' => 'Een nieuwe vertaling maken van dit artikel',
+
+
+// V
+'version_initiale' => 'Beginversie'
+
+);
+
+
+?>

Index: ecrire_oc_auv.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_oc_auv.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_oc_auv.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_oc_auv.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1034 +1,1034 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
-'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
-'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article qu&ograve; fai @date_diff@ minutas',
[...2037 lines suppressed...]
+'titre_sites_references_rubrique' => 'Los sits referenciats dins aquela rubrica',
+'titre_sites_syndiques' => 'Los sits sindicats',
+'titre_sites_tous' => 'Los sits referenciats',
+'titre_suivi_petition' => 'Segut de las peticions',
+'titre_syndication' => 'Sindicacion de sits',
+'trad_article_inexistant' => 'I a gran d\'article que p&ograve;rte aquel num&egrave;ro.',
+'trad_article_traduction' => 'Totas las versions d\'aquel article:',
+'trad_deja_traduit' => 'Aquel article ja z-es una revirada de l\'article present.',
+'trad_delier' => 'Pas mai liar aqueste article a sas reviradas ',
+'trad_lier' => 'Aqueste article es una revirada de l\'article num&egrave;ro:',
+'trad_new' => 'Escriure una revirada nov&egrave;la d\'aqueste article',
+
+
+// V
+'version_initiale' => 'Version iniciala'
+
+);
+
+
+?>

Index: ecrire_oc_gsc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_oc_gsc.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_oc_gsc.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_oc_gsc.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1035 +1,1035 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Aquera part de l\'ajuda en linha n\'ei pas enq&uuml;&egrave;ra disponibla t&agrave; aquesta lenga.',
-'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
-'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ qu\'a trabalhat sus aqueth article h&egrave; @date_diff@ minutas',
[...2039 lines suppressed...]
+'titre_sites_references_rubrique' => 'Los sits referenciats dens aquera rubrica',
+'titre_sites_syndiques' => 'Los sits sindicats',
+'titre_sites_tous' => 'Los sits referenciats',
+'titre_suivi_petition' => 'Seguit de las peticions',
+'titre_syndication' => 'Sindicacion de sits',
+'trad_article_inexistant' => 'N\'i a pas nat article qui p&ograve;rte aqueth num&egrave;ro.',
+'trad_article_traduction' => 'Totas las versions d\'aqueth article:',
+'trad_deja_traduit' => 'Aqueth article qu\'ei ja ua arrevirada de l\'article present.',
+'trad_delier' => 'Non ligar plus aqueste article a las soas arreviradas ',
+'trad_lier' => 'Aqueste article qu\'ei ua arrevirada de l\'article num&egrave;ro:',
+'trad_new' => 'Escr&iacute;ver ua arrevirada nav&egrave;ra d\'aqueste article',
+
+
+// V
+'version_initiale' => 'Version iniciau'
+
+);
+
+
+?>

Index: ecrire_oc_lms.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_oc_lms.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_oc_lms.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_oc_lms.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1036 +1,1036 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Quela part de l\'ajuda en linha es pas enquera disponibla per questa lenga.',
-'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
-'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article qu&ograve; fai @date_diff@ minutas',
[...2041 lines suppressed...]
+'titre_sites_references_rubrique' => 'Los sits referenciats dins quela rubrica',
+'titre_sites_syndiques' => 'Los sits sindicats',
+'titre_sites_tous' => 'Los sits referenciats',
+'titre_suivi_petition' => 'Segut de las peticions',
+'titre_syndication' => 'Sindicacion de sits',
+'trad_article_inexistant' => 'I a brisa d\'article que p&ograve;rte queu numero.',
+'trad_article_traduction' => 'Totas las versions de quel article:',
+'trad_deja_traduit' => 'Quel article ja es una revirada de l\'article present.',
+'trad_delier' => 'Pas mai liar queste article a sas reviradas ',
+'trad_lier' => 'Queste article es una revirada de l\'article numero:',
+'trad_new' => 'Escriure una revirada novela de queste article',
+
+
+// V
+'version_initiale' => 'Version iniciala'
+
+);
+
+
+?>

Index: ecrire_oc_lnc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_oc_lnc.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_oc_lnc.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_oc_lnc.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1034 +1,1034 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
-'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
-'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article fa @date_diff@ minutas',
[...2037 lines suppressed...]
+'titre_sites_references_rubrique' => 'Los sits referenciats dins aquela rubrica',
+'titre_sites_syndiques' => 'Los sits sindicats',
+'titre_sites_tous' => 'Los sits referenciats',
+'titre_suivi_petition' => 'Seguit de las peticions',
+'titre_syndication' => 'Sindicacion de sits',
+'trad_article_inexistant' => 'I a pas cap d\'article que p&ograve;rte aquel num&egrave;ro.',
+'trad_article_traduction' => 'Totas las versions d\'aquel article:',
+'trad_deja_traduit' => 'Aquel article ja es una revirada de l\'article present.',
+'trad_delier' => 'Ligar pas mai aqueste article a sas reviradas ',
+'trad_lier' => 'Aqueste article es una revirada de l\'article num&egrave;ro:',
+'trad_new' => 'Escriure una revirada nov&egrave;la d\'aqueste article',
+
+
+// V
+'version_initiale' => 'Version iniciala'
+
+);
+
+
+?>

Index: ecrire_oc_ni.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_oc_ni.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_oc_ni.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_oc_ni.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1010 +1,1010 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
-'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
-'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a travalhat sus aquel article fa @date_diff@ minutas',
[...1989 lines suppressed...]
+'titre_sites_references_rubrique' => 'Lu sits referen&ccedil;ats dins aquela rubrica',
+'titre_sites_syndiques' => 'Lu sits sindicats',
+'titre_sites_tous' => 'Lu sits referen&ccedil;ats',
+'titre_suivi_petition' => 'Seguit dei peticions',
+'titre_syndication' => 'Sindicacion dei sits',
+'trad_article_inexistant' => 'I a minga d\'article que p&ograve;rten aqueu n&uacute;mero.',
+'trad_article_traduction' => 'Toti li versions d\'aquel article&nbsp;:',
+'trad_deja_traduit' => 'Aquel article es ja una revirada dau present article.',
+'trad_delier' => 'Ligar plus aquest article ai reviradas sieui',
+'trad_lier' => 'Aquel article es una revirada de l\'article n&uacute;mero&nbsp;:',
+'trad_new' => 'Escriure una nov&egrave;la revirada d\'aquel article',
+
+
+// V
+'version_initiale' => 'Version iniciala'
+
+);
+
+
+?>

Index: ecrire_oc_prv.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_oc_prv.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_oc_prv.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_oc_prv.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1035 +1,1035 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
-'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
-'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article fa @date_diff@ minutas',
[...2039 lines suppressed...]
+'titre_sites_references_rubrique' => 'Lei sits referenciats dins aquela rubrica',
+'titre_sites_syndiques' => 'Lei sits sindicats',
+'titre_sites_tous' => 'Lei sits referenciats',
+'titre_suivi_petition' => 'Seguit dei peticions',
+'titre_syndication' => 'Sindicacion de sits',
+'trad_article_inexistant' => 'I a ges d\'article que p&ograve;rte aqueu num&egrave;ro.',
+'trad_article_traduction' => 'Totei lei versions d\'aquel article:',
+'trad_deja_traduit' => 'Aquel article ja es una revirada de l\'article present.',
+'trad_delier' => 'Cessar de liar aquest article a sei reviradas ',
+'trad_lier' => 'Aquest article es una revirada de l\'article num&egrave;ro:',
+'trad_new' => 'Escriure una revirada nov&egrave;la d\'aquest article',
+
+
+// V
+'version_initiale' => 'Version iniciala'
+
+);
+
+
+?>

Index: ecrire_oc_va.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_oc_va.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_oc_va.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_oc_va.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1034 +1,1034 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Aquela part de l\'ajua en linha es pas encara disponibla per aquesta lenga.',
-'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
-'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article fai @date_diff@ minutas',
[...2037 lines suppressed...]
+'titre_sites_references_rubrique' => 'Los sits referenciats dins aquela rubrica',
+'titre_sites_syndiques' => 'Los sits sindicats',
+'titre_sites_tous' => 'Los sits referenciats',
+'titre_suivi_petition' => 'Seguit de las peticions',
+'titre_syndication' => 'Sindicacion de sits',
+'trad_article_inexistant' => 'I a ges d\'article que p&ograve;rte aqueu num&egrave;ro.',
+'trad_article_traduction' => 'Totas las versions d\'aquel article:',
+'trad_deja_traduit' => 'Aquel article ja es una reviraa de l\'article present.',
+'trad_delier' => 'Pas pus liar aquest article a sas reviraas ',
+'trad_lier' => 'Aquest article es una reviraa de l\'article num&egrave;ro:',
+'trad_new' => 'Escriure una reviraa nov&egrave;la d\'aquest article',
+
+
+// V
+'version_initiale' => 'Version iniciala'
+
+);
+
+
+?>

Index: ecrire_pl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_pl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_pl.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_pl.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1048 +1,1048 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Ta cz&#281;&#347;&#263; pomocy on-line nie jest jeszcze dost&#281;pna w tym j&#281;zyku.',
-'avis_acces_interdit' => 'Dost&#281;p zabroniony.',
-'avis_article_modifie' => 'Uwaga, @nom_auteur_modif@ pracowa&#322; nad tym artyku&#322;em @date_diff@ minut temu.',
[...2065 lines suppressed...]
+'titre_sites_references_rubrique' => 'Linki do stron z tego dzia&#322;u',
+'titre_sites_syndiques' => 'Syndykowane serwisy',
+'titre_sites_tous' => 'Linki do stron',
+'titre_suivi_petition' => 'Archiwum og&#322;osze&#324;',
+'titre_syndication' => 'Syndykacja stron',
+'trad_article_inexistant' => 'Nie ma artyku&#322;u o tym numerze.',
+'trad_article_traduction' => 'Wszystkie wersje tego artyku&#322;u:',
+'trad_deja_traduit' => 'Ten artyku&#322; jest przek&#322;adem',
+'trad_delier' => 'Nie &#322;&#261;czy&#263; artyku&#322;u z tym przek&#322;adem',
+'trad_lier' => 'Ten artyku&#322; jest przek&#322;adem artyku&#322;u numer',
+'trad_new' => 'Napisz nowe t&#322;umaczenie artyku&#322;u',
+
+
+// V
+'version_initiale' => 'Wersja pocz&#261;tkowa'
+
+);
+
+
+?>

Index: ecrire_pt.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_pt.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_pt.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_pt.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1060 +1,1060 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Esta parte da ajuda em linha ainda n&atilde;o est&aacute; dispon&iacute;vel nesta l&iacute;ngua ',
-'avis_acces_interdit' => 'Accesso proibido ',
-'avis_article_modifie' => 'Aten&ccedil;&atilde;o, @nom_auteur_modif@  trabalhou sobre este artigo h&aacute; @date_diff@ minutes',
[...2089 lines suppressed...]
+'titre_sites_references_rubrique' => 'Os s&iacute;tios referenciados nesta rubrica',
+'titre_sites_syndiques' => 'Os s&iacute;tios vinculados',
+'titre_sites_tous' => 'Os s&iacute;tios referenciados',
+'titre_suivi_petition' => 'Seguimento dos abixo-assinados',
+'titre_syndication' => 'Vincula&ccedil;&atilde;o de s&iacute;tios',
+'trad_article_inexistant' => 'N&atilde;o h&aacute; artigo com este n&uacute;mero',
+'trad_article_traduction' => 'Todas as vers&otilde;es deste artigo&nbsp;:',
+'trad_deja_traduit' => 'Este artigo &eacute; j&aacute; uma tradu&ccedil;&atilde;o do presente artigo',
+'trad_delier' => 'N&atilde;o mais ligar este artigo a estas tradu&ccedil;&otilde;es',
+'trad_lier' => 'Este artigo &eacute; uma tradu&ccedil;&atilde;o do artigo n&uacute;mero&nbsp;:',
+'trad_new' => 'Escrever uma nova tradu&ccedil;&atilde;o deste artigo',
+
+
+// V
+'version_initiale' => '<NEW>Version initiale'
+
+);
+
+
+?>

Index: ecrire_pt_br.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_pt_br.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_pt_br.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_pt_br.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1015 +1,1015 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Esta parte da ajuda online ainda n&atilde;o est&aacute; dispon&iacute;vel neste idioma.',
-'avis_acces_interdit' => 'Acesso negado.',
-'avis_article_modifie' => 'Aten&ccedil;&atilde;o, @nom_auteur_modif@ editou esta mat&eacute;ria h&aacute; @date_diff@ minutos',
[...1999 lines suppressed...]
+'titre_sites_references_rubrique' => 'Os sites referenciados nesta se&ccedil;&atilde;o',
+'titre_sites_syndiques' => 'Os sites sindicados',
+'titre_sites_tous' => 'Os sites referenciados',
+'titre_suivi_petition' => 'Acompanhamento das peti&ccedil;&otilde;es',
+'titre_syndication' => 'Sindica&ccedil;&atilde;o de sites',
+'trad_article_inexistant' => 'N&atilde;o h&aacute; nenhuma mat&eacute;ria com este n&uacute;mero.',
+'trad_article_traduction' => 'Todas as vers&otilde;es desta mat&eacute;ria:',
+'trad_deja_traduit' => 'Esta mat&eacute;ria j&aacute; &eacute; uma tradu&ccedil;&atilde;o da mat&eacute;ria atual.',
+'trad_delier' => 'Desvincular esta mat&eacute;ria de suas tradu&ccedil;&otilde;es',
+'trad_lier' => 'Esta mat&eacute;ria &eacute; uma tradu&ccedil;&atilde;o da mat&eacute;ria n&uacute;mero:',
+'trad_new' => 'Escrever uma nova tradu&ccedil;&atilde;o para esta mat&eacute;ria',
+
+
+// V
+'version_initiale' => 'vers&atilde;o inicial'
+
+);
+
+
+?>

Index: ecrire_vi.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_vi.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_vi.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_vi.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,929 +1,929 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Ph&#7853;n gi&uacute;p &#273;&#7905; n&agrave;y ch&#432;a &#273;&#432;&#7907;c d&#7883;ch sang ti&#7871;ng n&agrave;y.',
-'avis_acces_interdit' => 'Qu&yacute; v&#7883; kh&ocirc;ng c&oacute; quy&#7873;n v&agrave;o &#273;&acirc;y.',
-'avis_article_modifie' => 'Coi ch&#7915;ng, @nom_auteur_modif@ v&#7915;a s&#7917;aa b&agrave;i n&agrave;y c&aacute;ch &#273;&acirc;y @date_diff@ ph&uacute;t',
[...1827 lines suppressed...]
+'titre_sites_references_rubrique' => 'C&aacute;c trang tham kh&#7843;o trong m&#7909;c n&agrave;y',
+'titre_sites_syndiques' => 'Trang &#273;&atilde; xu&#7845;t b&#7843;n',
+'titre_sites_tous' => 'Trang tham kh&#7843;o',
+'titre_suivi_petition' => 'Qu&#7843;n tr&#7883; Th&#7881;nh nguy&#7879;n th&#432;',
+'titre_syndication' => 'Syndicate trang web',
+'trad_article_inexistant' => 'Kh&ocirc;ng c&oacute; b&agrave;i n&agrave;o v&#7899;i s&#7889; n&agrave;y',
+'trad_article_traduction' => 'T&#7845;t c&#7843; &#7845;n b&#7843;n c&#7911;a b&agrave;i n&agrave;y:',
+'trad_deja_traduit' => 'B&agrave;i n&agrave;y l&agrave; b&#7843;n d&#7883;ch c&#7911;a b&agrave;i hi&#7879;n th&#7901;i',
+'trad_delier' => '&#272;&#7915;ng n&#7889;i b&agrave;i n&agrave;y qua b&#7843;n d&#7883;ch',
+'trad_lier' => 'B&agrave;i n&agrave;y l&agrave; b&#7843;n d&#7883;ch c&#7911;a b&agrave;i s&#7889;',
+'trad_new' => 'D&#7883;ch b&agrave;i n&agrave;y',
+
+
+// V
+'version_initiale' => '<NEW>Version initiale'
+
+);
+
+
+?>

Index: ecrire_zh.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_zh.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- ecrire_zh.php3	20 Feb 2005 22:10:13 -0000	1.1
+++ ecrire_zh.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1053 +1,1053 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => '&#36825;&#37096;&#20998;&#22312;&#32447;&#24110;&#21161;&#23578;&#26080;&#20013;&#25991;&#29256;&#26412;.',
-'avis_acces_interdit' => '&#38480;&#21046;&#35775;&#38382;.',
-'avis_article_modifie' => '&#35686;&#21578;, @nom_auteur_modif@&#22312;@date_diff@&#20998;&#38047;&#21069;&#20462;&#25913;&#36807;&#27492;&#25991;',
[...2075 lines suppressed...]
+'titre_sites_references_rubrique' => '&#27492;&#26639;&#19979;&#30340;&#21442;&#32771;&#31449;&#28857;',
+'titre_sites_syndiques' => '&#32852;&#21512;&#31449;&#28857;',
+'titre_sites_tous' => '&#21442;&#32771;&#31449;&#28857;',
+'titre_suivi_petition' => '&#36319;&#36394;&#35831;&#27714;',
+'titre_syndication' => '&#31449;&#28857;&#32852;&#21512;',
+'trad_article_inexistant' => '&#27809;&#26377;&#25991;&#31456;&#20026;&#35813;&#21495;',
+'trad_article_traduction' => '&#36825;&#31687;&#25991;&#31456;&#30340;&#25152;&#26377;&#29256;&#26412;:',
+'trad_deja_traduit' => '&#35813;&#25991;&#26159;&#19968;&#31687;&#35793;&#25991;',
+'trad_delier' => '&#21462;&#28040;&#36825;&#31687;&#25991;&#31456;&#21040;&#23427;&#30340;&#35793;&#25991;&#30340;&#38142;&#25509;',
+'trad_lier' => '&#35813;&#31687;&#25991;&#31456;&#35793;&#33258;&#25991;&#31456;No.',
+'trad_new' => '&#20026;&#35813;&#31687;&#25991;&#31456;&#20889;&#19968;&#31687;&#26032;&#35793;&#25991;',
+
+
+// V
+'version_initiale' => '&#21407;&#29256;&#26412;'
+
+);
+
+
+?>

Index: public_ar.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_ar.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_ar.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_ar.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => '&#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1575;&#1587;&#1575;&#1587;&#1610;&#1577;',
-'articles' => '&#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
-'articles_auteur' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1572;&#1604;&#1601;',
-'articles_populaires' => '&#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1575;&#1604;&#1575;&#1603;&#1579;&#1585; &#1588;&#1593;&#1576;&#1610;&#1577;',
-'articles_recents' => '&#1571;&#1581;&#1583;&#1579; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
-'articles_rubrique' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605;',
-'aucun_article' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
-'aucun_auteur' => '&#1604;&#1575; &#1610;&#1608;&#1580;&#1583; &#1605;&#1572;&#1604;&#1601;&#1608;&#1606; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
-'aucun_site' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1605;&#1608;&#1575;&#1602;&#1593; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
-'aucune_breve' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1571;&#1582;&#1576;&#1575;&#1585; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
-'aucune_rubrique' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1571;&#1602;&#1587;&#1575;&#1605; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
-'autres_breves' => '&#1571;&#1582;&#1576;&#1575;&#1585; &#1571;&#1582;&#1585;&#1609;',
-'autres_groupes_mots_clefs' => '&#1605;&#1580;&#1605;&#1608;&#1593;&#1575;&#1578; &#1605;&#1601;&#1575;&#1578;&#1610;&#1581; &#1575;&#1582;&#1585;&#1609;',
-'autres_sites' => '&#1605;&#1608;&#1575;&#1602;&#1593; &#1571;&#1582;&#1585;&#1609;',
-
-
-// B
-'bonjour' => '&#1571;&#1607;&#1604;&#1575;&#1611; &#1608;&#1587;&#1607;&#1604;&#1575;&#1611;',
-'breves' => '&#1575;&#1604;&#1571;&#1582;&#1576;&#1575;&#1585;',
-
-
-// C
-'commenter_site' => '&#1578;&#1593;&#1604;&#1610;&#1602; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
-
-
-// D
-'date' => '&#1575;&#1604;&#1578;&#1575;&#1585;&#1610;&#1582;',
-'dernier_ajout' => '&#1570;&#1582;&#1585; &#1573;&#1590;&#1575;&#1601;&#1577;',
-'dernieres_breves' => '&#1570;&#1582;&#1585; &#1575;&#1604;&#1571;&#1582;&#1576;&#1575;&#1585;',
-'derniers_articles' => '&#1570;&#1582;&#1585; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
-'derniers_commentaires' => '&#1570;&#1582;&#1585; &#1575;&#1604;&#1578;&#1593;&#1604;&#1610;&#1602;&#1575;&#1578;',
-'derniers_messages_forum' => '&#1570;&#1582;&#1585; &#1575;&#1604;&#1605;&#1588;&#1575;&#1585;&#1603;&#1575;&#1578; &#1575;&#1604;&#1605;&#1606;&#1588;&#1608;&#1585;&#1577; &#1601;&#1610; &#1575;&#1604;&#1605;&#1606;&#1578;&#1583;&#1610;&#1575;&#1578;',
-
-
-// E
-'edition_mode_texte' => '&#1575;&#1604;&#1606;&#1588;&#1585;&#1577; &#1601;&#1610; &#1608;&#1590;&#1593;&#1610;&#1577; &#1575;&#1604;&#1606;&#1589;&#1608;&#1589;',
-'en_reponse' => '&#1585;&#1583;&#1575;&#1611; &#1593;&#1604;&#1609;:',
-'en_resume' => '&#1576;&#1575;&#1582;&#1578;&#1589;&#1575;&#1585;',
-'envoyer_message' => '&#1573;&#1585;&#1587;&#1575;&#1604; &#1605;&#1588;&#1575;&#1585;&#1603;&#1577;',
-'espace_prive' => '&#1575;&#1604;&#1605;&#1580;&#1575;&#1604; &#1575;&#1604;&#1582;&#1575;&#1589;',
-
-
-// F
-'forum' => '&#1575;&#1604;&#1605;&#1606;&#1578;&#1583;&#1609;',
-
-
-// H
-'hierarchie_site' => '&#1607;&#1585;&#1605;&#1610;&#1577; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
-
-
-// J
-'jours' => '&#1610;&#1608;&#1605;',
-
-
-// M
-'meme_auteur' => '&#1605;&#1606; &#1606;&#1601;&#1587; &#1575;&#1604;&#1605;&#1572;&#1604;&#1601;',
-'meme_rubrique' => '&#1601;&#1610; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605; &#1575;&#1610;&#1590;&#1575;&#1611;',
-'memes_auteurs' => '&#1605;&#1606; &#1575;&#1604;&#1605;&#1572;&#1604;&#1601;&#1610;&#1606; &#1606;&#1601;&#1587;&#1607;&#1605; &#1575;&#1610;&#1590;&#1575;&#1611;',
-'message' => '&#1605;&#1588;&#1575;&#1585;&#1603;&#1577;',
-'messages_forum' => '&#1605;&#1588;&#1575;&#1585;&#1603;&#1577; &#1605;&#1606;&#1578;&#1583;&#1609;',
-'messages_recents' => '&#1571;&#1581;&#1583;&#1579; &#1575;&#1604;&#1605;&#1588;&#1575;&#1585;&#1603;&#1575;&#1578;',
-'mots_clefs' => '&#1575;&#1604;&#1605;&#1601;&#1575;&#1578;&#1610;&#1581;',
-'mots_clefs_meme_groupe' => '&#1575;&#1604;&#1605;&#1601;&#1575;&#1578;&#1610;&#1581; &#1575;&#1604;&#1575;&#1582;&#1585;&#1609; &#1601;&#1610; &#1607;&#1584;&#1607; &#1575;&#1604;&#1605;&#1580;&#1605;&#1608;&#1593;&#1577;',
-
-
-// N
-'navigation' => '&#1578;&#1589;&#1602;&#1581;',
-'nom' => '&#1575;&#1604;&#1573;&#1587;&#1605;',
-'nouveautes' => '&#1575;&#1604;&#1580;&#1583;&#1610;&#1583;',
-'nouveautes_web' => '&#1575;&#1604;&#1580;&#1583;&#1610;&#1583; &#1593;&#1604;&#1609; &#1575;&#1604;&#1606;&#1587;&#1610;&#1580;',
-'nouveaux_articles' => '&#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1575;&#1604;&#1580;&#1583;&#1610;&#1583;&#1577;',
-'nouvelles_breves' => '&#1575;&#1604;&#1571;&#1582;&#1576;&#1575;&#1585; &#1575;&#1604;&#1580;&#1583;&#1610;&#1583;&#1577;',
-
-
-// P
-'page_precedente' => '&#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1587;&#1575;&#1576;&#1602;&#1577;',
-'page_suivante' => '&#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1578;&#1575;&#1604;&#1610;&#1577;',
-'par_auteur' => '&#1576;&#1602;&#1604;&#1605; ',
-'participer_site' => '&#1610;&#1605;&#1603;&#1606;&#1603; &#1575;&#1604;&#1605;&#1588;&#1575;&#1585;&#1603;&#1577; &#1601;&#1610; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;&#1548; &#1576;&#1575;&#1604;&#1578;&#1587;&#1580;&#1610;&#1604; &#1575;&#1583;&#1606;&#1575;&#1607; &#1608;&#1606;&#1588;&#1585; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;&#1603;. &#1608;&#1576;&#1593;&#1583; &#1575;&#1604;&#1578;&#1587;&#1580;&#1610;&#1604;&#1548; &#1587;&#1608;&#1601; &#1578;&#1589;&#1604;&#1603; &#1585;&#1587;&#1575;&#1604;&#1577; &#1601;&#1608;&#1585;&#1610;&#1577; &#1576;&#1575;&#1604;&#1576;&#1585;&#1610;&#1583; &#1575;&#1604;&#1575;&#1604;&#1603;&#1578;&#1585;&#1608;&#1606;&#1610; &#1578;&#1578;&#1590;&#1605;&#1606; &#1605;&#1593;&#1585;&#1601;&#1603; &#1575;&#1604;&#1582;&#1575;&#1589; &#1575;&#1604;&#1584;&#1610; &#1610;&#1587;&#1605;&#1581; &#1604;&#1603; &#1576;&#1575;&#1604;&#1583;&#1582;&#1608;&#1604; &#1575;&#1604;&#1609; &#1575;&#1604;&#1605;&#1580;&#!
 1575;&#1604; &#1575;&#1604;&#1582;&#1575;&#1589;.',
-'plan_site' => '&#1582;&#1585;&#1610;&#1591;&#1577; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
-'popularite' => '&#1575;&#1604;&#1588;&#1593;&#1576;&#1610;&#1577;',
-'poster_message' => '&#1573;&#1576;&#1593;&#1579; &#1576;&#1585;&#1587;&#1575;&#1604;&#1577;',
-'proposer_site' => '&#1610;&#1605;&#1603;&#1606;&#1603; &#1575;&#1601;&#1578;&#1585;&#1575;&#1581; &#1575;&#1590;&#1575;&#1601;&#1577; &#1605;&#1608;&#1602;&#1593; &#1575;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605;:',
-
-
-// R
-'repondre_article' => '&#1575;&#1604;&#1585;&#1583; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;',
-'repondre_breve' => '&#1575;&#1604;&#1585;&#1583; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1582;&#1576;&#1585;',
-'repondre_message' => '&#1575;&#1604;&#1585;&#1583; &#1593;&#1604;&#1609; &#1607;&#1584;&#1607; &#1575;&#1604;&#1605;&#1588;&#1575;&#1585;&#1603;&#1577;',
-'resultats_recherche' => '&#1606;&#1578;&#1575;&#1574;&#1580; &#1575;&#1604;&#1576;&#1581;&#1579;',
-'retour_debut_forums' => '&#1593;&#1608;&#1583;&#1577; &#1575;&#1604;&#1609; &#1576;&#1583;&#1575;&#1610;&#1577; &#1575;&#1604;&#1605;&#1606;&#1578;&#1583;&#1610;&#1575;&#1578;',
-'rubrique' => '&#1575;&#1604;&#1602;&#1587;&#1605;',
-'rubriques' => '&#1575;&#1604;&#1571;&#1602;&#1587;&#1575;&#1605;',
-
-
-// S
-'signatures_petition' => '&#1575;&#1604;&#1578;&#1608;&#1602;&#1610;&#1593;&#1575;&#1578;',
-'site_realise_avec_spip' => '&#1605;&#1608;&#1602;&#1593; &#1589;&#1605;&#1605; &#1576;&#1606;&#1592;&#1575;&#1605; SPIP',
-'sites_web' => '&#1605;&#1608;&#1575;&#1602;&#1593; &#1575;&#1604;&#1606;&#1587;&#1610;&#1580;',
-'sous_rubriques' => '&#1575;&#1604;&#1571;&#1602;&#1587;&#1575;&#1605; &#1575;&#1604;&#1601;&#1585;&#1593;&#1610;&#1577;',
-'suite' => '&#1578;&#1578;&#1605;&#1577;',
-'sur_web' => '&#1593;&#1604;&#1609; &#1575;&#1604;&#1606;&#1587;&#1610;&#1580;',
-'syndiquer_rubrique' => '&#1578;&#1585;&#1582;&#1610;&#1589; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605;',
-'syndiquer_site' => '&#1578;&#1585;&#1582;&#1610;&#1589; &#1603;&#1575;&#1605;&#1604; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
-
-
-// T
-'texte_lettre_information' => '&#1607;&#1575; &#1607;&#1610; &#1606;&#1588;&#1585;&#1577; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
-'texte_lettre_information_2' => '&#1578;&#1581;&#1589;&#1610; &#1607;&#1584;&#1607; &#1575;&#1604;&#1606;&#1588;&#1585;&#1577; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1608;&#1575;&#1604;&#1571;&#1582;&#1576;&#1575;&#1585; &#1575;&#1604;&#1605;&#1606;&#1588;&#1608;&#1585;&#1577; &#1605;&#1606;&#1584; ',
-
-
-// V
-'ver_imprimer' => '&#1606;&#1587;&#1582;&#1577; &#1604;&#1604;&#1591;&#1576;&#1575;&#1593;&#1577;',
-'voir_en_ligne' => '&#1593;&#1585;&#1590; &#1605;&#1576;&#1575;&#1588;&#1585;'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => '&#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1575;&#1587;&#1575;&#1587;&#1610;&#1577;',
+'articles' => '&#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
+'articles_auteur' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1572;&#1604;&#1601;',
+'articles_populaires' => '&#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1575;&#1604;&#1575;&#1603;&#1579;&#1585; &#1588;&#1593;&#1576;&#1610;&#1577;',
+'articles_recents' => '&#1571;&#1581;&#1583;&#1579; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
+'articles_rubrique' => '&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605;',
+'aucun_article' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
+'aucun_auteur' => '&#1604;&#1575; &#1610;&#1608;&#1580;&#1583; &#1605;&#1572;&#1604;&#1601;&#1608;&#1606; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
+'aucun_site' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1605;&#1608;&#1575;&#1602;&#1593; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
+'aucune_breve' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1571;&#1582;&#1576;&#1575;&#1585; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
+'aucune_rubrique' => '&#1604;&#1575; &#1578;&#1608;&#1580;&#1583; &#1571;&#1602;&#1587;&#1575;&#1605; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1593;&#1606;&#1608;&#1575;&#1606;',
+'autres_breves' => '&#1571;&#1582;&#1576;&#1575;&#1585; &#1571;&#1582;&#1585;&#1609;',
+'autres_groupes_mots_clefs' => '&#1605;&#1580;&#1605;&#1608;&#1593;&#1575;&#1578; &#1605;&#1601;&#1575;&#1578;&#1610;&#1581; &#1575;&#1582;&#1585;&#1609;',
+'autres_sites' => '&#1605;&#1608;&#1575;&#1602;&#1593; &#1571;&#1582;&#1585;&#1609;',
+
+
+// B
+'bonjour' => '&#1571;&#1607;&#1604;&#1575;&#1611; &#1608;&#1587;&#1607;&#1604;&#1575;&#1611;',
+'breves' => '&#1575;&#1604;&#1571;&#1582;&#1576;&#1575;&#1585;',
+
+
+// C
+'commenter_site' => '&#1578;&#1593;&#1604;&#1610;&#1602; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
+
+
+// D
+'date' => '&#1575;&#1604;&#1578;&#1575;&#1585;&#1610;&#1582;',
+'dernier_ajout' => '&#1570;&#1582;&#1585; &#1573;&#1590;&#1575;&#1601;&#1577;',
+'dernieres_breves' => '&#1570;&#1582;&#1585; &#1575;&#1604;&#1571;&#1582;&#1576;&#1575;&#1585;',
+'derniers_articles' => '&#1570;&#1582;&#1585; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578;',
+'derniers_commentaires' => '&#1570;&#1582;&#1585; &#1575;&#1604;&#1578;&#1593;&#1604;&#1610;&#1602;&#1575;&#1578;',
+'derniers_messages_forum' => '&#1570;&#1582;&#1585; &#1575;&#1604;&#1605;&#1588;&#1575;&#1585;&#1603;&#1575;&#1578; &#1575;&#1604;&#1605;&#1606;&#1588;&#1608;&#1585;&#1577; &#1601;&#1610; &#1575;&#1604;&#1605;&#1606;&#1578;&#1583;&#1610;&#1575;&#1578;',
+
+
+// E
+'edition_mode_texte' => '&#1575;&#1604;&#1606;&#1588;&#1585;&#1577; &#1601;&#1610; &#1608;&#1590;&#1593;&#1610;&#1577; &#1575;&#1604;&#1606;&#1589;&#1608;&#1589;',
+'en_reponse' => '&#1585;&#1583;&#1575;&#1611; &#1593;&#1604;&#1609;:',
+'en_resume' => '&#1576;&#1575;&#1582;&#1578;&#1589;&#1575;&#1585;',
+'envoyer_message' => '&#1573;&#1585;&#1587;&#1575;&#1604; &#1605;&#1588;&#1575;&#1585;&#1603;&#1577;',
+'espace_prive' => '&#1575;&#1604;&#1605;&#1580;&#1575;&#1604; &#1575;&#1604;&#1582;&#1575;&#1589;',
+
+
+// F
+'forum' => '&#1575;&#1604;&#1605;&#1606;&#1578;&#1583;&#1609;',
+
+
+// H
+'hierarchie_site' => '&#1607;&#1585;&#1605;&#1610;&#1577; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
+
+
+// J
+'jours' => '&#1610;&#1608;&#1605;',
+
+
+// M
+'meme_auteur' => '&#1605;&#1606; &#1606;&#1601;&#1587; &#1575;&#1604;&#1605;&#1572;&#1604;&#1601;',
+'meme_rubrique' => '&#1601;&#1610; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605; &#1575;&#1610;&#1590;&#1575;&#1611;',
+'memes_auteurs' => '&#1605;&#1606; &#1575;&#1604;&#1605;&#1572;&#1604;&#1601;&#1610;&#1606; &#1606;&#1601;&#1587;&#1607;&#1605; &#1575;&#1610;&#1590;&#1575;&#1611;',
+'message' => '&#1605;&#1588;&#1575;&#1585;&#1603;&#1577;',
+'messages_forum' => '&#1605;&#1588;&#1575;&#1585;&#1603;&#1577; &#1605;&#1606;&#1578;&#1583;&#1609;',
+'messages_recents' => '&#1571;&#1581;&#1583;&#1579; &#1575;&#1604;&#1605;&#1588;&#1575;&#1585;&#1603;&#1575;&#1578;',
+'mots_clefs' => '&#1575;&#1604;&#1605;&#1601;&#1575;&#1578;&#1610;&#1581;',
+'mots_clefs_meme_groupe' => '&#1575;&#1604;&#1605;&#1601;&#1575;&#1578;&#1610;&#1581; &#1575;&#1604;&#1575;&#1582;&#1585;&#1609; &#1601;&#1610; &#1607;&#1584;&#1607; &#1575;&#1604;&#1605;&#1580;&#1605;&#1608;&#1593;&#1577;',
+
+
+// N
+'navigation' => '&#1578;&#1589;&#1602;&#1581;',
+'nom' => '&#1575;&#1604;&#1573;&#1587;&#1605;',
+'nouveautes' => '&#1575;&#1604;&#1580;&#1583;&#1610;&#1583;',
+'nouveautes_web' => '&#1575;&#1604;&#1580;&#1583;&#1610;&#1583; &#1593;&#1604;&#1609; &#1575;&#1604;&#1606;&#1587;&#1610;&#1580;',
+'nouveaux_articles' => '&#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1575;&#1604;&#1580;&#1583;&#1610;&#1583;&#1577;',
+'nouvelles_breves' => '&#1575;&#1604;&#1571;&#1582;&#1576;&#1575;&#1585; &#1575;&#1604;&#1580;&#1583;&#1610;&#1583;&#1577;',
+
+
+// P
+'page_precedente' => '&#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1587;&#1575;&#1576;&#1602;&#1577;',
+'page_suivante' => '&#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1578;&#1575;&#1604;&#1610;&#1577;',
+'par_auteur' => '&#1576;&#1602;&#1604;&#1605; ',
+'participer_site' => '&#1610;&#1605;&#1603;&#1606;&#1603; &#1575;&#1604;&#1605;&#1588;&#1575;&#1585;&#1603;&#1577; &#1601;&#1610; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;&#1548; &#1576;&#1575;&#1604;&#1578;&#1587;&#1580;&#1610;&#1604; &#1575;&#1583;&#1606;&#1575;&#1607; &#1608;&#1606;&#1588;&#1585; &#1605;&#1602;&#1575;&#1604;&#1575;&#1578;&#1603;. &#1608;&#1576;&#1593;&#1583; &#1575;&#1604;&#1578;&#1587;&#1580;&#1610;&#1604;&#1548; &#1587;&#1608;&#1601; &#1578;&#1589;&#1604;&#1603; &#1585;&#1587;&#1575;&#1604;&#1577; &#1601;&#1608;&#1585;&#1610;&#1577; &#1576;&#1575;&#1604;&#1576;&#1585;&#1610;&#1583; &#1575;&#1604;&#1575;&#1604;&#1603;&#1578;&#1585;&#1608;&#1606;&#1610; &#1578;&#1578;&#1590;&#1605;&#1606; &#1605;&#1593;&#1585;&#1601;&#1603; &#1575;&#1604;&#1582;&#1575;&#1589; &#1575;&#1604;&#1584;&#1610; &#1610;&#1587;&#1605;&#1581; &#1604;&#1603; &#1576;&#1575;&#1604;&#1583;&#1582;&#1608;&#1604; &#1575;&#1604;&#1609; &#1575;&#1604;&#1605;&#1580;&#!
 1575;&#1604; &#1575;&#1604;&#1582;&#1575;&#1589;.',
+'plan_site' => '&#1582;&#1585;&#1610;&#1591;&#1577; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
+'popularite' => '&#1575;&#1604;&#1588;&#1593;&#1576;&#1610;&#1577;',
+'poster_message' => '&#1573;&#1576;&#1593;&#1579; &#1576;&#1585;&#1587;&#1575;&#1604;&#1577;',
+'proposer_site' => '&#1610;&#1605;&#1603;&#1606;&#1603; &#1575;&#1601;&#1578;&#1585;&#1575;&#1581; &#1575;&#1590;&#1575;&#1601;&#1577; &#1605;&#1608;&#1602;&#1593; &#1575;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605;:',
+
+
+// R
+'repondre_article' => '&#1575;&#1604;&#1585;&#1583; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;',
+'repondre_breve' => '&#1575;&#1604;&#1585;&#1583; &#1593;&#1604;&#1609; &#1607;&#1584;&#1575; &#1575;&#1604;&#1582;&#1576;&#1585;',
+'repondre_message' => '&#1575;&#1604;&#1585;&#1583; &#1593;&#1604;&#1609; &#1607;&#1584;&#1607; &#1575;&#1604;&#1605;&#1588;&#1575;&#1585;&#1603;&#1577;',
+'resultats_recherche' => '&#1606;&#1578;&#1575;&#1574;&#1580; &#1575;&#1604;&#1576;&#1581;&#1579;',
+'retour_debut_forums' => '&#1593;&#1608;&#1583;&#1577; &#1575;&#1604;&#1609; &#1576;&#1583;&#1575;&#1610;&#1577; &#1575;&#1604;&#1605;&#1606;&#1578;&#1583;&#1610;&#1575;&#1578;',
+'rubrique' => '&#1575;&#1604;&#1602;&#1587;&#1605;',
+'rubriques' => '&#1575;&#1604;&#1571;&#1602;&#1587;&#1575;&#1605;',
+
+
+// S
+'signatures_petition' => '&#1575;&#1604;&#1578;&#1608;&#1602;&#1610;&#1593;&#1575;&#1578;',
+'site_realise_avec_spip' => '&#1605;&#1608;&#1602;&#1593; &#1589;&#1605;&#1605; &#1576;&#1606;&#1592;&#1575;&#1605; SPIP',
+'sites_web' => '&#1605;&#1608;&#1575;&#1602;&#1593; &#1575;&#1604;&#1606;&#1587;&#1610;&#1580;',
+'sous_rubriques' => '&#1575;&#1604;&#1571;&#1602;&#1587;&#1575;&#1605; &#1575;&#1604;&#1601;&#1585;&#1593;&#1610;&#1577;',
+'suite' => '&#1578;&#1578;&#1605;&#1577;',
+'sur_web' => '&#1593;&#1604;&#1609; &#1575;&#1604;&#1606;&#1587;&#1610;&#1580;',
+'syndiquer_rubrique' => '&#1578;&#1585;&#1582;&#1610;&#1589; &#1607;&#1584;&#1575; &#1575;&#1604;&#1602;&#1587;&#1605;',
+'syndiquer_site' => '&#1578;&#1585;&#1582;&#1610;&#1589; &#1603;&#1575;&#1605;&#1604; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
+
+
+// T
+'texte_lettre_information' => '&#1607;&#1575; &#1607;&#1610; &#1606;&#1588;&#1585;&#1577; &#1575;&#1604;&#1605;&#1608;&#1602;&#1593;',
+'texte_lettre_information_2' => '&#1578;&#1581;&#1589;&#1610; &#1607;&#1584;&#1607; &#1575;&#1604;&#1606;&#1588;&#1585;&#1577; &#1575;&#1604;&#1605;&#1602;&#1575;&#1604;&#1575;&#1578; &#1608;&#1575;&#1604;&#1571;&#1582;&#1576;&#1575;&#1585; &#1575;&#1604;&#1605;&#1606;&#1588;&#1608;&#1585;&#1577; &#1605;&#1606;&#1584; ',
+
+
+// V
+'ver_imprimer' => '&#1606;&#1587;&#1582;&#1577; &#1604;&#1604;&#1591;&#1576;&#1575;&#1593;&#1577;',
+'voir_en_ligne' => '&#1593;&#1585;&#1590; &#1605;&#1576;&#1575;&#1588;&#1585;'
+
+);
+
+
+?>

Index: public_bg.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_bg.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_bg.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_bg.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => '&#1053;&#1072;&#1095;&#1072;&#1083;&#1086;',
-'articles' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1080;',
-'articles_auteur' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1080; &#1085;&#1072; &#1072;&#1074;&#1090;&#1086;&#1088;&#1072;',
-'articles_populaires' => '&#1053;&#1072;&#1081;-&#1087;&#1086;&#1087;&#1091;&#1083;&#1103;&#1088;&#1085;&#1080;&#1090;&#1077; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;',
-'articles_recents' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1074;&#1072;&#1085;&#1080; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;',
-'articles_rubrique' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1080; &#1086;&#1090; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;&#1090;&#1072;',
-'aucun_article' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1077; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;',
-'aucun_auteur' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1077; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085; &#1072;&#1074;&#1090;&#1086;&#1088;',
-'aucun_site' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1077; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085; &#1089;&#1072;&#1081;&#1090;',
-'aucune_breve' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1103;&#1093;&#1072; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085;&#1080; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;',
-'aucune_rubrique' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1077; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085;&#1072; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;',
-'autres_breves' => '&#1044;&#1088;&#1091;&#1075;&#1080; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;',
-'autres_groupes_mots_clefs' => '&#1044;&#1088;&#1091;&#1075;&#1080; &#1075;&#1088;&#1091;&#1087;&#1080; &#1086;&#1090; &#1082;&#1083;&#1102;&#1095;&#1086;&#1074;&#1080; &#1076;&#1091;&#1084;&#1080;',
-'autres_sites' => '&#1044;&#1088;&#1091;&#1075;&#1080; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;',
-
-
-// B
-'bonjour' => '&#1044;&#1086;&#1073;&#1098;&#1088; &#1076;&#1077;&#1085;',
-'breves' => '&#1053;&#1086;&#1074;&#1080;&#1085;&#1080;',
-
-
-// C
-'commenter_site' => '&#1050;&#1086;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
-
-
-// D
-'date' => '&#1044;&#1072;&#1090;&#1072;',
-'dernier_ajout' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1086;&#1090;&#1086; &#1076;&#1086;&#1087;&#1098;&#1083;&#1085;&#1077;&#1085;&#1080;&#1077;',
-'dernieres_breves' => '&#1055;&#1086;&#1089;&#1083;&#1077;&#1076;&#1085;&#1080;&#1090;&#1077; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;',
-'derniers_articles' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;',
-'derniers_commentaires' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1082;&#1086;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;',
-'derniers_messages_forum' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1103;, &#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1074;&#1072;&#1085;&#1080; &#1085;&#1072; &#1092;&#1086;&#1088;&#1091;&#1084;&#1072;',
-
-
-// E
-'edition_mode_texte' => '&#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074; &#1074;&#1080;&#1076;',
-'en_reponse' => '&#1042; &#1086;&#1090;&#1075;&#1086;&#1074;&#1086;&#1088; &#1085;&#1072;:',
-'en_resume' => '&#1056;&#1077;&#1079;&#1102;&#1084;&#1077;',
-'envoyer_message' => '&#1048;&#1079;&#1087;&#1088;&#1072;&#1097;&#1072;&#1085;&#1077; &#1085;&#1072; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;',
-'espace_prive' => '&#1051;&#1080;&#1095;&#1085;&#1072; &#1079;&#1086;&#1085;&#1072;',
-
-
-// F
-'forum' => '&#1060;&#1086;&#1088;&#1091;&#1084;',
-
-
-// H
-'hierarchie_site' => '&#1057;&#1090;&#1088;&#1091;&#1082;&#1090;&#1091;&#1088;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
-
-
-// J
-'jours' => '&#1076;&#1085;&#1080;',
-
-
-// M
-'meme_auteur' => '&#1054;&#1090; &#1089;&#1098;&#1097;&#1080;&#1103; &#1072;&#1074;&#1090;&#1086;&#1088;',
-'meme_rubrique' => '&#1042; &#1089;&#1098;&#1097;&#1072;&#1090;&#1072; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;',
-'memes_auteurs' => '&#1054;&#1090; &#1089;&#1098;&#1097;&#1080;&#1090;&#1077; &#1072;&#1074;&#1090;&#1086;&#1088;&#1080;',
-'message' => '&#1057;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;',
-'messages_forum' => '&#1057;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1103; &#1086;&#1090; &#1092;&#1086;&#1088;&#1091;&#1084;&#1072;',
-'messages_recents' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1103; &#1086;&#1090; &#1092;&#1086;&#1088;&#1091;&#1084;&#1072;',
-'mots_clefs' => '&#1050;&#1083;&#1102;&#1095;&#1086;&#1074;&#1080; &#1076;&#1091;&#1084;&#1080;',
-'mots_clefs_meme_groupe' => '&#1050;&#1083;&#1102;&#1095;&#1086;&#1074;&#1080; &#1076;&#1091;&#1084;&#1080; &#1086;&#1090; &#1089;&#1098;&#1097;&#1072;&#1090;&#1072; &#1075;&#1088;&#1091;&#1087;&#1072;',
-
-
-// N
-'navigation' => '&#1053;&#1072;&#1074;&#1080;&#1075;&#1072;&#1094;&#1080;&#1103;',
-'nom' => '&#1048;&#1084;&#1077;',
-'nouveautes' => '&#1050;&#1072;&#1082;&#1074;&#1086; &#1085;&#1086;&#1074;&#1086;?',
-'nouveautes_web' => '&#1050;&#1072;&#1082;&#1074;&#1086; &#1085;&#1086;&#1074;&#1086; &#1074; &#1084;&#1088;&#1077;&#1078;&#1072;&#1090;&#1072;?',
-'nouveaux_articles' => '&#1053;&#1086;&#1074;&#1080; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;',
-'nouvelles_breves' => '&#1055;&#1086;&#1089;&#1083;&#1077;&#1076;&#1085;&#1080; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;',
-
-
-// P
-'page_precedente' => '&#1087;&#1088;&#1077;&#1076;&#1080;&#1096;&#1085;&#1072; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;',
-'page_suivante' => '&#1089;&#1083;&#1077;&#1076;&#1074;&#1072;&#1097;&#1072; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;',
-'par_auteur' => '&#1086;&#1090;',
-'participer_site' => '&#1047;&#1072; &#1076;&#1072; &#1074;&#1079;&#1077;&#1084;&#1077;&#1090;&#1077; &#1072;&#1082;&#1090;&#1080;&#1074;&#1085;&#1086; &#1091;&#1095;&#1072;&#1089;&#1090;&#1080;&#1077; &#1074; &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1090;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072; &#1080; &#1076;&#1072; &#1087;&#1080;&#1096;&#1077;&#1090;&#1077; &#1089;&#1074;&#1086;&#1080; &#1089;&#1086;&#1073;&#1089;&#1090;&#1074;&#1077;&#1085;&#1080; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;, &#1077; &#1085;&#1091;&#1078;&#1085;&#1086; &#1087;&#1098;&#1088;&#1074;&#1086; &#1076;&#1072; &#1089;&#1077; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088;&#1080;&#1088;&#1072;&#1090;&#1077; &#1090;&#1091;&#1082;. &#1055;&#1088;&#1080; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088;&#1072;&#1094;&#1080;&#1103; &#1097;&#1077; &#1087;&#1086;&#1083;&#1091;&#1095;&#1080;&#1090;&#1077; &#1085;&#1077;&#1079;&#1072;&#1073;&#1072;&#1074;&#1085;&#1086; &#1089;&#1098!
 ;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077; &#1085;&#1072; &#1077;&#1083;&#1077;&#1082;&#1090;&#1088;&#1086;&#1085;&#1085;&#1080;&#1103; &#1089;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1089; &#1082;&#1086;&#1076; &#1079;&#1072; &#1076;&#1086;&#1089;&#1090;&#1098;&#1087; &#1076;&#1086; &#1083;&#1080;&#1095;&#1085;&#1072;&#1090;&#1072; &#1079;&#1086;&#1085;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;.',
-'plan_site' => '&#1050;&#1072;&#1088;&#1090;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
-'popularite' => '&#1055;&#1086;&#1087;&#1091;&#1083;&#1103;&#1088;&#1085;&#1086;&#1089;&#1090;',
-'poster_message' => '&#1048;&#1079;&#1087;&#1088;&#1072;&#1097;&#1072;&#1085;&#1077; &#1085;&#1072; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;',
-'proposer_site' => '&#1055;&#1088;&#1077;&#1076;&#1083;&#1086;&#1078;&#1077;&#1090;&#1077; &#1089;&#1072;&#1081;&#1090;, &#1082;&#1086;&#1081;&#1090;&#1086; &#1076;&#1072; &#1073;&#1098;&#1076;&#1077; &#1076;&#1086;&#1073;&#1072;&#1074;&#1077;&#1085; &#1082;&#1098;&#1084; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;&#1090;&#1072;:',
-
-
-// R
-'repondre_article' => '&#1054;&#1090;&#1075;&#1086;&#1074;&#1086;&#1088; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072;',
-'repondre_breve' => '&#1054;&#1090;&#1075;&#1086;&#1074;&#1086;&#1088; &#1085;&#1072; &#1085;&#1086;&#1074;&#1080;&#1085;&#1072;&#1090;&#1072;',
-'repondre_message' => '&#1054;&#1090;&#1075;&#1086;&#1074;&#1086;&#1088; &#1085;&#1072; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;&#1090;&#1086;',
-'resultats_recherche' => '&#1056;&#1077;&#1079;&#1091;&#1083;&#1090;&#1072;&#1090;&#1080; &#1086;&#1090; &#1090;&#1098;&#1088;&#1089;&#1077;&#1085;&#1077;&#1090;&#1086;',
-'retour_debut_forums' => '&#1054;&#1073;&#1088;&#1072;&#1090;&#1085;&#1086; &#1074; &#1085;&#1072;&#1095;&#1072;&#1083;&#1086;&#1090;&#1086; &#1085;&#1072; &#1092;&#1086;&#1088;&#1091;&#1084;&#1080;&#1090;&#1077;',
-'rubrique' => '&#1056;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;',
-'rubriques' => '&#1056;&#1091;&#1073;&#1088;&#1080;&#1082;&#1080;',
-
-
-// S
-'signatures_petition' => '&#1047;&#1072;&#1087;&#1080;&#1089;&#1080;',
-'site_realise_avec_spip' => '&#1057;&#1072;&#1081;&#1090; &#1087;&#1086;&#1076; &#1057;&#1055;&#1048;&#1055;',
-'sites_web' => '&#1048;&#1085;&#1090;&#1077;&#1088;&#1085;&#1077;&#1090; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;',
-'sous_rubriques' => '&#1055;&#1086;&#1076;&#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1080;',
-'suite' => '&#1087;&#1088;&#1086;&#1076;&#1098;&#1083;&#1078;&#1072;&#1074;&#1072;',
-'sur_web' => '&#1042; &#1084;&#1088;&#1077;&#1078;&#1072;&#1090;&#1072;',
-'syndiquer_rubrique' => '&#1054;&#1073;&#1077;&#1076;&#1080;&#1085;&#1103;&#1074;&#1072;&#1085;&#1077; &#1085;&#1072; &#1090;&#1072;&#1079;&#1080; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;',
-'syndiquer_site' => '&#1054;&#1073;&#1077;&#1076;&#1080;&#1085;&#1103;&#1074;&#1072;&#1085;&#1077; &#1085;&#1072; &#1094;&#1077;&#1083;&#1080;&#1103; &#1089;&#1072;&#1081;&#1090;',
-
-
-// T
-'texte_lettre_information' => '&#1058;&#1086;&#1074;&#1072; &#1077; &#1073;&#1102;&#1083;&#1077;&#1090;&#1080;&#1085;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
-'texte_lettre_information_2' => '&#1055;&#1080;&#1089;&#1084;&#1086;&#1090;&#1086; &#1088;&#1077;&#1079;&#1102;&#1084;&#1080;&#1088;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;&#1090;&#1077; &#1080; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;&#1090;&#1077; &#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1074;&#1072;&#1085;&#1080; &#1086;&#1090;',
-
-
-// V
-'ver_imprimer' => '&#1042;&#1077;&#1088;&#1089;&#1080;&#1103; &#1079;&#1072; &#1086;&#1090;&#1087;&#1077;&#1095;&#1072;&#1090;&#1074;&#1072;&#1085;&#1077;',
-'voir_en_ligne' => '&#1042;&#1080;&#1078; &#1082;&#1072;&#1082; &#1097;&#1077; &#1080;&#1079;&#1075;&#1083;&#1077;&#1078;&#1076;&#1072;'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => '&#1053;&#1072;&#1095;&#1072;&#1083;&#1086;',
+'articles' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1080;',
+'articles_auteur' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1080; &#1085;&#1072; &#1072;&#1074;&#1090;&#1086;&#1088;&#1072;',
+'articles_populaires' => '&#1053;&#1072;&#1081;-&#1087;&#1086;&#1087;&#1091;&#1083;&#1103;&#1088;&#1085;&#1080;&#1090;&#1077; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;',
+'articles_recents' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1074;&#1072;&#1085;&#1080; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;',
+'articles_rubrique' => '&#1057;&#1090;&#1072;&#1090;&#1080;&#1080; &#1086;&#1090; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;&#1090;&#1072;',
+'aucun_article' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1077; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;',
+'aucun_auteur' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1077; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085; &#1072;&#1074;&#1090;&#1086;&#1088;',
+'aucun_site' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1077; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085; &#1089;&#1072;&#1081;&#1090;',
+'aucune_breve' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1103;&#1093;&#1072; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085;&#1080; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;',
+'aucune_rubrique' => '&#1053;&#1072; &#1090;&#1086;&#1079;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1085;&#1077; &#1073;&#1077; &#1085;&#1072;&#1084;&#1077;&#1088;&#1077;&#1085;&#1072; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;',
+'autres_breves' => '&#1044;&#1088;&#1091;&#1075;&#1080; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;',
+'autres_groupes_mots_clefs' => '&#1044;&#1088;&#1091;&#1075;&#1080; &#1075;&#1088;&#1091;&#1087;&#1080; &#1086;&#1090; &#1082;&#1083;&#1102;&#1095;&#1086;&#1074;&#1080; &#1076;&#1091;&#1084;&#1080;',
+'autres_sites' => '&#1044;&#1088;&#1091;&#1075;&#1080; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;',
+
+
+// B
+'bonjour' => '&#1044;&#1086;&#1073;&#1098;&#1088; &#1076;&#1077;&#1085;',
+'breves' => '&#1053;&#1086;&#1074;&#1080;&#1085;&#1080;',
+
+
+// C
+'commenter_site' => '&#1050;&#1086;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
+
+
+// D
+'date' => '&#1044;&#1072;&#1090;&#1072;',
+'dernier_ajout' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1086;&#1090;&#1086; &#1076;&#1086;&#1087;&#1098;&#1083;&#1085;&#1077;&#1085;&#1080;&#1077;',
+'dernieres_breves' => '&#1055;&#1086;&#1089;&#1083;&#1077;&#1076;&#1085;&#1080;&#1090;&#1077; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;',
+'derniers_articles' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;',
+'derniers_commentaires' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1082;&#1086;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;',
+'derniers_messages_forum' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1103;, &#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1074;&#1072;&#1085;&#1080; &#1085;&#1072; &#1092;&#1086;&#1088;&#1091;&#1084;&#1072;',
+
+
+// E
+'edition_mode_texte' => '&#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074; &#1074;&#1080;&#1076;',
+'en_reponse' => '&#1042; &#1086;&#1090;&#1075;&#1086;&#1074;&#1086;&#1088; &#1085;&#1072;:',
+'en_resume' => '&#1056;&#1077;&#1079;&#1102;&#1084;&#1077;',
+'envoyer_message' => '&#1048;&#1079;&#1087;&#1088;&#1072;&#1097;&#1072;&#1085;&#1077; &#1085;&#1072; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;',
+'espace_prive' => '&#1051;&#1080;&#1095;&#1085;&#1072; &#1079;&#1086;&#1085;&#1072;',
+
+
+// F
+'forum' => '&#1060;&#1086;&#1088;&#1091;&#1084;',
+
+
+// H
+'hierarchie_site' => '&#1057;&#1090;&#1088;&#1091;&#1082;&#1090;&#1091;&#1088;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
+
+
+// J
+'jours' => '&#1076;&#1085;&#1080;',
+
+
+// M
+'meme_auteur' => '&#1054;&#1090; &#1089;&#1098;&#1097;&#1080;&#1103; &#1072;&#1074;&#1090;&#1086;&#1088;',
+'meme_rubrique' => '&#1042; &#1089;&#1098;&#1097;&#1072;&#1090;&#1072; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;',
+'memes_auteurs' => '&#1054;&#1090; &#1089;&#1098;&#1097;&#1080;&#1090;&#1077; &#1072;&#1074;&#1090;&#1086;&#1088;&#1080;',
+'message' => '&#1057;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;',
+'messages_forum' => '&#1057;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1103; &#1086;&#1090; &#1092;&#1086;&#1088;&#1091;&#1084;&#1072;',
+'messages_recents' => '&#1053;&#1072;&#1081;-&#1085;&#1086;&#1074;&#1080;&#1090;&#1077; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1103; &#1086;&#1090; &#1092;&#1086;&#1088;&#1091;&#1084;&#1072;',
+'mots_clefs' => '&#1050;&#1083;&#1102;&#1095;&#1086;&#1074;&#1080; &#1076;&#1091;&#1084;&#1080;',
+'mots_clefs_meme_groupe' => '&#1050;&#1083;&#1102;&#1095;&#1086;&#1074;&#1080; &#1076;&#1091;&#1084;&#1080; &#1086;&#1090; &#1089;&#1098;&#1097;&#1072;&#1090;&#1072; &#1075;&#1088;&#1091;&#1087;&#1072;',
+
+
+// N
+'navigation' => '&#1053;&#1072;&#1074;&#1080;&#1075;&#1072;&#1094;&#1080;&#1103;',
+'nom' => '&#1048;&#1084;&#1077;',
+'nouveautes' => '&#1050;&#1072;&#1082;&#1074;&#1086; &#1085;&#1086;&#1074;&#1086;?',
+'nouveautes_web' => '&#1050;&#1072;&#1082;&#1074;&#1086; &#1085;&#1086;&#1074;&#1086; &#1074; &#1084;&#1088;&#1077;&#1078;&#1072;&#1090;&#1072;?',
+'nouveaux_articles' => '&#1053;&#1086;&#1074;&#1080; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;',
+'nouvelles_breves' => '&#1055;&#1086;&#1089;&#1083;&#1077;&#1076;&#1085;&#1080; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;',
+
+
+// P
+'page_precedente' => '&#1087;&#1088;&#1077;&#1076;&#1080;&#1096;&#1085;&#1072; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;',
+'page_suivante' => '&#1089;&#1083;&#1077;&#1076;&#1074;&#1072;&#1097;&#1072; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;',
+'par_auteur' => '&#1086;&#1090;',
+'participer_site' => '&#1047;&#1072; &#1076;&#1072; &#1074;&#1079;&#1077;&#1084;&#1077;&#1090;&#1077; &#1072;&#1082;&#1090;&#1080;&#1074;&#1085;&#1086; &#1091;&#1095;&#1072;&#1089;&#1090;&#1080;&#1077; &#1074; &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1090;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072; &#1080; &#1076;&#1072; &#1087;&#1080;&#1096;&#1077;&#1090;&#1077; &#1089;&#1074;&#1086;&#1080; &#1089;&#1086;&#1073;&#1089;&#1090;&#1074;&#1077;&#1085;&#1080; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;, &#1077; &#1085;&#1091;&#1078;&#1085;&#1086; &#1087;&#1098;&#1088;&#1074;&#1086; &#1076;&#1072; &#1089;&#1077; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088;&#1080;&#1088;&#1072;&#1090;&#1077; &#1090;&#1091;&#1082;. &#1055;&#1088;&#1080; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088;&#1072;&#1094;&#1080;&#1103; &#1097;&#1077; &#1087;&#1086;&#1083;&#1091;&#1095;&#1080;&#1090;&#1077; &#1085;&#1077;&#1079;&#1072;&#1073;&#1072;&#1074;&#1085;&#1086; &#1089;&#1098!
 ;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077; &#1085;&#1072; &#1077;&#1083;&#1077;&#1082;&#1090;&#1088;&#1086;&#1085;&#1085;&#1080;&#1103; &#1089;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1089; &#1082;&#1086;&#1076; &#1079;&#1072; &#1076;&#1086;&#1089;&#1090;&#1098;&#1087; &#1076;&#1086; &#1083;&#1080;&#1095;&#1085;&#1072;&#1090;&#1072; &#1079;&#1086;&#1085;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;.',
+'plan_site' => '&#1050;&#1072;&#1088;&#1090;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
+'popularite' => '&#1055;&#1086;&#1087;&#1091;&#1083;&#1103;&#1088;&#1085;&#1086;&#1089;&#1090;',
+'poster_message' => '&#1048;&#1079;&#1087;&#1088;&#1072;&#1097;&#1072;&#1085;&#1077; &#1085;&#1072; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;',
+'proposer_site' => '&#1055;&#1088;&#1077;&#1076;&#1083;&#1086;&#1078;&#1077;&#1090;&#1077; &#1089;&#1072;&#1081;&#1090;, &#1082;&#1086;&#1081;&#1090;&#1086; &#1076;&#1072; &#1073;&#1098;&#1076;&#1077; &#1076;&#1086;&#1073;&#1072;&#1074;&#1077;&#1085; &#1082;&#1098;&#1084; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;&#1090;&#1072;:',
+
+
+// R
+'repondre_article' => '&#1054;&#1090;&#1075;&#1086;&#1074;&#1086;&#1088; &#1085;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1103;&#1090;&#1072;',
+'repondre_breve' => '&#1054;&#1090;&#1075;&#1086;&#1074;&#1086;&#1088; &#1085;&#1072; &#1085;&#1086;&#1074;&#1080;&#1085;&#1072;&#1090;&#1072;',
+'repondre_message' => '&#1054;&#1090;&#1075;&#1086;&#1074;&#1086;&#1088; &#1085;&#1072; &#1089;&#1098;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;&#1090;&#1086;',
+'resultats_recherche' => '&#1056;&#1077;&#1079;&#1091;&#1083;&#1090;&#1072;&#1090;&#1080; &#1086;&#1090; &#1090;&#1098;&#1088;&#1089;&#1077;&#1085;&#1077;&#1090;&#1086;',
+'retour_debut_forums' => '&#1054;&#1073;&#1088;&#1072;&#1090;&#1085;&#1086; &#1074; &#1085;&#1072;&#1095;&#1072;&#1083;&#1086;&#1090;&#1086; &#1085;&#1072; &#1092;&#1086;&#1088;&#1091;&#1084;&#1080;&#1090;&#1077;',
+'rubrique' => '&#1056;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;',
+'rubriques' => '&#1056;&#1091;&#1073;&#1088;&#1080;&#1082;&#1080;',
+
+
+// S
+'signatures_petition' => '&#1047;&#1072;&#1087;&#1080;&#1089;&#1080;',
+'site_realise_avec_spip' => '&#1057;&#1072;&#1081;&#1090; &#1087;&#1086;&#1076; &#1057;&#1055;&#1048;&#1055;',
+'sites_web' => '&#1048;&#1085;&#1090;&#1077;&#1088;&#1085;&#1077;&#1090; &#1089;&#1072;&#1081;&#1090;&#1086;&#1074;&#1077;',
+'sous_rubriques' => '&#1055;&#1086;&#1076;&#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1080;',
+'suite' => '&#1087;&#1088;&#1086;&#1076;&#1098;&#1083;&#1078;&#1072;&#1074;&#1072;',
+'sur_web' => '&#1042; &#1084;&#1088;&#1077;&#1078;&#1072;&#1090;&#1072;',
+'syndiquer_rubrique' => '&#1054;&#1073;&#1077;&#1076;&#1080;&#1085;&#1103;&#1074;&#1072;&#1085;&#1077; &#1085;&#1072; &#1090;&#1072;&#1079;&#1080; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1072;',
+'syndiquer_site' => '&#1054;&#1073;&#1077;&#1076;&#1080;&#1085;&#1103;&#1074;&#1072;&#1085;&#1077; &#1085;&#1072; &#1094;&#1077;&#1083;&#1080;&#1103; &#1089;&#1072;&#1081;&#1090;',
+
+
+// T
+'texte_lettre_information' => '&#1058;&#1086;&#1074;&#1072; &#1077; &#1073;&#1102;&#1083;&#1077;&#1090;&#1080;&#1085;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
+'texte_lettre_information_2' => '&#1055;&#1080;&#1089;&#1084;&#1086;&#1090;&#1086; &#1088;&#1077;&#1079;&#1102;&#1084;&#1080;&#1088;&#1072; &#1089;&#1090;&#1072;&#1090;&#1080;&#1080;&#1090;&#1077; &#1080; &#1085;&#1086;&#1074;&#1080;&#1085;&#1080;&#1090;&#1077; &#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1074;&#1072;&#1085;&#1080; &#1086;&#1090;',
+
+
+// V
+'ver_imprimer' => '&#1042;&#1077;&#1088;&#1089;&#1080;&#1103; &#1079;&#1072; &#1086;&#1090;&#1087;&#1077;&#1095;&#1072;&#1090;&#1074;&#1072;&#1085;&#1077;',
+'voir_en_ligne' => '&#1042;&#1080;&#1078; &#1082;&#1072;&#1082; &#1097;&#1077; &#1080;&#1079;&#1075;&#1083;&#1077;&#1078;&#1076;&#1072;'
+
+);
+
+
+?>

Index: public_ca.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_ca.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_ca.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_ca.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Arrel de la web',
-'articles' => 'Articles',
-'articles_auteur' => 'Articles d\'aquest autor',
-'articles_populaires' => 'Els articles m&eacute;s populars',
-'articles_recents' => 'Els articles m&eacute;s recents',
-'articles_rubrique' => 'Articles d\'aquesta secci&oacute;',
-'aucun_article' => 'No hi ha cap article en aquesta adre&ccedil;a',
-'aucun_auteur' => 'No hi ha cap autor/a a aquesta adre&ccedil;a',
-'aucun_site' => 'No hi ha cap lloc web en aquesta adre&ccedil;a',
-'aucune_breve' => 'No hi ha cap breu a aquesta adre&ccedil;a',
-'aucune_rubrique' => 'No hi ha cap secci&oacute; a aquesta adre&ccedil;a',
-'autres_breves' => 'Altres breus',
-'autres_groupes_mots_clefs' => 'Altres grups de paraules clau',
-'autres_sites' => 'Altres llocs webs',
-
-
-// B
-'bonjour' => 'Bon dia',
-'breves' => 'Breus',
-
-
-// C
-'commenter_site' => 'Comentar aquest lloc web',
-
-
-// D
-'date' => ' Data',
-'dernier_ajout' => 'Darrer afegit',
-'dernieres_breves' => 'Darreres breus',
-'derniers_articles' => 'Darrers articles',
-'derniers_commentaires' => 'Darrers comentaris',
-'derniers_messages_forum' => 'Darrers missatges publicats als f&ograve;rums',
-
-
-// E
-'edition_mode_texte' => 'Edici&oacute; en mode text de ',
-'en_reponse' => 'En resposta a:',
-'en_resume' => 'En resum',
-'envoyer_message' => 'Enviar un missatge',
-'espace_prive' => 'Espai privat',
-
-
-// F
-'forum' => 'F&ograve;rum',
-
-
-// H
-'hierarchie_site' => 'Jerarquia del lloc',
-
-
-// J
-'jours' => 'dies',
-
-
-// M
-'meme_auteur' => 'Del mateix/a autor/a',
-'meme_rubrique' => 'A la mateixa secci&oacute;',
-'memes_auteurs' => 'Dels mateixos autors',
-'message' => 'Missatge',
-'messages_forum' => 'Missatges al f&ograve;rum',
-'messages_recents' => 'Els missatges m&eacute;s recents als f&ograve;rums',
-'mots_clefs' => 'Paraules clau',
-'mots_clefs_meme_groupe' => 'Paraules clau al mateix grup',
-
-
-// N
-'navigation' => 'Navegaci&oacute;',
-'nom' => 'Nom',
-'nouveautes' => 'Les novetats',
-'nouveautes_web' => 'Novetats a la Web',
-'nouveaux_articles' => 'Articles nous',
-'nouvelles_breves' => 'Noves breus',
-
-
-// P
-'page_precedente' => 'p&agrave;gina anterior',
-'page_suivante' => 'p&agrave;gina seg&uuml;ent',
-'par_auteur' => 'per&nbsp;',
-'participer_site' => 'Podeu participar en la vida d\'aquest lloc web i proposar els vostres articles si ompliu la inscripci&oacute; que hi ha a continuaci&oacute;. Immediatament rebreu un correu electr&ograve;nic indicant-vos els codis d\'acc&eacute;s a l\'espai privat de la web.',
-'plan_site' => 'Mapa del lloc Web',
-'popularite' => 'Popularitat',
-'poster_message' => 'Escriure un missatge',
-'proposer_site' => 'Pots proposar un lloc web per afegir-lo a aquesta secci&oacute;:',
-
-
-// R
-'repondre_article' => 'Respondre a aquest article',
-'repondre_breve' => 'Respondre a aquesta breu',
-'repondre_message' => 'Respondre a aquest missatge',
-'resultats_recherche' => 'Resultats de la recerca',
-'retour_debut_forums' => 'Retorn al comen&ccedil;ament dels f&ograve;rums',
-'rubrique' => 'Secci&oacute;',
-'rubriques' => 'Seccions',
-
-
-// S
-'signatures_petition' => 'Signatures',
-'site_realise_avec_spip' => 'Lloc Web fet amb l\'SPIP',
-'sites_web' => 'Llocs Web',
-'sous_rubriques' => 'Subseccions',
-'suite' => 'Seguiment',
-'sur_web' => 'Sobre la p&agrave;gina Web',
-'syndiquer_rubrique' => 'Sindicar aquesta secci&oacute;',
-'syndiquer_site' => 'Sindicar tot el lloc Web',
-
-
-// T
-'texte_lettre_information' => 'Veure la carta de presentaci&oacute; del lloc Web',
-'texte_lettre_information_2' => 'Aquesta carta recull i conta els articles i els breus publicades des de',
-
-
-// V
-'ver_imprimer' => 'Versi&oacute; per imprimir',
-'voir_en_ligne' => 'Veure en l&iacute;nia'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Arrel de la web',
+'articles' => 'Articles',
+'articles_auteur' => 'Articles d\'aquest autor',
+'articles_populaires' => 'Els articles m&eacute;s populars',
+'articles_recents' => 'Els articles m&eacute;s recents',
+'articles_rubrique' => 'Articles d\'aquesta secci&oacute;',
+'aucun_article' => 'No hi ha cap article en aquesta adre&ccedil;a',
+'aucun_auteur' => 'No hi ha cap autor/a a aquesta adre&ccedil;a',
+'aucun_site' => 'No hi ha cap lloc web en aquesta adre&ccedil;a',
+'aucune_breve' => 'No hi ha cap breu a aquesta adre&ccedil;a',
+'aucune_rubrique' => 'No hi ha cap secci&oacute; a aquesta adre&ccedil;a',
+'autres_breves' => 'Altres breus',
+'autres_groupes_mots_clefs' => 'Altres grups de paraules clau',
+'autres_sites' => 'Altres llocs webs',
+
+
+// B
+'bonjour' => 'Bon dia',
+'breves' => 'Breus',
+
+
+// C
+'commenter_site' => 'Comentar aquest lloc web',
+
+
+// D
+'date' => ' Data',
+'dernier_ajout' => 'Darrer afegit',
+'dernieres_breves' => 'Darreres breus',
+'derniers_articles' => 'Darrers articles',
+'derniers_commentaires' => 'Darrers comentaris',
+'derniers_messages_forum' => 'Darrers missatges publicats als f&ograve;rums',
+
+
+// E
+'edition_mode_texte' => 'Edici&oacute; en mode text de ',
+'en_reponse' => 'En resposta a:',
+'en_resume' => 'En resum',
+'envoyer_message' => 'Enviar un missatge',
+'espace_prive' => 'Espai privat',
+
+
+// F
+'forum' => 'F&ograve;rum',
+
+
+// H
+'hierarchie_site' => 'Jerarquia del lloc',
+
+
+// J
+'jours' => 'dies',
+
+
+// M
+'meme_auteur' => 'Del mateix/a autor/a',
+'meme_rubrique' => 'A la mateixa secci&oacute;',
+'memes_auteurs' => 'Dels mateixos autors',
+'message' => 'Missatge',
+'messages_forum' => 'Missatges al f&ograve;rum',
+'messages_recents' => 'Els missatges m&eacute;s recents als f&ograve;rums',
+'mots_clefs' => 'Paraules clau',
+'mots_clefs_meme_groupe' => 'Paraules clau al mateix grup',
+
+
+// N
+'navigation' => 'Navegaci&oacute;',
+'nom' => 'Nom',
+'nouveautes' => 'Les novetats',
+'nouveautes_web' => 'Novetats a la Web',
+'nouveaux_articles' => 'Articles nous',
+'nouvelles_breves' => 'Noves breus',
+
+
+// P
+'page_precedente' => 'p&agrave;gina anterior',
+'page_suivante' => 'p&agrave;gina seg&uuml;ent',
+'par_auteur' => 'per&nbsp;',
+'participer_site' => 'Podeu participar en la vida d\'aquest lloc web i proposar els vostres articles si ompliu la inscripci&oacute; que hi ha a continuaci&oacute;. Immediatament rebreu un correu electr&ograve;nic indicant-vos els codis d\'acc&eacute;s a l\'espai privat de la web.',
+'plan_site' => 'Mapa del lloc Web',
+'popularite' => 'Popularitat',
+'poster_message' => 'Escriure un missatge',
+'proposer_site' => 'Pots proposar un lloc web per afegir-lo a aquesta secci&oacute;:',
+
+
+// R
+'repondre_article' => 'Respondre a aquest article',
+'repondre_breve' => 'Respondre a aquesta breu',
+'repondre_message' => 'Respondre a aquest missatge',
+'resultats_recherche' => 'Resultats de la recerca',
+'retour_debut_forums' => 'Retorn al comen&ccedil;ament dels f&ograve;rums',
+'rubrique' => 'Secci&oacute;',
+'rubriques' => 'Seccions',
+
+
+// S
+'signatures_petition' => 'Signatures',
+'site_realise_avec_spip' => 'Lloc Web fet amb l\'SPIP',
+'sites_web' => 'Llocs Web',
+'sous_rubriques' => 'Subseccions',
+'suite' => 'Seguiment',
+'sur_web' => 'Sobre la p&agrave;gina Web',
+'syndiquer_rubrique' => 'Sindicar aquesta secci&oacute;',
+'syndiquer_site' => 'Sindicar tot el lloc Web',
+
+
+// T
+'texte_lettre_information' => 'Veure la carta de presentaci&oacute; del lloc Web',
+'texte_lettre_information_2' => 'Aquesta carta recull i conta els articles i els breus publicades des de',
+
+
+// V
+'ver_imprimer' => 'Versi&oacute; per imprimir',
+'voir_en_ligne' => 'Veure en l&iacute;nia'
+
+);
+
+
+?>

Index: public_cpf.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_cpf.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_cpf.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_cpf.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Lakey lo sit',
-'articles' => 'Bann zartik',
-'articles_auteur' => 'Bann zartik lot&egrave;r-la',
-'articles_populaires' => 'Bann zartik sak l&eacute; pli popil&egrave;r',
-'articles_recents' => 'Bann zartik li l&eacute; nouvo',
-'articles_rubrique' => 'Bann zartik andann ribrik-la',
-'aucun_article' => 'N&eacute;na pa okinn lartik si ladr&egrave;s-la',
-'aucun_auteur' => 'N&eacute;na pa okinn lot&egrave;r si ladr&egrave;s-la',
-'aucun_site' => 'N&eacute;na pa okin sitw&egrave;b si ladr&egrave;s-la',
-'aucune_breve' => 'N&eacute;na pa okin titnouv&egrave;l si ladr&egrave;s-la',
-'aucune_rubrique' => 'N&eacute;na pa okinn ribrik si ladr&egrave;s-la',
-'autres_breves' => 'Bann zot tite-nouv&egrave;l',
-'autres_groupes_mots_clefs' => 'Bann zot bann molakl&eacute;',
-'autres_sites' => 'Bann zot sitw&egrave;b',
-
-
-// B
-'bonjour' => 'Ot&eacute;',
-'breves' => 'Bann tite-nouv&egrave;l',
-
-
-// C
-'commenter_site' => 'Donn out lavi si lo sit-la',
-
-
-// D
-'date' => 'Ladat',
-'dernier_ajout' => 'Derny&eacute; piblikasyon',
-'dernieres_breves' => 'Bann derniy&egrave;r tit-nouv&egrave;l',
-'derniers_articles' => 'Bann d&egrave;rny&eacute; zartik',
-'derniers_commentaires' => 'Bann d&egrave;rny&eacute; lavi',
-'derniers_messages_forum' => 'Bann d&egrave;rny&eacute; mod&eacute;kri andann bann forom',
-
-
-// E
-'edition_mode_texte' => 'Po &eacute;dit&eacute; andann mod t&egrave;ks',
-'en_reponse' => 'Po r&eacute;ponn a&nbsp;:',
-'en_resume' => 'Po r&eacute;zim&eacute;',
-'envoyer_message' => 'Po anvway&eacute; inn mod&eacute;kri',
-'espace_prive' => 'L&eacute;spas priv&eacute;',
-
-
-// F
-'forum' => 'Forom kozman',
-
-
-// H
-'hierarchie_site' => 'Bardrin lo sitw&egrave;b',
-
-
-// J
-'jours' => 'bann zour',
-
-
-// M
-'meme_auteur' => 'Pa lot&egrave;r minm sa-minm',
-'meme_rubrique' => 'Andan minm ribrik-la',
-'memes_auteurs' => 'Po bann zot&egrave;r minm',
-'message' => 'Mod&eacute;kri',
-'messages_forum' => 'Bann mod&eacute;kri andann forom',
-'messages_recents' => 'Bann mod&eacute;kri la finn m&egrave;t an derny&eacute; andan forom',
-'mots_clefs' => 'Bann molakl&eacute;',
-'mots_clefs_meme_groupe' => 'Bann molakl&eacute; andann lo minm bann sa-minm',
-
-
-// N
-'navigation' => 'Bat-kar&eacute; si lo sit',
-'nom' => 'Non',
-'nouveautes' => 'Bann nouv&egrave;lt&eacute;',
-'nouveautes_web' => 'Bann nouv&egrave;lt&eacute; si lo sitw&egrave;b',
-'nouveaux_articles' => 'Bann nouvo lartik',
-'nouvelles_breves' => 'Bann nouv&egrave;l tite-nouv&egrave;l',
-
-
-// P
-'page_precedente' => 'lapaz dovan',
-'page_suivante' => 'Lapaz d&eacute;y&egrave;r',
-'par_auteur' => 'sanm',
-'participer_site' => 'Ou p&eacute; m&egrave;t ansanm bann zot dalon po la vi lo sit-la, &egrave; propoz&eacute; out prop bann zartik, si ou l&eacute; inskri anba-la. Inskri aou : ou sar gayn inn lim&egrave;l i don aou out bann kodlaks&eacute; po l&eacute;spas priv&eacute; lo sit. ',
-'plan_site' => 'Lakart lo sit',
-'popularite' => 'Koman l&eacute; popil&egrave;r',
-'poster_message' => 'Anvwa in mod&eacute;kri',
-'proposer_site' => 'Ou p&eacute; propoz azout inn sit dann ribrik-la&nbsp;:',
-
-
-// R
-'repondre_article' => 'Po r&eacute;ponn si lartik-la',
-'repondre_breve' => 'Po r&eacute;ponn la tite-nouv&egrave;l-la',
-'repondre_message' => 'Po r&eacute;ponn mod&eacute;kri-la',
-'resultats_recherche' => 'Kosa lo rod&egrave;r la finn trouv&eacute;',
-'retour_debut_forums' => 'Artourn bann d&eacute;bi bann forom',
-'rubrique' => 'Ribrik',
-'rubriques' => 'Bann ribrik',
-
-
-// S
-'signatures_petition' => 'Bann sinyatir',
-'site_realise_avec_spip' => 'Sit-la ni la f&eacute; &egrave;k SPIP',
-'sites_web' => 'Bann sitw&egrave;b',
-'sous_rubriques' => 'Bann souribrik',
-'suite' => 'laswit',
-'sur_web' => 'Si lo w&egrave;b',
-'syndiquer_rubrique' => 'Po sindik&eacute; ribrik-la',
-'syndiquer_site' => 'Po sindik&eacute; si lo sit',
-
-
-// T
-'texte_lettre_information' => 'Ala lal&egrave;t zinformasyon lo sit',
-'texte_lettre_information_2' => 'L&egrave;t-la i ramas tout bann zartik &egrave;k bann tite-nouv&egrave;l dopwi',
-
-
-// V
-'ver_imprimer' => 'V&egrave;rsyon pou inprim&eacute;',
-'voir_en_ligne' => 'Anon vwar an liyn'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Lakey lo sit',
+'articles' => 'Bann zartik',
+'articles_auteur' => 'Bann zartik lot&egrave;r-la',
+'articles_populaires' => 'Bann zartik sak l&eacute; pli popil&egrave;r',
+'articles_recents' => 'Bann zartik li l&eacute; nouvo',
+'articles_rubrique' => 'Bann zartik andann ribrik-la',
+'aucun_article' => 'N&eacute;na pa okinn lartik si ladr&egrave;s-la',
+'aucun_auteur' => 'N&eacute;na pa okinn lot&egrave;r si ladr&egrave;s-la',
+'aucun_site' => 'N&eacute;na pa okin sitw&egrave;b si ladr&egrave;s-la',
+'aucune_breve' => 'N&eacute;na pa okin titnouv&egrave;l si ladr&egrave;s-la',
+'aucune_rubrique' => 'N&eacute;na pa okinn ribrik si ladr&egrave;s-la',
+'autres_breves' => 'Bann zot tite-nouv&egrave;l',
+'autres_groupes_mots_clefs' => 'Bann zot bann molakl&eacute;',
+'autres_sites' => 'Bann zot sitw&egrave;b',
+
+
+// B
+'bonjour' => 'Ot&eacute;',
+'breves' => 'Bann tite-nouv&egrave;l',
+
+
+// C
+'commenter_site' => 'Donn out lavi si lo sit-la',
+
+
+// D
+'date' => 'Ladat',
+'dernier_ajout' => 'Derny&eacute; piblikasyon',
+'dernieres_breves' => 'Bann derniy&egrave;r tit-nouv&egrave;l',
+'derniers_articles' => 'Bann d&egrave;rny&eacute; zartik',
+'derniers_commentaires' => 'Bann d&egrave;rny&eacute; lavi',
+'derniers_messages_forum' => 'Bann d&egrave;rny&eacute; mod&eacute;kri andann bann forom',
+
+
+// E
+'edition_mode_texte' => 'Po &eacute;dit&eacute; andann mod t&egrave;ks',
+'en_reponse' => 'Po r&eacute;ponn a&nbsp;:',
+'en_resume' => 'Po r&eacute;zim&eacute;',
+'envoyer_message' => 'Po anvway&eacute; inn mod&eacute;kri',
+'espace_prive' => 'L&eacute;spas priv&eacute;',
+
+
+// F
+'forum' => 'Forom kozman',
+
+
+// H
+'hierarchie_site' => 'Bardrin lo sitw&egrave;b',
+
+
+// J
+'jours' => 'bann zour',
+
+
+// M
+'meme_auteur' => 'Pa lot&egrave;r minm sa-minm',
+'meme_rubrique' => 'Andan minm ribrik-la',
+'memes_auteurs' => 'Po bann zot&egrave;r minm',
+'message' => 'Mod&eacute;kri',
+'messages_forum' => 'Bann mod&eacute;kri andann forom',
+'messages_recents' => 'Bann mod&eacute;kri la finn m&egrave;t an derny&eacute; andan forom',
+'mots_clefs' => 'Bann molakl&eacute;',
+'mots_clefs_meme_groupe' => 'Bann molakl&eacute; andann lo minm bann sa-minm',
+
+
+// N
+'navigation' => 'Bat-kar&eacute; si lo sit',
+'nom' => 'Non',
+'nouveautes' => 'Bann nouv&egrave;lt&eacute;',
+'nouveautes_web' => 'Bann nouv&egrave;lt&eacute; si lo sitw&egrave;b',
+'nouveaux_articles' => 'Bann nouvo lartik',
+'nouvelles_breves' => 'Bann nouv&egrave;l tite-nouv&egrave;l',
+
+
+// P
+'page_precedente' => 'lapaz dovan',
+'page_suivante' => 'Lapaz d&eacute;y&egrave;r',
+'par_auteur' => 'sanm',
+'participer_site' => 'Ou p&eacute; m&egrave;t ansanm bann zot dalon po la vi lo sit-la, &egrave; propoz&eacute; out prop bann zartik, si ou l&eacute; inskri anba-la. Inskri aou : ou sar gayn inn lim&egrave;l i don aou out bann kodlaks&eacute; po l&eacute;spas priv&eacute; lo sit. ',
+'plan_site' => 'Lakart lo sit',
+'popularite' => 'Koman l&eacute; popil&egrave;r',
+'poster_message' => 'Anvwa in mod&eacute;kri',
+'proposer_site' => 'Ou p&eacute; propoz azout inn sit dann ribrik-la&nbsp;:',
+
+
+// R
+'repondre_article' => 'Po r&eacute;ponn si lartik-la',
+'repondre_breve' => 'Po r&eacute;ponn la tite-nouv&egrave;l-la',
+'repondre_message' => 'Po r&eacute;ponn mod&eacute;kri-la',
+'resultats_recherche' => 'Kosa lo rod&egrave;r la finn trouv&eacute;',
+'retour_debut_forums' => 'Artourn bann d&eacute;bi bann forom',
+'rubrique' => 'Ribrik',
+'rubriques' => 'Bann ribrik',
+
+
+// S
+'signatures_petition' => 'Bann sinyatir',
+'site_realise_avec_spip' => 'Sit-la ni la f&eacute; &egrave;k SPIP',
+'sites_web' => 'Bann sitw&egrave;b',
+'sous_rubriques' => 'Bann souribrik',
+'suite' => 'laswit',
+'sur_web' => 'Si lo w&egrave;b',
+'syndiquer_rubrique' => 'Po sindik&eacute; ribrik-la',
+'syndiquer_site' => 'Po sindik&eacute; si lo sit',
+
+
+// T
+'texte_lettre_information' => 'Ala lal&egrave;t zinformasyon lo sit',
+'texte_lettre_information_2' => 'L&egrave;t-la i ramas tout bann zartik &egrave;k bann tite-nouv&egrave;l dopwi',
+
+
+// V
+'ver_imprimer' => 'V&egrave;rsyon pou inprim&eacute;',
+'voir_en_ligne' => 'Anon vwar an liyn'
+
+);
+
+
+?>

Index: public_da.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_da.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_da.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_da.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,126 +1,126 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Hjemmeside',
-'articles' => 'Artikler',
-'articles_auteur' => 'Denne forfatters artikler',
-'articles_populaires' => 'De mest l&aelig;ste artikler',
-'articles_recents' => 'De seneste artikler',
-'articles_rubrique' => 'Dette omr&aring;des artikler',
-'aucun_article' => 'Der er ingen artikel p&aring; denne adresse',
-'aucun_auteur' => 'Der er ingen forfatter p&aring; denne adresse',
-'aucun_site' => 'Der er intet websted p&aring; denne adresse',
-'aucune_breve' => 'Der er ingen nyhed p&aring; denne adresse',
-'aucune_rubrique' => 'Der er ikke noget afsnit p&aring; denne adresse',
-'autres_breves' => 'Andre nyheder',
-'autres_groupes_mots_clefs' => 'Andre grupper af n&oslash;gleord',
-'autres_sites' => 'Andre websteder',
-
-
-// B
-'bonjour' => 'Hej',
-'breves' => 'Nyheder',
-
-
-// C
-'commenter_site' => 'Kommentar til dette websted',
-
-
-// D
-'date' => 'Dato',
-'dernier_ajout' => 'Seneste tilf&oslash;jelse',
-'dernieres_breves' => 'Seneste nyhed',
-'derniers_articles' => 'Seneste artikler',
-'derniers_commentaires' => 'Seneste kommentarer',
-'derniers_messages_forum' => 'Seneste indl&aelig;g offentliggjort i forummer',
-
-
-// E
-'edition_mode_texte' => 'Tekstudgave',
-'en_reponse' => 'Svaradresse:',
-'en_resume' => 'Opsummering',
-'envoyer_message' => 'Lav indl&aelig;g',
-'espace_prive' => 'Privat omr&aring;de',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Webstedets struktur',
-
-
-// J
-'jours' => 'dage',
-
-
-// M
-'meme_auteur' => 'Af samme forfatter',
-'meme_rubrique' => 'I samme afsnit',
-'memes_auteurs' => 'Af samme forfattere',
-'message' => 'Indl&aelig;g',
-'messages_forum' => 'Forumindl&aelig;g',
-'messages_recents' => 'Seneste forumindl&aelig;g',
-'mots_clefs' => 'N&oslash;gleord',
-'mots_clefs_meme_groupe' => 'N&oslash;gleord i samme gruppe',
-
-
-// N
-'navigation' => 'Navigering',
-'nom' => 'Navn',
-'nouveautes' => 'Hvad nyt',
-'nouveautes_web' => 'Hvad nyt p&aring; Internettet',
-'nouveaux_articles' => 'Nye artikler',
-'nouvelles_breves' => 'Nyheder',
-
-
-// P
-'page_precedente' => 'foreg&aring;ende side',
-'page_suivante' => 'n&aelig;ste side',
-'par_auteur' => 'af',
-'participer_site' => 'Du kan deltage aktivt p&aring; dette websted og skrive dine egne artikler ved at tilmelde dig nedenfor. Du vil da straks modtage en email med en adgangskode til webstedets private omr&aring;de.',
-'plan_site' => 'Indholdsoversigt',
-'popularite' => 'Popularitet',
-'poster_message' => 'Indl&aelig;g',
-
-
-// R
-'repondre_article' => 'Lav et svar til denne artikel',
-'repondre_breve' => 'Lav et svar p&aring; denne nyhed',
-'repondre_message' => 'Lav et svar p&aring; dette indl&aelig;g',
-'resultats_recherche' => 'S&oslash;geresultater',
-'retour_debut_forums' => 'Tilbage til starten p&aring; forummet',
-'rubrique' => 'Afsnit',
-'rubriques' => 'Afsnit',
-
-
-// S
-'signatures_petition' => 'Underskrifter',
-'site_realise_avec_spip' => 'Websted lavet med SPIP',
-'sites_web' => 'Websteder',
-'sous_rubriques' => 'Underafsnit',
-'suite' => 'forts&aelig;t',
-'sur_web' => 'P&aring; Internettet',
-'syndiquer_rubrique' => 'Syndiker dette afsnit',
-'syndiquer_site' => 'Syndiker hele webstedet',
-
-
-// T
-'texte_lettre_information' => 'Her er webstedets nyhedsbrev',
-'texte_lettre_information_2' => 'Dette brev opsummerer artikler og nyheder offentlliggjort siden',
-
-
-// V
-'ver_imprimer' => 'Printbar version',
-'voir_en_ligne' => 'Se online'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Hjemmeside',
+'articles' => 'Artikler',
+'articles_auteur' => 'Denne forfatters artikler',
+'articles_populaires' => 'De mest l&aelig;ste artikler',
+'articles_recents' => 'De seneste artikler',
+'articles_rubrique' => 'Dette omr&aring;des artikler',
+'aucun_article' => 'Der er ingen artikel p&aring; denne adresse',
+'aucun_auteur' => 'Der er ingen forfatter p&aring; denne adresse',
+'aucun_site' => 'Der er intet websted p&aring; denne adresse',
+'aucune_breve' => 'Der er ingen nyhed p&aring; denne adresse',
+'aucune_rubrique' => 'Der er ikke noget afsnit p&aring; denne adresse',
+'autres_breves' => 'Andre nyheder',
+'autres_groupes_mots_clefs' => 'Andre grupper af n&oslash;gleord',
+'autres_sites' => 'Andre websteder',
+
+
+// B
+'bonjour' => 'Hej',
+'breves' => 'Nyheder',
+
+
+// C
+'commenter_site' => 'Kommentar til dette websted',
+
+
+// D
+'date' => 'Dato',
+'dernier_ajout' => 'Seneste tilf&oslash;jelse',
+'dernieres_breves' => 'Seneste nyhed',
+'derniers_articles' => 'Seneste artikler',
+'derniers_commentaires' => 'Seneste kommentarer',
+'derniers_messages_forum' => 'Seneste indl&aelig;g offentliggjort i forummer',
+
+
+// E
+'edition_mode_texte' => 'Tekstudgave',
+'en_reponse' => 'Svaradresse:',
+'en_resume' => 'Opsummering',
+'envoyer_message' => 'Lav indl&aelig;g',
+'espace_prive' => 'Privat omr&aring;de',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Webstedets struktur',
+
+
+// J
+'jours' => 'dage',
+
+
+// M
+'meme_auteur' => 'Af samme forfatter',
+'meme_rubrique' => 'I samme afsnit',
+'memes_auteurs' => 'Af samme forfattere',
+'message' => 'Indl&aelig;g',
+'messages_forum' => 'Forumindl&aelig;g',
+'messages_recents' => 'Seneste forumindl&aelig;g',
+'mots_clefs' => 'N&oslash;gleord',
+'mots_clefs_meme_groupe' => 'N&oslash;gleord i samme gruppe',
+
+
+// N
+'navigation' => 'Navigering',
+'nom' => 'Navn',
+'nouveautes' => 'Hvad nyt',
+'nouveautes_web' => 'Hvad nyt p&aring; Internettet',
+'nouveaux_articles' => 'Nye artikler',
+'nouvelles_breves' => 'Nyheder',
+
+
+// P
+'page_precedente' => 'foreg&aring;ende side',
+'page_suivante' => 'n&aelig;ste side',
+'par_auteur' => 'af',
+'participer_site' => 'Du kan deltage aktivt p&aring; dette websted og skrive dine egne artikler ved at tilmelde dig nedenfor. Du vil da straks modtage en email med en adgangskode til webstedets private omr&aring;de.',
+'plan_site' => 'Indholdsoversigt',
+'popularite' => 'Popularitet',
+'poster_message' => 'Indl&aelig;g',
+
+
+// R
+'repondre_article' => 'Lav et svar til denne artikel',
+'repondre_breve' => 'Lav et svar p&aring; denne nyhed',
+'repondre_message' => 'Lav et svar p&aring; dette indl&aelig;g',
+'resultats_recherche' => 'S&oslash;geresultater',
+'retour_debut_forums' => 'Tilbage til starten p&aring; forummet',
+'rubrique' => 'Afsnit',
+'rubriques' => 'Afsnit',
+
+
+// S
+'signatures_petition' => 'Underskrifter',
+'site_realise_avec_spip' => 'Websted lavet med SPIP',
+'sites_web' => 'Websteder',
+'sous_rubriques' => 'Underafsnit',
+'suite' => 'forts&aelig;t',
+'sur_web' => 'P&aring; Internettet',
+'syndiquer_rubrique' => 'Syndiker dette afsnit',
+'syndiquer_site' => 'Syndiker hele webstedet',
+
+
+// T
+'texte_lettre_information' => 'Her er webstedets nyhedsbrev',
+'texte_lettre_information_2' => 'Dette brev opsummerer artikler og nyheder offentlliggjort siden',
+
+
+// V
+'ver_imprimer' => 'Printbar version',
+'voir_en_ligne' => 'Se online'
+
+);
+
+
+?>

Index: public_de.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_de.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_de.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_de.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Startseite',
-'articles' => 'Artikel',
-'articles_auteur' => 'Artikel dieses Autors',
-'articles_populaires' => 'Die beliebtesten Artikel',
-'articles_recents' => 'Die neuesten Artikel',
-'articles_rubrique' => 'Artikel dieser Rubrik',
-'aucun_article' => 'Unter dieser Adresse gibt es keinen Artikel.',
-'aucun_auteur' => 'Unter dieser Adresse gibt es keinen Autor.',
-'aucun_site' => 'Unter dieser Adresse gibt es keien Website.',
-'aucune_breve' => 'Unter dieser Adresse gibt es keine Meldung.',
-'aucune_rubrique' => 'Unter dieser Adresse gibt es keine Rubrik.',
-'autres_breves' => 'Weitere Meldungen.',
-'autres_groupes_mots_clefs' => 'Weitere Schlagwortgruppen',
-'autres_sites' => 'Weitere Websites',
-
-
-// B
-'bonjour' => 'Hallo',
-'breves' => 'Meldungen',
-
-
-// C
-'commenter_site' => 'Website kommentieren',
-
-
-// D
-'date' => 'Datum',
-'dernier_ajout' => 'Letzter Eintrag',
-'dernieres_breves' => 'Letzte Meldungen',
-'derniers_articles' => 'Letzte Artikel',
-'derniers_commentaires' => 'Letzte Kommentare',
-'derniers_messages_forum' => 'Letzte Forumsbeitr&auml;ge',
-
-
-// E
-'edition_mode_texte' => 'Im Textmodus bearbeiten ',
-'en_reponse' => 'Antwort auf:',
-'en_resume' => 'Als Zusammenfassung',
-'envoyer_message' => 'Nachricht senden',
-'espace_prive' => 'Redaktion',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Baumstruktur der Website',
-
-
-// J
-'jours' => 'Tage',
-
-
-// M
-'meme_auteur' => 'Vom gleichen Autor',
-'meme_rubrique' => 'In der gleichen Rubrik',
-'memes_auteurs' => 'Von den gleichen Autoren',
-'message' => 'Nachricht',
-'messages_forum' => 'Forumsbeitr&auml;ge',
-'messages_recents' => 'Neuste Forumsbeitr&auml;ge',
-'mots_clefs' => 'Schlagworte',
-'mots_clefs_meme_groupe' => 'Schlagworte der gleichen Kategorie',
-
-
-// N
-'navigation' => 'Navigation',
-'nom' => 'Name',
-'nouveautes' => 'Neuigkeiten',
-'nouveautes_web' => 'Neues im WWW',
-'nouveaux_articles' => 'Neue Artikel',
-'nouvelles_breves' => 'Neue Meldungen',
-
-
-// P
-'page_precedente' => 'vorherige Seite',
-'page_suivante' => 'nachfolgende Seite',
-'par_auteur' => 'von ',
-'participer_site' => 'Sie k&ouml;nnen bei dieser Website mitmachen, wenn Sie sich anmelden. Sie erhalten sofort eine E-Mail mit den Zugangsdaten zum Redaktionssystem.',
-'plan_site' => 'Sitemap',
-'popularite' => 'Beliebtheit',
-'poster_message' => 'Nachricht senden',
-'proposer_site' => 'Sie k&ouml;nnen in dieser Rubrik eine Seite vorschlagen&nbsp;:',
-
-
-// R
-'repondre_article' => 'auf diesen Artikel antworten',
-'repondre_breve' => 'auf diese Meldung antworten',
-'repondre_message' => 'auf diese Nachricht antworten',
-'resultats_recherche' => 'Suchergebnis(se)',
-'retour_debut_forums' => 'Zur&uuml;ck zum Beginn des Forums',
-'rubrique' => 'Rubrik',
-'rubriques' => 'Rubriken',
-
-
-// S
-'signatures_petition' => 'Unterschrift',
-'site_realise_avec_spip' => 'Realisiert mit SPIP',
-'sites_web' => 'Websites',
-'sous_rubriques' => 'Unterrubriken',
-'suite' => 'weiter',
-'sur_web' => 'Im WWW',
-'syndiquer_rubrique' => 'Diese Rubrik per RSS einbinden',
-'syndiquer_site' => 'Die ganze Website mit RSS einbinden',
-
-
-// T
-'texte_lettre_information' => 'Dies ist der Newsletter der Website ',
-'texte_lettre_information_2' => 'Diese Mail fasst die Neuerscheinungen seit diesem Zeitpunkt zusammen: ',
-
-
-// V
-'ver_imprimer' => 'Druckversion',
-'voir_en_ligne' => 'Online ansehen'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Startseite',
+'articles' => 'Artikel',
+'articles_auteur' => 'Artikel dieses Autors',
+'articles_populaires' => 'Die beliebtesten Artikel',
+'articles_recents' => 'Die neuesten Artikel',
+'articles_rubrique' => 'Artikel dieser Rubrik',
+'aucun_article' => 'Unter dieser Adresse gibt es keinen Artikel.',
+'aucun_auteur' => 'Unter dieser Adresse gibt es keinen Autor.',
+'aucun_site' => 'Unter dieser Adresse gibt es keien Website.',
+'aucune_breve' => 'Unter dieser Adresse gibt es keine Meldung.',
+'aucune_rubrique' => 'Unter dieser Adresse gibt es keine Rubrik.',
+'autres_breves' => 'Weitere Meldungen.',
+'autres_groupes_mots_clefs' => 'Weitere Schlagwortgruppen',
+'autres_sites' => 'Weitere Websites',
+
+
+// B
+'bonjour' => 'Hallo',
+'breves' => 'Meldungen',
+
+
+// C
+'commenter_site' => 'Website kommentieren',
+
+
+// D
+'date' => 'Datum',
+'dernier_ajout' => 'Letzter Eintrag',
+'dernieres_breves' => 'Letzte Meldungen',
+'derniers_articles' => 'Letzte Artikel',
+'derniers_commentaires' => 'Letzte Kommentare',
+'derniers_messages_forum' => 'Letzte Forumsbeitr&auml;ge',
+
+
+// E
+'edition_mode_texte' => 'Im Textmodus bearbeiten ',
+'en_reponse' => 'Antwort auf:',
+'en_resume' => 'Als Zusammenfassung',
+'envoyer_message' => 'Nachricht senden',
+'espace_prive' => 'Redaktion',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Baumstruktur der Website',
+
+
+// J
+'jours' => 'Tage',
+
+
+// M
+'meme_auteur' => 'Vom gleichen Autor',
+'meme_rubrique' => 'In der gleichen Rubrik',
+'memes_auteurs' => 'Von den gleichen Autoren',
+'message' => 'Nachricht',
+'messages_forum' => 'Forumsbeitr&auml;ge',
+'messages_recents' => 'Neuste Forumsbeitr&auml;ge',
+'mots_clefs' => 'Schlagworte',
+'mots_clefs_meme_groupe' => 'Schlagworte der gleichen Kategorie',
+
+
+// N
+'navigation' => 'Navigation',
+'nom' => 'Name',
+'nouveautes' => 'Neuigkeiten',
+'nouveautes_web' => 'Neues im WWW',
+'nouveaux_articles' => 'Neue Artikel',
+'nouvelles_breves' => 'Neue Meldungen',
+
+
+// P
+'page_precedente' => 'vorherige Seite',
+'page_suivante' => 'nachfolgende Seite',
+'par_auteur' => 'von ',
+'participer_site' => 'Sie k&ouml;nnen bei dieser Website mitmachen, wenn Sie sich anmelden. Sie erhalten sofort eine E-Mail mit den Zugangsdaten zum Redaktionssystem.',
+'plan_site' => 'Sitemap',
+'popularite' => 'Beliebtheit',
+'poster_message' => 'Nachricht senden',
+'proposer_site' => 'Sie k&ouml;nnen in dieser Rubrik eine Seite vorschlagen&nbsp;:',
+
+
+// R
+'repondre_article' => 'auf diesen Artikel antworten',
+'repondre_breve' => 'auf diese Meldung antworten',
+'repondre_message' => 'auf diese Nachricht antworten',
+'resultats_recherche' => 'Suchergebnis(se)',
+'retour_debut_forums' => 'Zur&uuml;ck zum Beginn des Forums',
+'rubrique' => 'Rubrik',
+'rubriques' => 'Rubriken',
+
+
+// S
+'signatures_petition' => 'Unterschrift',
+'site_realise_avec_spip' => 'Realisiert mit SPIP',
+'sites_web' => 'Websites',
+'sous_rubriques' => 'Unterrubriken',
+'suite' => 'weiter',
+'sur_web' => 'Im WWW',
+'syndiquer_rubrique' => 'Diese Rubrik per RSS einbinden',
+'syndiquer_site' => 'Die ganze Website mit RSS einbinden',
+
+
+// T
+'texte_lettre_information' => 'Dies ist der Newsletter der Website ',
+'texte_lettre_information_2' => 'Diese Mail fasst die Neuerscheinungen seit diesem Zeitpunkt zusammen: ',
+
+
+// V
+'ver_imprimer' => 'Druckversion',
+'voir_en_ligne' => 'Online ansehen'
+
+);
+
+
+?>

Index: public_en.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_en.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_en.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_en.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Home page',
-'articles' => 'Articles',
-'articles_auteur' => 'This author\'s articles',
-'articles_populaires' => 'The most read articles',
-'articles_recents' => 'The most recent articles',
-'articles_rubrique' => 'This section\'s articles',
-'aucun_article' => 'There is no article at this address',
-'aucun_auteur' => 'There is no author at this address',
-'aucun_site' => 'There is no site at this address',
-'aucune_breve' => 'There is no news item at this address',
-'aucune_rubrique' => 'There is no section at this address',
-'autres_breves' => 'Other news',
-'autres_groupes_mots_clefs' => 'Other groups of key words',
-'autres_sites' => 'Other sites',
-
-
-// B
-'bonjour' => 'Hello',
-'breves' => 'News items',
-
-
-// C
-'commenter_site' => 'Comment on this site',
-
-
-// D
-'date' => 'Date',
-'dernier_ajout' => 'Latest addition',
-'dernieres_breves' => 'Latest news',
-'derniers_articles' => 'Latest articles',
-'derniers_commentaires' => 'Latest comments',
-'derniers_messages_forum' => 'Lastest messages published in the forums',
-
-
-// E
-'edition_mode_texte' => 'Text mode only',
-'en_reponse' => 'Replying to:',
-'en_resume' => 'Summary',
-'envoyer_message' => 'To send a message',
-'espace_prive' => 'Private area',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'The site\'s hierarchy',
-
-
-// J
-'jours' => 'days',
-
-
-// M
-'meme_auteur' => 'By the same author',
-'meme_rubrique' => 'In the same section',
-'memes_auteurs' => 'By the same authors',
-'message' => 'Message',
-'messages_forum' => 'Forum messages',
-'messages_recents' => 'Most recent forum messages',
-'mots_clefs' => 'Keywords',
-'mots_clefs_meme_groupe' => 'Keywords in the same group',
-
-
-// N
-'navigation' => 'Navigation',
-'nom' => 'Name',
-'nouveautes' => 'What\'s new',
-'nouveautes_web' => 'What\'s new on the Web',
-'nouveaux_articles' => 'New articles',
-'nouvelles_breves' => 'New news items',
-
-
-// P
-'page_precedente' => 'previous page',
-'page_suivante' => 'next page',
-'par_auteur' => 'by ',
-'participer_site' => 'You can take an active part in this website and write your own articles by registering below. You will then receive immediately an email giving you an access code to the private area of the site.',
-'plan_site' => 'Site Map',
-'popularite' => 'Popularity',
-'poster_message' => 'To post a message',
-'proposer_site' => 'You can suggest a site to be added to this section:',
-
-
-// R
-'repondre_article' => 'Reply to this article',
-'repondre_breve' => 'Reply to this news item',
-'repondre_message' => 'Reply to this message',
-'resultats_recherche' => 'Search results',
-'retour_debut_forums' => 'Back to the start of the forums',
-'rubrique' => 'Section',
-'rubriques' => 'Sections',
-
-
-// S
-'signatures_petition' => 'Signatures',
-'site_realise_avec_spip' => 'Site created with SPIP',
-'sites_web' => 'Web sites',
-'sous_rubriques' => 'Sub-sections',
-'suite' => 'continue',
-'sur_web' => 'On the Web',
-'syndiquer_rubrique' => 'Syndicate this section',
-'syndiquer_site' => 'Syndicate the whole site',
-
-
-// T
-'texte_lettre_information' => 'Here is the site\'s newsletter',
-'texte_lettre_information_2' => 'This letter summarizes the articles and news items published since',
-
-
-// V
-'ver_imprimer' => 'Printable version',
-'voir_en_ligne' => 'See online'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Home page',
+'articles' => 'Articles',
+'articles_auteur' => 'This author\'s articles',
+'articles_populaires' => 'The most read articles',
+'articles_recents' => 'The most recent articles',
+'articles_rubrique' => 'This section\'s articles',
+'aucun_article' => 'There is no article at this address',
+'aucun_auteur' => 'There is no author at this address',
+'aucun_site' => 'There is no site at this address',
+'aucune_breve' => 'There is no news item at this address',
+'aucune_rubrique' => 'There is no section at this address',
+'autres_breves' => 'Other news',
+'autres_groupes_mots_clefs' => 'Other groups of key words',
+'autres_sites' => 'Other sites',
+
+
+// B
+'bonjour' => 'Hello',
+'breves' => 'News items',
+
+
+// C
+'commenter_site' => 'Comment on this site',
+
+
+// D
+'date' => 'Date',
+'dernier_ajout' => 'Latest addition',
+'dernieres_breves' => 'Latest news',
+'derniers_articles' => 'Latest articles',
+'derniers_commentaires' => 'Latest comments',
+'derniers_messages_forum' => 'Lastest messages published in the forums',
+
+
+// E
+'edition_mode_texte' => 'Text mode only',
+'en_reponse' => 'Replying to:',
+'en_resume' => 'Summary',
+'envoyer_message' => 'To send a message',
+'espace_prive' => 'Private area',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'The site\'s hierarchy',
+
+
+// J
+'jours' => 'days',
+
+
+// M
+'meme_auteur' => 'By the same author',
+'meme_rubrique' => 'In the same section',
+'memes_auteurs' => 'By the same authors',
+'message' => 'Message',
+'messages_forum' => 'Forum messages',
+'messages_recents' => 'Most recent forum messages',
+'mots_clefs' => 'Keywords',
+'mots_clefs_meme_groupe' => 'Keywords in the same group',
+
+
+// N
+'navigation' => 'Navigation',
+'nom' => 'Name',
+'nouveautes' => 'What\'s new',
+'nouveautes_web' => 'What\'s new on the Web',
+'nouveaux_articles' => 'New articles',
+'nouvelles_breves' => 'New news items',
+
+
+// P
+'page_precedente' => 'previous page',
+'page_suivante' => 'next page',
+'par_auteur' => 'by ',
+'participer_site' => 'You can take an active part in this website and write your own articles by registering below. You will then receive immediately an email giving you an access code to the private area of the site.',
+'plan_site' => 'Site Map',
+'popularite' => 'Popularity',
+'poster_message' => 'To post a message',
+'proposer_site' => 'You can suggest a site to be added to this section:',
+
+
+// R
+'repondre_article' => 'Reply to this article',
+'repondre_breve' => 'Reply to this news item',
+'repondre_message' => 'Reply to this message',
+'resultats_recherche' => 'Search results',
+'retour_debut_forums' => 'Back to the start of the forums',
+'rubrique' => 'Section',
+'rubriques' => 'Sections',
+
+
+// S
+'signatures_petition' => 'Signatures',
+'site_realise_avec_spip' => 'Site created with SPIP',
+'sites_web' => 'Web sites',
+'sous_rubriques' => 'Sub-sections',
+'suite' => 'continue',
+'sur_web' => 'On the Web',
+'syndiquer_rubrique' => 'Syndicate this section',
+'syndiquer_site' => 'Syndicate the whole site',
+
+
+// T
+'texte_lettre_information' => 'Here is the site\'s newsletter',
+'texte_lettre_information_2' => 'This letter summarizes the articles and news items published since',
+
+
+// V
+'ver_imprimer' => 'Printable version',
+'voir_en_ligne' => 'See online'
+
+);
+
+
+?>

Index: public_eo.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_eo.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_eo.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_eo.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Akceptejo de la teksejo',
-'articles' => 'Artikoloj',
-'articles_auteur' => 'Artikoloj de tiu a&#365;toro',
-'articles_populaires' => 'La plej popularaj artikoloj',
-'articles_recents' => 'La plej fre&#349;aj artikoloj',
-'articles_rubrique' => 'Artikoloj de tiu rubriko',
-'aucun_article' => 'Nenia artikolo en tiu adreso',
-'aucun_auteur' => 'Nenia a&#365;toro en tiu adreso',
-'aucun_site' => 'Nenia teksejo en tiu adreso',
-'aucune_breve' => 'Nenia informeto en tiu adreso',
-'aucune_rubrique' => 'Nenia rubriko en tiu adreso',
-'autres_breves' => 'Neniaj informetoj',
-'autres_groupes_mots_clefs' => 'Aliaj grupoj de &#349;losilvortoj',
-'autres_sites' => 'Aliaj teksejoj',
-
-
-// B
-'bonjour' => 'Bonan tagon',
-'breves' => 'Informetoj',
-
-
-// C
-'commenter_site' => 'Komenti tiun teksejon',
-
-
-// D
-'date' => 'Dato',
-'dernier_ajout' => 'Lasta aldono',
-'dernieres_breves' => 'Lastaj informetoj',
-'derniers_articles' => 'Lastaj artikoloj',
-'derniers_commentaires' => 'Lastaj komentoj',
-'derniers_messages_forum' => 'Lastaj mesa&#285;oj publikitaj en la forumoj',
-
-
-// E
-'edition_mode_texte' => 'Teksta eldono de',
-'en_reponse' => 'Respondo al&nbsp;:',
-'en_resume' => 'Resume',
-'envoyer_message' => 'Sendi mesa&#285;on',
-'espace_prive' => 'Privata spaco',
-
-
-// F
-'forum' => 'Forumo',
-
-
-// H
-'hierarchie_site' => 'Hierarkio de la teksejo',
-
-
-// J
-'jours' => 'tagoj',
-
-
-// M
-'meme_auteur' => 'De tiu &#265;i a&#365;toro',
-'meme_rubrique' => 'En la sama rubriko',
-'memes_auteurs' => 'De tiuj &#265;i a&#365;toroj',
-'message' => 'Mesa&#285;o',
-'messages_forum' => 'Forum-mesa&#285;oj',
-'messages_recents' => 'La plej fre&#349;aj forum-mesa&#285;oj',
-'mots_clefs' => '&#348;losilvortoj',
-'mots_clefs_meme_groupe' => '&#348;losilvortoj en la sama grupo',
-
-
-// N
-'navigation' => 'Navigado',
-'nom' => 'Nomo',
-'nouveautes' => 'La nova&#309;oj',
-'nouveautes_web' => 'Nova&#309;oj en la reto',
-'nouveaux_articles' => 'Novaj artikoloj',
-'nouvelles_breves' => 'Novaj informetoj',
-
-
-// P
-'page_precedente' => 'anta&#365;a pa&#285;o',
-'page_suivante' => 'sekvanta pa&#285;o',
-'par_auteur' => 'de ',
-'participer_site' => 'Por partopreni la vivon de tiu teksejo kaj proponi viajn propajn artikolojn, registri&#285;u &#265;i sube. Vi tuje ricevos retpo&#349;tmesa&#285;on indikante vian kodon por aliri en la privata spaco.',
-'plan_site' => 'Plano de la teksejo',
-'popularite' => 'Populareco',
-'poster_message' => 'Sendi mesa&#285;on',
-'proposer_site' => 'Vi povas proponi teksejon aldonota al tiu rubriko:',
-
-
-// R
-'repondre_article' => 'Respondi al tiu artikolo',
-'repondre_breve' => 'Respondi al tiu informeto',
-'repondre_message' => 'Respondi al tiu mesa&#285;o',
-'resultats_recherche' => 'Rezultoj de la ser&#265;o',
-'retour_debut_forums' => 'Reiro al la komenco de forumoj',
-'rubrique' => 'Rubriko',
-'rubriques' => 'Rubrikoj',
-
-
-// S
-'signatures_petition' => 'Subskriboj',
-'site_realise_avec_spip' => 'Teksejo realigita kun SPIP',
-'sites_web' => 'Retaj teksejoj',
-'sous_rubriques' => 'Sub-rubrikoj',
-'suite' => 'jeno',
-'sur_web' => 'En reto',
-'syndiquer_rubrique' => 'Kunligigi tiun rubrikon',
-'syndiquer_site' => 'Kunligigi &#265;iu la teksejo',
-
-
-// T
-'texte_lettre_information' => '&#264;i-tie estas la inform-letero de teksejo',
-'texte_lettre_information_2' => 'Tiu letero nombrigas artikolojn kaj informetojn publikigitaj de',
-
-
-// V
-'ver_imprimer' => 'Printigota versio',
-'voir_en_ligne' => 'Vidi konektite'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Akceptejo de la teksejo',
+'articles' => 'Artikoloj',
+'articles_auteur' => 'Artikoloj de tiu a&#365;toro',
+'articles_populaires' => 'La plej popularaj artikoloj',
+'articles_recents' => 'La plej fre&#349;aj artikoloj',
+'articles_rubrique' => 'Artikoloj de tiu rubriko',
+'aucun_article' => 'Nenia artikolo en tiu adreso',
+'aucun_auteur' => 'Nenia a&#365;toro en tiu adreso',
+'aucun_site' => 'Nenia teksejo en tiu adreso',
+'aucune_breve' => 'Nenia informeto en tiu adreso',
+'aucune_rubrique' => 'Nenia rubriko en tiu adreso',
+'autres_breves' => 'Neniaj informetoj',
+'autres_groupes_mots_clefs' => 'Aliaj grupoj de &#349;losilvortoj',
+'autres_sites' => 'Aliaj teksejoj',
+
+
+// B
+'bonjour' => 'Bonan tagon',
+'breves' => 'Informetoj',
+
+
+// C
+'commenter_site' => 'Komenti tiun teksejon',
+
+
+// D
+'date' => 'Dato',
+'dernier_ajout' => 'Lasta aldono',
+'dernieres_breves' => 'Lastaj informetoj',
+'derniers_articles' => 'Lastaj artikoloj',
+'derniers_commentaires' => 'Lastaj komentoj',
+'derniers_messages_forum' => 'Lastaj mesa&#285;oj publikitaj en la forumoj',
+
+
+// E
+'edition_mode_texte' => 'Teksta eldono de',
+'en_reponse' => 'Respondo al&nbsp;:',
+'en_resume' => 'Resume',
+'envoyer_message' => 'Sendi mesa&#285;on',
+'espace_prive' => 'Privata spaco',
+
+
+// F
+'forum' => 'Forumo',
+
+
+// H
+'hierarchie_site' => 'Hierarkio de la teksejo',
+
+
+// J
+'jours' => 'tagoj',
+
+
+// M
+'meme_auteur' => 'De tiu &#265;i a&#365;toro',
+'meme_rubrique' => 'En la sama rubriko',
+'memes_auteurs' => 'De tiuj &#265;i a&#365;toroj',
+'message' => 'Mesa&#285;o',
+'messages_forum' => 'Forum-mesa&#285;oj',
+'messages_recents' => 'La plej fre&#349;aj forum-mesa&#285;oj',
+'mots_clefs' => '&#348;losilvortoj',
+'mots_clefs_meme_groupe' => '&#348;losilvortoj en la sama grupo',
+
+
+// N
+'navigation' => 'Navigado',
+'nom' => 'Nomo',
+'nouveautes' => 'La nova&#309;oj',
+'nouveautes_web' => 'Nova&#309;oj en la reto',
+'nouveaux_articles' => 'Novaj artikoloj',
+'nouvelles_breves' => 'Novaj informetoj',
+
+
+// P
+'page_precedente' => 'anta&#365;a pa&#285;o',
+'page_suivante' => 'sekvanta pa&#285;o',
+'par_auteur' => 'de ',
+'participer_site' => 'Por partopreni la vivon de tiu teksejo kaj proponi viajn propajn artikolojn, registri&#285;u &#265;i sube. Vi tuje ricevos retpo&#349;tmesa&#285;on indikante vian kodon por aliri en la privata spaco.',
+'plan_site' => 'Plano de la teksejo',
+'popularite' => 'Populareco',
+'poster_message' => 'Sendi mesa&#285;on',
+'proposer_site' => 'Vi povas proponi teksejon aldonota al tiu rubriko:',
+
+
+// R
+'repondre_article' => 'Respondi al tiu artikolo',
+'repondre_breve' => 'Respondi al tiu informeto',
+'repondre_message' => 'Respondi al tiu mesa&#285;o',
+'resultats_recherche' => 'Rezultoj de la ser&#265;o',
+'retour_debut_forums' => 'Reiro al la komenco de forumoj',
+'rubrique' => 'Rubriko',
+'rubriques' => 'Rubrikoj',
+
+
+// S
+'signatures_petition' => 'Subskriboj',
+'site_realise_avec_spip' => 'Teksejo realigita kun SPIP',
+'sites_web' => 'Retaj teksejoj',
+'sous_rubriques' => 'Sub-rubrikoj',
+'suite' => 'jeno',
+'sur_web' => 'En reto',
+'syndiquer_rubrique' => 'Kunligigi tiun rubrikon',
+'syndiquer_site' => 'Kunligigi &#265;iu la teksejo',
+
+
+// T
+'texte_lettre_information' => '&#264;i-tie estas la inform-letero de teksejo',
+'texte_lettre_information_2' => 'Tiu letero nombrigas artikolojn kaj informetojn publikigitaj de',
+
+
+// V
+'ver_imprimer' => 'Printigota versio',
+'voir_en_ligne' => 'Vidi konektite'
+
+);
+
+
+?>

Index: public_es.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_es.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_es.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_es.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Portada del sitio',
-'articles' => 'Art&iacute;culos',
-'articles_auteur' => 'Art&iacute;culos de esta autora o autor',
-'articles_populaires' => 'Los art&iacute;culos m&aacute;s populares',
-'articles_recents' => 'Los art&iacute;culos m&aacute;s recientes',
-'articles_rubrique' => 'Art&iacute;culos de esta secci&oacute;n',
-'aucun_article' => 'No hay ning&uacute;n art&iacute;culo en esta direcci&oacute;n ',
-'aucun_auteur' => 'No hay autor ni autora en esta direcci&oacute;n ',
-'aucun_site' => 'No hay ning&uacute;n sitio en esta direcci&oacute;n',
-'aucune_breve' => 'No hay ninguna breve en esta direcci&oacute;n',
-'aucune_rubrique' => 'No hay ninguna secci&oacute;n en esta direcci&oacute;n',
-'autres_breves' => 'Otros breves',
-'autres_groupes_mots_clefs' => 'Otros grupos de palabras clave',
-'autres_sites' => 'Otros sitios',
-
-
-// B
-'bonjour' => 'Hola',
-'breves' => 'Breves',
-
-
-// C
-'commenter_site' => 'Comentar este sitio',
-
-
-// D
-'date' => 'Fecha',
-'dernier_ajout' => '&Uacute;ltima actualizaci&oacute;n',
-'dernieres_breves' => '&Uacute;ltimos breves',
-'derniers_articles' => '&Uacute;ltimos art&iacute;culos',
-'derniers_commentaires' => '&Uacute;ltimos comentarios',
-'derniers_messages_forum' => '&Uacute;ltimos mensajes publicados en los foros',
-
-
-// E
-'edition_mode_texte' => 'Edici&oacute;n en modo texto de',
-'en_reponse' => 'En respuesta a:',
-'en_resume' => 'En resumen',
-'envoyer_message' => 'Enviar un mensaje',
-'espace_prive' => 'Espacio privado',
-
-
-// F
-'forum' => 'Foro',
-
-
-// H
-'hierarchie_site' => 'Jerarqu&iacute;a del sitio',
-
-
-// J
-'jours' => 'd&iacute;as',
-
-
-// M
-'meme_auteur' => 'Del mismo autor',
-'meme_rubrique' => 'En la misma secci&oacute;n',
-'memes_auteurs' => 'De los mismos autores',
-'message' => 'Mensaje',
-'messages_forum' => 'Mensajes del foro',
-'messages_recents' => 'Los mensajes m&aacute;s recientes del foro',
-'mots_clefs' => 'Palabras clave',
-'mots_clefs_meme_groupe' => 'Palabras claves en el mismo grupo',
-
-
-// N
-'navigation' => 'Navegaci&oacute;n',
-'nom' => 'Nombre',
-'nouveautes' => 'Las novedades',
-'nouveautes_web' => 'Novedades en la web',
-'nouveaux_articles' => 'Nuevos art&iacute;culos',
-'nouvelles_breves' => 'Nuevas breves',
-
-
-// P
-'page_precedente' => 'P&aacute;gina precedente',
-'page_suivante' => 'P&aacute;gina siguiente',
-'par_auteur' => 'por ',
-'participer_site' => 'Puedes participar en la vida de este sitio y proponer art&iacute;culos inscribi&eacute;ndote aqui. De inmediato recibir&aacute;s un correo electr&oacute;nico con tus claves de acceso al espacio privado del sitio.',
-'plan_site' => 'Mapa del sitio',
-'popularite' => 'Popularidad',
-'poster_message' => 'Publicar un mensaje',
-'proposer_site' => 'Proponga un sitio para a&ntilde;adir en esta secci&oacute;n:',
-
-
-// R
-'repondre_article' => 'Comentar este art&iacute;culo',
-'repondre_breve' => 'Comentar esta breve',
-'repondre_message' => 'Responder este mensaje',
-'resultats_recherche' => 'Resultados de la b&uacute;squeda',
-'retour_debut_forums' => 'Volver al inicio del foro',
-'rubrique' => 'Secci&oacute;n',
-'rubriques' => 'Secciones',
-
-
-// S
-'signatures_petition' => 'Firmas',
-'site_realise_avec_spip' => 'Sitio desarrollado con SPIP',
-'sites_web' => 'Sitios Web',
-'sous_rubriques' => 'Subsecci&oacute;n',
-'suite' => 'continuar',
-'sur_web' => 'Del web',
-'syndiquer_rubrique' => 'Sindicar esta secci&oacute;n',
-'syndiquer_site' => 'Sindicar el sitio completo',
-
-
-// T
-'texte_lettre_information' => 'Este es el bolet&iacute;n de informaci&oacute;n del sitio',
-'texte_lettre_information_2' => 'Este bolet&iacute;n rese&ntilde;a los art&iacute;culos y breves publicados desde ',
-
-
-// V
-'ver_imprimer' => 'Versi&oacute;n para imprimir',
-'voir_en_ligne' => 'Ver en l&iacute;nea'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Portada del sitio',
+'articles' => 'Art&iacute;culos',
+'articles_auteur' => 'Art&iacute;culos de esta autora o autor',
+'articles_populaires' => 'Los art&iacute;culos m&aacute;s populares',
+'articles_recents' => 'Los art&iacute;culos m&aacute;s recientes',
+'articles_rubrique' => 'Art&iacute;culos de esta secci&oacute;n',
+'aucun_article' => 'No hay ning&uacute;n art&iacute;culo en esta direcci&oacute;n ',
+'aucun_auteur' => 'No hay autor ni autora en esta direcci&oacute;n ',
+'aucun_site' => 'No hay ning&uacute;n sitio en esta direcci&oacute;n',
+'aucune_breve' => 'No hay ninguna breve en esta direcci&oacute;n',
+'aucune_rubrique' => 'No hay ninguna secci&oacute;n en esta direcci&oacute;n',
+'autres_breves' => 'Otros breves',
+'autres_groupes_mots_clefs' => 'Otros grupos de palabras clave',
+'autres_sites' => 'Otros sitios',
+
+
+// B
+'bonjour' => 'Hola',
+'breves' => 'Breves',
+
+
+// C
+'commenter_site' => 'Comentar este sitio',
+
+
+// D
+'date' => 'Fecha',
+'dernier_ajout' => '&Uacute;ltima actualizaci&oacute;n',
+'dernieres_breves' => '&Uacute;ltimos breves',
+'derniers_articles' => '&Uacute;ltimos art&iacute;culos',
+'derniers_commentaires' => '&Uacute;ltimos comentarios',
+'derniers_messages_forum' => '&Uacute;ltimos mensajes publicados en los foros',
+
+
+// E
+'edition_mode_texte' => 'Edici&oacute;n en modo texto de',
+'en_reponse' => 'En respuesta a:',
+'en_resume' => 'En resumen',
+'envoyer_message' => 'Enviar un mensaje',
+'espace_prive' => 'Espacio privado',
+
+
+// F
+'forum' => 'Foro',
+
+
+// H
+'hierarchie_site' => 'Jerarqu&iacute;a del sitio',
+
+
+// J
+'jours' => 'd&iacute;as',
+
+
+// M
+'meme_auteur' => 'Del mismo autor',
+'meme_rubrique' => 'En la misma secci&oacute;n',
+'memes_auteurs' => 'De los mismos autores',
+'message' => 'Mensaje',
+'messages_forum' => 'Mensajes del foro',
+'messages_recents' => 'Los mensajes m&aacute;s recientes del foro',
+'mots_clefs' => 'Palabras clave',
+'mots_clefs_meme_groupe' => 'Palabras claves en el mismo grupo',
+
+
+// N
+'navigation' => 'Navegaci&oacute;n',
+'nom' => 'Nombre',
+'nouveautes' => 'Las novedades',
+'nouveautes_web' => 'Novedades en la web',
+'nouveaux_articles' => 'Nuevos art&iacute;culos',
+'nouvelles_breves' => 'Nuevas breves',
+
+
+// P
+'page_precedente' => 'P&aacute;gina precedente',
+'page_suivante' => 'P&aacute;gina siguiente',
+'par_auteur' => 'por ',
+'participer_site' => 'Puedes participar en la vida de este sitio y proponer art&iacute;culos inscribi&eacute;ndote aqui. De inmediato recibir&aacute;s un correo electr&oacute;nico con tus claves de acceso al espacio privado del sitio.',
+'plan_site' => 'Mapa del sitio',
+'popularite' => 'Popularidad',
+'poster_message' => 'Publicar un mensaje',
+'proposer_site' => 'Proponga un sitio para a&ntilde;adir en esta secci&oacute;n:',
+
+
+// R
+'repondre_article' => 'Comentar este art&iacute;culo',
+'repondre_breve' => 'Comentar esta breve',
+'repondre_message' => 'Responder este mensaje',
+'resultats_recherche' => 'Resultados de la b&uacute;squeda',
+'retour_debut_forums' => 'Volver al inicio del foro',
+'rubrique' => 'Secci&oacute;n',
+'rubriques' => 'Secciones',
+
+
+// S
+'signatures_petition' => 'Firmas',
+'site_realise_avec_spip' => 'Sitio desarrollado con SPIP',
+'sites_web' => 'Sitios Web',
+'sous_rubriques' => 'Subsecci&oacute;n',
+'suite' => 'continuar',
+'sur_web' => 'Del web',
+'syndiquer_rubrique' => 'Sindicar esta secci&oacute;n',
+'syndiquer_site' => 'Sindicar el sitio completo',
+
+
+// T
+'texte_lettre_information' => 'Este es el bolet&iacute;n de informaci&oacute;n del sitio',
+'texte_lettre_information_2' => 'Este bolet&iacute;n rese&ntilde;a los art&iacute;culos y breves publicados desde ',
+
+
+// V
+'ver_imprimer' => 'Versi&oacute;n para imprimir',
+'voir_en_ligne' => 'Ver en l&iacute;nea'
+
+);
+
+
+?>

Index: public_fa.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_fa.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_fa.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_fa.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,126 +1,126 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => '<NEW> Accueil du site',
-'articles' => '<NEW> Articles',
-'articles_auteur' => '<NEW> Articles de cet auteur',
-'articles_populaires' => '<NEW> Articles les plus populaires',
-'articles_recents' => '<NEW> Articles les plus r&eacute;cents',
-'articles_rubrique' => '<NEW> Articles de cette rubrique',
-'aucun_article' => '<NEW> Il n\'y a pas d\'article &agrave; cette adresse',
-'aucun_auteur' => '<NEW> Il n\'y a pas d\'auteur &agrave; cette adresse',
-'aucun_site' => '<NEW> Il n\'y a pas de site &agrave; cette adresse',
-'aucune_breve' => '<NEW> Il n\'y a pas de br&egrave;ve &agrave; cette adresse',
-'aucune_rubrique' => '<NEW> Il n\'y a pas de rubrique &agrave; cette adresse',
-'autres_breves' => '<NEW> Autres br&egrave;ves',
-'autres_groupes_mots_clefs' => '<NEW> Autres groupes de mots-cl&eacute;s',
-'autres_sites' => '<NEW> Autres sites',
-
-
-// B
-'bonjour' => '<NEW> Bonjour',
-'breves' => '<NEW> Br&egrave;ves',
-
-
-// C
-'commenter_site' => '<NEW> Commenter ce site',
-
-
-// D
-'date' => '<NEW> Date',
-'dernier_ajout' => '<NEW> Dernier ajout',
-'dernieres_breves' => '<NEW> Derni&egrave;res br&egrave;ves',
-'derniers_articles' => '<NEW> Derniers articles',
-'derniers_commentaires' => '<NEW> Derniers commentaires',
-'derniers_messages_forum' => '<NEW> Derniers messages publi&eacute;s dans les forums',
-
-
-// E
-'edition_mode_texte' => '<NEW> &Eacute;dition en mode texte de',
-'en_reponse' => '<NEW> En r&eacute;ponse &agrave;&nbsp;:',
-'en_resume' => '<NEW> En r&eacute;sum&eacute;',
-'envoyer_message' => '<NEW> Envoyer un message',
-'espace_prive' => '<NEW> Espace priv&eacute;',
-
-
-// F
-'forum' => '<NEW> Forum',
-
-
-// H
-'hierarchie_site' => '<NEW> Hi&eacute;rarchie du site',
-
-
-// J
-'jours' => '<NEW> jours',
-
-
-// M
-'meme_auteur' => '<NEW> Du m&ecirc;me auteur',
-'meme_rubrique' => '<NEW> Dans la m&ecirc;me rubrique',
-'memes_auteurs' => '<NEW> Des m&ecirc;mes auteurs',
-'message' => '<NEW> Message',
-'messages_forum' => '<NEW> Messages de forum',
-'messages_recents' => '<NEW> Messages de forums les plus r&eacute;cents',
-'mots_clefs' => '<NEW> Mots-cl&eacute;s',
-'mots_clefs_meme_groupe' => '<NEW> Mots-cl&eacute;s dans le m&ecirc;me groupe',
-
-
-// N
-'navigation' => '<NEW> Navigation',
-'nom' => '<NEW> Nom',
-'nouveautes' => '<NEW> Les nouveaut&eacute;s',
-'nouveautes_web' => '<NEW> Nouveaut&eacute;s sur le Web',
-'nouveaux_articles' => '<NEW> Nouveaux articles',
-'nouvelles_breves' => '<NEW> Nouvelles br&egrave;ves',
-
-
-// P
-'page_precedente' => '<NEW> page pr&eacute;c&eacute;dente',
-'page_suivante' => '<NEW> page suivante',
-'par_auteur' => '<NEW> par ',
-'participer_site' => '<NEW> Vous pouvez participer &agrave; la vie de ce site et proposer vos propres articles en vous inscrivant ci-dessous. Vous recevrez imm&eacute;diatement un email vous indiquant vos codes d\'acc&egrave;s &agrave; l\'espace priv&eacute; du site.',
-'plan_site' => '<NEW> Plan du site',
-'popularite' => '<NEW> Popularit&eacute;',
-'poster_message' => '<NEW> Poster un message',
-
-
-// R
-'repondre_article' => '<NEW> R&eacute;pondre &agrave; cet article',
-'repondre_breve' => '<NEW> R&eacute;pondre &agrave; cette br&egrave;ve',
-'repondre_message' => '<NEW> R&eacute;pondre &agrave; ce message',
-'resultats_recherche' => '<NEW> R&eacute;sultats de la recherche',
-'retour_debut_forums' => '<NEW> Retour au d&eacute;but des forums',
-'rubrique' => '<NEW> Rubrique',
-'rubriques' => '<NEW> Rubriques',
-
-
-// S
-'signatures_petition' => '<NEW> Signatures',
-'site_realise_avec_spip' => '<NEW> Site r&eacute;alis&eacute; avec SPIP',
-'sites_web' => '<NEW> Sites Web',
-'sous_rubriques' => '<NEW> Sous-rubriques',
-'suite' => '<NEW> suite',
-'sur_web' => '<NEW> Sur le Web',
-'syndiquer_rubrique' => '<NEW> Syndiquer cette rubrique',
-'syndiquer_site' => '<NEW> Syndiquer tout le site',
-
-
-// T
-'texte_lettre_information' => '<NEW> Voici la lettre d\'information du site',
-'texte_lettre_information_2' => '<NEW> Cette lettre recense les articles et les br&egrave;ves publi&eacute;s depuis',
-
-
-// V
-'ver_imprimer' => '<NEW> Version &agrave; imprimer',
-'voir_en_ligne' => '<NEW> Voir en ligne'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => '<NEW> Accueil du site',
+'articles' => '<NEW> Articles',
+'articles_auteur' => '<NEW> Articles de cet auteur',
+'articles_populaires' => '<NEW> Articles les plus populaires',
+'articles_recents' => '<NEW> Articles les plus r&eacute;cents',
+'articles_rubrique' => '<NEW> Articles de cette rubrique',
+'aucun_article' => '<NEW> Il n\'y a pas d\'article &agrave; cette adresse',
+'aucun_auteur' => '<NEW> Il n\'y a pas d\'auteur &agrave; cette adresse',
+'aucun_site' => '<NEW> Il n\'y a pas de site &agrave; cette adresse',
+'aucune_breve' => '<NEW> Il n\'y a pas de br&egrave;ve &agrave; cette adresse',
+'aucune_rubrique' => '<NEW> Il n\'y a pas de rubrique &agrave; cette adresse',
+'autres_breves' => '<NEW> Autres br&egrave;ves',
+'autres_groupes_mots_clefs' => '<NEW> Autres groupes de mots-cl&eacute;s',
+'autres_sites' => '<NEW> Autres sites',
+
+
+// B
+'bonjour' => '<NEW> Bonjour',
+'breves' => '<NEW> Br&egrave;ves',
+
+
+// C
+'commenter_site' => '<NEW> Commenter ce site',
+
+
+// D
+'date' => '<NEW> Date',
+'dernier_ajout' => '<NEW> Dernier ajout',
+'dernieres_breves' => '<NEW> Derni&egrave;res br&egrave;ves',
+'derniers_articles' => '<NEW> Derniers articles',
+'derniers_commentaires' => '<NEW> Derniers commentaires',
+'derniers_messages_forum' => '<NEW> Derniers messages publi&eacute;s dans les forums',
+
+
+// E
+'edition_mode_texte' => '<NEW> &Eacute;dition en mode texte de',
+'en_reponse' => '<NEW> En r&eacute;ponse &agrave;&nbsp;:',
+'en_resume' => '<NEW> En r&eacute;sum&eacute;',
+'envoyer_message' => '<NEW> Envoyer un message',
+'espace_prive' => '<NEW> Espace priv&eacute;',
+
+
+// F
+'forum' => '<NEW> Forum',
+
+
+// H
+'hierarchie_site' => '<NEW> Hi&eacute;rarchie du site',
+
+
+// J
+'jours' => '<NEW> jours',
+
+
+// M
+'meme_auteur' => '<NEW> Du m&ecirc;me auteur',
+'meme_rubrique' => '<NEW> Dans la m&ecirc;me rubrique',
+'memes_auteurs' => '<NEW> Des m&ecirc;mes auteurs',
+'message' => '<NEW> Message',
+'messages_forum' => '<NEW> Messages de forum',
+'messages_recents' => '<NEW> Messages de forums les plus r&eacute;cents',
+'mots_clefs' => '<NEW> Mots-cl&eacute;s',
+'mots_clefs_meme_groupe' => '<NEW> Mots-cl&eacute;s dans le m&ecirc;me groupe',
+
+
+// N
+'navigation' => '<NEW> Navigation',
+'nom' => '<NEW> Nom',
+'nouveautes' => '<NEW> Les nouveaut&eacute;s',
+'nouveautes_web' => '<NEW> Nouveaut&eacute;s sur le Web',
+'nouveaux_articles' => '<NEW> Nouveaux articles',
+'nouvelles_breves' => '<NEW> Nouvelles br&egrave;ves',
+
+
+// P
+'page_precedente' => '<NEW> page pr&eacute;c&eacute;dente',
+'page_suivante' => '<NEW> page suivante',
+'par_auteur' => '<NEW> par ',
+'participer_site' => '<NEW> Vous pouvez participer &agrave; la vie de ce site et proposer vos propres articles en vous inscrivant ci-dessous. Vous recevrez imm&eacute;diatement un email vous indiquant vos codes d\'acc&egrave;s &agrave; l\'espace priv&eacute; du site.',
+'plan_site' => '<NEW> Plan du site',
+'popularite' => '<NEW> Popularit&eacute;',
+'poster_message' => '<NEW> Poster un message',
+
+
+// R
+'repondre_article' => '<NEW> R&eacute;pondre &agrave; cet article',
+'repondre_breve' => '<NEW> R&eacute;pondre &agrave; cette br&egrave;ve',
+'repondre_message' => '<NEW> R&eacute;pondre &agrave; ce message',
+'resultats_recherche' => '<NEW> R&eacute;sultats de la recherche',
+'retour_debut_forums' => '<NEW> Retour au d&eacute;but des forums',
+'rubrique' => '<NEW> Rubrique',
+'rubriques' => '<NEW> Rubriques',
+
+
+// S
+'signatures_petition' => '<NEW> Signatures',
+'site_realise_avec_spip' => '<NEW> Site r&eacute;alis&eacute; avec SPIP',
+'sites_web' => '<NEW> Sites Web',
+'sous_rubriques' => '<NEW> Sous-rubriques',
+'suite' => '<NEW> suite',
+'sur_web' => '<NEW> Sur le Web',
+'syndiquer_rubrique' => '<NEW> Syndiquer cette rubrique',
+'syndiquer_site' => '<NEW> Syndiquer tout le site',
+
+
+// T
+'texte_lettre_information' => '<NEW> Voici la lettre d\'information du site',
+'texte_lettre_information_2' => '<NEW> Cette lettre recense les articles et les br&egrave;ves publi&eacute;s depuis',
+
+
+// V
+'ver_imprimer' => '<NEW> Version &agrave; imprimer',
+'voir_en_ligne' => '<NEW> Voir en ligne'
+
+);
+
+
+?>

Index: public_fon.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_fon.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_fon.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_fon.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'H&#596;ntogbo',
-'articles' => 'Wekpa l&#603;&#770;',
-'articles_auteur' => 'Ny&#596;wlant&#596; &eacute; l&#596; sin wekpa l&#603;&#770;',
-'articles_populaires' => 'wekpa l&#603;&#770;  &ecirc; to bi t&ugrave;n y&eacute;',
-'articles_recents' => 'wekpa g&ugrave;dog&ugrave;dot&#596;n l&#603;&#770;  ',
-'articles_rubrique' => 'wekpa &#598;i&#598;&#603; &eacute; l&#596; t&#596;n',
-'aucun_article' => 'wekpa &#598;e&#772;&#772;  do gesi &eacute; l&#596; ji a ',
-'aucun_auteur' => 'Ny&#596;wlant&#596; &#598;e&#772;&#772;  do  gesi &eacute; l&#596; ji a ',
-'aucun_site' => 'Gblogbloji &#598;e&#772;&#772;  do  gesi &eacute; l&#596; ji a',
-'aucune_breve' => 'Xogb&egrave; kl&eacute;wun &#598;e&#772;&#772;  do  gesi &eacute; l&#596; ji a',
-'aucune_rubrique' => '&#598;i&#598;&#603; &#598;e&#772;&#772; do gesi &eacute; l&#596; ji a ',
-'autres_breves' => 'Xogb&egrave; kl&eacute;wun de vo',
-'autres_groupes_mots_clefs' => 'Xota b&#603; dokp&#596; l&#603;&#770; ',
-'autres_sites' => 'Gblogbloji &#598;e&#772;&#772; vo l&#603;&#770;',
-
-
-// B
-'bonjour' => 'kwab&#596;   ',
-'breves' => 'Xogb&egrave; kl&eacute;wun',
-
-
-// C
-'commenter_site' => 'wl&#596;k&agrave;nn&uacute; xo l&#603;&#770;',
-
-
-// D
-'date' => 'Azan',
-'dernier_ajout' => 'G&#596;na g&ugrave;dog&ugrave;dot&#596;n',
-'dernieres_breves' => 'Xogb&egrave; kl&eacute;wun g&ugrave;dog&ugrave;dot&#596;n',
-'derniers_articles' => 'Wekpa g&ugrave;dog&ugrave;dot&#596;n',
-'derniers_commentaires' => '&#598;&#603;tit&#603; g&ugrave;dog&ugrave;dot&#596;n',
-'derniers_messages_forum' => 'wh&#603;n g&ugrave;dog&ugrave;dot&#596;n ye&#772; &#598;&#596;dotoji',
-
-
-// E
-'edition_mode_texte' => 'winwlanm&#603;',
-'en_reponse' => '&#598;ogb&egrave;yiyi m&#603; nu &nbsp;:',
-'en_resume' => '&#598;o xo kl&eacute;wun m&#603; &#596;',
-'envoyer_message' => 'S&#603; w&#603;n do ',
-'espace_prive' => 't&#603;nkandovo',
-
-
-// F
-'forum' => 'Kpl&eacute;kpl&eacute; ',
-
-
-// H
-'hierarchie_site' => 'Tito gblogbloji &#596; t&#596;n',
-
-
-// J
-'jours' => 'Azan l&#603;&#770;',
-
-
-// M
-'meme_auteur' => 'Ny&#596;wlant&#596; &#598;okpo &#596;',
-'meme_rubrique' => '&#598;o akpaxw&eacute; &#598;okpo &#596; m&#603;',
-'memes_auteurs' => 'Ny&#596;wlant&#596; &#598;okpo l&#603;&#770;',
-'message' => 'W&#603;n',
-'messages_forum' => 'w&#603;n pk&eacute;kpl&eacute; &#596; t&#596;n l&ecirc;',
-'messages_recents' => 'w&#603;n g&ugrave;do&#769;g&ugrave;dot&#596;n pk&eacute;kpl&eacute; &#596; t&#596;n l&ecirc;',
-'mots_clefs' => 'xo&#769;ta&#769; l&#603;&#770;',
-'mots_clefs_meme_groupe' => 'xo&#769;ta&#769; akpa &#598;okpo&#769; &#596; l&#603;&#770; t&#596;n',
-
-
-// N
-'navigation' => 'nuk&eacute;j&eacute;k&eacute;j&eacute;',
-'nom' => 'nyi&#769;k&#596;',
-'nouveautes' => 'Nu y&#596;y&#596; l&#603;&#770;',
-'nouveautes_web' => 'Nu y&#596;y&#596; l&#603;&#770;  e &#598;o at&#603; &#596; ji&#769; &#596;',
-'nouveaux_articles' => 'W&eacute;kpa y&#596;y&#596; l&#603;&#770;',
-'nouvelles_breves' => 'w&#603;n kl&eacute;wun l&#603;&#770;',
-
-
-// P
-'page_precedente' => 'W&eacute;kpa e wai',
-'page_suivante' => 'W&eacute;kpa e b&#596;&#598;&eacute;u',
-'par_auteur' => 'Gb&#596;n',
-'participer_site' => 'Mi&#768; &#598;&egrave; mi&#768; &#598;&eacute; xl&#603; bo&#769; na&#769;  siwu k&#603; nu&#768; do&#769; wal&#596; gblogbloji&#769; &#596; t&#596;n  en&#603; gu&#769;do &#596; mi&#768;  singan    s&#596; w&eacute;kpa mi t&#596;n l&#603;&#770; s&#603;  do&#769;. &#598;o m&#596; &#596;, mi&#768; n&agrave; s&#603; gb&egrave;t&agrave;kwin na&#769; na&#769; gb&egrave; b&#596; mi&#768; &#598;o t&agrave;f&#596; at&#603; &#596; ji&#769;  z&#596;n&#598;okpo e.',
-'plan_site' => 'titom&#603; gblogbloji &#596; t&#596;n ',
-'popularite' => 'Nuku&#769;n &#598;&eacute;ji&#769;',
-'poster_message' => 's&#603; w&#603;n do',
-'proposer_site' => 'Nu mi do gblogbloji&#769; &#598;&eacute; &#596;  Mi&#768; siwu z&eacute; g&#596; na&#769; akpa &eacute; l&#596; ',
-
-
-// R
-'repondre_article' => '&#598;o&#768; sin nu w&eacute;kpa e l&#596;',
-'repondre_breve' => '&#598;o&#768; sin nu xo&#769; klewun &eacute; l&#596;',
-'repondre_message' => '&#598;o&#768; sin nu w&#603;n  &eacute; l&#596;',
-'resultats_recherche' => 'Gb&egrave;tak&#603;n nu do biba t&#596;n l&#603;&#770;',
-'retour_debut_forums' => 'k&#596;l&#603; s&#596; yi&#768;  kpl&eacute;kpl&eacute; sin bib&#603;',
-'rubrique' => 'Akpa ',
-'rubriques' => 'Akpa l&#603;',
-
-
-// S
-'signatures_petition' => 'al&#596;dowemam&#603; l&#603;',
-'site_realise_avec_spip' => 'Kpo al&#596;g&#596; Supipu t&#596;n kpo&#769; w&#603; gblogbloji&#769; &#596; nyi&#769; wiwa',
-'sites_web' => 'At&#603; l&#603;&#770;',
-'sous_rubriques' => 'Akpa xw&eacute;',
-'suite' => 'B&#596; &#598;&eacute; wu t&#596;n',
-'sur_web' => '&#598;o&#768; at&#603; &#596;  ji&#768;',
-'syndiquer_rubrique' => 'Ze&#770; aceji do akpa &eacute; l&#596; ji&#769;',
-'syndiquer_site' => 'ac&eacute;ji&#769;ni&#769;n&#596;',
-
-
-// T
-'texte_lettre_information' => 'Xojlawema&#769; gblogbloji &#596; t&#596;n &#598;i&egrave;',
-'texte_lettre_information_2' => 'Xojlawema&#769; &eacute; l&#596;&#596; n&#596; cian w&eacute;kpa kpodo&#769; xo&#769; klewun &#598;&#596;&#768;dotoji&#769; xoxo l&#603;&#770;',
-
-
-// V
-'ver_imprimer' => 'Zin wema',
-'voir_en_ligne' => 'kp&#596;n Gblogbloji'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'H&#596;ntogbo',
+'articles' => 'Wekpa l&#603;&#770;',
+'articles_auteur' => 'Ny&#596;wlant&#596; &eacute; l&#596; sin wekpa l&#603;&#770;',
+'articles_populaires' => 'wekpa l&#603;&#770;  &ecirc; to bi t&ugrave;n y&eacute;',
+'articles_recents' => 'wekpa g&ugrave;dog&ugrave;dot&#596;n l&#603;&#770;  ',
+'articles_rubrique' => 'wekpa &#598;i&#598;&#603; &eacute; l&#596; t&#596;n',
+'aucun_article' => 'wekpa &#598;e&#772;&#772;  do gesi &eacute; l&#596; ji a ',
+'aucun_auteur' => 'Ny&#596;wlant&#596; &#598;e&#772;&#772;  do  gesi &eacute; l&#596; ji a ',
+'aucun_site' => 'Gblogbloji &#598;e&#772;&#772;  do  gesi &eacute; l&#596; ji a',
+'aucune_breve' => 'Xogb&egrave; kl&eacute;wun &#598;e&#772;&#772;  do  gesi &eacute; l&#596; ji a',
+'aucune_rubrique' => '&#598;i&#598;&#603; &#598;e&#772;&#772; do gesi &eacute; l&#596; ji a ',
+'autres_breves' => 'Xogb&egrave; kl&eacute;wun de vo',
+'autres_groupes_mots_clefs' => 'Xota b&#603; dokp&#596; l&#603;&#770; ',
+'autres_sites' => 'Gblogbloji &#598;e&#772;&#772; vo l&#603;&#770;',
+
+
+// B
+'bonjour' => 'kwab&#596;   ',
+'breves' => 'Xogb&egrave; kl&eacute;wun',
+
+
+// C
+'commenter_site' => 'wl&#596;k&agrave;nn&uacute; xo l&#603;&#770;',
+
+
+// D
+'date' => 'Azan',
+'dernier_ajout' => 'G&#596;na g&ugrave;dog&ugrave;dot&#596;n',
+'dernieres_breves' => 'Xogb&egrave; kl&eacute;wun g&ugrave;dog&ugrave;dot&#596;n',
+'derniers_articles' => 'Wekpa g&ugrave;dog&ugrave;dot&#596;n',
+'derniers_commentaires' => '&#598;&#603;tit&#603; g&ugrave;dog&ugrave;dot&#596;n',
+'derniers_messages_forum' => 'wh&#603;n g&ugrave;dog&ugrave;dot&#596;n ye&#772; &#598;&#596;dotoji',
+
+
+// E
+'edition_mode_texte' => 'winwlanm&#603;',
+'en_reponse' => '&#598;ogb&egrave;yiyi m&#603; nu &nbsp;:',
+'en_resume' => '&#598;o xo kl&eacute;wun m&#603; &#596;',
+'envoyer_message' => 'S&#603; w&#603;n do ',
+'espace_prive' => 't&#603;nkandovo',
+
+
+// F
+'forum' => 'Kpl&eacute;kpl&eacute; ',
+
+
+// H
+'hierarchie_site' => 'Tito gblogbloji &#596; t&#596;n',
+
+
+// J
+'jours' => 'Azan l&#603;&#770;',
+
+
+// M
+'meme_auteur' => 'Ny&#596;wlant&#596; &#598;okpo &#596;',
+'meme_rubrique' => '&#598;o akpaxw&eacute; &#598;okpo &#596; m&#603;',
+'memes_auteurs' => 'Ny&#596;wlant&#596; &#598;okpo l&#603;&#770;',
+'message' => 'W&#603;n',
+'messages_forum' => 'w&#603;n pk&eacute;kpl&eacute; &#596; t&#596;n l&ecirc;',
+'messages_recents' => 'w&#603;n g&ugrave;do&#769;g&ugrave;dot&#596;n pk&eacute;kpl&eacute; &#596; t&#596;n l&ecirc;',
+'mots_clefs' => 'xo&#769;ta&#769; l&#603;&#770;',
+'mots_clefs_meme_groupe' => 'xo&#769;ta&#769; akpa &#598;okpo&#769; &#596; l&#603;&#770; t&#596;n',
+
+
+// N
+'navigation' => 'nuk&eacute;j&eacute;k&eacute;j&eacute;',
+'nom' => 'nyi&#769;k&#596;',
+'nouveautes' => 'Nu y&#596;y&#596; l&#603;&#770;',
+'nouveautes_web' => 'Nu y&#596;y&#596; l&#603;&#770;  e &#598;o at&#603; &#596; ji&#769; &#596;',
+'nouveaux_articles' => 'W&eacute;kpa y&#596;y&#596; l&#603;&#770;',
+'nouvelles_breves' => 'w&#603;n kl&eacute;wun l&#603;&#770;',
+
+
+// P
+'page_precedente' => 'W&eacute;kpa e wai',
+'page_suivante' => 'W&eacute;kpa e b&#596;&#598;&eacute;u',
+'par_auteur' => 'Gb&#596;n',
+'participer_site' => 'Mi&#768; &#598;&egrave; mi&#768; &#598;&eacute; xl&#603; bo&#769; na&#769;  siwu k&#603; nu&#768; do&#769; wal&#596; gblogbloji&#769; &#596; t&#596;n  en&#603; gu&#769;do &#596; mi&#768;  singan    s&#596; w&eacute;kpa mi t&#596;n l&#603;&#770; s&#603;  do&#769;. &#598;o m&#596; &#596;, mi&#768; n&agrave; s&#603; gb&egrave;t&agrave;kwin na&#769; na&#769; gb&egrave; b&#596; mi&#768; &#598;o t&agrave;f&#596; at&#603; &#596; ji&#769;  z&#596;n&#598;okpo e.',
+'plan_site' => 'titom&#603; gblogbloji &#596; t&#596;n ',
+'popularite' => 'Nuku&#769;n &#598;&eacute;ji&#769;',
+'poster_message' => 's&#603; w&#603;n do',
+'proposer_site' => 'Nu mi do gblogbloji&#769; &#598;&eacute; &#596;  Mi&#768; siwu z&eacute; g&#596; na&#769; akpa &eacute; l&#596; ',
+
+
+// R
+'repondre_article' => '&#598;o&#768; sin nu w&eacute;kpa e l&#596;',
+'repondre_breve' => '&#598;o&#768; sin nu xo&#769; klewun &eacute; l&#596;',
+'repondre_message' => '&#598;o&#768; sin nu w&#603;n  &eacute; l&#596;',
+'resultats_recherche' => 'Gb&egrave;tak&#603;n nu do biba t&#596;n l&#603;&#770;',
+'retour_debut_forums' => 'k&#596;l&#603; s&#596; yi&#768;  kpl&eacute;kpl&eacute; sin bib&#603;',
+'rubrique' => 'Akpa ',
+'rubriques' => 'Akpa l&#603;',
+
+
+// S
+'signatures_petition' => 'al&#596;dowemam&#603; l&#603;',
+'site_realise_avec_spip' => 'Kpo al&#596;g&#596; Supipu t&#596;n kpo&#769; w&#603; gblogbloji&#769; &#596; nyi&#769; wiwa',
+'sites_web' => 'At&#603; l&#603;&#770;',
+'sous_rubriques' => 'Akpa xw&eacute;',
+'suite' => 'B&#596; &#598;&eacute; wu t&#596;n',
+'sur_web' => '&#598;o&#768; at&#603; &#596;  ji&#768;',
+'syndiquer_rubrique' => 'Ze&#770; aceji do akpa &eacute; l&#596; ji&#769;',
+'syndiquer_site' => 'ac&eacute;ji&#769;ni&#769;n&#596;',
+
+
+// T
+'texte_lettre_information' => 'Xojlawema&#769; gblogbloji &#596; t&#596;n &#598;i&egrave;',
+'texte_lettre_information_2' => 'Xojlawema&#769; &eacute; l&#596;&#596; n&#596; cian w&eacute;kpa kpodo&#769; xo&#769; klewun &#598;&#596;&#768;dotoji&#769; xoxo l&#603;&#770;',
+
+
+// V
+'ver_imprimer' => 'Zin wema',
+'voir_en_ligne' => 'kp&#596;n Gblogbloji'
+
+);
+
+
+?>

Index: public_fr.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_fr.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_fr.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_fr.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Accueil du site',
-'articles' => 'Articles',
-'articles_auteur' => 'Articles de cet auteur',
-'articles_populaires' => 'Articles les plus populaires',
-'articles_recents' => 'Articles les plus r&eacute;cents',
-'articles_rubrique' => 'Articles de cette rubrique',
-'aucun_article' => 'Il n\'y a pas d\'article &agrave; cette adresse',
-'aucun_auteur' => 'Il n\'y a pas d\'auteur &agrave; cette adresse',
-'aucun_site' => 'Il n\'y a pas de site &agrave; cette adresse',
-'aucune_breve' => 'Il n\'y a pas de br&egrave;ve &agrave; cette adresse',
-'aucune_rubrique' => 'Il n\'y a pas de rubrique &agrave; cette adresse',
-'autres_breves' => 'Autres br&egrave;ves',
-'autres_groupes_mots_clefs' => 'Autres groupes de mots-cl&eacute;s',
-'autres_sites' => 'Autres sites',
-
-
-// B
-'bonjour' => 'Bonjour',
-'breves' => 'Br&egrave;ves',
-
-
-// C
-'commenter_site' => 'Commenter ce site',
-
-
-// D
-'date' => 'Date',
-'dernier_ajout' => 'Dernier ajout',
-'dernieres_breves' => 'Derni&egrave;res br&egrave;ves',
-'derniers_articles' => 'Derniers articles',
-'derniers_commentaires' => 'Derniers commentaires',
-'derniers_messages_forum' => 'Derniers messages publi&eacute;s dans les forums',
-
-
-// E
-'edition_mode_texte' => '&Eacute;dition en mode texte de',
-'en_reponse' => 'En r&eacute;ponse &agrave;&nbsp;:',
-'en_resume' => 'En r&eacute;sum&eacute;',
-'envoyer_message' => 'Envoyer un message',
-'espace_prive' => 'Espace priv&eacute;',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Hi&eacute;rarchie du site',
-
-
-// J
-'jours' => 'jours',
-
-
-// M
-'meme_auteur' => 'Du m&ecirc;me auteur',
-'meme_rubrique' => 'Dans la m&ecirc;me rubrique',
-'memes_auteurs' => 'Des m&ecirc;mes auteurs',
-'message' => 'Message',
-'messages_forum' => 'Messages de forum',
-'messages_recents' => 'Messages de forums les plus r&eacute;cents',
-'mots_clefs' => 'Mots-cl&eacute;s',
-'mots_clefs_meme_groupe' => 'Mots-cl&eacute;s dans le m&ecirc;me groupe',
-
-
-// N
-'navigation' => 'Navigation',
-'nom' => 'Nom',
-'nouveautes' => 'Les nouveaut&eacute;s',
-'nouveautes_web' => 'Nouveaut&eacute;s sur le Web',
-'nouveaux_articles' => 'Nouveaux articles',
-'nouvelles_breves' => 'Nouvelles br&egrave;ves',
-
-
-// P
-'page_precedente' => 'page pr&eacute;c&eacute;dente',
-'page_suivante' => 'page suivante',
-'par_auteur' => 'par ',
-'participer_site' => 'Vous pouvez participer &agrave; la vie de ce site et proposer vos propres articles en vous inscrivant ci-dessous. Vous recevrez imm&eacute;diatement un email vous indiquant vos codes d\'acc&egrave;s &agrave; l\'espace priv&eacute; du site.',
-'plan_site' => 'Plan du site',
-'popularite' => 'Popularit&eacute;',
-'poster_message' => 'Poster un message',
-'proposer_site' => 'Vous pouvez proposer un site &agrave; ajouter dans cette rubrique&nbsp;:',
-
-
-// R
-'repondre_article' => 'R&eacute;pondre &agrave; cet article',
-'repondre_breve' => 'R&eacute;pondre &agrave; cette br&egrave;ve',
-'repondre_message' => 'R&eacute;pondre &agrave; ce message',
-'resultats_recherche' => 'R&eacute;sultats de la recherche',
-'retour_debut_forums' => 'Retour au d&eacute;but des forums',
-'rubrique' => 'Rubrique',
-'rubriques' => 'Rubriques',
-
-
-// S
-'signatures_petition' => 'Signatures',
-'site_realise_avec_spip' => 'Site r&eacute;alis&eacute; avec SPIP',
-'sites_web' => 'Sites Web',
-'sous_rubriques' => 'Sous-rubriques',
-'suite' => 'suite',
-'sur_web' => 'Sur le Web',
-'syndiquer_rubrique' => 'Syndiquer cette rubrique',
-'syndiquer_site' => 'Syndiquer tout le site',
-
-
-// T
-'texte_lettre_information' => 'Voici la lettre d\'information du site',
-'texte_lettre_information_2' => 'Cette lettre recense les articles et les br&egrave;ves publi&eacute;s depuis',
-
-
-// V
-'ver_imprimer' => 'Version &agrave; imprimer',
-'voir_en_ligne' => 'Voir en ligne'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Accueil du site',
+'articles' => 'Articles',
+'articles_auteur' => 'Articles de cet auteur',
+'articles_populaires' => 'Articles les plus populaires',
+'articles_recents' => 'Articles les plus r&eacute;cents',
+'articles_rubrique' => 'Articles de cette rubrique',
+'aucun_article' => 'Il n\'y a pas d\'article &agrave; cette adresse',
+'aucun_auteur' => 'Il n\'y a pas d\'auteur &agrave; cette adresse',
+'aucun_site' => 'Il n\'y a pas de site &agrave; cette adresse',
+'aucune_breve' => 'Il n\'y a pas de br&egrave;ve &agrave; cette adresse',
+'aucune_rubrique' => 'Il n\'y a pas de rubrique &agrave; cette adresse',
+'autres_breves' => 'Autres br&egrave;ves',
+'autres_groupes_mots_clefs' => 'Autres groupes de mots-cl&eacute;s',
+'autres_sites' => 'Autres sites',
+
+
+// B
+'bonjour' => 'Bonjour',
+'breves' => 'Br&egrave;ves',
+
+
+// C
+'commenter_site' => 'Commenter ce site',
+
+
+// D
+'date' => 'Date',
+'dernier_ajout' => 'Dernier ajout',
+'dernieres_breves' => 'Derni&egrave;res br&egrave;ves',
+'derniers_articles' => 'Derniers articles',
+'derniers_commentaires' => 'Derniers commentaires',
+'derniers_messages_forum' => 'Derniers messages publi&eacute;s dans les forums',
+
+
+// E
+'edition_mode_texte' => '&Eacute;dition en mode texte de',
+'en_reponse' => 'En r&eacute;ponse &agrave;&nbsp;:',
+'en_resume' => 'En r&eacute;sum&eacute;',
+'envoyer_message' => 'Envoyer un message',
+'espace_prive' => 'Espace priv&eacute;',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Hi&eacute;rarchie du site',
+
+
+// J
+'jours' => 'jours',
+
+
+// M
+'meme_auteur' => 'Du m&ecirc;me auteur',
+'meme_rubrique' => 'Dans la m&ecirc;me rubrique',
+'memes_auteurs' => 'Des m&ecirc;mes auteurs',
+'message' => 'Message',
+'messages_forum' => 'Messages de forum',
+'messages_recents' => 'Messages de forums les plus r&eacute;cents',
+'mots_clefs' => 'Mots-cl&eacute;s',
+'mots_clefs_meme_groupe' => 'Mots-cl&eacute;s dans le m&ecirc;me groupe',
+
+
+// N
+'navigation' => 'Navigation',
+'nom' => 'Nom',
+'nouveautes' => 'Les nouveaut&eacute;s',
+'nouveautes_web' => 'Nouveaut&eacute;s sur le Web',
+'nouveaux_articles' => 'Nouveaux articles',
+'nouvelles_breves' => 'Nouvelles br&egrave;ves',
+
+
+// P
+'page_precedente' => 'page pr&eacute;c&eacute;dente',
+'page_suivante' => 'page suivante',
+'par_auteur' => 'par ',
+'participer_site' => 'Vous pouvez participer &agrave; la vie de ce site et proposer vos propres articles en vous inscrivant ci-dessous. Vous recevrez imm&eacute;diatement un email vous indiquant vos codes d\'acc&egrave;s &agrave; l\'espace priv&eacute; du site.',
+'plan_site' => 'Plan du site',
+'popularite' => 'Popularit&eacute;',
+'poster_message' => 'Poster un message',
+'proposer_site' => 'Vous pouvez proposer un site &agrave; ajouter dans cette rubrique&nbsp;:',
+
+
+// R
+'repondre_article' => 'R&eacute;pondre &agrave; cet article',
+'repondre_breve' => 'R&eacute;pondre &agrave; cette br&egrave;ve',
+'repondre_message' => 'R&eacute;pondre &agrave; ce message',
+'resultats_recherche' => 'R&eacute;sultats de la recherche',
+'retour_debut_forums' => 'Retour au d&eacute;but des forums',
+'rubrique' => 'Rubrique',
+'rubriques' => 'Rubriques',
+
+
+// S
+'signatures_petition' => 'Signatures',
+'site_realise_avec_spip' => 'Site r&eacute;alis&eacute; avec SPIP',
+'sites_web' => 'Sites Web',
+'sous_rubriques' => 'Sous-rubriques',
+'suite' => 'suite',
+'sur_web' => 'Sur le Web',
+'syndiquer_rubrique' => 'Syndiquer cette rubrique',
+'syndiquer_site' => 'Syndiquer tout le site',
+
+
+// T
+'texte_lettre_information' => 'Voici la lettre d\'information du site',
+'texte_lettre_information_2' => 'Cette lettre recense les articles et les br&egrave;ves publi&eacute;s depuis',
+
+
+// V
+'ver_imprimer' => 'Version &agrave; imprimer',
+'voir_en_ligne' => 'Voir en ligne'
+
+);
+
+
+?>

Index: public_gl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_gl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_gl.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_gl.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Entrada do web',
-'articles' => 'Artigos',
-'articles_auteur' => 'Artigos deste autor',
-'articles_populaires' => 'Artigos m&aacute;is populares',
-'articles_recents' => 'Artigos m&aacute;is recentes',
-'articles_rubrique' => 'Artigos desta secci&oacute;n',
-'aucun_article' => 'Non hai artigo neste enderezo',
-'aucun_auteur' => 'Non hai autor neste enderezo',
-'aucun_site' => 'Non hai web neste enderezo',
-'aucune_breve' => 'Non hai breves neste enderezo',
-'aucune_rubrique' => 'Non hai secci&oacute;n neste enderezo',
-'autres_breves' => 'Outras breves',
-'autres_groupes_mots_clefs' => 'Outros grupos de palabras chave',
-'autres_sites' => 'Outros webs',
-
-
-// B
-'bonjour' => 'Bos d&iacute;as',
-'breves' => 'Breves',
-
-
-// C
-'commenter_site' => 'Comentar este web',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => '&Uacute;ltimo engadido',
-'dernieres_breves' => '&Uacute;ltimas breves',
-'derniers_articles' => '&Uacute;ltimos artigos',
-'derniers_commentaires' => '&Uacute;ltimos comentarios',
-'derniers_messages_forum' => '&Uacute;ltimas mensaxes publicadas nos foros',
-
-
-// E
-'edition_mode_texte' => 'Edici&oacute;n en modo texto de',
-'en_reponse' => 'En resposta a&nbsp;:',
-'en_resume' => 'En resumo',
-'envoyer_message' => 'Enviar unha mensaxe',
-'espace_prive' => 'Espacio privado',
-
-
-// F
-'forum' => 'Foro',
-
-
-// H
-'hierarchie_site' => 'Xerarqu&iacute;a do web',
-
-
-// J
-'jours' => 'd&iacute;as',
-
-
-// M
-'meme_auteur' => 'Do mesmo autor',
-'meme_rubrique' => 'Na mesma secci&oacute;n',
-'memes_auteurs' => 'Dos mesmos autores',
-'message' => 'Mensaxe',
-'messages_forum' => 'Mensaxes do foro',
-'messages_recents' => 'Mensaxes dos foros m&aacute;is recentes',
-'mots_clefs' => 'Palabras chave',
-'mots_clefs_meme_groupe' => 'Palabras chave dentro do mesmo grupo',
-
-
-// N
-'navigation' => 'Navegaci&oacute;n',
-'nom' => 'Nome',
-'nouveautes' => 'Novidades',
-'nouveautes_web' => 'Novidades no web',
-'nouveaux_articles' => 'Novos artigos',
-'nouvelles_breves' => 'Novas breves',
-
-
-// P
-'page_precedente' => 'p&aacute;xina anterior',
-'page_suivante' => 'p&aacute;xina seguinte',
-'par_auteur' => 'por',
-'participer_site' => 'Pode participar na vida deste web e propo&ntilde;er os seus propios artigos inscrib&iacute;ndose aqu&iacute; abaixo. Recibir&aacute; inmediatamente un correo que lle indicar&aacute; o seu c&oacute;digo de acceso ao espacio privado do web.',
-'plan_site' => 'Mapa do web',
-'popularite' => 'Popularidade',
-'poster_message' => 'Enviar unha mensaxe',
-'proposer_site' => 'Pode propo&ntilde;er un web para engadir a esta secci&oacute;n&nbsp;:',
-
-
-// R
-'repondre_article' => 'Responder a este artigo',
-'repondre_breve' => 'Responder a esta breve',
-'repondre_message' => 'Responder a esta mensaxe',
-'resultats_recherche' => 'Resultados da procura',
-'retour_debut_forums' => 'Volta ao principio dos foros',
-'rubrique' => 'Secci&oacute;n',
-'rubriques' => 'Secci&oacute;ns',
-
-
-// S
-'signatures_petition' => 'Sinaturas',
-'site_realise_avec_spip' => 'Web realizado con SPIP',
-'sites_web' => 'Sitios web',
-'sous_rubriques' => 'Subsecci&oacute;ns',
-'suite' => 'a seguir',
-'sur_web' => 'Sobre o web',
-'syndiquer_rubrique' => 'Sindicar esta secci&oacute;n',
-'syndiquer_site' => 'Sindicar todo o web',
-
-
-// T
-'texte_lettre_information' => 'Velaqu&iacute; a nota informativa do web',
-'texte_lettre_information_2' => 'Esta nota recolle os artigos e as breves publicadas despois',
-
-
-// V
-'ver_imprimer' => 'Versi&oacute;n para imprimir',
-'voir_en_ligne' => 'Ver en li&ntilde;a'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Entrada do web',
+'articles' => 'Artigos',
+'articles_auteur' => 'Artigos deste autor',
+'articles_populaires' => 'Artigos m&aacute;is populares',
+'articles_recents' => 'Artigos m&aacute;is recentes',
+'articles_rubrique' => 'Artigos desta secci&oacute;n',
+'aucun_article' => 'Non hai artigo neste enderezo',
+'aucun_auteur' => 'Non hai autor neste enderezo',
+'aucun_site' => 'Non hai web neste enderezo',
+'aucune_breve' => 'Non hai breves neste enderezo',
+'aucune_rubrique' => 'Non hai secci&oacute;n neste enderezo',
+'autres_breves' => 'Outras breves',
+'autres_groupes_mots_clefs' => 'Outros grupos de palabras chave',
+'autres_sites' => 'Outros webs',
+
+
+// B
+'bonjour' => 'Bos d&iacute;as',
+'breves' => 'Breves',
+
+
+// C
+'commenter_site' => 'Comentar este web',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => '&Uacute;ltimo engadido',
+'dernieres_breves' => '&Uacute;ltimas breves',
+'derniers_articles' => '&Uacute;ltimos artigos',
+'derniers_commentaires' => '&Uacute;ltimos comentarios',
+'derniers_messages_forum' => '&Uacute;ltimas mensaxes publicadas nos foros',
+
+
+// E
+'edition_mode_texte' => 'Edici&oacute;n en modo texto de',
+'en_reponse' => 'En resposta a&nbsp;:',
+'en_resume' => 'En resumo',
+'envoyer_message' => 'Enviar unha mensaxe',
+'espace_prive' => 'Espacio privado',
+
+
+// F
+'forum' => 'Foro',
+
+
+// H
+'hierarchie_site' => 'Xerarqu&iacute;a do web',
+
+
+// J
+'jours' => 'd&iacute;as',
+
+
+// M
+'meme_auteur' => 'Do mesmo autor',
+'meme_rubrique' => 'Na mesma secci&oacute;n',
+'memes_auteurs' => 'Dos mesmos autores',
+'message' => 'Mensaxe',
+'messages_forum' => 'Mensaxes do foro',
+'messages_recents' => 'Mensaxes dos foros m&aacute;is recentes',
+'mots_clefs' => 'Palabras chave',
+'mots_clefs_meme_groupe' => 'Palabras chave dentro do mesmo grupo',
+
+
+// N
+'navigation' => 'Navegaci&oacute;n',
+'nom' => 'Nome',
+'nouveautes' => 'Novidades',
+'nouveautes_web' => 'Novidades no web',
+'nouveaux_articles' => 'Novos artigos',
+'nouvelles_breves' => 'Novas breves',
+
+
+// P
+'page_precedente' => 'p&aacute;xina anterior',
+'page_suivante' => 'p&aacute;xina seguinte',
+'par_auteur' => 'por',
+'participer_site' => 'Pode participar na vida deste web e propo&ntilde;er os seus propios artigos inscrib&iacute;ndose aqu&iacute; abaixo. Recibir&aacute; inmediatamente un correo que lle indicar&aacute; o seu c&oacute;digo de acceso ao espacio privado do web.',
+'plan_site' => 'Mapa do web',
+'popularite' => 'Popularidade',
+'poster_message' => 'Enviar unha mensaxe',
+'proposer_site' => 'Pode propo&ntilde;er un web para engadir a esta secci&oacute;n&nbsp;:',
+
+
+// R
+'repondre_article' => 'Responder a este artigo',
+'repondre_breve' => 'Responder a esta breve',
+'repondre_message' => 'Responder a esta mensaxe',
+'resultats_recherche' => 'Resultados da procura',
+'retour_debut_forums' => 'Volta ao principio dos foros',
+'rubrique' => 'Secci&oacute;n',
+'rubriques' => 'Secci&oacute;ns',
+
+
+// S
+'signatures_petition' => 'Sinaturas',
+'site_realise_avec_spip' => 'Web realizado con SPIP',
+'sites_web' => 'Sitios web',
+'sous_rubriques' => 'Subsecci&oacute;ns',
+'suite' => 'a seguir',
+'sur_web' => 'Sobre o web',
+'syndiquer_rubrique' => 'Sindicar esta secci&oacute;n',
+'syndiquer_site' => 'Sindicar todo o web',
+
+
+// T
+'texte_lettre_information' => 'Velaqu&iacute; a nota informativa do web',
+'texte_lettre_information_2' => 'Esta nota recolle os artigos e as breves publicadas despois',
+
+
+// V
+'ver_imprimer' => 'Versi&oacute;n para imprimir',
+'voir_en_ligne' => 'Ver en li&ntilde;a'
+
+);
+
+
+?>

Index: public_hu.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_hu.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_hu.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_hu.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'F&#337;oldal',
-'articles' => 'Cikkek',
-'articles_auteur' => 'E szerz&#337; cikkei',
-'articles_populaires' => 'Legn&eacute;pszer&#369;bb cikkek',
-'articles_recents' => 'Leg&uacute;jabb cikkek',
-'articles_rubrique' => 'A rovat cikkei',
-'aucun_article' => '<NENincs cikke ezen a c&iacute;men',
-'aucun_auteur' => 'Nincs szerz&#337; ezen a c&iacute;men',
-'aucun_site' => 'Nincs honlap ezen a c&iacute;men',
-'aucune_breve' => 'Nincs h&iacute;r ezen a c&iacute;men',
-'aucune_rubrique' => 'Nincs rovat ezen a c&iacute;men',
-'autres_breves' => 'Egy&eacute;b h&iacute;rek',
-'autres_groupes_mots_clefs' => 'Egy&eacute;b kulcssz&oacute; csoportok',
-'autres_sites' => 'Egy&eacute;b honlapok',
-
-
-// B
-'bonjour' => 'J&oacute; napot',
-'breves' => 'H&iacute;rek',
-
-
-// C
-'commenter_site' => 'Hozz&aacute;sz&oacute;l&aacute;s a honlapr&oacute;l',
-
-
-// D
-'date' => 'D&aacute;tum',
-'dernier_ajout' => 'Utols&oacute; besz&uacute;r&aacute;s',
-'dernieres_breves' => 'Utols&oacute; h&iacute;rek',
-'derniers_articles' => 'Utols&oacute; cikkek',
-'derniers_commentaires' => 'Utols&oacute; hozz&aacute;sz&oacute;l&aacute;sok',
-'derniers_messages_forum' => 'A f&oacute;rumokba k&uuml;ld&ouml;tt legutols&oacute; &uuml;zenetek',
-
-
-// E
-'edition_mode_texte' => 'Sz&ouml;veges m&oacute;dban szerkeszt&eacute;s',
-'en_reponse' => 'Erre v&aacute;laszolva&nbsp;:',
-'en_resume' => '&Ouml;sszefoglalva',
-'envoyer_message' => '&Uuml;zenet k&uuml;ld&eacute;s',
-'espace_prive' => 'Priv&aacute;t r&eacute;sz',
-
-
-// F
-'forum' => 'F&oacute;rum',
-
-
-// H
-'hierarchie_site' => 'A honlap fel&eacute;p&iacute;t&eacute;se',
-
-
-// J
-'jours' => 'napok',
-
-
-// M
-'meme_auteur' => 'Ugyanett&#337;l a szerz&#337;t&#337;l',
-'meme_rubrique' => 'Ugyanabban a rovatban',
-'memes_auteurs' => 'Ugyanett&#337;l a szerz&#337;kt&#337;l',
-'message' => '&Uuml;zenet',
-'messages_forum' => 'F&oacute;rum &uuml;zenetei',
-'messages_recents' => 'A f&oacute;rumok legfr&iacute;ssebb &uuml;zenetei',
-'mots_clefs' => 'Kulcsszavak',
-'mots_clefs_meme_groupe' => 'Kulcsszavak ugyanabban a csoportban',
-
-
-// N
-'navigation' => 'B&ouml;ng&eacute;sz&eacute;s',
-'nom' => 'N&eacute;v',
-'nouveautes' => '&Uacute;jdons&aacute;gok',
-'nouveautes_web' => '&Uacute;jdons&aacute;gok a Weben',
-'nouveaux_articles' => '&Uacute;j cikkek',
-'nouvelles_breves' => '&Uacute;j h&iacute;rek',
-
-
-// P
-'page_precedente' => 'El&ouml;z&#337; oldal',
-'page_suivante' => 'k&ouml;vetkez&#337; oldal',
-'par_auteur' => '&iacute;rta',
-'participer_site' => 'R&eacute;szt vehet a honlap &eacute;let&eacute;ben, &eacute;s saj&aacute;t cikkeket k&uuml;ldhet. Az&eacute;rt egy beiratkoz&aacute;s sz&uuml;ks&eacute;ges (l&aacute;sd lejjebb). Azonnal fog kapni egy emailt, melyben szerepelnek a hozz&aacute;f&eacute;r&eacute;si param&eacute;terek a honlap priv&aacute;t r&eacute;sz&eacute;re.',
-'plan_site' => 'Honlap t&eacute;rk&eacute;pe',
-'popularite' => 'N&eacute;pszer&#369;s&eacute;g',
-'poster_message' => '&Uuml;zenet k&uuml;ld&eacute;s',
-'proposer_site' => 'Honlapot aj&aacute;nlhat abban a rovatban&nbsp;:',
-
-
-// R
-'repondre_article' => 'Hozz&aacute;sz&oacute;l&aacute;s a cikkhez',
-'repondre_breve' => 'V&aacute;laszolni erre a h&iacute;rre',
-'repondre_message' => 'V&aacute;laszolni erre az &uuml;zenetre',
-'resultats_recherche' => 'Keres&eacute;s eredm&eacute;nyei',
-'retour_debut_forums' => 'Vissza a f&oacute;rumok kezdet&eacute;re',
-'rubrique' => 'Rovat',
-'rubriques' => 'Rovatok',
-
-
-// S
-'signatures_petition' => 'Al&aacute;&iacute;r&aacute;sok',
-'site_realise_avec_spip' => 'A honlap SPIP seg&iacute;ts&eacute;g&eacute;vel k&eacute;sz&uuml;lt',
-'sites_web' => 'Honlapok',
-'sous_rubriques' => 'Als&oacute;bb rovatok',
-'suite' => 'folytat&aacute;s',
-'sur_web' => 'Valahol a Weben',
-'syndiquer_rubrique' => 'A rovat szindik&aacute;l&aacute;sa',
-'syndiquer_site' => 'Az eg&eacute;sz honlap szindik&aacute;l&aacute;sa',
-
-
-// T
-'texte_lettre_information' => '&Iacute;me a honlap h&iacute;rlevele',
-'texte_lettre_information_2' => 'Ez a h&iacute;rlev&eacute;l a cikkeket, ill. h&iacute;reket &ouml;sszefoglalja az&oacute;ta',
-
-
-// V
-'ver_imprimer' => 'Nyomtathat&oacute; v&aacute;ltozat',
-'voir_en_ligne' => 'L&aacute;tni &eacute;l&#337;ben'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'F&#337;oldal',
+'articles' => 'Cikkek',
+'articles_auteur' => 'E szerz&#337; cikkei',
+'articles_populaires' => 'Legn&eacute;pszer&#369;bb cikkek',
+'articles_recents' => 'Leg&uacute;jabb cikkek',
+'articles_rubrique' => 'A rovat cikkei',
+'aucun_article' => '<NENincs cikke ezen a c&iacute;men',
+'aucun_auteur' => 'Nincs szerz&#337; ezen a c&iacute;men',
+'aucun_site' => 'Nincs honlap ezen a c&iacute;men',
+'aucune_breve' => 'Nincs h&iacute;r ezen a c&iacute;men',
+'aucune_rubrique' => 'Nincs rovat ezen a c&iacute;men',
+'autres_breves' => 'Egy&eacute;b h&iacute;rek',
+'autres_groupes_mots_clefs' => 'Egy&eacute;b kulcssz&oacute; csoportok',
+'autres_sites' => 'Egy&eacute;b honlapok',
+
+
+// B
+'bonjour' => 'J&oacute; napot',
+'breves' => 'H&iacute;rek',
+
+
+// C
+'commenter_site' => 'Hozz&aacute;sz&oacute;l&aacute;s a honlapr&oacute;l',
+
+
+// D
+'date' => 'D&aacute;tum',
+'dernier_ajout' => 'Utols&oacute; besz&uacute;r&aacute;s',
+'dernieres_breves' => 'Utols&oacute; h&iacute;rek',
+'derniers_articles' => 'Utols&oacute; cikkek',
+'derniers_commentaires' => 'Utols&oacute; hozz&aacute;sz&oacute;l&aacute;sok',
+'derniers_messages_forum' => 'A f&oacute;rumokba k&uuml;ld&ouml;tt legutols&oacute; &uuml;zenetek',
+
+
+// E
+'edition_mode_texte' => 'Sz&ouml;veges m&oacute;dban szerkeszt&eacute;s',
+'en_reponse' => 'Erre v&aacute;laszolva&nbsp;:',
+'en_resume' => '&Ouml;sszefoglalva',
+'envoyer_message' => '&Uuml;zenet k&uuml;ld&eacute;s',
+'espace_prive' => 'Priv&aacute;t r&eacute;sz',
+
+
+// F
+'forum' => 'F&oacute;rum',
+
+
+// H
+'hierarchie_site' => 'A honlap fel&eacute;p&iacute;t&eacute;se',
+
+
+// J
+'jours' => 'napok',
+
+
+// M
+'meme_auteur' => 'Ugyanett&#337;l a szerz&#337;t&#337;l',
+'meme_rubrique' => 'Ugyanabban a rovatban',
+'memes_auteurs' => 'Ugyanett&#337;l a szerz&#337;kt&#337;l',
+'message' => '&Uuml;zenet',
+'messages_forum' => 'F&oacute;rum &uuml;zenetei',
+'messages_recents' => 'A f&oacute;rumok legfr&iacute;ssebb &uuml;zenetei',
+'mots_clefs' => 'Kulcsszavak',
+'mots_clefs_meme_groupe' => 'Kulcsszavak ugyanabban a csoportban',
+
+
+// N
+'navigation' => 'B&ouml;ng&eacute;sz&eacute;s',
+'nom' => 'N&eacute;v',
+'nouveautes' => '&Uacute;jdons&aacute;gok',
+'nouveautes_web' => '&Uacute;jdons&aacute;gok a Weben',
+'nouveaux_articles' => '&Uacute;j cikkek',
+'nouvelles_breves' => '&Uacute;j h&iacute;rek',
+
+
+// P
+'page_precedente' => 'El&ouml;z&#337; oldal',
+'page_suivante' => 'k&ouml;vetkez&#337; oldal',
+'par_auteur' => '&iacute;rta',
+'participer_site' => 'R&eacute;szt vehet a honlap &eacute;let&eacute;ben, &eacute;s saj&aacute;t cikkeket k&uuml;ldhet. Az&eacute;rt egy beiratkoz&aacute;s sz&uuml;ks&eacute;ges (l&aacute;sd lejjebb). Azonnal fog kapni egy emailt, melyben szerepelnek a hozz&aacute;f&eacute;r&eacute;si param&eacute;terek a honlap priv&aacute;t r&eacute;sz&eacute;re.',
+'plan_site' => 'Honlap t&eacute;rk&eacute;pe',
+'popularite' => 'N&eacute;pszer&#369;s&eacute;g',
+'poster_message' => '&Uuml;zenet k&uuml;ld&eacute;s',
+'proposer_site' => 'Honlapot aj&aacute;nlhat abban a rovatban&nbsp;:',
+
+
+// R
+'repondre_article' => 'Hozz&aacute;sz&oacute;l&aacute;s a cikkhez',
+'repondre_breve' => 'V&aacute;laszolni erre a h&iacute;rre',
+'repondre_message' => 'V&aacute;laszolni erre az &uuml;zenetre',
+'resultats_recherche' => 'Keres&eacute;s eredm&eacute;nyei',
+'retour_debut_forums' => 'Vissza a f&oacute;rumok kezdet&eacute;re',
+'rubrique' => 'Rovat',
+'rubriques' => 'Rovatok',
+
+
+// S
+'signatures_petition' => 'Al&aacute;&iacute;r&aacute;sok',
+'site_realise_avec_spip' => 'A honlap SPIP seg&iacute;ts&eacute;g&eacute;vel k&eacute;sz&uuml;lt',
+'sites_web' => 'Honlapok',
+'sous_rubriques' => 'Als&oacute;bb rovatok',
+'suite' => 'folytat&aacute;s',
+'sur_web' => 'Valahol a Weben',
+'syndiquer_rubrique' => 'A rovat szindik&aacute;l&aacute;sa',
+'syndiquer_site' => 'Az eg&eacute;sz honlap szindik&aacute;l&aacute;sa',
+
+
+// T
+'texte_lettre_information' => '&Iacute;me a honlap h&iacute;rlevele',
+'texte_lettre_information_2' => 'Ez a h&iacute;rlev&eacute;l a cikkeket, ill. h&iacute;reket &ouml;sszefoglalja az&oacute;ta',
+
+
+// V
+'ver_imprimer' => 'Nyomtathat&oacute; v&aacute;ltozat',
+'voir_en_ligne' => 'L&aacute;tni &eacute;l&#337;ben'
+
+);
+
+
+?>

Index: public_it.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_it.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_it.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_it.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Home page',
-'articles' => 'Articoli',
-'articles_auteur' => 'Articoli di questo autore',
-'articles_populaires' => 'Articoli pi&ugrave; letti',
-'articles_recents' => 'Articoli pi&ugrave; recenti',
-'articles_rubrique' => 'Articoli di questa rubrica',
-'aucun_article' => 'Non ci sono articoli a questo indirizzo',
-'aucun_auteur' => 'Non ci sono autori a questo indirizzo',
-'aucun_site' => 'Non ci sono siti a questo indirizzo',
-'aucune_breve' => 'Non ci sono brevi a questo indirizzo',
-'aucune_rubrique' => 'Non ci sono rubriche a questo indirizzo',
-'autres_breves' => 'Altre brevi',
-'autres_groupes_mots_clefs' => 'Altri gruppi di parole chiave',
-'autres_sites' => 'Altri siti',
-
-
-// B
-'bonjour' => 'Salve',
-'breves' => 'Brevi',
-
-
-// C
-'commenter_site' => 'Commenta questo sito',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => 'Ultimo aggiornamento',
-'dernieres_breves' => 'Ultime brevi',
-'derniers_articles' => 'Ultimi articoli',
-'derniers_commentaires' => 'Ultimi commenti',
-'derniers_messages_forum' => 'Ultimi messaggi pubblicati nei forum',
-
-
-// E
-'edition_mode_texte' => 'Versione solo testo di',
-'en_reponse' => 'In risposta a:',
-'en_resume' => 'Riassunto',
-'envoyer_message' => 'Invia un messaggio',
-'espace_prive' => 'Area riservata',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Mappa del sito',
-
-
-// J
-'jours' => 'giorni',
-
-
-// M
-'meme_auteur' => 'Dello stesso autore',
-'meme_rubrique' => 'Nella stessa rubrica',
-'memes_auteurs' => 'Degli stessi autori',
-'message' => 'Messaggio',
-'messages_forum' => 'Messaggi del forum',
-'messages_recents' => 'Messaggi pi&ugrave; recenti del forum',
-'mots_clefs' => 'Parole chiave',
-'mots_clefs_meme_groupe' => 'Parole chiave nello stesso gruppo',
-
-
-// N
-'navigation' => 'Navigazione',
-'nom' => 'Cognome',
-'nouveautes' => 'Le novit&agrave;',
-'nouveautes_web' => 'Novit&agrave; sul Web',
-'nouveaux_articles' => 'Nuovi articoli',
-'nouvelles_breves' => 'Nuove brevi',
-
-
-// P
-'page_precedente' => 'pagina precedente',
-'page_suivante' => 'pagina successiva',
-'par_auteur' => 'di ',
-'participer_site' => '&Egrave; possibile partecipare alla vita di questo sito e proporre degli articoli iscrivendosi qui sotto. Verr&agrave; spedito immediatamente un email con il codice di accesso all\'area riservata del sito.',
-'plan_site' => 'Mappa del sito',
-'popularite' => 'Popolarit&agrave;',
-'poster_message' => 'Inviare un messaggio',
-'proposer_site' => '&Egrave; possibile proporre un sito da aggiungere a questa rubrica:',
-
-
-// R
-'repondre_article' => 'Rispondere all\'articolo',
-'repondre_breve' => 'Rispondere a questa breve',
-'repondre_message' => 'Rispondere al messaggio',
-'resultats_recherche' => 'Risultati della ricerca',
-'retour_debut_forums' => 'Tornare all\'inizio dei forum',
-'rubrique' => 'Rubrica',
-'rubriques' => 'Rubriche',
-
-
-// S
-'signatures_petition' => 'Firme',
-'site_realise_avec_spip' => 'Sito realizzato con SPIP',
-'sites_web' => 'Siti Web',
-'sous_rubriques' => 'Sottorubriche',
-'suite' => 'segue',
-'sur_web' => 'Sul Web',
-'syndiquer_rubrique' => 'Mettere in syndication questa rubrica',
-'syndiquer_site' => 'Mettere in syndication tutto il sito',
-
-
-// T
-'texte_lettre_information' => 'Newsletter del sito',
-'texte_lettre_information_2' => 'Questa lettera recensisce gli articoli e le brevi pubblicati a partire dal',
-
-
-// V
-'ver_imprimer' => 'Versione per la stampa',
-'voir_en_ligne' => 'Vedi on line'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Home page',
+'articles' => 'Articoli',
+'articles_auteur' => 'Articoli di questo autore',
+'articles_populaires' => 'Articoli pi&ugrave; letti',
+'articles_recents' => 'Articoli pi&ugrave; recenti',
+'articles_rubrique' => 'Articoli di questa rubrica',
+'aucun_article' => 'Non ci sono articoli a questo indirizzo',
+'aucun_auteur' => 'Non ci sono autori a questo indirizzo',
+'aucun_site' => 'Non ci sono siti a questo indirizzo',
+'aucune_breve' => 'Non ci sono brevi a questo indirizzo',
+'aucune_rubrique' => 'Non ci sono rubriche a questo indirizzo',
+'autres_breves' => 'Altre brevi',
+'autres_groupes_mots_clefs' => 'Altri gruppi di parole chiave',
+'autres_sites' => 'Altri siti',
+
+
+// B
+'bonjour' => 'Salve',
+'breves' => 'Brevi',
+
+
+// C
+'commenter_site' => 'Commenta questo sito',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => 'Ultimo aggiornamento',
+'dernieres_breves' => 'Ultime brevi',
+'derniers_articles' => 'Ultimi articoli',
+'derniers_commentaires' => 'Ultimi commenti',
+'derniers_messages_forum' => 'Ultimi messaggi pubblicati nei forum',
+
+
+// E
+'edition_mode_texte' => 'Versione solo testo di',
+'en_reponse' => 'In risposta a:',
+'en_resume' => 'Riassunto',
+'envoyer_message' => 'Invia un messaggio',
+'espace_prive' => 'Area riservata',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Mappa del sito',
+
+
+// J
+'jours' => 'giorni',
+
+
+// M
+'meme_auteur' => 'Dello stesso autore',
+'meme_rubrique' => 'Nella stessa rubrica',
+'memes_auteurs' => 'Degli stessi autori',
+'message' => 'Messaggio',
+'messages_forum' => 'Messaggi del forum',
+'messages_recents' => 'Messaggi pi&ugrave; recenti del forum',
+'mots_clefs' => 'Parole chiave',
+'mots_clefs_meme_groupe' => 'Parole chiave nello stesso gruppo',
+
+
+// N
+'navigation' => 'Navigazione',
+'nom' => 'Cognome',
+'nouveautes' => 'Le novit&agrave;',
+'nouveautes_web' => 'Novit&agrave; sul Web',
+'nouveaux_articles' => 'Nuovi articoli',
+'nouvelles_breves' => 'Nuove brevi',
+
+
+// P
+'page_precedente' => 'pagina precedente',
+'page_suivante' => 'pagina successiva',
+'par_auteur' => 'di ',
+'participer_site' => '&Egrave; possibile partecipare alla vita di questo sito e proporre degli articoli iscrivendosi qui sotto. Verr&agrave; spedito immediatamente un email con il codice di accesso all\'area riservata del sito.',
+'plan_site' => 'Mappa del sito',
+'popularite' => 'Popolarit&agrave;',
+'poster_message' => 'Inviare un messaggio',
+'proposer_site' => '&Egrave; possibile proporre un sito da aggiungere a questa rubrica:',
+
+
+// R
+'repondre_article' => 'Rispondere all\'articolo',
+'repondre_breve' => 'Rispondere a questa breve',
+'repondre_message' => 'Rispondere al messaggio',
+'resultats_recherche' => 'Risultati della ricerca',
+'retour_debut_forums' => 'Tornare all\'inizio dei forum',
+'rubrique' => 'Rubrica',
+'rubriques' => 'Rubriche',
+
+
+// S
+'signatures_petition' => 'Firme',
+'site_realise_avec_spip' => 'Sito realizzato con SPIP',
+'sites_web' => 'Siti Web',
+'sous_rubriques' => 'Sottorubriche',
+'suite' => 'segue',
+'sur_web' => 'Sul Web',
+'syndiquer_rubrique' => 'Mettere in syndication questa rubrica',
+'syndiquer_site' => 'Mettere in syndication tutto il sito',
+
+
+// T
+'texte_lettre_information' => 'Newsletter del sito',
+'texte_lettre_information_2' => 'Questa lettera recensisce gli articoli e le brevi pubblicati a partire dal',
+
+
+// V
+'ver_imprimer' => 'Versione per la stampa',
+'voir_en_ligne' => 'Vedi on line'
+
+);
+
+
+?>

Index: public_lb.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_lb.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_lb.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_lb.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Homepage vum Site',
-'articles' => 'Artikelen',
-'articles_auteur' => 'Artikelen vun d&euml;sem Auteur',
-'articles_populaires' => 'D&eacute;i bel&eacute;iwsten Artikelen',
-'articles_recents' => 'D&eacute;i rezent Artikelen',
-'articles_rubrique' => 'Artikelen aus d&euml;ser Rubrik',
-'aucun_article' => 'Et g&euml;tt keen Artikel op d&euml;ser Adress',
-'aucun_auteur' => 'Et g&euml;tt keen Auteur op d&euml;ser Adress',
-'aucun_site' => 'Et g&euml;tt keen Site op d&euml;ser Adress',
-'aucune_breve' => 'Et g&euml;tt keng Kuerzmeldung op d&euml;ser Adress',
-'aucune_rubrique' => 'Et g&euml;tt keng Rubrik op d&euml;ser Adress',
-'autres_breves' => 'Aner Kuerzmeldungen',
-'autres_groupes_mots_clefs' => 'Aner Schl&euml;sselwieder-Gruppen',
-'autres_sites' => 'Aner Siten',
-
-
-// B
-'bonjour' => 'Bonjour',
-'breves' => 'Kuerzmeldungen',
-
-
-// C
-'commenter_site' => 'D&euml;sen Site komment&eacute;ieren',
-
-
-// D
-'date' => 'Datum',
-'dernier_ajout' => 'L&auml;scht &Auml;nnerung',
-'dernieres_breves' => 'L&auml;scht Kuerzmeldungen',
-'derniers_articles' => 'L&auml;scht Artikelen',
-'derniers_commentaires' => 'L&auml;scht Commentairen',
-'derniers_messages_forum' => 'L&auml;scht Messagen aus de Forum\'en',
-
-
-// E
-'edition_mode_texte' => 'Editioun am Text-Modus vun',
-'en_reponse' => 'Als &Auml;ntwert un:',
-'en_resume' => 'Am R&eacute;sum&eacute;',
-'envoyer_message' => 'E Message sch&eacute;cken',
-'espace_prive' => 'Privaten Deel',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Struktur vum Site',
-
-
-// J
-'jours' => 'Deg',
-
-
-// M
-'meme_auteur' => 'Vum selwechten Auteur',
-'meme_rubrique' => 'An der selwechter Rubrik',
-'memes_auteurs' => 'Vun de selwechten Auteuren',
-'message' => 'Message',
-'messages_forum' => 'Messagen vum Forum',
-'messages_recents' => 'L&auml;scht Messagen aus de Forum\'en',
-'mots_clefs' => 'Schl&euml;sselwieder',
-'mots_clefs_meme_groupe' => 'Schl&euml;sselwieder vum selwechten Grupp',
-
-
-// N
-'navigation' => 'Navigatioun',
-'nom' => 'Numm',
-'nouveautes' => 'Neiegkeeten',
-'nouveautes_web' => 'Internet-Neiegkeeten',
-'nouveaux_articles' => 'Nei Artikelen',
-'nouvelles_breves' => 'Nei Kuerzmeldungen',
-
-
-// P
-'page_precedente' => 'l&auml;scht S&auml;it',
-'page_suivante' => 'n&auml;chst S&auml;it',
-'par_auteur' => 'vum',
-'participer_site' => 'Dir k&euml;nnt un d&euml;sem Site matschaffen an &auml;r Artikelen propos&eacute;ieren andem der Iech hei aschreiwt. Dir kritt direkt en Email mat &auml;rem Login fir de privaten Deel vum Site.',
-'plan_site' => 'Plang vum Site',
-'popularite' => 'Popularit&eacute;it',
-'poster_message' => 'E Message sch&eacute;cken',
-'proposer_site' => 'Dir k&euml;nnt e Site fir d&euml;s Rubrik uginn:',
-
-
-// R
-'repondre_article' => 'Op d&euml;sen Artikel &auml;ntweren',
-'repondre_breve' => 'Op d&euml;s Kuerzmeldung &auml;ntweren',
-'repondre_message' => 'Op d&euml;sen Message &auml;ntweren',
-'resultats_recherche' => 'Resultater vun der Sich',
-'retour_debut_forums' => 'Zer&euml;ck op den Ufank vun de Forum\'en',
-'rubrique' => 'Rubrik',
-'rubriques' => 'Rubriken',
-
-
-// S
-'signatures_petition' => '&Euml;nnerschr&euml;ften',
-'site_realise_avec_spip' => 'D&euml;se Site ass mat SPIP realis&eacute;iert',
-'sites_web' => 'Internet-Siten',
-'sous_rubriques' => '&Euml;nner-Rubriken',
-'suite' => 'weider',
-'sur_web' => 'Um Internet',
-'syndiquer_rubrique' => 'D&euml;s Rubrik syndiqu&eacute;ieren',
-'syndiquer_site' => 'De ganzen Site syndiqu&eacute;ieren',
-
-
-// T
-'texte_lettre_information' => 'Hei ass d\'Newsletter vum Site',
-'texte_lettre_information_2' => 'D&euml;s Newsletter ass eng L&euml;scht vun den Artikelen a Kuerzmeldungen z&euml;nter',
-
-
-// V
-'ver_imprimer' => 'Drock-Versioun',
-'voir_en_ligne' => 'Online gesinn'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Homepage vum Site',
+'articles' => 'Artikelen',
+'articles_auteur' => 'Artikelen vun d&euml;sem Auteur',
+'articles_populaires' => 'D&eacute;i bel&eacute;iwsten Artikelen',
+'articles_recents' => 'D&eacute;i rezent Artikelen',
+'articles_rubrique' => 'Artikelen aus d&euml;ser Rubrik',
+'aucun_article' => 'Et g&euml;tt keen Artikel op d&euml;ser Adress',
+'aucun_auteur' => 'Et g&euml;tt keen Auteur op d&euml;ser Adress',
+'aucun_site' => 'Et g&euml;tt keen Site op d&euml;ser Adress',
+'aucune_breve' => 'Et g&euml;tt keng Kuerzmeldung op d&euml;ser Adress',
+'aucune_rubrique' => 'Et g&euml;tt keng Rubrik op d&euml;ser Adress',
+'autres_breves' => 'Aner Kuerzmeldungen',
+'autres_groupes_mots_clefs' => 'Aner Schl&euml;sselwieder-Gruppen',
+'autres_sites' => 'Aner Siten',
+
+
+// B
+'bonjour' => 'Bonjour',
+'breves' => 'Kuerzmeldungen',
+
+
+// C
+'commenter_site' => 'D&euml;sen Site komment&eacute;ieren',
+
+
+// D
+'date' => 'Datum',
+'dernier_ajout' => 'L&auml;scht &Auml;nnerung',
+'dernieres_breves' => 'L&auml;scht Kuerzmeldungen',
+'derniers_articles' => 'L&auml;scht Artikelen',
+'derniers_commentaires' => 'L&auml;scht Commentairen',
+'derniers_messages_forum' => 'L&auml;scht Messagen aus de Forum\'en',
+
+
+// E
+'edition_mode_texte' => 'Editioun am Text-Modus vun',
+'en_reponse' => 'Als &Auml;ntwert un:',
+'en_resume' => 'Am R&eacute;sum&eacute;',
+'envoyer_message' => 'E Message sch&eacute;cken',
+'espace_prive' => 'Privaten Deel',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Struktur vum Site',
+
+
+// J
+'jours' => 'Deg',
+
+
+// M
+'meme_auteur' => 'Vum selwechten Auteur',
+'meme_rubrique' => 'An der selwechter Rubrik',
+'memes_auteurs' => 'Vun de selwechten Auteuren',
+'message' => 'Message',
+'messages_forum' => 'Messagen vum Forum',
+'messages_recents' => 'L&auml;scht Messagen aus de Forum\'en',
+'mots_clefs' => 'Schl&euml;sselwieder',
+'mots_clefs_meme_groupe' => 'Schl&euml;sselwieder vum selwechten Grupp',
+
+
+// N
+'navigation' => 'Navigatioun',
+'nom' => 'Numm',
+'nouveautes' => 'Neiegkeeten',
+'nouveautes_web' => 'Internet-Neiegkeeten',
+'nouveaux_articles' => 'Nei Artikelen',
+'nouvelles_breves' => 'Nei Kuerzmeldungen',
+
+
+// P
+'page_precedente' => 'l&auml;scht S&auml;it',
+'page_suivante' => 'n&auml;chst S&auml;it',
+'par_auteur' => 'vum',
+'participer_site' => 'Dir k&euml;nnt un d&euml;sem Site matschaffen an &auml;r Artikelen propos&eacute;ieren andem der Iech hei aschreiwt. Dir kritt direkt en Email mat &auml;rem Login fir de privaten Deel vum Site.',
+'plan_site' => 'Plang vum Site',
+'popularite' => 'Popularit&eacute;it',
+'poster_message' => 'E Message sch&eacute;cken',
+'proposer_site' => 'Dir k&euml;nnt e Site fir d&euml;s Rubrik uginn:',
+
+
+// R
+'repondre_article' => 'Op d&euml;sen Artikel &auml;ntweren',
+'repondre_breve' => 'Op d&euml;s Kuerzmeldung &auml;ntweren',
+'repondre_message' => 'Op d&euml;sen Message &auml;ntweren',
+'resultats_recherche' => 'Resultater vun der Sich',
+'retour_debut_forums' => 'Zer&euml;ck op den Ufank vun de Forum\'en',
+'rubrique' => 'Rubrik',
+'rubriques' => 'Rubriken',
+
+
+// S
+'signatures_petition' => '&Euml;nnerschr&euml;ften',
+'site_realise_avec_spip' => 'D&euml;se Site ass mat SPIP realis&eacute;iert',
+'sites_web' => 'Internet-Siten',
+'sous_rubriques' => '&Euml;nner-Rubriken',
+'suite' => 'weider',
+'sur_web' => 'Um Internet',
+'syndiquer_rubrique' => 'D&euml;s Rubrik syndiqu&eacute;ieren',
+'syndiquer_site' => 'De ganzen Site syndiqu&eacute;ieren',
+
+
+// T
+'texte_lettre_information' => 'Hei ass d\'Newsletter vum Site',
+'texte_lettre_information_2' => 'D&euml;s Newsletter ass eng L&euml;scht vun den Artikelen a Kuerzmeldungen z&euml;nter',
+
+
+// V
+'ver_imprimer' => 'Drock-Versioun',
+'voir_en_ligne' => 'Online gesinn'
+
+);
+
+
+?>

Index: public_nl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_nl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_nl.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_nl.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Beginpagina',
-'articles' => 'Artikels',
-'articles_auteur' => 'Artikels van deze auteur',
-'articles_populaires' => 'Meest bekeken artikels',
-'articles_recents' => 'Meest recente artikels',
-'articles_rubrique' => 'Artikels van deze rubriek',
-'aucun_article' => 'Op dit adres is geen artikel te vinden',
-'aucun_auteur' => 'Op dit adres is geen auteur te vinden',
-'aucun_site' => 'Op dit adres is geen site te vinden',
-'aucune_breve' => 'Op dit adres is geen nieuwsbericht te vinden',
-'aucune_rubrique' => 'Op dit adres is geen rubriek te vinden',
-'autres_breves' => 'Andere nieuwsberichten',
-'autres_groupes_mots_clefs' => 'Andere groepen trefwoorden',
-'autres_sites' => 'Andere sites',
-
-
-// B
-'bonjour' => 'Hallo',
-'breves' => 'Nieuwsberichten',
-
-
-// C
-'commenter_site' => 'Commentaar geven op de site',
-
-
-// D
-'date' => 'Datum',
-'dernier_ajout' => 'Laatste toevoeging',
-'dernieres_breves' => 'Laatste nieuwsberichten',
-'derniers_articles' => 'Laatste artikels',
-'derniers_commentaires' => 'Laatste commentaren',
-'derniers_messages_forum' => 'Laatst gepubliceerde berichten in het forum',
-
-
-// E
-'edition_mode_texte' => 'Uitgave in tekstmodus van',
-'en_reponse' => 'Als antwoord op&nbsp;:',
-'en_resume' => 'Samengevat',
-'envoyer_message' => 'Een bericht sturen',
-'espace_prive' => 'Priv&eacute;-site',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Structuur van de site',
-
-
-// J
-'jours' => 'dagen',
-
-
-// M
-'meme_auteur' => 'Van dezelfde auteur',
-'meme_rubrique' => 'In dezelfde rubriek',
-'memes_auteurs' => 'Van dezelfde auteurs',
-'message' => 'Bericht',
-'messages_forum' => 'Berichten van het forum',
-'messages_recents' => 'Meest recente berichten van de forums',
-'mots_clefs' => 'Trefwoorden',
-'mots_clefs_meme_groupe' => 'Trefwoorden van dezelfde groep',
-
-
-// N
-'navigation' => 'Navigatie',
-'nom' => 'Naam',
-'nouveautes' => 'Nieuwigheden',
-'nouveautes_web' => 'Nieuwigheden op het Web',
-'nouveaux_articles' => 'Nieuwe artikels',
-'nouvelles_breves' => 'Nieuwe nieuwsberichten',
-
-
-// P
-'page_precedente' => 'vorige pagina',
-'page_suivante' => 'volgende pagina',
-'par_auteur' => 'door ',
-'participer_site' => 'Je kan bijdragen tot deze site door je eigen artikels voor te stellen als je je hieronder inschrijft. Je krijgt meteen een e-mail met daarin de toegangscode voor de priv&eacute;-deel van de site.',
-'plan_site' => 'Overzicht van de site',
-'popularite' => 'Populariteit',
-'poster_message' => 'Een bericht plaatsen',
-'proposer_site' => 'Je kan voorstellen een site in deze rubriek op te nemen&nbsp;:',
-
-
-// R
-'repondre_article' => 'Dit artikel beantwoorden',
-'repondre_breve' => 'Dit nieuwsbericht beantwoorden',
-'repondre_message' => 'Dit bericht beantwoorden',
-'resultats_recherche' => 'Resultaten van de zoekopdracht',
-'retour_debut_forums' => 'Terug naar de startpagina van de forums',
-'rubrique' => 'Rubriek',
-'rubriques' => 'Rubrieken',
-
-
-// S
-'signatures_petition' => 'Ondertekeningen',
-'site_realise_avec_spip' => 'Site gebouwd met SPIP',
-'sites_web' => 'Websites',
-'sous_rubriques' => 'Subrubrieken',
-'suite' => 'vervolg',
-'sur_web' => 'Op het web',
-'syndiquer_rubrique' => 'Nieuws overnemen uit deze rubriek',
-'syndiquer_site' => 'Nieuws overnemen van de hele site',
-
-
-// T
-'texte_lettre_information' => 'Ziehier de nieuwsbrief van de site',
-'texte_lettre_information_2' => 'De nieuwsbrief vermedlt alle artikels en berichten gepubliceerd sinds',
-
-
-// V
-'ver_imprimer' => 'Afdrukversie',
-'voir_en_ligne' => 'Online bekijken'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Beginpagina',
+'articles' => 'Artikels',
+'articles_auteur' => 'Artikels van deze auteur',
+'articles_populaires' => 'Meest bekeken artikels',
+'articles_recents' => 'Meest recente artikels',
+'articles_rubrique' => 'Artikels van deze rubriek',
+'aucun_article' => 'Op dit adres is geen artikel te vinden',
+'aucun_auteur' => 'Op dit adres is geen auteur te vinden',
+'aucun_site' => 'Op dit adres is geen site te vinden',
+'aucune_breve' => 'Op dit adres is geen nieuwsbericht te vinden',
+'aucune_rubrique' => 'Op dit adres is geen rubriek te vinden',
+'autres_breves' => 'Andere nieuwsberichten',
+'autres_groupes_mots_clefs' => 'Andere groepen trefwoorden',
+'autres_sites' => 'Andere sites',
+
+
+// B
+'bonjour' => 'Hallo',
+'breves' => 'Nieuwsberichten',
+
+
+// C
+'commenter_site' => 'Commentaar geven op de site',
+
+
+// D
+'date' => 'Datum',
+'dernier_ajout' => 'Laatste toevoeging',
+'dernieres_breves' => 'Laatste nieuwsberichten',
+'derniers_articles' => 'Laatste artikels',
+'derniers_commentaires' => 'Laatste commentaren',
+'derniers_messages_forum' => 'Laatst gepubliceerde berichten in het forum',
+
+
+// E
+'edition_mode_texte' => 'Uitgave in tekstmodus van',
+'en_reponse' => 'Als antwoord op&nbsp;:',
+'en_resume' => 'Samengevat',
+'envoyer_message' => 'Een bericht sturen',
+'espace_prive' => 'Priv&eacute;-site',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Structuur van de site',
+
+
+// J
+'jours' => 'dagen',
+
+
+// M
+'meme_auteur' => 'Van dezelfde auteur',
+'meme_rubrique' => 'In dezelfde rubriek',
+'memes_auteurs' => 'Van dezelfde auteurs',
+'message' => 'Bericht',
+'messages_forum' => 'Berichten van het forum',
+'messages_recents' => 'Meest recente berichten van de forums',
+'mots_clefs' => 'Trefwoorden',
+'mots_clefs_meme_groupe' => 'Trefwoorden van dezelfde groep',
+
+
+// N
+'navigation' => 'Navigatie',
+'nom' => 'Naam',
+'nouveautes' => 'Nieuwigheden',
+'nouveautes_web' => 'Nieuwigheden op het Web',
+'nouveaux_articles' => 'Nieuwe artikels',
+'nouvelles_breves' => 'Nieuwe nieuwsberichten',
+
+
+// P
+'page_precedente' => 'vorige pagina',
+'page_suivante' => 'volgende pagina',
+'par_auteur' => 'door ',
+'participer_site' => 'Je kan bijdragen tot deze site door je eigen artikels voor te stellen als je je hieronder inschrijft. Je krijgt meteen een e-mail met daarin de toegangscode voor de priv&eacute;-deel van de site.',
+'plan_site' => 'Overzicht van de site',
+'popularite' => 'Populariteit',
+'poster_message' => 'Een bericht plaatsen',
+'proposer_site' => 'Je kan voorstellen een site in deze rubriek op te nemen&nbsp;:',
+
+
+// R
+'repondre_article' => 'Dit artikel beantwoorden',
+'repondre_breve' => 'Dit nieuwsbericht beantwoorden',
+'repondre_message' => 'Dit bericht beantwoorden',
+'resultats_recherche' => 'Resultaten van de zoekopdracht',
+'retour_debut_forums' => 'Terug naar de startpagina van de forums',
+'rubrique' => 'Rubriek',
+'rubriques' => 'Rubrieken',
+
+
+// S
+'signatures_petition' => 'Ondertekeningen',
+'site_realise_avec_spip' => 'Site gebouwd met SPIP',
+'sites_web' => 'Websites',
+'sous_rubriques' => 'Subrubrieken',
+'suite' => 'vervolg',
+'sur_web' => 'Op het web',
+'syndiquer_rubrique' => 'Nieuws overnemen uit deze rubriek',
+'syndiquer_site' => 'Nieuws overnemen van de hele site',
+
+
+// T
+'texte_lettre_information' => 'Ziehier de nieuwsbrief van de site',
+'texte_lettre_information_2' => 'De nieuwsbrief vermedlt alle artikels en berichten gepubliceerd sinds',
+
+
+// V
+'ver_imprimer' => 'Afdrukversie',
+'voir_en_ligne' => 'Online bekijken'
+
+);
+
+
+?>

Index: public_oc_auv.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_oc_auv.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_oc_auv.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_oc_auv.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,126 +1,126 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Acu&egrave;lh dau sit',
-'articles' => 'Articles',
-'articles_auteur' => 'Articles d\'aquel autor',
-'articles_populaires' => 'Los articles mai populars',
-'articles_recents' => 'Los articles mai recents',
-'articles_rubrique' => 'Articles d\'aquela rubrica',
-'aucun_article' => 'I a ges d\'article a aquela adre&ccedil;a ',
-'aucun_auteur' => 'I a ges d\'autor a aquela adre&ccedil;a ',
-'aucun_site' => 'I a ges de sit a aquela adre&ccedil;a ',
-'aucune_breve' => 'I a ges de br&egrave;va a aquela adre&ccedil;a ',
-'aucune_rubrique' => 'I a ges de rubrica a aquela adre&ccedil;a ',
-'autres_breves' => 'Autras br&egrave;vas',
-'autres_groupes_mots_clefs' => 'Autres grops de mots claus',
-'autres_sites' => 'Autres sits',
-
-
-// B
-'bonjour' => 'Bonjorn',
-'breves' => 'Br&egrave;vas',
-
-
-// C
-'commenter_site' => 'Comentar aquel sit',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => 'Darr&egrave;ir apondon',
-'dernieres_breves' => 'Darr&egrave;iras br&egrave;vas',
-'derniers_articles' => 'Darr&egrave;irs articles',
-'derniers_commentaires' => 'Darr&egrave;irs comentaris',
-'derniers_messages_forum' => 'Darr&egrave;irs messatges publicats dins los forums',
-
-
-// E
-'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
-'en_reponse' => 'En responsa a:',
-'en_resume' => 'En resumit',
-'envoyer_message' => 'Mandar un messatge',
-'espace_prive' => 'Espaci privat',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Ierarquia dau sit',
-
-
-// J
-'jours' => 'jorns',
-
-
-// M
-'meme_auteur' => 'Dau mesme autor',
-'meme_rubrique' => 'Dins la mesma rubrica',
-'memes_auteurs' => 'Daus mesmes autors',
-'message' => 'Messatge',
-'messages_forum' => 'Messatges de forum',
-'messages_recents' => 'Los messatges de forums mai recents',
-'mots_clefs' => 'Mots claus',
-'mots_clefs_meme_groupe' => 'Mots claus dins lo mesme grop',
-
-
-// N
-'navigation' => 'Navigacion',
-'nom' => 'Nom',
-'nouveautes' => 'Las novetats',
-'nouveautes_web' => 'Novetats sobre lo web',
-'nouveaux_articles' => 'Articles nu&ograve;us',
-'nouvelles_breves' => 'Br&egrave;vas nu&ograve;vas',
-
-
-// P
-'page_precedente' => 'pagina precedenta',
-'page_suivante' => 'pagina seguenta',
-'par_auteur' => 'per&nbsp;',
-'participer_site' => 'Pod&egrave;tz participar a la vida d\'aquel sit e prepausar los articles v&ograve;stres en vos inscriure &ccedil;ai sos. Recebretz tot sit&ograve;st un e-mail que vos indicar&aacute; v&ograve;stres c&ograve;des per accedir a l\'espaci privat dau sit.',
-'plan_site' => 'Plan dau sit',
-'popularite' => 'Popularitat',
-'poster_message' => 'Postar un messatge',
-
-
-// R
-'repondre_article' => 'Respondre a aquel article',
-'repondre_breve' => 'Respondre a aquela br&egrave;va',
-'repondre_message' => 'Respondre a aquel messatge',
-'resultats_recherche' => 'Resultats de la rec&egrave;rcha',
-'retour_debut_forums' => 'Retorn au comen&ccedil;ament daus forums',
-'rubrique' => 'Rubrica',
-'rubriques' => 'Rubricas',
-
-
-// S
-'signatures_petition' => 'Signaturas',
-'site_realise_avec_spip' => 'Sit realizat amb SPIP',
-'sites_web' => 'Sits web',
-'sous_rubriques' => 'Sosrubricas',
-'suite' => 'seguda',
-'sur_web' => 'Sobre lo web',
-'syndiquer_rubrique' => 'Sindicar aquela rubrica',
-'syndiquer_site' => 'Sindicar tot lo sit',
-
-
-// T
-'texte_lettre_information' => 'Vaic&iacute; la letra d\'informacion dau sit',
-'texte_lettre_information_2' => 'Aquela letra recensa los articles e br&egrave;vas publicats dempu&egrave;i',
-
-
-// V
-'ver_imprimer' => 'Version d\'estampar',
-'voir_en_ligne' => 'Vejatz en linha'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Acu&egrave;lh dau sit',
+'articles' => 'Articles',
+'articles_auteur' => 'Articles d\'aquel autor',
+'articles_populaires' => 'Los articles mai populars',
+'articles_recents' => 'Los articles mai recents',
+'articles_rubrique' => 'Articles d\'aquela rubrica',
+'aucun_article' => 'I a ges d\'article a aquela adre&ccedil;a ',
+'aucun_auteur' => 'I a ges d\'autor a aquela adre&ccedil;a ',
+'aucun_site' => 'I a ges de sit a aquela adre&ccedil;a ',
+'aucune_breve' => 'I a ges de br&egrave;va a aquela adre&ccedil;a ',
+'aucune_rubrique' => 'I a ges de rubrica a aquela adre&ccedil;a ',
+'autres_breves' => 'Autras br&egrave;vas',
+'autres_groupes_mots_clefs' => 'Autres grops de mots claus',
+'autres_sites' => 'Autres sits',
+
+
+// B
+'bonjour' => 'Bonjorn',
+'breves' => 'Br&egrave;vas',
+
+
+// C
+'commenter_site' => 'Comentar aquel sit',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => 'Darr&egrave;ir apondon',
+'dernieres_breves' => 'Darr&egrave;iras br&egrave;vas',
+'derniers_articles' => 'Darr&egrave;irs articles',
+'derniers_commentaires' => 'Darr&egrave;irs comentaris',
+'derniers_messages_forum' => 'Darr&egrave;irs messatges publicats dins los forums',
+
+
+// E
+'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
+'en_reponse' => 'En responsa a:',
+'en_resume' => 'En resumit',
+'envoyer_message' => 'Mandar un messatge',
+'espace_prive' => 'Espaci privat',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Ierarquia dau sit',
+
+
+// J
+'jours' => 'jorns',
+
+
+// M
+'meme_auteur' => 'Dau mesme autor',
+'meme_rubrique' => 'Dins la mesma rubrica',
+'memes_auteurs' => 'Daus mesmes autors',
+'message' => 'Messatge',
+'messages_forum' => 'Messatges de forum',
+'messages_recents' => 'Los messatges de forums mai recents',
+'mots_clefs' => 'Mots claus',
+'mots_clefs_meme_groupe' => 'Mots claus dins lo mesme grop',
+
+
+// N
+'navigation' => 'Navigacion',
+'nom' => 'Nom',
+'nouveautes' => 'Las novetats',
+'nouveautes_web' => 'Novetats sobre lo web',
+'nouveaux_articles' => 'Articles nu&ograve;us',
+'nouvelles_breves' => 'Br&egrave;vas nu&ograve;vas',
+
+
+// P
+'page_precedente' => 'pagina precedenta',
+'page_suivante' => 'pagina seguenta',
+'par_auteur' => 'per&nbsp;',
+'participer_site' => 'Pod&egrave;tz participar a la vida d\'aquel sit e prepausar los articles v&ograve;stres en vos inscriure &ccedil;ai sos. Recebretz tot sit&ograve;st un e-mail que vos indicar&aacute; v&ograve;stres c&ograve;des per accedir a l\'espaci privat dau sit.',
+'plan_site' => 'Plan dau sit',
+'popularite' => 'Popularitat',
+'poster_message' => 'Postar un messatge',
+
+
+// R
+'repondre_article' => 'Respondre a aquel article',
+'repondre_breve' => 'Respondre a aquela br&egrave;va',
+'repondre_message' => 'Respondre a aquel messatge',
+'resultats_recherche' => 'Resultats de la rec&egrave;rcha',
+'retour_debut_forums' => 'Retorn au comen&ccedil;ament daus forums',
+'rubrique' => 'Rubrica',
+'rubriques' => 'Rubricas',
+
+
+// S
+'signatures_petition' => 'Signaturas',
+'site_realise_avec_spip' => 'Sit realizat amb SPIP',
+'sites_web' => 'Sits web',
+'sous_rubriques' => 'Sosrubricas',
+'suite' => 'seguda',
+'sur_web' => 'Sobre lo web',
+'syndiquer_rubrique' => 'Sindicar aquela rubrica',
+'syndiquer_site' => 'Sindicar tot lo sit',
+
+
+// T
+'texte_lettre_information' => 'Vaic&iacute; la letra d\'informacion dau sit',
+'texte_lettre_information_2' => 'Aquela letra recensa los articles e br&egrave;vas publicats dempu&egrave;i',
+
+
+// V
+'ver_imprimer' => 'Version d\'estampar',
+'voir_en_ligne' => 'Vejatz en linha'
+
+);
+
+
+?>

Index: public_oc_lnc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_oc_lnc.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_oc_lnc.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_oc_lnc.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,126 +1,126 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Acu&egrave;lh del sit',
-'articles' => 'Articles',
-'articles_auteur' => 'Articles d\'aquel autor',
-'articles_populaires' => 'Los articles mai populars',
-'articles_recents' => 'Los articles mai recents',
-'articles_rubrique' => 'Articles d\'aquela rubrica',
-'aucun_article' => 'I a pas cap d\'article a aquela adrei&ccedil;a ',
-'aucun_auteur' => 'I a pas cap d\'autor a aquela adrei&ccedil;a ',
-'aucun_site' => 'I a pas cap de sit a aquela adrei&ccedil;a ',
-'aucune_breve' => 'I a pas cap de br&egrave;va a aquela adrei&ccedil;a ',
-'aucune_rubrique' => 'I a pas cap de rubrica a aquela adrei&ccedil;a ',
-'autres_breves' => 'Autras br&egrave;vas',
-'autres_groupes_mots_clefs' => 'Autres grops de mots claus',
-'autres_sites' => 'Autres sits',
-
-
-// B
-'bonjour' => 'Adieu-siatz',
-'breves' => 'Br&egrave;vas',
-
-
-// C
-'commenter_site' => 'Comentar aquel sit',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => 'Darri&egrave;r apondon',
-'dernieres_breves' => 'Darri&egrave;ras br&egrave;vas',
-'derniers_articles' => 'Darri&egrave;rs articles',
-'derniers_commentaires' => 'Darri&egrave;rs comentaris',
-'derniers_messages_forum' => 'Darri&egrave;rs messatges publicats dins los forums',
-
-
-// E
-'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
-'en_reponse' => 'En responsa a:',
-'en_resume' => 'En resumit',
-'envoyer_message' => 'Mandar un messatge',
-'espace_prive' => 'Espaci privat',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Ierarquia del sit',
-
-
-// J
-'jours' => 'jorns',
-
-
-// M
-'meme_auteur' => 'Del meteis autor',
-'meme_rubrique' => 'Dins la meteissa rubrica',
-'memes_auteurs' => 'Dels meteisses autors',
-'message' => 'Messatge',
-'messages_forum' => 'Messatges de forum',
-'messages_recents' => 'Los messatges de forums mai recents',
-'mots_clefs' => 'Mots claus',
-'mots_clefs_meme_groupe' => 'Mots claus dins lo meteis grop',
-
-
-// N
-'navigation' => 'Navigacion',
-'nom' => 'Nom',
-'nouveautes' => 'Las novetats',
-'nouveautes_web' => 'Novetats subre lo web',
-'nouveaux_articles' => 'Articles n&ograve;us',
-'nouvelles_breves' => 'Br&egrave;vas n&ograve;vas',
-
-
-// P
-'page_precedente' => 'pagina precedenta',
-'page_suivante' => 'pagina seguenta',
-'par_auteur' => 'per&nbsp;',
-'participer_site' => 'Pod&egrave;tz participar a la vida d\'aquel sit e prepausar los articles v&ograve;stres en vos inscriure &ccedil;ai jos. Recebretz c&ograve;p sec un e-mail que vos indicar&agrave; v&ograve;stres c&ograve;des per accedir a l\'espaci privat del sit.',
-'plan_site' => 'Plan del sit',
-'popularite' => 'Popularitat',
-'poster_message' => 'Postar un messatge',
-
-
-// R
-'repondre_article' => 'Respondre a aquel article',
-'repondre_breve' => 'Respondre a aquela br&egrave;va',
-'repondre_message' => 'Respondre a aquel messatge',
-'resultats_recherche' => 'Resultats de la rec&egrave;rca',
-'retour_debut_forums' => 'Retorn al comen&ccedil;ament dels forums',
-'rubrique' => 'Rubrica',
-'rubriques' => 'Rubricas',
-
-
-// S
-'signatures_petition' => 'Signaturas',
-'site_realise_avec_spip' => 'Sit realizat amb SPIP',
-'sites_web' => 'Sits web',
-'sous_rubriques' => 'Sosrubricas',
-'suite' => 'seguida',
-'sur_web' => 'Subre lo web',
-'syndiquer_rubrique' => 'Sindicar aquela rubrica',
-'syndiquer_site' => 'Sindicar tot lo sit',
-
-
-// T
-'texte_lettre_information' => 'Vaic&iacute; la letra d\'informacion del sit',
-'texte_lettre_information_2' => 'Aquela letra recensa los articles e br&egrave;vas publicats dempu&egrave;i',
-
-
-// V
-'ver_imprimer' => 'Version d\'estampar',
-'voir_en_ligne' => 'Vejatz en linha'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Acu&egrave;lh del sit',
+'articles' => 'Articles',
+'articles_auteur' => 'Articles d\'aquel autor',
+'articles_populaires' => 'Los articles mai populars',
+'articles_recents' => 'Los articles mai recents',
+'articles_rubrique' => 'Articles d\'aquela rubrica',
+'aucun_article' => 'I a pas cap d\'article a aquela adrei&ccedil;a ',
+'aucun_auteur' => 'I a pas cap d\'autor a aquela adrei&ccedil;a ',
+'aucun_site' => 'I a pas cap de sit a aquela adrei&ccedil;a ',
+'aucune_breve' => 'I a pas cap de br&egrave;va a aquela adrei&ccedil;a ',
+'aucune_rubrique' => 'I a pas cap de rubrica a aquela adrei&ccedil;a ',
+'autres_breves' => 'Autras br&egrave;vas',
+'autres_groupes_mots_clefs' => 'Autres grops de mots claus',
+'autres_sites' => 'Autres sits',
+
+
+// B
+'bonjour' => 'Adieu-siatz',
+'breves' => 'Br&egrave;vas',
+
+
+// C
+'commenter_site' => 'Comentar aquel sit',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => 'Darri&egrave;r apondon',
+'dernieres_breves' => 'Darri&egrave;ras br&egrave;vas',
+'derniers_articles' => 'Darri&egrave;rs articles',
+'derniers_commentaires' => 'Darri&egrave;rs comentaris',
+'derniers_messages_forum' => 'Darri&egrave;rs messatges publicats dins los forums',
+
+
+// E
+'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
+'en_reponse' => 'En responsa a:',
+'en_resume' => 'En resumit',
+'envoyer_message' => 'Mandar un messatge',
+'espace_prive' => 'Espaci privat',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Ierarquia del sit',
+
+
+// J
+'jours' => 'jorns',
+
+
+// M
+'meme_auteur' => 'Del meteis autor',
+'meme_rubrique' => 'Dins la meteissa rubrica',
+'memes_auteurs' => 'Dels meteisses autors',
+'message' => 'Messatge',
+'messages_forum' => 'Messatges de forum',
+'messages_recents' => 'Los messatges de forums mai recents',
+'mots_clefs' => 'Mots claus',
+'mots_clefs_meme_groupe' => 'Mots claus dins lo meteis grop',
+
+
+// N
+'navigation' => 'Navigacion',
+'nom' => 'Nom',
+'nouveautes' => 'Las novetats',
+'nouveautes_web' => 'Novetats subre lo web',
+'nouveaux_articles' => 'Articles n&ograve;us',
+'nouvelles_breves' => 'Br&egrave;vas n&ograve;vas',
+
+
+// P
+'page_precedente' => 'pagina precedenta',
+'page_suivante' => 'pagina seguenta',
+'par_auteur' => 'per&nbsp;',
+'participer_site' => 'Pod&egrave;tz participar a la vida d\'aquel sit e prepausar los articles v&ograve;stres en vos inscriure &ccedil;ai jos. Recebretz c&ograve;p sec un e-mail que vos indicar&agrave; v&ograve;stres c&ograve;des per accedir a l\'espaci privat del sit.',
+'plan_site' => 'Plan del sit',
+'popularite' => 'Popularitat',
+'poster_message' => 'Postar un messatge',
+
+
+// R
+'repondre_article' => 'Respondre a aquel article',
+'repondre_breve' => 'Respondre a aquela br&egrave;va',
+'repondre_message' => 'Respondre a aquel messatge',
+'resultats_recherche' => 'Resultats de la rec&egrave;rca',
+'retour_debut_forums' => 'Retorn al comen&ccedil;ament dels forums',
+'rubrique' => 'Rubrica',
+'rubriques' => 'Rubricas',
+
+
+// S
+'signatures_petition' => 'Signaturas',
+'site_realise_avec_spip' => 'Sit realizat amb SPIP',
+'sites_web' => 'Sits web',
+'sous_rubriques' => 'Sosrubricas',
+'suite' => 'seguida',
+'sur_web' => 'Subre lo web',
+'syndiquer_rubrique' => 'Sindicar aquela rubrica',
+'syndiquer_site' => 'Sindicar tot lo sit',
+
+
+// T
+'texte_lettre_information' => 'Vaic&iacute; la letra d\'informacion del sit',
+'texte_lettre_information_2' => 'Aquela letra recensa los articles e br&egrave;vas publicats dempu&egrave;i',
+
+
+// V
+'ver_imprimer' => 'Version d\'estampar',
+'voir_en_ligne' => 'Vejatz en linha'
+
+);
+
+
+?>

Index: public_oc_ni.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_oc_ni.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_oc_ni.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_oc_ni.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Acu&egrave;lh dau sit',
-'articles' => 'Articles',
-'articles_auteur' => 'Articles d\'aquel autor',
-'articles_populaires' => 'Lu articles mai populars',
-'articles_recents' => 'Lu articles mai recents',
-'articles_rubrique' => 'Articles d\'aquela rubrica',
-'aucun_article' => 'L\'i a minga d\'article a aquela adre&ccedil;a ',
-'aucun_auteur' => 'L\'i a minga d\'autor a aquela adre&ccedil;a ',
-'aucun_site' => 'L\'i a minga de sit a aquela adre&ccedil;a ',
-'aucune_breve' => 'L\'i a minga de br&egrave;va a aquela adre&ccedil;a ',
-'aucune_rubrique' => 'L\'i a minga de rubrica a aquela adre&ccedil;a ',
-'autres_breves' => 'Autri br&egrave;vas',
-'autres_groupes_mots_clefs' => 'Autres grops de m&ograve;ts claus',
-'autres_sites' => 'Autres sits',
-
-
-// B
-'bonjour' => 'B&ograve;njorn',
-'breves' => 'Br&egrave;vas',
-
-
-// C
-'commenter_site' => 'Comentar aqueu sit',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => 'Darri&egrave;r ajust',
-'dernieres_breves' => 'Darri&egrave;ras br&egrave;vas',
-'derniers_articles' => 'Darri&egrave;rs articles',
-'derniers_commentaires' => 'Darri&egrave;rs comentaris',
-'derniers_messages_forum' => 'Darri&egrave;rs messatges publicats dins lu forums',
-
-
-// E
-'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
-'en_reponse' => 'En responsa a:',
-'en_resume' => 'En resumit',
-'envoyer_message' => 'Mandar un messatge',
-'espace_prive' => 'Espaci privat',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Ierarquia dau sit',
-
-
-// J
-'jours' => 'jorns',
-
-
-// M
-'meme_auteur' => 'Dau meme autor',
-'meme_rubrique' => 'Dins la mema rubrica',
-'memes_auteurs' => 'Dei memes autors',
-'message' => 'Messatge',
-'messages_forum' => 'Messatges de forum',
-'messages_recents' => 'Lu messatges de forums mai recents',
-'mots_clefs' => 'M&ograve;ts claus',
-'mots_clefs_meme_groupe' => 'M&ograve;ts claus dins lo meme grop',
-
-
-// N
-'navigation' => 'Navigacion',
-'nom' => 'Nom',
-'nouveautes' => 'Li nov&egrave;utats',
-'nouveautes_web' => 'Nov&egrave;utats sobre lo web',
-'nouveaux_articles' => 'Articles n&ograve;us',
-'nouvelles_breves' => 'Br&egrave;vas nov&egrave;las',
-
-
-// P
-'page_precedente' => 'p&agrave;gina anteriora',
-'page_suivante' => 'p&agrave;gina seguenta',
-'par_auteur' => 'per',
-'participer_site' => 'Pod&egrave;tz participar a la vida d\'aqueu sit e prepauar lu v&ograve;stres articles en vos inscriure &ccedil;ai sota. Receberetz un e-mail que vos indicar&agrave; lu v&ograve;stres c&ograve;des per accedir a l\'espaci privat dau sit.',
-'plan_site' => 'Plan dau sit',
-'popularite' => 'Popularitat',
-'poster_message' => 'Postar un messatge',
-'proposer_site' => 'Pod&egrave;tz prepauar un site a ajustar dins aquela rubrica&nbsp;:',
-
-
-// R
-'repondre_article' => 'Respondre a aquel article',
-'repondre_breve' => 'Respondre a aquela br&egrave;va',
-'repondre_message' => 'Respondre a aqueu messatge',
-'resultats_recherche' => 'Resultats de la rec&egrave;rca',
-'retour_debut_forums' => 'Retorn au comen&ccedil;ament dei forums',
-'rubrique' => 'Rubrica',
-'rubriques' => 'Rubricas',
-
-
-// S
-'signatures_petition' => 'Signaturas',
-'site_realise_avec_spip' => 'Sit realisat emb SPIP',
-'sites_web' => 'Sits web',
-'sous_rubriques' => 'Sosrubricas',
-'suite' => 'seguida',
-'sur_web' => 'Sobre lo web',
-'syndiquer_rubrique' => 'Sindicar aquela rubrica',
-'syndiquer_site' => 'Sindicar tot lo sit',
-
-
-// T
-'texte_lettre_information' => 'Vequ&iacute; la letra d\'informacion dau sit',
-'texte_lettre_information_2' => 'Aquela letra recensa lu articles e br&egrave;vas publicats desp&iacute;',
-
-
-// V
-'ver_imprimer' => 'Version d\'estampar',
-'voir_en_ligne' => 'Vejatz en linha'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Acu&egrave;lh dau sit',
+'articles' => 'Articles',
+'articles_auteur' => 'Articles d\'aquel autor',
+'articles_populaires' => 'Lu articles mai populars',
+'articles_recents' => 'Lu articles mai recents',
+'articles_rubrique' => 'Articles d\'aquela rubrica',
+'aucun_article' => 'L\'i a minga d\'article a aquela adre&ccedil;a ',
+'aucun_auteur' => 'L\'i a minga d\'autor a aquela adre&ccedil;a ',
+'aucun_site' => 'L\'i a minga de sit a aquela adre&ccedil;a ',
+'aucune_breve' => 'L\'i a minga de br&egrave;va a aquela adre&ccedil;a ',
+'aucune_rubrique' => 'L\'i a minga de rubrica a aquela adre&ccedil;a ',
+'autres_breves' => 'Autri br&egrave;vas',
+'autres_groupes_mots_clefs' => 'Autres grops de m&ograve;ts claus',
+'autres_sites' => 'Autres sits',
+
+
+// B
+'bonjour' => 'B&ograve;njorn',
+'breves' => 'Br&egrave;vas',
+
+
+// C
+'commenter_site' => 'Comentar aqueu sit',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => 'Darri&egrave;r ajust',
+'dernieres_breves' => 'Darri&egrave;ras br&egrave;vas',
+'derniers_articles' => 'Darri&egrave;rs articles',
+'derniers_commentaires' => 'Darri&egrave;rs comentaris',
+'derniers_messages_forum' => 'Darri&egrave;rs messatges publicats dins lu forums',
+
+
+// E
+'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
+'en_reponse' => 'En responsa a:',
+'en_resume' => 'En resumit',
+'envoyer_message' => 'Mandar un messatge',
+'espace_prive' => 'Espaci privat',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Ierarquia dau sit',
+
+
+// J
+'jours' => 'jorns',
+
+
+// M
+'meme_auteur' => 'Dau meme autor',
+'meme_rubrique' => 'Dins la mema rubrica',
+'memes_auteurs' => 'Dei memes autors',
+'message' => 'Messatge',
+'messages_forum' => 'Messatges de forum',
+'messages_recents' => 'Lu messatges de forums mai recents',
+'mots_clefs' => 'M&ograve;ts claus',
+'mots_clefs_meme_groupe' => 'M&ograve;ts claus dins lo meme grop',
+
+
+// N
+'navigation' => 'Navigacion',
+'nom' => 'Nom',
+'nouveautes' => 'Li nov&egrave;utats',
+'nouveautes_web' => 'Nov&egrave;utats sobre lo web',
+'nouveaux_articles' => 'Articles n&ograve;us',
+'nouvelles_breves' => 'Br&egrave;vas nov&egrave;las',
+
+
+// P
+'page_precedente' => 'p&agrave;gina anteriora',
+'page_suivante' => 'p&agrave;gina seguenta',
+'par_auteur' => 'per',
+'participer_site' => 'Pod&egrave;tz participar a la vida d\'aqueu sit e prepauar lu v&ograve;stres articles en vos inscriure &ccedil;ai sota. Receberetz un e-mail que vos indicar&agrave; lu v&ograve;stres c&ograve;des per accedir a l\'espaci privat dau sit.',
+'plan_site' => 'Plan dau sit',
+'popularite' => 'Popularitat',
+'poster_message' => 'Postar un messatge',
+'proposer_site' => 'Pod&egrave;tz prepauar un site a ajustar dins aquela rubrica&nbsp;:',
+
+
+// R
+'repondre_article' => 'Respondre a aquel article',
+'repondre_breve' => 'Respondre a aquela br&egrave;va',
+'repondre_message' => 'Respondre a aqueu messatge',
+'resultats_recherche' => 'Resultats de la rec&egrave;rca',
+'retour_debut_forums' => 'Retorn au comen&ccedil;ament dei forums',
+'rubrique' => 'Rubrica',
+'rubriques' => 'Rubricas',
+
+
+// S
+'signatures_petition' => 'Signaturas',
+'site_realise_avec_spip' => 'Sit realisat emb SPIP',
+'sites_web' => 'Sits web',
+'sous_rubriques' => 'Sosrubricas',
+'suite' => 'seguida',
+'sur_web' => 'Sobre lo web',
+'syndiquer_rubrique' => 'Sindicar aquela rubrica',
+'syndiquer_site' => 'Sindicar tot lo sit',
+
+
+// T
+'texte_lettre_information' => 'Vequ&iacute; la letra d\'informacion dau sit',
+'texte_lettre_information_2' => 'Aquela letra recensa lu articles e br&egrave;vas publicats desp&iacute;',
+
+
+// V
+'ver_imprimer' => 'Version d\'estampar',
+'voir_en_ligne' => 'Vejatz en linha'
+
+);
+
+
+?>

Index: public_oc_prv.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_oc_prv.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_oc_prv.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_oc_prv.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,126 +1,126 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Acuelh dau sit',
-'articles' => 'Articles',
-'articles_auteur' => 'Articles d\'aquel autor',
-'articles_populaires' => 'Leis articles mai populars',
-'articles_recents' => 'Leis articles mai recents',
-'articles_rubrique' => 'Articles d\'aquela rubrica',
-'aucun_article' => 'I a ges d\'article a aquela adrei&ccedil;a ',
-'aucun_auteur' => 'I a ges d\'autor a aquela adrei&ccedil;a ',
-'aucun_site' => 'I a ges de sit a aquela adrei&ccedil;a ',
-'aucune_breve' => 'I a ges de br&egrave;va a aquela adrei&ccedil;a ',
-'aucune_rubrique' => 'I a ges de rubrica a aquela adrei&ccedil;a ',
-'autres_breves' => 'Autrei br&egrave;vas',
-'autres_groupes_mots_clefs' => 'Autrei grops de mots claus',
-'autres_sites' => 'Autrei sits',
-
-
-// B
-'bonjour' => 'Bonjorn',
-'breves' => 'Br&egrave;vas',
-
-
-// C
-'commenter_site' => 'Comentar aqueu sit',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => 'Darrier apondon',
-'dernieres_breves' => 'Darrierei br&egrave;vas',
-'derniers_articles' => 'Darriers articles',
-'derniers_commentaires' => 'Darriers comentaris',
-'derniers_messages_forum' => 'Darriers messatges publicats dins lei forums',
-
-
-// E
-'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
-'en_reponse' => 'En resp&ograve;nsa a:',
-'en_resume' => 'En resumit',
-'envoyer_message' => 'Mandar un messatge',
-'espace_prive' => 'Espaci privat',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Ierarquia dau sit',
-
-
-// J
-'jours' => 'jorns',
-
-
-// M
-'meme_auteur' => 'Dau meteis autor',
-'meme_rubrique' => 'Dins la meteissa rubrica',
-'memes_auteurs' => 'Dei meteis autors',
-'message' => 'Messatge',
-'messages_forum' => 'Messatges de forum',
-'messages_recents' => 'Lei messatges de forums mai recents',
-'mots_clefs' => 'Mots claus',
-'mots_clefs_meme_groupe' => 'Mots claus dins lo meteis grop',
-
-
-// N
-'navigation' => 'Navigacion',
-'nom' => 'Nom',
-'nouveautes' => 'Lei novetats',
-'nouveautes_web' => 'Novetats subre lo web',
-'nouveaux_articles' => 'Articles n&ograve;us',
-'nouvelles_breves' => 'Br&egrave;vas n&ograve;vas',
-
-
-// P
-'page_precedente' => 'pagina precedenta',
-'page_suivante' => 'pagina seguenta',
-'par_auteur' => 'per&nbsp;',
-'participer_site' => 'Pod&egrave;tz participar a la vida d\'aqueu sit e prepausar leis articles v&ograve;stres en vos inscrivent &ccedil;ai sota. Recebretz sus lo c&ograve;p un e-mail que vos indicar&agrave; v&ograve;strei c&ograve;des per accedir a l\'espaci privat dau sit.',
-'plan_site' => 'Plan dau sit',
-'popularite' => 'Popularitat',
-'poster_message' => 'Postar un messatge',
-
-
-// R
-'repondre_article' => 'Resp&ograve;ndre a aquel article',
-'repondre_breve' => 'Resp&ograve;ndre a aquela br&egrave;va',
-'repondre_message' => 'Resp&ograve;ndre a aqueu messatge',
-'resultats_recherche' => 'Resultats de la rec&egrave;rca',
-'retour_debut_forums' => 'Retorn au comen&ccedil;ament dei forums',
-'rubrique' => 'Rubrica',
-'rubriques' => 'Rubricas',
-
-
-// S
-'signatures_petition' => 'Signaturas',
-'site_realise_avec_spip' => 'Sit realizat amb SPIP',
-'sites_web' => 'Sits web',
-'sous_rubriques' => 'Sosrubricas',
-'suite' => 'seguida',
-'sur_web' => 'Subre lo web',
-'syndiquer_rubrique' => 'Sindicar aquela rubrica',
-'syndiquer_site' => 'Sindicar tot lo sit',
-
-
-// T
-'texte_lettre_information' => 'Vaic&iacute; la letra d\'informacion dau sit',
-'texte_lettre_information_2' => 'Aquela letra recensa leis articles e br&egrave;vas publicats dempuei',
-
-
-// V
-'ver_imprimer' => 'Version d\'estampar',
-'voir_en_ligne' => 'Vejatz en linha'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Acuelh dau sit',
+'articles' => 'Articles',
+'articles_auteur' => 'Articles d\'aquel autor',
+'articles_populaires' => 'Leis articles mai populars',
+'articles_recents' => 'Leis articles mai recents',
+'articles_rubrique' => 'Articles d\'aquela rubrica',
+'aucun_article' => 'I a ges d\'article a aquela adrei&ccedil;a ',
+'aucun_auteur' => 'I a ges d\'autor a aquela adrei&ccedil;a ',
+'aucun_site' => 'I a ges de sit a aquela adrei&ccedil;a ',
+'aucune_breve' => 'I a ges de br&egrave;va a aquela adrei&ccedil;a ',
+'aucune_rubrique' => 'I a ges de rubrica a aquela adrei&ccedil;a ',
+'autres_breves' => 'Autrei br&egrave;vas',
+'autres_groupes_mots_clefs' => 'Autrei grops de mots claus',
+'autres_sites' => 'Autrei sits',
+
+
+// B
+'bonjour' => 'Bonjorn',
+'breves' => 'Br&egrave;vas',
+
+
+// C
+'commenter_site' => 'Comentar aqueu sit',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => 'Darrier apondon',
+'dernieres_breves' => 'Darrierei br&egrave;vas',
+'derniers_articles' => 'Darriers articles',
+'derniers_commentaires' => 'Darriers comentaris',
+'derniers_messages_forum' => 'Darriers messatges publicats dins lei forums',
+
+
+// E
+'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
+'en_reponse' => 'En resp&ograve;nsa a:',
+'en_resume' => 'En resumit',
+'envoyer_message' => 'Mandar un messatge',
+'espace_prive' => 'Espaci privat',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Ierarquia dau sit',
+
+
+// J
+'jours' => 'jorns',
+
+
+// M
+'meme_auteur' => 'Dau meteis autor',
+'meme_rubrique' => 'Dins la meteissa rubrica',
+'memes_auteurs' => 'Dei meteis autors',
+'message' => 'Messatge',
+'messages_forum' => 'Messatges de forum',
+'messages_recents' => 'Lei messatges de forums mai recents',
+'mots_clefs' => 'Mots claus',
+'mots_clefs_meme_groupe' => 'Mots claus dins lo meteis grop',
+
+
+// N
+'navigation' => 'Navigacion',
+'nom' => 'Nom',
+'nouveautes' => 'Lei novetats',
+'nouveautes_web' => 'Novetats subre lo web',
+'nouveaux_articles' => 'Articles n&ograve;us',
+'nouvelles_breves' => 'Br&egrave;vas n&ograve;vas',
+
+
+// P
+'page_precedente' => 'pagina precedenta',
+'page_suivante' => 'pagina seguenta',
+'par_auteur' => 'per&nbsp;',
+'participer_site' => 'Pod&egrave;tz participar a la vida d\'aqueu sit e prepausar leis articles v&ograve;stres en vos inscrivent &ccedil;ai sota. Recebretz sus lo c&ograve;p un e-mail que vos indicar&agrave; v&ograve;strei c&ograve;des per accedir a l\'espaci privat dau sit.',
+'plan_site' => 'Plan dau sit',
+'popularite' => 'Popularitat',
+'poster_message' => 'Postar un messatge',
+
+
+// R
+'repondre_article' => 'Resp&ograve;ndre a aquel article',
+'repondre_breve' => 'Resp&ograve;ndre a aquela br&egrave;va',
+'repondre_message' => 'Resp&ograve;ndre a aqueu messatge',
+'resultats_recherche' => 'Resultats de la rec&egrave;rca',
+'retour_debut_forums' => 'Retorn au comen&ccedil;ament dei forums',
+'rubrique' => 'Rubrica',
+'rubriques' => 'Rubricas',
+
+
+// S
+'signatures_petition' => 'Signaturas',
+'site_realise_avec_spip' => 'Sit realizat amb SPIP',
+'sites_web' => 'Sits web',
+'sous_rubriques' => 'Sosrubricas',
+'suite' => 'seguida',
+'sur_web' => 'Subre lo web',
+'syndiquer_rubrique' => 'Sindicar aquela rubrica',
+'syndiquer_site' => 'Sindicar tot lo sit',
+
+
+// T
+'texte_lettre_information' => 'Vaic&iacute; la letra d\'informacion dau sit',
+'texte_lettre_information_2' => 'Aquela letra recensa leis articles e br&egrave;vas publicats dempuei',
+
+
+// V
+'ver_imprimer' => 'Version d\'estampar',
+'voir_en_ligne' => 'Vejatz en linha'
+
+);
+
+
+?>

Index: public_pl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_pl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_pl.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_pl.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Strona g&#322;&oacute;wna',
-'articles' => 'Artyku&#322;y',
-'articles_auteur' => 'Artyku&#322;y napisane przez tego autora',
-'articles_populaires' => 'Najbardziej popularne artyku&#322;y',
-'articles_recents' => 'Najnowsze artyku&#322;y',
-'articles_rubrique' => 'Artyku&#322;y w tym dziale',
-'aucun_article' => 'Nie ma &#380;adnego artyku&#322;u pod tym adresem',
-'aucun_auteur' => 'Nie ma &#380;adnego autora pod tym adresem',
-'aucun_site' => 'Nie ma &#380;adnej strony pod tym adresem',
-'aucune_breve' => 'Nie ma &#380;adnego newsa pod tym adresem ',
-'aucune_rubrique' => 'Nie ma &#380;adnego dzia&#322;u pod tym adresem',
-'autres_breves' => 'Reszta aktualno&#347;ci',
-'autres_groupes_mots_clefs' => 'Inne grupy s&#322;&oacute;w kluczowych',
-'autres_sites' => 'Inne strony',
-
-
-// B
-'bonjour' => 'Dzie&#324; dobry',
-'breves' => 'Aktualno&#347;ci',
-
-
-// C
-'commenter_site' => 'Dodaj komentarz na temat strony',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => 'Dodane ostatnio',
-'dernieres_breves' => 'Najnowsze aktualno&#347;ci',
-'derniers_articles' => 'Najnowsze artyku&#322;y',
-'derniers_commentaires' => 'Ostatnie komentarze',
-'derniers_messages_forum' => 'Ostatnie wiadomo&#347;ci opublikowane w forum',
-
-
-// E
-'edition_mode_texte' => 'Edycja w trybie tekstowym',
-'en_reponse' => 'W odpowiedzi na&nbsp;:',
-'en_resume' => 'W skr&oacute;cie',
-'envoyer_message' => 'Wy&#347;lij wiadomo&#347;&#263;',
-'espace_prive' => 'Strefa prywatna',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Mapa strony',
-
-
-// J
-'jours' => 'dni',
-
-
-// M
-'meme_auteur' => 'Ten sam autor',
-'meme_rubrique' => 'W tym samym dziale',
-'memes_auteurs' => 'Tych samych autor&oacute;w',
-'message' => 'Wiadomo&#347;&#263;',
-'messages_forum' => 'Wiadomo&#347;ci na forum',
-'messages_recents' => 'Najnowsze wiadomo&#347;ci na forum',
-'mots_clefs' => 'S&#322;owa kluczowe',
-'mots_clefs_meme_groupe' => 'S&#322;owa kluczowe z tej samej grupy',
-
-
-// N
-'navigation' => 'Nawigacja',
-'nom' => 'Nazwisko',
-'nouveautes' => 'Nowo&#347;ci',
-'nouveautes_web' => 'Nowo&#347;ci w Internecie',
-'nouveaux_articles' => 'NOwe artyku&#322;y',
-'nouvelles_breves' => 'Najnowsze aktualno&#347;ci',
-
-
-// P
-'page_precedente' => 'poprzednia strona',
-'page_suivante' => 'nast&#281;pna strona',
-'par_auteur' => 'przez',
-'participer_site' => 'Mo&#380;esz wzi&#261;&#263; udzia&#322; w tworzeniu tego serwisu i proponowa&#263; w&#322;asne artyku&#322;y. Aby mie&#263; tak&#261; mo&#380;liwo&#347;&#263;, musisz si&#281; zapisa&#263; poni&#380;ej. Na podany adres e-mail otrzymasz has&#322;o dost&#281;pu do strefy prywatnej serwisu.',
-'plan_site' => 'Mapa strony',
-'popularite' => 'Popularno&#347;&#263;',
-'poster_message' => 'Napisz wiadomo&#347;&#263;',
-'proposer_site' => 'Mo&#380;es zaproponowa&#263; stron&#281; do dodania w tym katalogu:',
-
-
-// R
-'repondre_article' => 'Skomentuj ten artyku&#322;',
-'repondre_breve' => 'Skomentuj ten news',
-'repondre_message' => 'Skomentuj wiadomo&#347;&#263;',
-'resultats_recherche' => 'Wynik wyszukiwania',
-'retour_debut_forums' => 'Powr&oacute;t do strony g&#322;&oacute;wnej forum',
-'rubrique' => 'Dzia&#322;',
-'rubriques' => 'Dzia&#322;y',
-
-
-// S
-'signatures_petition' => 'Podpisy',
-'site_realise_avec_spip' => 'Strona zrealizowana przy pomocy SPIP',
-'sites_web' => 'Strony internetowe',
-'sous_rubriques' => 'Pod-dzia&#322;y',
-'suite' => 'wi&#281;cej',
-'sur_web' => 'W internecie',
-'syndiquer_rubrique' => 'Ten dzia&#322;',
-'syndiquer_site' => 'Ca&#322;&#261; stron&#281;',
-
-
-// T
-'texte_lettre_information' => 'Poni&#380;ej lista subskrypcyjna serwisu',
-'texte_lettre_information_2' => 'Na tej li&#347;cie znajdziesz archiwum artyku&#322;&oacute;w i aktualno&#347;ci opublikowanych od',
-
-
-// V
-'ver_imprimer' => 'Wersja do druku',
-'voir_en_ligne' => 'Zobacz on-line'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Strona g&#322;&oacute;wna',
+'articles' => 'Artyku&#322;y',
+'articles_auteur' => 'Artyku&#322;y napisane przez tego autora',
+'articles_populaires' => 'Najbardziej popularne artyku&#322;y',
+'articles_recents' => 'Najnowsze artyku&#322;y',
+'articles_rubrique' => 'Artyku&#322;y w tym dziale',
+'aucun_article' => 'Nie ma &#380;adnego artyku&#322;u pod tym adresem',
+'aucun_auteur' => 'Nie ma &#380;adnego autora pod tym adresem',
+'aucun_site' => 'Nie ma &#380;adnej strony pod tym adresem',
+'aucune_breve' => 'Nie ma &#380;adnego newsa pod tym adresem ',
+'aucune_rubrique' => 'Nie ma &#380;adnego dzia&#322;u pod tym adresem',
+'autres_breves' => 'Reszta aktualno&#347;ci',
+'autres_groupes_mots_clefs' => 'Inne grupy s&#322;&oacute;w kluczowych',
+'autres_sites' => 'Inne strony',
+
+
+// B
+'bonjour' => 'Dzie&#324; dobry',
+'breves' => 'Aktualno&#347;ci',
+
+
+// C
+'commenter_site' => 'Dodaj komentarz na temat strony',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => 'Dodane ostatnio',
+'dernieres_breves' => 'Najnowsze aktualno&#347;ci',
+'derniers_articles' => 'Najnowsze artyku&#322;y',
+'derniers_commentaires' => 'Ostatnie komentarze',
+'derniers_messages_forum' => 'Ostatnie wiadomo&#347;ci opublikowane w forum',
+
+
+// E
+'edition_mode_texte' => 'Edycja w trybie tekstowym',
+'en_reponse' => 'W odpowiedzi na&nbsp;:',
+'en_resume' => 'W skr&oacute;cie',
+'envoyer_message' => 'Wy&#347;lij wiadomo&#347;&#263;',
+'espace_prive' => 'Strefa prywatna',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Mapa strony',
+
+
+// J
+'jours' => 'dni',
+
+
+// M
+'meme_auteur' => 'Ten sam autor',
+'meme_rubrique' => 'W tym samym dziale',
+'memes_auteurs' => 'Tych samych autor&oacute;w',
+'message' => 'Wiadomo&#347;&#263;',
+'messages_forum' => 'Wiadomo&#347;ci na forum',
+'messages_recents' => 'Najnowsze wiadomo&#347;ci na forum',
+'mots_clefs' => 'S&#322;owa kluczowe',
+'mots_clefs_meme_groupe' => 'S&#322;owa kluczowe z tej samej grupy',
+
+
+// N
+'navigation' => 'Nawigacja',
+'nom' => 'Nazwisko',
+'nouveautes' => 'Nowo&#347;ci',
+'nouveautes_web' => 'Nowo&#347;ci w Internecie',
+'nouveaux_articles' => 'NOwe artyku&#322;y',
+'nouvelles_breves' => 'Najnowsze aktualno&#347;ci',
+
+
+// P
+'page_precedente' => 'poprzednia strona',
+'page_suivante' => 'nast&#281;pna strona',
+'par_auteur' => 'przez',
+'participer_site' => 'Mo&#380;esz wzi&#261;&#263; udzia&#322; w tworzeniu tego serwisu i proponowa&#263; w&#322;asne artyku&#322;y. Aby mie&#263; tak&#261; mo&#380;liwo&#347;&#263;, musisz si&#281; zapisa&#263; poni&#380;ej. Na podany adres e-mail otrzymasz has&#322;o dost&#281;pu do strefy prywatnej serwisu.',
+'plan_site' => 'Mapa strony',
+'popularite' => 'Popularno&#347;&#263;',
+'poster_message' => 'Napisz wiadomo&#347;&#263;',
+'proposer_site' => 'Mo&#380;es zaproponowa&#263; stron&#281; do dodania w tym katalogu:',
+
+
+// R
+'repondre_article' => 'Skomentuj ten artyku&#322;',
+'repondre_breve' => 'Skomentuj ten news',
+'repondre_message' => 'Skomentuj wiadomo&#347;&#263;',
+'resultats_recherche' => 'Wynik wyszukiwania',
+'retour_debut_forums' => 'Powr&oacute;t do strony g&#322;&oacute;wnej forum',
+'rubrique' => 'Dzia&#322;',
+'rubriques' => 'Dzia&#322;y',
+
+
+// S
+'signatures_petition' => 'Podpisy',
+'site_realise_avec_spip' => 'Strona zrealizowana przy pomocy SPIP',
+'sites_web' => 'Strony internetowe',
+'sous_rubriques' => 'Pod-dzia&#322;y',
+'suite' => 'wi&#281;cej',
+'sur_web' => 'W internecie',
+'syndiquer_rubrique' => 'Ten dzia&#322;',
+'syndiquer_site' => 'Ca&#322;&#261; stron&#281;',
+
+
+// T
+'texte_lettre_information' => 'Poni&#380;ej lista subskrypcyjna serwisu',
+'texte_lettre_information_2' => 'Na tej li&#347;cie znajdziesz archiwum artyku&#322;&oacute;w i aktualno&#347;ci opublikowanych od',
+
+
+// V
+'ver_imprimer' => 'Wersja do druku',
+'voir_en_ligne' => 'Zobacz on-line'
+
+);
+
+
+?>

Index: public_pt.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_pt.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_pt.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_pt.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,127 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'P&aacute;gina de abertura do s&iacute;tio',
-'articles' => 'Artigos',
-'articles_auteur' => 'Artigos deste autor',
-'articles_populaires' => 'Artigos mais populares',
-'articles_recents' => 'Artigos mais recentes',
-'articles_rubrique' => 'Artigos desta rubrica',
-'aucun_article' => 'N&atilde;o h&aacute; artigo neste endere&ccedil;o',
-'aucun_auteur' => 'N&atilde;o h&aacute; autor neste endere&ccedil;o',
-'aucun_site' => 'N&atilde;o h&aacute; s&iacute;tio neste endere&ccedil;o',
-'aucune_breve' => 'N&atilde;o h&aacute; not&iacute;cia neste endere&ccedil;o',
-'aucune_rubrique' => 'N&atilde;o h&aacute; rubrica neste endere&ccedil;o',
-'autres_breves' => 'Outras not&iacute;cias',
-'autres_groupes_mots_clefs' => 'Outros grupos de palavras-chave',
-'autres_sites' => 'Outros s&iacute;tios',
-
-
-// B
-'bonjour' => 'Bom dia',
-'breves' => 'Not1icias',
-
-
-// C
-'commenter_site' => 'Comentar este s&iacute;tio',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => '&Uacute;ltimo acr&eacute;scimo',
-'dernieres_breves' => '&Uacute;ltimas not&iacute;cias',
-'derniers_articles' => '&Uacute;ltimos artigos',
-'derniers_commentaires' => '&Uacute;ltimos coment&aacute;rios',
-'derniers_messages_forum' => '&Uacute;ltimas mensagens publicadas nos f&oacute;runs',
-
-
-// E
-'edition_mode_texte' => 'Edi&ccedil;&atilde;o em modo texto de',
-'en_reponse' => 'Em resposta a&nbsp;:',
-'en_resume' => 'Em resumo',
-'envoyer_message' => 'Enviar uma mensagem',
-'espace_prive' => 'Espa&ccedil;o privado',
-
-
-// F
-'forum' => 'F&oacute;rum',
-
-
-// H
-'hierarchie_site' => 'Hierarquia do s&iacute;tio',
-
-
-// J
-'jours' => 'dias',
-
-
-// M
-'meme_auteur' => 'Do mesmo autor',
-'meme_rubrique' => 'Na mesma rubrica',
-'memes_auteurs' => 'Dos mesmos autores',
-'message' => 'Mensagem',
-'messages_forum' => 'Mensagens de f&oacute;rum',
-'messages_recents' => 'Mensagens de f&oacute;runs mais recentes',
-'mots_clefs' => 'Palavras-chave',
-'mots_clefs_meme_groupe' => 'Palavras-chave no mesmo grupo',
-
-
-// N
-'navigation' => 'Navega&ccedil;&atilde;o',
-'nom' => 'Nome',
-'nouveautes' => 'As novidades',
-'nouveautes_web' => 'Novidades no Web',
-'nouveaux_articles' => 'Novos artigos',
-'nouvelles_breves' => 'Novas not&iacute;tcias',
-
-
-// P
-'page_precedente' => 'P&aacute;gina anterior',
-'page_suivante' => 'p&aacute;gina seguinte',
-'par_auteur' => 'por',
-'participer_site' => 'Pode participar na vida deste s&iacute;tio e propor os seus pr&oacute;prios artigos, inscrevendo-se mais abaixo. Receber&aacute; imediatamente um email que indica os seus c&oacute;digos de acesso ao espa&ccedil;o privado do s&iacute;tio.',
-'plan_site' => 'Planta do s&iacute;tio',
-'popularite' => 'Popularidade',
-'poster_message' => 'Enviar uma mensagem',
-'proposer_site' => 'Voc&ecirc; pode prop&ocirc;r um sitio a adicionar a esta rubrica&nbsp;:',
-
-
-// R
-'repondre_article' => 'Responder a este artigo',
-'repondre_breve' => 'Responder a esta not&iacute;cia',
-'repondre_message' => 'Responder a esta mensagem',
-'resultats_recherche' => 'Resultados da pesquisa',
-'retour_debut_forums' => 'Regresso ao in&iacute;cio dos f&oacute;runs',
-'rubrique' => 'Rubrica',
-'rubriques' => 'Rubricas',
-
-
-// S
-'signatures_petition' => 'Assinaturas',
-'site_realise_avec_spip' => 'S&iacute;tio realizado com SPIP',
-'sites_web' => 'S&iacute;tios Web',
-'sous_rubriques' => 'Sub-rubricas',
-'suite' => 'continua&ccedil;&atilde;o',
-'sur_web' => 'No Web',
-'syndiquer_rubrique' => 'Vincular esta rubrica',
-'syndiquer_site' => 'Vincular todo o s&iacute;tio',
-
-
-// T
-'texte_lettre_information' => 'Eis a carta de informa&ccedil;&atilde;o do s&iacute;tio',
-'texte_lettre_information_2' => 'Esta carta recensea os artigos e as not&iacute;cias publicados desde',
-
-
-// V
-'ver_imprimer' => 'Vers&atilde;o para imprimir',
-'voir_en_ligne' => 'Ver em linha'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'P&aacute;gina de abertura do s&iacute;tio',
+'articles' => 'Artigos',
+'articles_auteur' => 'Artigos deste autor',
+'articles_populaires' => 'Artigos mais populares',
+'articles_recents' => 'Artigos mais recentes',
+'articles_rubrique' => 'Artigos desta rubrica',
+'aucun_article' => 'N&atilde;o h&aacute; artigo neste endere&ccedil;o',
+'aucun_auteur' => 'N&atilde;o h&aacute; autor neste endere&ccedil;o',
+'aucun_site' => 'N&atilde;o h&aacute; s&iacute;tio neste endere&ccedil;o',
+'aucune_breve' => 'N&atilde;o h&aacute; not&iacute;cia neste endere&ccedil;o',
+'aucune_rubrique' => 'N&atilde;o h&aacute; rubrica neste endere&ccedil;o',
+'autres_breves' => 'Outras not&iacute;cias',
+'autres_groupes_mots_clefs' => 'Outros grupos de palavras-chave',
+'autres_sites' => 'Outros s&iacute;tios',
+
+
+// B
+'bonjour' => 'Bom dia',
+'breves' => 'Not1icias',
+
+
+// C
+'commenter_site' => 'Comentar este s&iacute;tio',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => '&Uacute;ltimo acr&eacute;scimo',
+'dernieres_breves' => '&Uacute;ltimas not&iacute;cias',
+'derniers_articles' => '&Uacute;ltimos artigos',
+'derniers_commentaires' => '&Uacute;ltimos coment&aacute;rios',
+'derniers_messages_forum' => '&Uacute;ltimas mensagens publicadas nos f&oacute;runs',
+
+
+// E
+'edition_mode_texte' => 'Edi&ccedil;&atilde;o em modo texto de',
+'en_reponse' => 'Em resposta a&nbsp;:',
+'en_resume' => 'Em resumo',
+'envoyer_message' => 'Enviar uma mensagem',
+'espace_prive' => 'Espa&ccedil;o privado',
+
+
+// F
+'forum' => 'F&oacute;rum',
+
+
+// H
+'hierarchie_site' => 'Hierarquia do s&iacute;tio',
+
+
+// J
+'jours' => 'dias',
+
+
+// M
+'meme_auteur' => 'Do mesmo autor',
+'meme_rubrique' => 'Na mesma rubrica',
+'memes_auteurs' => 'Dos mesmos autores',
+'message' => 'Mensagem',
+'messages_forum' => 'Mensagens de f&oacute;rum',
+'messages_recents' => 'Mensagens de f&oacute;runs mais recentes',
+'mots_clefs' => 'Palavras-chave',
+'mots_clefs_meme_groupe' => 'Palavras-chave no mesmo grupo',
+
+
+// N
+'navigation' => 'Navega&ccedil;&atilde;o',
+'nom' => 'Nome',
+'nouveautes' => 'As novidades',
+'nouveautes_web' => 'Novidades no Web',
+'nouveaux_articles' => 'Novos artigos',
+'nouvelles_breves' => 'Novas not&iacute;tcias',
+
+
+// P
+'page_precedente' => 'P&aacute;gina anterior',
+'page_suivante' => 'p&aacute;gina seguinte',
+'par_auteur' => 'por',
+'participer_site' => 'Pode participar na vida deste s&iacute;tio e propor os seus pr&oacute;prios artigos, inscrevendo-se mais abaixo. Receber&aacute; imediatamente um email que indica os seus c&oacute;digos de acesso ao espa&ccedil;o privado do s&iacute;tio.',
+'plan_site' => 'Planta do s&iacute;tio',
+'popularite' => 'Popularidade',
+'poster_message' => 'Enviar uma mensagem',
+'proposer_site' => 'Voc&ecirc; pode prop&ocirc;r um sitio a adicionar a esta rubrica&nbsp;:',
+
+
+// R
+'repondre_article' => 'Responder a este artigo',
+'repondre_breve' => 'Responder a esta not&iacute;cia',
+'repondre_message' => 'Responder a esta mensagem',
+'resultats_recherche' => 'Resultados da pesquisa',
+'retour_debut_forums' => 'Regresso ao in&iacute;cio dos f&oacute;runs',
+'rubrique' => 'Rubrica',
+'rubriques' => 'Rubricas',
+
+
+// S
+'signatures_petition' => 'Assinaturas',
+'site_realise_avec_spip' => 'S&iacute;tio realizado com SPIP',
+'sites_web' => 'S&iacute;tios Web',
+'sous_rubriques' => 'Sub-rubricas',
+'suite' => 'continua&ccedil;&atilde;o',
+'sur_web' => 'No Web',
+'syndiquer_rubrique' => 'Vincular esta rubrica',
+'syndiquer_site' => 'Vincular todo o s&iacute;tio',
+
+
+// T
+'texte_lettre_information' => 'Eis a carta de informa&ccedil;&atilde;o do s&iacute;tio',
+'texte_lettre_information_2' => 'Esta carta recensea os artigos e as not&iacute;cias publicados desde',
+
+
+// V
+'ver_imprimer' => 'Vers&atilde;o para imprimir',
+'voir_en_ligne' => 'Ver em linha'
+
+);
+
+
+?>

Index: public_vi.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_vi.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_vi.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_vi.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,126 +1,126 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Trang nh&agrave;',
-'articles' => 'B&agrave;i',
-'articles_auteur' => 'B&agrave;i v&#7903; c&#7911;a t&aacute;c gi&#7843; n&agrave;y',
-'articles_populaires' => 'Nh&#7919;ng b&agrave;i &#273;&#432;&#7907;c chu&#7897;ng nh&#7845;t',
-'articles_recents' => 'Nh&#7919;ng b&agrave;i m&#7899;i nh&#7845;t',
-'articles_rubrique' => 'B&agrave;i v&#7903; c&#7911;a &#273;&#7873; m&#7909;c n&agrave;y',
-'aucun_article' => 'Kh&ocirc;ng c&oacute; b&agrave;i t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y  ',
-'aucun_auteur' => 'Kh&ocirc;ng c&oacute; t&aacute;c gi&#7843; t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y',
-'aucun_site' => 'Kh&ocirc;ng c&oacute; trang Web t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y ',
-'aucune_breve' => 'Kh&ocirc;ng c&oacute; tin ng&#7855;n t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y',
-'aucune_rubrique' => 'Kh&ocirc;ng c&oacute; &#273;&#7873; m&#7909;c t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y',
-'autres_breves' => 'Nh&#7919;ng tin ng&#7857;n kh&aacute;c ',
-'autres_groupes_mots_clefs' => 'Nh&#7919;ng nh&oacute;m t&#7915; then ch&#7889;t kh&aacute;c ',
-'autres_sites' => 'Nh&#7919;ng trang Web kh&aacute;c',
-
-
-// B
-'bonjour' => 'Th&acirc;n ch&agrave;o',
-'breves' => 'Tin ng&#7855;n',
-
-
-// C
-'commenter_site' => 'Ph&ecirc; b&igrave;nh trang Web n&agrave;y',
-
-
-// D
-'date' => 'Ng&agrave;y',
-'dernier_ajout' => 'B&agrave;i &#273;&#432;&#7907;c th&ecirc;m sau ch&oacute;t',
-'dernieres_breves' => 'Nh&#7919;ng tin ng&#7855;n m&#7899;i nh&#7845;t ',
-'derniers_articles' => 'Nh&#7919;ng b&agrave;i m&#7899;i nh&#7845;t ',
-'derniers_commentaires' => 'C&aacute;c g&oacute;p &yacute; m&#7899;i nh&#7845;t',
-'derniers_messages_forum' => 'Trao &#273;&#7893;i m&#7899;i nh&#7845;t hi&#7879;n trong di&#7877;n &#273;&agrave;n',
-
-
-// E
-'edition_mode_texte' => 'v&#259;n b&#7843;n th&#432;&#7901;ng',
-'en_reponse' => 'Tr&#7843; l&#7901;i cho&nbsp;:',
-'en_resume' => 'T&oacute;m t&#7855;t',
-'envoyer_message' => 'G&#7917;i th&#432; t&iacute;n m&#7899;i',
-'espace_prive' => 'M&#7841;ng c&aacute; nh&acirc;n',
-
-
-// F
-'forum' => 'Di&#7877;n &#273;&agrave;n',
-
-
-// H
-'hierarchie_site' => 'C&#7845;u tr&uacute;c th&#7913; b&#7853;c c&#7911;a trang web',
-
-
-// J
-'jours' => 'ng&agrave;y',
-
-
-// M
-'meme_auteur' => 'C&ugrave;ng t&aacute;c gi&#7843;',
-'meme_rubrique' => 'Trong c&ugrave;ng &#273;&#7873; m&#7909;c',
-'memes_auteurs' => 'C&ugrave;ng t&aacute;c gi&#7843;',
-'message' => 'Th&#432; t&iacute;n',
-'messages_forum' => 'Th&#432; t&iacute;n di&#7877;n &#273;&agrave;n',
-'messages_recents' => 'Tin m&#7899;i nh&#7845;t trong di&#7877;n &#273;&agrave;n',
-'mots_clefs' => 'T&#7915; then ch&#7889;t',
-'mots_clefs_meme_groupe' => 'T&#7915; then ch&#7889;t c&ugrave;ng nh&ograve;m  ',
-
-
-// N
-'navigation' => '&#272;i&#7873;u h&#432;&#7899;ng',
-'nom' => 'T&ecirc;n',
-'nouveautes' => 'Nh&#7919;ng &#273;i&#7875;m m&#7899;i',
-'nouveautes_web' => 'Nh&#7919;ng &#273;i&#7873;u m&#7899;i tr&ecirc;n trang web',
-'nouveaux_articles' => 'B&agrave;i m&#7899;i',
-'nouvelles_breves' => 'Tin ng&#7855;n m&#7899;i',
-
-
-// P
-'page_precedente' => 'trang tr&#432;&#7899;c',
-'page_suivante' => 'trang sau',
-'par_auteur' => 'b&#7903;i',
-'participer_site' => 'B&#7841;n c&oacute; th&#7875; tham gia &#273;&oacute;ng g&oacute;p t&iacute;ch c&#7921;c v&agrave;o trang web n&agrave;y &#273;&#7875; so&#7841;n v&agrave; &#273;&#259;ng b&agrave;i v&#7903;. B&#7841;n ph&#7843;i ghi danh d&#432;&#7899;i &#273;&acirc;y. Sau &#273;&oacute; b&#7841;n s&#7869; nh&#7853;n email cho bi&#7871;t chi ti&#7871;t &#273;&#7875; v&agrave;o trang web.',
-'plan_site' => 'S&#417; &#273;&#7891;',
-'popularite' => 'M&#7913;c &#273;&#7897; ph&#7893; th&ocirc;ng',
-'poster_message' => '&#272;&#7875; &#273;&#259;ng tin',
-
-
-// R
-'repondre_article' => 'Tr&#7843; l&#7901;i b&agrave;i n&agrave;y',
-'repondre_breve' => 'Tr&#7843; l&#7901;i tin ng&#7855;n n&agrave;y',
-'repondre_message' => 'Tr&#7843; l&#7901;i m&#7851;u tin n&agrave;y',
-'resultats_recherche' => 'K&#7871;t qu&#7843; t&igrave;m ki&#7871;m',
-'retour_debut_forums' => 'Tr&#7903; v&#7873; trang &#273;&#7847;u c&#7911;a di&#7877;n &#273;&agrave;n',
-'rubrique' => '&ETH;&#7873; M&#7909;c',
-'rubriques' => '&ETH;&#7873; M&#7909;c',
-
-
-// S
-'signatures_petition' => 'Ch&#7919; k&yacute;',
-'site_realise_avec_spip' => 'Trang web &#273;&#432;&#7907;c so&#7841;n b&#7857;ng SPIP',
-'sites_web' => 'Trang web',
-'sous_rubriques' => '&#272;&#7873; m&#7909;c ph&#7909;',
-'suite' => 'ti&#7871;p t&#7909;c',
-'sur_web' => 'Tr&ecirc;n trang web',
-'syndiquer_rubrique' => 'Ph&#7893; bi&#7871;n &#273;&#7873; m&#7909;c n&agrave;y',
-'syndiquer_site' => 'Ph&#7893; bi&#7871;n tr&#7885;n trang web',
-
-
-// T
-'texte_lettre_information' => '&#272;&acirc;y l&agrave; b&#7843;n tin c&#7911;a trang web',
-'texte_lettre_information_2' => 'T&oacute;m t&#7855;t c&aacute;c b&agrave;i v&#7903; v&agrave; tin ng&#7855;n &#273;&atilde; ph&aacute;t h&agrave;nh t&#7915; ',
-
-
-// V
-'ver_imprimer' => 'Ki&#7875;u d&#7875; in',
-'voir_en_ligne' => 'Xem online'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Trang nh&agrave;',
+'articles' => 'B&agrave;i',
+'articles_auteur' => 'B&agrave;i v&#7903; c&#7911;a t&aacute;c gi&#7843; n&agrave;y',
+'articles_populaires' => 'Nh&#7919;ng b&agrave;i &#273;&#432;&#7907;c chu&#7897;ng nh&#7845;t',
+'articles_recents' => 'Nh&#7919;ng b&agrave;i m&#7899;i nh&#7845;t',
+'articles_rubrique' => 'B&agrave;i v&#7903; c&#7911;a &#273;&#7873; m&#7909;c n&agrave;y',
+'aucun_article' => 'Kh&ocirc;ng c&oacute; b&agrave;i t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y  ',
+'aucun_auteur' => 'Kh&ocirc;ng c&oacute; t&aacute;c gi&#7843; t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y',
+'aucun_site' => 'Kh&ocirc;ng c&oacute; trang Web t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y ',
+'aucune_breve' => 'Kh&ocirc;ng c&oacute; tin ng&#7855;n t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y',
+'aucune_rubrique' => 'Kh&ocirc;ng c&oacute; &#273;&#7873; m&#7909;c t&#7841;i &#273;&#7883;a ch&igrave; n&agrave;y',
+'autres_breves' => 'Nh&#7919;ng tin ng&#7857;n kh&aacute;c ',
+'autres_groupes_mots_clefs' => 'Nh&#7919;ng nh&oacute;m t&#7915; then ch&#7889;t kh&aacute;c ',
+'autres_sites' => 'Nh&#7919;ng trang Web kh&aacute;c',
+
+
+// B
+'bonjour' => 'Th&acirc;n ch&agrave;o',
+'breves' => 'Tin ng&#7855;n',
+
+
+// C
+'commenter_site' => 'Ph&ecirc; b&igrave;nh trang Web n&agrave;y',
+
+
+// D
+'date' => 'Ng&agrave;y',
+'dernier_ajout' => 'B&agrave;i &#273;&#432;&#7907;c th&ecirc;m sau ch&oacute;t',
+'dernieres_breves' => 'Nh&#7919;ng tin ng&#7855;n m&#7899;i nh&#7845;t ',
+'derniers_articles' => 'Nh&#7919;ng b&agrave;i m&#7899;i nh&#7845;t ',
+'derniers_commentaires' => 'C&aacute;c g&oacute;p &yacute; m&#7899;i nh&#7845;t',
+'derniers_messages_forum' => 'Trao &#273;&#7893;i m&#7899;i nh&#7845;t hi&#7879;n trong di&#7877;n &#273;&agrave;n',
+
+
+// E
+'edition_mode_texte' => 'v&#259;n b&#7843;n th&#432;&#7901;ng',
+'en_reponse' => 'Tr&#7843; l&#7901;i cho&nbsp;:',
+'en_resume' => 'T&oacute;m t&#7855;t',
+'envoyer_message' => 'G&#7917;i th&#432; t&iacute;n m&#7899;i',
+'espace_prive' => 'M&#7841;ng c&aacute; nh&acirc;n',
+
+
+// F
+'forum' => 'Di&#7877;n &#273;&agrave;n',
+
+
+// H
+'hierarchie_site' => 'C&#7845;u tr&uacute;c th&#7913; b&#7853;c c&#7911;a trang web',
+
+
+// J
+'jours' => 'ng&agrave;y',
+
+
+// M
+'meme_auteur' => 'C&ugrave;ng t&aacute;c gi&#7843;',
+'meme_rubrique' => 'Trong c&ugrave;ng &#273;&#7873; m&#7909;c',
+'memes_auteurs' => 'C&ugrave;ng t&aacute;c gi&#7843;',
+'message' => 'Th&#432; t&iacute;n',
+'messages_forum' => 'Th&#432; t&iacute;n di&#7877;n &#273;&agrave;n',
+'messages_recents' => 'Tin m&#7899;i nh&#7845;t trong di&#7877;n &#273;&agrave;n',
+'mots_clefs' => 'T&#7915; then ch&#7889;t',
+'mots_clefs_meme_groupe' => 'T&#7915; then ch&#7889;t c&ugrave;ng nh&ograve;m  ',
+
+
+// N
+'navigation' => '&#272;i&#7873;u h&#432;&#7899;ng',
+'nom' => 'T&ecirc;n',
+'nouveautes' => 'Nh&#7919;ng &#273;i&#7875;m m&#7899;i',
+'nouveautes_web' => 'Nh&#7919;ng &#273;i&#7873;u m&#7899;i tr&ecirc;n trang web',
+'nouveaux_articles' => 'B&agrave;i m&#7899;i',
+'nouvelles_breves' => 'Tin ng&#7855;n m&#7899;i',
+
+
+// P
+'page_precedente' => 'trang tr&#432;&#7899;c',
+'page_suivante' => 'trang sau',
+'par_auteur' => 'b&#7903;i',
+'participer_site' => 'B&#7841;n c&oacute; th&#7875; tham gia &#273;&oacute;ng g&oacute;p t&iacute;ch c&#7921;c v&agrave;o trang web n&agrave;y &#273;&#7875; so&#7841;n v&agrave; &#273;&#259;ng b&agrave;i v&#7903;. B&#7841;n ph&#7843;i ghi danh d&#432;&#7899;i &#273;&acirc;y. Sau &#273;&oacute; b&#7841;n s&#7869; nh&#7853;n email cho bi&#7871;t chi ti&#7871;t &#273;&#7875; v&agrave;o trang web.',
+'plan_site' => 'S&#417; &#273;&#7891;',
+'popularite' => 'M&#7913;c &#273;&#7897; ph&#7893; th&ocirc;ng',
+'poster_message' => '&#272;&#7875; &#273;&#259;ng tin',
+
+
+// R
+'repondre_article' => 'Tr&#7843; l&#7901;i b&agrave;i n&agrave;y',
+'repondre_breve' => 'Tr&#7843; l&#7901;i tin ng&#7855;n n&agrave;y',
+'repondre_message' => 'Tr&#7843; l&#7901;i m&#7851;u tin n&agrave;y',
+'resultats_recherche' => 'K&#7871;t qu&#7843; t&igrave;m ki&#7871;m',
+'retour_debut_forums' => 'Tr&#7903; v&#7873; trang &#273;&#7847;u c&#7911;a di&#7877;n &#273;&agrave;n',
+'rubrique' => '&ETH;&#7873; M&#7909;c',
+'rubriques' => '&ETH;&#7873; M&#7909;c',
+
+
+// S
+'signatures_petition' => 'Ch&#7919; k&yacute;',
+'site_realise_avec_spip' => 'Trang web &#273;&#432;&#7907;c so&#7841;n b&#7857;ng SPIP',
+'sites_web' => 'Trang web',
+'sous_rubriques' => '&#272;&#7873; m&#7909;c ph&#7909;',
+'suite' => 'ti&#7871;p t&#7909;c',
+'sur_web' => 'Tr&ecirc;n trang web',
+'syndiquer_rubrique' => 'Ph&#7893; bi&#7871;n &#273;&#7873; m&#7909;c n&agrave;y',
+'syndiquer_site' => 'Ph&#7893; bi&#7871;n tr&#7885;n trang web',
+
+
+// T
+'texte_lettre_information' => '&#272;&acirc;y l&agrave; b&#7843;n tin c&#7911;a trang web',
+'texte_lettre_information_2' => 'T&oacute;m t&#7855;t c&aacute;c b&agrave;i v&#7903; v&agrave; tin ng&#7855;n &#273;&atilde; ph&aacute;t h&agrave;nh t&#7915; ',
+
+
+// V
+'ver_imprimer' => 'Ki&#7875;u d&#7875; in',
+'voir_en_ligne' => 'Xem online'
+
+);
+
+
+?>

Index: public_zh.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_zh.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- public_zh.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ public_zh.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,138 +1,138 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => '&#20027;&#39029;',
-'articles' => '&#25991;&#31456;',
-'articles_auteur' => '&#35813;&#20316;&#32773;&#30340;&#25991;&#31456;',
-'articles_populaires' => '&#28909;&#38376;&#25991;&#31456;',
-'articles_recents' => '&#26368;&#26032;&#25991;&#31456;',
-'articles_rubrique' => '&#27492;&#26639;&#19979;&#30340;&#25991;&#31456;',
-'aucun_article' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#25991;&#31456;',
-'aucun_auteur' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#20316;&#32773;',
-'aucun_site' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#31449;&#28857;',
-'aucune_breve' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#31616;&#35201;',
-'aucune_rubrique' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#19987;&#26639;',
-'autres_breves' => '&#20854;&#23427;&#31616;&#35201;',
-'autres_groupes_de_mots_clefs' => '&#20854;&#23427;&#20851;&#38190;&#35789;&#32452;',
-'autres_groupes_mots_clefs' => '&#20854;&#23427;&#20851;&#38190;&#35789;&#32452;',
-'autres_sites' => '&#20854;&#23427;&#31449;&#28857;',
-
-
-// B
-'bonjour' => '&#24744;&#22909;',
-'breves' => '&#31616;&#35201;',
-
-
-// C
-'commenter_site' => '&#35780;&#35770;&#31449;&#28857;',
-
-
-// D
-'dans_meme_rubrique' => '&#22312;&#30456;&#21516;&#31456;&#33410;',
-'date' => '&#26085;&#26399;',
-'dernier_ajout' => '&#26368;&#26032;&#28155;&#20837;',
-'dernieres_breves' => '&#26368;&#26032;&#31616;&#35201;',
-'derniers_articles' => '&#26368;&#26032;&#25991;&#31456;',
-'derniers_commentaires' => '&#26368;&#26032;&#35780;&#35770;',
-'derniers_messages_des_forums' => '&#26368;&#36817;&#35770;&#22363;&#28040;&#24687;',
-'derniers_messages_forum' => '&#35770;&#22363;&#26368;&#36817;&#21457;&#34920;&#30340;&#28040;&#24687;',
-
-
-// E
-'edition_mode_texte' => '&#25991;&#26412;&#32534;&#36753;&#27169;&#24335;',
-'en_reponse' => '&#22238;&#22797;:',
-'en_resume' => '&#25688;&#35201;',
-'envoyer_message' => '&#21457;&#36865;&#28040;&#24687;',
-'envoyer_un_message' => '&#21457;&#36865;&#28040;&#24687;',
-'espace_prive' => '&#31169;&#26377;&#21306;',
-
-
-// F
-'forum' => '&#35770;&#22363;',
-
-
-// H
-'hierarchie_site' => '&#31449;&#28857;&#23618;&#27425;',
-
-
-// J
-'jours' => '&#22825;',
-
-
-// M
-'meme_auteur' => '&#21516;&#19968;&#20316;&#32773;',
-'meme_rubrique' => '&#21516;&#19968;&#19987;&#26639;',
-'memes_auteurs' => '&#21516;&#19968;&#20316;&#32773;',
-'message' => '&#28040;&#24687;',
-'messages_forum' => '&#35770;&#22363;&#28040;&#24687;',
-'messages_recents' => '&#26368;&#36817;&#35770;&#22363;&#28040;&#24687;',
-'mots_clefs' => '&#20851;&#38190;&#35789;',
-'mots_clefs_meme_groupe' => '&#21516;&#32452;&#20851;&#38190;&#35789;',
-
-
-// N
-'navigation' => '&#23548;&#33322;',
-'nom' => '&#21517;&#23383;',
-'nouveautes' => '&#26032;&#21464;&#21160;',
-'nouveautes_web' => '&#26032;&#39029;&#38754;',
-'nouveaux_articles' => '&#26032;&#25991;&#31456;',
-'nouvelles_breves' => '&#26032;&#35201;&#38395;',
-
-
-// P
-'page_precedente' => '&#21069;&#19968;&#39029;',
-'page_suivante' => '&#21518;&#19968;&#39029;',
-'par_auteur' => '&#25353;&#29031;',
-'participer_site' => '&#36890;&#36807;email&#27880;&#20876;&#24471;&#21040;&#35775;&#38382;&#30721;,&#24744;&#21487;&#20197;&#22312;&#26412;&#31449;&#28857;&#19978;&#24471;&#21040;&#19968;&#20010;&#27963;&#21160;&#21306;&#24182;&#21457;&#34920;&#24744;&#33258;&#24049;&#30340;&#25991;&#31456;.',
-'pas_d_article' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#25991;&#31456;',
-'pas_d_auteur' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#20316;&#32773;',
-'pas_de_breve' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#26032;&#38395;',
-'pas_de_rubrique' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#31456;&#33410;',
-'pas_de_site' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#31449;&#28857;',
-'plan_du_site' => '&#31449;&#28857;&#22270;',
-'plan_site' => '&#31449;&#28857;&#22320;&#22270;',
-'popularite' => '&#28909;&#28857;',
-'poster_message' => '&#21457;&#34920;&#28040;&#24687;',
-'poster_un_message' => '&#21457;&#34920;&#28040;&#24687;',
-'proposer_site' => '<NEW>Vous pouvez proposer un site &agrave; ajouter dans cette rubrique&nbsp;:',
-
-
-// R
-'repondre_article' => '&#22238;&#22797;&#25991;&#31456;',
-'repondre_breve' => '&#22238;&#22797;&#31616;&#35201;',
-'repondre_message' => '&#22238;&#22797;&#28040;&#24687;',
-'resultats_recherche' => '&#25628;&#32034;&#32467;&#26524;',
-'retour_debut_forums' => '&#36820;&#22238;&#35770;&#22363;&#39030;',
-'rubrique' => '&#19987;&#26639;',
-'rubriques' => '&#19987;&#26639;',
-
-
-// S
-'signatures_petition' => '&#31614;&#21517;',
-'site_realise_avec_spip' => '&#20351;&#29992;SPIP&#24314;&#31435;&#30340;&#31449;&#28857;',
-'sites_web' => '&#32593;&#31449;',
-'sous_rubriques' => '&#23376;&#19987;&#26639;',
-'suite' => '&#32487;&#32493;',
-'sur_web' => '&#22312;&#32593;&#19978;',
-'syndiquer_rubrique' => '&#32852;&#21512;&#35813;&#19987;&#26639;',
-'syndiquer_site' => '&#32852;&#21512;&#25972;&#20010;&#31449;&#28857;',
-
-
-// T
-'texte_lettre_information' => '&#31449;&#28857;&#26102;&#20107;&#36890;&#35759;',
-'texte_lettre_information_2' => '&#26412;&#23553;&#20449;&#32479;&#35745;&#33258;&#19979;&#36848;&#26102;&#38388;&#21457;&#34920;&#30340;&#25991;&#31456;&#21644;&#31616;&#35201;',
-
-
-// V
-'ver_imprimer' => '&#25171;&#21360;&#29256;&#26412;',
-'voir_en_ligne' => '&#22312;&#32447;&#39044;&#35272;'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => '&#20027;&#39029;',
+'articles' => '&#25991;&#31456;',
+'articles_auteur' => '&#35813;&#20316;&#32773;&#30340;&#25991;&#31456;',
+'articles_populaires' => '&#28909;&#38376;&#25991;&#31456;',
+'articles_recents' => '&#26368;&#26032;&#25991;&#31456;',
+'articles_rubrique' => '&#27492;&#26639;&#19979;&#30340;&#25991;&#31456;',
+'aucun_article' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#25991;&#31456;',
+'aucun_auteur' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#20316;&#32773;',
+'aucun_site' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#31449;&#28857;',
+'aucune_breve' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#31616;&#35201;',
+'aucune_rubrique' => '&#35813;&#22320;&#22336;&#19979;&#27809;&#26377;&#19987;&#26639;',
+'autres_breves' => '&#20854;&#23427;&#31616;&#35201;',
+'autres_groupes_de_mots_clefs' => '&#20854;&#23427;&#20851;&#38190;&#35789;&#32452;',
+'autres_groupes_mots_clefs' => '&#20854;&#23427;&#20851;&#38190;&#35789;&#32452;',
+'autres_sites' => '&#20854;&#23427;&#31449;&#28857;',
+
+
+// B
+'bonjour' => '&#24744;&#22909;',
+'breves' => '&#31616;&#35201;',
+
+
+// C
+'commenter_site' => '&#35780;&#35770;&#31449;&#28857;',
+
+
+// D
+'dans_meme_rubrique' => '&#22312;&#30456;&#21516;&#31456;&#33410;',
+'date' => '&#26085;&#26399;',
+'dernier_ajout' => '&#26368;&#26032;&#28155;&#20837;',
+'dernieres_breves' => '&#26368;&#26032;&#31616;&#35201;',
+'derniers_articles' => '&#26368;&#26032;&#25991;&#31456;',
+'derniers_commentaires' => '&#26368;&#26032;&#35780;&#35770;',
+'derniers_messages_des_forums' => '&#26368;&#36817;&#35770;&#22363;&#28040;&#24687;',
+'derniers_messages_forum' => '&#35770;&#22363;&#26368;&#36817;&#21457;&#34920;&#30340;&#28040;&#24687;',
+
+
+// E
+'edition_mode_texte' => '&#25991;&#26412;&#32534;&#36753;&#27169;&#24335;',
+'en_reponse' => '&#22238;&#22797;:',
+'en_resume' => '&#25688;&#35201;',
+'envoyer_message' => '&#21457;&#36865;&#28040;&#24687;',
+'envoyer_un_message' => '&#21457;&#36865;&#28040;&#24687;',
+'espace_prive' => '&#31169;&#26377;&#21306;',
+
+
+// F
+'forum' => '&#35770;&#22363;',
+
+
+// H
+'hierarchie_site' => '&#31449;&#28857;&#23618;&#27425;',
+
+
+// J
+'jours' => '&#22825;',
+
+
+// M
+'meme_auteur' => '&#21516;&#19968;&#20316;&#32773;',
+'meme_rubrique' => '&#21516;&#19968;&#19987;&#26639;',
+'memes_auteurs' => '&#21516;&#19968;&#20316;&#32773;',
+'message' => '&#28040;&#24687;',
+'messages_forum' => '&#35770;&#22363;&#28040;&#24687;',
+'messages_recents' => '&#26368;&#36817;&#35770;&#22363;&#28040;&#24687;',
+'mots_clefs' => '&#20851;&#38190;&#35789;',
+'mots_clefs_meme_groupe' => '&#21516;&#32452;&#20851;&#38190;&#35789;',
+
+
+// N
+'navigation' => '&#23548;&#33322;',
+'nom' => '&#21517;&#23383;',
+'nouveautes' => '&#26032;&#21464;&#21160;',
+'nouveautes_web' => '&#26032;&#39029;&#38754;',
+'nouveaux_articles' => '&#26032;&#25991;&#31456;',
+'nouvelles_breves' => '&#26032;&#35201;&#38395;',
+
+
+// P
+'page_precedente' => '&#21069;&#19968;&#39029;',
+'page_suivante' => '&#21518;&#19968;&#39029;',
+'par_auteur' => '&#25353;&#29031;',
+'participer_site' => '&#36890;&#36807;email&#27880;&#20876;&#24471;&#21040;&#35775;&#38382;&#30721;,&#24744;&#21487;&#20197;&#22312;&#26412;&#31449;&#28857;&#19978;&#24471;&#21040;&#19968;&#20010;&#27963;&#21160;&#21306;&#24182;&#21457;&#34920;&#24744;&#33258;&#24049;&#30340;&#25991;&#31456;.',
+'pas_d_article' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#25991;&#31456;',
+'pas_d_auteur' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#20316;&#32773;',
+'pas_de_breve' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#26032;&#38395;',
+'pas_de_rubrique' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#31456;&#33410;',
+'pas_de_site' => '&#35813;&#22320;&#22336;&#27809;&#26377;&#31449;&#28857;',
+'plan_du_site' => '&#31449;&#28857;&#22270;',
+'plan_site' => '&#31449;&#28857;&#22320;&#22270;',
+'popularite' => '&#28909;&#28857;',
+'poster_message' => '&#21457;&#34920;&#28040;&#24687;',
+'poster_un_message' => '&#21457;&#34920;&#28040;&#24687;',
+'proposer_site' => '<NEW>Vous pouvez proposer un site &agrave; ajouter dans cette rubrique&nbsp;:',
+
+
+// R
+'repondre_article' => '&#22238;&#22797;&#25991;&#31456;',
+'repondre_breve' => '&#22238;&#22797;&#31616;&#35201;',
+'repondre_message' => '&#22238;&#22797;&#28040;&#24687;',
+'resultats_recherche' => '&#25628;&#32034;&#32467;&#26524;',
+'retour_debut_forums' => '&#36820;&#22238;&#35770;&#22363;&#39030;',
+'rubrique' => '&#19987;&#26639;',
+'rubriques' => '&#19987;&#26639;',
+
+
+// S
+'signatures_petition' => '&#31614;&#21517;',
+'site_realise_avec_spip' => '&#20351;&#29992;SPIP&#24314;&#31435;&#30340;&#31449;&#28857;',
+'sites_web' => '&#32593;&#31449;',
+'sous_rubriques' => '&#23376;&#19987;&#26639;',
+'suite' => '&#32487;&#32493;',
+'sur_web' => '&#22312;&#32593;&#19978;',
+'syndiquer_rubrique' => '&#32852;&#21512;&#35813;&#19987;&#26639;',
+'syndiquer_site' => '&#32852;&#21512;&#25972;&#20010;&#31449;&#28857;',
+
+
+// T
+'texte_lettre_information' => '&#31449;&#28857;&#26102;&#20107;&#36890;&#35759;',
+'texte_lettre_information_2' => '&#26412;&#23553;&#20449;&#32479;&#35745;&#33258;&#19979;&#36848;&#26102;&#38388;&#21457;&#34920;&#30340;&#25991;&#31456;&#21644;&#31616;&#35201;',
+
+
+// V
+'ver_imprimer' => '&#25171;&#21360;&#29256;&#26412;',
+'voir_en_ligne' => '&#22312;&#32447;&#39044;&#35272;'
+
+);
+
+
+?>

Index: spip_ar.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_ar.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_ar.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_ar.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1733 +1,735 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => '&#1593;&#1585;&#1576;&#1610; [ar]',
-'0_liste' => 'spip-dev at rezo.net',
[...2437 lines suppressed...]
+'zbug_critere_inconnu' => '&#1605;&#1593;&#1610;&#1575;&#1585; &#1594;&#1610;&#1585; &#1605;&#1593;&#1585;&#1608;&#1601; @critere@',
+'zbug_distant_interdit' => '&#1593;&#1605;&#1604;&#1610;&#1577; &#1582;&#1575;&#1585;&#1580;&#1610;&#1577; &#1605;&#1605;&#1606;&#1608;&#1593;&#1577;',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: &#1578;&#1593;&#1585;&#1610;&#1601; &#1605;&#1578;&#1603;&#1585;&#1585;',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: &#1593;&#1604;&#1575;&#1605;&#1577; &#1573;&#1594;&#1604;&#1575;&#1602; &#1594;&#1575;&#1574;&#1576;&#1577;',
+'zbug_erreur_boucle_syntaxe' => '&#1578;&#1585;&#1603;&#1610;&#1576; &#1581;&#1604;&#1602;&#1577; &#1594;&#1610;&#1585; &#1589;&#1581;&#1610;&#1581;',
+'zbug_erreur_execution_page' => '&#1582;&#1591;&#1571; &#1601;&#1610; &#1578;&#1606;&#1601;&#1610;&#1584; &#1575;&#1604;&#1589;&#1601;&#1581;&#1577;',
+'zbug_erreur_filtre' => '&#1582;&#1591;&#1571;: &#1575;&#1604;&#1605;&#1585;&#1588;&#1581; <b>&laquo;@filtre@&raquo;</b> &#1594;&#1610;&#1585; &#1605;&#1593;&#1585;&#1608;&#1601; ',
+'zbug_erreur_meme_parent' => '&#1604;&#1575; &#1610;&#1606;&#1591;&#1576;&#1602; {meme_parent} &#1575;&#1604;&#1575; &#1593;&#1604;&#1609; &#1581;&#1604;&#1602;&#1578;&#1610; (FORUMS) &#1575;&#1608; (RUBRIQUES)',
+'zbug_erreur_squelette' => '&#1582;&#1591;&#1571; &#1601;&#1610; &#1575;&#1604;&#1589;&#1601;&#1581;&#1577; &#1575;&#1604;&#1606;&#1605;&#1608;&#1584;&#1580;&#1610;&#1577;',
+'zbug_info_erreur_squelette' => '&#1582;&#1591;&#1571; &#1601;&#1610; &#1575;&#1604;&#1605;&#1608;&#1601;&#1593;',
+'zbug_inversion_ordre_inexistant' => '&#1575;&#1587;&#1578;&#1582;&#1583;&#1575;&#1605; {inverse} &#1605;&#1593; &#1578;&#1585;&#1578;&#1610;&#1576; &#1594;&#1610;&#1585; &#1605;&#1608;&#1580;&#1608;&#1583;',
+'zbug_parametres_inclus_incorrects' => '&#1593;&#1608;&#1575;&#1605;&#1604; &#1575;&#1583;&#1585;&#1575;&#1580; &#1594;&#1610;&#1585; &#1589;&#1581;&#1610;&#1581;&#1577;',
+'zbug_resultat' => '&#1575;&#1604;&#1606;&#1578;&#1610;&#1580;&#1577;',
+'zbug_serveur_indefini' => '&#1582;&#1575;&#1583;&#1605; SQL &#1594;&#1610;&#1585; &#1605;&#1581;&#1583;&#1583;',
+'zbug_table_inconnue' => '&#1580;&#1583;&#1608;&#1604; SQL &#1607;&#1608; &laquo;@table@&raquo; &#1594;&#1610;&#1585; &#1605;&#1593;&#1585;&#1608;&#1601;'
+
+);
+
+
+?>

Index: spip_bg.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_bg.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_bg.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_bg.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1764 +1,777 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-bg',
-'0_langue' => '&#1073;&#1098;&#1083;&#1075;&#1072;&#1088;&#1089;&#1082;&#1080; [bg]',
-'0_liste' => 'spip-bg at rezo.net',
[...2510 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>externe interdit',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: &#1076;&#1074;&#1086;&#1081;&#1085;&#1072; &#1076;&#1077;&#1092;&#1080;&#1085;&#1080;&#1094;&#1080;&#1103;',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: &#1083;&#1080;&#1087;&#1089;&#1074;&#1072; &#1079;&#1072;&#1090;&#1074;&#1072;&#1088;&#1103;&#1097; "&#1090;&#1072;&#1075;" (<>)',
+'zbug_erreur_boucle_syntaxe' => '&#1053;&#1077;&#1087;&#1088;&#1072;&#1074;&#1080;&#1083;&#1077;&#1085; &#1089;&#1080;&#1085;&#1090;&#1072;&#1082;&#1089; &#1085;&#1072; &#1094;&#1080;&#1082;&#1098;&#1083; (BOUCLE)',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => '&#1043;&#1088;&#1077;&#1096;&#1082;&#1072;: &#1085;&#1077;&#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085; &#1092;&#1080;&#1083;&#1090;&#1098;&#1088;: <b>?@filtre@?</b>',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => '&#1615;&#1043;&#1088;&#1077;&#1096;&#1082;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => '<NEW>r&eacute;sultat',
+'zbug_serveur_indefini' => '<NEW>serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => '<NEW>Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>

Index: spip_ca.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_ca.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_ca.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_ca.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1616 +1,769 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'Catal&agrave; [ca]',
-'0_liste' => ' spip-dev at rezo.net',
[...2354 lines suppressed...]
+'zbug_critere_inconnu' => 'criteri desconegut @critere@',
+'zbug_distant_interdit' => 'prohibit amb dades externes',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: doble definici&oacute;',
+'zbug_erreur_boucle_fermant' => ' BOUCLE at id@: falta tag que tanque',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi incorrecte del bucle',
+'zbug_erreur_execution_page' => 'error d\'execuci&oacute; de la p&agrave;gina',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> no definit',
+'zbug_erreur_meme_parent' => '{meme_parent} nom&eacute;s s\'aplica als bucles (FORUMS) o (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Error(s) en l\'esquelet',
+'zbug_info_erreur_squelette' => 'Error en el lloc Web',
+'zbug_inversion_ordre_inexistant' => 'inversi&oacute; d\'un ordre inexistent',
+'zbug_parametres_inclus_incorrects' => 'Par&agrave;metres d\'inclusi&oacute; incorrectes',
+'zbug_resultat' => 'resultat',
+'zbug_serveur_indefini' => 'servidor SQL sense definir',
+'zbug_table_inconnue' => 'Taula SQL &laquo; @table@ &raquo; desconeguda'
+
+);
+
+
+?>

Index: spip_cpf.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_cpf.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_cpf.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_cpf.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1671 +1,693 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-cpf',
-'0_langue' => 'Kr&eacute;ol r&eacute;nyon&eacute; [cpf]',
-'0_liste' => 'spip-cpf at rezo.net',
[...2333 lines suppressed...]
+// U
+'upload_fichier_zip' => 'Fisy&eacute; ZIP',
+'upload_fichier_zip_texte' => 'Fisy&eacute;-l&agrave; sak ou v&eacute; instal&eacute; l&eacute; inn fisy&eacute; Zip.',
+'upload_fichier_zip_texte2' => 'Fisy&eacute;-la l&eacute; pit&egrave;t&nbsp;:',
+'upload_limit' => 'Fisy&eacute;-l li l&eacute; tro gro pou lo s&egrave;rv&egrave;r&nbsp;; pli gran tay l&eacute; posib <i>upload</i> sa l&eacute; @max at .',
+'upload_zip_decompacter' => 'd&eacute;kopres&eacute; &eacute; sakinn z&eacute;l&eacute;man ali sr&eacute; pou instal&eacute; si lo sit. Tout bann fisy&eacute; pou instal i sra lor&nbsp;:',
+'upload_zip_telquel' => 'instal&eacute; komsa kom in larsiv kopres&eacute; Zip&nbsp;;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: n&eacute;na d&eacute; d&eacute;finisyon',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: n&eacute;na in "tag" sat i mank po tak in boukl.',
+'zbug_erreur_boucle_syntaxe' => 'Sintask lo boukl-l&agrave; l&eacute; pa kor&egrave;k',
+'zbug_erreur_filtre' => 'N&eacute;na in kanar andan lo filt <b>&laquo; @filtre@ &raquo;</b> sat l&eacute; pa d&eacute;fini',
+'zbug_info_erreur_squelette' => 'Kanar sir lo sit'
+
+);
+
+
+?>

Index: spip_da.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_da.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_da.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_da.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1667 +1,773 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-da',
-'0_langue' => 'dansk [da]',
-'0_liste' => 'spip-da at rezo.net',
[...2409 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>externe interdit',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: flertydig definition',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: mangler slutkoden der lukker',
+'zbug_erreur_boucle_syntaxe' => 'forkert loop (BOUCLE) syntax ',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => 'Fejl - udefineret filter: <b>"@filter@"</b>',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => 'Fejl p&aring; sitet',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => '<NEW>r&eacute;sultat',
+'zbug_serveur_indefini' => '<NEW>serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => '<NEW>Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>

Index: spip_de.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_de.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_de.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_de.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1534 +1,692 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://www.spip.net/de',
-'0_langue' => 'Deutsch [de]',
-'0_liste' => 'spip-de at rezo.net',
[...2195 lines suppressed...]
+'zbug_critere_inconnu' => 'unbekanntes Kriterium @critere@',
+'zbug_distant_interdit' => 'extern unzul&auml;ssig',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: doppelt vorhanden',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: Schluss-Tag fehlt',
+'zbug_erreur_boucle_syntaxe' => 'Syntax der Schleife fehlerhaft',
+'zbug_erreur_execution_page' => 'Fehler beim Ausf&uuml;hren der Seite',
+'zbug_erreur_filtre' => 'Fehler: Filter<b>&laquo; @filtre@ &raquo;</b> ist nicht definiert',
+'zbug_erreur_meme_parent' => '{meme_parent} nur in den Schleifen (FORUMS) und (RUBRIQUES) verwenden.',
+'zbug_erreur_squelette' => 'Fehler in Layoutvorlage (Skelett)',
+'zbug_info_erreur_squelette' => 'Irrtum auf der Seite',
+'zbug_inversion_ordre_inexistant' => 'Umkehrung einer inexistenten Sortierung ',
+'zbug_parametres_inclus_incorrects' => 'INCLUDE-Parameter fehlerhaft',
+'zbug_resultat' => 'Ergebnis',
+'zbug_serveur_indefini' => 'SQL-Server nicht definiert',
+'zbug_table_inconnue' => 'SQL-Tabelle &laquo; @table@ &raquo; unbekannt'
+
+);
+
+
+?>

Index: spip_en.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_en.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_en.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_en.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1714 +1,734 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'English [en]',
-'0_liste' => 'spip-en at rezo.net',
[...2417 lines suppressed...]
+'zbug_critere_inconnu' => 'unknown criterion @critere@',
+'zbug_distant_interdit' => 'external data forbidden',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: double definition',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: missing closing tag',
+'zbug_erreur_boucle_syntaxe' => 'Incorrect loop (BOUCLE) syntax ',
+'zbug_erreur_execution_page' => 'error in page calculation',
+'zbug_erreur_filtre' => 'Error - undefined filter: <b>"@filtre@"</b>',
+'zbug_erreur_meme_parent' => '{meme_parent} only applies to loops (FORUMS) and (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Error(s) in template',
+'zbug_info_erreur_squelette' => '&#1615;Error in the site',
+'zbug_inversion_ordre_inexistant' => 'reversal of nonexistent order',
+'zbug_parametres_inclus_incorrects' => 'Wrong inclusion parameters',
+'zbug_resultat' => 'result',
+'zbug_serveur_indefini' => 'undefined SQL server',
+'zbug_table_inconnue' => 'Unknown SQL table "@table@"'
+
+);
+
+
+?>

Index: spip_eo.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_eo.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_eo.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_eo.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1683 +1,693 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-eo',
-'0_langue' => 'Esperanto [eo]',
-'0_liste' => 'spip-eo at rezo.net',
[...2345 lines suppressed...]
+// U
+'upload_fichier_zip' => 'ZIP-Dosiero',
+'upload_fichier_zip_texte' => 'La dosiero, kiun vi proponas instali estas ZIP-dosiero.',
+'upload_fichier_zip_texte2' => 'Tiu dosiero eble estas&nbsp;:',
+'upload_limit' => 'Tiu dosiero estas tro granda por la servilo; la maksimuma grandeco permesita en <i>upload</i> estas @max at .',
+'upload_zip_decompacter' => 'maldensigita kaj &#265;iu elemento kiun &#285;i enhavas instalita en la teksejo. La dosieroj kiuj estos tiam instalitaj en la teksejo estas:',
+'upload_zip_telquel' => 'instalita kiel tia, kiel densigita Zip-arkivo;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: duobla difino',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: ne fermigita marko',
+'zbug_erreur_boucle_syntaxe' => 'Mal&#285;usta sintakso de ma&#349;o',
+'zbug_erreur_filtre' => 'Eraro : filtro <b>&laquo; @filtre@ &raquo;</b> nedifinita',
+'zbug_info_erreur_squelette' => 'Eraro en la teksejo'
+
+);
+
+
+?>

Index: spip_es.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_es.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_es.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_es.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1563 +1,706 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-es',
-'0_langue' => 'espa&ntilde;ol [es]',
-'0_liste' => 'spip-es at rezo.net',
[...2238 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>distant interdit',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: doble definici&oacute;n',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: falta la baliza de cierre',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxis de bucle incorrecto',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => 'Error: filtro <b>&laquo; @filtre@ &raquo;</b> no definido',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => 'Error en el sitio',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => '<NEW>r&eacute;sultat',
+'zbug_serveur_indefini' => '<NEW>serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => '<NEW>Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>

Index: spip_fa.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_fa.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_fa.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_fa.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1524 +1,685 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://www.spip.net/fa',
-'0_langue' => '[fa] &#1601;&#1575;&#1585;&#1587;&#1609;',
-'0_liste' => 'spip-fa at rezo.net',
[...2178 lines suppressed...]
+'zbug_critere_inconnu' => '&#1583;&#1604;&#1610;&#1604; &#1606;&#1575;&#1605;&#1588;&#1582;&#1589; @critere@',
+'zbug_distant_interdit' => '&#1582;&#1575;&#1585;&#1580;&#1609; &#1605;&#1605;&#1606;&#1608;&#1593;',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: &#1578;&#1608;&#1589;&#1610;&#1601; &#1583;&#1608;&#1711;&#1575;&#1606;&#1607;',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@:&#1576;&#1575;&#1604;&#1610;&#1586; "<" &#1576;&#1587;&#1578;&#1607; &#1606;&#1588;&#1583;&#1607;',
+'zbug_erreur_boucle_syntaxe' => '&#1580;&#1605;&#1604;&#1607; &#1610; &#1581;&#1604;&#1602;&#1607; &#1606;&#1575;&#1583;&#1585;&#1587;&#1578; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; ',
+'zbug_erreur_execution_page' => '&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; &#1583;&#1585; &#1575;&#1580;&#1585;&#1575;&#1609; &#1576;&#1585;&#1606;&#1575;&#1605;&#1607; &#1609; &#1589;&#1601;&#1581;&#1607;',
+'zbug_erreur_filtre' => '&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; : &#1601;&#1610;&#1604;&#1578;&#1585;<b>&laquo; @filtre@ &raquo;</b>&#1578;&#1593;&#1585;&#1610;&#1601; &#1606;&#1588;&#1583;&#1607;',
+'zbug_erreur_meme_parent' => '{meme_parent} &#1578;&#1606;&#1607;&#1575; &#1576;&#1585;&#1575;&#1609; &#1581;&#1604;&#1602;&#1607; &#1607;&#1575;&#1609; (FORUMS) &#1610;&#1575; (RUBRIQUES) &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
+'zbug_erreur_squelette' => '&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; &#1583;&#1585; &#1587;&#1575;&#1582;&#1578;&#1575;&#1585; &#1575;&#1587;&#1603;&#1604;&#1578;',
+'zbug_info_erreur_squelette' => '&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; &#1583;&#1585; &#1587;&#1575;&#1610;&#1578;',
+'zbug_inversion_ordre_inexistant' => '&#1608;&#1575;&#1585;&#1575;&#1606;&#1711;&#1609; &#1578;&#1585;&#1578;&#1610;&#1576;  &#1606;&#1575;&#1605;&#1608;&#1580;&#1608;&#1583;',
+'zbug_parametres_inclus_incorrects' => '&#1662;&#1575;&#1585;&#1575;&#1605;&#1578;&#1585; &#1601;&#1608;&#1602; &#1583;&#1585;&#1587;&#1578; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
+'zbug_resultat' => '&#1606;&#1578;&#1610;&#1580;&#1607;',
+'zbug_serveur_indefini' => '&#1587;&#1585;&#1608;&#1585; SQL &#1605;&#1588;&#1582;&#1589; &#1606;&#1610;&#1587;&#1578;',
+'zbug_table_inconnue' => '&#1580;&#1583;&#1608;&#1604; SQL &laquo; @table@ &raquo;  &#1606;&#1575;&#1588;&#1606;&#1575;&#1582;&#1578;&#1607; &#1575;&#1587;&#1578;'
+
+);
+
+
+?>

Index: spip_fon.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_fon.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_fon.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_fon.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1492 +1,665 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'H&#596;ntogbo&#769;',
-'0_langue' => 'Fongbe [fon]',
-'0_liste' => 'spip-dev at rezo.net',
[...2126 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>externe interdit',
+'zbug_erreur_boucle_double' => 't&ograve;b&ograve;t&ograve;b&ograve;@id@:t&iacute;m&#603; &agrave;z&#596;n w&egrave;',
+'zbug_erreur_boucle_fermant' => 't&ograve;b&ograve;t&ograve;b&ograve;@:c&aacute;v&igrave; &eacute; n&uacute; &#596; &#598;&egrave; &aacute;',
+'zbug_erreur_boucle_syntaxe' => 't&ograve;b&ograve;t&ograve;b&ograve; &#596; s&#596; gb&egrave; &aacute;',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => 'kl&#603;n &agrave;f&#596; ',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => '&agrave;f&#596;kikl&#603;n &#598;&ograve; gblogbloj&iacute;',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => '<NEW>r&eacute;sultat',
+'zbug_serveur_indefini' => '<NEW>serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => '<NEW>Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>

Index: spip_fr.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_fr.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_fr.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_fr.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1726 +1,735 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'Fran&ccedil;ais [fr]',
-'0_liste' => 'spip-dev at rezo.net',
[...2430 lines suppressed...]
+'zbug_critere_inconnu' => 'crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => 'externe interdit',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: double d&eacute;finition',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: tag fermant manquant',
+'zbug_erreur_boucle_syntaxe' => 'Syntaxe boucle incorrecte',
+'zbug_erreur_execution_page' => 'erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => 'Erreur : filtre <b>&laquo; @filtre@ &raquo;</b> non d&eacute;fini',
+'zbug_erreur_meme_parent' => '{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => 'Erreur sur le site',
+'zbug_inversion_ordre_inexistant' => 'inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => 'Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => 'r&eacute;sultat',
+'zbug_serveur_indefini' => 'serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => 'Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>

Index: spip_gl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_gl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_gl.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_gl.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1678 +1,741 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://www.spip.net/gl',
-'0_langue' => 'Galego [gl]',
-'0_liste' => 'spip-gl at rezo.net',
[...2388 lines suppressed...]
+'zbug_critere_inconnu' => 'criterio desco&ntilde;ecido @critere@',
+'zbug_distant_interdit' => 'servizo externo prohibido',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: dobre definici&oacute;n',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: tag de cerre ausente',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxe de bucle incorrecta',
+'zbug_erreur_execution_page' => 'erro de execuci&oacute;n da p&aacute;xina',
+'zbug_erreur_filtre' => 'Erro : filtro <b>&laquo; @filtre@ &raquo;</b> non definido',
+'zbug_erreur_meme_parent' => '{meme_parent} non &eacute; aplic&aacute;bel m&aacute;is que aos bucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Erro(s) no esqueleto',
+'zbug_info_erreur_squelette' => 'Erro no web',
+'zbug_inversion_ordre_inexistant' => 'inversi&oacute;n dunha orde inexistente',
+'zbug_parametres_inclus_incorrects' => 'Par&aacute;metros de inclusi&oacute;n incorrectos',
+'zbug_resultat' => 'resultado',
+'zbug_serveur_indefini' => 'servidor SQL indefinido',
+'zbug_table_inconnue' => 'T&aacute;boa SQL &laquo; @table@ &raquo; desco&ntilde;ecida'
+
+);
+
+
+?>

Index: spip_hu.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_hu.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_hu.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_hu.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1644 +1,687 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-hu',
-'0_langue' => 'Magyar [hu]',
-'0_liste' => 'spip-hu at rezo.net',
[...2300 lines suppressed...]
+// U
+'upload_fichier_zip' => '<NEW>Fichier ZIP',
+'upload_fichier_zip_texte' => '<NEW>Le fichier que vous proposez d\'installer est un fichier Zip.',
+'upload_fichier_zip_texte2' => '<NEW>Ce fichier peut &ecirc;tre&nbsp;:',
+'upload_limit' => '<NEW>Ce fichier est trop gros pour le serveur&nbsp;; la taille maximum autoris&eacute;e en <i>upload</i> est de @max at .',
+'upload_zip_decompacter' => '<NEW>d&eacute;compress&eacute; et chaque &eacute;l&eacute;ment qu\'il contient install&eacute; sur le site. Les fichiers qui seront alors install&eacute;s sur le site sont&nbsp;:',
+'upload_zip_telquel' => '<NEW>install&eacute; tel quel, en tant qu\'archive compress&eacute;e Zip&nbsp;;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: dupla definici&oacute;',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: z&aacute;r&oacute; tag hi&aacute;nyzik',
+'zbug_erreur_boucle_syntaxe' => 'Folyamat szint&aacute;xisa nem korrekt',
+'zbug_erreur_filtre' => 'Hiba : sz&#369;r&#337; <b>&laquo; @filtre@ &raquo;</b> nincs meghat&aacute;rozva',
+'zbug_info_erreur_squelette' => 'Hiba a honlapon'
+
+);
+
+
+?>

Index: spip_it.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_it.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_it.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_it.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1676 +1,721 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-it',
-'0_langue' => 'Italiano [it]',
-'0_liste' => 'spip-it at rezo.net',
[...2366 lines suppressed...]
+'zbug_critere_inconnu' => 'criterio sconosciuto @critere@',
+'zbug_distant_interdit' => 'esterno non accessibile',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: doppia definizione',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: chiusura tag mancante',
+'zbug_erreur_boucle_syntaxe' => 'Sintassi del ciclo errata',
+'zbug_erreur_execution_page' => 'errore di esecuzione della pagina',
+'zbug_erreur_filtre' => 'Errore : filtro <b>&laquo; @filtre@ &raquo;</b> non esistente',
+'zbug_erreur_meme_parent' => '{meme_parent} si applica unicamente ai cicli (FORUMS) o (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Errore/i nel modello di layout',
+'zbug_info_erreur_squelette' => 'Errore sul sito',
+'zbug_inversion_ordre_inexistant' => 'inversione di un ordine non esistente',
+'zbug_parametres_inclus_incorrects' => 'Parametri di inclusione non corretti',
+'zbug_resultat' => 'risultato',
+'zbug_serveur_indefini' => 'server SQL non definito',
+'zbug_table_inconnue' => 'Tabella SQL &laquo; @table@ &raquo; sconosciuta'
+
+);
+
+
+?>

Index: spip_lb.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_lb.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_lb.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_lb.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1546 +1,696 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-lb',
-'0_langue' => 'L&euml;tzebuergesch [lb]',
-'0_liste' => 'spip-lb at rezo.net',
[...2211 lines suppressed...]
+'zbug_critere_inconnu' => 'Onbekannten Crit&egrave;re @critere@',
+'zbug_distant_interdit' => 'extern verbueden',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: duebel Definitioun',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: Schluss-Tag fehlt',
+'zbug_erreur_boucle_syntaxe' => 'Falsch Syntax vun der Schleef',
+'zbug_erreur_execution_page' => 'Fehler beim Berechnen vun der S&auml;it',
+'zbug_erreur_filtre' => 'Fehler: Filter <b>"@filtre@"</b> n&euml;t defin&eacute;iert',
+'zbug_erreur_meme_parent' => '{meme_parent} ass just fir d\'Bouclen (FORUMS) oder (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Fehler am Skelett',
+'zbug_info_erreur_squelette' => 'Fehler um Site',
+'zbug_inversion_ordre_inexistant' => 'Inversioun vun enger Uerdnung d&eacute;i &euml;t n&euml;t g&euml;tt',
+'zbug_parametres_inclus_incorrects' => 'Falsch Parameteren fir d\'Inclusioun',
+'zbug_resultat' => '-eidel-',
+'zbug_serveur_indefini' => 'SQL-Server n&euml;t defin&eacute;iert',
+'zbug_table_inconnue' => 'Onbekannten SQL-Tabell "@table@"'
+
+);
+
+
+?>

Index: spip_nl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_nl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_nl.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_nl.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1707 +1,699 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://www.spip.net/nl_',
-'0_langue' => 'Nederlands [nl]',
-'0_liste' => 'spip-nl at rezo.net',
[...2375 lines suppressed...]
+// U
+'upload_fichier_zip' => 'ZIP bestand',
+'upload_fichier_zip_texte' => 'Het bestand dat je wil installeren is een ZIP bestand.',
+'upload_fichier_zip_texte2' => 'Dit bestand kan zijn&nbsp;:',
+'upload_limit' => 'Dit bestand is te groot voor de server&nbsp;; de maximale bestandsgrootte voor <i>upload</i> is @max at .',
+'upload_zip_decompacter' => 'uitgepakt en elk bestand ge&iuml;nstalleerd op de site. De bestanden die op de site komen, zijn&nbsp;:',
+'upload_zip_telquel' => 'ge&iuml;nstalleerd als gezipt (gecomprimeerd) bestand&nbsp;;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: dubbel gebruik',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: sluitingshaakje ontbreekt',
+'zbug_erreur_boucle_syntaxe' => 'Onjuiste syntaxis van de lus',
+'zbug_erreur_filtre' => 'Fout : de filter <b>&laquo; @filtre@ &raquo;</b> is niet gedefinieerd',
+'zbug_info_erreur_squelette' => 'Fout op de site'
+
+);
+
+
+?>

Index: spip_oc_auv.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_oc_auv.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_oc_auv.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_oc_auv.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1683 +1,694 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://www.spip.net/oc',
-'0_langue' => 'occitan (auvernhat) [oc_auv]',
-'0_liste' => 'spip-oc at rezo.net',
[...2346 lines suppressed...]
+// U
+'upload_fichier_zip' => 'Fich&egrave;ir ZIP',
+'upload_fichier_zip_texte' => 'Lo fich&egrave;ir que prepausatz d\'installar z-es un fich&egrave;ir Zip.',
+'upload_fichier_zip_texte2' => 'Aquel fich&egrave;ir p&ograve;t l-&egrave;sser:',
+'upload_limit' => 'Aquel fich&egrave;ir z-es tr&ograve;p gr&ograve;s per lo servidor; la talha maxima autorizada en <i>upload</i> z-es de @max at .',
+'upload_zip_decompacter' => 'descomprimit e chasque element que conten installat sus lo sit. Lendonc los fich&egrave;irs que ser&aacute;n installats sus lo sit son:',
+'upload_zip_telquel' => 'installat tau coma z-es, coma archiu comprimit Zip;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BLOCA at id@: definicion dobla',
+'zbug_erreur_boucle_fermant' => 'BLOCA at id@: lo tag barrador manca',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi bloca incorr&egrave;cta',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> non definit',
+'zbug_info_erreur_squelette' => 'Error sobre lo sit'
+
+);
+
+
+?>

Index: spip_oc_gsc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_oc_gsc.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_oc_gsc.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_oc_gsc.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1683 +1,693 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'occitan (gascon) [oc_gsc]',
-'0_liste' => 'lenga.occitana at aprene.org',
[...2345 lines suppressed...]
+// U
+'upload_fichier_zip' => 'Fichi&egrave;r ZIP',
+'upload_fichier_zip_texte' => 'Lo fichi&egrave;r que prepausatz d\'installar qu\'ei un fichi&egrave;r Zip.',
+'upload_fichier_zip_texte2' => 'Aqueth fichi&egrave;r que p&ograve;t estar:',
+'upload_limit' => 'Aqueth fichi&egrave;r qu\'ei tr&ograve;p gr&ograve;s peu servider; la talha maxima autorizada en <i>upload</i> qu\'ei de @max at .',
+'upload_zip_decompacter' => 'descomprimit e cada element que contien installat suu sit. Alavetz los fichi&egrave;rs que ser&agrave;n installats suu sit que son:',
+'upload_zip_telquel' => 'installat tau com ei, com archiu comprimit Zip;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BLOCA at id@: definicion dobla',
+'zbug_erreur_boucle_fermant' => 'BLOCA at id@: lo tag barrader que manca',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi bloca incorr&egrave;cta',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> non definit',
+'zbug_info_erreur_squelette' => 'Error suber lo sit'
+
+);
+
+
+?>

Index: spip_oc_lms.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_oc_lms.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_oc_lms.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_oc_lms.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1689 +1,698 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://www.spip.net/oc',
-'0_langue' => 'occitan (lemosin) [oc_lms]',
-'0_liste' => 'spip-oc at rezo.net',
[...2356 lines suppressed...]
+// U
+'upload_fichier_zip' => 'Fichier ZIP',
+'upload_fichier_zip_texte' => 'Lo fichier que prepausatz d\'installar es un fichier Zip.',
+'upload_fichier_zip_texte2' => 'Queu fichier p&ograve;t &egrave;sser:',
+'upload_limit' => 'Queu fichier es tr&ograve;p gr&ograve;s per lo servidor; la talha maxima autorizada en <i>upload</i> es de @max at .',
+'upload_zip_decompacter' => 'descomprimit e chasque element que conten installat sus lo sit. Laidonc los fichiers que ser&aacute;n installats sus lo sit son:',
+'upload_zip_telquel' => 'installat tau coma es, coma archiu comprimit Zip;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BLOCA at id@: definicion dobla',
+'zbug_erreur_boucle_fermant' => 'BLOCA at id@: lo tag barrador manca',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi bloca incorrecta',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> non definit',
+'zbug_info_erreur_squelette' => 'Error subre lo sit'
+
+);
+
+
+?>

Index: spip_oc_lnc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_oc_lnc.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_oc_lnc.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_oc_lnc.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1687 +1,698 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-oc',
-'0_langue' => 'occitan (lengadocian) [oc_lnc]',
-'0_liste' => 'escambis.pedagogics at aprene.org',
[...2354 lines suppressed...]
+// U
+'upload_fichier_zip' => 'Fichi&egrave;r ZIP',
+'upload_fichier_zip_texte' => 'Lo fichi&egrave;r que prepausatz d\'installar es un fichi&egrave;r Zip.',
+'upload_fichier_zip_texte2' => 'Aquel fichi&egrave;r p&ograve;t &egrave;sser:',
+'upload_limit' => 'Aquel fichi&egrave;r es tr&ograve;p gr&ograve;s pel servidor; la talha maxima autorizada en <i>upload</i> es de @max at .',
+'upload_zip_decompacter' => 'descomprimit e cada element que conten installat sul sit. Alara los fichi&egrave;rs que ser&agrave;n installats sul sit son:',
+'upload_zip_telquel' => 'installat tal coma es, coma archiu comprimit Zip;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BLOCA at id@: definicion dobla',
+'zbug_erreur_boucle_fermant' => 'BLOCA at id@: lo tag barrador manca',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi bloca incorr&egrave;cta',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> non definit',
+'zbug_info_erreur_squelette' => 'Error subre lo sit'
+
+);
+
+
+?>

Index: spip_oc_ni.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_oc_ni.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_oc_ni.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_oc_ni.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1656 +1,727 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-oc',
-'0_langue' => 'Ni&ccedil;ard [oc_ni]',
-'0_liste' => 'spip-oc at rezo.net',
[...2352 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>externe interdit',
+'zbug_erreur_boucle_double' => 'BLOCA at id@: definicion dobla',
+'zbug_erreur_boucle_fermant' => 'BLOCA at id@: lo tag barrador manca',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi bloca incorr&egrave;cta',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> non definit',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => 'Error sobre lo sit',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => 'resultat',
+'zbug_serveur_indefini' => 'servidor SQL endefinit',
+'zbug_table_inconnue' => 'Taula SQL &laquo; @table@ &raquo; esconoissuda'
+
+);
+
+
+?>

Index: spip_oc_prv.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_oc_prv.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_oc_prv.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_oc_prv.php3	21 Feb 2005 13:14:05 -0000	1.2
@@ -1,1684 +1,694 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'occitan (proven&ccedil;au) [oc_prv]',
-'0_liste' => 'lenga.occitana at aprene.org',
[...2347 lines suppressed...]
+// U
+'upload_fichier_zip' => 'Fichier ZIP',
+'upload_fichier_zip_texte' => 'Lo fichier que prepausatz d\'installar es un fichier Zip.',
+'upload_fichier_zip_texte2' => 'Aquel fichier p&ograve;t &egrave;sser:',
+'upload_limit' => 'Aqueu fichier es tr&ograve;p gr&ograve;s per lo servidor; la talha maxima autorizada en <i>upload</i> es de @max at .',
+'upload_zip_decompacter' => 'descomprimit e cada element que conten installat sus lo sit. Alora lei fichiers que ser&agrave;n installats sus lo sit son:',
+'upload_zip_telquel' => 'installat tau coma es, coma archiu comprimit Zip;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BLOCA at id@: definicion dobla',
+'zbug_erreur_boucle_fermant' => 'BLOCA at id@: lo tag barrador manca',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi bloca incorr&egrave;cta',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> non definit',
+'zbug_info_erreur_squelette' => 'Error subre lo sit'
+
+);
+
+
+?>

Index: spip_oc_va.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_oc_va.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_oc_va.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_oc_va.php3	21 Feb 2005 13:14:06 -0000	1.2
@@ -1,1738 +1,749 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://www.spip.net/oc',
-'0_langue' => 'occitan (vivaroaupenc) [oc_va]',
-'0_liste' => 'spip-oc at rezo.net',
[...2456 lines suppressed...]
+// U
+'upload_fichier_zip' => 'Fichier ZIP',
+'upload_fichier_zip_texte' => 'Lo fichier que prepausatz d\'installar es un fichier Zip.',
+'upload_fichier_zip_texte2' => 'Aqueu fichier p&ograve;t &egrave;sser:',
+'upload_limit' => 'Aqueu fichier es tr&ograve;p gr&ograve;s per lo servior; la talha maxima autorizaa en <i>upload</i> es de @max at .',
+'upload_zip_decompacter' => 'descomprimit e chasque element que conten installat sus lo sit. Aladonc los fichiers que ser&agrave;n installats sus lo sit son:',
+'upload_zip_telquel' => 'installat tau coma es, coma archiu comprimit Zip;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BLOCA at id@: definicion dobla',
+'zbug_erreur_boucle_fermant' => 'BLOCA at id@: lo tag barraor manca',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi bloca incorr&egrave;cta',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> non definit',
+'zbug_info_erreur_squelette' => 'Error sobre lo sit'
+
+);
+
+
+?>

Index: spip_pl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_pl.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_pl.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_pl.php3	21 Feb 2005 13:14:06 -0000	1.2
@@ -1,1694 +1,728 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'Polski [pl]',
-'0_liste' => 'spip-dev at rezo.net',
[...2391 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>externe interdit',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: podw&oacute;jna definicja',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: brakuje znacznika zamykaj&#261;cego',
+'zbug_erreur_boucle_syntaxe' => 'Sk&#322;adnia p&#281;tli (boucle) nieprawid&#322;owa',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => 'B&#322;&#261;d : filtr <b>&laquo; @filtre@ &raquo;</b> nie zdefiniowany',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => 'B&#322;&#261;d na stronie',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => '<NEW>r&eacute;sultat',
+'zbug_serveur_indefini' => '<NEW>serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => '<NEW>Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>

Index: spip_pt.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_pt.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_pt.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_pt.php3	21 Feb 2005 13:14:06 -0000	1.2
@@ -1,1760 +1,731 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'portugu&ecirc;s [pt]',
-'0_liste' => 'spip-dev at rezo.net',
[...2460 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>externe interdit',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: Dupla Defini&ccedil;&atilde;o ',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: tag final em falta   ',
+'zbug_erreur_boucle_syntaxe' => 'Loop com sintaxe incorrecto',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => 'Erro : filtro <b>&laquo; @filtre@ &raquo;</b> indefinido',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => 'Erro no s&iacute;tio',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => '<NEW>r&eacute;sultat',
+'zbug_serveur_indefini' => '<NEW>serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => '<NEW>Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>

Index: spip_vi.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_vi.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_vi.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_vi.php3	21 Feb 2005 13:14:06 -0000	1.2
@@ -1,1544 +1,660 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'Vi&#7879;t nam [vi]',
-'0_liste' => 'spip-vi at rezo.net',
[...2173 lines suppressed...]
+// U
+'upload_fichier_zip' => '<NEW>Fichier ZIP',
+'upload_fichier_zip_texte' => '<NEW>Le fichier que vous proposez d\'installer est un fichier Zip.',
+'upload_fichier_zip_texte2' => '<NEW>Ce fichier peut &ecirc;tre&nbsp;:',
+'upload_limit' => '<NEW>Ce fichier est trop gros pour le serveur&nbsp;; la taille maximum autoris&eacute;e en <i>upload</i> est de @max at .',
+'upload_zip_decompacter' => '<NEW>d&eacute;compress&eacute; et chaque &eacute;l&eacute;ment qu\'il contient install&eacute; sur le site. Les fichiers qui seront alors install&eacute;s sur le site sont&nbsp;:',
+'upload_zip_telquel' => '<NEW>install&eacute; tel quel, en tant qu\'archive compress&eacute;e Zip&nbsp;;',
+
+
+// Z
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: Ch&#7881; &#273;&#432;&#7907;c d&ugrave;ng m&#7897;t l&#7847;n ',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: ch&#432;a d&#432;&#7907;c d&oacute;ng l&#7841;i ',
+'zbug_erreur_boucle_syntaxe' => 'C&aacute;ch vi&#7871;t v&ograve;ng (boucle) n&agrave;y kh&ocirc;ng &#273;&uacute;ng.',
+'zbug_erreur_filtre' => 'Sai l&#7847;m : B&#7841;n ch&#432;a x&aacute;c &#273;&#7883;nh b&#7897; l&#7885;c (filtre) <b>&laquo; @filtre@ &raquo;</b> n&#7847;y. ',
+'zbug_info_erreur_squelette' => 'C&oacute; l&#7895;i tr&ecirc;n Website'
+
+);
+
+
+?>

Index: spip_zh.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_zh.php3,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- spip_zh.php3	13 Jan 2005 15:37:15 -0000	1.1
+++ spip_zh.php3	21 Feb 2005 13:14:06 -0000	1.2
@@ -1,1698 +1,690 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-zh',
-'0_langue' => '<MODIF>&#31616;&#20307;&#20013;&#25991; [zh]',
-'0_liste' => 'spip-zh at rezo.net',
[...2357 lines suppressed...]
+// U
+'upload_fichier_zip' => '&#21387;&#32553;&#25991;&#20214;ZIP',
+'upload_fichier_zip_texte' => '&#24744;&#24314;&#35758;&#23433;&#35013;&#30340;&#25991;&#20214;&#26159;ZIP&#26684;&#24335;&#21387;&#32553;&#25991;&#20214;&#12290;',
+'upload_fichier_zip_texte2' => '&#35813;&#25991;&#20214;&#21487;&#20197;&#34987;&#65306;',
+'upload_limit' => '&#35813;&#25991;&#20214;&#30340;&#22823;&#23567;&#36229;&#36807;&#20102;&#26381;&#21153;&#22120;&#20801;&#35768;&#30340;&#33539;&#22260;&#65292;&#26381;&#21153;&#22120;&#20801;&#35768;<i>upload</i>&#30340;&#26368;&#22823;&#25991;&#20214;&#26159; @max at .',
+'upload_zip_decompacter' => '&#24050;&#34987;&#35299;&#21387;&#65292;&#24182;&#19988;&#20854;&#20013;&#30340;&#25152;&#26377;&#25991;&#20214;&#22343;&#34987;&#23433;&#35013;&#21040;&#32593;&#31449;&#12290;&#23558;&#34987;&#23433;&#35013;&#21040;&#32593;&#31449;&#30340;&#25991;&#20214;&#22914;&#19979;&#65306;',
+'upload_zip_telquel' => '&#29031;&#21407;&#26679;&#23433;&#35013;&#65292;&#20173;&#20197; Zip&#21387;&#32553;&#25991;&#26723;&#26684;&#24335;;',
+
+
+// Z
+'zbug_erreur_boucle_double' => '&#29615;@id@: &#37325;&#22797;&#23450;&#20041;',
+'zbug_erreur_boucle_fermant' => '&#29615;@id@: &#32570;&#23569;&#35821;&#21477;&#32467;&#23614;&#26631;&#24535;',
+'zbug_erreur_boucle_syntaxe' => '&#21477;&#27861;&#20013;&#20986;&#29616;&#38169;&#35823;&#30340;&#29615;',
+'zbug_erreur_filtre' => '&#38169;&#35823;: &#36807;&#28388;<b>&laquo; @filtre@ &raquo;</b>&#26410;&#23450;&#20041;',
+'zbug_info_erreur_squelette' => '&#31449;&#28857;&#38169;&#35823;'
+
+);
+
+
+?>



From stef at berlios.de  Mon Feb 21 17:10:54 2005
From: stef at berlios.de (stef at berlios.de)
Date: Mon, 21 Feb 2005 17:10:54 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire carte_edit.php3,1.2,1.3
Message-ID: <200502211610.j1LGAs8Y028276@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv28270/ecrire

Modified Files:
	carte_edit.php3 
Log Message:
proto1.3.1

Index: carte_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/carte_edit.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- carte_edit.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ carte_edit.php3	21 Feb 2005 16:10:51 -0000	1.3
@@ -90,7 +90,7 @@
 
 	// Ajout d'un objet
 	if ($selection_type) {
-		$geometrie=coords2wtk($selection_type,$selection_coords);
+		$geometrie=coords2wkt($selection_type,$selection_coords);
 		$objet_titre = _L("Nouvel objet");
 		$url_objet = "#";
 		//TODO : passer tout ca en spip_abstract ...
@@ -206,8 +206,8 @@
 		//if (intval($url_carte)>0) $leurl_carte="../spip_carto.php?fond_carte=".intval($url_carte);
 		//else $leurl_carte=$url_carte;
 		$lurl_carte="../spip_carto.php?fond_carte=".urlencode($url_carte);
-		$tabcallage=wtktoarray($callage);
-		echo afficher_carte_inteface($id_carte,$retour,$lurl_carte,$tabcallage);
+		$tabcallage=wkttoarray($callage);
+		echo afficher_carte_interface($id_carte,$retour,$lurl_carte,$tabcallage);
 		
 		echo fin_block();
 		echo "</div>\n";



From stef at berlios.de  Mon Feb 21 17:11:19 2005
From: stef at berlios.de (stef at berlios.de)
Date: Mon, 21 Feb 2005 17:11:19 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire inc_carto.php3,1.2,1.3
Message-ID: <200502211611.j1LGBJ8Y028302@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv28296/ecrire

Modified Files:
	inc_carto.php3 
Log Message:
proto1.3.1

Index: inc_carto.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_carto.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc_carto.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ inc_carto.php3	21 Feb 2005 16:11:17 -0000	1.3
@@ -4,11 +4,11 @@
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CARTE")) return;
 define("_ECRIRE_INC_CARTE", "1");
-function coords2wtk($selection_type,$selection_coords){
+function coords2wkt($selection_type,$selection_coords){
 	
 	return $selection_type."(".$selection_coords.")";
 }
-function wtktoarray($callage){	
+function wkttoarray($callage){	
 	$curseur=strpos($callage,"(");
 	$tabcallage['shape']=substr($callage,0,$curseur);
 	$curseur2=strpos($callage,",");



From stef at berlios.de  Mon Feb 21 18:10:30 2005
From: stef at berlios.de (stef at berlios.de)
Date: Mon, 21 Feb 2005 18:10:30 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire carte_edit.php3,1.3,1.4
Message-ID: <200502211710.j1LHAU8Y003772@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv3759/ecrire

Modified Files:
	carte_edit.php3 
Log Message:
proto1.3.1

Index: carte_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/carte_edit.php3,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- carte_edit.php3	21 Feb 2005 16:10:51 -0000	1.3
+++ carte_edit.php3	21 Feb 2005 17:10:27 -0000	1.4
@@ -46,7 +46,7 @@
 			if ($document_id=intval($url_carte)) {
 				//TODO : gerer type image et peut etre mime
 				$image = spip_fetch_array(spip_query("SELECT * FROM spip_documents WHERE id_document = $document_id"));;
-				if ($image) $callage="rect(0,0;".$image['largeur'].",".$image['hauteur'].")";
+				if ($image) $callage=array2worldfile($image);
 			}
 			//TODO : passer tout ca en spip_abstract ...
 			$query = "UPDATE spip_carto_cartes SET ".
@@ -206,7 +206,7 @@
 		//if (intval($url_carte)>0) $leurl_carte="../spip_carto.php?fond_carte=".intval($url_carte);
 		//else $leurl_carte=$url_carte;
 		$lurl_carte="../spip_carto.php?fond_carte=".urlencode($url_carte);
-		$tabcallage=wkttoarray($callage);
+		$tabcallage=worldfile2array($callage);
 		echo afficher_carte_interface($id_carte,$retour,$lurl_carte,$tabcallage);
 		
 		echo fin_block();



From stef at berlios.de  Mon Feb 21 18:10:46 2005
From: stef at berlios.de (stef at berlios.de)
Date: Mon, 21 Feb 2005 18:10:46 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire inc_carto.php3,1.3,1.4
Message-ID: <200502211710.j1LHAk8Y003834@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv3816/ecrire

Modified Files:
	inc_carto.php3 
Log Message:
proto1.3.1

Index: inc_carto.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_carto.php3,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- inc_carto.php3	21 Feb 2005 16:11:17 -0000	1.3
+++ inc_carto.php3	21 Feb 2005 17:10:44 -0000	1.4
@@ -8,7 +8,11 @@
 	
 	return $selection_type."(".$selection_coords.")";
 }
-function wkttoarray($callage){	
+function worldfile2array($mArray){	
+	return "rect(0,0;".$image['largeur'].",".$image['hauteur'].")";
+}
+
+function worldfile2array($callage){	
 	$curseur=strpos($callage,"(");
 	$tabcallage['shape']=substr($callage,0,$curseur);
 	$curseur2=strpos($callage,",");
@@ -21,6 +25,7 @@
 	$tabcallage['bottom_right']['y']=substr($callage,$curseur2+1,$curseur-$curseur2-1);
 	return $tabcallage;
 }
+
 function embed_carto_url($id_carte, $url_parse) {
 	$lURL = $url_parse['path']."/carto.php3?id_carte=".$id_carte."&scale=".$_GET['scale']."&x=".$_GET['x']."&y=".$_GET['y'];
 	return $lURL;



From stef at berlios.de  Tue Feb 22 23:31:19 2005
From: stef at berlios.de (stef at berlios.de)
Date: Tue, 22 Feb 2005 23:31:19 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire inc_carto.php3,1.4,1.5
Message-ID: <200502222231.j1MMVJ8Y002332@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv2324/ecrire

Modified Files:
	inc_carto.php3 
Log Message:
proto1.3.1

Index: inc_carto.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_carto.php3,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- inc_carto.php3	21 Feb 2005 17:10:44 -0000	1.4
+++ inc_carto.php3	22 Feb 2005 22:31:16 -0000	1.5
@@ -8,7 +8,7 @@
 	
 	return $selection_type."(".$selection_coords.")";
 }
-function worldfile2array($mArray){	
+function array2worldfile($mArray){	
 	return "rect(0,0;".$image['largeur'].",".$image['hauteur'].")";
 }
 
@@ -97,7 +97,7 @@
 }
 
 
-function afficher_carte_inteface($id_carte,$retour,$fichier,$callage) {
+function afficher_carte_interface($id_carte,$retour,$fichier,$callage) {
 	$width=$callage['bottom_right']['x']-$callage['top_left']['x'];
 	$height=$callage['bottom_right']['y']-$callage['top_left']['y'];
 	$returned='<script type="text/javascript" src="js/x_core_nn4.js"></script>



From stef at berlios.de  Wed Feb 23 00:51:19 2005
From: stef at berlios.de (stef at berlios.de)
Date: Wed, 23 Feb 2005 00:51:19 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire inc_carto.php3,1.5,1.6
Message-ID: <200502222351.j1MNpJ8Y025886@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv25623/ecrire

Modified Files:
	inc_carto.php3 
Log Message:
proto1.3.1

Index: inc_carto.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_carto.php3,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- inc_carto.php3	22 Feb 2005 22:31:16 -0000	1.5
+++ inc_carto.php3	22 Feb 2005 23:51:17 -0000	1.6
@@ -9,7 +9,7 @@
 	return $selection_type."(".$selection_coords.")";
 }
 function array2worldfile($mArray){	
-	return "rect(0,0;".$image['largeur'].",".$image['hauteur'].")";
+	return "rect(0,0;".$mArray['largeur'].",".$mArray['hauteur'].")";
 }
 
 function worldfile2array($callage){	



From fxp at berlios.de  Fri Feb 25 13:01:34 2005
From: fxp at berlios.de (fxp at berlios.de)
Date: Fri, 25 Feb 2005 13:01:34 +0100
Subject: [Spip-carto-cvs] spipcarto mes_fonctions.php3,1.3,1.4
Message-ID: <200502251201.j1PC1YNx031605@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv31596

Modified Files:
	mes_fonctions.php3 
Log Message:
Fxp / Mise en conformit? avec le format WKT

Index: mes_fonctions.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/mes_fonctions.php3,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- mes_fonctions.php3	20 Feb 2005 22:16:48 -0000	1.3
+++ mes_fonctions.php3	25 Feb 2005 12:01:32 -0000	1.4
@@ -22,10 +22,18 @@
  *
  */
 function wkt2style($geometrie){
-	$debut=strpos($geometrie,"(");
-	$milieu=strpos($geometrie,",");
-	$fin=strpos($geometrie,";");
-	$returned_str="top: ".substr($geometrie,$milieu+1,$fin-$milieu-1)."px;left: ".substr($geometrie,$debut+1,$milieu-$debut-1)."px;";
+	$wktGeomType = substr($geometrie,0,strpos($geometrie,"("));
+	
+	
+	if (strcasecmp($wktGeomType,"POLYGON")==0)
+	{	$coordpair = explode(',',substr($geometrie,strpos($geometrie,"(")+1,-1));
+		$coord = explode (' ', $coordpair[0]);	// TODO : Le centre de gravit? du polygone serait pr?f?rable
+	}elseif (strcasecmp($wktGeomType,"POINT")==0)
+		$coord = explode(' ',substr($geometrie,strpos($geometrie,"(")+1,-1));
+	else
+		$coord = array(0,0); 
+		
+	$returned_str="left: ".$coord[0]."px;top: ".$coord[1]."px;";
 	return $returned_str;
 }
 
@@ -47,11 +55,23 @@
  * http://www.uzine.net/spip_contrib/
  *
  */
-function wkt2coords($geometrie){
-	
-	return str_replace(';',',',substr($geometrie,8,-1));
+function wkt2coords($geometrie, $format = "HTML"){
+	$wktGeomType = substr($geometrie,0,strpos($geometrie,"("));
+	$radius		 = 5;
+	switch ($format){
+		case "HTML":
+			if (strcasecmp($wktGeomType,"POLYGON")==0)
+				return str_replace(' ',',',substr($geometrie,strpos($geometrie,"(")+1,-1));
+			if (strcasecmp($wktGeomType,"POINT")==0)
+				return str_replace(' ',',',substr($geometrie,strpos($geometrie,"(")+1,-1)).",".$radius;
+		break;
+		case "SVG":
+			// Pour obtenir des objets SVG ...
+		break;
+	}
 }
 
+
 /*
  *   +---------------------------------------------+
  *    Nom du Filtre : WKT to SHAPE 
@@ -70,10 +90,27 @@
  * http://www.uzine.net/spip_contrib/
  *
  */
-function wkt2shape($geometrie){
-	
-	return substr($geometrie,0,4);
+function wkt2shape($geometrie, $format = "HTML"){
+	$wktGeomType = substr($geometrie,0,strpos($geometrie,"("));
+	switch ($format){
+		case "HTML":
+			if (strcasecmp($wktGeomType,"POLYGON")==0)
+				return "POLY"; 
+			if (strcasecmp($wktGeomType,"POINT")==0)
+				return "CIRCLE"; 
+			// HTML Image map ne supporte pas les lignes
+		break;
+		case "SVG":
+			if (strcasecmp($wktGeomType,"POLYGON")==0)
+				return "polygon"; 
+			if (strcasecmp($wktGeomType,"POINT")==0)
+				return "circle"; 
+			if (strcasecmp($wktGeomType,"LINE")==0)
+				return "polyline"; 
+		break;
+	}
 }
+
 
 //////////////////////////////////////////////////
 //////////////////////////////////////////////////



From fxp at berlios.de  Fri Feb 25 13:01:56 2005
From: fxp at berlios.de (fxp at berlios.de)
Date: Fri, 25 Feb 2005 13:01:56 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire inc_carto.php3,1.6,1.7
Message-ID: <200502251201.j1PC1uNx031741@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv31669/ecrire

Modified Files:
	inc_carto.php3 
Log Message:
Fxp / Mise en conformit? avec le format WKT

Index: inc_carto.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_carto.php3,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- inc_carto.php3	22 Feb 2005 23:51:17 -0000	1.6
+++ inc_carto.php3	25 Feb 2005 12:01:54 -0000	1.7
@@ -4,25 +4,29 @@
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CARTE")) return;
 define("_ECRIRE_INC_CARTE", "1");
+
+// Conversion coordonn?es interface DHTML -> WKT
 function coords2wkt($selection_type,$selection_coords){
-	
-	return $selection_type."(".$selection_coords.")";
+	return $selection_type."(".str_replace (';',',',str_replace (',',' ',$selection_coords)).")";
 }
+
+// D?finition du callage ? partir de la dimension de l'image
 function array2worldfile($mArray){	
-	return "rect(0,0;".$mArray['largeur'].",".$mArray['hauteur'].")";
+	return "polygon(0 0,".$mArray['largeur']." ".$mArray['hauteur'].")";
 }
 
 function worldfile2array($callage){	
-	$curseur=strpos($callage,"(");
-	$tabcallage['shape']=substr($callage,0,$curseur);
-	$curseur2=strpos($callage,",");
-	$tabcallage['top_left']['x']=substr($callage,$curseur+1,$curseur2-$curseur-1);
-	$curseur=strpos($callage,";");
-	$tabcallage['top_left']['y']=substr($callage,$curseur2+1,$curseur-$curseur2-1);
-	$curseur2=strrpos($callage,",");
-	$tabcallage['bottom_right']['x']=substr($callage,$curseur+1,$curseur2-$curseur-1);
-	$curseur=strpos($callage,")");
-	$tabcallage['bottom_right']['y']=substr($callage,$curseur2+1,$curseur-$curseur2-1);
+	$tabcallage['shape']=substr($callage,0,strpos($callage,"("));
+	
+	$coordpair = explode(',',substr($callage,strpos($callage,"(")+1,-1));
+	$UL = explode (' ', $coordpair[0]);
+	$LR = explode (' ', $coordpair[1]);
+	
+	$tabcallage['top_left']['x']=$UL[0];
+	$tabcallage['top_left']['y']=$UL[1];
+	$tabcallage['bottom_right']['x']=$LR[0];
+	$tabcallage['bottom_right']['y']=$LR[1];
+	
 	return $tabcallage;
 }
 
@@ -206,7 +210,7 @@
    </td>
    <td>
     <input type="radio" name="tool" value="point,submit,crossHair,point"   id="point" onclick="dhtmlBox.changeTool()" />
-          line submit<br />
+          point submit<br />
    </td>
    <td>
     <input type="radio" name="tool" value="line,submit,crossHair,line"   id="line" onclick="dhtmlBox.changeTool()" />



From fxp at berlios.de  Fri Feb 25 13:02:18 2005
From: fxp at berlios.de (fxp at berlios.de)
Date: Fri, 25 Feb 2005 13:02:18 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire carte_edit.php3,1.4,1.5
Message-ID: <200502251202.j1PC2INx032407@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv32325/ecrire

Modified Files:
	carte_edit.php3 
Log Message:
Fxp / Mise en conformit? avec le format WKT

Index: carte_edit.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/carte_edit.php3,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- carte_edit.php3	21 Feb 2005 17:10:27 -0000	1.4
+++ carte_edit.php3	25 Feb 2005 12:02:14 -0000	1.5
@@ -43,11 +43,12 @@
 	else {
 		if ($modif_carte == $id_carte) {
 			//TODO : generer automatiquement callage si document spip
-			if ($document_id=intval($url_carte)) {
-				//TODO : gerer type image et peut etre mime
-				$image = spip_fetch_array(spip_query("SELECT * FROM spip_documents WHERE id_document = $document_id"));;
-				if ($image) $callage=array2worldfile($image);
-			}
+			if (!$callage)
+				if ($document_id=intval($url_carte)) {
+					//TODO : gerer type image et peut etre mime
+					$image = spip_fetch_array(spip_query("SELECT * FROM spip_documents WHERE id_document = $document_id"));;
+					if ($image) $callage=array2worldfile($image);
+				}
 			//TODO : passer tout ca en spip_abstract ...
 			$query = "UPDATE spip_carto_cartes SET ".
 			"titre='".addslashes($titre)."', ".



From stef at berlios.de  Fri Feb 25 17:36:00 2005
From: stef at berlios.de (stef at berlios.de)
Date: Fri, 25 Feb 2005 17:36:00 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire inc_invalideur.php3,1.2,1.3 calendrier_jour.php3,1.2,1.3 calendrier.php3,1.2,1.3 inc_presentation.php3,1.2,1.3 inc_charsets.php3,1.2,1.3 inc_logos.php3,1.2,1.3 calendrier_semaine.php3,1.2,1.3 inc_db_mysql.php3,1.2,1.3 inc_calendrier.php,1.2,1.3
Message-ID: <200502251636.j1PGa0Nx006503@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire
In directory sheep:/tmp/cvs-serv6379/spipcarto/ecrire

Modified Files:
	inc_invalideur.php3 calendrier_jour.php3 calendrier.php3 
	inc_presentation.php3 inc_charsets.php3 inc_logos.php3 
	calendrier_semaine.php3 inc_db_mysql.php3 inc_calendrier.php 
Log Message:
1.8pr1 cvs

Index: inc_invalideur.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_invalideur.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc_invalideur.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ inc_invalideur.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -106,10 +106,9 @@
 		// ce qui evite des chevauchements dans la validation des forums
 		// [ A valide un forum, B obtient de purger les invalides, et A
 		//   trouve son cache avant que B n'ait eu le temps de le purger ]
-		if (!_DIR_RESTREINT) {
-			ecrire_meta('invalider', 'oui');
-			ecrire_metas();
-		} else {
+		ecrire_meta('invalider', 'oui');
+		ecrire_metas();
+		if (_DIR_RESTREINT) {
 			include_local('inc-cache.php3');
 			retire_caches();
 		}

Index: calendrier_jour.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/calendrier_jour.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- calendrier_jour.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ calendrier_jour.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -10,7 +10,7 @@
  *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
 \***************************************************************************/
 
-$type = 'jour';
+if (!isset($_GET['type'])) $type = 'jour';
 include ("calendrier.php3");
 exit;
 ?>

Index: calendrier.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/calendrier.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- calendrier.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ calendrier.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -36,7 +36,7 @@
   $jour=$jour_today;
   $mois=$mois_today;
   $annee=$annee_today;
-}
+ } else {if (!isset($jour)) $jour = 1;}
 
 $date = date("Y-m-d", mktime(0,0,0,$mois, $jour, $annee));
 $jour = journum($date);
@@ -73,7 +73,7 @@
  else debut_html($titre);
 
 $f = 'http_calendrier_init_' . $type;
-echo $f($jour,$mois,$annee, $date);
+echo $f($jour,$mois,$annee, $date, $GLOBALS['PHP_SELF']);
 
 if (!_DIR_RESTREINT) fin_page(); else 	echo "</body></html>\n";
 

Index: inc_presentation.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_presentation.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc_presentation.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ inc_presentation.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1987,7 +1987,7 @@
 			$retour .= "</tr></table></a>\n";
 		}
 		else {
-			$retour .= "<a href='$lien' class='cellule-h-texte'><div>$texte</div></a>\n";
+			$retour .= "<a href='$lien' class='cellule-h-texte' $javascript><div>$texte</div></a>\n";
 		}
 		if ($danger) $retour .= "</div>";
 	} else {

Index: inc_charsets.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_charsets.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc_charsets.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ inc_charsets.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -2326,9 +2326,9 @@
 		return chr($num);
 	if($num<2048)
 		return chr(($num>>6)+192).chr(($num&63)+128);
-	if($num<32768)
+	if($num<65536)
 		return chr(($num>>12)+224).chr((($num>>6)&63)+128).chr(($num&63)+128);
-	if($num<2097152)
+	if($num<1114112)
 		return chr($num>>18+240).chr((($num>>12)&63)+128).chr(($num>>6)&63+128). chr($num&63+128);
 	return '';
 }

Index: inc_logos.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_logos.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc_logos.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ inc_logos.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -452,6 +452,11 @@
 	if (eregi("name='([^']+)'", $img, $regs)) $name = $regs[1];
 	if (eregi("hspace='([^']+)'", $img, $regs)) $espace = $regs[1];
 	if (!$logo) $logo = $img;
+	
+	// Ne pas creer de valeurs vides
+	if ($align) $align = " align='$align'";
+	if ($name) $name = " name='$name'";
+	if ($espace) $espace = " hspace='$espace' vspace='$espace'";
 
 	if (eregi("(.*)\.(jpg|gif|png)$", $logo, $regs)) {
 		if ($i = cherche_image_nommee($regs[1], array($regs[2]))) {
@@ -462,11 +467,11 @@
 				$vignette = $preview['fichier'];
 				$width = $preview['width'];
 				$height = $preview['height'];
-				return "<img src='$vignette' name='$name' border='0' align='$align' alt='' hspace='$espace' vspace='$espace' width='$width' height='$height' class='spip_logos' />";
+				return "<img src='$vignette'$name border='0'$name alt=''$espace width='$width' height='$height' class='spip_logos' />";
 			}
 			else if ($taille_origine = @getimagesize($logo)) {
 				list ($destWidth,$destHeight) = image_ratio($taille_origine[0], $taille_origine[1], $taille, $taille_y);
-				return "<img src='$logo' name='$name' width='$destWidth' height='$destHeight' border='0' align='$align' alt='' hspace='$espace' vspace='$espace' class='spip_logos' />";
+				return "<img src='$logo'$name width='$destWidth' height='$destHeight' border='0'$align alt=''$espace class='spip_logos' />";
 			}
 		}
 	}

Index: calendrier_semaine.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/calendrier_semaine.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- calendrier_semaine.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ calendrier_semaine.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -10,7 +10,7 @@
  *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
 \***************************************************************************/
 
-$type = 'semaine';
+if (!isset($_GET['type'])) $type = 'semaine';
 include ("calendrier.php3");
 exit;
 ?>

Index: inc_db_mysql.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_db_mysql.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc_db_mysql.php3	20 Feb 2005 22:19:26 -0000	1.2
+++ inc_db_mysql.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -226,15 +226,21 @@
 //
 function calcul_mysql_in($val, $valeurs, $not='') {
 	if (!$valeurs) return '0=0';
-	$s = split(',', $valeurs, 255);
-	if (count($s) < 255) {
-		return ("($val $not IN ($valeurs))");
-	} else {
-		$valeurs = array_pop($s);
-		return ("($val $not IN (" . join(',',$s) . "))\n" .
-			($not ? "AND\t" : "OR\t") .
-			calcul_mysql_in($val, $valeurs, $not));
-    }
+
+	$n = $i = 0;
+	$chunk = array();
+	while ($n = strpos($valeurs, ',', $n+1)) {
+		if ((++$i) >= 255) {
+			$chunk = substr($valeurs, 0, $n);
+			$in_sql .= "($val $not IN (" . $chunk . "))\n" .
+				($not ? "AND\t" : "OR\t");
+			$valeurs = substr($valeurs, $n+1);
+			$i = $n = 0;
+		}
+	}
+	$in_sql .= "($val $not IN ($valeurs))";
+
+	return $in_sql;
 }
 
 ?>

Index: inc_calendrier.php
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/inc_calendrier.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- inc_calendrier.php	20 Feb 2005 22:19:26 -0000	1.2
+++ inc_calendrier.php	25 Feb 2005 16:35:57 -0000	1.3
@@ -10,7 +10,6 @@
  *  Pour plus de details voir le fichier COPYING.txt ou l'aide en ligne.   *
 \***************************************************************************/
 
-
 //
 // Ce fichier ne sera execute qu'une fois
 if (defined("_ECRIRE_INC_CALENDRIER")) return;
@@ -144,7 +143,7 @@
 
 # affiche un mois en grand, avec des tableau de clics vers d'autres mois
 
-function http_calendrier_init_mois($premier_jour, $mois, $annee, $date)
+function http_calendrier_init_mois($premier_jour, $mois, $annee, $date, $script)
 {
 	global $spip_lang_left, $largeur_table, $largeur_gauche, $spip_ecran;
 
@@ -609,9 +608,9 @@
 {
   global $bleu, $jaune, $vert;
   $href = "message_edit.php3?rv=$annee-$mois-$jour&new=oui";
-
+  $script = 'calendrier.php3' ; // ok pour espace de redac, pas pour public
   return "\n" .
-    http_href("calendrier.php3?type=jour&jour=$jour&mois=$mois&annee=$annee", $clic) .
+    http_href("$script?type=jour&jour=$jour&mois=$mois&annee=$annee", $clic) .
     "\n" .
     (_DIR_RESTREINT ? '' : (
     http_href("$href&type=pb", 
@@ -734,8 +733,9 @@
 
 // Calcule un agenda mensuel et l'affiche
 
-function http_calendrier_agenda ($mois, $annee, $jour_ved, $mois_ved, $annee_ved, $semaine = false,  $script='calendrier.php3?', $ancre='') {
+function http_calendrier_agenda ($mois, $annee, $jour_ved, $mois_ved, $annee_ved, $semaine = false,  $script='', $ancre='') {
 
+  if (!$script) $script =  'calendrier.php3?' ;
   if (!$mois) {$mois = 12; $annee--;}
   elseif ($mois==13) {$mois = 1; $annee++;}
   return 
@@ -1044,16 +1044,16 @@
 			if ($bas > $bas_prec) $bas_prec = $bas;
 			$url = $evenement['URL']; 
 			$desc = propre($evenement['DESCRIPTION']);
+			$perso = $evenement['ATTENDEE'];
+			$lieu = $evenement['LOCATION'];
 			$sum = ereg_replace(' +','&nbsp;', typo($evenement['SUMMARY']));
 			if (!$sum) { $sum = $desc; $desc = '';}
+			if (!$sum) { $sum = $lieu; $lieu = '';}
+			if (!$sum) { $sum = $perso; $perso = '';}
 			if ($sum)
-			  $sum = "<span style='font-family: Verdana, Arial, Sans, sans-serif; font-size: 10px;'><b>$sum</b></span>";
-			if ($largeur > 90) {
-			  if ($desc)
-			    $sum .=  "<br /><span style='color: black'>$desc</span>" . (!$evenement['ATTENDEE'] ? '' : ("<br />" . $evenement['ATTENDEE']));
-			}
-			else 
-			  $desc .= " " . $evenement['ATTENDEE'];
+			  $sum = "<span style='font-family: Verdana, Arial, Sans, sans-serif; font-size: 10px;'><b>$sum</b>$lieu $perso</span>";
+			if (($largeur > 90) && $desc)
+			  $sum .=  "<br /><span style='color: black'>$desc</span>";
 			$colors = $detcolor($evenement);
 			if ($colors)
 			{
@@ -1088,8 +1088,6 @@
 			  ((!$url) ? 
 					$sum :
 				 http_href($url, $sum, $desc,"color: $fcolor")) . 
-			  ((!$evenement['LOCATION']) ? '' : 
-			   ("<br />" . $evenement['LOCATION'])) .
 				"</div>";
 			}
 		}
@@ -1100,7 +1098,8 @@
 }
 
 
-function http_calendrier_init_jour($jour_today,$mois_today,$annee_today, $date){
+function http_calendrier_init_jour($jour_today,$mois_today,$annee_today, $date, $script){
+
 	global $largeur_table, $largeur_gauche, $spip_ecran;
 	$jour = journum($date);
 	$mois = mois($date);
@@ -1125,7 +1124,7 @@
 	}
 	$retour .= "\n<td width='$largeur_centre' valign='top'>"  .
 		"<div>" .
-		http_calendrier_navigation_jour($jour,$mois,$annee, $GLOBALS['echelle'], 'calendrier.php3', '') .
+		http_calendrier_navigation_jour($jour,$mois,$annee, $GLOBALS['echelle'], $script, '') .
 		"</div>".
 		http_calendrier_jour($jour,$mois,$annee, "large") .
 		'</td>';
@@ -1142,7 +1141,7 @@
 	return $retour;
 }
 
-function http_calendrier_init_semaine($jour_today,$mois_today,$annee_today,$date)
+function http_calendrier_init_semaine($jour_today,$mois_today,$annee_today,$date, $script)
 {
 	global $spip_ecran, $spip_lang_left, $couleur_claire;	
 	
@@ -1173,7 +1172,7 @@
 		"<table cellpadding=0 cellspacing=0 border=0 width='$largeur_table'><tr>" .
 		"<td width='$largeur_table' valign='top'>" .
 		http_calendrier_suite_heures($jour_today,$mois_today,$annee_today, 			$articles, $breves, $messages,
-			'calendrier.php3',
+			$script,
 			'') .
 		"</td></tr></table>" .
 		(!(strlen($breves["0"]) > 0 OR $articles["0"] > 0) ? '' :
@@ -1190,6 +1189,7 @@
 	global $calendrier_message_fermeture;
 	global $partie_cal;
 	
+	$script =  'calendrier.php3' ; // ok pour espace de redac, pas pour public
 	if ($partie_cal == "soir") {
 		$debut_cal = 12;
 		$fin_cal = 23;
@@ -1224,14 +1224,14 @@
 
 	if ($large == "col" ) {
 	  $entete = "<div align='center' style='padding: 5px;'><b class='verdana1'>" .
-	    http_href("calendrier.php3?type=jour&jour=$jour&mois=$mois&annee=$annee",
+	    http_href("$script?type=jour&jour=$jour&mois=$mois&annee=$annee",
 				 affdate_jourcourt("$annee-$mois-$jour"),
 				 '',
 				 'color:black;') .
 	    "</b></div>";
 	}
 	else {
-		if ($large == "large") 
+	  if (($large == "large") && !_DIR_RESTREINT)
 			$entete = "<div align='center' style='padding: 5px;'>" .
 			http_href("message_edit.php3?rv=$annee-$mois-$jour&new=oui&type=pb",
 				$bleu ._T("lien_nouvea_pense_bete"),



From stef at berlios.de  Fri Feb 25 17:36:00 2005
From: stef at berlios.de (stef at berlios.de)
Date: Fri, 25 Feb 2005 17:36:00 +0100
Subject: [Spip-carto-cvs] spipcarto inc-cache.php3,1.3,1.4 habillage.css,1.3,1.4 inc-messforum.php3,1.3,1.4 inc-public-global.php3,1.3,1.4
Message-ID: <200502251636.j1PGa0Nx006519@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv6379/spipcarto

Modified Files:
	inc-cache.php3 habillage.css inc-messforum.php3 
	inc-public-global.php3 
Log Message:
1.8pr1 cvs

Index: inc-cache.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-cache.php3,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- inc-cache.php3	20 Feb 2005 22:15:59 -0000	1.3
+++ inc-cache.php3	25 Feb 2005 16:35:58 -0000	1.4
@@ -97,7 +97,7 @@
 }
 
 // Supprimer les caches marques "x"
-function retire_caches() {
+function retire_caches($chemin = '') {
 	if (!_DIR_RESTREINT) return;
 
 	// signaler
@@ -106,7 +106,18 @@
 
 	// recuperer la liste des caches voues a la suppression
 	$suppr = array();
-	$q = spip_query("SELECT fichier FROM spip_caches WHERE type='x'");
+
+	// En priorite le cache qu'on appelle maintenant
+	if ($chemin) {
+		$q = spip_query("SELECT fichier FROM spip_caches
+		WHERE fichier = '".addslashes($chemin)."' AND type='x' LIMIT 0,1");
+		if ($r = spip_fetch_array($q))
+			$suppr[$r['fichier']] = true;
+	}
+
+	// Et puis une centaine d'autres
+	$q = spip_query("SELECT fichier FROM spip_caches
+	WHERE type='x' LIMIT 0,100");
 	while ($r = spip_fetch_array($q))
 		$suppr[$r['fichier']] = true;
 
@@ -116,6 +127,12 @@
 			retire_cache($cache);
 		spip_query("DELETE FROM spip_caches WHERE "
 		.calcul_mysql_in('fichier', "'".join("','",array_keys($suppr))."'") );
+
+		// signaler aux suivants
+		if ($n>99) {
+			ecrire_meta('invalider', 'oui');
+			ecrire_metas();
+		}
 	}
 }
 

Index: habillage.css
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/habillage.css,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- habillage.css	20 Feb 2005 22:15:59 -0000	1.3
+++ habillage.css	25 Feb 2005 16:35:58 -0000	1.4
@@ -343,7 +343,7 @@
 	margin-bottom: 1em;
 	width: 100%;
 }
-.signatures td {
+.signatures td, .signatures th {
 	-moz-border-radius: 0.4em;
 }
 .signatures-titre {

Index: inc-messforum.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-messforum.php3,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- inc-messforum.php3	20 Feb 2005 22:16:48 -0000	1.3
+++ inc-messforum.php3	25 Feb 2005 16:35:58 -0000	1.4
@@ -150,7 +150,7 @@
 	// verifier fichier lock
 	$alea = preg_replace('/[^0-9]/', '', $alea);
 	if (!file_exists($hash = _DIR_SESSIONS."forum_$alea.lck"))
-		exit; # echec silencieux du POST
+		return $retour_forum; # echec silencieux du POST
 	unlink($hash);
 
 	// Entrer le message dans la base

Index: inc-public-global.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/inc-public-global.php3,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- inc-public-global.php3	20 Feb 2005 22:16:48 -0000	1.3
+++ inc-public-global.php3	25 Feb 2005 16:35:58 -0000	1.4
@@ -214,16 +214,16 @@
 			$var_preview = false;
 	}
 
+	// Calculer le chemin putatif du cache
+	$chemin_cache = generer_nom_fichier_cache('', $fond);
+
 	// Faut-il effacer des pages invalidees ?
 	if (lire_meta('invalider')) {
 		include_ecrire('inc_meta.php3');
 		lire_metas();
 		if (lire_meta('invalider'))
-			retire_caches();
+			retire_caches($chemin_cache);
 	}
-
-	// Calculer le chemin putatif du cache
-	$chemin_cache = generer_nom_fichier_cache('', $fond);
 
 	// Peut-on utiliser un fichier cache ?
 	determiner_cache($delais, $use_cache, $chemin_cache);



From stef at berlios.de  Fri Feb 25 17:36:00 2005
From: stef at berlios.de (stef at berlios.de)
Date: Fri, 25 Feb 2005 17:36:00 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire/img_pack vignette-24.png,NONE,1.1
Message-ID: <200502251636.j1PGa0Nx006531@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire/img_pack
In directory sheep:/tmp/cvs-serv6379/spipcarto/ecrire/img_pack

Added Files:
	vignette-24.png 
Log Message:
1.8pr1 cvs

--- NEW FILE: vignette-24.png ---
(This appears to be a binary file; contents omitted.)



From stef at berlios.de  Fri Feb 25 17:35:59 2005
From: stef at berlios.de (stef at berlios.de)
Date: Fri, 25 Feb 2005 17:35:59 +0100
Subject: [Spip-carto-cvs] spipcarto/ecrire/lang spip_pt_br.php3,NONE,1.1 public_pt_br.php3,NONE,1.1 ecrire_pt.php3,1.2,1.3 ecrire_oc_lnc.php3,1.2,1.3 spip_bg.php3,1.2,1.3 spip_pl.php3,1.2,1.3 spip_oc_lnc.php3,1.2,1.3 ecrire_pt_br.php3,1.2,1.3 ecrire_es.php3,1.2,1.3 spip_lb.php3,1.2,1.3 spip_es.php3,1.2,1.3 public_oc_lnc.php3,1.2,1.3 spip_pt.php3,1.2,1.3 spip_it.php3,1.2,1.3 ecrire_lb.php3,1.2,1.3 spip_fa.php3,1.2,1.3 spip_vi.php3,1.2,1.3
Message-ID: <200502251636.j1PGZxNx006497@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/ecrire/lang
In directory sheep:/tmp/cvs-serv6379/spipcarto/ecrire/lang

Modified Files:
	ecrire_pt.php3 ecrire_oc_lnc.php3 spip_bg.php3 spip_pl.php3 
	spip_oc_lnc.php3 ecrire_pt_br.php3 ecrire_es.php3 spip_lb.php3 
	spip_es.php3 public_oc_lnc.php3 spip_pt.php3 spip_it.php3 
	ecrire_lb.php3 spip_fa.php3 spip_vi.php3 
Added Files:
	spip_pt_br.php3 public_pt_br.php3 
Log Message:
1.8pr1 cvs

--- NEW FILE: spip_pt_br.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// 0
'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
'0_langue' => 'Portugu&ecirc;s do Brasil [pt_br]',
'0_liste' => 'spip-dev at rezo.net',
'0_mainteneur' => 'ricardo at calepino.com',


// A
'access_interface_graphique' => 'Voltar para a interface gr&aacute;fica completa',
'access_mode_texte' => 'Exibir a interface textual simplificada',
'admin_debug' => 'depurar',
'admin_modifier_article' => 'Editar esta mat&eacute;ria',
'admin_modifier_auteur' => 'Editar este autor',
'admin_modifier_breve' => 'Editar esta nota',
'admin_modifier_mot' => 'Editar esta palavra-chave',
'admin_modifier_rubrique' => 'Editar esta se&ccedil;&atilde;o',
'admin_recalculer' => 'Atualizar esta p&aacute;gina',
'alerte_maj_impossible' => 'Aten&ccedil;&atilde;o! A atualiza&ccedil;&atilde;o da base de dados MySQL para a vers&atilde;o @version@ n&atilde;o &eacute; poss&iacute;vel, provavelmente por problema de direitos de edi&ccedil;&atilde;o na base de dados. Por favor, contate o seu provedor de hospedagem.',
'avis_archive_incorrect' => 'a c&oacute;pia de seguran&ccedil;a n&atilde;o &eacute; um arquivo do SPIP',
'avis_archive_invalide' => 'a c&oacute;pia de seguran&ccedil;a n&atilde;o &eacute; v&aacute;lida',
'avis_attention' => 'ATEN&Ccedil;&Atilde;O!',
'avis_champ_incorrect_type_objet' => 'Nome de campo incorreto @name@ para objeto do tipo @type@',
'avis_colonne_inexistante' => 'A coluna @col@ n&atilde;o existe',
'avis_echec_syndication_01' => 'A sindica&ccedil;&atilde;o falhou: o backend informado &eacute; indecifr&aacute;vel ou n&atilde;o prop&otilde;e nenhuma mat&eacute;ria.',
'avis_echec_syndication_02' => 'A sindica&ccedil;&atilde;o falhou: n&atilde;o foi poss&iacute;vel acessar o backend deste site.',
'avis_erreur' => 'Erro: ver abaixo',
'avis_erreur_connexion' => 'Erro de conex&atilde;o',
'avis_erreur_cookie' => 'problema com cookie',
'avis_erreur_fonction_contexte' => 'Erro de programa&ccedil;&atilde;o. Esta fun&ccedil;&atilde;o n&atilde;o pode ser chamada neste contexto.',
'avis_erreur_mysql' => 'Erro MySQL',
'avis_erreur_sauvegarde' => 'Erro na c&oacute;pia de seguran&ccedil;a (@type@ @id_objet@) !',


// B
'barre_a_accent_grave' => 'Inserir um A mai&uacute;sculo com acento grave',
'barre_aide' => 'utilize os recursos tipogr&aacute;ficos para enriquecer o seu layout',
'barre_aide_rac' => 'Obter ajuda sobre as abrevia&ccedil;&otilde;es tipogr&aacute;ficas ',
'barre_e_accent_aigu' => 'Inserir um E mai&uacute;sculo com acento agudo',
'barre_eo' => 'Inserir um OE contra&iacute;do',
'barre_eo_maj' => 'Inserir um OE contra&iacute;do mai&uacute;sculo',
'barre_euro' => 'Inserir o s&iacute;mbolo &euro; (euro)',
'barre_gras' => 'Escrever em {{negrito}}',
'barre_guillemets' => 'envolver em &laquo;comas&raquo;',
'barre_guillemets_simples' => 'Envolver em ?aspas?',
'barre_intertitre' => 'Transformar em {{{entret&iacute;tulo}}}',
'barre_italic' => 'Escrever em {it&aacute;lico}',
'barre_lien' => 'Transformar em [link hipertexto->http://...]',
'barre_lien_input' => 'Informe o endere&ccedil;o do seu link (voc&ecirc; pode informar um endere&ccedil;o web do tipo http://www.monsite/com ou simplesmente informar o n&uacute;mero de uma mat&eacute;ria deste site.',
'barre_note' => 'Transformar em [[Nota de p&eacute; de p&aacute;gina]]',
'barre_quote' => '<quote>Citar uma mensagem</quote>',
'bouton_ajouter_document' => 'INCLUIR UM DOCUMENTO',
'bouton_ajouter_image' => 'INCLUIR UMA IMAGEM',
'bouton_changer' => 'Alterar',
'bouton_chercher' => 'Procurar',
'bouton_choisir' => 'Escolher',
'bouton_radio_desactiver_messagerie_interne' => 'Desativar o sistema interno de mensagens',
'bouton_radio_envoi_annonces' => 'Enviar os avisos editoriais',
'bouton_radio_non_envoi_annonces' => 'N&atilde;o enviar os avisos',
'bouton_radio_non_envoi_liste_nouveautes' => 'N&atilde;o enviar a lista de novidades',
'bouton_recharger_page' => 'atualizar esta p&aacute;gina',
'bouton_telecharger' => 'Transferir',
'bouton_valider' => 'Validar',


// C
'cal_apresmidi' => 'tarde',
'cal_jour_entier' => 'dia todo',
'cal_matin' => 'manh&atilde;',
'cal_par_jour' => 'calend&aacute;rio por dia',
'cal_par_mois' => 'calend&aacute;rio por m&ecirc;s',
'cal_par_semaine' => 'calend&aacute;rio por semana',
'confirm_changer_statut' => 'Aten&ccedil;&atilde;o, voc&ecirc; solicitou a altera&ccedil;&atilde;o de status deste elemento. Deseja continuar?',


// D
'date_aujourdhui' => 'hoje',
'date_avant_jc' => 'a.C.',
'date_dans' => 'entre @delai@',
'date_de_mois_1' => '@j@ de @nommois@',
'date_de_mois_10' => '@j@ de @nommois@',
'date_de_mois_11' => '@j@ de @nommois@',
'date_de_mois_12' => '@j@ de @nommois@',
'date_de_mois_2' => '@j@ de @nommois@',
'date_de_mois_3' => '@j@ de @nommois@',
'date_de_mois_4' => '@j@ de @nommois@',
'date_de_mois_5' => '@j@ de @nommois@',
'date_de_mois_6' => '@j@ de @nommois@',
'date_de_mois_7' => '@j@ de @nommois@',
'date_de_mois_8' => '@j@ de @nommois@',
'date_de_mois_9' => '@j@ de @nommois@',
'date_demain' => 'amanh&atilde;',
'date_fmt_heures_minutes' => '@h at h@m at min',
'date_fmt_jour_heure' => '@jour@ - @heure@',
'date_fmt_jour_mois' => '@jour@ de @nommois@',
'date_fmt_jour_mois_annee' => '@jour@ de @nommois@ de @annee@',
'date_fmt_mois_annee' => '@nommois@ de @annee@',
'date_fmt_nomjour_date' => '@nomjour@ de @date@',
'date_heures' => 'horas',
'date_hier' => 'ontem',
'date_il_y_a' => '&agrave; @delai@',
'date_jnum1' => '1&ordm;',
'date_jnum10' => '10',
'date_jnum11' => '11',
'date_jnum12' => '12',
'date_jnum13' => '13',
'date_jnum14' => '14',
'date_jnum15' => '15',
'date_jnum16' => '16',
'date_jnum17' => '17',
'date_jnum18' => '18',
'date_jnum19' => '19',
'date_jnum2' => '2',
'date_jnum20' => '20',
'date_jnum21' => '21',
'date_jnum22' => '22',
'date_jnum23' => '23',
'date_jnum24' => '24',
'date_jnum25' => '25',
'date_jnum26' => '26',
'date_jnum27' => '27',
'date_jnum28' => '28',
'date_jnum29' => '29',
'date_jnum3' => '3',
'date_jnum30' => '30',
'date_jnum31' => '31',
'date_jnum4' => '4',
'date_jnum5' => '5',
'date_jnum6' => '6',
'date_jnum7' => '7',
'date_jnum8' => '8',
'date_jnum9' => '9',
'date_jour_1' => 'domingo',
'date_jour_2' => 'segunda-feira',
'date_jour_3' => 'ter&ccedil;a-feira',
'date_jour_4' => 'quarta-feira',
'date_jour_5' => 'quinta-feira',
'date_jour_6' => 'sexta-feira',
'date_jour_7' => 's&aacute;bado',
'date_jours' => 'dias',
'date_minutes' => 'minutos',
'date_mois' => 'meses',
'date_mois_1' => 'janeiro',
'date_mois_10' => 'outubro',
'date_mois_11' => 'novembro',
'date_mois_12' => 'dezembro',
'date_mois_2' => 'fevereiro',
'date_mois_3' => 'mar&ccedil;o',
'date_mois_4' => 'abril',
'date_mois_5' => 'maio',
'date_mois_6' => 'junho',
'date_mois_7' => 'julho',
'date_mois_8' => 'agosto',
'date_mois_9' => 'setembro',
'date_saison_1' => 'inverno',
'date_saison_2' => 'primavera',
'date_saison_3' => 'ver&atilde;o',
'date_saison_4' => 'outono',
'date_semaines' => 'semanas',
'dirs_commencer' => 'Para come&ccedil;ar realmente a instala&ccedil;&atilde;o',
'dirs_preliminaire' => 'Preliminar: <b>Configurar os direitos de acesso</b>',
'dirs_probleme_droits' => '<b>Problema com os direitos de acesso</b>',
'dirs_repertoires_absents' => '<b>Os diret&oacute;rios a seguir n&atilde;o foram encontrados: <ul>@bad_dirs at .</ul> </b>
  <p />&Eacute; prov&aacute;vel que isto se deva a um problema de letras em mai&uacute;sculas e min&uacute;sculas.
Verifique que as mai&uacute;sculas e min&uacute;suculas destes diret&oacute;rios coincidam exatamente com o que est&aacute; sendo exibido abaixo; se este n&atilde;o for o caso, renomeie os diret&oacute;rios com o seu programa de FTP de modo a corrigir o erro.
<p />Uma v&ecirc;z feita esta manipula&ccedil;&atilde;o, voc&ecirc; poder&aacute; ',
'dirs_repertoires_suivants' => '<b>Os diret&oacute;rios a seguir n&atilde;o s&atilde;o acessiveis para leitura: <ul>@bad_dirs at .</ul> </b>
  <p />Para corrigir, utilize o seu programa de FTP para configurar os direitos de acesso de cada um destes diret&oacute;rios. O procedimento est&aacute; explicado em detalhes no guia de instala&ccedil;&atilde;o.  <p />Uma v&ecirc;z feita esta altera&ccedil;&atilde;o, voc&ecirc; poder&aacute; ',


// E
'entree_dimensions' => 'Dimens&otilde;es:',
'entree_titre_document' => 'T&iacute;tulo do documento:',
'entree_titre_image' => 'T&iacute;tulo da imagem:',
'envoi_via_le_site' => 'Envio pelo site',


// F
'form_deja_inscrit' => 'Voc&ecirc; j&aacute; est&aacute; inscrito.',
'form_email_non_valide' => 'Seu endere&ccedil;o de e-mail n&atilde;o &eacute; v&aacute;lido.',
'form_forum_access_refuse' => 'Voc&ecirc; n&atilde;o tem mais acesso a este site.',
'form_forum_bonjour' => 'Bom dia,',
'form_forum_email_deja_enregistre' => 'Este endere&ccedil;o de e-mail j&aacute; est&aacute; cadastrado, voc&ecirc; pode usar a sua senha habitual.',
'form_forum_identifiant_mail' => 'Seu novo login foi enviado por e-mail.',
'form_forum_identifiants' => 'Identificadores pessoais',
'form_forum_indiquer_nom_email' => 'Informe aqui o seu nome  endere&ccedil;o de e-mail. O seu identificador pessoal ser&aacute; enviado de imediato por correio eletr&ocirc;nico.',
'form_forum_login' => 'login:',
'form_forum_message_auto' => '(esta &eacute; uma mensagem autom&aacute;tica)',
'form_forum_pass' => 'senha:',
'form_forum_probleme_mail' => 'Problema de e-mail: o identificador n&atilde;o p&ocirc;de ser enviado.',
'form_forum_voici1' => 'Estes s&atilde;o os seus identificadores para que voc&ecirc; possa participar da vida do site "@nom_site_spip@" (@adresse_site@/):',
'form_forum_voici2' => 'Estes s&atilde;o os seus identificadores para que voc&ecirc; possa propor mat&eacute;rias ao site "@nom_site_spip@" (@adresse_site@/ecrire/):',
'form_indiquer_email' => 'Por favor, informe o seu endere&ccedil;o de e-mail.',
'form_indiquer_nom' => 'Por favor, informe o seu nome.',
'form_indiquer_nom_site' => 'Por favor, informe o nome do seu site.',
'form_pet_adresse_site' => 'Endere&ccedil;o do seu site',
'form_pet_aucune_signature' => 'Nenhuma assinatura corresponde a este c&oacute;digo...',
'form_pet_confirmation' => 'Por favor, confirme a sua assinatura:',
'form_pet_deja_enregistre' => 'Este site j&aacute; est&aacute; cadastrado',
'form_pet_deja_signe' => 'Voc&ecirc; j&aacute; assinou este texto.',
'form_pet_envoi_mail_confirmation' => 'Um e-mail de confirma&ccedil;&atilde;o acabou de lhe ser enviado. Voc&ecirc; dever&aacute; visitar o endere&ccedil;o web mencionado na mensagem para validar a sua assinatura.',
'form_pet_mail_confirmation' => 'Bom dia,

Voc&ecirc; pediu para assinar a peti&ccedil;&atilde;o:
@titre at .

Voc&ecirc; forneceu as informa&ccedil;&otilde;es abaixo:
    Nome: @nom_email@
    Site: @nom_site@ - @url_site@


IMPORTANTE...
Para validar a sua assinatura, basta se conectar ao
endere&ccedil;o abaixo (caso contr&aacute;rio, seu pedido ser&aacute;
rejeitado):

    @url@


Obrigado por participar.
',
'form_pet_message_commentaire' => 'Uma mensagem ou coment&aacute;rio?',
'form_pet_nom_site2' => 'Nome do seu website',
'form_pet_probleme_technique' => 'Problema t&eacute;cnino: as assinaturas est&atilde;o suspensas temporariamente.',
'form_pet_signature_pasprise' => 'Sua assinatura n&atilde;o foi computada.',
'form_pet_signature_validee' => 'Sua assinatura foi validada. Obrigado!',
'form_pet_site_deja_enregistre' => 'Este site j&aacute; est&aacute; cadastrado',
'form_pet_url_invalide' => 'O URL que voc&ecirc; informou n&atilde;o &eacute; v&aacute;lido.',
'form_pet_votre_email' => 'Seu endere&ccedil;o de e-mail',
'form_pet_votre_nom' => 'Seu nome ou apelido',
'form_pet_votre_site' => 'Se voc&ecirc; tem um website, voc&ecirc; pode inform&aacute;-lo abaixo',
'form_prop_confirmer_envoi' => 'Confirmar o envio',
'form_prop_description' => 'Descri&ccedil;&atilde;o / coment&aacute;rio',
'form_prop_enregistre' => 'Sua proposta foi cadastrada, ela aparecer&aacute; online ap&oacute;s ser validada pelos respons&aacute;veis deste site.',
'form_prop_envoyer' => 'Enviar uma mensagem',
'form_prop_indiquer_email' => 'Por favor, indique um endere&ccedil;o de e-mail v&aacute;lido',
'form_prop_indiquer_nom_site' => 'Por favor, informe o nome do site.',
'form_prop_indiquer_sujet' => 'Por favor, informe um assunto',
'form_prop_message_envoye' => 'Mensagem enviada',
'form_prop_nom_site' => 'Nome do site',
'form_prop_non_enregistre' => 'Sua proposta n&atilde;o foi cadastrada.',
'form_prop_sujet' => 'Assunto',
'form_prop_url_site' => 'Endere&ccedil;o (URL) do site',
'forum_acces_refuse' => 'Voc&ecirc; n&atilde;o tem mais acesso a estes f&oacute;runs.',
'forum_attention_dix_caracteres' => '<b>Aten&ccedil;&atilde;o!</b> Sua mensagem tem menos de dez caracteres.',
'forum_attention_trois_caracteres' => '<b>Aten&ccedil;&atilde;o!</b> Seu t&iacute;tulo tem menos de tr&ecirc;s caracteres.',
'forum_avez_selectionne' => 'Voc&ecirc; selecionou:',
'forum_cliquer_retour' => 'Clique <a href=\'@retour_forum@\'>aqui</a> para continuar.',
'forum_forum' => 'f&oacute;rum',
'forum_info_modere' => 'Este f&oacute;rum &eacute; moderado a priori: a sua contribui&ccedil;&atilde;o s&oacute; ser&aacute; exibida ap&oacute;s ser validada por um administrador do site.',
'forum_lien_hyper' => '<b>Link hipertexto</b> (opcional)',
'forum_message_definitif' => 'Mensagem definitiva: enviar para o site',
'forum_message_trop_long' => 'Sua mensagem &eacute; muito longa. O tamanho m&aacute;imo &eacute; de 20000 caracteres.',
'forum_ne_repondez_pas' => 'N&atilde;o responda a esta mensagem e sim no f&oacute;rum com o endere&ccedil;o a seguir:',
'forum_non_inscrit' => 'Voc&ecirc; n&atilde;o est&aacute; inscrito, ou o endere&ccedil;o ou a senha est&atilde;o errados.',
'forum_page_url' => '(Se a sua mensagem se refere a uma mat&eacute;ria pubicada na Web, ou a uma p&aacute;gina fornecendo mais informa&ccedil;&otilde;es, por favor informe abaixo o t&iacute;tulo da p&aacute;gina e o seu endere&ccedil;o.)',
'forum_par_auteur' => 'por @auteur@',
'forum_poste_par' => 'Mensagem enviada @parauteur@ em seguimento da sua mat&eacute;ria.',
'forum_probleme_database' => 'Problema de base da dados: sua mensagem n&atilde;o foi cadastrada.',
'forum_qui_etes_vous' => '<b>Quem &eacute; voc&ecirc;?</b> (opcional)',
'forum_texte' => 'Texto da sua mensagem:',
'forum_titre' => 'T&iacute;tulo:',
'forum_titre_erreur' => 'Erro...',
'forum_url' => 'URL:',
'forum_valider' => 'Validar a sele&ccedil;&atilde;o',
'forum_voir_avant' => 'Ver esta mensagem antes de a enviar',
'forum_votre_email' => 'Seu endere&ccedil;o de e-mail:',
'forum_votre_nom' => 'Seu nome (ou apelido):',
'forum_vous_enregistrer' => 'Para participar deste f&oacute;rum, voc&ecirc; precisa se cadastrar previamente. Por favor, informe abaixo o identificador pessoal que lhe foi fornecido. Se voc&ecirc; n&atilde;o est&aacute; cadastrado, voc&ecirc; precisa',
'forum_vous_inscrire' => 'se cadastrar</a> previamente.',


// I
'ical_texte_rss_articles' => 'O arquivo &laquo;backend&raquo; das mat&eacute;rias deste site encontra-se no endere&ccedil;o:',
'ical_texte_rss_articles2' => 'Voc&ecirc; pode tamb&eacute;m obter os arquivos &laquo;backend&raquo; para as mat&eacute;rias de cada se&ccedil;&atilde;o do site:',
'ical_texte_rss_breves' => 'Existe tamb&eacute;m um arquivo contendo as notas do site. Ao especificar um n&uacute;mero de se&ccedil;&atilde;o, voc&ecirc; obter&aacute; unicamente as natos dessa se&ccedil;&atilde;o.',
'icone_a_suivre' => 'Acompanhar',
'icone_admin_site' => 'Administra&ccedil;&atilde;o do site',
'icone_agenda' => 'Agenda',
'icone_aide_ligne' => 'Ajuda',
'icone_articles' => 'Mat&eacute;rias',
'icone_auteurs' => 'Autores',
'icone_breves' => 'Notas',
'icone_brouteur' => 'Navega&ccedil;&atilde;o r&aacute;pida',
'icone_calendrier_messagerie' => 'Agenda e correio',
'icone_configuration_site' => 'Configura&ccedil;&atilde;o',
'icone_configurer_site' => 'Configurar o seu site',
'icone_creer_mot_cle' => 'Criar uma nova palavra-chave e lig&aacute;-la a esta mat&eacute;ria',
'icone_creer_nouvel_auteur' => 'Criar um novo autor',
'icone_creer_rubrique' => 'Criar uma se&ccedil;&atilde;o',
'icone_creer_sous_rubrique' => 'Criar uma subse&ccedil;&atilde;o',
'icone_deconnecter' => 'Desconectar-se',
'icone_discussions' => 'Discuss&otilde;es',
'icone_doc_rubrique' => 'Documentos das se&ccedil;&otilde;es',
'icone_ecrire_article' => 'Escrever uma nova mat&eacute;ria',
'icone_edition_site' => 'Edi&ccedil;&atilde;o',
'icone_forum_administrateur' => 'F&oacute;rum dos administradores',
'icone_forum_suivi' => 'Acompanhamento dos f&oacute;runs',
'icone_forums_petitions' => 'F&oacute;runs e peti&ccedil;&otilde;es',
'icone_gestion_langues' => 'Gerenciamento de idiomas',
'icone_informations_personnelles' => 'Informa&ccedil;&otilde;es pessoais',
'icone_interface_complet' => 'interface completa',
'icone_interface_simple' => 'Interface simplificada',
'icone_maintenance_site' => 'Manuten&ccedil;&atilde;o do site',
'icone_messagerie_personnelle' => 'Mensagens pessoais',
'icone_mots_cles' => 'Palavras-chave',
'icone_nouvelle_breve' => 'Escrever uma nova nota',
'icone_repartition_actuelle' => 'Exibir a reparti&ccedil;&atilde;o atual',
'icone_repartition_debut' => 'Exibir a reparti&ccedil;&atilde;o ap&oacute;s o in&iacute;cio',
'icone_repartition_visites' => 'Reparti&ccedil;&atilde;o das visitas',
'icone_rubriques' => 'Se&ccedil;&otilde;es',
'icone_sauver_site' => 'Backup do site',
'icone_site_entier' => 'Todo o site',
'icone_sites_references' => 'Sites referenciados',
'icone_statistiques' => 'Estat&iacute;sticas do site',
'icone_statistiques_visites' => 'Estat&iacute;sticas',
'icone_suivi_activite' => 'Acompanhar a vida do site',
'icone_suivi_actualite' => 'Evolu&ccedil;&atilde;o do site',
'icone_suivi_forums' => 'Acompanhar / gerenciar os f&oacute;runs',
'icone_suivi_pettions' => 'Acompanhar / gerenciar as peti&ccedil;&otilde;es',
'icone_suivi_revisions' => 'Modifica&ccedil;&otilde;es das mat&eacute;rias',
'icone_supprimer_document' => 'Suprimir este documento',
'icone_supprimer_image' => 'Suprimir esta imagem',
'icone_supprimer_message' => 'Suprimir esta mensagem',
'icone_tous_articles' => 'Todas as suas mat&eacute;rias',
'icone_tous_auteur' => 'Todos os autores',
'icone_valider_message' => 'Validar esta mensagem',
'icone_visiter_site' => 'Visitar',
'icone_voir_en_ligne' => 'Ver online',
'image_tourner_180' => 'Rodar 180&deg;',
'image_tourner_droite' => 'Rodar 90&deg; &agrave; direita',
'image_tourner_gauche' => 'Rodar 90&deg; &agrave; esquerda',
'img_indisponible' => 'imagem indispon&iacute;vel',
'info_a_suivre' => 'ACOMPANHAR&raquo;',
'info_a_valider' => '[para validar]',
'info_acces_interdit' => 'Acesso interdito',
'info_acces_refuse' => 'Acesso recusado',
'info_action' => 'A&ccedil;&atilde;o: @action@',
'info_administrer_rubriques' => 'Voc&ecirc; pode administrar esta se&ccedil;&atilde;o e suas subse&ccedil;&otilde;es',
'info_adresse_non_indiquee' => 'Voc&ecirc; n&atilde;o informou o endere&ccedil;o a testar!',
'info_aide' => 'AJUDA:',
'info_ajouter_mot' => 'Incluir esta palavra',
'info_annonce' => 'AVISO',
'info_annonces_generales' => 'Avisos gerais:',
'info_article_propose' => 'Mat&eacute;ria proposta',
'info_article_publie' => 'Mat&eacute;ria publicada',
'info_article_redaction' => 'Mat&eacute;ria em fase de reda&ccedil;&atilde;o',
'info_article_refuse' => 'Mat&eacute;ria recusada',
'info_article_supprime' => 'Mat&eacute;ria suprimida',
'info_articles' => 'Mat&eacute;rias',
'info_articles_a_valider' => 'As mat&eacute;rias para validar',
'info_articles_proposes' => 'Mat&eacute;rias propostas',
'info_auteurs_nombre' => 'autor(es):',
'info_authentification_ftp' => 'Autentica&ccedil;&atilde;o (por FTP).',
'info_bloquer_lien' => 'bloquear este link',
'info_breves_02' => 'Notas',
'info_breves_2' => 'notas',
'info_breves_valider' => 'Notas para validar',
'info_connexion_refusee' => 'Conex&atilde;o recusada',
'info_contact_developpeur' => 'Por favor, contate um desenvolvedor.',
'info_contenance' => 'Este site cont&eacute;m:',
'info_contribution' => 'contribui&ccedil;&otilde;es de f&oacute;rum',
'info_copyright' => '&eacute; um software livre distribu&iacute;do <a href=\'copyright_fr.html\'>sob licen&ccedil;a GPL.</a>',
'info_copyright_doc' => 'Para mais informa&ccedil;&otilde;es, veja o site <a href=\'http://www.spip.net/fr\'>http://www.spip.net/</a>.',
'info_cours_edition' => 'Suas mat&eacute;rias em fase de reda&ccedil;&atilde;o',
'info_creer_repertoire' => 'Por favor, crie um arquivo ou diret&oacute;rio com o nome:',
'info_creer_repertoire_2' => 'dentro do subdiret&oacute;rio <b>ecrire/data/</b>, e depois:',
'info_creer_vignette' => 'cria&ccedil;&atilde;o autom&aacute;tica do &iacute;cone',
'info_deplier' => 'Expandir',
'info_descriptif_nombre' => 'descri&ccedil;&atilde;o(&otilde;es):',
'info_description' => 'Resumo:',
'info_description_2' => 'Resumo:',
'info_dimension' => 'Dimens&otilde;es:',
'info_document' => 'Documento',
'info_documents' => 'Documentos',
'info_echange_message' => 'O SPIP permite a troca de mensagens e a forma&ccedil;&atilde;o de f&oacute;runs de discuss&atilde;o privados entre os participantes do site. Voc&ecirc; pode ativar ou desativar esta funcionalidade.',
'info_ecire_message_prive' => 'Escrever uma mensagem privada',
'info_email_invalide' => 'Endere&ccedil;o de e-mail inv&aacute;lido.',
'info_en_cours_validation' => 'Suas mat&eacute;rias em fase de reda&ccedil;&atilde;o',
'info_en_ligne' => 'Atualmente online:',
'info_envoyer_message_prive' => 'Enviar uma mensagem privada a este autor',
'info_erreur_requete' => 'Erro na requisi&ccedil;&atilde;o:',
'info_erreur_squelette2' => 'Nenhum gabarito <b>@fichier@</b> est&aacute; dispon&iacute;vel...',
'info_erreur_systeme' => 'Erro do sistema (errno @errsys@)',
'info_erreur_systeme2' => '&Eacute; poss&iacute;vel que n&atilde;o haja espa&ccedil;o livre em disco, ou que a base de dados esteja corrompida.<br>
 <font color=\'red\'>Tente <a href=\'ecrire/admin_repair.php3\'>reparar a base</a>,
 ou contate o servi&ccedil;o de hospedagem.</font><br></b>',
'info_fini' => 'Terminou!',
'info_format_image' => 'Formatos das imagens que podem ser utilizados para criar os &iacute;cones @gd_formats at .',
'info_format_non_defini' => 'formato n&atilde;o definido',
'info_grand_ecran' => 'Alta resolu&ccedil;&atilde;o',
'info_image_aide' => 'AJUDA',
'info_image_process_titre' => 'M&eacute;todo de cria&ccedil;&atilde;o dos &iacute;cones',
'info_impossible_lire_page' => '<B>Erro!</B> Imposs&iacute;vel ler a p&aacute;gina <tt><html>@test_proxy@</html></tt> via proxy <tt>',
'info_inclusion_directe' => 'Inclus&atilde;o direta:',
'info_inclusion_vignette' => 'Inclus&atilde;o do &iacute;cone:',
'info_installation_systeme_publication' => 'Instala&ccedil;&atilde;o do sistema de publica&ccedil;&atilde;o...',
'info_installer_documents' => 'Voc&ecirc; pode instalar automaticamente todos os documentos cont&iacute;dos no diret&oacute;rio <i>upload</i>.',
'info_installer_ftp' => 'Como administrador, voc&ecirc; pode transferir (por FTP) arquivos para o diret&oacute;rio ecrire/upload para depois selecion&aacute;-los aqui diretamente.',
'info_installer_images' => 'Voc&ecirc; pode transferir imagens nos formatos JPEG, GIF e PNG.',
'info_installer_images_dossier' => 'Transferir as imagens para o diret&oacute;rio /ecrire/upload para poder selecion&aacute;-las aqui.',
'info_installer_tous_documents' => 'Instalar todos os documentos',
'info_interface_complete' => 'interface completa',
'info_interface_simple' => 'Interface simplificada',
'info_joindre_document_article' => 'Voc&ecirc; pode anexar a esta mat&eacute;ria documentos dos tipos a seguir',
'info_joindre_document_rubrique' => 'Voc&ecirc; pode anexar a esta se&ccedil;&atilde;o documentos dos tipos a seguir',
'info_joindre_documents_article' => 'Voc&ecirc; pode anexar &agrave; sua mat&eacute;ria documentos dos tipos a seguir:',
'info_l_article' => 'a mat&eacute;ria',
'info_la_breve' => 'a nota',
'info_la_rubrique' => 'a se&ccedil;&atilde;o',
'info_langue_principale' => 'Idioma principal do site',
'info_largeur_vignette' => '@largeur_vignette@ &times; @hauteur_vignette@ pixels',
'info_les_auteurs_1' => 'por @les_auteurs@',
'info_logo_format_interdit' => 'Apenas os &iacute;cones nos formatos @formats@ est&atilde;o autorizados.',
'info_logo_max_poids' => 'Os &iacute;cones devem obrigatoriamente ter menos de @maxi@ (este arquivo tem @actuel@).',
'info_logo_max_taille' => 'Os &iacute;cones devem obrigatoriamente ter menos de @maxi@ (este arquivo tem @actuel@).',
'info_mail_fournisseur' => 'voce at seudominio.com.br',
'info_message_2' => 'MENSAGEM',
'info_message_supprime' => 'MENSAGEM EXCLU&Iacute;DA',
'info_mise_en_ligne' => 'Data de publica&ccedil;&atilde;o online:',
'info_modification_parametres_securite' => 'modifica&ccedil;&otilde;es dos par&acirc;metros de seguran&ccedil;a',
'info_mois_courant' => 'No m&ecirc;s corrente:',
'info_mot_cle_ajoute' => 'A palavra-chave a seguir foi associada a',
'info_multi_herit' => 'Idioma padr&atilde;o',
'info_multi_langues_soulignees' => 'Os <u>idiomas sublinhados</u> possuem tradu&ccedil;&atilde;o para todos os textos da interface. Se voc&ecirc; escolher esses idiomas, diversos elementos do site p&uacute;blico (datas, formul&aacute;rios) s&atilde;o traduzidos automaticamente. Para os idiomas n&atilde;o sublinhados, estes elementos aparecer&atilde;o no idioma principal do site.',
'info_multilinguisme' => 'Multilinguismo',
'info_nom_non_utilisateurs_connectes' => 'Seu nome n&atilde;o aparece na rela&ccedil;&atilde;o de usu&aacute;rios conectados.',
'info_nom_utilisateurs_connectes' => 'Seu nome aparecer&aacute; na rela&ccedil;&atilde;o de usu&aacute;rios conectados.',
'info_nombre_en_ligne' => 'Online neste momento:',
'info_non_resultat' => 'Nenhum resultados para "@cherche_mot@"',
'info_non_utilisation_messagerie' => 'Voc&ecirc; n&atilde;o utiliza o sistema de mensagens deste site.',
'info_nouveau_message' => 'VOC&Ecirc; TEM UMA NOVA MENSAGEM',
'info_nouveaux_messages' => 'VOC&Ecirc; TEM @total_messages@ MENSAGENS NOVAS',
'info_numero_abbreviation' => 'N&deg;&nbsp;',
'info_panne_site_syndique' => 'Site sindicado com problemas',
'info_pense_bete' => 'LEMBRETE',
'info_petit_ecran' => 'Baixa resolu&ccedil;&atilde;o',
'info_pixels' => 'pixels',
'info_plusieurs_mots_trouves' => 'V&aacute;rias palavras-chave encontradas para "@cherche_mot@":',
'info_popularite_5' => 'popularidade:',
'info_portfolio' => 'Portf&oacute;lio',
'info_portfolio_automatique' => 'Portf&oacute;lio autom&aacute;tico:',
'info_premier_resultat' => '[@debut_limit@ primeiros resultados de @total@]',
'info_premier_resultat_sur' => '[@debut_limit@ primeiros resultados de @total@]',
'info_probleme_grave' => 'problema de',
'info_propose_1' => '[@nom_site_spip@] Prop&otilde;e: @titre@',
'info_propose_2' => 'Mat&eacute;ria proposta
----------------',
'info_propose_3' => 'A mat&eacute;ria "@titre@" foi proposta para publica&ccedil;&atilde;o.',
'info_propose_4' => 'Voc&ecirc; est&aacute; convidado a consult&aacute;-la e dar sua opini&atilde;o',
'info_propose_5' => 'no f&oacute;rum a ela anexado. Ela est&aacute; dispon&iacute;vel no endere&ccedil;o:',
'info_publie_01' => 'A mat&eacute;ria "@titre@" foi validada por @connect_nom at .',
'info_publie_1' => '[@nom_site_spip@] PUBLICADO: @titre@',
'info_publie_2' => 'Mat&eacute;ria publicada
-----------------',
'info_rechercher' => 'Procurar',
'info_rechercher_02' => 'Procurar:',
'info_remplacer_vignette' => 'Substituir o &iacute;cone padr&atilde;o por um logo personalizado:',
'info_retablir_lien' => 'reabilitar este link',
'info_retirer_mot' => 'Retirar esta palavra-chave',
'info_retirer_mots' => 'Retirar todas as palavras-chave',
'info_sans_titre_2' => 'sem t&iacute;tulo',
'info_selectionner_fichier' => 'Voc&ecirc; pode escolher um arquivo do diret&oacute;rio <i>upload</i>',
'info_selectionner_fichier_2' => 'Selecionar um arquivo:',
'info_site_attente' => 'Website aguardando valida&ccedil;&atilde;o',
'info_site_reference' => 'Site referenciado online',
'info_site_refuse' => 'Website recusado',
'info_sites_referencer' => 'Referenciar um site',
'info_supprimer_vignette' => 'excluir o &iacute;cone',
'info_symbole_bleu' => 'O &iacute;cone <b>azul</b> indica um <b>lembrete</b>: ou seja, uma mensagem para seu uso pessoal.',
'info_symbole_jaune' => 'O &iacute;cone <B>amarelo</B> incida um  <B>an&uacute;ncio para todos os redatores</B>: modific&aacute;vel por todos os administradores, e vis&iacute;vel por todos os redatores.',
'info_symbole_vert' => 'O &iacute;cone <B>verde</B> indica as  <B>mensagens trocadas com outros usu&aacute;rios</B> do site.',
'info_syndication' => 'sindica&ccedil;&atilde;o:',
'info_syndication_articles' => 'mat&eacute;ria(s)',
'info_telecharger' => 'Transferir do seu computador:',
'info_telecharger_nouveau_logo' => 'Transferir um novo logo:',
'info_telecharger_ordinateur' => 'Tranferir do seu computador:',
'info_tous_resultats_enregistres' => '[todos os resultados s&atilde;o gravados]',
'info_tout_afficher' => 'Mostrar todas',
'info_travaux_texte' => 'Este site ainda n&atilde;o est&aacute; configurado. Volte mais tarde...',
'info_travaux_titre' => 'Site em manuten&ccedil;&atilde;o',
'info_trop_resultat' => 'Resultados de mais para "@cherche_mot@"; por favor, refine a busca.',
'info_utilisation_messagerie_interne' => 'Voc&ecirc; usa o sistema interno de mensagens deste site.',
'info_valider_lien' => 'validar este link',
'info_verifier_image' => ', verifique se as suas imagens foram transferidas corretamente.',
'info_vignette_defaut' => '&Iacute;cone padr&atilde;o',
'info_vignette_personnalisee' => '&Iacute;cone personalizado',
'info_visite' => 'visita:',
'info_visites' => 'visitas:',
'info_vos_rendez_vous' => 'Seus encontros futuros',
'info_zoom' => 'zoom',
'infos_vos_pense_bete' => 'Seus lembretes',
'item_breve_proposee' => 'Nota proposta',


// L
'lien_afficher_icones_seuls' => 'Exibir apenas os &iacute;cones',
'lien_afficher_texte_icones' => 'Exibir &iacute;cones e texto',
'lien_afficher_texte_seul' => 'Exibir apenas o texto',
'lien_icones_interface' => 'Os &iacute;cones da interface s&atilde;o de <a href=\'http://jimmac.musichall.cz/\'>Jakub \'Jimmac\' Steiner</a>.',
'lien_liberer' => 'liberar',
'lien_liberer_tous' => 'liberar estas mat&eacute;rias',
'lien_nouvea_pense_bete' => 'NOVO LEMBRETE',
'lien_nouveau_message' => 'NOVA MENSAGEM',
'lien_nouvelle_annonce' => 'NOVO AN&Uacute;NCIO',
'lien_petitions' => 'PETI&Ccedil;&Atilde;O',
'lien_popularite' => 'popularidade: @popularite@%',
'lien_racine_site' => 'RAIZ DO SITE',
'lien_reessayer' => 'tente novamente',
'lien_repondre_message' => 'Responder a esta mensagem',
'lien_supprimer' => 'excluir',
'lien_tout_afficher' => 'Mostrar tudo',
'lien_visite_site' => 'visitar este site',
'lien_visites' => '@visites@&nbsp;visitas',
'lien_voir_auteur' => 'Ver este autor',
'login_acces_prive' => 'acesso ao espa&ccedil;o privado',
'login_autre_identifiant' => 'conectar-se com outra identifica&ccedil;&atilde;o',
'login_connexion_refusee' => 'Conex&atilde;o recusada.',
'login_cookie_accepte' => 'Por favor, configure o seu navegador para aceit&aacute;-los (pelo menos para este site).',
'login_cookie_oblige' => 'Para voc&ecirc; se identificar de modo seguro neste site, voc&ecirc; precisa aceitar cookies.',
'login_deconnexion_ok' => 'Desconex&atilde;o efetuada.',
'login_erreur_pass' => 'Erro de senha.',
'login_espace_prive' => 'espa&ccedil;o privado',
'login_identifiant_inconnu' => 'O identificador &laquo; @login@ &raquo; n&atilde;o est&aacute; cadastrado.',
'login_login' => 'Login:',
'login_login2' => 'Login (identificador para conex&atilde;o ao site):',
'login_login_pass_incorrect' => '(Login ou senha incorreta.)',
'login_motpasseoublie' => 'esqueceu&nbsp;sua&nbsp;senha?',
'login_non_securise' => 'Aten&ccedil;&atilde;o, este formul&aacute;rio n&atilde;o &eacute; seguro.
Se voc&ecirc; n&atilde;o quiser que a sua senha possa ser interceptada na rede, por favor ative o Javascript no seu navegador e',
'login_nouvelle_tentative' => 'Tentar novamente',
'login_par_ici' => 'Voc&Ecirc; est&aacute; registrado... por aqui...',
'login_pass2' => 'Senha:',
'login_preferez_refuser' => '<b>Se voc&ecirc; prefere recusar os cookies</b>, um outro m&eacute;todo de conex&atilde;o (menos seguro) est&aacute; dispon&iacute;vel:',
'login_recharger' => 'atualizar esta p&aacute;gina',
'login_rester_identifie' => 'Manter-se identificado por alguns dias',
'login_retour_public' => 'Voltar ao site p&uacute;blico',
'login_retour_site' => 'Voltar ao site p&uacute;blico',
'login_retoursitepublic' => 'voltar&nbsp;ao&nbsp;site&nbsp;p&uacute;blico',
'login_sans_cookiie' => 'Identifica&ccedil;&atilde;o sem cookie',
'login_sinscrire' => 'cadastrar-se',
'login_test_navigateur' => 'testar navegador/reconex&atilde;o',
'login_verifiez_navigateur' => '(Verifique sempre se o seu navegador n&atilde;o est&aacute; memorizando a sua senha...)',


// M
'module_fichiers_langues' => 'Arquivos de idioma',


// N
'navigateur_pas_redirige' => 'Se o seu navegador n&atilde;o o redirecionar, clique aqui para continuar.',


// O
'onglet_affacer_base' => 'Apagar a base',
'onglet_auteur' => 'O autor',
'onglet_contenu_site' => 'Conte&uacute;do do site',
'onglet_evolution_visite_mod' => 'Evolu&ccedil;&atilde;o',
'onglet_fonctions_avances' => 'Fun&ccedil;&otilde;es avan&ccedil;adas',
'onglet_informations_personnelles' => 'Informa&ccedil;&otilde;es pessoais',
'onglet_interactivite' => 'Interatividade',
'onglet_messagerie' => 'Sistema de mensagens',
'onglet_messages_internes' => 'Mensagens internas',
'onglet_messages_publics' => 'Mensagens p&uacute;blicas',
'onglet_messages_vide' => 'Mensagens sem texto',
'onglet_origine_visites' => 'Origem das visitas',
'onglet_repartition_debut' => 'desde o in&iacute;cio',
'onglet_repartition_lang' => 'Reparti&ccedil;&atilde;o por idiomas',
'onglet_repartition_rubrique' => 'Reparti&ccedil;&atilde;o por se&ccedil;&otilde;es',
'onglet_save_restaur_base' => 'Fazer c&oacute;pia de seguran&ccedil;a/restaurar a base',
'onglet_vider_cache' => 'Esvaziar o cache',
'ortho_trop_de_fautes2' => 'Comece corrigindo os erros mais &oacute;bvios e tente novamente.',


// P
'pass_choix_pass' => 'Por favor, escolha a sua nova senha:',
'pass_erreur' => 'Erro',
'pass_erreur_acces_refuse' => '<b>Erro:</b> voc&ecirc; n&atilde;o tem mais acesso a este site.',
'pass_erreur_code_inconnu' => '<b>Erro:</b> este login n&atilde;o corresponde a nenhum visitante com permiss&atilde;o de acesso a este site.',
'pass_erreur_non_enregistre' => '<b>Erro:</b> o e-mail <tt>@email_oubli@</tt> n&atilde;o est&aacute; cadastrado neste site.',
'pass_erreur_non_valide' => '<b>Erro:</b> o e-mail <tt>@email_oubli@</tt> n&atilde;o &eacute; v&aacute;lido!',
'pass_erreur_probleme_technique' => '<b>Erro:</b> este e-mail n&atilde;o p&ocirc;de ser enviado devido a um problema t&eacute;cnico.',
'pass_espace_prive_bla' => 'O espa&ccedil;o privado deste site &eacute; aberto aos visitantes, ap&oacute;s inscri&ccedil;&atilde;o. Uma vez cadastrado, voc&ecirc; poder&aacute; consultar as mat&eacute;rias em fase de reda&ccedil;&atilde;o, propor a publica&ccedil;&atilde;o de novas mat&eacute;rias e participar de todos os f&oacute;runs.',
'pass_forum_bla' => 'Voc&ecirc; soliciou a participa&ccedil;&atilde;o num f&oacute;rum reservado a visitantes registrados.',
'pass_indiquez_cidessous' => 'Informe abaixo o endere&ccedil;o de e-mail com o qual voc&ecirc; se cadastrou anteriormente. Voc&ecirc; receber&aacute; um e-mail lhe indicando os procedimentos a seguir para recuperar o seu acesso.',
'pass_mail_passcookie' => '(esta &eacute; uma mensagem autom&aacute;tica)
Para recuperar o seu acesso ao site
@nom_site_spip@ (@adresse_site@)

clique por favor no endere&ccedil;o a seguir:

    @adresse_site@/spip_pass.php3?p=@cookie@

Voc&Ecirc; poder&aacute; ent&atilde;o cadastrar uma nova senha
e reconectar-se com o site.

',
'pass_mot_oublie' => 'Senha esquecida',
'pass_nouveau_enregistre' => 'Sua nova senha foi cadastrada.',
'pass_nouveau_pass' => 'Nova senha',
'pass_ok' => 'OK',
'pass_oubli_mot' => 'Esquecimento de senha',
'pass_quitter_fenetre' => 'Fechar esta janela',
'pass_rappel_login' => 'Lembrete: seu login &eacute; &laquo;@login@&raquo;.',
'pass_recevoir_mail' => 'Voc&ecirc; receber&aacute; um e-mail explicando como voc&ecirc; pode recuperar o acesso ao site.',
'pass_retour_public' => 'Voltar para o site p&uacute;blico',
'pass_rien_a_faire_ici' => 'Nada a fazer aqui.',
'pass_vousinscrire' => 'Cadastrar-se neste site',
'precedent' => 'precedente',
'previsualisation' => 'Visualiza&ccedil;&atilde;o',
'previsualiser' => 'Visualizar',


// S
'stats_visites_et_popularite' => '@visites@ visitas; popularidade: @popularite@',
'suivant' => 'seguinte',


// T
'taille_ko' => '@taille@&nbsp;KB',
'taille_mo' => '@taille@&nbsp;MB',
'taille_octets' => ' @taille@&nbsp;bytes',
'texte_actualite_site_1' => 'Quando voc&ecirc; estiver mais familiarizado com a interface, clique em &laquo;',
'texte_actualite_site_2' => 'interface completa',
'texte_actualite_site_3' => '&raquo; para abrir mais possibilidades.',
'texte_creation_automatique_vignette' => 'A cria&ccedil;&atilde;o autom&aacute;tica de &iacute;cones de visualiza&ccedil;&atilde;o est&aacute; ativada neste site. Se voc&ecirc; transferir por este formul&aacute;rio imagens no(s) formato(s) @gd_formats@, elas ser&atilde;o acompanhadas de um &iacute;cone com o tamanho m&aacute;ximo de @taille_preview@&nbsp;pixels.',
'texte_documents_associes' => 'Os documentos a seguir est&atilde;o associados &agrave; mat&eacute;ria,
mas eles n&atilde;o foram inseridos diretamente. Dependendo da elabora&ccedil;&atilde;o dos gabaritos do site p&uacute;blico, eles podem aparecer como documentos anexados.',
'texte_erreur_mise_niveau_base' => 'Erro da base de dados durante a atualiza&ccedil;&atilde;o.
 A imagem <B>@fichier@</B> n&atilde;o passou (mat&eacute;ria @id_article@).
Anote esta refer&ecirc;ncia, tente novamente a atualiza&ccedil;&atilde;o e, verifique enfim se as imagens aparecem nas mat&eacute;rias.',
'texte_inc_auth_1' => 'Voc&ecirc; se identificou com o login <B>@auth_login@</B>, mas ele n&atilde;o consta (mais) na base.
Tente se',
'texte_inc_auth_2' => 'reconectar',
'texte_inc_auth_3' => ', ap&oacute;s ter eventualmente sa&iacute;do e reiniciado o seu navegador.',
'texte_inc_config' => 'As modifica&ccedil;&otilde;es efetuadoas nestas p&aacute;ginas influem consideravelmente no funcionamento do seu site. &Eacute; recomend&aacute;vel n&atilde;o intervir enquanto voc&ecirc; n&atilde;o estiver familiarizado com o funcionamento do sistema SPIP.<p align="justify"><b>Geralmente, &eacute; fortemente aconselh&aacute;vel deixar a carga destas p&aacute;ginas para o webmaster principal do seu site.</b>',
'texte_inc_meta_1' => 'O sistema encontrou um erro durante a escrita do arquivo <code>ecrire/data/meta_cache.php3</code>. Como administrador do site, queira por favor,',
'texte_inc_meta_2' => 'Verificar os direitos de escrita',
'texte_inc_meta_3' => 'no diret&oacute;rio <code>ecrire/data/</code>.',
'texte_statut_en_cours_redaction' => 'em fase de reda&ccedil;&atilde;o',
'texte_statut_poubelle' => 'na lixeira',
'texte_statut_propose_evaluation' => 'proposto para avalia&ccedil;&atilde;o',
'texte_statut_publie' => 'publicado online',
'texte_statut_refuse' => 'recusado',
'titre_ajouter_mot_cle' => 'INCLUIR UMA PALAVRA-CHAVE:',
'titre_breve_proposee' => 'Nota proposta',
'titre_breve_publiee' => 'Nota publicada',
'titre_breve_refusee' => 'Nota recusada',
'titre_cadre_raccourcis' => 'ATALHOS:',
'titre_changer_couleur_interface' => 'Alterar a c&ocirc;r da interface',
'titre_forum' => 'F&oacute;rum',
'titre_image_admin_article' => 'Voc&ecirc; pode administrar esta mat&eacute;ria',
'titre_image_administrateur' => 'Administrador',
'titre_image_aide' => 'Ajuda sobre este elemento',
'titre_image_auteur_supprime' => 'Autor exclu&iacute;do',
'titre_image_redacteur' => 'Redator sem acesso',
'titre_image_redacteur_02' => 'Redator',
'titre_image_visiteur' => 'Visitante',
'titre_joindre_document' => 'INCLUIR UM DOCUMENTO',
'titre_liens_entrants' => 'Links de entrada',
'titre_mots_cles' => 'PALAVRAS-CHAVE',
'titre_probleme_technique' => 'Aten&ccedil;&atilde;o: um problema t&eacute;cnico (servidor MySQL) impede o acesso a esta parte do site. Obrigado por sua compreen&ccedil;&atilde;o.',
'titre_publier_document' => 'PUBLICAR UM DOCUMENTO NESTA SE&Ccedil;&Atilde;O',
'titre_statistiques' => 'Estat&iacute;sticas do site',
'titre_titre_document' => 'T&iacute;tulo do documento:',
'trad_reference' => '(mat&eacute;ria de refer&ecirc;ncia)',


// U
'upload_fichier_zip' => 'Arquivo ZIP',
'upload_fichier_zip_texte' => 'O arquivo que voc&ecirc; prop&ocirc;s instalar &eacute; um arquivo Zip.',
'upload_fichier_zip_texte2' => 'Este arquivo pode ser:',
'upload_limit' => 'Este arquivo &eacute; grande demais para o servidor; o tamanho m&aacute;ximo autorizado para <i>upload</i> &eacute; de @max at .',
'upload_zip_decompacter' => 'expandido e cada elemento que ele cont&eacute;m gravados no site. Os arquivos que ser&atilde;o ent&atilde;o gravados s&atilde;o:',
'upload_zip_telquel' => 'instalado; como arquivo compactado Zip;',


// Z
'zbug_balise_b_aval' => ': tag B colocada ap&oacute;s BOUCLE',
'zbug_boucle' => 'la&ccedil;o',
'zbug_boucle_recursive_undef' => 'la&ccedil;o recursivo n&atilde;o definido',
'zbug_champ_hors_boucle' => 'Campo @champ@ fora do la&ccedil;o',
'zbug_champ_hors_motif' => 'Campo @champ@ fora de um la&ccedil;o de motivo @motif@',
'zbug_code' => 'c&oacute;digo',
'zbug_critere_inconnu' => 'crit&eacute;rio @critere@ desconhecido',
'zbug_distant_interdit' => 'externa interditada',
'zbug_erreur_boucle_double' => 'BOUCLE at id@: dupla defini&ccedil;&atilde;o',
'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: falta a tag de fechamento',
'zbug_erreur_boucle_syntaxe' => 'Sintaxe do la&ccedil;o est&aacute; incorreta',
'zbug_erreur_execution_page' => 'erro de execu&ccedil;&atilde;o da p&aacute;gina',
'zbug_erreur_filtre' => 'Erro: filtro <b>&laquo; @filtre@ &raquo;</b> n&atilde;o definido',
'zbug_erreur_meme_parent' => '{meme_parent} aplica-se exclusivamente aos la&ccedil;os (FORUMS) ou (RUBRIQUES)',
'zbug_erreur_squelette' => 'Erro(s) no gabarito',
'zbug_info_erreur_squelette' => 'Erro no site',
'zbug_inversion_ordre_inexistant' => 'invers&atilde;o de uma ordem inexistente',
'zbug_parametres_inclus_incorrects' => 'Par&acirc;metros de inclus&atilde;o incorretos',
'zbug_resultat' => 'resultado',
'zbug_serveur_indefini' => 'sevidor SQL n&atilde;o definido',
'zbug_table_inconnue' => 'Tabela SQL &laquo;@table@&raquo; desconhecida'

);


?>

--- NEW FILE: public_pt_br.php3 ---
<?php

// This is a SPIP language file  --  Ceci est un fichier langue de SPIP

$GLOBALS[$GLOBALS['idx_lang']] = array(


// A
'accueil_site' => 'P&aacute;gina inicial',
'articles' => 'Mat&eacute;rias',
'articles_auteur' => 'Mat&eacute;rias deste autor',
'articles_populaires' => 'Mat&eacute;rias mais populares',
'articles_recents' => 'Mat&eacute;rias mais recentes',
'articles_rubrique' => 'Mat&eacute;rias desta se&ccedil;&atilde;o',
'aucun_article' => 'N&atilde;o h&aacute; nenhuma mat&eacute;ria neste endere&ccedil;o',
'aucun_auteur' => 'N&atilde;o h&aacute; nenhum autor neste endere&ccedil;o',
'aucun_site' => 'N&atilde;o h&aacute; nenhum site neste endere&ccedil;o',
'aucune_breve' => 'N&atilde;o h&aacute; nenhuma nota neste endere&ccedil;o',
'aucune_rubrique' => 'N&atilde;o h&aacute; nenhuma se&ccedil;&atilde;o neste endere&ccedil;o',
'autres_breves' => 'Outras notas',
'autres_groupes_mots_clefs' => 'Outros grupos de palavras-chave',
'autres_sites' => 'Outros sites',


// B
'bonjour' => 'Bom dia',
'breves' => 'Notas',


// C
'commenter_site' => 'Comentar este site',


// D
'date' => 'Data',
'dernier_ajout' => '&Uacute;ltima inclus&atilde;o',
'dernieres_breves' => '&Uacute;ltimas notas',
'derniers_articles' => '&Uacute;ltimas mat&eacute;rias',
'derniers_commentaires' => '&Uacute;ltimos coment&aacute;rios',
'derniers_messages_forum' => '&Uacute;ltimas mensagens publicadas nos f&oacute;runs',


// E
'edition_mode_texte' => 'Edi&ccedil;&atilde;o em modo texto de',
'en_reponse' => 'Em resposta a:',
'en_resume' => 'Em resumo',
'envoyer_message' => 'Enviar uma mensagem',
'espace_prive' => 'Espa&ccedil;o privado',


// F
'forum' => 'F&oacute;rum',


// H
'hierarchie_site' => 'Hierarquia do site',


// J
'jours' => 'dias',


// M
'meme_auteur' => 'Do mesmo autor',
'meme_rubrique' => 'Na mesma se&ccedil;&atilde;o',
'memes_auteurs' => 'Dos mesmos autores',
'message' => 'Mensagem',
'messages_forum' => 'Mensagens de f&oacute;rum',
'messages_recents' => 'Mensagens de f&oacute;rum mais recentes',
'mots_clefs' => 'Palavras-chave',
'mots_clefs_meme_groupe' => 'Palavras-chave no mesmo grupo',


// N
'navigation' => 'Navega&ccedil;&atilde;o',
'nom' => 'Nome',
'nouveautes' => 'As novidades',
'nouveautes_web' => 'Novidades na web',
'nouveaux_articles' => 'Novas mat&eacute;rias',
'nouvelles_breves' => 'Novas notas',


// P
'page_precedente' => 'pagina anterior',
'page_suivante' => 'p&aacute;gina seguinte',
'par_auteur' => 'por ',
'participer_site' => 'Voc&ecirc; pode participar da vida deste site e propor as suas pr&oacute;prias mat&eacute;rias ao se inscrever abaixo. Voc&ecirc; receber&aacute; imediatamente um e-mail informando os seus c&oacute;digos de acesso ao espa&ccedil;o privado do site.',
'plan_site' => 'Mapa do site',
'popularite' => 'Popularidade',
'poster_message' => 'Postar uma mensagem',
'proposer_site' => 'Voc&ecirc; pode propor a inclus&atilde;o de um site nesta se&ccedil;&atilde;o:',


// R
'repondre_article' => 'Responder a esta mat&eacute;ria',
'repondre_breve' => 'Responder a esta nota',
'repondre_message' => 'Responder a esta mensagem',
'resultats_recherche' => 'Resultados da pesquisa',
'retour_debut_forums' => 'Voltar ao in&iacute;cio dos f&oacute;runs',
'rubrique' => 'Se&ccedil;&atilde;o',
'rubriques' => 'Se&ccedil;&otilde;es',


// S
'signatures_petition' => 'Assinaturas',
'site_realise_avec_spip' => 'Site realizado com SPIP',
'sites_web' => 'Websites',
'sous_rubriques' => 'Subse&ccedil;&otilde;es',
'suite' => 'a seguir',
'sur_web' => 'Na web',
'syndiquer_rubrique' => 'Sindicar esta se&ccedil;&atilde;o',
'syndiquer_site' => 'Sindicar todo o site',


// T
'texte_lettre_information' => 'Esta &eacute; a mensagem de informa&ccedil;&atilde;o do site',
'texte_lettre_information_2' => 'Esta mensagem compila as mat&eacute;rias e as notas publicadas desde',


// V
'ver_imprimer' => 'Vers&atilde;o para impress&atilde;o',
'voir_en_ligne' => 'Ver online'

);


?>

Index: ecrire_pt.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_pt.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- ecrire_pt.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ ecrire_pt.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,1060 +1,1054 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Esta parte da ajuda em linha ainda n&atilde;o est&aacute; dispon&iacute;vel nesta l&iacute;ngua ',
-'avis_acces_interdit' => 'Accesso proibido ',
-'avis_article_modifie' => 'Aten&ccedil;&atilde;o, @nom_auteur_modif@  trabalhou sobre este artigo h&aacute; @date_diff@ minutes',
[...2083 lines suppressed...]
+'titre_sites_references_rubrique' => 'Os s&iacute;tios referenciados nesta rubrica',
+'titre_sites_syndiques' => 'Os s&iacute;tios vinculados',
+'titre_sites_tous' => 'Os s&iacute;tios referenciados',
+'titre_suivi_petition' => 'Seguimento dos abixo-assinados',
+'titre_syndication' => 'Vincula&ccedil;&atilde;o de s&iacute;tios',
+'trad_article_inexistant' => 'N&atilde;o h&aacute; artigo com este n&uacute;mero',
+'trad_article_traduction' => 'Todas as vers&otilde;es deste artigo&nbsp;:',
+'trad_deja_traduit' => 'Este artigo &eacute; j&aacute; uma tradu&ccedil;&atilde;o do presente artigo',
+'trad_delier' => 'N&atilde;o mais ligar este artigo a estas tradu&ccedil;&otilde;es',
+'trad_lier' => 'Este artigo &eacute; uma tradu&ccedil;&atilde;o do artigo n&uacute;mero&nbsp;:',
+'trad_new' => 'Escrever uma nova tradu&ccedil;&atilde;o deste artigo',
+
+
+// V
+'version_initiale' => 'vers&atilde;o inicial'
+
+);
+
+
+?>

Index: ecrire_oc_lnc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_oc_lnc.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- ecrire_oc_lnc.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ ecrire_oc_lnc.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,1034 +1,1033 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Aquela part de l\'ajuda en linha es pas encara disponibla per aquesta lenga.',
-'avis_acces_interdit' => 'Acc&egrave;s pro&iuml;bit.',
-'avis_article_modifie' => 'Atencion, @nom_auteur_modif@ a trabalhat sus aquel article fa @date_diff@ minutas',
[...2036 lines suppressed...]
+'titre_sites_references_rubrique' => 'Los sits referenciats dins aquela rubrica',
+'titre_sites_syndiques' => 'Los sits sindicats',
+'titre_sites_tous' => 'Los sits referenciats',
+'titre_suivi_petition' => 'Seguit de las peticions',
+'titre_syndication' => 'Sindicacion de sits',
+'trad_article_inexistant' => 'I a pas cap d\'article que p&ograve;rte aquel num&egrave;ro.',
+'trad_article_traduction' => 'Totas las versions d\'aquel article:',
+'trad_deja_traduit' => 'Aquel article ja es una revirada de l\'article present.',
+'trad_delier' => 'Ligar pas mai aqueste article a sas reviradas ',
+'trad_lier' => 'Aqueste article es una revirada de l\'article num&egrave;ro:',
+'trad_new' => 'Escriure una revirada nov&egrave;la d\'aqueste article',
+
+
+// V
+'version_initiale' => 'Version iniciala'
+
+);
+
+
+?>

Index: spip_bg.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_bg.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_bg.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ spip_bg.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,777 +1,786 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-bg',
-'0_langue' => '&#1073;&#1098;&#1083;&#1075;&#1072;&#1088;&#1089;&#1082;&#1080; [bg]',
-'0_liste' => 'spip-bg at rezo.net',
[...1532 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>externe interdit',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: &#1076;&#1074;&#1086;&#1081;&#1085;&#1072; &#1076;&#1077;&#1092;&#1080;&#1085;&#1080;&#1094;&#1080;&#1103;',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: &#1083;&#1080;&#1087;&#1089;&#1074;&#1072; &#1079;&#1072;&#1090;&#1074;&#1072;&#1088;&#1103;&#1097; "&#1090;&#1072;&#1075;" (<>)',
+'zbug_erreur_boucle_syntaxe' => '&#1053;&#1077;&#1087;&#1088;&#1072;&#1074;&#1080;&#1083;&#1077;&#1085; &#1089;&#1080;&#1085;&#1090;&#1072;&#1082;&#1089; &#1085;&#1072; &#1094;&#1080;&#1082;&#1098;&#1083; (BOUCLE)',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => '&#1043;&#1088;&#1077;&#1096;&#1082;&#1072;: &#1085;&#1077;&#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085; &#1092;&#1080;&#1083;&#1090;&#1098;&#1088;: <b>?@filtre@?</b>',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => '&#1615;&#1043;&#1088;&#1077;&#1096;&#1082;&#1072; &#1085;&#1072; &#1089;&#1072;&#1081;&#1090;&#1072;',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => '<NEW>r&eacute;sultat',
+'zbug_serveur_indefini' => '<NEW>serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => '<NEW>Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>

Index: spip_pl.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_pl.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_pl.php3	21 Feb 2005 13:14:06 -0000	1.2
+++ spip_pl.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,728 +1,728 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'Polski [pl]',
-'0_liste' => 'spip-dev at rezo.net',
[...1425 lines suppressed...]
+'zbug_critere_inconnu' => 'nieznane kryterium @critere@',
+'zbug_distant_interdit' => 'operacja niedozwolona w zewn&#281;trznej bazie',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: podw&oacute;jna definicja',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: brakuje znacznika zamykaj&#261;cego',
+'zbug_erreur_boucle_syntaxe' => 'Sk&#322;adnia p&#281;tli (boucle) nieprawid&#322;owa',
+'zbug_erreur_execution_page' => 'b&#322;&#261;d w wykonaniu strony',
+'zbug_erreur_filtre' => 'B&#322;&#261;d : filtr <b>&laquo; @filtre@ &raquo;</b> nie zdefiniowany',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => 'B&#322;&#261;d (b&#322;&#281;dy) w szkielecie',
+'zbug_info_erreur_squelette' => 'B&#322;&#261;d na stronie',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => 'wynik',
+'zbug_serveur_indefini' => 'serwer SQL niezdefiniowany',
+'zbug_table_inconnue' => 'Tabela SQL &laquo; @table@ &raquo; nieznana'
+
+);
+
+
+?>

Index: spip_oc_lnc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_oc_lnc.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_oc_lnc.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ spip_oc_lnc.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,698 +1,742 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-oc',
-'0_langue' => 'occitan (lengadocian) [oc_lnc]',
-'0_liste' => 'escambis.pedagogics at aprene.org',
[...1409 lines suppressed...]
+'zbug_critere_inconnu' => 'crit&egrave;ri desconegut @critere@',
+'zbug_distant_interdit' => 'ext&egrave;rne enebit',
+'zbug_erreur_boucle_double' => 'BLOCA at id@: definicion dobla',
+'zbug_erreur_boucle_fermant' => 'BLOCA at id@: lo tag barrador manca',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxi bloca incorr&egrave;cta',
+'zbug_erreur_execution_page' => 'error d\'execucion de la pagina',
+'zbug_erreur_filtre' => 'Error: filtre <b>&laquo; @filtre@ &raquo;</b> non definit',
+'zbug_erreur_meme_parent' => '{meme_parent} ne s\'aplica sonque a las blocas (FORUMS) o (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Error(s) dins l\'esqueleta',
+'zbug_info_erreur_squelette' => 'Error subre lo sit',
+'zbug_inversion_ordre_inexistant' => 'inversion d\'un &ograve;rdre inexistent',
+'zbug_parametres_inclus_incorrects' => 'Param&egrave;tres d\'inclusion incorr&egrave;ctes',
+'zbug_resultat' => 'resultat',
+'zbug_serveur_indefini' => 'servidor SQL indefinit',
+'zbug_table_inconnue' => 'Taula SQL &laquo; @table@ &raquo; desconeguda'
+
+);
+
+
+?>

Index: ecrire_pt_br.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_pt_br.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- ecrire_pt_br.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ ecrire_pt_br.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,1015 +1,1013 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Esta parte da ajuda online ainda n&atilde;o est&aacute; dispon&iacute;vel neste idioma.',
-'avis_acces_interdit' => 'Acesso negado.',
-'avis_article_modifie' => 'Aten&ccedil;&atilde;o, @nom_auteur_modif@ editou esta mat&eacute;ria h&aacute; @date_diff@ minutos',
[...1997 lines suppressed...]
+'titre_sites_references_rubrique' => 'Os sites referenciados nesta se&ccedil;&atilde;o',
+'titre_sites_syndiques' => 'Os sites sindicados',
+'titre_sites_tous' => 'Os sites referenciados',
+'titre_suivi_petition' => 'Acompanhamento das peti&ccedil;&otilde;es',
+'titre_syndication' => 'Sindica&ccedil;&atilde;o de sites',
+'trad_article_inexistant' => 'N&atilde;o h&aacute; nenhuma mat&eacute;ria com este n&uacute;mero.',
+'trad_article_traduction' => 'Todas as vers&otilde;es desta mat&eacute;ria:',
+'trad_deja_traduit' => 'Esta mat&eacute;ria j&aacute; &eacute; uma tradu&ccedil;&atilde;o da mat&eacute;ria atual.',
+'trad_delier' => 'Desvincular esta mat&eacute;ria de suas tradu&ccedil;&otilde;es',
+'trad_lier' => 'Esta mat&eacute;ria &eacute; uma tradu&ccedil;&atilde;o da mat&eacute;ria n&uacute;mero:',
+'trad_new' => 'Escrever uma nova tradu&ccedil;&atilde;o para esta mat&eacute;ria',
+
+
+// V
+'version_initiale' => 'vers&atilde;o inicial'
+
+);
+
+
+?>

Index: ecrire_es.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_es.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- ecrire_es.php3	21 Feb 2005 13:14:04 -0000	1.2
+++ ecrire_es.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,931 +1,930 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'Esta parte de la ayuda en l&iacute;nea a&uacute;n no est&aacute;  disponible en este idioma.',
-'avis_acces_interdit' => 'Acceso prohibido.',
-'avis_article_modifie' => 'Atenci&oacute;n, @nom_auteur_modif@ trabaj&oacute; en este art&iacute;culo hace @date_diff@ minutos.',
[...1830 lines suppressed...]
+'titre_sites_references_rubrique' => 'Los sitios referenciados en esta secci&oacute;n',
+'titre_sites_syndiques' => 'Los sitios sindicados',
+'titre_sites_tous' => 'Los sitios referenciados',
+'titre_suivi_petition' => 'Gesti&oacute;n de las peticiones',
+'titre_syndication' => 'Sindicaci&oacute;n de sitios',
+'trad_article_inexistant' => 'No hay ning&uacute;n art&iacute;culo con ese n&uacute;mero.',
+'trad_article_traduction' => 'Todas las versiones de este art&iacute;culo:',
+'trad_deja_traduit' => 'Esta instancia del art&iacute;culo ya es una traducci&oacute;n.',
+'trad_delier' => 'Ya no ligar este art&iacute;culo a sus traducciones ',
+'trad_lier' => 'Este art&iacute;culo es una traducci&oacute;n del art&iacute;culo n&uacute;mero:',
+'trad_new' => 'Escribir una nueva traducci&oacute;n de este art&iacute;culo',
+
+
+// V
+'version_initiale' => 'Versi&oacute;n inicial'
+
+);
+
+
+?>

Index: spip_lb.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_lb.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_lb.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ spip_lb.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,696 +1,703 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-lb',
-'0_langue' => 'L&euml;tzebuergesch [lb]',
-'0_liste' => 'spip-lb at rezo.net',
[...1368 lines suppressed...]
+'zbug_critere_inconnu' => 'Onbekannten Crit&egrave;re @critere@',
+'zbug_distant_interdit' => 'extern verbueden',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: duebel Definitioun',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: Schluss-Tag fehlt',
+'zbug_erreur_boucle_syntaxe' => 'Falsch Syntax vun der Schleef',
+'zbug_erreur_execution_page' => 'Fehler beim Berechnen vun der S&auml;it',
+'zbug_erreur_filtre' => 'Fehler: Filter <b>"@filtre@"</b> n&euml;t defin&eacute;iert',
+'zbug_erreur_meme_parent' => '{meme_parent} ass just fir d\'Bouclen (FORUMS) oder (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Fehler am Skelett',
+'zbug_info_erreur_squelette' => 'Fehler um Site',
+'zbug_inversion_ordre_inexistant' => 'Inversioun vun enger Uerdnung d&eacute;i &euml;t n&euml;t g&euml;tt',
+'zbug_parametres_inclus_incorrects' => 'Falsch Parameteren fir d\'Inclusioun',
+'zbug_resultat' => '-eidel-',
+'zbug_serveur_indefini' => 'SQL-Server n&euml;t defin&eacute;iert',
+'zbug_table_inconnue' => 'Onbekannten SQL-Tabell "@table@"'
+
+);
+
+
+?>

Index: spip_es.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_es.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_es.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ spip_es.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,706 +1,715 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-es',
-'0_langue' => 'espa&ntilde;ol [es]',
-'0_liste' => 'spip-es at rezo.net',
[...1390 lines suppressed...]
+'zbug_critere_inconnu' => 'criterio desconocido @critere@',
+'zbug_distant_interdit' => 'externo prohibido',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: doble definici&oacute;n',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: falta la baliza de cierre',
+'zbug_erreur_boucle_syntaxe' => 'Sintaxis de bucle incorrecto',
+'zbug_erreur_execution_page' => 'error de ejecuci&oacute;n de la p&aacute;gina',
+'zbug_erreur_filtre' => 'Error: filtro <b>&laquo; @filtre@ &raquo;</b> no definido',
+'zbug_erreur_meme_parent' => '{meme_parent} s&oacute;lo se aplica a los  bucles (FORUMS) o (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Error(es) en el esqueleto',
+'zbug_info_erreur_squelette' => 'Error en el sitio',
+'zbug_inversion_ordre_inexistant' => 'inversi&oacute;n de un orden inexistente',
+'zbug_parametres_inclus_incorrects' => 'Par&aacute;metreos de inclusi&oacute;n incorrectos',
+'zbug_resultat' => 'resultado',
+'zbug_serveur_indefini' => 'servidor SQL indefinido',
+'zbug_table_inconnue' => 'Tabla SQL &laquo;@table@&raquo; desconocida'
+
+);
+
+
+?>

Index: public_oc_lnc.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/public_oc_lnc.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- public_oc_lnc.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ public_oc_lnc.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,126 +1,127 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'accueil_site' => 'Acu&egrave;lh del sit',
-'articles' => 'Articles',
-'articles_auteur' => 'Articles d\'aquel autor',
-'articles_populaires' => 'Los articles mai populars',
-'articles_recents' => 'Los articles mai recents',
-'articles_rubrique' => 'Articles d\'aquela rubrica',
-'aucun_article' => 'I a pas cap d\'article a aquela adrei&ccedil;a ',
-'aucun_auteur' => 'I a pas cap d\'autor a aquela adrei&ccedil;a ',
-'aucun_site' => 'I a pas cap de sit a aquela adrei&ccedil;a ',
-'aucune_breve' => 'I a pas cap de br&egrave;va a aquela adrei&ccedil;a ',
-'aucune_rubrique' => 'I a pas cap de rubrica a aquela adrei&ccedil;a ',
-'autres_breves' => 'Autras br&egrave;vas',
-'autres_groupes_mots_clefs' => 'Autres grops de mots claus',
-'autres_sites' => 'Autres sits',
-
-
-// B
-'bonjour' => 'Adieu-siatz',
-'breves' => 'Br&egrave;vas',
-
-
-// C
-'commenter_site' => 'Comentar aquel sit',
-
-
-// D
-'date' => 'Data',
-'dernier_ajout' => 'Darri&egrave;r apondon',
-'dernieres_breves' => 'Darri&egrave;ras br&egrave;vas',
-'derniers_articles' => 'Darri&egrave;rs articles',
-'derniers_commentaires' => 'Darri&egrave;rs comentaris',
-'derniers_messages_forum' => 'Darri&egrave;rs messatges publicats dins los forums',
-
-
-// E
-'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
-'en_reponse' => 'En responsa a:',
-'en_resume' => 'En resumit',
-'envoyer_message' => 'Mandar un messatge',
-'espace_prive' => 'Espaci privat',
-
-
-// F
-'forum' => 'Forum',
-
-
-// H
-'hierarchie_site' => 'Ierarquia del sit',
-
-
-// J
-'jours' => 'jorns',
-
-
-// M
-'meme_auteur' => 'Del meteis autor',
-'meme_rubrique' => 'Dins la meteissa rubrica',
-'memes_auteurs' => 'Dels meteisses autors',
-'message' => 'Messatge',
-'messages_forum' => 'Messatges de forum',
-'messages_recents' => 'Los messatges de forums mai recents',
-'mots_clefs' => 'Mots claus',
-'mots_clefs_meme_groupe' => 'Mots claus dins lo meteis grop',
-
-
-// N
-'navigation' => 'Navigacion',
-'nom' => 'Nom',
-'nouveautes' => 'Las novetats',
-'nouveautes_web' => 'Novetats subre lo web',
-'nouveaux_articles' => 'Articles n&ograve;us',
-'nouvelles_breves' => 'Br&egrave;vas n&ograve;vas',
-
-
-// P
-'page_precedente' => 'pagina precedenta',
-'page_suivante' => 'pagina seguenta',
-'par_auteur' => 'per&nbsp;',
-'participer_site' => 'Pod&egrave;tz participar a la vida d\'aquel sit e prepausar los articles v&ograve;stres en vos inscriure &ccedil;ai jos. Recebretz c&ograve;p sec un e-mail que vos indicar&agrave; v&ograve;stres c&ograve;des per accedir a l\'espaci privat del sit.',
-'plan_site' => 'Plan del sit',
-'popularite' => 'Popularitat',
-'poster_message' => 'Postar un messatge',
-
-
-// R
-'repondre_article' => 'Respondre a aquel article',
-'repondre_breve' => 'Respondre a aquela br&egrave;va',
-'repondre_message' => 'Respondre a aquel messatge',
-'resultats_recherche' => 'Resultats de la rec&egrave;rca',
-'retour_debut_forums' => 'Retorn al comen&ccedil;ament dels forums',
-'rubrique' => 'Rubrica',
-'rubriques' => 'Rubricas',
-
-
-// S
-'signatures_petition' => 'Signaturas',
-'site_realise_avec_spip' => 'Sit realizat amb SPIP',
-'sites_web' => 'Sits web',
-'sous_rubriques' => 'Sosrubricas',
-'suite' => 'seguida',
-'sur_web' => 'Subre lo web',
-'syndiquer_rubrique' => 'Sindicar aquela rubrica',
-'syndiquer_site' => 'Sindicar tot lo sit',
-
-
-// T
-'texte_lettre_information' => 'Vaic&iacute; la letra d\'informacion del sit',
-'texte_lettre_information_2' => 'Aquela letra recensa los articles e br&egrave;vas publicats dempu&egrave;i',
-
-
-// V
-'ver_imprimer' => 'Version d\'estampar',
-'voir_en_ligne' => 'Vejatz en linha'
-
-);
-
-
-?>
+<?php
+
+// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
+
+$GLOBALS[$GLOBALS['idx_lang']] = array(
+
+
+// A
+'accueil_site' => 'Acu&egrave;lh del sit',
+'articles' => 'Articles',
+'articles_auteur' => 'Articles d\'aquel autor',
+'articles_populaires' => 'Los articles mai populars',
+'articles_recents' => 'Los articles mai recents',
+'articles_rubrique' => 'Articles d\'aquela rubrica',
+'aucun_article' => 'I a pas cap d\'article a aquela adrei&ccedil;a ',
+'aucun_auteur' => 'I a pas cap d\'autor a aquela adrei&ccedil;a ',
+'aucun_site' => 'I a pas cap de sit a aquela adrei&ccedil;a ',
+'aucune_breve' => 'I a pas cap de br&egrave;va a aquela adrei&ccedil;a ',
+'aucune_rubrique' => 'I a pas cap de rubrica a aquela adrei&ccedil;a ',
+'autres_breves' => 'Autras br&egrave;vas',
+'autres_groupes_mots_clefs' => 'Autres grops de mots claus',
+'autres_sites' => 'Autres sits',
+
+
+// B
+'bonjour' => 'Adieu-siatz',
+'breves' => 'Br&egrave;vas',
+
+
+// C
+'commenter_site' => 'Comentar aquel sit',
+
+
+// D
+'date' => 'Data',
+'dernier_ajout' => 'Darri&egrave;r apondon',
+'dernieres_breves' => 'Darri&egrave;ras br&egrave;vas',
+'derniers_articles' => 'Darri&egrave;rs articles',
+'derniers_commentaires' => 'Darri&egrave;rs comentaris',
+'derniers_messages_forum' => 'Darri&egrave;rs messatges publicats dins los forums',
+
+
+// E
+'edition_mode_texte' => 'Edicion en m&ograve;de t&egrave;xt de',
+'en_reponse' => 'En responsa a:',
+'en_resume' => 'En resumit',
+'envoyer_message' => 'Mandar un messatge',
+'espace_prive' => 'Espaci privat',
+
+
+// F
+'forum' => 'Forum',
+
+
+// H
+'hierarchie_site' => 'Ierarquia del sit',
+
+
+// J
+'jours' => 'jorns',
+
+
+// M
+'meme_auteur' => 'Del meteis autor',
+'meme_rubrique' => 'Dins la meteissa rubrica',
+'memes_auteurs' => 'Dels meteisses autors',
+'message' => 'Messatge',
+'messages_forum' => 'Messatges de forum',
+'messages_recents' => 'Los messatges de forums mai recents',
+'mots_clefs' => 'Mots claus',
+'mots_clefs_meme_groupe' => 'Mots claus dins lo meteis grop',
+
+
+// N
+'navigation' => 'Navigacion',
+'nom' => 'Nom',
+'nouveautes' => 'Las novetats',
+'nouveautes_web' => 'Novetats subre lo web',
+'nouveaux_articles' => 'Articles n&ograve;us',
+'nouvelles_breves' => 'Br&egrave;vas n&ograve;vas',
+
+
+// P
+'page_precedente' => 'pagina precedenta',
+'page_suivante' => 'pagina seguenta',
+'par_auteur' => 'per&nbsp;',
+'participer_site' => 'Pod&egrave;tz participar a la vida d\'aquel sit e prepausar los articles v&ograve;stres en vos inscriure &ccedil;ai jos. Recebretz c&ograve;p sec un e-mail que vos indicar&agrave; v&ograve;stres c&ograve;des per accedir a l\'espaci privat del sit.',
+'plan_site' => 'Plan del sit',
+'popularite' => 'Popularitat',
+'poster_message' => 'Postar un messatge',
+'proposer_site' => 'Pod&egrave;tz prepausar un sit per apondre a aquesta rubrica&nbsp;:',
+
+
+// R
+'repondre_article' => 'Respondre a aquel article',
+'repondre_breve' => 'Respondre a aquela br&egrave;va',
+'repondre_message' => 'Respondre a aquel messatge',
+'resultats_recherche' => 'Resultats de la rec&egrave;rca',
+'retour_debut_forums' => 'Retorn al comen&ccedil;ament dels forums',
+'rubrique' => 'Rubrica',
+'rubriques' => 'Rubricas',
+
+
+// S
+'signatures_petition' => 'Signaturas',
+'site_realise_avec_spip' => 'Sit realizat amb SPIP',
+'sites_web' => 'Sits web',
+'sous_rubriques' => 'Sosrubricas',
+'suite' => 'seguida',
+'sur_web' => 'Subre lo web',
+'syndiquer_rubrique' => 'Sindicar aquela rubrica',
+'syndiquer_site' => 'Sindicar tot lo sit',
+
+
+// T
+'texte_lettre_information' => 'Vaic&iacute; la letra d\'informacion del sit',
+'texte_lettre_information_2' => 'Aquela letra recensa los articles e br&egrave;vas publicats dempu&egrave;i',
+
+
+// V
+'ver_imprimer' => 'Version d\'estampar',
+'voir_en_ligne' => 'Vejatz en linha'
+
+);
+
+
+?>

Index: spip_pt.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_pt.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_pt.php3	21 Feb 2005 13:14:06 -0000	1.2
+++ spip_pt.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,731 +1,731 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'portugu&ecirc;s [pt]',
-'0_liste' => 'spip-dev at rezo.net',
[...1431 lines suppressed...]
+'zbug_critere_inconnu' => 'crit&eacute;rio @critere@ desconhecido',
+'zbug_distant_interdit' => 'externa interditada',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: Dupla Defini&ccedil;&atilde;o ',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: tag final em falta   ',
+'zbug_erreur_boucle_syntaxe' => 'Loop com sintaxe incorrecto',
+'zbug_erreur_execution_page' => 'erro de execu&ccedil;&atilde;o da p&aacute;gina',
+'zbug_erreur_filtre' => 'Erro : filtro <b>&laquo; @filtre@ &raquo;</b> indefinido',
+'zbug_erreur_meme_parent' => '{meme_parent} aplica-se exclusivamente aos links (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Erro(s) no gabarito',
+'zbug_info_erreur_squelette' => 'Erro no s&iacute;tio',
+'zbug_inversion_ordre_inexistant' => 'invers&atilde;o de uma ordem inexistente',
+'zbug_parametres_inclus_incorrects' => 'Par&acirc;metros de inclus&atilde;o incorrectos',
+'zbug_resultat' => 'resultado',
+'zbug_serveur_indefini' => 'sevidor SQL n&atilde;o definido',
+'zbug_table_inconnue' => 'Tabela SQL &laquo;@table@&raquo; desconhecida'
+
+);
+
+
+?>

Index: spip_it.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_it.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_it.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ spip_it.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,721 +1,722 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-it',
-'0_langue' => 'Italiano [it]',
-'0_liste' => 'spip-it at rezo.net',
[...1412 lines suppressed...]
+'zbug_critere_inconnu' => 'criterio sconosciuto @critere@',
+'zbug_distant_interdit' => 'esterno non accessibile',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: doppia definizione',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: chiusura tag mancante',
+'zbug_erreur_boucle_syntaxe' => 'Sintassi del ciclo errata',
+'zbug_erreur_execution_page' => 'errore di esecuzione della pagina',
+'zbug_erreur_filtre' => 'Errore : filtro <b>&laquo; @filtre@ &raquo;</b> non esistente',
+'zbug_erreur_meme_parent' => '{meme_parent} si applica unicamente ai cicli (FORUMS) o (RUBRIQUES)',
+'zbug_erreur_squelette' => 'Errore/i nel modello di layout',
+'zbug_info_erreur_squelette' => 'Errore sul sito',
+'zbug_inversion_ordre_inexistant' => 'inversione di un ordine non esistente',
+'zbug_parametres_inclus_incorrects' => 'Parametri di inclusione non corretti',
+'zbug_resultat' => 'risultato',
+'zbug_serveur_indefini' => 'server SQL non definito',
+'zbug_table_inconnue' => 'Tabella SQL &laquo; @table@ &raquo; sconosciuta'
+
+);
+
+
+?>

Index: ecrire_lb.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/ecrire_lb.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- ecrire_lb.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ ecrire_lb.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,926 +1,925 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// A
-'aide_non_disponible' => 'D&euml;sen Deel vun der H&euml;llef g&euml;tt et nach n&euml;t an d&auml;r Sprooch.',
-'avis_acces_interdit' => 'Zougang gespaart.',
-'avis_article_modifie' => 'Opgepasst, den @nom_auteur_modif@ huet un d&euml;sem Artikel virun @date_diff@ Minuten geschafft',
[...1820 lines suppressed...]
+'titre_sites_references_rubrique' => 'Referenz&eacute;iert Siten an d&euml;ser Rubrik',
+'titre_sites_syndiques' => 'Syndiqu&eacute;iert Siten',
+'titre_sites_tous' => 'D&eacute;i referenz&eacute;iert Siten',
+'titre_suivi_petition' => 'Suivi vun de Petitiounen',
+'titre_syndication' => 'Syndicatioun vun de Siten',
+'trad_article_inexistant' => '&Euml;t g&euml;t keen Artikel mat d&auml;r Nummer.',
+'trad_article_traduction' => 'All d\'Versiounen vun d&euml;sem Artikel:',
+'trad_deja_traduit' => 'D&euml;sen Artikel ass schon eng Iwwersetzung vun dem Artikel.',
+'trad_delier' => 'D&euml;sen Artikel n&euml;t m&eacute;i un seng Iwwersetzungen bannen',
+'trad_lier' => 'D&euml;sen Artikel ass eng Iwwersetzung vum Artikel Nummer:',
+'trad_new' => 'Eng nei Iwwersetzung vun d&euml;sem Artikel schreiwen',
+
+
+// V
+'version_initiale' => 'Original-Versioun'
+
+);
+
+
+?>

Index: spip_fa.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_fa.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_fa.php3	21 Feb 2005 13:14:05 -0000	1.2
+++ spip_fa.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,685 +1,686 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://www.spip.net/fa',
-'0_langue' => '[fa] &#1601;&#1575;&#1585;&#1587;&#1609;',
-'0_liste' => 'spip-fa at rezo.net',
[...1340 lines suppressed...]
+'zbug_critere_inconnu' => '&#1583;&#1604;&#1610;&#1604; &#1606;&#1575;&#1605;&#1588;&#1582;&#1589; @critere@',
+'zbug_distant_interdit' => '&#1582;&#1575;&#1585;&#1580;&#1609; &#1605;&#1605;&#1606;&#1608;&#1593;',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: &#1578;&#1608;&#1589;&#1610;&#1601; &#1583;&#1608;&#1711;&#1575;&#1606;&#1607;',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@:&#1576;&#1575;&#1604;&#1610;&#1586; "<" &#1576;&#1587;&#1578;&#1607; &#1606;&#1588;&#1583;&#1607;',
+'zbug_erreur_boucle_syntaxe' => '&#1580;&#1605;&#1604;&#1607; &#1610; &#1581;&#1604;&#1602;&#1607; &#1606;&#1575;&#1583;&#1585;&#1587;&#1578; &#1605;&#1610;&#1576;&#1575;&#1588;&#1583; ',
+'zbug_erreur_execution_page' => '&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; &#1583;&#1585; &#1575;&#1580;&#1585;&#1575;&#1609; &#1576;&#1585;&#1606;&#1575;&#1605;&#1607; &#1609; &#1589;&#1601;&#1581;&#1607;',
+'zbug_erreur_filtre' => '&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; : &#1601;&#1610;&#1604;&#1578;&#1585;<b>&laquo; @filtre@ &raquo;</b>&#1578;&#1593;&#1585;&#1610;&#1601; &#1606;&#1588;&#1583;&#1607;',
+'zbug_erreur_meme_parent' => '{meme_parent} &#1578;&#1606;&#1607;&#1575; &#1576;&#1585;&#1575;&#1609; &#1581;&#1604;&#1602;&#1607; &#1607;&#1575;&#1609; (FORUMS) &#1610;&#1575; (RUBRIQUES) &#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
+'zbug_erreur_squelette' => '&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; &#1583;&#1585; &#1587;&#1575;&#1582;&#1578;&#1575;&#1585; &#1575;&#1587;&#1603;&#1604;&#1578;',
+'zbug_info_erreur_squelette' => '&#1575;&#1588;&#1578;&#1576;&#1575;&#1607; &#1583;&#1585; &#1587;&#1575;&#1610;&#1578;',
+'zbug_inversion_ordre_inexistant' => '&#1608;&#1575;&#1585;&#1575;&#1606;&#1711;&#1609; &#1578;&#1585;&#1578;&#1610;&#1576;  &#1606;&#1575;&#1605;&#1608;&#1580;&#1608;&#1583;',
+'zbug_parametres_inclus_incorrects' => '&#1662;&#1575;&#1585;&#1575;&#1605;&#1578;&#1585; &#1601;&#1608;&#1602; &#1583;&#1585;&#1587;&#1578; &#1606;&#1605;&#1610;&#1576;&#1575;&#1588;&#1583;',
+'zbug_resultat' => '&#1606;&#1578;&#1610;&#1580;&#1607;',
+'zbug_serveur_indefini' => '&#1587;&#1585;&#1608;&#1585; SQL &#1605;&#1588;&#1582;&#1589; &#1606;&#1610;&#1587;&#1578;',
+'zbug_table_inconnue' => '&#1580;&#1583;&#1608;&#1604; SQL &laquo; @table@ &raquo;  &#1606;&#1575;&#1588;&#1606;&#1575;&#1582;&#1578;&#1607; &#1575;&#1587;&#1578;'
+
+);
+
+
+?>

Index: spip_vi.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/ecrire/lang/spip_vi.php3,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- spip_vi.php3	21 Feb 2005 13:14:06 -0000	1.2
+++ spip_vi.php3	25 Feb 2005 16:35:57 -0000	1.3
@@ -1,660 +1,697 @@
-<?php
-
-// This is a SPIP language file  --  Ceci est un fichier langue de SPIP
-
-$GLOBALS[$GLOBALS['idx_lang']] = array(
-
-
-// 0
-'0_URL' => 'http://listes.rezo.net/mailman/listinfo/spip-dev',
-'0_langue' => 'Vi&#7879;t nam [vi]',
-'0_liste' => 'spip-vi at rezo.net',
[...1326 lines suppressed...]
+'zbug_critere_inconnu' => '<NEW>crit&egrave;re inconnu @critere@',
+'zbug_distant_interdit' => '<NEW>externe interdit',
+'zbug_erreur_boucle_double' => 'BOUCLE at id@: Ch&#7881; &#273;&#432;&#7907;c d&ugrave;ng m&#7897;t l&#7847;n ',
+'zbug_erreur_boucle_fermant' => 'BOUCLE at id@: ch&#432;a d&#432;&#7907;c d&oacute;ng l&#7841;i ',
+'zbug_erreur_boucle_syntaxe' => 'C&aacute;ch vi&#7871;t v&ograve;ng (boucle) n&agrave;y kh&ocirc;ng &#273;&uacute;ng.',
+'zbug_erreur_execution_page' => '<NEW>erreur d\'ex&eacute;cution de la page',
+'zbug_erreur_filtre' => 'Sai l&#7847;m : B&#7841;n ch&#432;a x&aacute;c &#273;&#7883;nh b&#7897; l&#7885;c (filtre) <b>&laquo; @filtre@ &raquo;</b> n&#7847;y. ',
+'zbug_erreur_meme_parent' => '<NEW>{meme_parent} ne s\'applique qu\'aux boucles (FORUMS) ou (RUBRIQUES)',
+'zbug_erreur_squelette' => '<NEW>Erreur(s) dans le squelette',
+'zbug_info_erreur_squelette' => 'C&oacute; l&#7895;i tr&ecirc;n Website',
+'zbug_inversion_ordre_inexistant' => '<NEW>inversion d\'un ordre inexistant',
+'zbug_parametres_inclus_incorrects' => '<NEW>Param&egrave;tres d\'inclusion incorrects',
+'zbug_resultat' => '<NEW>r&eacute;sultat',
+'zbug_serveur_indefini' => '<NEW>serveur SQL ind&eacute;fini',
+'zbug_table_inconnue' => '<NEW>Table SQL &laquo; @table@ &raquo; inconnue'
+
+);
+
+
+?>



From stef at berlios.de  Sat Feb 26 00:46:21 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sat, 26 Feb 2005 00:46:21 +0100
Subject: [Spip-carto-cvs] spipcarto carto_svgfile.php3,NONE,1.1 .htaccess,NONE,1.1 carto_svg.php3,NONE,1.1 mes_fonctions.php3,1.4,1.5
Message-ID: <200502252346.j1PNkLNx014245@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv14135/spipcarto

Modified Files:
	mes_fonctions.php3 
Added Files:
	carto_svgfile.php3 .htaccess carto_svg.php3 
Log Message:
premier essai svg ... HS

--- NEW FILE: carto_svgfile.php3 ---
<?php

$fond = "carto_svgfile";
$delais = 24*3600;
// cette ligne empeche l'affichage des boutons d'administration
// Et les headers !!!!
$flag_preserver = true;
@header("Content-type: image/svg+xml");
include ("inc-public.php3");

?>
--- NEW FILE: .htaccess ---
RewriteEngine On
RewriteRule ^carto_svgfile([0-9]+)\.svg$	carto_svgfile.php3?id_carto_carte=$1 [QSA,L]

--- NEW FILE: carto_svg.php3 ---
<?php

$fond = "carto_svg";
$delais = 24*3600;

include ("inc-public.php3");

?>

Index: mes_fonctions.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/mes_fonctions.php3,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- mes_fonctions.php3	25 Feb 2005 12:01:32 -0000	1.4
+++ mes_fonctions.php3	25 Feb 2005 23:46:18 -0000	1.5
@@ -4,6 +4,30 @@
 //FILTRES
 //////////////////////////////////////////////////
 //////////////////////////////////////////////////
+function worldfile2width($callage){	
+	$tabcallage=worldfile2array($callage);
+	return intval($tabcallage['bottom_right']['x']-$tabcallage['top_left']['x']);
+}
+function worldfile2height($callage){	
+	$tabcallage=worldfile2array($callage);
+	return intval($tabcallage['bottom_right']['y']-$tabcallage['top_left']['y']);
+}
+
+function wkt2svgform($geometrie){
+	$wktGeomType = substr($geometrie,0,strpos($geometrie,"("));
+
+	if (strcasecmp($wktGeomType ,"POLYGON")==0)
+		return "polygon"; 
+	if (strcasecmp($$wktGeomType ,"POINT")==0)
+		return "circle"; 
+	if (strcasecmp($wktGeomType ,"LINE")==0)
+		return "polyline"; 
+				
+}
+function wkt2svgcoords($geometrie){
+	
+	return substr($geometrie,strpos($geometrie,"(")+1,-1);
+}
 /* +---------------------------------------------+
  *    Nom    du    Filtre : WKT to STYLE
  * +---------------------------------------------+    



From stef at berlios.de  Sat Feb 26 00:46:25 2005
From: stef at berlios.de (stef at berlios.de)
Date: Sat, 26 Feb 2005 00:46:25 +0100
Subject: [Spip-carto-cvs] spipcarto/squelettes carto_svg.html,NONE,1.1 carto_svgfile.html,NONE,1.1
Message-ID: <200502252346.j1PNkPNx014258@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/squelettes
In directory sheep:/tmp/cvs-serv14135/spipcarto/squelettes

Added Files:
	carto_svg.html carto_svgfile.html 
Log Message:
premier essai svg ... HS

--- NEW FILE: carto_svg.html ---
<BOUCLE_carte(CARTO_CARTES){id_carto_carte}>
<object type="image/svg+xml" name="omap" data="carto_svgfile#ID_CARTO_CARTE.svg"
width="[(#CALLAGE|worldfile2width)]px"
height="[(#CALLAGE|worldfile2height)]px"></object>
</BOUCLE_carte>

--- NEW FILE: carto_svgfile.html ---
<BOUCLE_carte(CARTO_CARTES){id_carto_carte}><svg viewBox="0 0 [(#CALLAGE|worldfile2width)] [(#CALLAGE|worldfile2height)]" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
<defs>
 <linearGradient id="MyGradient" gradientTransform="rotate(45)">
  <stop offset="0%" style="stop-color:white"/>
  <stop offset="30%" style="stop-color:red"/>
  <stop offset="100%" style="stop-color:black"/>
 </linearGradient>
</defs>

 <g id="background" visibility="visible">
  <image x="0" y="0" width="[(#CALLAGE|worldfile2width)]px" height="[(#CALLAGE|worldfile2height)]px" xlink:href="spip_carto.php?fond_carte=#URL_CARTE<?php //echo urlencode("spip_carto.php?fond_carte=#URL_CARTE");
  ?>"/>
 </g>
 <g id="mainlayer">
 <BOUCLE_objets(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}>
  <a xlink:href="#URL_OBJET" alt="#TITRE"><[(#GEOMETRIE|wkt2svgform)] points="[(#GEOMETRIE|wkt2svgcoords)]" style="fill:url(#MyGradient);opacity:.3;"/></a>
 </BOUCLE_objets>
 </g>
</svg></BOUCLE_carte>


From fxp at berlios.de  Sat Feb 26 11:44:23 2005
From: fxp at berlios.de (fxp at berlios.de)
Date: Sat, 26 Feb 2005 11:44:23 +0100
Subject: [Spip-carto-cvs] spipcarto/squelettes carto_svg.html,1.1,1.2
Message-ID: <200502261044.j1QAiNNx002284@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/squelettes
In directory sheep:/tmp/cvs-serv2278/squelettes

Modified Files:
	carto_svg.html 
Log Message:
Exemple SVG simple / style des objets fixe

Index: carto_svg.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/squelettes/carto_svg.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- carto_svg.html	25 Feb 2005 23:46:20 -0000	1.1
+++ carto_svg.html	26 Feb 2005 10:44:21 -0000	1.2
@@ -1,5 +1,15 @@
 <BOUCLE_carte(CARTO_CARTES){id_carto_carte}>
-<object type="image/svg+xml" name="omap" data="carto_svgfile#ID_CARTO_CARTE.svg"
-width="[(#CALLAGE|worldfile2width)]px"
-height="[(#CALLAGE|worldfile2height)]px"></object>
+<!-- <object type="image/svg+xml" name="omap" data="carto_svgfile#ID_CARTO_CARTE.svg"
+width="[(#CALLAGE|worldfileWidth)]px"
+height="[(#CALLAGE|worldfileHeight)]px"/> 
+
+Probl?me sous IE avec Object 
+Pour le Callage, ces infos sont la projection pas forc?ment la largeur 
+de la carte ? l'affichage. Plut?t l'utiliser dans la viewbow SVG ...
+-->
+
+
+<embed src="carto_svgfile.php3?id_carto_carte=#ID_CARTO_CARTE" width="600px" height="400px" type="image/svg+xml" name="emap"/>
+
+
 </BOUCLE_carte>



From fxp at berlios.de  Sat Feb 26 11:44:39 2005
From: fxp at berlios.de (fxp at berlios.de)
Date: Sat, 26 Feb 2005 11:44:39 +0100
Subject: [Spip-carto-cvs] spipcarto/squelettes carto_svgfile.html,1.1,1.2
Message-ID: <200502261044.j1QAidNx002298@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto/squelettes
In directory sheep:/tmp/cvs-serv2292/squelettes

Modified Files:
	carto_svgfile.html 
Log Message:
Exemple SVG simple / style des objets fixe

Index: carto_svgfile.html
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/squelettes/carto_svgfile.html,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- carto_svgfile.html	25 Feb 2005 23:46:20 -0000	1.1
+++ carto_svgfile.html	26 Feb 2005 10:44:36 -0000	1.2
@@ -1,19 +1,23 @@
-<BOUCLE_carte(CARTO_CARTES){id_carto_carte}><svg viewBox="0 0 [(#CALLAGE|worldfile2width)] [(#CALLAGE|worldfile2height)]" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
-<defs>
- <linearGradient id="MyGradient" gradientTransform="rotate(45)">
-  <stop offset="0%" style="stop-color:white"/>
-  <stop offset="30%" style="stop-color:red"/>
-  <stop offset="100%" style="stop-color:black"/>
- </linearGradient>
-</defs>
-
- <g id="background" visibility="visible">
-  <image x="0" y="0" width="[(#CALLAGE|worldfile2width)]px" height="[(#CALLAGE|worldfile2height)]px" xlink:href="spip_carto.php?fond_carte=#URL_CARTE<?php //echo urlencode("spip_carto.php?fond_carte=#URL_CARTE");
-  ?>"/>
- </g>
- <g id="mainlayer">
- <BOUCLE_objets(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}>
-  <a xlink:href="#URL_OBJET" alt="#TITRE"><[(#GEOMETRIE|wkt2svgform)] points="[(#GEOMETRIE|wkt2svgcoords)]" style="fill:url(#MyGradient);opacity:.3;"/></a>
- </BOUCLE_objets>
- </g>
-</svg></BOUCLE_carte>
\ No newline at end of file
+<BOUCLE_carte(CARTO_CARTES){id_carto_carte}>
+	<svg viewBox="0 0 [(#CALLAGE|worldfileWidth)] [(#CALLAGE|worldfileHeight)]" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
+		<defs>
+		 <linearGradient id="MyGradient" gradientTransform="rotate(45)">
+		  <stop offset="0%" style="stop-color:white"/>
+		  <stop offset="30%" style="stop-color:red"/>
+		  <stop offset="100%" style="stop-color:black"/>
+		 </linearGradient>
+		</defs>
+		
+		<g id="background" visibility="visible">
+			<image x="0" y="0" width="[(#CALLAGE|worldfileWidth)]px" height="[(#CALLAGE|worldfileHeight)]px" xlink:href="#URL_SITE_SPIP/spip_carto.php?fond_carte=[(#URL_CARTE)][&amp;scale=(#ENV{scale})][&amp;x=(#ENV{x})][&amp;y=(#ENV{y})]"/>
+		</g>
+		 
+		 
+		<g id="mainlayer">
+		 	<BOUCLE_objets(CARTO_OBJETS){id_carto_carte=#ID_CARTO_CARTE}>
+		  		<a xlink:href="#URL_OBJET" alt="#TITRE"><[(#GEOMETRIE|wkt2shape{SVG})] [(#GEOMETRIE|wkt2coords{SVG})] style="fill:url(#MyGradient);opacity:.7;"/></a>
+				<!--<a xlink:href="#URL_OBJET" alt="#TITRE"><[(#GEOMETRIE|wkt2shape{SVG})] [(#GEOMETRIE|wkt2coords{SVG})] style="fill:none;stroke:black;opacity:.7;"/></a>-->
+		 	</BOUCLE_objets>
+		</g>
+	</svg>
+</BOUCLE_carte>
\ No newline at end of file



From fxp at berlios.de  Sat Feb 26 11:45:23 2005
From: fxp at berlios.de (fxp at berlios.de)
Date: Sat, 26 Feb 2005 11:45:23 +0100
Subject: [Spip-carto-cvs] spipcarto mes_fonctions.php3,1.5,1.6
Message-ID: <200502261045.j1QAjNNx002338@sheep.berlios.de>

Update of /cvsroot/spip-carto/spipcarto
In directory sheep:/tmp/cvs-serv2332

Modified Files:
	mes_fonctions.php3 
Log Message:
Inclusion des fonctions pour support SVG

Index: mes_fonctions.php3
===================================================================
RCS file: /cvsroot/spip-carto/spipcarto/mes_fonctions.php3,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- mes_fonctions.php3	25 Feb 2005 23:46:18 -0000	1.5
+++ mes_fonctions.php3	26 Feb 2005 10:45:20 -0000	1.6
@@ -4,30 +4,31 @@
 //FILTRES
 //////////////////////////////////////////////////
 //////////////////////////////////////////////////
-function worldfile2width($callage){	
+
+
+ function worldfileWidth($callage){	
 	$tabcallage=worldfile2array($callage);
 	return intval($tabcallage['bottom_right']['x']-$tabcallage['top_left']['x']);
 }
-function worldfile2height($callage){	
+function worldfileHeight($callage){	
 	$tabcallage=worldfile2array($callage);
 	return intval($tabcallage['bottom_right']['y']-$tabcallage['top_left']['y']);
 }
-
-function wkt2svgform($geometrie){
-	$wktGeomType = substr($geometrie,0,strpos($geometrie,"("));
-
-	if (strcasecmp($wktGeomType ,"POLYGON")==0)
-		return "polygon"; 
-	if (strcasecmp($$wktGeomType ,"POINT")==0)
-		return "circle"; 
-	if (strcasecmp($wktGeomType ,"LINE")==0)
-		return "polyline"; 
-				
+function worldfileULX($callage){
+	$tabcallage=worldfile2array($callage);
+	return $tabcallage['top_left']['x'];
 }
-function wkt2svgcoords($geometrie){
-	
-	return substr($geometrie,strpos($geometrie,"(")+1,-1);
+function worldfileULY($callage){
+	$tabcallage=worldfile2array($callage);
+	return $tabcallage['top_left']['y']*-1;
 }
+function getPropMapHeight($callage, $width){
+	$tabcallage=worldfile2array($callage);
+	// Calcul d'une hauteur relative ? un callage (proportion)
+	return $width*($tabcallage['bottom_right']['y']-$tabcallage['top_left']['y'])/($tabcallage['bottom_right']['x']-$tabcallage['top_left']['x']);
+}
+
+
 /* +---------------------------------------------+
  *    Nom    du    Filtre : WKT to STYLE
  * +---------------------------------------------+    
@@ -48,7 +49,6 @@
 function wkt2style($geometrie){
 	$wktGeomType = substr($geometrie,0,strpos($geometrie,"("));
 	
-	
 	if (strcasecmp($wktGeomType,"POLYGON")==0)
 	{	$coordpair = explode(',',substr($geometrie,strpos($geometrie,"(")+1,-1));
 		$coord = explode (' ', $coordpair[0]);	// TODO : Le centre de gravit? du polygone serait pr?f?rable
@@ -81,7 +81,7 @@
  */
 function wkt2coords($geometrie, $format = "HTML"){
 	$wktGeomType = substr($geometrie,0,strpos($geometrie,"("));
-	$radius		 = 5;
+	$radius		 = 5;	// TODO : Param?tre (ou fonction du callage ?) pr?f?rable car fonction des projections 5 peut ?tre bcp trop petit
 	switch ($format){
 		case "HTML":
 			if (strcasecmp($wktGeomType,"POLYGON")==0)
@@ -91,6 +91,22 @@
 		break;
 		case "SVG":
 			// Pour obtenir des objets SVG ...
+			// Faut-il inverser les y ? Voir fonction des notions de projections
+			
+			if (strcasecmp($wktGeomType,"POLYGON")==0)
+			{  	$coord = str_replace(' ','|',substr($geometrie,strpos($geometrie,"(")+1,-1));	// Inversion des y pour coordonn?es r?elles
+				$coord = str_replace(',',' ',$coord);	// Inversion des y pour coordonn?es r?elles
+				return "points=\"".str_replace('|',',',$coord)."\"";
+		
+			}elseif (strcasecmp($wktGeomType,"LINE")==0)
+			{  	$coord = str_replace(' ','|',substr($geometrie,strpos($geometrie,"(")+1,-1));	// Inversion des y pour coordonn?es r?elles
+				$coord = str_replace(',',' ',$coord);	// Inversion des y pour coordonn?es r?elles
+				return "points=\"".str_replace('|',',',$coord)."\"";
+			
+			}elseif (strcasecmp($wktGeomType,"POINT")==0)
+			{	$coordTab = explode (" ", substr($geometrie,strpos($geometrie,"(")+1,-1));
+				return "cx=\"".$coordTab[0]."\" cy=\"".$coordTab[1]."\" r=\"".$radius."\"";
+			}
 		break;
 	}
 }



